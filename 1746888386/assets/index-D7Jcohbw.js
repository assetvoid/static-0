const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pixi-legacy-_fx4_RaV.js","assets/index-B0I6uHAu.js","assets/index-BpkY95s5.js","assets/__vite-browser-external-DTHgcB49.js","assets/index-Ctga1AvS.js","assets/index-BKNjMPK8.js"])))=>i.map(i=>d[i]);
import{o as He,m as Na,a as mt,f as S2,r as Hu}from"./index-CsSXPTiX.js";import{r as q,c as pa,g as Ko,R as Vt,b as qp,d as Td,a as E2,e as A2}from"./index-BpkY95s5.js";function ZI(t,e){return q.useState(function(){return He(t(),e,{autoBind:!0})})[0]}const T2="modulepreload",C2=function(t){return"https://cdn.jsdelivr.net/gh/assetvoid/static-0/1746888386/"+t},Jp={},ym=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(n.map(h=>{if(h=C2(h),h in Jp)return;Jp[h]=!0;const p=h.endsWith(".css"),b=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${b}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":T2,p||(x.as="script"),x.crossOrigin="",x.href=h,l&&x.setAttribute("nonce",l),document.head.appendChild(x),p)return new Promise((E,T)=>{x.addEventListener("load",E),x.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function u(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return o.then(c=>{for(const l of c||[])l.status==="rejected"&&u(l.reason);return e().catch(u)})};var dc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */dc.exports;(function(t,e){(function(){var n,r="4.17.21",o=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",l="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",p=500,b="__lodash_placeholder__",x=1,E=2,T=4,C=1,P=2,F=1,B=2,z=4,U=8,ee=16,ne=32,re=64,le=128,Ae=256,J=512,pe=30,se="...",Ie=800,Fe=16,Ce=1,Ye=2,ae=3,ie=1/0,he=9007199254740991,_e=17976931348623157e292,ke=NaN,Ee=4294967295,Re=Ee-1,ot=Ee>>>1,it=[["ary",le],["bind",F],["bindKey",B],["curry",U],["curryRight",ee],["flip",J],["partial",ne],["partialRight",re],["rearg",Ae]],Ke="[object Arguments]",yt="[object Array]",Nt="[object AsyncFunction]",In="[object Boolean]",on="[object Date]",hn="[object DOMException]",Gn="[object Error]",Ut="[object Function]",wn="[object GeneratorFunction]",Wt="[object Map]",En="[object Number]",Zt="[object Null]",jt="[object Object]",Un="[object Promise]",yr="[object Proxy]",pn="[object RegExp]",st="[object Set]",Ct="[object String]",en="[object Symbol]",xt="[object Undefined]",Dt="[object WeakMap]",vt="[object WeakSet]",xi="[object ArrayBuffer]",bn="[object DataView]",Si="[object Float32Array]",Ei="[object Float64Array]",qi="[object Int8Array]",Ji="[object Int16Array]",Zi="[object Int32Array]",eo="[object Uint8Array]",Hr="[object Uint8ClampedArray]",Ai="[object Uint16Array]",zr="[object Uint32Array]",Ti=/\b__p \+= '';/g,Ns=/\b(__p \+=) '' \+/g,to=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ii=/&(?:amp|lt|gt|quot|#39);/g,vr=/[&<>"']/g,Jo=RegExp(ii.source),no=RegExp(vr.source),oi=/<%-([\s\S]+?)%>/g,si=/<%([\s\S]+?)%>/g,ro=/<%=([\s\S]+?)%>/g,Ci=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ai=/^\w*$/,ui=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,io=/[\\^$.*+?()[\]{}|]/g,sr=RegExp(io.source),Yt=/^\s+/,Zo=/\s/,gn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Kt=/\{\n\/\* \[wrapped with (.+)\] \*/,tn=/,? & /,An=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kn=/[()=,{}\[\]\/\s]/,jr=/\\(\\)?/g,es=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tn=/\w*$/,_i=/^[-+]0x[0-9a-f]+$/i,Rn=/^0b[01]+$/i,Wn=/^\[object .+?Constructor\]$/,$s=/^0o[0-7]+$/i,Li=/^(?:0|[1-9]\d*)$/,Qn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ts=/($^)/,al=/['\n\r\u2028\u2029\\]/g,On="\\ud800-\\udfff",ar="\\u0300-\\u036f",Ka="\\ufe20-\\ufe2f",ul="\\u20d0-\\u20ff",Qa=ar+Ka+ul,qa="\\u2700-\\u27bf",Ja="a-z\\xdf-\\xf6\\xf8-\\xff",cl="\\xac\\xb1\\xd7\\xf7",ll="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",fl="\\u2000-\\u206f",ns=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",To="A-Z\\xc0-\\xd6\\xd8-\\xde",Bs="\\ufe0e\\ufe0f",Za=cl+ll+fl+ns,Ds="['’]",eu="["+On+"]",tu="["+Za+"]",Co="["+Qa+"]",nu="\\d+",dl="["+qa+"]",ru="["+Ja+"]",Gs="[^"+On+Za+nu+qa+Ja+To+"]",oo="\\ud83c[\\udffb-\\udfff]",wr="(?:"+Co+"|"+oo+")",_o="[^"+On+"]",Pi="(?:\\ud83c[\\udde6-\\uddff]){2}",Hn="[\\ud800-\\udbff][\\udc00-\\udfff]",Cn="["+To+"]",Lo="\\u200d",br="(?:"+ru+"|"+Gs+")",Mi="(?:"+Cn+"|"+Gs+")",ci="(?:"+Ds+"(?:d|ll|m|re|s|t|ve))?",Us="(?:"+Ds+"(?:D|LL|M|RE|S|T|VE))?",Ws=wr+"?",Hs="["+Bs+"]?",$t="(?:"+Lo+"(?:"+[_o,Pi,Hn].join("|")+")"+Hs+Ws+")*",so="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",iu=Hs+Ws+$t,ou="(?:"+[dl,Pi,Hn].join("|")+")"+iu,pl="(?:"+[_o+Co+"?",Co,Pi,Hn,eu].join("|")+")",ut=RegExp(Ds,"g"),rs=RegExp(Co,"g"),Po=RegExp(oo+"(?="+oo+")|"+pl+iu,"g"),su=RegExp([Cn+"?"+ru+"+"+ci+"(?="+[tu,Cn,"$"].join("|")+")",Mi+"+"+Us+"(?="+[tu,Cn+br,"$"].join("|")+")",Cn+"?"+br+"+"+ci,Cn+"+"+Us,hl,so,nu,ou].join("|"),"g"),zs=RegExp("["+Lo+On+Qa+Bs+"]"),gl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,au=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],uu=-1,Pt={};Pt[Si]=Pt[Ei]=Pt[qi]=Pt[Ji]=Pt[Zi]=Pt[eo]=Pt[Hr]=Pt[Ai]=Pt[zr]=!0,Pt[Ke]=Pt[yt]=Pt[xi]=Pt[In]=Pt[bn]=Pt[on]=Pt[Gn]=Pt[Ut]=Pt[Wt]=Pt[En]=Pt[jt]=Pt[pn]=Pt[st]=Pt[Ct]=Pt[Dt]=!1;var Rt={};Rt[Ke]=Rt[yt]=Rt[xi]=Rt[bn]=Rt[In]=Rt[on]=Rt[Si]=Rt[Ei]=Rt[qi]=Rt[Ji]=Rt[Zi]=Rt[Wt]=Rt[En]=Rt[jt]=Rt[pn]=Rt[st]=Rt[Ct]=Rt[en]=Rt[eo]=Rt[Hr]=Rt[Ai]=Rt[zr]=!0,Rt[Gn]=Rt[Ut]=Rt[Dt]=!1;var ao={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},cu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Mo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fu=parseFloat,is=parseInt,os=typeof pa=="object"&&pa&&pa.Object===Object&&pa,At=typeof self=="object"&&self&&self.Object===Object&&self,Ht=os||At||Function("return this")(),Ii=e&&!e.nodeType&&e,Cr=Ii&&!0&&t&&!t.nodeType&&t,js=Cr&&Cr.exports===Ii,ss=js&&os.process,ur=function(){try{var K=Cr&&Cr.require&&Cr.require("util").types;return K||ss&&ss.binding&&ss.binding("util")}catch{}}(),du=ur&&ur.isArrayBuffer,Xs=ur&&ur.isDate,Io=ur&&ur.isMap,Y=ur&&ur.isRegExp,zn=ur&&ur.isSet,hu=ur&&ur.isTypedArray;function qn(K,fe,oe){switch(oe.length){case 0:return K.call(fe);case 1:return K.call(fe,oe[0]);case 2:return K.call(fe,oe[0],oe[1]);case 3:return K.call(fe,oe[0],oe[1],oe[2])}return K.apply(fe,oe)}function ml(K,fe,oe,$e){for(var nt=-1,Et=K==null?0:K.length;++nt<Et;){var nn=K[nt];fe($e,nn,oe(nn),K)}return $e}function Fn(K,fe){for(var oe=-1,$e=K==null?0:K.length;++oe<$e&&fe(K[oe],oe,K)!==!1;);return K}function Xr(K,fe){for(var oe=K==null?0:K.length;oe--&&fe(K[oe],oe,K)!==!1;);return K}function Vs(K,fe){for(var oe=-1,$e=K==null?0:K.length;++oe<$e;)if(!fe(K[oe],oe,K))return!1;return!0}function Xt(K,fe){for(var oe=-1,$e=K==null?0:K.length,nt=0,Et=[];++oe<$e;){var nn=K[oe];fe(nn,oe,K)&&(Et[nt++]=nn)}return Et}function sn(K,fe){var oe=K==null?0:K.length;return!!oe&&uo(K,fe,0)>-1}function mn(K,fe,oe){for(var $e=-1,nt=K==null?0:K.length;++$e<nt;)if(oe(fe,K[$e]))return!0;return!1}function zt(K,fe){for(var oe=-1,$e=K==null?0:K.length,nt=Array($e);++oe<$e;)nt[oe]=fe(K[oe],oe,K);return nt}function li(K,fe){for(var oe=-1,$e=fe.length,nt=K.length;++oe<$e;)K[nt+oe]=fe[oe];return K}function Ys(K,fe,oe,$e){var nt=-1,Et=K==null?0:K.length;for($e&&Et&&(oe=K[++nt]);++nt<Et;)oe=fe(oe,K[nt],nt,K);return oe}function yl(K,fe,oe,$e){var nt=K==null?0:K.length;for($e&&nt&&(oe=K[--nt]);nt--;)oe=fe(oe,K[nt],nt,K);return oe}function Ks(K,fe){for(var oe=-1,$e=K==null?0:K.length;++oe<$e;)if(fe(K[oe],oe,K))return!0;return!1}var vl=Qs("length");function wl(K){return K.split("")}function bl(K){return K.match(An)||[]}function pu(K,fe,oe){var $e;return oe(K,function(nt,Et,nn){if(fe(nt,Et,nn))return $e=Et,!1}),$e}function as(K,fe,oe,$e){for(var nt=K.length,Et=oe+($e?1:-1);$e?Et--:++Et<nt;)if(fe(K[Et],Et,K))return Et;return-1}function uo(K,fe,oe){return fe===fe?fo(K,fe,oe):as(K,gu,oe)}function xl(K,fe,oe,$e){for(var nt=oe-1,Et=K.length;++nt<Et;)if($e(K[nt],fe))return nt;return-1}function gu(K){return K!==K}function mu(K,fe){var oe=K==null?0:K.length;return oe?f(K,fe)/oe:ke}function Qs(K){return function(fe){return fe==null?n:fe[K]}}function co(K){return function(fe){return K==null?n:K[fe]}}function qs(K,fe,oe,$e,nt){return nt(K,function(Et,nn,Ot){oe=$e?($e=!1,Et):fe(oe,Et,nn,Ot)}),oe}function s(K,fe){var oe=K.length;for(K.sort(fe);oe--;)K[oe]=K[oe].value;return K}function f(K,fe){for(var oe,$e=-1,nt=K.length;++$e<nt;){var Et=fe(K[$e]);Et!==n&&(oe=oe===n?Et:oe+Et)}return oe}function m(K,fe){for(var oe=-1,$e=Array(K);++oe<K;)$e[oe]=fe(oe);return $e}function v(K,fe){return zt(fe,function(oe){return[oe,K[oe]]})}function A(K){return K&&K.slice(0,_n(K)+1).replace(Yt,"")}function k(K){return function(fe){return K(fe)}}function H(K,fe){return zt(fe,function(oe){return K[oe]})}function O(K,fe){return K.has(fe)}function N(K,fe){for(var oe=-1,$e=K.length;++oe<$e&&uo(fe,K[oe],0)>-1;);return oe}function j(K,fe){for(var oe=K.length;oe--&&uo(fe,K[oe],0)>-1;);return oe}function ge(K,fe){for(var oe=K.length,$e=0;oe--;)K[oe]===fe&&++$e;return $e}var be=co(ao),Ge=co(cu);function Z(K){return"\\"+Mo[K]}function We(K,fe){return K==null?n:K[fe]}function tt(K){return zs.test(K)}function rt(K){return gl.test(K)}function jn(K){for(var fe,oe=[];!(fe=K.next()).done;)oe.push(fe.value);return oe}function an(K){var fe=-1,oe=Array(K.size);return K.forEach(function($e,nt){oe[++fe]=[nt,$e]}),oe}function lo(K,fe){return function(oe){return K(fe(oe))}}function cr(K,fe){for(var oe=-1,$e=K.length,nt=0,Et=[];++oe<$e;){var nn=K[oe];(nn===fe||nn===b)&&(K[oe]=b,Et[nt++]=oe)}return Et}function lr(K){var fe=-1,oe=Array(K.size);return K.forEach(function($e){oe[++fe]=$e}),oe}function Js(K){var fe=-1,oe=Array(K.size);return K.forEach(function($e){oe[++fe]=[$e,$e]}),oe}function fo(K,fe,oe){for(var $e=oe-1,nt=K.length;++$e<nt;)if(K[$e]===fe)return $e;return-1}function Zs(K,fe,oe){for(var $e=oe+1;$e--;)if(K[$e]===fe)return $e;return $e}function Nn(K){return tt(K)?yu(K):vl(K)}function Jn(K){return tt(K)?Vr(K):wl(K)}function _n(K){for(var fe=K.length;fe--&&Zo.test(K.charAt(fe)););return fe}var Mt=co(lu);function yu(K){for(var fe=Po.lastIndex=0;Po.test(K);)++fe;return fe}function Vr(K){return K.match(Po)||[]}function ea(K){return K.match(su)||[]}var ho=function K(fe){fe=fe==null?Ht:ki.defaults(Ht.Object(),fe,ki.pick(Ht,au));var oe=fe.Array,$e=fe.Date,nt=fe.Error,Et=fe.Function,nn=fe.Math,Ot=fe.Object,lt=fe.RegExp,ko=fe.String,fr=fe.TypeError,y=oe.prototype,g=Et.prototype,S=Ot.prototype,M=fe["__core-js_shared__"],G=g.toString,X=S.hasOwnProperty,ue=0,Te=function(){var i=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),ze=S.toString,Xe=G.call(Ot),pt=Ht._,dt=lt("^"+G.call(X).replace(io,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=js?fe.Buffer:n,de=fe.Symbol,at=fe.Uint8Array,_t=D?D.allocUnsafe:n,Qt=lo(Ot.getPrototypeOf,Ot),Zn=Ot.create,er=S.propertyIsEnumerable,un=y.splice,we=de?de.isConcatSpreadable:n,_=de?de.iterator:n,$=de?de.toStringTag:n,te=function(){try{var i=$o(Ot,"defineProperty");return i({},"",{}),i}catch{}}(),ce=fe.clearTimeout!==Ht.clearTimeout&&fe.clearTimeout,ye=$e&&$e.now!==Ht.Date.now&&$e.now,Se=fe.setTimeout!==Ht.setTimeout&&fe.setTimeout,De=nn.ceil,Lt=nn.floor,It=Ot.getOwnPropertySymbols,_r=D?D.isBuffer:n,po=fe.isFinite,Tv=y.join,Cv=lo(Ot.keys,Ot),xn=nn.max,Xn=nn.min,_v=$e.now,Lv=fe.parseInt,ph=nn.random,Pv=y.reverse,Sl=$o(fe,"DataView"),ta=$o(fe,"Map"),El=$o(fe,"Promise"),us=$o(fe,"Set"),na=$o(fe,"WeakMap"),ra=$o(Ot,"create"),vu=na&&new na,cs={},Mv=Bo(Sl),Iv=Bo(ta),kv=Bo(El),Rv=Bo(us),Ov=Bo(na),wu=de?de.prototype:n,ia=wu?wu.valueOf:n,gh=wu?wu.toString:n;function I(i){if(rn(i)&&!ct(i)&&!(i instanceof bt)){if(i instanceof Lr)return i;if(X.call(i,"__wrapped__"))return mp(i)}return new Lr(i)}var ls=function(){function i(){}return function(a){if(!qt(a))return{};if(Zn)return Zn(a);i.prototype=a;var d=new i;return i.prototype=n,d}}();function bu(){}function Lr(i,a){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}I.templateSettings={escape:oi,evaluate:si,interpolate:ro,variable:"",imports:{_:I}},I.prototype=bu.prototype,I.prototype.constructor=I,Lr.prototype=ls(bu.prototype),Lr.prototype.constructor=Lr;function bt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ee,this.__views__=[]}function Fv(){var i=new bt(this.__wrapped__);return i.__actions__=dr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=dr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=dr(this.__views__),i}function Nv(){if(this.__filtered__){var i=new bt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function $v(){var i=this.__wrapped__.value(),a=this.__dir__,d=ct(i),w=a<0,L=d?i.length:0,R=K1(0,L,this.__views__),W=R.start,V=R.end,Q=V-W,me=w?V:W-1,ve=this.__iteratees__,xe=ve.length,Oe=0,Ve=Xn(Q,this.__takeCount__);if(!d||!w&&L==Q&&Ve==Q)return Dh(i,this.__actions__);var Je=[];e:for(;Q--&&Oe<Ve;){me+=a;for(var ht=-1,Ze=i[me];++ht<xe;){var wt=ve[ht],St=wt.iteratee,Er=wt.type,rr=St(Ze);if(Er==Ye)Ze=rr;else if(!rr){if(Er==Ce)continue e;break e}}Je[Oe++]=Ze}return Je}bt.prototype=ls(bu.prototype),bt.prototype.constructor=bt;function Ro(i){var a=-1,d=i==null?0:i.length;for(this.clear();++a<d;){var w=i[a];this.set(w[0],w[1])}}function Bv(){this.__data__=ra?ra(null):{},this.size=0}function Dv(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a}function Gv(i){var a=this.__data__;if(ra){var d=a[i];return d===h?n:d}return X.call(a,i)?a[i]:n}function Uv(i){var a=this.__data__;return ra?a[i]!==n:X.call(a,i)}function Wv(i,a){var d=this.__data__;return this.size+=this.has(i)?0:1,d[i]=ra&&a===n?h:a,this}Ro.prototype.clear=Bv,Ro.prototype.delete=Dv,Ro.prototype.get=Gv,Ro.prototype.has=Uv,Ro.prototype.set=Wv;function Ri(i){var a=-1,d=i==null?0:i.length;for(this.clear();++a<d;){var w=i[a];this.set(w[0],w[1])}}function Hv(){this.__data__=[],this.size=0}function zv(i){var a=this.__data__,d=xu(a,i);if(d<0)return!1;var w=a.length-1;return d==w?a.pop():un.call(a,d,1),--this.size,!0}function jv(i){var a=this.__data__,d=xu(a,i);return d<0?n:a[d][1]}function Xv(i){return xu(this.__data__,i)>-1}function Vv(i,a){var d=this.__data__,w=xu(d,i);return w<0?(++this.size,d.push([i,a])):d[w][1]=a,this}Ri.prototype.clear=Hv,Ri.prototype.delete=zv,Ri.prototype.get=jv,Ri.prototype.has=Xv,Ri.prototype.set=Vv;function Oi(i){var a=-1,d=i==null?0:i.length;for(this.clear();++a<d;){var w=i[a];this.set(w[0],w[1])}}function Yv(){this.size=0,this.__data__={hash:new Ro,map:new(ta||Ri),string:new Ro}}function Kv(i){var a=Ru(this,i).delete(i);return this.size-=a?1:0,a}function Qv(i){return Ru(this,i).get(i)}function qv(i){return Ru(this,i).has(i)}function Jv(i,a){var d=Ru(this,i),w=d.size;return d.set(i,a),this.size+=d.size==w?0:1,this}Oi.prototype.clear=Yv,Oi.prototype.delete=Kv,Oi.prototype.get=Qv,Oi.prototype.has=qv,Oi.prototype.set=Jv;function Oo(i){var a=-1,d=i==null?0:i.length;for(this.__data__=new Oi;++a<d;)this.add(i[a])}function Zv(i){return this.__data__.set(i,h),this}function e1(i){return this.__data__.has(i)}Oo.prototype.add=Oo.prototype.push=Zv,Oo.prototype.has=e1;function Yr(i){var a=this.__data__=new Ri(i);this.size=a.size}function t1(){this.__data__=new Ri,this.size=0}function n1(i){var a=this.__data__,d=a.delete(i);return this.size=a.size,d}function r1(i){return this.__data__.get(i)}function i1(i){return this.__data__.has(i)}function o1(i,a){var d=this.__data__;if(d instanceof Ri){var w=d.__data__;if(!ta||w.length<o-1)return w.push([i,a]),this.size=++d.size,this;d=this.__data__=new Oi(w)}return d.set(i,a),this.size=d.size,this}Yr.prototype.clear=t1,Yr.prototype.delete=n1,Yr.prototype.get=r1,Yr.prototype.has=i1,Yr.prototype.set=o1;function mh(i,a){var d=ct(i),w=!d&&Do(i),L=!d&&!w&&wo(i),R=!d&&!w&&!L&&gs(i),W=d||w||L||R,V=W?m(i.length,ko):[],Q=V.length;for(var me in i)(a||X.call(i,me))&&!(W&&(me=="length"||L&&(me=="offset"||me=="parent")||R&&(me=="buffer"||me=="byteLength"||me=="byteOffset")||Bi(me,Q)))&&V.push(me);return V}function yh(i){var a=i.length;return a?i[Ol(0,a-1)]:n}function s1(i,a){return Ou(dr(i),Fo(a,0,i.length))}function a1(i){return Ou(dr(i))}function Al(i,a,d){(d!==n&&!Kr(i[a],d)||d===n&&!(a in i))&&Fi(i,a,d)}function oa(i,a,d){var w=i[a];(!(X.call(i,a)&&Kr(w,d))||d===n&&!(a in i))&&Fi(i,a,d)}function xu(i,a){for(var d=i.length;d--;)if(Kr(i[d][0],a))return d;return-1}function u1(i,a,d,w){return go(i,function(L,R,W){a(w,L,d(L),W)}),w}function vh(i,a){return i&&di(a,Ln(a),i)}function c1(i,a){return i&&di(a,pr(a),i)}function Fi(i,a,d){a=="__proto__"&&te?te(i,a,{configurable:!0,enumerable:!0,value:d,writable:!0}):i[a]=d}function Tl(i,a){for(var d=-1,w=a.length,L=oe(w),R=i==null;++d<w;)L[d]=R?n:sf(i,a[d]);return L}function Fo(i,a,d){return i===i&&(d!==n&&(i=i<=d?i:d),a!==n&&(i=i>=a?i:a)),i}function Pr(i,a,d,w,L,R){var W,V=a&x,Q=a&E,me=a&T;if(d&&(W=L?d(i,w,L,R):d(i)),W!==n)return W;if(!qt(i))return i;var ve=ct(i);if(ve){if(W=q1(i),!V)return dr(i,W)}else{var xe=Vn(i),Oe=xe==Ut||xe==wn;if(wo(i))return Wh(i,V);if(xe==jt||xe==Ke||Oe&&!L){if(W=Q||Oe?{}:ap(i),!V)return Q?G1(i,c1(W,i)):D1(i,vh(W,i))}else{if(!Rt[xe])return L?i:{};W=J1(i,xe,V)}}R||(R=new Yr);var Ve=R.get(i);if(Ve)return Ve;R.set(i,W),Np(i)?i.forEach(function(Ze){W.add(Pr(Ze,a,d,Ze,i,R))}):Op(i)&&i.forEach(function(Ze,wt){W.set(wt,Pr(Ze,a,d,wt,i,R))});var Je=me?Q?jl:zl:Q?pr:Ln,ht=ve?n:Je(i);return Fn(ht||i,function(Ze,wt){ht&&(wt=Ze,Ze=i[wt]),oa(W,wt,Pr(Ze,a,d,wt,i,R))}),W}function l1(i){var a=Ln(i);return function(d){return wh(d,i,a)}}function wh(i,a,d){var w=d.length;if(i==null)return!w;for(i=Ot(i);w--;){var L=d[w],R=a[L],W=i[L];if(W===n&&!(L in i)||!R(W))return!1}return!0}function bh(i,a,d){if(typeof i!="function")throw new fr(c);return da(function(){i.apply(n,d)},a)}function sa(i,a,d,w){var L=-1,R=sn,W=!0,V=i.length,Q=[],me=a.length;if(!V)return Q;d&&(a=zt(a,k(d))),w?(R=mn,W=!1):a.length>=o&&(R=O,W=!1,a=new Oo(a));e:for(;++L<V;){var ve=i[L],xe=d==null?ve:d(ve);if(ve=w||ve!==0?ve:0,W&&xe===xe){for(var Oe=me;Oe--;)if(a[Oe]===xe)continue e;Q.push(ve)}else R(a,xe,w)||Q.push(ve)}return Q}var go=Vh(fi),xh=Vh(_l,!0);function f1(i,a){var d=!0;return go(i,function(w,L,R){return d=!!a(w,L,R),d}),d}function Su(i,a,d){for(var w=-1,L=i.length;++w<L;){var R=i[w],W=a(R);if(W!=null&&(V===n?W===W&&!Sr(W):d(W,V)))var V=W,Q=R}return Q}function d1(i,a,d,w){var L=i.length;for(d=ft(d),d<0&&(d=-d>L?0:L+d),w=w===n||w>L?L:ft(w),w<0&&(w+=L),w=d>w?0:Bp(w);d<w;)i[d++]=a;return i}function Sh(i,a){var d=[];return go(i,function(w,L,R){a(w,L,R)&&d.push(w)}),d}function $n(i,a,d,w,L){var R=-1,W=i.length;for(d||(d=ew),L||(L=[]);++R<W;){var V=i[R];a>0&&d(V)?a>1?$n(V,a-1,d,w,L):li(L,V):w||(L[L.length]=V)}return L}var Cl=Yh(),Eh=Yh(!0);function fi(i,a){return i&&Cl(i,a,Ln)}function _l(i,a){return i&&Eh(i,a,Ln)}function Eu(i,a){return Xt(a,function(d){return Di(i[d])})}function No(i,a){a=yo(a,i);for(var d=0,w=a.length;i!=null&&d<w;)i=i[hi(a[d++])];return d&&d==w?i:n}function Ah(i,a,d){var w=a(i);return ct(i)?w:li(w,d(i))}function tr(i){return i==null?i===n?xt:Zt:$&&$ in Ot(i)?Y1(i):aw(i)}function Ll(i,a){return i>a}function h1(i,a){return i!=null&&X.call(i,a)}function p1(i,a){return i!=null&&a in Ot(i)}function g1(i,a,d){return i>=Xn(a,d)&&i<xn(a,d)}function Pl(i,a,d){for(var w=d?mn:sn,L=i[0].length,R=i.length,W=R,V=oe(R),Q=1/0,me=[];W--;){var ve=i[W];W&&a&&(ve=zt(ve,k(a))),Q=Xn(ve.length,Q),V[W]=!d&&(a||L>=120&&ve.length>=120)?new Oo(W&&ve):n}ve=i[0];var xe=-1,Oe=V[0];e:for(;++xe<L&&me.length<Q;){var Ve=ve[xe],Je=a?a(Ve):Ve;if(Ve=d||Ve!==0?Ve:0,!(Oe?O(Oe,Je):w(me,Je,d))){for(W=R;--W;){var ht=V[W];if(!(ht?O(ht,Je):w(i[W],Je,d)))continue e}Oe&&Oe.push(Je),me.push(Ve)}}return me}function m1(i,a,d,w){return fi(i,function(L,R,W){a(w,d(L),R,W)}),w}function aa(i,a,d){a=yo(a,i),i=fp(i,a);var w=i==null?i:i[hi(Ir(a))];return w==null?n:qn(w,i,d)}function Th(i){return rn(i)&&tr(i)==Ke}function y1(i){return rn(i)&&tr(i)==xi}function v1(i){return rn(i)&&tr(i)==on}function ua(i,a,d,w,L){return i===a?!0:i==null||a==null||!rn(i)&&!rn(a)?i!==i&&a!==a:w1(i,a,d,w,ua,L)}function w1(i,a,d,w,L,R){var W=ct(i),V=ct(a),Q=W?yt:Vn(i),me=V?yt:Vn(a);Q=Q==Ke?jt:Q,me=me==Ke?jt:me;var ve=Q==jt,xe=me==jt,Oe=Q==me;if(Oe&&wo(i)){if(!wo(a))return!1;W=!0,ve=!1}if(Oe&&!ve)return R||(R=new Yr),W||gs(i)?ip(i,a,d,w,L,R):X1(i,a,Q,d,w,L,R);if(!(d&C)){var Ve=ve&&X.call(i,"__wrapped__"),Je=xe&&X.call(a,"__wrapped__");if(Ve||Je){var ht=Ve?i.value():i,Ze=Je?a.value():a;return R||(R=new Yr),L(ht,Ze,d,w,R)}}return Oe?(R||(R=new Yr),V1(i,a,d,w,L,R)):!1}function b1(i){return rn(i)&&Vn(i)==Wt}function Ml(i,a,d,w){var L=d.length,R=L,W=!w;if(i==null)return!R;for(i=Ot(i);L--;){var V=d[L];if(W&&V[2]?V[1]!==i[V[0]]:!(V[0]in i))return!1}for(;++L<R;){V=d[L];var Q=V[0],me=i[Q],ve=V[1];if(W&&V[2]){if(me===n&&!(Q in i))return!1}else{var xe=new Yr;if(w)var Oe=w(me,ve,Q,i,a,xe);if(!(Oe===n?ua(ve,me,C|P,w,xe):Oe))return!1}}return!0}function Ch(i){if(!qt(i)||nw(i))return!1;var a=Di(i)?dt:Wn;return a.test(Bo(i))}function x1(i){return rn(i)&&tr(i)==pn}function S1(i){return rn(i)&&Vn(i)==st}function E1(i){return rn(i)&&Gu(i.length)&&!!Pt[tr(i)]}function _h(i){return typeof i=="function"?i:i==null?gr:typeof i=="object"?ct(i)?Mh(i[0],i[1]):Ph(i):Kp(i)}function Il(i){if(!fa(i))return Cv(i);var a=[];for(var d in Ot(i))X.call(i,d)&&d!="constructor"&&a.push(d);return a}function A1(i){if(!qt(i))return sw(i);var a=fa(i),d=[];for(var w in i)w=="constructor"&&(a||!X.call(i,w))||d.push(w);return d}function kl(i,a){return i<a}function Lh(i,a){var d=-1,w=hr(i)?oe(i.length):[];return go(i,function(L,R,W){w[++d]=a(L,R,W)}),w}function Ph(i){var a=Vl(i);return a.length==1&&a[0][2]?cp(a[0][0],a[0][1]):function(d){return d===i||Ml(d,i,a)}}function Mh(i,a){return Kl(i)&&up(a)?cp(hi(i),a):function(d){var w=sf(d,i);return w===n&&w===a?af(d,i):ua(a,w,C|P)}}function Au(i,a,d,w,L){i!==a&&Cl(a,function(R,W){if(L||(L=new Yr),qt(R))T1(i,a,W,d,Au,w,L);else{var V=w?w(ql(i,W),R,W+"",i,a,L):n;V===n&&(V=R),Al(i,W,V)}},pr)}function T1(i,a,d,w,L,R,W){var V=ql(i,d),Q=ql(a,d),me=W.get(Q);if(me){Al(i,d,me);return}var ve=R?R(V,Q,d+"",i,a,W):n,xe=ve===n;if(xe){var Oe=ct(Q),Ve=!Oe&&wo(Q),Je=!Oe&&!Ve&&gs(Q);ve=Q,Oe||Ve||Je?ct(V)?ve=V:cn(V)?ve=dr(V):Ve?(xe=!1,ve=Wh(Q,!0)):Je?(xe=!1,ve=Hh(Q,!0)):ve=[]:ha(Q)||Do(Q)?(ve=V,Do(V)?ve=Dp(V):(!qt(V)||Di(V))&&(ve=ap(Q))):xe=!1}xe&&(W.set(Q,ve),L(ve,Q,w,R,W),W.delete(Q)),Al(i,d,ve)}function Ih(i,a){var d=i.length;if(d)return a+=a<0?d:0,Bi(a,d)?i[a]:n}function kh(i,a,d){a.length?a=zt(a,function(R){return ct(R)?function(W){return No(W,R.length===1?R[0]:R)}:R}):a=[gr];var w=-1;a=zt(a,k(Qe()));var L=Lh(i,function(R,W,V){var Q=zt(a,function(me){return me(R)});return{criteria:Q,index:++w,value:R}});return s(L,function(R,W){return B1(R,W,d)})}function C1(i,a){return Rh(i,a,function(d,w){return af(i,w)})}function Rh(i,a,d){for(var w=-1,L=a.length,R={};++w<L;){var W=a[w],V=No(i,W);d(V,W)&&ca(R,yo(W,i),V)}return R}function _1(i){return function(a){return No(a,i)}}function Rl(i,a,d,w){var L=w?xl:uo,R=-1,W=a.length,V=i;for(i===a&&(a=dr(a)),d&&(V=zt(i,k(d)));++R<W;)for(var Q=0,me=a[R],ve=d?d(me):me;(Q=L(V,ve,Q,w))>-1;)V!==i&&un.call(V,Q,1),un.call(i,Q,1);return i}function Oh(i,a){for(var d=i?a.length:0,w=d-1;d--;){var L=a[d];if(d==w||L!==R){var R=L;Bi(L)?un.call(i,L,1):$l(i,L)}}return i}function Ol(i,a){return i+Lt(ph()*(a-i+1))}function L1(i,a,d,w){for(var L=-1,R=xn(De((a-i)/(d||1)),0),W=oe(R);R--;)W[w?R:++L]=i,i+=d;return W}function Fl(i,a){var d="";if(!i||a<1||a>he)return d;do a%2&&(d+=i),a=Lt(a/2),a&&(i+=i);while(a);return d}function gt(i,a){return Jl(lp(i,a,gr),i+"")}function P1(i){return yh(ms(i))}function M1(i,a){var d=ms(i);return Ou(d,Fo(a,0,d.length))}function ca(i,a,d,w){if(!qt(i))return i;a=yo(a,i);for(var L=-1,R=a.length,W=R-1,V=i;V!=null&&++L<R;){var Q=hi(a[L]),me=d;if(Q==="__proto__"||Q==="constructor"||Q==="prototype")return i;if(L!=W){var ve=V[Q];me=w?w(ve,Q,V):n,me===n&&(me=qt(ve)?ve:Bi(a[L+1])?[]:{})}oa(V,Q,me),V=V[Q]}return i}var Fh=vu?function(i,a){return vu.set(i,a),i}:gr,I1=te?function(i,a){return te(i,"toString",{configurable:!0,enumerable:!1,value:cf(a),writable:!0})}:gr;function k1(i){return Ou(ms(i))}function Mr(i,a,d){var w=-1,L=i.length;a<0&&(a=-a>L?0:L+a),d=d>L?L:d,d<0&&(d+=L),L=a>d?0:d-a>>>0,a>>>=0;for(var R=oe(L);++w<L;)R[w]=i[w+a];return R}function R1(i,a){var d;return go(i,function(w,L,R){return d=a(w,L,R),!d}),!!d}function Tu(i,a,d){var w=0,L=i==null?w:i.length;if(typeof a=="number"&&a===a&&L<=ot){for(;w<L;){var R=w+L>>>1,W=i[R];W!==null&&!Sr(W)&&(d?W<=a:W<a)?w=R+1:L=R}return L}return Nl(i,a,gr,d)}function Nl(i,a,d,w){var L=0,R=i==null?0:i.length;if(R===0)return 0;a=d(a);for(var W=a!==a,V=a===null,Q=Sr(a),me=a===n;L<R;){var ve=Lt((L+R)/2),xe=d(i[ve]),Oe=xe!==n,Ve=xe===null,Je=xe===xe,ht=Sr(xe);if(W)var Ze=w||Je;else me?Ze=Je&&(w||Oe):V?Ze=Je&&Oe&&(w||!Ve):Q?Ze=Je&&Oe&&!Ve&&(w||!ht):Ve||ht?Ze=!1:Ze=w?xe<=a:xe<a;Ze?L=ve+1:R=ve}return Xn(R,Re)}function Nh(i,a){for(var d=-1,w=i.length,L=0,R=[];++d<w;){var W=i[d],V=a?a(W):W;if(!d||!Kr(V,Q)){var Q=V;R[L++]=W===0?0:W}}return R}function $h(i){return typeof i=="number"?i:Sr(i)?ke:+i}function xr(i){if(typeof i=="string")return i;if(ct(i))return zt(i,xr)+"";if(Sr(i))return gh?gh.call(i):"";var a=i+"";return a=="0"&&1/i==-1/0?"-0":a}function mo(i,a,d){var w=-1,L=sn,R=i.length,W=!0,V=[],Q=V;if(d)W=!1,L=mn;else if(R>=o){var me=a?null:z1(i);if(me)return lr(me);W=!1,L=O,Q=new Oo}else Q=a?[]:V;e:for(;++w<R;){var ve=i[w],xe=a?a(ve):ve;if(ve=d||ve!==0?ve:0,W&&xe===xe){for(var Oe=Q.length;Oe--;)if(Q[Oe]===xe)continue e;a&&Q.push(xe),V.push(ve)}else L(Q,xe,d)||(Q!==V&&Q.push(xe),V.push(ve))}return V}function $l(i,a){return a=yo(a,i),i=fp(i,a),i==null||delete i[hi(Ir(a))]}function Bh(i,a,d,w){return ca(i,a,d(No(i,a)),w)}function Cu(i,a,d,w){for(var L=i.length,R=w?L:-1;(w?R--:++R<L)&&a(i[R],R,i););return d?Mr(i,w?0:R,w?R+1:L):Mr(i,w?R+1:0,w?L:R)}function Dh(i,a){var d=i;return d instanceof bt&&(d=d.value()),Ys(a,function(w,L){return L.func.apply(L.thisArg,li([w],L.args))},d)}function Bl(i,a,d){var w=i.length;if(w<2)return w?mo(i[0]):[];for(var L=-1,R=oe(w);++L<w;)for(var W=i[L],V=-1;++V<w;)V!=L&&(R[L]=sa(R[L]||W,i[V],a,d));return mo($n(R,1),a,d)}function Gh(i,a,d){for(var w=-1,L=i.length,R=a.length,W={};++w<L;){var V=w<R?a[w]:n;d(W,i[w],V)}return W}function Dl(i){return cn(i)?i:[]}function Gl(i){return typeof i=="function"?i:gr}function yo(i,a){return ct(i)?i:Kl(i,a)?[i]:gp(kt(i))}var O1=gt;function vo(i,a,d){var w=i.length;return d=d===n?w:d,!a&&d>=w?i:Mr(i,a,d)}var Uh=ce||function(i){return Ht.clearTimeout(i)};function Wh(i,a){if(a)return i.slice();var d=i.length,w=_t?_t(d):new i.constructor(d);return i.copy(w),w}function Ul(i){var a=new i.constructor(i.byteLength);return new at(a).set(new at(i)),a}function F1(i,a){var d=a?Ul(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.byteLength)}function N1(i){var a=new i.constructor(i.source,Tn.exec(i));return a.lastIndex=i.lastIndex,a}function $1(i){return ia?Ot(ia.call(i)):{}}function Hh(i,a){var d=a?Ul(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.length)}function zh(i,a){if(i!==a){var d=i!==n,w=i===null,L=i===i,R=Sr(i),W=a!==n,V=a===null,Q=a===a,me=Sr(a);if(!V&&!me&&!R&&i>a||R&&W&&Q&&!V&&!me||w&&W&&Q||!d&&Q||!L)return 1;if(!w&&!R&&!me&&i<a||me&&d&&L&&!w&&!R||V&&d&&L||!W&&L||!Q)return-1}return 0}function B1(i,a,d){for(var w=-1,L=i.criteria,R=a.criteria,W=L.length,V=d.length;++w<W;){var Q=zh(L[w],R[w]);if(Q){if(w>=V)return Q;var me=d[w];return Q*(me=="desc"?-1:1)}}return i.index-a.index}function jh(i,a,d,w){for(var L=-1,R=i.length,W=d.length,V=-1,Q=a.length,me=xn(R-W,0),ve=oe(Q+me),xe=!w;++V<Q;)ve[V]=a[V];for(;++L<W;)(xe||L<R)&&(ve[d[L]]=i[L]);for(;me--;)ve[V++]=i[L++];return ve}function Xh(i,a,d,w){for(var L=-1,R=i.length,W=-1,V=d.length,Q=-1,me=a.length,ve=xn(R-V,0),xe=oe(ve+me),Oe=!w;++L<ve;)xe[L]=i[L];for(var Ve=L;++Q<me;)xe[Ve+Q]=a[Q];for(;++W<V;)(Oe||L<R)&&(xe[Ve+d[W]]=i[L++]);return xe}function dr(i,a){var d=-1,w=i.length;for(a||(a=oe(w));++d<w;)a[d]=i[d];return a}function di(i,a,d,w){var L=!d;d||(d={});for(var R=-1,W=a.length;++R<W;){var V=a[R],Q=w?w(d[V],i[V],V,d,i):n;Q===n&&(Q=i[V]),L?Fi(d,V,Q):oa(d,V,Q)}return d}function D1(i,a){return di(i,Yl(i),a)}function G1(i,a){return di(i,op(i),a)}function _u(i,a){return function(d,w){var L=ct(d)?ml:u1,R=a?a():{};return L(d,i,Qe(w,2),R)}}function ds(i){return gt(function(a,d){var w=-1,L=d.length,R=L>1?d[L-1]:n,W=L>2?d[2]:n;for(R=i.length>3&&typeof R=="function"?(L--,R):n,W&&nr(d[0],d[1],W)&&(R=L<3?n:R,L=1),a=Ot(a);++w<L;){var V=d[w];V&&i(a,V,w,R)}return a})}function Vh(i,a){return function(d,w){if(d==null)return d;if(!hr(d))return i(d,w);for(var L=d.length,R=a?L:-1,W=Ot(d);(a?R--:++R<L)&&w(W[R],R,W)!==!1;);return d}}function Yh(i){return function(a,d,w){for(var L=-1,R=Ot(a),W=w(a),V=W.length;V--;){var Q=W[i?V:++L];if(d(R[Q],Q,R)===!1)break}return a}}function U1(i,a,d){var w=a&F,L=la(i);function R(){var W=this&&this!==Ht&&this instanceof R?L:i;return W.apply(w?d:this,arguments)}return R}function Kh(i){return function(a){a=kt(a);var d=tt(a)?Jn(a):n,w=d?d[0]:a.charAt(0),L=d?vo(d,1).join(""):a.slice(1);return w[i]()+L}}function hs(i){return function(a){return Ys(Vp(Xp(a).replace(ut,"")),i,"")}}function la(i){return function(){var a=arguments;switch(a.length){case 0:return new i;case 1:return new i(a[0]);case 2:return new i(a[0],a[1]);case 3:return new i(a[0],a[1],a[2]);case 4:return new i(a[0],a[1],a[2],a[3]);case 5:return new i(a[0],a[1],a[2],a[3],a[4]);case 6:return new i(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new i(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var d=ls(i.prototype),w=i.apply(d,a);return qt(w)?w:d}}function W1(i,a,d){var w=la(i);function L(){for(var R=arguments.length,W=oe(R),V=R,Q=ps(L);V--;)W[V]=arguments[V];var me=R<3&&W[0]!==Q&&W[R-1]!==Q?[]:cr(W,Q);if(R-=me.length,R<d)return ep(i,a,Lu,L.placeholder,n,W,me,n,n,d-R);var ve=this&&this!==Ht&&this instanceof L?w:i;return qn(ve,this,W)}return L}function Qh(i){return function(a,d,w){var L=Ot(a);if(!hr(a)){var R=Qe(d,3);a=Ln(a),d=function(V){return R(L[V],V,L)}}var W=i(a,d,w);return W>-1?L[R?a[W]:W]:n}}function qh(i){return $i(function(a){var d=a.length,w=d,L=Lr.prototype.thru;for(i&&a.reverse();w--;){var R=a[w];if(typeof R!="function")throw new fr(c);if(L&&!W&&ku(R)=="wrapper")var W=new Lr([],!0)}for(w=W?w:d;++w<d;){R=a[w];var V=ku(R),Q=V=="wrapper"?Xl(R):n;Q&&Ql(Q[0])&&Q[1]==(le|U|ne|Ae)&&!Q[4].length&&Q[9]==1?W=W[ku(Q[0])].apply(W,Q[3]):W=R.length==1&&Ql(R)?W[V]():W.thru(R)}return function(){var me=arguments,ve=me[0];if(W&&me.length==1&&ct(ve))return W.plant(ve).value();for(var xe=0,Oe=d?a[xe].apply(this,me):ve;++xe<d;)Oe=a[xe].call(this,Oe);return Oe}})}function Lu(i,a,d,w,L,R,W,V,Q,me){var ve=a&le,xe=a&F,Oe=a&B,Ve=a&(U|ee),Je=a&J,ht=Oe?n:la(i);function Ze(){for(var wt=arguments.length,St=oe(wt),Er=wt;Er--;)St[Er]=arguments[Er];if(Ve)var rr=ps(Ze),Ar=ge(St,rr);if(w&&(St=jh(St,w,L,Ve)),R&&(St=Xh(St,R,W,Ve)),wt-=Ar,Ve&&wt<me){var ln=cr(St,rr);return ep(i,a,Lu,Ze.placeholder,d,St,ln,V,Q,me-wt)}var Qr=xe?d:this,Ui=Oe?Qr[i]:i;return wt=St.length,V?St=uw(St,V):Je&&wt>1&&St.reverse(),ve&&Q<wt&&(St.length=Q),this&&this!==Ht&&this instanceof Ze&&(Ui=ht||la(Ui)),Ui.apply(Qr,St)}return Ze}function Jh(i,a){return function(d,w){return m1(d,i,a(w),{})}}function Pu(i,a){return function(d,w){var L;if(d===n&&w===n)return a;if(d!==n&&(L=d),w!==n){if(L===n)return w;typeof d=="string"||typeof w=="string"?(d=xr(d),w=xr(w)):(d=$h(d),w=$h(w)),L=i(d,w)}return L}}function Wl(i){return $i(function(a){return a=zt(a,k(Qe())),gt(function(d){var w=this;return i(a,function(L){return qn(L,w,d)})})})}function Mu(i,a){a=a===n?" ":xr(a);var d=a.length;if(d<2)return d?Fl(a,i):a;var w=Fl(a,De(i/Nn(a)));return tt(a)?vo(Jn(w),0,i).join(""):w.slice(0,i)}function H1(i,a,d,w){var L=a&F,R=la(i);function W(){for(var V=-1,Q=arguments.length,me=-1,ve=w.length,xe=oe(ve+Q),Oe=this&&this!==Ht&&this instanceof W?R:i;++me<ve;)xe[me]=w[me];for(;Q--;)xe[me++]=arguments[++V];return qn(Oe,L?d:this,xe)}return W}function Zh(i){return function(a,d,w){return w&&typeof w!="number"&&nr(a,d,w)&&(d=w=n),a=Gi(a),d===n?(d=a,a=0):d=Gi(d),w=w===n?a<d?1:-1:Gi(w),L1(a,d,w,i)}}function Iu(i){return function(a,d){return typeof a=="string"&&typeof d=="string"||(a=kr(a),d=kr(d)),i(a,d)}}function ep(i,a,d,w,L,R,W,V,Q,me){var ve=a&U,xe=ve?W:n,Oe=ve?n:W,Ve=ve?R:n,Je=ve?n:R;a|=ve?ne:re,a&=~(ve?re:ne),a&z||(a&=-4);var ht=[i,a,L,Ve,xe,Je,Oe,V,Q,me],Ze=d.apply(n,ht);return Ql(i)&&dp(Ze,ht),Ze.placeholder=w,hp(Ze,i,a)}function Hl(i){var a=nn[i];return function(d,w){if(d=kr(d),w=w==null?0:Xn(ft(w),292),w&&po(d)){var L=(kt(d)+"e").split("e"),R=a(L[0]+"e"+(+L[1]+w));return L=(kt(R)+"e").split("e"),+(L[0]+"e"+(+L[1]-w))}return a(d)}}var z1=us&&1/lr(new us([,-0]))[1]==ie?function(i){return new us(i)}:df;function tp(i){return function(a){var d=Vn(a);return d==Wt?an(a):d==st?Js(a):v(a,i(a))}}function Ni(i,a,d,w,L,R,W,V){var Q=a&B;if(!Q&&typeof i!="function")throw new fr(c);var me=w?w.length:0;if(me||(a&=-97,w=L=n),W=W===n?W:xn(ft(W),0),V=V===n?V:ft(V),me-=L?L.length:0,a&re){var ve=w,xe=L;w=L=n}var Oe=Q?n:Xl(i),Ve=[i,a,d,w,L,ve,xe,R,W,V];if(Oe&&ow(Ve,Oe),i=Ve[0],a=Ve[1],d=Ve[2],w=Ve[3],L=Ve[4],V=Ve[9]=Ve[9]===n?Q?0:i.length:xn(Ve[9]-me,0),!V&&a&(U|ee)&&(a&=-25),!a||a==F)var Je=U1(i,a,d);else a==U||a==ee?Je=W1(i,a,V):(a==ne||a==(F|ne))&&!L.length?Je=H1(i,a,d,w):Je=Lu.apply(n,Ve);var ht=Oe?Fh:dp;return hp(ht(Je,Ve),i,a)}function np(i,a,d,w){return i===n||Kr(i,S[d])&&!X.call(w,d)?a:i}function rp(i,a,d,w,L,R){return qt(i)&&qt(a)&&(R.set(a,i),Au(i,a,n,rp,R),R.delete(a)),i}function j1(i){return ha(i)?n:i}function ip(i,a,d,w,L,R){var W=d&C,V=i.length,Q=a.length;if(V!=Q&&!(W&&Q>V))return!1;var me=R.get(i),ve=R.get(a);if(me&&ve)return me==a&&ve==i;var xe=-1,Oe=!0,Ve=d&P?new Oo:n;for(R.set(i,a),R.set(a,i);++xe<V;){var Je=i[xe],ht=a[xe];if(w)var Ze=W?w(ht,Je,xe,a,i,R):w(Je,ht,xe,i,a,R);if(Ze!==n){if(Ze)continue;Oe=!1;break}if(Ve){if(!Ks(a,function(wt,St){if(!O(Ve,St)&&(Je===wt||L(Je,wt,d,w,R)))return Ve.push(St)})){Oe=!1;break}}else if(!(Je===ht||L(Je,ht,d,w,R))){Oe=!1;break}}return R.delete(i),R.delete(a),Oe}function X1(i,a,d,w,L,R,W){switch(d){case bn:if(i.byteLength!=a.byteLength||i.byteOffset!=a.byteOffset)return!1;i=i.buffer,a=a.buffer;case xi:return!(i.byteLength!=a.byteLength||!R(new at(i),new at(a)));case In:case on:case En:return Kr(+i,+a);case Gn:return i.name==a.name&&i.message==a.message;case pn:case Ct:return i==a+"";case Wt:var V=an;case st:var Q=w&C;if(V||(V=lr),i.size!=a.size&&!Q)return!1;var me=W.get(i);if(me)return me==a;w|=P,W.set(i,a);var ve=ip(V(i),V(a),w,L,R,W);return W.delete(i),ve;case en:if(ia)return ia.call(i)==ia.call(a)}return!1}function V1(i,a,d,w,L,R){var W=d&C,V=zl(i),Q=V.length,me=zl(a),ve=me.length;if(Q!=ve&&!W)return!1;for(var xe=Q;xe--;){var Oe=V[xe];if(!(W?Oe in a:X.call(a,Oe)))return!1}var Ve=R.get(i),Je=R.get(a);if(Ve&&Je)return Ve==a&&Je==i;var ht=!0;R.set(i,a),R.set(a,i);for(var Ze=W;++xe<Q;){Oe=V[xe];var wt=i[Oe],St=a[Oe];if(w)var Er=W?w(St,wt,Oe,a,i,R):w(wt,St,Oe,i,a,R);if(!(Er===n?wt===St||L(wt,St,d,w,R):Er)){ht=!1;break}Ze||(Ze=Oe=="constructor")}if(ht&&!Ze){var rr=i.constructor,Ar=a.constructor;rr!=Ar&&"constructor"in i&&"constructor"in a&&!(typeof rr=="function"&&rr instanceof rr&&typeof Ar=="function"&&Ar instanceof Ar)&&(ht=!1)}return R.delete(i),R.delete(a),ht}function $i(i){return Jl(lp(i,n,wp),i+"")}function zl(i){return Ah(i,Ln,Yl)}function jl(i){return Ah(i,pr,op)}var Xl=vu?function(i){return vu.get(i)}:df;function ku(i){for(var a=i.name+"",d=cs[a],w=X.call(cs,a)?d.length:0;w--;){var L=d[w],R=L.func;if(R==null||R==i)return L.name}return a}function ps(i){var a=X.call(I,"placeholder")?I:i;return a.placeholder}function Qe(){var i=I.iteratee||lf;return i=i===lf?_h:i,arguments.length?i(arguments[0],arguments[1]):i}function Ru(i,a){var d=i.__data__;return tw(a)?d[typeof a=="string"?"string":"hash"]:d.map}function Vl(i){for(var a=Ln(i),d=a.length;d--;){var w=a[d],L=i[w];a[d]=[w,L,up(L)]}return a}function $o(i,a){var d=We(i,a);return Ch(d)?d:n}function Y1(i){var a=X.call(i,$),d=i[$];try{i[$]=n;var w=!0}catch{}var L=ze.call(i);return w&&(a?i[$]=d:delete i[$]),L}var Yl=It?function(i){return i==null?[]:(i=Ot(i),Xt(It(i),function(a){return er.call(i,a)}))}:hf,op=It?function(i){for(var a=[];i;)li(a,Yl(i)),i=Qt(i);return a}:hf,Vn=tr;(Sl&&Vn(new Sl(new ArrayBuffer(1)))!=bn||ta&&Vn(new ta)!=Wt||El&&Vn(El.resolve())!=Un||us&&Vn(new us)!=st||na&&Vn(new na)!=Dt)&&(Vn=function(i){var a=tr(i),d=a==jt?i.constructor:n,w=d?Bo(d):"";if(w)switch(w){case Mv:return bn;case Iv:return Wt;case kv:return Un;case Rv:return st;case Ov:return Dt}return a});function K1(i,a,d){for(var w=-1,L=d.length;++w<L;){var R=d[w],W=R.size;switch(R.type){case"drop":i+=W;break;case"dropRight":a-=W;break;case"take":a=Xn(a,i+W);break;case"takeRight":i=xn(i,a-W);break}}return{start:i,end:a}}function Q1(i){var a=i.match(Kt);return a?a[1].split(tn):[]}function sp(i,a,d){a=yo(a,i);for(var w=-1,L=a.length,R=!1;++w<L;){var W=hi(a[w]);if(!(R=i!=null&&d(i,W)))break;i=i[W]}return R||++w!=L?R:(L=i==null?0:i.length,!!L&&Gu(L)&&Bi(W,L)&&(ct(i)||Do(i)))}function q1(i){var a=i.length,d=new i.constructor(a);return a&&typeof i[0]=="string"&&X.call(i,"index")&&(d.index=i.index,d.input=i.input),d}function ap(i){return typeof i.constructor=="function"&&!fa(i)?ls(Qt(i)):{}}function J1(i,a,d){var w=i.constructor;switch(a){case xi:return Ul(i);case In:case on:return new w(+i);case bn:return F1(i,d);case Si:case Ei:case qi:case Ji:case Zi:case eo:case Hr:case Ai:case zr:return Hh(i,d);case Wt:return new w;case En:case Ct:return new w(i);case pn:return N1(i);case st:return new w;case en:return $1(i)}}function Z1(i,a){var d=a.length;if(!d)return i;var w=d-1;return a[w]=(d>1?"& ":"")+a[w],a=a.join(d>2?", ":" "),i.replace(gn,`{
/* [wrapped with `+a+`] */
`)}function ew(i){return ct(i)||Do(i)||!!(we&&i&&i[we])}function Bi(i,a){var d=typeof i;return a=a??he,!!a&&(d=="number"||d!="symbol"&&Li.test(i))&&i>-1&&i%1==0&&i<a}function nr(i,a,d){if(!qt(d))return!1;var w=typeof a;return(w=="number"?hr(d)&&Bi(a,d.length):w=="string"&&a in d)?Kr(d[a],i):!1}function Kl(i,a){if(ct(i))return!1;var d=typeof i;return d=="number"||d=="symbol"||d=="boolean"||i==null||Sr(i)?!0:ai.test(i)||!Ci.test(i)||a!=null&&i in Ot(a)}function tw(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function Ql(i){var a=ku(i),d=I[a];if(typeof d!="function"||!(a in bt.prototype))return!1;if(i===d)return!0;var w=Xl(d);return!!w&&i===w[0]}function nw(i){return!!Te&&Te in i}var rw=M?Di:pf;function fa(i){var a=i&&i.constructor,d=typeof a=="function"&&a.prototype||S;return i===d}function up(i){return i===i&&!qt(i)}function cp(i,a){return function(d){return d==null?!1:d[i]===a&&(a!==n||i in Ot(d))}}function iw(i){var a=Bu(i,function(w){return d.size===p&&d.clear(),w}),d=a.cache;return a}function ow(i,a){var d=i[1],w=a[1],L=d|w,R=L<(F|B|le),W=w==le&&d==U||w==le&&d==Ae&&i[7].length<=a[8]||w==(le|Ae)&&a[7].length<=a[8]&&d==U;if(!(R||W))return i;w&F&&(i[2]=a[2],L|=d&F?0:z);var V=a[3];if(V){var Q=i[3];i[3]=Q?jh(Q,V,a[4]):V,i[4]=Q?cr(i[3],b):a[4]}return V=a[5],V&&(Q=i[5],i[5]=Q?Xh(Q,V,a[6]):V,i[6]=Q?cr(i[5],b):a[6]),V=a[7],V&&(i[7]=V),w&le&&(i[8]=i[8]==null?a[8]:Xn(i[8],a[8])),i[9]==null&&(i[9]=a[9]),i[0]=a[0],i[1]=L,i}function sw(i){var a=[];if(i!=null)for(var d in Ot(i))a.push(d);return a}function aw(i){return ze.call(i)}function lp(i,a,d){return a=xn(a===n?i.length-1:a,0),function(){for(var w=arguments,L=-1,R=xn(w.length-a,0),W=oe(R);++L<R;)W[L]=w[a+L];L=-1;for(var V=oe(a+1);++L<a;)V[L]=w[L];return V[a]=d(W),qn(i,this,V)}}function fp(i,a){return a.length<2?i:No(i,Mr(a,0,-1))}function uw(i,a){for(var d=i.length,w=Xn(a.length,d),L=dr(i);w--;){var R=a[w];i[w]=Bi(R,d)?L[R]:n}return i}function ql(i,a){if(!(a==="constructor"&&typeof i[a]=="function")&&a!="__proto__")return i[a]}var dp=pp(Fh),da=Se||function(i,a){return Ht.setTimeout(i,a)},Jl=pp(I1);function hp(i,a,d){var w=a+"";return Jl(i,Z1(w,cw(Q1(w),d)))}function pp(i){var a=0,d=0;return function(){var w=_v(),L=Fe-(w-d);if(d=w,L>0){if(++a>=Ie)return arguments[0]}else a=0;return i.apply(n,arguments)}}function Ou(i,a){var d=-1,w=i.length,L=w-1;for(a=a===n?w:a;++d<a;){var R=Ol(d,L),W=i[R];i[R]=i[d],i[d]=W}return i.length=a,i}var gp=iw(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(ui,function(d,w,L,R){a.push(L?R.replace(jr,"$1"):w||d)}),a});function hi(i){if(typeof i=="string"||Sr(i))return i;var a=i+"";return a=="0"&&1/i==-1/0?"-0":a}function Bo(i){if(i!=null){try{return G.call(i)}catch{}try{return i+""}catch{}}return""}function cw(i,a){return Fn(it,function(d){var w="_."+d[0];a&d[1]&&!sn(i,w)&&i.push(w)}),i.sort()}function mp(i){if(i instanceof bt)return i.clone();var a=new Lr(i.__wrapped__,i.__chain__);return a.__actions__=dr(i.__actions__),a.__index__=i.__index__,a.__values__=i.__values__,a}function lw(i,a,d){(d?nr(i,a,d):a===n)?a=1:a=xn(ft(a),0);var w=i==null?0:i.length;if(!w||a<1)return[];for(var L=0,R=0,W=oe(De(w/a));L<w;)W[R++]=Mr(i,L,L+=a);return W}function fw(i){for(var a=-1,d=i==null?0:i.length,w=0,L=[];++a<d;){var R=i[a];R&&(L[w++]=R)}return L}function dw(){var i=arguments.length;if(!i)return[];for(var a=oe(i-1),d=arguments[0],w=i;w--;)a[w-1]=arguments[w];return li(ct(d)?dr(d):[d],$n(a,1))}var hw=gt(function(i,a){return cn(i)?sa(i,$n(a,1,cn,!0)):[]}),pw=gt(function(i,a){var d=Ir(a);return cn(d)&&(d=n),cn(i)?sa(i,$n(a,1,cn,!0),Qe(d,2)):[]}),gw=gt(function(i,a){var d=Ir(a);return cn(d)&&(d=n),cn(i)?sa(i,$n(a,1,cn,!0),n,d):[]});function mw(i,a,d){var w=i==null?0:i.length;return w?(a=d||a===n?1:ft(a),Mr(i,a<0?0:a,w)):[]}function yw(i,a,d){var w=i==null?0:i.length;return w?(a=d||a===n?1:ft(a),a=w-a,Mr(i,0,a<0?0:a)):[]}function vw(i,a){return i&&i.length?Cu(i,Qe(a,3),!0,!0):[]}function ww(i,a){return i&&i.length?Cu(i,Qe(a,3),!0):[]}function bw(i,a,d,w){var L=i==null?0:i.length;return L?(d&&typeof d!="number"&&nr(i,a,d)&&(d=0,w=L),d1(i,a,d,w)):[]}function yp(i,a,d){var w=i==null?0:i.length;if(!w)return-1;var L=d==null?0:ft(d);return L<0&&(L=xn(w+L,0)),as(i,Qe(a,3),L)}function vp(i,a,d){var w=i==null?0:i.length;if(!w)return-1;var L=w-1;return d!==n&&(L=ft(d),L=d<0?xn(w+L,0):Xn(L,w-1)),as(i,Qe(a,3),L,!0)}function wp(i){var a=i==null?0:i.length;return a?$n(i,1):[]}function xw(i){var a=i==null?0:i.length;return a?$n(i,ie):[]}function Sw(i,a){var d=i==null?0:i.length;return d?(a=a===n?1:ft(a),$n(i,a)):[]}function Ew(i){for(var a=-1,d=i==null?0:i.length,w={};++a<d;){var L=i[a];w[L[0]]=L[1]}return w}function bp(i){return i&&i.length?i[0]:n}function Aw(i,a,d){var w=i==null?0:i.length;if(!w)return-1;var L=d==null?0:ft(d);return L<0&&(L=xn(w+L,0)),uo(i,a,L)}function Tw(i){var a=i==null?0:i.length;return a?Mr(i,0,-1):[]}var Cw=gt(function(i){var a=zt(i,Dl);return a.length&&a[0]===i[0]?Pl(a):[]}),_w=gt(function(i){var a=Ir(i),d=zt(i,Dl);return a===Ir(d)?a=n:d.pop(),d.length&&d[0]===i[0]?Pl(d,Qe(a,2)):[]}),Lw=gt(function(i){var a=Ir(i),d=zt(i,Dl);return a=typeof a=="function"?a:n,a&&d.pop(),d.length&&d[0]===i[0]?Pl(d,n,a):[]});function Pw(i,a){return i==null?"":Tv.call(i,a)}function Ir(i){var a=i==null?0:i.length;return a?i[a-1]:n}function Mw(i,a,d){var w=i==null?0:i.length;if(!w)return-1;var L=w;return d!==n&&(L=ft(d),L=L<0?xn(w+L,0):Xn(L,w-1)),a===a?Zs(i,a,L):as(i,gu,L,!0)}function Iw(i,a){return i&&i.length?Ih(i,ft(a)):n}var kw=gt(xp);function xp(i,a){return i&&i.length&&a&&a.length?Rl(i,a):i}function Rw(i,a,d){return i&&i.length&&a&&a.length?Rl(i,a,Qe(d,2)):i}function Ow(i,a,d){return i&&i.length&&a&&a.length?Rl(i,a,n,d):i}var Fw=$i(function(i,a){var d=i==null?0:i.length,w=Tl(i,a);return Oh(i,zt(a,function(L){return Bi(L,d)?+L:L}).sort(zh)),w});function Nw(i,a){var d=[];if(!(i&&i.length))return d;var w=-1,L=[],R=i.length;for(a=Qe(a,3);++w<R;){var W=i[w];a(W,w,i)&&(d.push(W),L.push(w))}return Oh(i,L),d}function Zl(i){return i==null?i:Pv.call(i)}function $w(i,a,d){var w=i==null?0:i.length;return w?(d&&typeof d!="number"&&nr(i,a,d)?(a=0,d=w):(a=a==null?0:ft(a),d=d===n?w:ft(d)),Mr(i,a,d)):[]}function Bw(i,a){return Tu(i,a)}function Dw(i,a,d){return Nl(i,a,Qe(d,2))}function Gw(i,a){var d=i==null?0:i.length;if(d){var w=Tu(i,a);if(w<d&&Kr(i[w],a))return w}return-1}function Uw(i,a){return Tu(i,a,!0)}function Ww(i,a,d){return Nl(i,a,Qe(d,2),!0)}function Hw(i,a){var d=i==null?0:i.length;if(d){var w=Tu(i,a,!0)-1;if(Kr(i[w],a))return w}return-1}function zw(i){return i&&i.length?Nh(i):[]}function jw(i,a){return i&&i.length?Nh(i,Qe(a,2)):[]}function Xw(i){var a=i==null?0:i.length;return a?Mr(i,1,a):[]}function Vw(i,a,d){return i&&i.length?(a=d||a===n?1:ft(a),Mr(i,0,a<0?0:a)):[]}function Yw(i,a,d){var w=i==null?0:i.length;return w?(a=d||a===n?1:ft(a),a=w-a,Mr(i,a<0?0:a,w)):[]}function Kw(i,a){return i&&i.length?Cu(i,Qe(a,3),!1,!0):[]}function Qw(i,a){return i&&i.length?Cu(i,Qe(a,3)):[]}var qw=gt(function(i){return mo($n(i,1,cn,!0))}),Jw=gt(function(i){var a=Ir(i);return cn(a)&&(a=n),mo($n(i,1,cn,!0),Qe(a,2))}),Zw=gt(function(i){var a=Ir(i);return a=typeof a=="function"?a:n,mo($n(i,1,cn,!0),n,a)});function eb(i){return i&&i.length?mo(i):[]}function tb(i,a){return i&&i.length?mo(i,Qe(a,2)):[]}function nb(i,a){return a=typeof a=="function"?a:n,i&&i.length?mo(i,n,a):[]}function ef(i){if(!(i&&i.length))return[];var a=0;return i=Xt(i,function(d){if(cn(d))return a=xn(d.length,a),!0}),m(a,function(d){return zt(i,Qs(d))})}function Sp(i,a){if(!(i&&i.length))return[];var d=ef(i);return a==null?d:zt(d,function(w){return qn(a,n,w)})}var rb=gt(function(i,a){return cn(i)?sa(i,a):[]}),ib=gt(function(i){return Bl(Xt(i,cn))}),ob=gt(function(i){var a=Ir(i);return cn(a)&&(a=n),Bl(Xt(i,cn),Qe(a,2))}),sb=gt(function(i){var a=Ir(i);return a=typeof a=="function"?a:n,Bl(Xt(i,cn),n,a)}),ab=gt(ef);function ub(i,a){return Gh(i||[],a||[],oa)}function cb(i,a){return Gh(i||[],a||[],ca)}var lb=gt(function(i){var a=i.length,d=a>1?i[a-1]:n;return d=typeof d=="function"?(i.pop(),d):n,Sp(i,d)});function Ep(i){var a=I(i);return a.__chain__=!0,a}function fb(i,a){return a(i),i}function Fu(i,a){return a(i)}var db=$i(function(i){var a=i.length,d=a?i[0]:0,w=this.__wrapped__,L=function(R){return Tl(R,i)};return a>1||this.__actions__.length||!(w instanceof bt)||!Bi(d)?this.thru(L):(w=w.slice(d,+d+(a?1:0)),w.__actions__.push({func:Fu,args:[L],thisArg:n}),new Lr(w,this.__chain__).thru(function(R){return a&&!R.length&&R.push(n),R}))});function hb(){return Ep(this)}function pb(){return new Lr(this.value(),this.__chain__)}function gb(){this.__values__===n&&(this.__values__=$p(this.value()));var i=this.__index__>=this.__values__.length,a=i?n:this.__values__[this.__index__++];return{done:i,value:a}}function mb(){return this}function yb(i){for(var a,d=this;d instanceof bu;){var w=mp(d);w.__index__=0,w.__values__=n,a?L.__wrapped__=w:a=w;var L=w;d=d.__wrapped__}return L.__wrapped__=i,a}function vb(){var i=this.__wrapped__;if(i instanceof bt){var a=i;return this.__actions__.length&&(a=new bt(this)),a=a.reverse(),a.__actions__.push({func:Fu,args:[Zl],thisArg:n}),new Lr(a,this.__chain__)}return this.thru(Zl)}function wb(){return Dh(this.__wrapped__,this.__actions__)}var bb=_u(function(i,a,d){X.call(i,d)?++i[d]:Fi(i,d,1)});function xb(i,a,d){var w=ct(i)?Vs:f1;return d&&nr(i,a,d)&&(a=n),w(i,Qe(a,3))}function Sb(i,a){var d=ct(i)?Xt:Sh;return d(i,Qe(a,3))}var Eb=Qh(yp),Ab=Qh(vp);function Tb(i,a){return $n(Nu(i,a),1)}function Cb(i,a){return $n(Nu(i,a),ie)}function _b(i,a,d){return d=d===n?1:ft(d),$n(Nu(i,a),d)}function Ap(i,a){var d=ct(i)?Fn:go;return d(i,Qe(a,3))}function Tp(i,a){var d=ct(i)?Xr:xh;return d(i,Qe(a,3))}var Lb=_u(function(i,a,d){X.call(i,d)?i[d].push(a):Fi(i,d,[a])});function Pb(i,a,d,w){i=hr(i)?i:ms(i),d=d&&!w?ft(d):0;var L=i.length;return d<0&&(d=xn(L+d,0)),Uu(i)?d<=L&&i.indexOf(a,d)>-1:!!L&&uo(i,a,d)>-1}var Mb=gt(function(i,a,d){var w=-1,L=typeof a=="function",R=hr(i)?oe(i.length):[];return go(i,function(W){R[++w]=L?qn(a,W,d):aa(W,a,d)}),R}),Ib=_u(function(i,a,d){Fi(i,d,a)});function Nu(i,a){var d=ct(i)?zt:Lh;return d(i,Qe(a,3))}function kb(i,a,d,w){return i==null?[]:(ct(a)||(a=a==null?[]:[a]),d=w?n:d,ct(d)||(d=d==null?[]:[d]),kh(i,a,d))}var Rb=_u(function(i,a,d){i[d?0:1].push(a)},function(){return[[],[]]});function Ob(i,a,d){var w=ct(i)?Ys:qs,L=arguments.length<3;return w(i,Qe(a,4),d,L,go)}function Fb(i,a,d){var w=ct(i)?yl:qs,L=arguments.length<3;return w(i,Qe(a,4),d,L,xh)}function Nb(i,a){var d=ct(i)?Xt:Sh;return d(i,Du(Qe(a,3)))}function $b(i){var a=ct(i)?yh:P1;return a(i)}function Bb(i,a,d){(d?nr(i,a,d):a===n)?a=1:a=ft(a);var w=ct(i)?s1:M1;return w(i,a)}function Db(i){var a=ct(i)?a1:k1;return a(i)}function Gb(i){if(i==null)return 0;if(hr(i))return Uu(i)?Nn(i):i.length;var a=Vn(i);return a==Wt||a==st?i.size:Il(i).length}function Ub(i,a,d){var w=ct(i)?Ks:R1;return d&&nr(i,a,d)&&(a=n),w(i,Qe(a,3))}var Wb=gt(function(i,a){if(i==null)return[];var d=a.length;return d>1&&nr(i,a[0],a[1])?a=[]:d>2&&nr(a[0],a[1],a[2])&&(a=[a[0]]),kh(i,$n(a,1),[])}),$u=ye||function(){return Ht.Date.now()};function Hb(i,a){if(typeof a!="function")throw new fr(c);return i=ft(i),function(){if(--i<1)return a.apply(this,arguments)}}function Cp(i,a,d){return a=d?n:a,a=i&&a==null?i.length:a,Ni(i,le,n,n,n,n,a)}function _p(i,a){var d;if(typeof a!="function")throw new fr(c);return i=ft(i),function(){return--i>0&&(d=a.apply(this,arguments)),i<=1&&(a=n),d}}var tf=gt(function(i,a,d){var w=F;if(d.length){var L=cr(d,ps(tf));w|=ne}return Ni(i,w,a,d,L)}),Lp=gt(function(i,a,d){var w=F|B;if(d.length){var L=cr(d,ps(Lp));w|=ne}return Ni(a,w,i,d,L)});function Pp(i,a,d){a=d?n:a;var w=Ni(i,U,n,n,n,n,n,a);return w.placeholder=Pp.placeholder,w}function Mp(i,a,d){a=d?n:a;var w=Ni(i,ee,n,n,n,n,n,a);return w.placeholder=Mp.placeholder,w}function Ip(i,a,d){var w,L,R,W,V,Q,me=0,ve=!1,xe=!1,Oe=!0;if(typeof i!="function")throw new fr(c);a=kr(a)||0,qt(d)&&(ve=!!d.leading,xe="maxWait"in d,R=xe?xn(kr(d.maxWait)||0,a):R,Oe="trailing"in d?!!d.trailing:Oe);function Ve(ln){var Qr=w,Ui=L;return w=L=n,me=ln,W=i.apply(Ui,Qr),W}function Je(ln){return me=ln,V=da(wt,a),ve?Ve(ln):W}function ht(ln){var Qr=ln-Q,Ui=ln-me,Qp=a-Qr;return xe?Xn(Qp,R-Ui):Qp}function Ze(ln){var Qr=ln-Q,Ui=ln-me;return Q===n||Qr>=a||Qr<0||xe&&Ui>=R}function wt(){var ln=$u();if(Ze(ln))return St(ln);V=da(wt,ht(ln))}function St(ln){return V=n,Oe&&w?Ve(ln):(w=L=n,W)}function Er(){V!==n&&Uh(V),me=0,w=Q=L=V=n}function rr(){return V===n?W:St($u())}function Ar(){var ln=$u(),Qr=Ze(ln);if(w=arguments,L=this,Q=ln,Qr){if(V===n)return Je(Q);if(xe)return Uh(V),V=da(wt,a),Ve(Q)}return V===n&&(V=da(wt,a)),W}return Ar.cancel=Er,Ar.flush=rr,Ar}var zb=gt(function(i,a){return bh(i,1,a)}),jb=gt(function(i,a,d){return bh(i,kr(a)||0,d)});function Xb(i){return Ni(i,J)}function Bu(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new fr(c);var d=function(){var w=arguments,L=a?a.apply(this,w):w[0],R=d.cache;if(R.has(L))return R.get(L);var W=i.apply(this,w);return d.cache=R.set(L,W)||R,W};return d.cache=new(Bu.Cache||Oi),d}Bu.Cache=Oi;function Du(i){if(typeof i!="function")throw new fr(c);return function(){var a=arguments;switch(a.length){case 0:return!i.call(this);case 1:return!i.call(this,a[0]);case 2:return!i.call(this,a[0],a[1]);case 3:return!i.call(this,a[0],a[1],a[2])}return!i.apply(this,a)}}function Vb(i){return _p(2,i)}var Yb=O1(function(i,a){a=a.length==1&&ct(a[0])?zt(a[0],k(Qe())):zt($n(a,1),k(Qe()));var d=a.length;return gt(function(w){for(var L=-1,R=Xn(w.length,d);++L<R;)w[L]=a[L].call(this,w[L]);return qn(i,this,w)})}),nf=gt(function(i,a){var d=cr(a,ps(nf));return Ni(i,ne,n,a,d)}),kp=gt(function(i,a){var d=cr(a,ps(kp));return Ni(i,re,n,a,d)}),Kb=$i(function(i,a){return Ni(i,Ae,n,n,n,a)});function Qb(i,a){if(typeof i!="function")throw new fr(c);return a=a===n?a:ft(a),gt(i,a)}function qb(i,a){if(typeof i!="function")throw new fr(c);return a=a==null?0:xn(ft(a),0),gt(function(d){var w=d[a],L=vo(d,0,a);return w&&li(L,w),qn(i,this,L)})}function Jb(i,a,d){var w=!0,L=!0;if(typeof i!="function")throw new fr(c);return qt(d)&&(w="leading"in d?!!d.leading:w,L="trailing"in d?!!d.trailing:L),Ip(i,a,{leading:w,maxWait:a,trailing:L})}function Zb(i){return Cp(i,1)}function ex(i,a){return nf(Gl(a),i)}function tx(){if(!arguments.length)return[];var i=arguments[0];return ct(i)?i:[i]}function nx(i){return Pr(i,T)}function rx(i,a){return a=typeof a=="function"?a:n,Pr(i,T,a)}function ix(i){return Pr(i,x|T)}function ox(i,a){return a=typeof a=="function"?a:n,Pr(i,x|T,a)}function sx(i,a){return a==null||wh(i,a,Ln(a))}function Kr(i,a){return i===a||i!==i&&a!==a}var ax=Iu(Ll),ux=Iu(function(i,a){return i>=a}),Do=Th(function(){return arguments}())?Th:function(i){return rn(i)&&X.call(i,"callee")&&!er.call(i,"callee")},ct=oe.isArray,cx=du?k(du):y1;function hr(i){return i!=null&&Gu(i.length)&&!Di(i)}function cn(i){return rn(i)&&hr(i)}function lx(i){return i===!0||i===!1||rn(i)&&tr(i)==In}var wo=_r||pf,fx=Xs?k(Xs):v1;function dx(i){return rn(i)&&i.nodeType===1&&!ha(i)}function hx(i){if(i==null)return!0;if(hr(i)&&(ct(i)||typeof i=="string"||typeof i.splice=="function"||wo(i)||gs(i)||Do(i)))return!i.length;var a=Vn(i);if(a==Wt||a==st)return!i.size;if(fa(i))return!Il(i).length;for(var d in i)if(X.call(i,d))return!1;return!0}function px(i,a){return ua(i,a)}function gx(i,a,d){d=typeof d=="function"?d:n;var w=d?d(i,a):n;return w===n?ua(i,a,n,d):!!w}function rf(i){if(!rn(i))return!1;var a=tr(i);return a==Gn||a==hn||typeof i.message=="string"&&typeof i.name=="string"&&!ha(i)}function mx(i){return typeof i=="number"&&po(i)}function Di(i){if(!qt(i))return!1;var a=tr(i);return a==Ut||a==wn||a==Nt||a==yr}function Rp(i){return typeof i=="number"&&i==ft(i)}function Gu(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=he}function qt(i){var a=typeof i;return i!=null&&(a=="object"||a=="function")}function rn(i){return i!=null&&typeof i=="object"}var Op=Io?k(Io):b1;function yx(i,a){return i===a||Ml(i,a,Vl(a))}function vx(i,a,d){return d=typeof d=="function"?d:n,Ml(i,a,Vl(a),d)}function wx(i){return Fp(i)&&i!=+i}function bx(i){if(rw(i))throw new nt(u);return Ch(i)}function xx(i){return i===null}function Sx(i){return i==null}function Fp(i){return typeof i=="number"||rn(i)&&tr(i)==En}function ha(i){if(!rn(i)||tr(i)!=jt)return!1;var a=Qt(i);if(a===null)return!0;var d=X.call(a,"constructor")&&a.constructor;return typeof d=="function"&&d instanceof d&&G.call(d)==Xe}var of=Y?k(Y):x1;function Ex(i){return Rp(i)&&i>=-9007199254740991&&i<=he}var Np=zn?k(zn):S1;function Uu(i){return typeof i=="string"||!ct(i)&&rn(i)&&tr(i)==Ct}function Sr(i){return typeof i=="symbol"||rn(i)&&tr(i)==en}var gs=hu?k(hu):E1;function Ax(i){return i===n}function Tx(i){return rn(i)&&Vn(i)==Dt}function Cx(i){return rn(i)&&tr(i)==vt}var _x=Iu(kl),Lx=Iu(function(i,a){return i<=a});function $p(i){if(!i)return[];if(hr(i))return Uu(i)?Jn(i):dr(i);if(_&&i[_])return jn(i[_]());var a=Vn(i),d=a==Wt?an:a==st?lr:ms;return d(i)}function Gi(i){if(!i)return i===0?i:0;if(i=kr(i),i===ie||i===-1/0){var a=i<0?-1:1;return a*_e}return i===i?i:0}function ft(i){var a=Gi(i),d=a%1;return a===a?d?a-d:a:0}function Bp(i){return i?Fo(ft(i),0,Ee):0}function kr(i){if(typeof i=="number")return i;if(Sr(i))return ke;if(qt(i)){var a=typeof i.valueOf=="function"?i.valueOf():i;i=qt(a)?a+"":a}if(typeof i!="string")return i===0?i:+i;i=A(i);var d=Rn.test(i);return d||$s.test(i)?is(i.slice(2),d?2:8):_i.test(i)?ke:+i}function Dp(i){return di(i,pr(i))}function Px(i){return i?Fo(ft(i),-9007199254740991,he):i===0?i:0}function kt(i){return i==null?"":xr(i)}var Mx=ds(function(i,a){if(fa(a)||hr(a)){di(a,Ln(a),i);return}for(var d in a)X.call(a,d)&&oa(i,d,a[d])}),Gp=ds(function(i,a){di(a,pr(a),i)}),Wu=ds(function(i,a,d,w){di(a,pr(a),i,w)}),Ix=ds(function(i,a,d,w){di(a,Ln(a),i,w)}),kx=$i(Tl);function Rx(i,a){var d=ls(i);return a==null?d:vh(d,a)}var Ox=gt(function(i,a){i=Ot(i);var d=-1,w=a.length,L=w>2?a[2]:n;for(L&&nr(a[0],a[1],L)&&(w=1);++d<w;)for(var R=a[d],W=pr(R),V=-1,Q=W.length;++V<Q;){var me=W[V],ve=i[me];(ve===n||Kr(ve,S[me])&&!X.call(i,me))&&(i[me]=R[me])}return i}),Fx=gt(function(i){return i.push(n,rp),qn(Up,n,i)});function Nx(i,a){return pu(i,Qe(a,3),fi)}function $x(i,a){return pu(i,Qe(a,3),_l)}function Bx(i,a){return i==null?i:Cl(i,Qe(a,3),pr)}function Dx(i,a){return i==null?i:Eh(i,Qe(a,3),pr)}function Gx(i,a){return i&&fi(i,Qe(a,3))}function Ux(i,a){return i&&_l(i,Qe(a,3))}function Wx(i){return i==null?[]:Eu(i,Ln(i))}function Hx(i){return i==null?[]:Eu(i,pr(i))}function sf(i,a,d){var w=i==null?n:No(i,a);return w===n?d:w}function zx(i,a){return i!=null&&sp(i,a,h1)}function af(i,a){return i!=null&&sp(i,a,p1)}var jx=Jh(function(i,a,d){a!=null&&typeof a.toString!="function"&&(a=ze.call(a)),i[a]=d},cf(gr)),Xx=Jh(function(i,a,d){a!=null&&typeof a.toString!="function"&&(a=ze.call(a)),X.call(i,a)?i[a].push(d):i[a]=[d]},Qe),Vx=gt(aa);function Ln(i){return hr(i)?mh(i):Il(i)}function pr(i){return hr(i)?mh(i,!0):A1(i)}function Yx(i,a){var d={};return a=Qe(a,3),fi(i,function(w,L,R){Fi(d,a(w,L,R),w)}),d}function Kx(i,a){var d={};return a=Qe(a,3),fi(i,function(w,L,R){Fi(d,L,a(w,L,R))}),d}var Qx=ds(function(i,a,d){Au(i,a,d)}),Up=ds(function(i,a,d,w){Au(i,a,d,w)}),qx=$i(function(i,a){var d={};if(i==null)return d;var w=!1;a=zt(a,function(R){return R=yo(R,i),w||(w=R.length>1),R}),di(i,jl(i),d),w&&(d=Pr(d,x|E|T,j1));for(var L=a.length;L--;)$l(d,a[L]);return d});function Jx(i,a){return Wp(i,Du(Qe(a)))}var Zx=$i(function(i,a){return i==null?{}:C1(i,a)});function Wp(i,a){if(i==null)return{};var d=zt(jl(i),function(w){return[w]});return a=Qe(a),Rh(i,d,function(w,L){return a(w,L[0])})}function eS(i,a,d){a=yo(a,i);var w=-1,L=a.length;for(L||(L=1,i=n);++w<L;){var R=i==null?n:i[hi(a[w])];R===n&&(w=L,R=d),i=Di(R)?R.call(i):R}return i}function tS(i,a,d){return i==null?i:ca(i,a,d)}function nS(i,a,d,w){return w=typeof w=="function"?w:n,i==null?i:ca(i,a,d,w)}var Hp=tp(Ln),zp=tp(pr);function rS(i,a,d){var w=ct(i),L=w||wo(i)||gs(i);if(a=Qe(a,4),d==null){var R=i&&i.constructor;L?d=w?new R:[]:qt(i)?d=Di(R)?ls(Qt(i)):{}:d={}}return(L?Fn:fi)(i,function(W,V,Q){return a(d,W,V,Q)}),d}function iS(i,a){return i==null?!0:$l(i,a)}function oS(i,a,d){return i==null?i:Bh(i,a,Gl(d))}function sS(i,a,d,w){return w=typeof w=="function"?w:n,i==null?i:Bh(i,a,Gl(d),w)}function ms(i){return i==null?[]:H(i,Ln(i))}function aS(i){return i==null?[]:H(i,pr(i))}function uS(i,a,d){return d===n&&(d=a,a=n),d!==n&&(d=kr(d),d=d===d?d:0),a!==n&&(a=kr(a),a=a===a?a:0),Fo(kr(i),a,d)}function cS(i,a,d){return a=Gi(a),d===n?(d=a,a=0):d=Gi(d),i=kr(i),g1(i,a,d)}function lS(i,a,d){if(d&&typeof d!="boolean"&&nr(i,a,d)&&(a=d=n),d===n&&(typeof a=="boolean"?(d=a,a=n):typeof i=="boolean"&&(d=i,i=n)),i===n&&a===n?(i=0,a=1):(i=Gi(i),a===n?(a=i,i=0):a=Gi(a)),i>a){var w=i;i=a,a=w}if(d||i%1||a%1){var L=ph();return Xn(i+L*(a-i+fu("1e-"+((L+"").length-1))),a)}return Ol(i,a)}var fS=hs(function(i,a,d){return a=a.toLowerCase(),i+(d?jp(a):a)});function jp(i){return uf(kt(i).toLowerCase())}function Xp(i){return i=kt(i),i&&i.replace(Qn,be).replace(rs,"")}function dS(i,a,d){i=kt(i),a=xr(a);var w=i.length;d=d===n?w:Fo(ft(d),0,w);var L=d;return d-=a.length,d>=0&&i.slice(d,L)==a}function hS(i){return i=kt(i),i&&no.test(i)?i.replace(vr,Ge):i}function pS(i){return i=kt(i),i&&sr.test(i)?i.replace(io,"\\$&"):i}var gS=hs(function(i,a,d){return i+(d?"-":"")+a.toLowerCase()}),mS=hs(function(i,a,d){return i+(d?" ":"")+a.toLowerCase()}),yS=Kh("toLowerCase");function vS(i,a,d){i=kt(i),a=ft(a);var w=a?Nn(i):0;if(!a||w>=a)return i;var L=(a-w)/2;return Mu(Lt(L),d)+i+Mu(De(L),d)}function wS(i,a,d){i=kt(i),a=ft(a);var w=a?Nn(i):0;return a&&w<a?i+Mu(a-w,d):i}function bS(i,a,d){i=kt(i),a=ft(a);var w=a?Nn(i):0;return a&&w<a?Mu(a-w,d)+i:i}function xS(i,a,d){return d||a==null?a=0:a&&(a=+a),Lv(kt(i).replace(Yt,""),a||0)}function SS(i,a,d){return(d?nr(i,a,d):a===n)?a=1:a=ft(a),Fl(kt(i),a)}function ES(){var i=arguments,a=kt(i[0]);return i.length<3?a:a.replace(i[1],i[2])}var AS=hs(function(i,a,d){return i+(d?"_":"")+a.toLowerCase()});function TS(i,a,d){return d&&typeof d!="number"&&nr(i,a,d)&&(a=d=n),d=d===n?Ee:d>>>0,d?(i=kt(i),i&&(typeof a=="string"||a!=null&&!of(a))&&(a=xr(a),!a&&tt(i))?vo(Jn(i),0,d):i.split(a,d)):[]}var CS=hs(function(i,a,d){return i+(d?" ":"")+uf(a)});function _S(i,a,d){return i=kt(i),d=d==null?0:Fo(ft(d),0,i.length),a=xr(a),i.slice(d,d+a.length)==a}function LS(i,a,d){var w=I.templateSettings;d&&nr(i,a,d)&&(a=n),i=kt(i),a=Wu({},a,w,np);var L=Wu({},a.imports,w.imports,np),R=Ln(L),W=H(L,R),V,Q,me=0,ve=a.interpolate||ts,xe="__p += '",Oe=lt((a.escape||ts).source+"|"+ve.source+"|"+(ve===ro?es:ts).source+"|"+(a.evaluate||ts).source+"|$","g"),Ve="//# sourceURL="+(X.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++uu+"]")+`
`;i.replace(Oe,function(Ze,wt,St,Er,rr,Ar){return St||(St=Er),xe+=i.slice(me,Ar).replace(al,Z),wt&&(V=!0,xe+=`' +
__e(`+wt+`) +
'`),rr&&(Q=!0,xe+=`';
`+rr+`;
__p += '`),St&&(xe+=`' +
((__t = (`+St+`)) == null ? '' : __t) +
'`),me=Ar+Ze.length,Ze}),xe+=`';
`;var Je=X.call(a,"variable")&&a.variable;if(!Je)xe=`with (obj) {
`+xe+`
}
`;else if(kn.test(Je))throw new nt(l);xe=(Q?xe.replace(Ti,""):xe).replace(Ns,"$1").replace(to,"$1;"),xe="function("+(Je||"obj")+`) {
`+(Je?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(V?", __e = _.escape":"")+(Q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xe+`return __p
}`;var ht=Yp(function(){return Et(R,Ve+"return "+xe).apply(n,W)});if(ht.source=xe,rf(ht))throw ht;return ht}function PS(i){return kt(i).toLowerCase()}function MS(i){return kt(i).toUpperCase()}function IS(i,a,d){if(i=kt(i),i&&(d||a===n))return A(i);if(!i||!(a=xr(a)))return i;var w=Jn(i),L=Jn(a),R=N(w,L),W=j(w,L)+1;return vo(w,R,W).join("")}function kS(i,a,d){if(i=kt(i),i&&(d||a===n))return i.slice(0,_n(i)+1);if(!i||!(a=xr(a)))return i;var w=Jn(i),L=j(w,Jn(a))+1;return vo(w,0,L).join("")}function RS(i,a,d){if(i=kt(i),i&&(d||a===n))return i.replace(Yt,"");if(!i||!(a=xr(a)))return i;var w=Jn(i),L=N(w,Jn(a));return vo(w,L).join("")}function OS(i,a){var d=pe,w=se;if(qt(a)){var L="separator"in a?a.separator:L;d="length"in a?ft(a.length):d,w="omission"in a?xr(a.omission):w}i=kt(i);var R=i.length;if(tt(i)){var W=Jn(i);R=W.length}if(d>=R)return i;var V=d-Nn(w);if(V<1)return w;var Q=W?vo(W,0,V).join(""):i.slice(0,V);if(L===n)return Q+w;if(W&&(V+=Q.length-V),of(L)){if(i.slice(V).search(L)){var me,ve=Q;for(L.global||(L=lt(L.source,kt(Tn.exec(L))+"g")),L.lastIndex=0;me=L.exec(ve);)var xe=me.index;Q=Q.slice(0,xe===n?V:xe)}}else if(i.indexOf(xr(L),V)!=V){var Oe=Q.lastIndexOf(L);Oe>-1&&(Q=Q.slice(0,Oe))}return Q+w}function FS(i){return i=kt(i),i&&Jo.test(i)?i.replace(ii,Mt):i}var NS=hs(function(i,a,d){return i+(d?" ":"")+a.toUpperCase()}),uf=Kh("toUpperCase");function Vp(i,a,d){return i=kt(i),a=d?n:a,a===n?rt(i)?ea(i):bl(i):i.match(a)||[]}var Yp=gt(function(i,a){try{return qn(i,n,a)}catch(d){return rf(d)?d:new nt(d)}}),$S=$i(function(i,a){return Fn(a,function(d){d=hi(d),Fi(i,d,tf(i[d],i))}),i});function BS(i){var a=i==null?0:i.length,d=Qe();return i=a?zt(i,function(w){if(typeof w[1]!="function")throw new fr(c);return[d(w[0]),w[1]]}):[],gt(function(w){for(var L=-1;++L<a;){var R=i[L];if(qn(R[0],this,w))return qn(R[1],this,w)}})}function DS(i){return l1(Pr(i,x))}function cf(i){return function(){return i}}function GS(i,a){return i==null||i!==i?a:i}var US=qh(),WS=qh(!0);function gr(i){return i}function lf(i){return _h(typeof i=="function"?i:Pr(i,x))}function HS(i){return Ph(Pr(i,x))}function zS(i,a){return Mh(i,Pr(a,x))}var jS=gt(function(i,a){return function(d){return aa(d,i,a)}}),XS=gt(function(i,a){return function(d){return aa(i,d,a)}});function ff(i,a,d){var w=Ln(a),L=Eu(a,w);d==null&&!(qt(a)&&(L.length||!w.length))&&(d=a,a=i,i=this,L=Eu(a,Ln(a)));var R=!(qt(d)&&"chain"in d)||!!d.chain,W=Di(i);return Fn(L,function(V){var Q=a[V];i[V]=Q,W&&(i.prototype[V]=function(){var me=this.__chain__;if(R||me){var ve=i(this.__wrapped__),xe=ve.__actions__=dr(this.__actions__);return xe.push({func:Q,args:arguments,thisArg:i}),ve.__chain__=me,ve}return Q.apply(i,li([this.value()],arguments))})}),i}function VS(){return Ht._===this&&(Ht._=pt),this}function df(){}function YS(i){return i=ft(i),gt(function(a){return Ih(a,i)})}var KS=Wl(zt),QS=Wl(Vs),qS=Wl(Ks);function Kp(i){return Kl(i)?Qs(hi(i)):_1(i)}function JS(i){return function(a){return i==null?n:No(i,a)}}var ZS=Zh(),e2=Zh(!0);function hf(){return[]}function pf(){return!1}function t2(){return{}}function n2(){return""}function r2(){return!0}function i2(i,a){if(i=ft(i),i<1||i>he)return[];var d=Ee,w=Xn(i,Ee);a=Qe(a),i-=Ee;for(var L=m(w,a);++d<i;)a(d);return L}function o2(i){return ct(i)?zt(i,hi):Sr(i)?[i]:dr(gp(kt(i)))}function s2(i){var a=++ue;return kt(i)+a}var a2=Pu(function(i,a){return i+a},0),u2=Hl("ceil"),c2=Pu(function(i,a){return i/a},1),l2=Hl("floor");function f2(i){return i&&i.length?Su(i,gr,Ll):n}function d2(i,a){return i&&i.length?Su(i,Qe(a,2),Ll):n}function h2(i){return mu(i,gr)}function p2(i,a){return mu(i,Qe(a,2))}function g2(i){return i&&i.length?Su(i,gr,kl):n}function m2(i,a){return i&&i.length?Su(i,Qe(a,2),kl):n}var y2=Pu(function(i,a){return i*a},1),v2=Hl("round"),w2=Pu(function(i,a){return i-a},0);function b2(i){return i&&i.length?f(i,gr):0}function x2(i,a){return i&&i.length?f(i,Qe(a,2)):0}return I.after=Hb,I.ary=Cp,I.assign=Mx,I.assignIn=Gp,I.assignInWith=Wu,I.assignWith=Ix,I.at=kx,I.before=_p,I.bind=tf,I.bindAll=$S,I.bindKey=Lp,I.castArray=tx,I.chain=Ep,I.chunk=lw,I.compact=fw,I.concat=dw,I.cond=BS,I.conforms=DS,I.constant=cf,I.countBy=bb,I.create=Rx,I.curry=Pp,I.curryRight=Mp,I.debounce=Ip,I.defaults=Ox,I.defaultsDeep=Fx,I.defer=zb,I.delay=jb,I.difference=hw,I.differenceBy=pw,I.differenceWith=gw,I.drop=mw,I.dropRight=yw,I.dropRightWhile=vw,I.dropWhile=ww,I.fill=bw,I.filter=Sb,I.flatMap=Tb,I.flatMapDeep=Cb,I.flatMapDepth=_b,I.flatten=wp,I.flattenDeep=xw,I.flattenDepth=Sw,I.flip=Xb,I.flow=US,I.flowRight=WS,I.fromPairs=Ew,I.functions=Wx,I.functionsIn=Hx,I.groupBy=Lb,I.initial=Tw,I.intersection=Cw,I.intersectionBy=_w,I.intersectionWith=Lw,I.invert=jx,I.invertBy=Xx,I.invokeMap=Mb,I.iteratee=lf,I.keyBy=Ib,I.keys=Ln,I.keysIn=pr,I.map=Nu,I.mapKeys=Yx,I.mapValues=Kx,I.matches=HS,I.matchesProperty=zS,I.memoize=Bu,I.merge=Qx,I.mergeWith=Up,I.method=jS,I.methodOf=XS,I.mixin=ff,I.negate=Du,I.nthArg=YS,I.omit=qx,I.omitBy=Jx,I.once=Vb,I.orderBy=kb,I.over=KS,I.overArgs=Yb,I.overEvery=QS,I.overSome=qS,I.partial=nf,I.partialRight=kp,I.partition=Rb,I.pick=Zx,I.pickBy=Wp,I.property=Kp,I.propertyOf=JS,I.pull=kw,I.pullAll=xp,I.pullAllBy=Rw,I.pullAllWith=Ow,I.pullAt=Fw,I.range=ZS,I.rangeRight=e2,I.rearg=Kb,I.reject=Nb,I.remove=Nw,I.rest=Qb,I.reverse=Zl,I.sampleSize=Bb,I.set=tS,I.setWith=nS,I.shuffle=Db,I.slice=$w,I.sortBy=Wb,I.sortedUniq=zw,I.sortedUniqBy=jw,I.split=TS,I.spread=qb,I.tail=Xw,I.take=Vw,I.takeRight=Yw,I.takeRightWhile=Kw,I.takeWhile=Qw,I.tap=fb,I.throttle=Jb,I.thru=Fu,I.toArray=$p,I.toPairs=Hp,I.toPairsIn=zp,I.toPath=o2,I.toPlainObject=Dp,I.transform=rS,I.unary=Zb,I.union=qw,I.unionBy=Jw,I.unionWith=Zw,I.uniq=eb,I.uniqBy=tb,I.uniqWith=nb,I.unset=iS,I.unzip=ef,I.unzipWith=Sp,I.update=oS,I.updateWith=sS,I.values=ms,I.valuesIn=aS,I.without=rb,I.words=Vp,I.wrap=ex,I.xor=ib,I.xorBy=ob,I.xorWith=sb,I.zip=ab,I.zipObject=ub,I.zipObjectDeep=cb,I.zipWith=lb,I.entries=Hp,I.entriesIn=zp,I.extend=Gp,I.extendWith=Wu,ff(I,I),I.add=a2,I.attempt=Yp,I.camelCase=fS,I.capitalize=jp,I.ceil=u2,I.clamp=uS,I.clone=nx,I.cloneDeep=ix,I.cloneDeepWith=ox,I.cloneWith=rx,I.conformsTo=sx,I.deburr=Xp,I.defaultTo=GS,I.divide=c2,I.endsWith=dS,I.eq=Kr,I.escape=hS,I.escapeRegExp=pS,I.every=xb,I.find=Eb,I.findIndex=yp,I.findKey=Nx,I.findLast=Ab,I.findLastIndex=vp,I.findLastKey=$x,I.floor=l2,I.forEach=Ap,I.forEachRight=Tp,I.forIn=Bx,I.forInRight=Dx,I.forOwn=Gx,I.forOwnRight=Ux,I.get=sf,I.gt=ax,I.gte=ux,I.has=zx,I.hasIn=af,I.head=bp,I.identity=gr,I.includes=Pb,I.indexOf=Aw,I.inRange=cS,I.invoke=Vx,I.isArguments=Do,I.isArray=ct,I.isArrayBuffer=cx,I.isArrayLike=hr,I.isArrayLikeObject=cn,I.isBoolean=lx,I.isBuffer=wo,I.isDate=fx,I.isElement=dx,I.isEmpty=hx,I.isEqual=px,I.isEqualWith=gx,I.isError=rf,I.isFinite=mx,I.isFunction=Di,I.isInteger=Rp,I.isLength=Gu,I.isMap=Op,I.isMatch=yx,I.isMatchWith=vx,I.isNaN=wx,I.isNative=bx,I.isNil=Sx,I.isNull=xx,I.isNumber=Fp,I.isObject=qt,I.isObjectLike=rn,I.isPlainObject=ha,I.isRegExp=of,I.isSafeInteger=Ex,I.isSet=Np,I.isString=Uu,I.isSymbol=Sr,I.isTypedArray=gs,I.isUndefined=Ax,I.isWeakMap=Tx,I.isWeakSet=Cx,I.join=Pw,I.kebabCase=gS,I.last=Ir,I.lastIndexOf=Mw,I.lowerCase=mS,I.lowerFirst=yS,I.lt=_x,I.lte=Lx,I.max=f2,I.maxBy=d2,I.mean=h2,I.meanBy=p2,I.min=g2,I.minBy=m2,I.stubArray=hf,I.stubFalse=pf,I.stubObject=t2,I.stubString=n2,I.stubTrue=r2,I.multiply=y2,I.nth=Iw,I.noConflict=VS,I.noop=df,I.now=$u,I.pad=vS,I.padEnd=wS,I.padStart=bS,I.parseInt=xS,I.random=lS,I.reduce=Ob,I.reduceRight=Fb,I.repeat=SS,I.replace=ES,I.result=eS,I.round=v2,I.runInContext=K,I.sample=$b,I.size=Gb,I.snakeCase=AS,I.some=Ub,I.sortedIndex=Bw,I.sortedIndexBy=Dw,I.sortedIndexOf=Gw,I.sortedLastIndex=Uw,I.sortedLastIndexBy=Ww,I.sortedLastIndexOf=Hw,I.startCase=CS,I.startsWith=_S,I.subtract=w2,I.sum=b2,I.sumBy=x2,I.template=LS,I.times=i2,I.toFinite=Gi,I.toInteger=ft,I.toLength=Bp,I.toLower=PS,I.toNumber=kr,I.toSafeInteger=Px,I.toString=kt,I.toUpper=MS,I.trim=IS,I.trimEnd=kS,I.trimStart=RS,I.truncate=OS,I.unescape=FS,I.uniqueId=s2,I.upperCase=NS,I.upperFirst=uf,I.each=Ap,I.eachRight=Tp,I.first=bp,ff(I,function(){var i={};return fi(I,function(a,d){X.call(I.prototype,d)||(i[d]=a)}),i}(),{chain:!1}),I.VERSION=r,Fn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){I[i].placeholder=I}),Fn(["drop","take"],function(i,a){bt.prototype[i]=function(d){d=d===n?1:xn(ft(d),0);var w=this.__filtered__&&!a?new bt(this):this.clone();return w.__filtered__?w.__takeCount__=Xn(d,w.__takeCount__):w.__views__.push({size:Xn(d,Ee),type:i+(w.__dir__<0?"Right":"")}),w},bt.prototype[i+"Right"]=function(d){return this.reverse()[i](d).reverse()}}),Fn(["filter","map","takeWhile"],function(i,a){var d=a+1,w=d==Ce||d==ae;bt.prototype[i]=function(L){var R=this.clone();return R.__iteratees__.push({iteratee:Qe(L,3),type:d}),R.__filtered__=R.__filtered__||w,R}}),Fn(["head","last"],function(i,a){var d="take"+(a?"Right":"");bt.prototype[i]=function(){return this[d](1).value()[0]}}),Fn(["initial","tail"],function(i,a){var d="drop"+(a?"":"Right");bt.prototype[i]=function(){return this.__filtered__?new bt(this):this[d](1)}}),bt.prototype.compact=function(){return this.filter(gr)},bt.prototype.find=function(i){return this.filter(i).head()},bt.prototype.findLast=function(i){return this.reverse().find(i)},bt.prototype.invokeMap=gt(function(i,a){return typeof i=="function"?new bt(this):this.map(function(d){return aa(d,i,a)})}),bt.prototype.reject=function(i){return this.filter(Du(Qe(i)))},bt.prototype.slice=function(i,a){i=ft(i);var d=this;return d.__filtered__&&(i>0||a<0)?new bt(d):(i<0?d=d.takeRight(-i):i&&(d=d.drop(i)),a!==n&&(a=ft(a),d=a<0?d.dropRight(-a):d.take(a-i)),d)},bt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},bt.prototype.toArray=function(){return this.take(Ee)},fi(bt.prototype,function(i,a){var d=/^(?:filter|find|map|reject)|While$/.test(a),w=/^(?:head|last)$/.test(a),L=I[w?"take"+(a=="last"?"Right":""):a],R=w||/^find/.test(a);L&&(I.prototype[a]=function(){var W=this.__wrapped__,V=w?[1]:arguments,Q=W instanceof bt,me=V[0],ve=Q||ct(W),xe=function(wt){var St=L.apply(I,li([wt],V));return w&&Oe?St[0]:St};ve&&d&&typeof me=="function"&&me.length!=1&&(Q=ve=!1);var Oe=this.__chain__,Ve=!!this.__actions__.length,Je=R&&!Oe,ht=Q&&!Ve;if(!R&&ve){W=ht?W:new bt(this);var Ze=i.apply(W,V);return Ze.__actions__.push({func:Fu,args:[xe],thisArg:n}),new Lr(Ze,Oe)}return Je&&ht?i.apply(this,V):(Ze=this.thru(xe),Je?w?Ze.value()[0]:Ze.value():Ze)})}),Fn(["pop","push","shift","sort","splice","unshift"],function(i){var a=y[i],d=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",w=/^(?:pop|shift)$/.test(i);I.prototype[i]=function(){var L=arguments;if(w&&!this.__chain__){var R=this.value();return a.apply(ct(R)?R:[],L)}return this[d](function(W){return a.apply(ct(W)?W:[],L)})}}),fi(bt.prototype,function(i,a){var d=I[a];if(d){var w=d.name+"";X.call(cs,w)||(cs[w]=[]),cs[w].push({name:a,func:d})}}),cs[Lu(n,B).name]=[{name:"wrapper",func:n}],bt.prototype.clone=Fv,bt.prototype.reverse=Nv,bt.prototype.value=$v,I.prototype.at=db,I.prototype.chain=hb,I.prototype.commit=pb,I.prototype.next=gb,I.prototype.plant=yb,I.prototype.reverse=vb,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=wb,I.prototype.first=I.prototype.head,_&&(I.prototype[_]=mb),I},ki=ho();Cr?((Cr.exports=ki)._=ki,Ii._=ki):Ht._=ki}).call(pa)})(dc,dc.exports);var Ue=dc.exports;const ek=Ko(Ue);var _2=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(e={}){var n=e,r,o;n.ready=new Promise((s,f)=>{r=s,o=f}),function(s){s.Td=s.Td||[],s.Td.push(function(){s.MakeSWCanvasSurface=function(f){var m=f,v=typeof OffscreenCanvas<"u"&&m instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&m instanceof HTMLCanvasElement||v||(m=document.getElementById(f),m)))throw"Canvas with id "+f+" was not found";return(f=s.MakeSurface(m.width,m.height))&&(f.Md=m),f},s.MakeCanvasSurface||(s.MakeCanvasSurface=s.MakeSWCanvasSurface),s.MakeSurface=function(f,m){var v={width:f,height:m,colorType:s.ColorType.RGBA_8888,alphaType:s.AlphaType.Unpremul,colorSpace:s.ColorSpace.SRGB},A=f*m*4,k=s._malloc(A);return(v=s.Surface._makeRasterDirect(v,k,4*f))&&(v.Md=null,v.If=f,v.Ef=m,v.Gf=A,v.cf=k,v.getCanvas().clear(s.TRANSPARENT)),v},s.MakeRasterDirectSurface=function(f,m,v){return s.Surface._makeRasterDirect(f,m.byteOffset,v)},s.Surface.prototype.flush=function(f){if(s.Nd(this.Ld),this._flush(),this.Md){var m=new Uint8ClampedArray(s.HEAPU8.buffer,this.cf,this.Gf);m=new ImageData(m,this.If,this.Ef),f?this.Md.getContext("2d").putImageData(m,0,0,f[0],f[1],f[2]-f[0],f[3]-f[1]):this.Md.getContext("2d").putImageData(m,0,0)}},s.Surface.prototype.dispose=function(){this.cf&&s._free(this.cf),this.delete()},s.Nd=s.Nd||function(){},s.Ue=s.Ue||function(){return null}})}(n),function(s){s.Td=s.Td||[],s.Td.push(function(){function f(O,N,j){return O&&O.hasOwnProperty(N)?O[N]:j}function m(O){var N=so(Hn);return Hn[N]=O,N}function v(O){return O.naturalHeight||O.videoHeight||O.displayHeight||O.height}function A(O){return O.naturalWidth||O.videoWidth||O.displayWidth||O.width}function k(O,N,j,ge){return O.bindTexture(O.TEXTURE_2D,N),ge||j.alphaType!==s.AlphaType.Premul||O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),N}function H(O,N,j){j||N.alphaType!==s.AlphaType.Premul||O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),O.bindTexture(O.TEXTURE_2D,null)}s.GetWebGLContext=function(O,N){if(!O)throw"null canvas passed into makeWebGLContext";var j={alpha:f(N,"alpha",1),depth:f(N,"depth",1),stencil:f(N,"stencil",8),antialias:f(N,"antialias",0),premultipliedAlpha:f(N,"premultipliedAlpha",1),preserveDrawingBuffer:f(N,"preserveDrawingBuffer",0),preferLowPowerToHighPerformance:f(N,"preferLowPowerToHighPerformance",0),failIfMajorPerformanceCaveat:f(N,"failIfMajorPerformanceCaveat",0),enableExtensionsByDefault:f(N,"enableExtensionsByDefault",1),explicitSwapControl:f(N,"explicitSwapControl",0),renderViaOffscreenBackBuffer:f(N,"renderViaOffscreenBackBuffer",0)};if(j.majorVersion=N&&N.majorVersion?N.majorVersion:typeof WebGL2RenderingContext<"u"?2:1,j.explicitSwapControl)throw"explicitSwapControl is not supported";return O=hl(O,j),O?(ou(O),ut.ge.getExtension("WEBGL_debug_renderer_info"),O):0},s.deleteContext=function(O){ut===br[O]&&(ut=null),typeof JSEvents=="object"&&JSEvents.yg(br[O].ge.canvas),br[O]&&br[O].ge.canvas&&(br[O].ge.canvas.Af=void 0),br[O]=null},s._setTextureCleanup({deleteTexture:function(O,N){var j=Hn[N];j&&br[O].ge.deleteTexture(j),Hn[N]=null}}),s.MakeWebGLContext=function(O){if(!this.Nd(O))return null;var N=this._MakeGrContext();if(!N)return null;N.Ld=O;var j=N.delete.bind(N);return N.delete=(function(){s.Nd(this.Ld),j()}).bind(N),ut.gf=N},s.MakeGrContext=s.MakeWebGLContext,s.GrDirectContext.prototype.getResourceCacheLimitBytes=function(){s.Nd(this.Ld),this._getResourceCacheLimitBytes()},s.GrDirectContext.prototype.getResourceCacheUsageBytes=function(){s.Nd(this.Ld),this._getResourceCacheUsageBytes()},s.GrDirectContext.prototype.releaseResourcesAndAbandonContext=function(){s.Nd(this.Ld),this._releaseResourcesAndAbandonContext()},s.GrDirectContext.prototype.setResourceCacheLimitBytes=function(O){s.Nd(this.Ld),this._setResourceCacheLimitBytes(O)},s.MakeOnScreenGLSurface=function(O,N,j,ge,be,Ge){return!this.Nd(O.Ld)||(N=be===void 0||Ge===void 0?this._MakeOnScreenGLSurface(O,N,j,ge):this._MakeOnScreenGLSurface(O,N,j,ge,be,Ge),!N)?null:(N.Ld=O.Ld,N)},s.MakeRenderTarget=function(){var O=arguments[0];if(!this.Nd(O.Ld))return null;if(arguments.length===3){var N=this._MakeRenderTargetWH(O,arguments[1],arguments[2]);if(!N)return null}else if(arguments.length===2){if(N=this._MakeRenderTargetII(O,arguments[1]),!N)return null}else return null;return N.Ld=O.Ld,N},s.MakeWebGLCanvasSurface=function(O,N,j){N=N||null;var ge=O,be=typeof OffscreenCanvas<"u"&&ge instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&ge instanceof HTMLCanvasElement||be||(ge=document.getElementById(O),ge)))throw"Canvas with id "+O+" was not found";if(O=this.GetWebGLContext(ge,j),!O||0>O)throw"failed to create webgl context: err "+O;return O=this.MakeWebGLContext(O),N=this.MakeOnScreenGLSurface(O,ge.width,ge.height,N),N||(N=ge.cloneNode(!0),ge.parentNode.replaceChild(N,ge),N.classList.add("ck-replaced"),s.MakeSWCanvasSurface(N))},s.MakeCanvasSurface=s.MakeWebGLCanvasSurface,s.Surface.prototype.makeImageFromTexture=function(O,N){return s.Nd(this.Ld),O=m(O),(N=this._makeImageFromTexture(this.Ld,O,N))&&(N.Me=O),N},s.Surface.prototype.makeImageFromTextureSource=function(O,N,j){N||(N={height:v(O),width:A(O),colorType:s.ColorType.RGBA_8888,alphaType:j?s.AlphaType.Premul:s.AlphaType.Unpremul}),N.colorSpace||(N.colorSpace=s.ColorSpace.SRGB),s.Nd(this.Ld);var ge=ut.ge;return j=k(ge,ge.createTexture(),N,j),ut.version===2?ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,N.width,N.height,0,ge.RGBA,ge.UNSIGNED_BYTE,O):ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,ge.RGBA,ge.UNSIGNED_BYTE,O),H(ge,N),this._resetContext(),this.makeImageFromTexture(j,N)},s.Surface.prototype.updateTextureFromSource=function(O,N,j){if(O.Me){s.Nd(this.Ld);var ge=O.getImageInfo(),be=ut.ge,Ge=k(be,Hn[O.Me],ge,j);ut.version===2?be.texImage2D(be.TEXTURE_2D,0,be.RGBA,A(N),v(N),0,be.RGBA,be.UNSIGNED_BYTE,N):be.texImage2D(be.TEXTURE_2D,0,be.RGBA,be.RGBA,be.UNSIGNED_BYTE,N),H(be,ge,j),this._resetContext(),Hn[O.Me]=null,O.Me=m(Ge),ge.colorSpace=O.getColorSpace(),N=this._makeImageFromTexture(this.Ld,O.Me,ge),j=O.Kd.Sd,be=O.Kd.Zd,O.Kd.Sd=N.Kd.Sd,O.Kd.Zd=N.Kd.Zd,N.Kd.Sd=j,N.Kd.Zd=be,N.delete(),ge.colorSpace.delete()}},s.MakeLazyImageFromTextureSource=function(O,N,j){N||(N={height:v(O),width:A(O),colorType:s.ColorType.RGBA_8888,alphaType:j?s.AlphaType.Premul:s.AlphaType.Unpremul}),N.colorSpace||(N.colorSpace=s.ColorSpace.SRGB);var ge={makeTexture:function(){var be=ut,Ge=be.ge,Z=k(Ge,Ge.createTexture(),N,j);return be.version===2?Ge.texImage2D(Ge.TEXTURE_2D,0,Ge.RGBA,N.width,N.height,0,Ge.RGBA,Ge.UNSIGNED_BYTE,O):Ge.texImage2D(Ge.TEXTURE_2D,0,Ge.RGBA,Ge.RGBA,Ge.UNSIGNED_BYTE,O),H(Ge,N,j),m(Z)},freeSrc:function(){}};return O.constructor.name==="VideoFrame"&&(ge.freeSrc=function(){O.close()}),s.Image._makeFromGenerator(N,ge)},s.Nd=function(O){return O?ou(O):!1},s.Ue=function(){return ut&&ut.gf&&!ut.gf.isDeleted()?ut.gf:null}})}(n),function(s){function f(y,g,S,M,G){for(var X=0;X<y.length;X++)g[X*S+(X*G+M+S)%S]=y[X];return g}function m(y){for(var g=y*y,S=Array(g);g--;)S[g]=g%(y+1)===0?1:0;return S}function v(y){return y?y.constructor===Float32Array&&y.length===4:!1}function A(y){return(O(255*y[3])<<24|O(255*y[0])<<16|O(255*y[1])<<8|O(255*y[2])<<0)>>>0}function k(y){if(y&&y._ck)return y;if(y instanceof Float32Array){for(var g=Math.floor(y.length/4),S=new Uint32Array(g),M=0;M<g;M++)S[M]=A(y.slice(4*M,4*(M+1)));return S}if(y instanceof Uint32Array)return y;if(y instanceof Array&&y[0]instanceof Float32Array)return y.map(A)}function H(y){if(y===void 0)return 1;var g=parseFloat(y);return y&&y.indexOf("%")!==-1?g/100:g}function O(y){return Math.round(Math.max(0,Math.min(y||0,255)))}function N(y,g){g&&g._ck||s._free(y)}function j(y,g,S){if(!y||!y.length)return lt;if(y&&y._ck)return y.byteOffset;var M=s[g].BYTES_PER_ELEMENT;return S||(S=s._malloc(y.length*M)),s[g].set(y,S/M),S}function ge(y){var g={ce:lt,count:y.length,colorType:s.ColorType.RGBA_F32};if(y instanceof Float32Array)g.ce=j(y,"HEAPF32"),g.count=y.length/4;else if(y instanceof Uint32Array)g.ce=j(y,"HEAPU32"),g.colorType=s.ColorType.RGBA_8888;else if(y instanceof Array){if(y&&y.length){for(var S=s._malloc(16*y.length),M=0,G=S/4,X=0;X<y.length;X++)for(var ue=0;4>ue;ue++)s.HEAPF32[G+M]=y[X][ue],M++;y=S}else y=lt;g.ce=y}else throw"Invalid argument to copyFlexibleColorArray, Not a color array "+typeof y;return g}function be(y){if(!y)return lt;var g=Js.toTypedArray();if(y.length){if(y.length===6||y.length===9)return j(y,"HEAPF32",lr),y.length===6&&s.HEAPF32.set(Ot,6+lr/4),lr;if(y.length===16)return g[0]=y[0],g[1]=y[1],g[2]=y[3],g[3]=y[4],g[4]=y[5],g[5]=y[7],g[6]=y[12],g[7]=y[13],g[8]=y[15],lr;throw"invalid matrix size"}if(y.m11===void 0)throw"invalid matrix argument";return g[0]=y.m11,g[1]=y.m21,g[2]=y.m41,g[3]=y.m12,g[4]=y.m22,g[5]=y.m42,g[6]=y.m14,g[7]=y.m24,g[8]=y.m44,lr}function Ge(y){if(!y)return lt;var g=Zs.toTypedArray();if(y.length){if(y.length!==16&&y.length!==6&&y.length!==9)throw"invalid matrix size";return y.length===16?j(y,"HEAPF32",fo):(g.fill(0),g[0]=y[0],g[1]=y[1],g[3]=y[2],g[4]=y[3],g[5]=y[4],g[7]=y[5],g[10]=1,g[12]=y[6],g[13]=y[7],g[15]=y[8],y.length===6&&(g[12]=0,g[13]=0,g[15]=1),fo)}if(y.m11===void 0)throw"invalid matrix argument";return g[0]=y.m11,g[1]=y.m21,g[2]=y.m31,g[3]=y.m41,g[4]=y.m12,g[5]=y.m22,g[6]=y.m32,g[7]=y.m42,g[8]=y.m13,g[9]=y.m23,g[10]=y.m33,g[11]=y.m43,g[12]=y.m14,g[13]=y.m24,g[14]=y.m34,g[15]=y.m44,fo}function Z(y,g){return j(y,"HEAPF32",g||Nn)}function We(y,g,S,M){var G=Jn.toTypedArray();return G[0]=y,G[1]=g,G[2]=S,G[3]=M,Nn}function tt(y){for(var g=new Float32Array(4),S=0;4>S;S++)g[S]=s.HEAPF32[y/4+S];return g}function rt(y,g){return j(y,"HEAPF32",g||Mt)}function jn(y,g){return j(y,"HEAPF32",g||nt)}function an(){for(var y=0,g=0;g<arguments.length-1;g+=2)y+=arguments[g]*arguments[g+1];return y}function lo(y,g,S){for(var M=Array(y.length),G=0;G<S;G++)for(var X=0;X<S;X++){for(var ue=0,Te=0;Te<S;Te++)ue+=y[S*G+Te]*g[S*Te+X];M[G*S+X]=ue}return M}function cr(y,g){for(var S=lo(g[0],g[1],y),M=2;M<g.length;)S=lo(S,g[M],y),M++;return S}s.Color=function(y,g,S,M){return M===void 0&&(M=1),s.Color4f(O(y)/255,O(g)/255,O(S)/255,M)},s.ColorAsInt=function(y,g,S,M){return M===void 0&&(M=255),(O(M)<<24|O(y)<<16|O(g)<<8|O(S)<<0&268435455)>>>0},s.Color4f=function(y,g,S,M){return M===void 0&&(M=1),Float32Array.of(y,g,S,M)},Object.defineProperty(s,"TRANSPARENT",{get:function(){return s.Color4f(0,0,0,0)}}),Object.defineProperty(s,"BLACK",{get:function(){return s.Color4f(0,0,0,1)}}),Object.defineProperty(s,"WHITE",{get:function(){return s.Color4f(1,1,1,1)}}),Object.defineProperty(s,"RED",{get:function(){return s.Color4f(1,0,0,1)}}),Object.defineProperty(s,"GREEN",{get:function(){return s.Color4f(0,1,0,1)}}),Object.defineProperty(s,"BLUE",{get:function(){return s.Color4f(0,0,1,1)}}),Object.defineProperty(s,"YELLOW",{get:function(){return s.Color4f(1,1,0,1)}}),Object.defineProperty(s,"CYAN",{get:function(){return s.Color4f(0,1,1,1)}}),Object.defineProperty(s,"MAGENTA",{get:function(){return s.Color4f(1,0,1,1)}}),s.getColorComponents=function(y){return[Math.floor(255*y[0]),Math.floor(255*y[1]),Math.floor(255*y[2]),y[3]]},s.parseColorString=function(y,g){if(y=y.toLowerCase(),y.startsWith("#")){switch(g=255,y.length){case 9:g=parseInt(y.slice(7,9),16);case 7:var S=parseInt(y.slice(1,3),16),M=parseInt(y.slice(3,5),16),G=parseInt(y.slice(5,7),16);break;case 5:g=17*parseInt(y.slice(4,5),16);case 4:S=17*parseInt(y.slice(1,2),16),M=17*parseInt(y.slice(2,3),16),G=17*parseInt(y.slice(3,4),16)}return s.Color(S,M,G,g/255)}return y.startsWith("rgba")?(y=y.slice(5,-1),y=y.split(","),s.Color(+y[0],+y[1],+y[2],H(y[3]))):y.startsWith("rgb")?(y=y.slice(4,-1),y=y.split(","),s.Color(+y[0],+y[1],+y[2],H(y[3]))):y.startsWith("gray(")||y.startsWith("hsl")||!g||(y=g[y],y===void 0)?s.BLACK:y},s.multiplyByAlpha=function(y,g){return y=y.slice(),y[3]=Math.max(0,Math.min(y[3]*g,1)),y},s.Malloc=function(y,g){var S=s._malloc(g*y.BYTES_PER_ELEMENT);return{_ck:!0,length:g,byteOffset:S,re:null,subarray:function(M,G){return M=this.toTypedArray().subarray(M,G),M._ck=!0,M},toTypedArray:function(){return this.re&&this.re.length?this.re:(this.re=new y(s.HEAPU8.buffer,S,g),this.re._ck=!0,this.re)}}},s.Free=function(y){s._free(y.byteOffset),y.byteOffset=lt,y.toTypedArray=null,y.re=null};var lr=lt,Js,fo=lt,Zs,Nn=lt,Jn,_n,Mt=lt,yu,Vr=lt,ea,ho=lt,ki,K=lt,fe,oe=lt,$e,nt=lt,Et,nn=lt,Ot=Float32Array.of(0,0,1),lt=0;s.onRuntimeInitialized=function(){function y(g,S,M,G,X,ue,Te){ue||(ue=4*G.width,G.colorType===s.ColorType.RGBA_F16?ue*=2:G.colorType===s.ColorType.RGBA_F32&&(ue*=4));var ze=ue*G.height,Xe=X?X.byteOffset:s._malloc(ze);if(Te?!g._readPixels(G,Xe,ue,S,M,Te):!g._readPixels(G,Xe,ue,S,M))return X||s._free(Xe),null;if(X)return X.toTypedArray();switch(G.colorType){case s.ColorType.RGBA_8888:case s.ColorType.RGBA_F16:g=new Uint8Array(s.HEAPU8.buffer,Xe,ze).slice();break;case s.ColorType.RGBA_F32:g=new Float32Array(s.HEAPU8.buffer,Xe,ze).slice();break;default:return null}return s._free(Xe),g}Jn=s.Malloc(Float32Array,4),Nn=Jn.byteOffset,Zs=s.Malloc(Float32Array,16),fo=Zs.byteOffset,Js=s.Malloc(Float32Array,9),lr=Js.byteOffset,$e=s.Malloc(Float32Array,12),nt=$e.byteOffset,Et=s.Malloc(Float32Array,12),nn=Et.byteOffset,_n=s.Malloc(Float32Array,4),Mt=_n.byteOffset,yu=s.Malloc(Float32Array,4),Vr=yu.byteOffset,ea=s.Malloc(Float32Array,3),ho=ea.byteOffset,ki=s.Malloc(Float32Array,3),K=ki.byteOffset,fe=s.Malloc(Int32Array,4),oe=fe.byteOffset,s.ColorSpace.SRGB=s.ColorSpace._MakeSRGB(),s.ColorSpace.DISPLAY_P3=s.ColorSpace._MakeDisplayP3(),s.ColorSpace.ADOBE_RGB=s.ColorSpace._MakeAdobeRGB(),s.GlyphRunFlags={IsWhiteSpace:s._GlyphRunFlags_isWhiteSpace},s.Path.MakeFromCmds=function(g){var S=j(g,"HEAPF32"),M=s.Path._MakeFromCmds(S,g.length);return N(S,g),M},s.Path.MakeFromVerbsPointsWeights=function(g,S,M){var G=j(g,"HEAPU8"),X=j(S,"HEAPF32"),ue=j(M,"HEAPF32"),Te=s.Path._MakeFromVerbsPointsWeights(G,g.length,X,S.length,ue,M&&M.length||0);return N(G,g),N(X,S),N(ue,M),Te},s.Path.prototype.addArc=function(g,S,M){return g=rt(g),this._addArc(g,S,M),this},s.Path.prototype.addCircle=function(g,S,M,G){return this._addCircle(g,S,M,!!G),this},s.Path.prototype.addOval=function(g,S,M){return M===void 0&&(M=1),g=rt(g),this._addOval(g,!!S,M),this},s.Path.prototype.addPath=function(){var g=Array.prototype.slice.call(arguments),S=g[0],M=!1;if(typeof g[g.length-1]=="boolean"&&(M=g.pop()),g.length===1)this._addPath(S,1,0,0,0,1,0,0,0,1,M);else if(g.length===2)g=g[1],this._addPath(S,g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1,M);else if(g.length===7||g.length===10)this._addPath(S,g[1],g[2],g[3],g[4],g[5],g[6],g[7]||0,g[8]||0,g[9]||1,M);else return null;return this},s.Path.prototype.addPoly=function(g,S){var M=j(g,"HEAPF32");return this._addPoly(M,g.length/2,S),N(M,g),this},s.Path.prototype.addRect=function(g,S){return g=rt(g),this._addRect(g,!!S),this},s.Path.prototype.addRRect=function(g,S){return g=jn(g),this._addRRect(g,!!S),this},s.Path.prototype.addVerbsPointsWeights=function(g,S,M){var G=j(g,"HEAPU8"),X=j(S,"HEAPF32"),ue=j(M,"HEAPF32");this._addVerbsPointsWeights(G,g.length,X,S.length,ue,M&&M.length||0),N(G,g),N(X,S),N(ue,M)},s.Path.prototype.arc=function(g,S,M,G,X,ue){return g=s.LTRBRect(g-M,S-M,g+M,S+M),X=(X-G)/Math.PI*180-360*!!ue,ue=new s.Path,ue.addArc(g,G/Math.PI*180,X),this.addPath(ue,!0),ue.delete(),this},s.Path.prototype.arcToOval=function(g,S,M,G){return g=rt(g),this._arcToOval(g,S,M,G),this},s.Path.prototype.arcToRotated=function(g,S,M,G,X,ue,Te){return this._arcToRotated(g,S,M,!!G,!!X,ue,Te),this},s.Path.prototype.arcToTangent=function(g,S,M,G,X){return this._arcToTangent(g,S,M,G,X),this},s.Path.prototype.close=function(){return this._close(),this},s.Path.prototype.conicTo=function(g,S,M,G,X){return this._conicTo(g,S,M,G,X),this},s.Path.prototype.computeTightBounds=function(g){this._computeTightBounds(Mt);var S=_n.toTypedArray();return g?(g.set(S),g):S.slice()},s.Path.prototype.cubicTo=function(g,S,M,G,X,ue){return this._cubicTo(g,S,M,G,X,ue),this},s.Path.prototype.dash=function(g,S,M){return this._dash(g,S,M)?this:null},s.Path.prototype.getBounds=function(g){this._getBounds(Mt);var S=_n.toTypedArray();return g?(g.set(S),g):S.slice()},s.Path.prototype.lineTo=function(g,S){return this._lineTo(g,S),this},s.Path.prototype.moveTo=function(g,S){return this._moveTo(g,S),this},s.Path.prototype.offset=function(g,S){return this._transform(1,0,g,0,1,S,0,0,1),this},s.Path.prototype.quadTo=function(g,S,M,G){return this._quadTo(g,S,M,G),this},s.Path.prototype.rArcTo=function(g,S,M,G,X,ue,Te){return this._rArcTo(g,S,M,G,X,ue,Te),this},s.Path.prototype.rConicTo=function(g,S,M,G,X){return this._rConicTo(g,S,M,G,X),this},s.Path.prototype.rCubicTo=function(g,S,M,G,X,ue){return this._rCubicTo(g,S,M,G,X,ue),this},s.Path.prototype.rLineTo=function(g,S){return this._rLineTo(g,S),this},s.Path.prototype.rMoveTo=function(g,S){return this._rMoveTo(g,S),this},s.Path.prototype.rQuadTo=function(g,S,M,G){return this._rQuadTo(g,S,M,G),this},s.Path.prototype.stroke=function(g){return g=g||{},g.width=g.width||1,g.miter_limit=g.miter_limit||4,g.cap=g.cap||s.StrokeCap.Butt,g.join=g.join||s.StrokeJoin.Miter,g.precision=g.precision||1,this._stroke(g)?this:null},s.Path.prototype.transform=function(){if(arguments.length===1){var g=arguments[0];this._transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1)}else if(arguments.length===6||arguments.length===9)g=arguments,this._transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1);else throw"transform expected to take 1 or 9 arguments. Got "+arguments.length;return this},s.Path.prototype.trim=function(g,S,M){return this._trim(g,S,!!M)?this:null},s.Image.prototype.encodeToBytes=function(g,S){var M=s.Ue();return g=g||s.ImageFormat.PNG,S=S||100,M?this._encodeToBytes(g,S,M):this._encodeToBytes(g,S)},s.Image.prototype.makeShaderCubic=function(g,S,M,G,X){return X=be(X),this._makeShaderCubic(g,S,M,G,X)},s.Image.prototype.makeShaderOptions=function(g,S,M,G,X){return X=be(X),this._makeShaderOptions(g,S,M,G,X)},s.Image.prototype.readPixels=function(g,S,M,G,X){var ue=s.Ue();return y(this,g,S,M,G,X,ue)},s.Canvas.prototype.clear=function(g){s.Nd(this.Ld),g=Z(g),this._clear(g)},s.Canvas.prototype.clipRRect=function(g,S,M){s.Nd(this.Ld),g=jn(g),this._clipRRect(g,S,M)},s.Canvas.prototype.clipRect=function(g,S,M){s.Nd(this.Ld),g=rt(g),this._clipRect(g,S,M)},s.Canvas.prototype.concat=function(g){s.Nd(this.Ld),g=Ge(g),this._concat(g)},s.Canvas.prototype.drawArc=function(g,S,M,G,X){s.Nd(this.Ld),g=rt(g),this._drawArc(g,S,M,G,X)},s.Canvas.prototype.drawAtlas=function(g,S,M,G,X,ue,Te){if(g&&G&&S&&M&&S.length===M.length){s.Nd(this.Ld),X||(X=s.BlendMode.SrcOver);var ze=j(S,"HEAPF32"),Xe=j(M,"HEAPF32"),pt=M.length/4,dt=j(k(ue),"HEAPU32");if(Te&&"B"in Te&&"C"in Te)this._drawAtlasCubic(g,Xe,ze,dt,pt,X,Te.B,Te.C,G);else{let D=s.FilterMode.Linear,de=s.MipmapMode.None;Te&&(D=Te.filter,"mipmap"in Te&&(de=Te.mipmap)),this._drawAtlasOptions(g,Xe,ze,dt,pt,X,D,de,G)}N(ze,S),N(Xe,M),N(dt,ue)}},s.Canvas.prototype.drawCircle=function(g,S,M,G){s.Nd(this.Ld),this._drawCircle(g,S,M,G)},s.Canvas.prototype.drawColor=function(g,S){s.Nd(this.Ld),g=Z(g),S!==void 0?this._drawColor(g,S):this._drawColor(g)},s.Canvas.prototype.drawColorInt=function(g,S){s.Nd(this.Ld),this._drawColorInt(g,S||s.BlendMode.SrcOver)},s.Canvas.prototype.drawColorComponents=function(g,S,M,G,X){s.Nd(this.Ld),g=We(g,S,M,G),X!==void 0?this._drawColor(g,X):this._drawColor(g)},s.Canvas.prototype.drawDRRect=function(g,S,M){s.Nd(this.Ld),g=jn(g,nt),S=jn(S,nn),this._drawDRRect(g,S,M)},s.Canvas.prototype.drawImage=function(g,S,M,G){s.Nd(this.Ld),this._drawImage(g,S,M,G||null)},s.Canvas.prototype.drawImageCubic=function(g,S,M,G,X,ue){s.Nd(this.Ld),this._drawImageCubic(g,S,M,G,X,ue||null)},s.Canvas.prototype.drawImageOptions=function(g,S,M,G,X,ue){s.Nd(this.Ld),this._drawImageOptions(g,S,M,G,X,ue||null)},s.Canvas.prototype.drawImageNine=function(g,S,M,G,X){s.Nd(this.Ld),S=j(S,"HEAP32",oe),M=rt(M),this._drawImageNine(g,S,M,G,X||null)},s.Canvas.prototype.drawImageRect=function(g,S,M,G,X){s.Nd(this.Ld),rt(S,Mt),rt(M,Vr),this._drawImageRect(g,Mt,Vr,G,!!X)},s.Canvas.prototype.drawImageRectCubic=function(g,S,M,G,X,ue){s.Nd(this.Ld),rt(S,Mt),rt(M,Vr),this._drawImageRectCubic(g,Mt,Vr,G,X,ue||null)},s.Canvas.prototype.drawImageRectOptions=function(g,S,M,G,X,ue){s.Nd(this.Ld),rt(S,Mt),rt(M,Vr),this._drawImageRectOptions(g,Mt,Vr,G,X,ue||null)},s.Canvas.prototype.drawLine=function(g,S,M,G,X){s.Nd(this.Ld),this._drawLine(g,S,M,G,X)},s.Canvas.prototype.drawOval=function(g,S){s.Nd(this.Ld),g=rt(g),this._drawOval(g,S)},s.Canvas.prototype.drawPaint=function(g){s.Nd(this.Ld),this._drawPaint(g)},s.Canvas.prototype.drawParagraph=function(g,S,M){s.Nd(this.Ld),this._drawParagraph(g,S,M)},s.Canvas.prototype.drawPatch=function(g,S,M,G,X){if(24>g.length)throw"Need 12 cubic points";if(S&&4>S.length)throw"Need 4 colors";if(M&&8>M.length)throw"Need 4 shader coordinates";s.Nd(this.Ld);const ue=j(g,"HEAPF32"),Te=S?j(k(S),"HEAPU32"):lt,ze=M?j(M,"HEAPF32"):lt;G||(G=s.BlendMode.Modulate),this._drawPatch(ue,Te,ze,G,X),N(ze,M),N(Te,S),N(ue,g)},s.Canvas.prototype.drawPath=function(g,S){s.Nd(this.Ld),this._drawPath(g,S)},s.Canvas.prototype.drawPicture=function(g){s.Nd(this.Ld),this._drawPicture(g)},s.Canvas.prototype.drawPoints=function(g,S,M){s.Nd(this.Ld);var G=j(S,"HEAPF32");this._drawPoints(g,G,S.length/2,M),N(G,S)},s.Canvas.prototype.drawRRect=function(g,S){s.Nd(this.Ld),g=jn(g),this._drawRRect(g,S)},s.Canvas.prototype.drawRect=function(g,S){s.Nd(this.Ld),g=rt(g),this._drawRect(g,S)},s.Canvas.prototype.drawRect4f=function(g,S,M,G,X){s.Nd(this.Ld),this._drawRect4f(g,S,M,G,X)},s.Canvas.prototype.drawShadow=function(g,S,M,G,X,ue,Te){s.Nd(this.Ld);var ze=j(X,"HEAPF32"),Xe=j(ue,"HEAPF32");S=j(S,"HEAPF32",ho),M=j(M,"HEAPF32",K),this._drawShadow(g,S,M,G,ze,Xe,Te),N(ze,X),N(Xe,ue)},s.getShadowLocalBounds=function(g,S,M,G,X,ue,Te){return g=be(g),M=j(M,"HEAPF32",ho),G=j(G,"HEAPF32",K),this._getShadowLocalBounds(g,S,M,G,X,ue,Mt)?(S=_n.toTypedArray(),Te?(Te.set(S),Te):S.slice()):null},s.Canvas.prototype.drawTextBlob=function(g,S,M,G){s.Nd(this.Ld),this._drawTextBlob(g,S,M,G)},s.Canvas.prototype.drawVertices=function(g,S,M){s.Nd(this.Ld),this._drawVertices(g,S,M)},s.Canvas.prototype.getDeviceClipBounds=function(g){this._getDeviceClipBounds(oe);var S=fe.toTypedArray();return g?g.set(S):g=S.slice(),g},s.Canvas.prototype.getLocalToDevice=function(){this._getLocalToDevice(fo);for(var g=fo,S=Array(16),M=0;16>M;M++)S[M]=s.HEAPF32[g/4+M];return S},s.Canvas.prototype.getTotalMatrix=function(){this._getTotalMatrix(lr);for(var g=Array(9),S=0;9>S;S++)g[S]=s.HEAPF32[lr/4+S];return g},s.Canvas.prototype.makeSurface=function(g){return g=this._makeSurface(g),g.Ld=this.Ld,g},s.Canvas.prototype.readPixels=function(g,S,M,G,X){return s.Nd(this.Ld),y(this,g,S,M,G,X)},s.Canvas.prototype.saveLayer=function(g,S,M,G){return S=rt(S),this._saveLayer(g||null,S,M||null,G||0)},s.Canvas.prototype.writePixels=function(g,S,M,G,X,ue,Te,ze){if(g.byteLength%(S*M))throw"pixels length must be a multiple of the srcWidth * srcHeight";s.Nd(this.Ld);var Xe=g.byteLength/(S*M);ue=ue||s.AlphaType.Unpremul,Te=Te||s.ColorType.RGBA_8888,ze=ze||s.ColorSpace.SRGB;var pt=Xe*S;return Xe=j(g,"HEAPU8"),S=this._writePixels({width:S,height:M,colorType:Te,alphaType:ue,colorSpace:ze},Xe,pt,G,X),N(Xe,g),S},s.ColorFilter.MakeBlend=function(g,S,M){return g=Z(g),M=M||s.ColorSpace.SRGB,s.ColorFilter._MakeBlend(g,S,M)},s.ColorFilter.MakeMatrix=function(g){if(!g||g.length!==20)throw"invalid color matrix";var S=j(g,"HEAPF32"),M=s.ColorFilter._makeMatrix(S);return N(S,g),M},s.ContourMeasure.prototype.getPosTan=function(g,S){return this._getPosTan(g,Mt),g=_n.toTypedArray(),S?(S.set(g),S):g.slice()},s.ImageFilter.prototype.getOutputBounds=function(g,S,M){return g=rt(g,Mt),S=be(S),this._getOutputBounds(g,S,oe),S=fe.toTypedArray(),M?(M.set(S),M):S.slice()},s.ImageFilter.MakeDropShadow=function(g,S,M,G,X,ue){return X=Z(X,Nn),s.ImageFilter._MakeDropShadow(g,S,M,G,X,ue)},s.ImageFilter.MakeDropShadowOnly=function(g,S,M,G,X,ue){return X=Z(X,Nn),s.ImageFilter._MakeDropShadowOnly(g,S,M,G,X,ue)},s.ImageFilter.MakeImage=function(g,S,M,G){if(M=rt(M,Mt),G=rt(G,Vr),"B"in S&&"C"in S)return s.ImageFilter._MakeImageCubic(g,S.B,S.C,M,G);const X=S.filter;let ue=s.MipmapMode.None;return"mipmap"in S&&(ue=S.mipmap),s.ImageFilter._MakeImageOptions(g,X,ue,M,G)},s.ImageFilter.MakeMatrixTransform=function(g,S,M){if(g=be(g),"B"in S&&"C"in S)return s.ImageFilter._MakeMatrixTransformCubic(g,S.B,S.C,M);const G=S.filter;let X=s.MipmapMode.None;return"mipmap"in S&&(X=S.mipmap),s.ImageFilter._MakeMatrixTransformOptions(g,G,X,M)},s.Paint.prototype.getColor=function(){return this._getColor(Nn),tt(Nn)},s.Paint.prototype.setColor=function(g,S){S=S||null,g=Z(g),this._setColor(g,S)},s.Paint.prototype.setColorComponents=function(g,S,M,G,X){X=X||null,g=We(g,S,M,G),this._setColor(g,X)},s.Path.prototype.getPoint=function(g,S){return this._getPoint(g,Mt),g=_n.toTypedArray(),S?(S[0]=g[0],S[1]=g[1],S):g.slice(0,2)},s.Picture.prototype.makeShader=function(g,S,M,G,X){return G=be(G),X=rt(X),this._makeShader(g,S,M,G,X)},s.Picture.prototype.cullRect=function(g){this._cullRect(Mt);var S=_n.toTypedArray();return g?(g.set(S),g):S.slice()},s.PictureRecorder.prototype.beginRecording=function(g,S){return g=rt(g),this._beginRecording(g,!!S)},s.Surface.prototype.getCanvas=function(){var g=this._getCanvas();return g.Ld=this.Ld,g},s.Surface.prototype.makeImageSnapshot=function(g){return s.Nd(this.Ld),g=j(g,"HEAP32",oe),this._makeImageSnapshot(g)},s.Surface.prototype.makeSurface=function(g){return s.Nd(this.Ld),g=this._makeSurface(g),g.Ld=this.Ld,g},s.Surface.prototype.Hf=function(g,S){return this.Ie||(this.Ie=this.getCanvas()),requestAnimationFrame((function(){s.Nd(this.Ld),g(this.Ie),this.flush(S)}).bind(this))},s.Surface.prototype.requestAnimationFrame||(s.Surface.prototype.requestAnimationFrame=s.Surface.prototype.Hf),s.Surface.prototype.Df=function(g,S){this.Ie||(this.Ie=this.getCanvas()),requestAnimationFrame((function(){s.Nd(this.Ld),g(this.Ie),this.flush(S),this.dispose()}).bind(this))},s.Surface.prototype.drawOnce||(s.Surface.prototype.drawOnce=s.Surface.prototype.Df),s.PathEffect.MakeDash=function(g,S){if(S||(S=0),!g.length||g.length%2===1)throw"Intervals array must have even length";var M=j(g,"HEAPF32");return S=s.PathEffect._MakeDash(M,g.length,S),N(M,g),S},s.PathEffect.MakeLine2D=function(g,S){return S=be(S),s.PathEffect._MakeLine2D(g,S)},s.PathEffect.MakePath2D=function(g,S){return g=be(g),s.PathEffect._MakePath2D(g,S)},s.Shader.MakeColor=function(g,S){return S=S||null,g=Z(g),s.Shader._MakeColor(g,S)},s.Shader.Blend=s.Shader.MakeBlend,s.Shader.Color=s.Shader.MakeColor,s.Shader.MakeLinearGradient=function(g,S,M,G,X,ue,Te,ze){ze=ze||null;var Xe=ge(M),pt=j(G,"HEAPF32");Te=Te||0,ue=be(ue);var dt=_n.toTypedArray();return dt.set(g),dt.set(S,2),g=s.Shader._MakeLinearGradient(Mt,Xe.ce,Xe.colorType,pt,Xe.count,X,Te,ue,ze),N(Xe.ce,M),G&&N(pt,G),g},s.Shader.MakeRadialGradient=function(g,S,M,G,X,ue,Te,ze){ze=ze||null;var Xe=ge(M),pt=j(G,"HEAPF32");return Te=Te||0,ue=be(ue),g=s.Shader._MakeRadialGradient(g[0],g[1],S,Xe.ce,Xe.colorType,pt,Xe.count,X,Te,ue,ze),N(Xe.ce,M),G&&N(pt,G),g},s.Shader.MakeSweepGradient=function(g,S,M,G,X,ue,Te,ze,Xe,pt){pt=pt||null;var dt=ge(M),D=j(G,"HEAPF32");return Te=Te||0,ze=ze||0,Xe=Xe||360,ue=be(ue),g=s.Shader._MakeSweepGradient(g,S,dt.ce,dt.colorType,D,dt.count,X,ze,Xe,Te,ue,pt),N(dt.ce,M),G&&N(D,G),g},s.Shader.MakeTwoPointConicalGradient=function(g,S,M,G,X,ue,Te,ze,Xe,pt){pt=pt||null;var dt=ge(X),D=j(ue,"HEAPF32");Xe=Xe||0,ze=be(ze);var de=_n.toTypedArray();return de.set(g),de.set(M,2),g=s.Shader._MakeTwoPointConicalGradient(Mt,S,G,dt.ce,dt.colorType,D,dt.count,Te,Xe,ze,pt),N(dt.ce,X),ue&&N(D,ue),g},s.Vertices.prototype.bounds=function(g){this._bounds(Mt);var S=_n.toTypedArray();return g?(g.set(S),g):S.slice()},s.Td&&s.Td.forEach(function(g){g()})},s.computeTonalColors=function(y){var g=j(y.ambient,"HEAPF32"),S=j(y.spot,"HEAPF32");this._computeTonalColors(g,S);var M={ambient:tt(g),spot:tt(S)};return N(g,y.ambient),N(S,y.spot),M},s.LTRBRect=function(y,g,S,M){return Float32Array.of(y,g,S,M)},s.XYWHRect=function(y,g,S,M){return Float32Array.of(y,g,y+S,g+M)},s.LTRBiRect=function(y,g,S,M){return Int32Array.of(y,g,S,M)},s.XYWHiRect=function(y,g,S,M){return Int32Array.of(y,g,y+S,g+M)},s.RRectXY=function(y,g,S){return Float32Array.of(y[0],y[1],y[2],y[3],g,S,g,S,g,S,g,S)},s.MakeAnimatedImageFromEncoded=function(y){y=new Uint8Array(y);var g=s._malloc(y.byteLength);return s.HEAPU8.set(y,g),(y=s._decodeAnimatedImage(g,y.byteLength))?y:null},s.MakeImageFromEncoded=function(y){y=new Uint8Array(y);var g=s._malloc(y.byteLength);return s.HEAPU8.set(y,g),(y=s._decodeImage(g,y.byteLength))?y:null};var ko=null;s.MakeImageFromCanvasImageSource=function(y){var g=y.width,S=y.height;ko||(ko=document.createElement("canvas")),ko.width=g,ko.height=S;var M=ko.getContext("2d",{willReadFrequently:!0});return M.drawImage(y,0,0),y=M.getImageData(0,0,g,S),s.MakeImage({width:g,height:S,alphaType:s.AlphaType.Unpremul,colorType:s.ColorType.RGBA_8888,colorSpace:s.ColorSpace.SRGB},y.data,4*g)},s.MakeImage=function(y,g,S){var M=s._malloc(g.length);return s.HEAPU8.set(g,M),s._MakeImage(y,M,g.length,S)},s.MakeVertices=function(y,g,S,M,G,X){var ue=G&&G.length||0,Te=0;return S&&S.length&&(Te|=1),M&&M.length&&(Te|=2),X===void 0||X||(Te|=4),y=new s._VerticesBuilder(y,g.length/2,ue,Te),j(g,"HEAPF32",y.positions()),y.texCoords()&&j(S,"HEAPF32",y.texCoords()),y.colors()&&j(k(M),"HEAPU32",y.colors()),y.indices()&&j(G,"HEAPU16",y.indices()),y.detach()},s.Matrix={},s.Matrix.identity=function(){return m(3)},s.Matrix.invert=function(y){var g=y[0]*y[4]*y[8]+y[1]*y[5]*y[6]+y[2]*y[3]*y[7]-y[2]*y[4]*y[6]-y[1]*y[3]*y[8]-y[0]*y[5]*y[7];return g?[(y[4]*y[8]-y[5]*y[7])/g,(y[2]*y[7]-y[1]*y[8])/g,(y[1]*y[5]-y[2]*y[4])/g,(y[5]*y[6]-y[3]*y[8])/g,(y[0]*y[8]-y[2]*y[6])/g,(y[2]*y[3]-y[0]*y[5])/g,(y[3]*y[7]-y[4]*y[6])/g,(y[1]*y[6]-y[0]*y[7])/g,(y[0]*y[4]-y[1]*y[3])/g]:null},s.Matrix.mapPoints=function(y,g){for(var S=0;S<g.length;S+=2){var M=g[S],G=g[S+1],X=y[6]*M+y[7]*G+y[8],ue=y[3]*M+y[4]*G+y[5];g[S]=(y[0]*M+y[1]*G+y[2])/X,g[S+1]=ue/X}return g},s.Matrix.multiply=function(){return cr(3,arguments)},s.Matrix.rotated=function(y,g,S){g=g||0,S=S||0;var M=Math.sin(y);return y=Math.cos(y),[y,-M,an(M,S,1-y,g),M,y,an(-M,g,1-y,S),0,0,1]},s.Matrix.scaled=function(y,g,S,M){S=S||0,M=M||0;var G=f([y,g],m(3),3,0,1);return f([S-y*S,M-g*M],G,3,2,0)},s.Matrix.skewed=function(y,g,S,M){S=S||0,M=M||0;var G=f([y,g],m(3),3,1,-1);return f([-y*S,-g*M],G,3,2,0)},s.Matrix.translated=function(y,g){return f(arguments,m(3),3,2,0)},s.Vector={},s.Vector.dot=function(y,g){return y.map(function(S,M){return S*g[M]}).reduce(function(S,M){return S+M})},s.Vector.lengthSquared=function(y){return s.Vector.dot(y,y)},s.Vector.length=function(y){return Math.sqrt(s.Vector.lengthSquared(y))},s.Vector.mulScalar=function(y,g){return y.map(function(S){return S*g})},s.Vector.add=function(y,g){return y.map(function(S,M){return S+g[M]})},s.Vector.sub=function(y,g){return y.map(function(S,M){return S-g[M]})},s.Vector.dist=function(y,g){return s.Vector.length(s.Vector.sub(y,g))},s.Vector.normalize=function(y){return s.Vector.mulScalar(y,1/s.Vector.length(y))},s.Vector.cross=function(y,g){return[y[1]*g[2]-y[2]*g[1],y[2]*g[0]-y[0]*g[2],y[0]*g[1]-y[1]*g[0]]},s.M44={},s.M44.identity=function(){return m(4)},s.M44.translated=function(y){return f(y,m(4),4,3,0)},s.M44.scaled=function(y){return f(y,m(4),4,0,1)},s.M44.rotated=function(y,g){return s.M44.rotatedUnitSinCos(s.Vector.normalize(y),Math.sin(g),Math.cos(g))},s.M44.rotatedUnitSinCos=function(y,g,S){var M=y[0],G=y[1];y=y[2];var X=1-S;return[X*M*M+S,X*M*G-g*y,X*M*y+g*G,0,X*M*G+g*y,X*G*G+S,X*G*y-g*M,0,X*M*y-g*G,X*G*y+g*M,X*y*y+S,0,0,0,0,1]},s.M44.lookat=function(y,g,S){g=s.Vector.normalize(s.Vector.sub(g,y)),S=s.Vector.normalize(S),S=s.Vector.normalize(s.Vector.cross(g,S));var M=s.M44.identity();return f(S,M,4,0,0),f(s.Vector.cross(S,g),M,4,1,0),f(s.Vector.mulScalar(g,-1),M,4,2,0),f(y,M,4,3,0),y=s.M44.invert(M),y===null?s.M44.identity():y},s.M44.perspective=function(y,g,S){var M=1/(g-y);return S/=2,S=Math.cos(S)/Math.sin(S),[S,0,0,0,0,S,0,0,0,0,(g+y)*M,2*g*y*M,0,0,-1,1]},s.M44.rc=function(y,g,S){return y[4*g+S]},s.M44.multiply=function(){return cr(4,arguments)},s.M44.invert=function(y){var g=y[0],S=y[4],M=y[8],G=y[12],X=y[1],ue=y[5],Te=y[9],ze=y[13],Xe=y[2],pt=y[6],dt=y[10],D=y[14],de=y[3],at=y[7],_t=y[11];y=y[15];var Qt=g*ue-S*X,Zn=g*Te-M*X,er=g*ze-G*X,un=S*Te-M*ue,we=S*ze-G*ue,_=M*ze-G*Te,$=Xe*at-pt*de,te=Xe*_t-dt*de,ce=Xe*y-D*de,ye=pt*_t-dt*at,Se=pt*y-D*at,De=dt*y-D*_t,Lt=Qt*De-Zn*Se+er*ye+un*ce-we*te+_*$,It=1/Lt;return Lt===0||It===1/0?null:(Qt*=It,Zn*=It,er*=It,un*=It,we*=It,_*=It,$*=It,te*=It,ce*=It,ye*=It,Se*=It,De*=It,g=[ue*De-Te*Se+ze*ye,Te*ce-X*De-ze*te,X*Se-ue*ce+ze*$,ue*te-X*ye-Te*$,M*Se-S*De-G*ye,g*De-M*ce+G*te,S*ce-g*Se-G*$,g*ye-S*te+M*$,at*_-_t*we+y*un,_t*er-de*_-y*Zn,de*we-at*er+y*Qt,at*Zn-de*un-_t*Qt,dt*we-pt*_-D*un,Xe*_-dt*er+D*Zn,pt*er-Xe*we-D*Qt,Xe*un-pt*Zn+dt*Qt],g.every(function(_r){return!isNaN(_r)&&_r!==1/0&&_r!==-1/0})?g:null)},s.M44.transpose=function(y){return[y[0],y[4],y[8],y[12],y[1],y[5],y[9],y[13],y[2],y[6],y[10],y[14],y[3],y[7],y[11],y[15]]},s.M44.mustInvert=function(y){if(y=s.M44.invert(y),y===null)throw"Matrix not invertible";return y},s.M44.setupCamera=function(y,g,S){var M=s.M44.lookat(S.eye,S.coa,S.up);return S=s.M44.perspective(S.near,S.far,S.angle),g=[(y[2]-y[0])/2,(y[3]-y[1])/2,g],y=s.M44.multiply(s.M44.translated([(y[0]+y[2])/2,(y[1]+y[3])/2,0]),s.M44.scaled(g)),s.M44.multiply(y,S,M,s.M44.mustInvert(y))},s.ColorMatrix={},s.ColorMatrix.identity=function(){var y=new Float32Array(20);return y[0]=1,y[6]=1,y[12]=1,y[18]=1,y},s.ColorMatrix.scaled=function(y,g,S,M){var G=new Float32Array(20);return G[0]=y,G[6]=g,G[12]=S,G[18]=M,G};var fr=[[6,7,11,12],[0,10,2,12],[0,1,5,6]];s.ColorMatrix.rotated=function(y,g,S){var M=s.ColorMatrix.identity();return y=fr[y],M[y[0]]=S,M[y[1]]=g,M[y[2]]=-g,M[y[3]]=S,M},s.ColorMatrix.postTranslate=function(y,g,S,M,G){return y[4]+=g,y[9]+=S,y[14]+=M,y[19]+=G,y},s.ColorMatrix.concat=function(y,g){for(var S=new Float32Array(20),M=0,G=0;20>G;G+=5){for(var X=0;4>X;X++)S[M++]=y[G]*g[X]+y[G+1]*g[X+5]+y[G+2]*g[X+10]+y[G+3]*g[X+15];S[M++]=y[G]*g[4]+y[G+1]*g[9]+y[G+2]*g[14]+y[G+3]*g[19]+y[G+4]}return S},function(y){y.Td=y.Td||[],y.Td.push(function(){function g(D){return D&&(D.dir=D.dir===0?y.TextDirection.RTL:y.TextDirection.LTR),D}function S(D){if(!D||!D.length)return[];for(var de=[],at=0;at<D.length;at+=5){var _t=y.LTRBRect(D[at],D[at+1],D[at+2],D[at+3]),Qt=y.TextDirection.LTR;D[at+4]===0&&(Qt=y.TextDirection.RTL),de.push({rect:_t,dir:Qt})}return y._free(D.byteOffset),de}function M(D){return D=D||{},D.weight===void 0&&(D.weight=y.FontWeight.Normal),D.width=D.width||y.FontWidth.Normal,D.slant=D.slant||y.FontSlant.Upright,D}function G(D){if(!D||!D.length)return lt;for(var de=[],at=0;at<D.length;at++){var _t=X(D[at]);de.push(_t)}return j(de,"HEAPU32")}function X(D){if(ze[D])return ze[D];var de=ar(D)+1,at=y._malloc(de);return On(D,re,at,de),ze[D]=at}function ue(D){if(D._colorPtr=Z(D.color),D._foregroundColorPtr=lt,D._backgroundColorPtr=lt,D._decorationColorPtr=lt,D.foregroundColor&&(D._foregroundColorPtr=Z(D.foregroundColor,Xe)),D.backgroundColor&&(D._backgroundColorPtr=Z(D.backgroundColor,pt)),D.decorationColor&&(D._decorationColorPtr=Z(D.decorationColor,dt)),Array.isArray(D.fontFamilies)&&D.fontFamilies.length?(D._fontFamiliesPtr=G(D.fontFamilies),D._fontFamiliesLen=D.fontFamilies.length):(D._fontFamiliesPtr=lt,D._fontFamiliesLen=0),D.locale){var de=D.locale;D._localePtr=X(de),D._localeLen=ar(de)+1}else D._localePtr=lt,D._localeLen=0;if(Array.isArray(D.shadows)&&D.shadows.length){de=D.shadows;var at=de.map(function(we){return we.color||y.BLACK}),_t=de.map(function(we){return we.blurRadius||0});D._shadowLen=de.length;for(var Qt=y._malloc(8*de.length),Zn=Qt/4,er=0;er<de.length;er++){var un=de[er].offset||[0,0];y.HEAPF32[Zn]=un[0],y.HEAPF32[Zn+1]=un[1],Zn+=2}D._shadowColorsPtr=ge(at).ce,D._shadowOffsetsPtr=Qt,D._shadowBlurRadiiPtr=j(_t,"HEAPF32")}else D._shadowLen=0,D._shadowColorsPtr=lt,D._shadowOffsetsPtr=lt,D._shadowBlurRadiiPtr=lt;Array.isArray(D.fontFeatures)&&D.fontFeatures.length?(de=D.fontFeatures,at=de.map(function(we){return we.name}),_t=de.map(function(we){return we.value}),D._fontFeatureLen=de.length,D._fontFeatureNamesPtr=G(at),D._fontFeatureValuesPtr=j(_t,"HEAPU32")):(D._fontFeatureLen=0,D._fontFeatureNamesPtr=lt,D._fontFeatureValuesPtr=lt),Array.isArray(D.fontVariations)&&D.fontVariations.length?(de=D.fontVariations,at=de.map(function(we){return we.axis}),_t=de.map(function(we){return we.value}),D._fontVariationLen=de.length,D._fontVariationAxesPtr=G(at),D._fontVariationValuesPtr=j(_t,"HEAPF32")):(D._fontVariationLen=0,D._fontVariationAxesPtr=lt,D._fontVariationValuesPtr=lt)}function Te(D){y._free(D._fontFamiliesPtr),y._free(D._shadowColorsPtr),y._free(D._shadowOffsetsPtr),y._free(D._shadowBlurRadiiPtr),y._free(D._fontFeatureNamesPtr),y._free(D._fontFeatureValuesPtr),y._free(D._fontVariationAxesPtr),y._free(D._fontVariationValuesPtr)}y.Paragraph.prototype.getRectsForRange=function(D,de,at,_t){return D=this._getRectsForRange(D,de,at,_t),S(D)},y.Paragraph.prototype.getRectsForPlaceholders=function(){var D=this._getRectsForPlaceholders();return S(D)},y.Paragraph.prototype.getGlyphInfoAt=function(D){return g(this._getGlyphInfoAt(D))},y.Paragraph.prototype.getClosestGlyphInfoAtCoordinate=function(D,de){return g(this._getClosestGlyphInfoAtCoordinate(D,de))},y.TypefaceFontProvider.prototype.registerFont=function(D,de){if(D=y.Typeface.MakeFreeTypeFaceFromData(D),!D)return null;de=X(de),this._registerFont(D,de)},y.ParagraphStyle=function(D){if(D.disableHinting=D.disableHinting||!1,D.ellipsis){var de=D.ellipsis;D._ellipsisPtr=X(de),D._ellipsisLen=ar(de)+1}else D._ellipsisPtr=lt,D._ellipsisLen=0;return D.heightMultiplier==null&&(D.heightMultiplier=-1),D.maxLines=D.maxLines||0,D.replaceTabCharacters=D.replaceTabCharacters||!1,de=(de=D.strutStyle)||{},de.strutEnabled=de.strutEnabled||!1,de.strutEnabled&&Array.isArray(de.fontFamilies)&&de.fontFamilies.length?(de._fontFamiliesPtr=G(de.fontFamilies),de._fontFamiliesLen=de.fontFamilies.length):(de._fontFamiliesPtr=lt,de._fontFamiliesLen=0),de.fontStyle=M(de.fontStyle),de.fontSize==null&&(de.fontSize=-1),de.heightMultiplier==null&&(de.heightMultiplier=-1),de.halfLeading=de.halfLeading||!1,de.leading=de.leading||0,de.forceStrutHeight=de.forceStrutHeight||!1,D.strutStyle=de,D.textAlign=D.textAlign||y.TextAlign.Start,D.textDirection=D.textDirection||y.TextDirection.LTR,D.textHeightBehavior=D.textHeightBehavior||y.TextHeightBehavior.All,D.textStyle=y.TextStyle(D.textStyle),D.applyRoundingHack=D.applyRoundingHack!==!1,D},y.TextStyle=function(D){return D.color||(D.color=y.BLACK),D.decoration=D.decoration||0,D.decorationThickness=D.decorationThickness||0,D.decorationStyle=D.decorationStyle||y.DecorationStyle.Solid,D.textBaseline=D.textBaseline||y.TextBaseline.Alphabetic,D.fontSize==null&&(D.fontSize=-1),D.letterSpacing=D.letterSpacing||0,D.wordSpacing=D.wordSpacing||0,D.heightMultiplier==null&&(D.heightMultiplier=-1),D.halfLeading=D.halfLeading||!1,D.fontStyle=M(D.fontStyle),D};var ze={},Xe=y._malloc(16),pt=y._malloc(16),dt=y._malloc(16);y.ParagraphBuilder.Make=function(D,de){return ue(D.textStyle),de=y.ParagraphBuilder._Make(D,de),Te(D.textStyle),de},y.ParagraphBuilder.MakeFromFontProvider=function(D,de){return ue(D.textStyle),de=y.ParagraphBuilder._MakeFromFontProvider(D,de),Te(D.textStyle),de},y.ParagraphBuilder.MakeFromFontCollection=function(D,de){return ue(D.textStyle),de=y.ParagraphBuilder._MakeFromFontCollection(D,de),Te(D.textStyle),de},y.ParagraphBuilder.ShapeText=function(D,de,at){let _t=0;for(const Qt of de)_t+=Qt.length;if(_t!==D.length)throw"Accumulated block lengths must equal text.length";return y.ParagraphBuilder._ShapeText(D,de,at)},y.ParagraphBuilder.prototype.pushStyle=function(D){ue(D),this._pushStyle(D),Te(D)},y.ParagraphBuilder.prototype.pushPaintStyle=function(D,de,at){ue(D),this._pushPaintStyle(D,de,at),Te(D)},y.ParagraphBuilder.prototype.addPlaceholder=function(D,de,at,_t,Qt){at=at||y.PlaceholderAlignment.Baseline,_t=_t||y.TextBaseline.Alphabetic,this._addPlaceholder(D||0,de||0,at,_t,Qt||0)},y.ParagraphBuilder.prototype.setWordsUtf8=function(D){var de=j(D,"HEAPU32");this._setWordsUtf8(de,D&&D.length||0),N(de,D)},y.ParagraphBuilder.prototype.setWordsUtf16=function(D){var de=j(D,"HEAPU32");this._setWordsUtf16(de,D&&D.length||0),N(de,D)},y.ParagraphBuilder.prototype.setGraphemeBreaksUtf8=function(D){var de=j(D,"HEAPU32");this._setGraphemeBreaksUtf8(de,D&&D.length||0),N(de,D)},y.ParagraphBuilder.prototype.setGraphemeBreaksUtf16=function(D){var de=j(D,"HEAPU32");this._setGraphemeBreaksUtf16(de,D&&D.length||0),N(de,D)},y.ParagraphBuilder.prototype.setLineBreaksUtf8=function(D){var de=j(D,"HEAPU32");this._setLineBreaksUtf8(de,D&&D.length||0),N(de,D)},y.ParagraphBuilder.prototype.setLineBreaksUtf16=function(D){var de=j(D,"HEAPU32");this._setLineBreaksUtf16(de,D&&D.length||0),N(de,D)}})}(n),s.MakeManagedAnimation=function(y,g,S,M,G){if(!s._MakeManagedAnimation)throw"Not compiled with MakeManagedAnimation";if(S||(S=""),!g)return s._MakeManagedAnimation(y,0,lt,lt,lt,S,M,G);for(var X=[],ue=[],Te=[],ze=Object.keys(g||{}),Xe=0;Xe<ze.length;Xe++){var pt=ze[Xe],dt=new Uint8Array(g[pt]),D=s._malloc(dt.byteLength);s.HEAPU8.set(dt,D),ue.push(D),Te.push(dt.byteLength),dt=ar(pt)+1,D=s._malloc(dt),On(pt,re,D,dt),X.push(D)}return g=j(X,"HEAPU32"),ue=j(ue,"HEAPU32"),Te=j(Te,"HEAPU32"),y=s._MakeManagedAnimation(y,ze.length,g,ue,Te,S,M,G),s._free(g),s._free(ue),s._free(Te),y},s.tg=function(y){return y.text=y.text||"",y.textSize=y.textSize||0,y.minTextSize=y.minTextSize||0,y.maxTextSize=y.maxTextSize||Number.MAX_VALUE,y.strokeWidth=y.strokeWidth||0,y.lineHeight=y.lineHeight||0,y.lineShift=y.lineShift||0,y.ascent=y.ascent||0,y.maxLines=y.maxLines||0,y.horizAlign=y.horizAlign||s.TextAlign.Left,y.vertAlign=y.vertAlign||s.ug.Top,y.strokeJoin=y.strokeJoin||s.StrokeJoin.Miter,y.direction=y.direction||s.TextDirection.LTR,y.linebreak=y.linebreak||s.LineBreakType.HardLineBreak,y.resize=y.resize||s.sg.None,y.fillColor||(y.fillColor=s.TRANSPARENT),y.strokeColor||(y.strokeColor=s.TRANSPARENT),y.boundingBox||(y.boundingBox=[0,0,0,0]),y},function(y){y.Td=y.Td||[],y.Td.push(function(){y.Animation.prototype.render=function(g,S){rt(S,Mt),this._render(g,Mt)},y.Animation.prototype.size=function(g){this._size(Mt);var S=_n.toTypedArray();return g?(g[0]=S[0],g[1]=S[1],g):S.slice(0,2)},y.ManagedAnimation&&(y.ManagedAnimation.prototype.render=function(g,S){rt(S,Mt),this._render(g,Mt)},y.ManagedAnimation.prototype.seek=function(g,S){return this._seek(g,Mt),g=_n.toTypedArray(),S?(S.set(g),S):g.slice()},y.ManagedAnimation.prototype.seekFrame=function(g,S){return this._seekFrame(g,Mt),g=_n.toTypedArray(),S?(S.set(g),S):g.slice()},y.ManagedAnimation.prototype.setColor=function(g,S){return S=Z(S),this._setColor(g,S)},y.ManagedAnimation.prototype.setColorSlot=function(g,S){return S=Z(S),this._setColorSlot(g,S)},y.ManagedAnimation.prototype.getColorSlot=function(g){return this._getColorSlot(g,Nn),g=tt(Nn),g[0]==-1?null:g},y.ManagedAnimation.prototype.setVec2Slot=function(g,S){return j(S,"HEAPF32",ho),this._setVec2Slot(g,ho)},y.ManagedAnimation.prototype.getVec2Slot=function(g){return this._getVec2Slot(g,ho),g=ea.toTypedArray(),g[2]===-1?null:g.slice(0,2)},y.ManagedAnimation.prototype.setTextSlot=function(g,S){var M=Z(S.fillColor,Nn),G=Z(S.strokeColor,Mt),X=rt(S.boundingBox,Vr);return S._fillColorPtr=M,S._strokeColorPtr=G,S._boundingBoxPtr=X,this._setTextSlot(g,S)},y.ManagedAnimation.prototype.setTransform=function(g,S,M,G,X,ue,Te){return S=j([S[0],S[1],M[0],M[1],G[0],G[1],X,ue,Te],"HEAPF32",lr),this._setTransform(g,S)},y.ManagedAnimation.prototype.size=function(g){this._size(Mt);var S=_n.toTypedArray();return g?(g[0]=S[0],g[1]=S[1],g):S.slice(0,2)})})}(n),s.Td=s.Td||[],s.Td.push(function(){s.Path.prototype.op=function(y,g){return this._op(y,g)?this:null},s.Path.prototype.simplify=function(){return this._simplify()?this:null}}),s.Td=s.Td||[],s.Td.push(function(){s.Canvas.prototype.drawText=function(y,g,S,M,G){var X=ar(y),ue=s._malloc(X+1);On(y,re,ue,X+1),this._drawSimpleText(ue,X,g,S,G,M),s._free(ue)},s.Canvas.prototype.drawGlyphs=function(y,g,S,M,G,X){if(!(2*y.length<=g.length))throw"Not enough positions for the array of gyphs";s.Nd(this.Ld);const ue=j(y,"HEAPU16"),Te=j(g,"HEAPF32");this._drawGlyphs(y.length,ue,Te,S,M,G,X),N(Te,g),N(ue,y)},s.Font.prototype.getGlyphBounds=function(y,g,S){var M=j(y,"HEAPU16"),G=s._malloc(16*y.length);return this._getGlyphWidthBounds(M,y.length,lt,G,g||null),g=new Float32Array(s.HEAPU8.buffer,G,4*y.length),N(M,y),S?(S.set(g),s._free(G),S):(y=Float32Array.from(g),s._free(G),y)},s.Font.prototype.getGlyphIDs=function(y,g,S){g||(g=y.length);var M=ar(y)+1,G=s._malloc(M);return On(y,re,G,M),y=s._malloc(2*g),g=this._getGlyphIDs(G,M-1,g,y),s._free(G),0>g?(s._free(y),null):(G=new Uint16Array(s.HEAPU8.buffer,y,g),S?(S.set(G),s._free(y),S):(S=Uint16Array.from(G),s._free(y),S))},s.Font.prototype.getGlyphIntercepts=function(y,g,S,M){var G=j(y,"HEAPU16"),X=j(g,"HEAPF32");return this._getGlyphIntercepts(G,y.length,!(y&&y._ck),X,g.length,!(g&&g._ck),S,M)},s.Font.prototype.getGlyphWidths=function(y,g,S){var M=j(y,"HEAPU16"),G=s._malloc(4*y.length);return this._getGlyphWidthBounds(M,y.length,G,lt,g||null),g=new Float32Array(s.HEAPU8.buffer,G,y.length),N(M,y),S?(S.set(g),s._free(G),S):(y=Float32Array.from(g),s._free(G),y)},s.FontMgr.FromData=function(){if(!arguments.length)return null;var y=arguments;if(y.length===1&&Array.isArray(y[0])&&(y=arguments[0]),!y.length)return null;for(var g=[],S=[],M=0;M<y.length;M++){var G=new Uint8Array(y[M]),X=j(G,"HEAPU8");g.push(X),S.push(G.byteLength)}return g=j(g,"HEAPU32"),S=j(S,"HEAPU32"),y=s.FontMgr._fromData(g,S,y.length),s._free(g),s._free(S),y},s.Typeface.MakeFreeTypeFaceFromData=function(y){y=new Uint8Array(y);var g=j(y,"HEAPU8");return(y=s.Typeface._MakeFreeTypeFaceFromData(g,y.byteLength))?y:null},s.Typeface.prototype.getGlyphIDs=function(y,g,S){g||(g=y.length);var M=ar(y)+1,G=s._malloc(M);return On(y,re,G,M),y=s._malloc(2*g),g=this._getGlyphIDs(G,M-1,g,y),s._free(G),0>g?(s._free(y),null):(G=new Uint16Array(s.HEAPU8.buffer,y,g),S?(S.set(G),s._free(y),S):(S=Uint16Array.from(G),s._free(y),S))},s.TextBlob.MakeOnPath=function(y,g,S,M){if(y&&y.length&&g&&g.countPoints()){if(g.countPoints()===1)return this.MakeFromText(y,S);M||(M=0);var G=S.getGlyphIDs(y);G=S.getGlyphWidths(G);var X=[];g=new s.ContourMeasureIter(g,!1,1);for(var ue=g.next(),Te=new Float32Array(4),ze=0;ze<y.length&&ue;ze++){var Xe=G[ze];if(M+=Xe/2,M>ue.length()){if(ue.delete(),ue=g.next(),!ue){y=y.substring(0,ze);break}M=Xe/2}ue.getPosTan(M,Te);var pt=Te[2],dt=Te[3];X.push(pt,dt,Te[0]-Xe/2*pt,Te[1]-Xe/2*dt),M+=Xe/2}return y=this.MakeFromRSXform(y,X,S),ue&&ue.delete(),g.delete(),y}},s.TextBlob.MakeFromRSXform=function(y,g,S){var M=ar(y)+1,G=s._malloc(M);return On(y,re,G,M),y=j(g,"HEAPF32"),S=s.TextBlob._MakeFromRSXform(G,M-1,y,S),s._free(G),S||null},s.TextBlob.MakeFromRSXformGlyphs=function(y,g,S){var M=j(y,"HEAPU16");return g=j(g,"HEAPF32"),S=s.TextBlob._MakeFromRSXformGlyphs(M,2*y.length,g,S),N(M,y),S||null},s.TextBlob.MakeFromGlyphs=function(y,g){var S=j(y,"HEAPU16");return g=s.TextBlob._MakeFromGlyphs(S,2*y.length,g),N(S,y),g||null},s.TextBlob.MakeFromText=function(y,g){var S=ar(y)+1,M=s._malloc(S);return On(y,re,M,S),y=s.TextBlob._MakeFromText(M,S-1,g),s._free(M),y||null},s.MallocGlyphIDs=function(y){return s.Malloc(Uint16Array,y)}}),s.Td=s.Td||[],s.Td.push(function(){s.MakePicture=function(y){y=new Uint8Array(y);var g=s._malloc(y.byteLength);return s.HEAPU8.set(y,g),(y=s._MakePicture(g,y.byteLength))?y:null}}),s.Td=s.Td||[],s.Td.push(function(){s.RuntimeEffect.Make=function(y,g){return s.RuntimeEffect._Make(y,{onError:g||function(S){console.log("RuntimeEffect error",S)}})},s.RuntimeEffect.MakeForBlender=function(y,g){return s.RuntimeEffect._MakeForBlender(y,{onError:g||function(S){console.log("RuntimeEffect error",S)}})},s.RuntimeEffect.prototype.makeShader=function(y,g){var S=!y._ck,M=j(y,"HEAPF32");return g=be(g),this._makeShader(M,4*y.length,S,g)},s.RuntimeEffect.prototype.makeShaderWithChildren=function(y,g,S){var M=!y._ck,G=j(y,"HEAPF32");S=be(S);for(var X=[],ue=0;ue<g.length;ue++)X.push(g[ue].Kd.Sd);return g=j(X,"HEAPU32"),this._makeShaderWithChildren(G,4*y.length,M,g,X.length,S)},s.RuntimeEffect.prototype.makeBlender=function(y){var g=!y._ck,S=j(y,"HEAPF32");return this._makeBlender(S,4*y.length,g)}}),function(){function y(we){for(var _=0;_<we.length;_++)if(we[_]!==void 0&&!Number.isFinite(we[_]))return!1;return!0}function g(we){var _=s.getColorComponents(we);we=_[0];var $=_[1],te=_[2];return _=_[3],_===1?(we=we.toString(16).toLowerCase(),$=$.toString(16).toLowerCase(),te=te.toString(16).toLowerCase(),we=we.length===1?"0"+we:we,$=$.length===1?"0"+$:$,te=te.length===1?"0"+te:te,"#"+we+$+te):(_=_===0||_===1?_:_.toFixed(8),"rgba("+we+", "+$+", "+te+", "+_+")")}function S(we){return s.parseColorString(we,Zn)}function M(we){if(we=er.exec(we),!we)return null;var _=parseFloat(we[4]),$=16;switch(we[5]){case"em":case"rem":$=16*_;break;case"pt":$=4*_/3;break;case"px":$=_;break;case"pc":$=16*_;break;case"in":$=96*_;break;case"cm":$=96*_/2.54;break;case"mm":$=96/25.4*_;break;case"q":$=96/25.4/4*_;break;case"%":$=16/75*_}return{style:we[1],variant:we[2],weight:we[3],sizePx:$,family:we[6].trim()}}function G(we){this.Md=we,this.Pd=new s.Paint,this.Pd.setAntiAlias(!0),this.Pd.setStrokeMiter(10),this.Pd.setStrokeCap(s.StrokeCap.Butt),this.Pd.setStrokeJoin(s.StrokeJoin.Miter),this.Se="10px monospace",this.ne=new s.Font(null,10),this.ne.setSubpixel(!0),this.be=this.he=s.BLACK,this.we=0,this.Ke=s.TRANSPARENT,this.ye=this.xe=0,this.Le=this.je=1,this.Je=0,this.ve=[],this.Od=s.BlendMode.SrcOver,this.Pd.setStrokeWidth(this.Le),this.Pd.setBlendMode(this.Od),this.Rd=new s.Path,this.Ud=s.Matrix.identity(),this.mf=[],this.Ce=[],this.me=function(){this.Rd.delete(),this.Pd.delete(),this.ne.delete(),this.Ce.forEach(function(_){_.me()})},Object.defineProperty(this,"currentTransform",{enumerable:!0,get:function(){return{a:this.Ud[0],c:this.Ud[1],e:this.Ud[2],b:this.Ud[3],d:this.Ud[4],f:this.Ud[5]}},set:function(_){_.a&&this.setTransform(_.a,_.b,_.c,_.d,_.e,_.f)}}),Object.defineProperty(this,"fillStyle",{enumerable:!0,get:function(){return v(this.be)?g(this.be):this.be},set:function(_){typeof _=="string"?this.be=S(_):_.ue&&(this.be=_)}}),Object.defineProperty(this,"font",{enumerable:!0,get:function(){return this.Se},set:function(_){var $=M(_),te=$.family;$.typeface=un[te]?un[te][($.style||"normal")+"|"+($.variant||"normal")+"|"+($.weight||"normal")]||un[te]["*"]:null,$&&(this.ne.setSize($.sizePx),this.ne.setTypeface($.typeface),this.Se=_)}}),Object.defineProperty(this,"globalAlpha",{enumerable:!0,get:function(){return this.je},set:function(_){!isFinite(_)||0>_||1<_||(this.je=_)}}),Object.defineProperty(this,"globalCompositeOperation",{enumerable:!0,get:function(){switch(this.Od){case s.BlendMode.SrcOver:return"source-over";case s.BlendMode.DstOver:return"destination-over";case s.BlendMode.Src:return"copy";case s.BlendMode.Dst:return"destination";case s.BlendMode.Clear:return"clear";case s.BlendMode.SrcIn:return"source-in";case s.BlendMode.DstIn:return"destination-in";case s.BlendMode.SrcOut:return"source-out";case s.BlendMode.DstOut:return"destination-out";case s.BlendMode.SrcATop:return"source-atop";case s.BlendMode.DstATop:return"destination-atop";case s.BlendMode.Xor:return"xor";case s.BlendMode.Plus:return"lighter";case s.BlendMode.Multiply:return"multiply";case s.BlendMode.Screen:return"screen";case s.BlendMode.Overlay:return"overlay";case s.BlendMode.Darken:return"darken";case s.BlendMode.Lighten:return"lighten";case s.BlendMode.ColorDodge:return"color-dodge";case s.BlendMode.ColorBurn:return"color-burn";case s.BlendMode.HardLight:return"hard-light";case s.BlendMode.SoftLight:return"soft-light";case s.BlendMode.Difference:return"difference";case s.BlendMode.Exclusion:return"exclusion";case s.BlendMode.Hue:return"hue";case s.BlendMode.Saturation:return"saturation";case s.BlendMode.Color:return"color";case s.BlendMode.Luminosity:return"luminosity"}},set:function(_){switch(_){case"source-over":this.Od=s.BlendMode.SrcOver;break;case"destination-over":this.Od=s.BlendMode.DstOver;break;case"copy":this.Od=s.BlendMode.Src;break;case"destination":this.Od=s.BlendMode.Dst;break;case"clear":this.Od=s.BlendMode.Clear;break;case"source-in":this.Od=s.BlendMode.SrcIn;break;case"destination-in":this.Od=s.BlendMode.DstIn;break;case"source-out":this.Od=s.BlendMode.SrcOut;break;case"destination-out":this.Od=s.BlendMode.DstOut;break;case"source-atop":this.Od=s.BlendMode.SrcATop;break;case"destination-atop":this.Od=s.BlendMode.DstATop;break;case"xor":this.Od=s.BlendMode.Xor;break;case"lighter":this.Od=s.BlendMode.Plus;break;case"plus-lighter":this.Od=s.BlendMode.Plus;break;case"plus-darker":throw"plus-darker is not supported";case"multiply":this.Od=s.BlendMode.Multiply;break;case"screen":this.Od=s.BlendMode.Screen;break;case"overlay":this.Od=s.BlendMode.Overlay;break;case"darken":this.Od=s.BlendMode.Darken;break;case"lighten":this.Od=s.BlendMode.Lighten;break;case"color-dodge":this.Od=s.BlendMode.ColorDodge;break;case"color-burn":this.Od=s.BlendMode.ColorBurn;break;case"hard-light":this.Od=s.BlendMode.HardLight;break;case"soft-light":this.Od=s.BlendMode.SoftLight;break;case"difference":this.Od=s.BlendMode.Difference;break;case"exclusion":this.Od=s.BlendMode.Exclusion;break;case"hue":this.Od=s.BlendMode.Hue;break;case"saturation":this.Od=s.BlendMode.Saturation;break;case"color":this.Od=s.BlendMode.Color;break;case"luminosity":this.Od=s.BlendMode.Luminosity;break;default:return}this.Pd.setBlendMode(this.Od)}}),Object.defineProperty(this,"imageSmoothingEnabled",{enumerable:!0,get:function(){return!0},set:function(){}}),Object.defineProperty(this,"imageSmoothingQuality",{enumerable:!0,get:function(){return"high"},set:function(){}}),Object.defineProperty(this,"lineCap",{enumerable:!0,get:function(){switch(this.Pd.getStrokeCap()){case s.StrokeCap.Butt:return"butt";case s.StrokeCap.Round:return"round";case s.StrokeCap.Square:return"square"}},set:function(_){switch(_){case"butt":this.Pd.setStrokeCap(s.StrokeCap.Butt);break;case"round":this.Pd.setStrokeCap(s.StrokeCap.Round);break;case"square":this.Pd.setStrokeCap(s.StrokeCap.Square)}}}),Object.defineProperty(this,"lineDashOffset",{enumerable:!0,get:function(){return this.Je},set:function(_){isFinite(_)&&(this.Je=_)}}),Object.defineProperty(this,"lineJoin",{enumerable:!0,get:function(){switch(this.Pd.getStrokeJoin()){case s.StrokeJoin.Miter:return"miter";case s.StrokeJoin.Round:return"round";case s.StrokeJoin.Bevel:return"bevel"}},set:function(_){switch(_){case"miter":this.Pd.setStrokeJoin(s.StrokeJoin.Miter);break;case"round":this.Pd.setStrokeJoin(s.StrokeJoin.Round);break;case"bevel":this.Pd.setStrokeJoin(s.StrokeJoin.Bevel)}}}),Object.defineProperty(this,"lineWidth",{enumerable:!0,get:function(){return this.Pd.getStrokeWidth()},set:function(_){0>=_||!_||(this.Le=_,this.Pd.setStrokeWidth(_))}}),Object.defineProperty(this,"miterLimit",{enumerable:!0,get:function(){return this.Pd.getStrokeMiter()},set:function(_){0>=_||!_||this.Pd.setStrokeMiter(_)}}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,get:function(){return this.we},set:function(_){0>_||!isFinite(_)||(this.we=_)}}),Object.defineProperty(this,"shadowColor",{enumerable:!0,get:function(){return g(this.Ke)},set:function(_){this.Ke=S(_)}}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,get:function(){return this.xe},set:function(_){isFinite(_)&&(this.xe=_)}}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,get:function(){return this.ye},set:function(_){isFinite(_)&&(this.ye=_)}}),Object.defineProperty(this,"strokeStyle",{enumerable:!0,get:function(){return g(this.he)},set:function(_){typeof _=="string"?this.he=S(_):_.ue&&(this.he=_)}}),this.arc=function(_,$,te,ce,ye,Se){D(this.Rd,_,$,te,te,0,ce,ye,Se)},this.arcTo=function(_,$,te,ce,ye){Xe(this.Rd,_,$,te,ce,ye)},this.beginPath=function(){this.Rd.delete(),this.Rd=new s.Path},this.bezierCurveTo=function(_,$,te,ce,ye,Se){var De=this.Rd;y([_,$,te,ce,ye,Se])&&(De.isEmpty()&&De.moveTo(_,$),De.cubicTo(_,$,te,ce,ye,Se))},this.clearRect=function(_,$,te,ce){this.Pd.setStyle(s.PaintStyle.Fill),this.Pd.setBlendMode(s.BlendMode.Clear),this.Md.drawRect(s.XYWHRect(_,$,te,ce),this.Pd),this.Pd.setBlendMode(this.Od)},this.clip=function(_,$){typeof _=="string"?($=_,_=this.Rd):_&&_.bf&&(_=_.Vd),_||(_=this.Rd),_=_.copy(),$&&$.toLowerCase()==="evenodd"?_.setFillType(s.FillType.EvenOdd):_.setFillType(s.FillType.Winding),this.Md.clipPath(_,s.ClipOp.Intersect,!0),_.delete()},this.closePath=function(){pt(this.Rd)},this.createImageData=function(){if(arguments.length===1){var _=arguments[0];return new Te(new Uint8ClampedArray(4*_.width*_.height),_.width,_.height)}if(arguments.length===2){_=arguments[0];var $=arguments[1];return new Te(new Uint8ClampedArray(4*_*$),_,$)}throw"createImageData expects 1 or 2 arguments, got "+arguments.length},this.createLinearGradient=function(_,$,te,ce){if(y(arguments)){var ye=new ze(_,$,te,ce);return this.Ce.push(ye),ye}},this.createPattern=function(_,$){return _=new _t(_,$),this.Ce.push(_),_},this.createRadialGradient=function(_,$,te,ce,ye,Se){if(y(arguments)){var De=new Qt(_,$,te,ce,ye,Se);return this.Ce.push(De),De}},this.drawImage=function(_){_ instanceof ue&&(_=_.uf());var $=this.Re();if(arguments.length===3||arguments.length===5)var te=s.XYWHRect(arguments[1],arguments[2],arguments[3]||_.width(),arguments[4]||_.height()),ce=s.XYWHRect(0,0,_.width(),_.height());else if(arguments.length===9)te=s.XYWHRect(arguments[5],arguments[6],arguments[7],arguments[8]),ce=s.XYWHRect(arguments[1],arguments[2],arguments[3],arguments[4]);else throw"invalid number of args for drawImage, need 3, 5, or 9; got "+arguments.length;this.Md.drawImageRect(_,ce,te,$,!1),$.dispose()},this.ellipse=function(_,$,te,ce,ye,Se,De,Lt){D(this.Rd,_,$,te,ce,ye,Se,De,Lt)},this.Re=function(){var _=this.Pd.copy();if(_.setStyle(s.PaintStyle.Fill),v(this.be)){var $=s.multiplyByAlpha(this.be,this.je);_.setColor($)}else $=this.be.ue(this.Ud),_.setColor(s.Color(0,0,0,this.je)),_.setShader($);return _.dispose=function(){this.delete()},_},this.fill=function(_,$){if(typeof _=="string"?($=_,_=this.Rd):_&&_.bf&&(_=_.Vd),$==="evenodd")this.Rd.setFillType(s.FillType.EvenOdd);else{if($!=="nonzero"&&$)throw"invalid fill rule";this.Rd.setFillType(s.FillType.Winding)}_||(_=this.Rd),$=this.Re();var te=this.ze($);te&&(this.Md.save(),this.se(),this.Md.drawPath(_,te),this.Md.restore(),te.dispose()),this.Md.drawPath(_,$),$.dispose()},this.fillRect=function(_,$,te,ce){var ye=this.Re(),Se=this.ze(ye);Se&&(this.Md.save(),this.se(),this.Md.drawRect(s.XYWHRect(_,$,te,ce),Se),this.Md.restore(),Se.dispose()),this.Md.drawRect(s.XYWHRect(_,$,te,ce),ye),ye.dispose()},this.fillText=function(_,$,te){var ce=this.Re();_=s.TextBlob.MakeFromText(_,this.ne);var ye=this.ze(ce);ye&&(this.Md.save(),this.se(),this.Md.drawTextBlob(_,$,te,ye),this.Md.restore(),ye.dispose()),this.Md.drawTextBlob(_,$,te,ce),_.delete(),ce.dispose()},this.getImageData=function(_,$,te,ce){return(_=this.Md.readPixels(_,$,{width:te,height:ce,colorType:s.ColorType.RGBA_8888,alphaType:s.AlphaType.Unpremul,colorSpace:s.ColorSpace.SRGB}))?new Te(new Uint8ClampedArray(_.buffer),te,ce):null},this.getLineDash=function(){return this.ve.slice()},this.nf=function(_){var $=s.Matrix.invert(this.Ud);return s.Matrix.mapPoints($,_),_},this.isPointInPath=function(_,$,te){var ce=arguments;if(ce.length===3)var ye=this.Rd;else if(ce.length===4)ye=ce[0],_=ce[1],$=ce[2],te=ce[3];else throw"invalid arg count, need 3 or 4, got "+ce.length;return!isFinite(_)||!isFinite($)||(te=te||"nonzero",te!=="nonzero"&&te!=="evenodd")?!1:(ce=this.nf([_,$]),_=ce[0],$=ce[1],ye.setFillType(te==="nonzero"?s.FillType.Winding:s.FillType.EvenOdd),ye.contains(_,$))},this.isPointInStroke=function(_,$){var te=arguments;if(te.length===2)var ce=this.Rd;else if(te.length===3)ce=te[0],_=te[1],$=te[2];else throw"invalid arg count, need 2 or 3, got "+te.length;return!isFinite(_)||!isFinite($)?!1:(te=this.nf([_,$]),_=te[0],$=te[1],ce=ce.copy(),ce.setFillType(s.FillType.Winding),ce.stroke({width:this.lineWidth,miter_limit:this.miterLimit,cap:this.Pd.getStrokeCap(),join:this.Pd.getStrokeJoin(),precision:.3}),te=ce.contains(_,$),ce.delete(),te)},this.lineTo=function(_,$){de(this.Rd,_,$)},this.measureText=function(_){_=this.ne.getGlyphIDs(_),_=this.ne.getGlyphWidths(_);let $=0;for(const te of _)$+=te;return{width:$}},this.moveTo=function(_,$){var te=this.Rd;y([_,$])&&te.moveTo(_,$)},this.putImageData=function(_,$,te,ce,ye,Se,De){if(y([$,te,ce,ye,Se,De])){if(ce===void 0)this.Md.writePixels(_.data,_.width,_.height,$,te);else if(ce=ce||0,ye=ye||0,Se=Se||_.width,De=De||_.height,0>Se&&(ce+=Se,Se=Math.abs(Se)),0>De&&(ye+=De,De=Math.abs(De)),0>ce&&(Se+=ce,ce=0),0>ye&&(De+=ye,ye=0),!(0>=Se||0>=De)){_=s.MakeImage({width:_.width,height:_.height,alphaType:s.AlphaType.Unpremul,colorType:s.ColorType.RGBA_8888,colorSpace:s.ColorSpace.SRGB},_.data,4*_.width);var Lt=s.XYWHRect(ce,ye,Se,De);$=s.XYWHRect($+ce,te+ye,Se,De),te=s.Matrix.invert(this.Ud),this.Md.save(),this.Md.concat(te),this.Md.drawImageRect(_,Lt,$,null,!1),this.Md.restore(),_.delete()}}},this.quadraticCurveTo=function(_,$,te,ce){var ye=this.Rd;y([_,$,te,ce])&&(ye.isEmpty()&&ye.moveTo(_,$),ye.quadTo(_,$,te,ce))},this.rect=function(_,$,te,ce){var ye=this.Rd;_=s.XYWHRect(_,$,te,ce),y(_)&&ye.addRect(_)},this.resetTransform=function(){this.Rd.transform(this.Ud);var _=s.Matrix.invert(this.Ud);this.Md.concat(_),this.Ud=this.Md.getTotalMatrix()},this.restore=function(){var _=this.mf.pop();if(_){var $=s.Matrix.multiply(this.Ud,s.Matrix.invert(_.Kf));this.Rd.transform($),this.Pd.delete(),this.Pd=_.bg,this.ve=_.$f,this.Le=_.ng,this.he=_.mg,this.be=_.fs,this.xe=_.kg,this.ye=_.lg,this.we=_.sb,this.Ke=_.jg,this.je=_.ga,this.Od=_.Rf,this.Je=_.ag,this.Se=_.Qf,this.Md.restore(),this.Ud=this.Md.getTotalMatrix()}},this.rotate=function(_){if(isFinite(_)){var $=s.Matrix.rotated(-_);this.Rd.transform($),this.Md.rotate(_/Math.PI*180,0,0),this.Ud=this.Md.getTotalMatrix()}},this.save=function(){if(this.be.te){var _=this.be.te();this.Ce.push(_)}else _=this.be;if(this.he.te){var $=this.he.te();this.Ce.push($)}else $=this.he;this.mf.push({Kf:this.Ud.slice(),$f:this.ve.slice(),ng:this.Le,mg:$,fs:_,kg:this.xe,lg:this.ye,sb:this.we,jg:this.Ke,ga:this.je,ag:this.Je,Rf:this.Od,bg:this.Pd.copy(),Qf:this.Se}),this.Md.save()},this.scale=function(_,$){if(y(arguments)){var te=s.Matrix.scaled(1/_,1/$);this.Rd.transform(te),this.Md.scale(_,$),this.Ud=this.Md.getTotalMatrix()}},this.setLineDash=function(_){for(var $=0;$<_.length;$++)if(!isFinite(_[$])||0>_[$])return;_.length%2===1&&Array.prototype.push.apply(_,_),this.ve=_},this.setTransform=function(_,$,te,ce,ye,Se){y(arguments)&&(this.resetTransform(),this.transform(_,$,te,ce,ye,Se))},this.se=function(){var _=s.Matrix.invert(this.Ud);this.Md.concat(_),this.Md.concat(s.Matrix.translated(this.xe,this.ye)),this.Md.concat(this.Ud)},this.ze=function(_){var $=s.multiplyByAlpha(this.Ke,this.je);if(!s.getColorComponents($)[3]||!(this.we||this.ye||this.xe))return null;_=_.copy(),_.setColor($);var te=s.MaskFilter.MakeBlur(s.BlurStyle.Normal,this.we/2,!1);return _.setMaskFilter(te),_.dispose=function(){te.delete(),this.delete()},_},this.df=function(){var _=this.Pd.copy();if(_.setStyle(s.PaintStyle.Stroke),v(this.he)){var $=s.multiplyByAlpha(this.he,this.je);_.setColor($)}else $=this.he.ue(this.Ud),_.setColor(s.Color(0,0,0,this.je)),_.setShader($);if(_.setStrokeWidth(this.Le),this.ve.length){var te=s.PathEffect.MakeDash(this.ve,this.Je);_.setPathEffect(te)}return _.dispose=function(){te&&te.delete(),this.delete()},_},this.stroke=function(_){_=_?_.Vd:this.Rd;var $=this.df(),te=this.ze($);te&&(this.Md.save(),this.se(),this.Md.drawPath(_,te),this.Md.restore(),te.dispose()),this.Md.drawPath(_,$),$.dispose()},this.strokeRect=function(_,$,te,ce){var ye=this.df(),Se=this.ze(ye);Se&&(this.Md.save(),this.se(),this.Md.drawRect(s.XYWHRect(_,$,te,ce),Se),this.Md.restore(),Se.dispose()),this.Md.drawRect(s.XYWHRect(_,$,te,ce),ye),ye.dispose()},this.strokeText=function(_,$,te){var ce=this.df();_=s.TextBlob.MakeFromText(_,this.ne);var ye=this.ze(ce);ye&&(this.Md.save(),this.se(),this.Md.drawTextBlob(_,$,te,ye),this.Md.restore(),ye.dispose()),this.Md.drawTextBlob(_,$,te,ce),_.delete(),ce.dispose()},this.translate=function(_,$){if(y(arguments)){var te=s.Matrix.translated(-_,-$);this.Rd.transform(te),this.Md.translate(_,$),this.Ud=this.Md.getTotalMatrix()}},this.transform=function(_,$,te,ce,ye,Se){_=[_,te,ye,$,ce,Se,0,0,1],$=s.Matrix.invert(_),this.Rd.transform($),this.Md.concat(_),this.Ud=this.Md.getTotalMatrix()},this.addHitRegion=function(){},this.clearHitRegions=function(){},this.drawFocusIfNeeded=function(){},this.removeHitRegion=function(){},this.scrollPathIntoView=function(){},Object.defineProperty(this,"canvas",{value:null,writable:!1})}function X(we){this.ef=we,this.Ld=new G(we.getCanvas()),this.Te=[],this.decodeImage=function(_){if(_=s.MakeImageFromEncoded(_),!_)throw"Invalid input";return this.Te.push(_),new ue(_)},this.loadFont=function(_,$){if(_=s.Typeface.MakeFreeTypeFaceFromData(_),!_)return null;this.Te.push(_);var te=($.style||"normal")+"|"+($.variant||"normal")+"|"+($.weight||"normal");$=$.family,un[$]||(un[$]={"*":_}),un[$][te]=_},this.makePath2D=function(_){return _=new at(_),this.Te.push(_.Vd),_},this.getContext=function(_){return _==="2d"?this.Ld:null},this.toDataURL=function(_,$){this.ef.flush();var te=this.ef.makeImageSnapshot();if(te){_=_||"image/png";var ce=s.ImageFormat.PNG;if(_==="image/jpeg"&&(ce=s.ImageFormat.JPEG),$=te.encodeToBytes(ce,$||.92)){if(te.delete(),_="data:"+_+";base64,",typeof Buffer<"u")$=Buffer.from($).toString("base64");else{te=0,ce=$.length;for(var ye="",Se;te<ce;)Se=$.slice(te,Math.min(te+32768,ce)),ye+=String.fromCharCode.apply(null,Se),te+=32768;$=btoa(ye)}return _+$}}},this.dispose=function(){this.Ld.me(),this.Te.forEach(function(_){_.delete()}),this.ef.dispose()}}function ue(we){this.width=we.width(),this.height=we.height(),this.naturalWidth=this.width,this.naturalHeight=this.height,this.uf=function(){return we}}function Te(we,_,$){if(!_||$===0)throw"invalid dimensions, width and height must be non-zero";if(we.length%4)throw"arr must be a multiple of 4";$=$||we.length/(4*_),Object.defineProperty(this,"data",{value:we,writable:!1}),Object.defineProperty(this,"height",{value:$,writable:!1}),Object.defineProperty(this,"width",{value:_,writable:!1})}function ze(we,_,$,te){this.Xd=null,this.de=[],this.$d=[],this.addColorStop=function(ce,ye){if(0>ce||1<ce||!isFinite(ce))throw"offset must be between 0 and 1 inclusively";ye=S(ye);var Se=this.$d.indexOf(ce);if(Se!==-1)this.de[Se]=ye;else{for(Se=0;Se<this.$d.length&&!(this.$d[Se]>ce);Se++);this.$d.splice(Se,0,ce),this.de.splice(Se,0,ye)}},this.te=function(){var ce=new ze(we,_,$,te);return ce.de=this.de.slice(),ce.$d=this.$d.slice(),ce},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(ce){var ye=[we,_,$,te];s.Matrix.mapPoints(ce,ye),ce=ye[0];var Se=ye[1],De=ye[2];return ye=ye[3],this.me(),this.Xd=s.Shader.MakeLinearGradient([ce,Se],[De,ye],this.de,this.$d,s.TileMode.Clamp)}}function Xe(we,_,$,te,ce,ye){if(y([_,$,te,ce,ye])){if(0>ye)throw"radii cannot be negative";we.isEmpty()&&we.moveTo(_,$),we.arcToTangent(_,$,te,ce,ye)}}function pt(we){if(!we.isEmpty()){var _=we.getBounds();(_[3]-_[1]||_[2]-_[0])&&we.close()}}function dt(we,_,$,te,ce,ye,Se){Se=(Se-ye)/Math.PI*180,ye=ye/Math.PI*180,_=s.LTRBRect(_-te,$-ce,_+te,$+ce),1e-5>Math.abs(Math.abs(Se)-360)?($=Se/2,we.arcToOval(_,ye,$,!1),we.arcToOval(_,ye+$,$,!1)):we.arcToOval(_,ye,Se,!1)}function D(we,_,$,te,ce,ye,Se,De,Lt){if(y([_,$,te,ce,ye,Se,De])){if(0>te||0>ce)throw"radii cannot be negative";var It=2*Math.PI,_r=Se%It;0>_r&&(_r+=It);var po=_r-Se;Se=_r,De+=po,!Lt&&De-Se>=It?De=Se+It:Lt&&Se-De>=It?De=Se-It:!Lt&&Se>De?De=Se+(It-(Se-De)%It):Lt&&Se<De&&(De=Se-(It-(De-Se)%It)),ye?(Lt=s.Matrix.rotated(ye,_,$),ye=s.Matrix.rotated(-ye,_,$),we.transform(ye),dt(we,_,$,te,ce,Se,De),we.transform(Lt)):dt(we,_,$,te,ce,Se,De)}}function de(we,_,$){y([_,$])&&(we.isEmpty()&&we.moveTo(_,$),we.lineTo(_,$))}function at(we){this.Vd=null,this.Vd=typeof we=="string"?s.Path.MakeFromSVGString(we):we&&we.bf?we.Vd.copy():new s.Path,this.bf=function(){return this.Vd},this.addPath=function(_,$){$||($={a:1,c:0,e:0,b:0,d:1,f:0}),this.Vd.addPath(_.Vd,[$.a,$.c,$.e,$.b,$.d,$.f])},this.arc=function(_,$,te,ce,ye,Se){D(this.Vd,_,$,te,te,0,ce,ye,Se)},this.arcTo=function(_,$,te,ce,ye){Xe(this.Vd,_,$,te,ce,ye)},this.bezierCurveTo=function(_,$,te,ce,ye,Se){var De=this.Vd;y([_,$,te,ce,ye,Se])&&(De.isEmpty()&&De.moveTo(_,$),De.cubicTo(_,$,te,ce,ye,Se))},this.closePath=function(){pt(this.Vd)},this.ellipse=function(_,$,te,ce,ye,Se,De,Lt){D(this.Vd,_,$,te,ce,ye,Se,De,Lt)},this.lineTo=function(_,$){de(this.Vd,_,$)},this.moveTo=function(_,$){var te=this.Vd;y([_,$])&&te.moveTo(_,$)},this.quadraticCurveTo=function(_,$,te,ce){var ye=this.Vd;y([_,$,te,ce])&&(ye.isEmpty()&&ye.moveTo(_,$),ye.quadTo(_,$,te,ce))},this.rect=function(_,$,te,ce){var ye=this.Vd;_=s.XYWHRect(_,$,te,ce),y(_)&&ye.addRect(_)}}function _t(we,_){switch(this.Xd=null,we instanceof ue&&(we=we.uf()),this.Ff=we,this._transform=s.Matrix.identity(),_===""&&(_="repeat"),_){case"repeat-x":this.Ae=s.TileMode.Repeat,this.Be=s.TileMode.Decal;break;case"repeat-y":this.Ae=s.TileMode.Decal,this.Be=s.TileMode.Repeat;break;case"repeat":this.Be=this.Ae=s.TileMode.Repeat;break;case"no-repeat":this.Be=this.Ae=s.TileMode.Decal;break;default:throw"invalid repetition mode "+_}this.setTransform=function($){$=[$.a,$.c,$.e,$.b,$.d,$.f,0,0,1],y($)&&(this._transform=$)},this.te=function(){var $=new _t;return $.Ae=this.Ae,$.Be=this.Be,$},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(){return this.me(),this.Xd=this.Ff.makeShaderCubic(this.Ae,this.Be,1/3,1/3,this._transform)}}function Qt(we,_,$,te,ce,ye){this.Xd=null,this.de=[],this.$d=[],this.addColorStop=function(Se,De){if(0>Se||1<Se||!isFinite(Se))throw"offset must be between 0 and 1 inclusively";De=S(De);var Lt=this.$d.indexOf(Se);if(Lt!==-1)this.de[Lt]=De;else{for(Lt=0;Lt<this.$d.length&&!(this.$d[Lt]>Se);Lt++);this.$d.splice(Lt,0,Se),this.de.splice(Lt,0,De)}},this.te=function(){var Se=new Qt(we,_,$,te,ce,ye);return Se.de=this.de.slice(),Se.$d=this.$d.slice(),Se},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(Se){var De=[we,_,te,ce];s.Matrix.mapPoints(Se,De);var Lt=De[0],It=De[1],_r=De[2];De=De[3];var po=(Math.abs(Se[0])+Math.abs(Se[4]))/2;return Se=$*po,po*=ye,this.me(),this.Xd=s.Shader.MakeTwoPointConicalGradient([Lt,It],Se,[_r,De],po,this.de,this.$d,s.TileMode.Clamp)}}s._testing={};var Zn={aliceblue:Float32Array.of(.941,.973,1,1),antiquewhite:Float32Array.of(.98,.922,.843,1),aqua:Float32Array.of(0,1,1,1),aquamarine:Float32Array.of(.498,1,.831,1),azure:Float32Array.of(.941,1,1,1),beige:Float32Array.of(.961,.961,.863,1),bisque:Float32Array.of(1,.894,.769,1),black:Float32Array.of(0,0,0,1),blanchedalmond:Float32Array.of(1,.922,.804,1),blue:Float32Array.of(0,0,1,1),blueviolet:Float32Array.of(.541,.169,.886,1),brown:Float32Array.of(.647,.165,.165,1),burlywood:Float32Array.of(.871,.722,.529,1),cadetblue:Float32Array.of(.373,.62,.627,1),chartreuse:Float32Array.of(.498,1,0,1),chocolate:Float32Array.of(.824,.412,.118,1),coral:Float32Array.of(1,.498,.314,1),cornflowerblue:Float32Array.of(.392,.584,.929,1),cornsilk:Float32Array.of(1,.973,.863,1),crimson:Float32Array.of(.863,.078,.235,1),cyan:Float32Array.of(0,1,1,1),darkblue:Float32Array.of(0,0,.545,1),darkcyan:Float32Array.of(0,.545,.545,1),darkgoldenrod:Float32Array.of(.722,.525,.043,1),darkgray:Float32Array.of(.663,.663,.663,1),darkgreen:Float32Array.of(0,.392,0,1),darkgrey:Float32Array.of(.663,.663,.663,1),darkkhaki:Float32Array.of(.741,.718,.42,1),darkmagenta:Float32Array.of(.545,0,.545,1),darkolivegreen:Float32Array.of(.333,.42,.184,1),darkorange:Float32Array.of(1,.549,0,1),darkorchid:Float32Array.of(.6,.196,.8,1),darkred:Float32Array.of(.545,0,0,1),darksalmon:Float32Array.of(.914,.588,.478,1),darkseagreen:Float32Array.of(.561,.737,.561,1),darkslateblue:Float32Array.of(.282,.239,.545,1),darkslategray:Float32Array.of(.184,.31,.31,1),darkslategrey:Float32Array.of(.184,.31,.31,1),darkturquoise:Float32Array.of(0,.808,.82,1),darkviolet:Float32Array.of(.58,0,.827,1),deeppink:Float32Array.of(1,.078,.576,1),deepskyblue:Float32Array.of(0,.749,1,1),dimgray:Float32Array.of(.412,.412,.412,1),dimgrey:Float32Array.of(.412,.412,.412,1),dodgerblue:Float32Array.of(.118,.565,1,1),firebrick:Float32Array.of(.698,.133,.133,1),floralwhite:Float32Array.of(1,.98,.941,1),forestgreen:Float32Array.of(.133,.545,.133,1),fuchsia:Float32Array.of(1,0,1,1),gainsboro:Float32Array.of(.863,.863,.863,1),ghostwhite:Float32Array.of(.973,.973,1,1),gold:Float32Array.of(1,.843,0,1),goldenrod:Float32Array.of(.855,.647,.125,1),gray:Float32Array.of(.502,.502,.502,1),green:Float32Array.of(0,.502,0,1),greenyellow:Float32Array.of(.678,1,.184,1),grey:Float32Array.of(.502,.502,.502,1),honeydew:Float32Array.of(.941,1,.941,1),hotpink:Float32Array.of(1,.412,.706,1),indianred:Float32Array.of(.804,.361,.361,1),indigo:Float32Array.of(.294,0,.51,1),ivory:Float32Array.of(1,1,.941,1),khaki:Float32Array.of(.941,.902,.549,1),lavender:Float32Array.of(.902,.902,.98,1),lavenderblush:Float32Array.of(1,.941,.961,1),lawngreen:Float32Array.of(.486,.988,0,1),lemonchiffon:Float32Array.of(1,.98,.804,1),lightblue:Float32Array.of(.678,.847,.902,1),lightcoral:Float32Array.of(.941,.502,.502,1),lightcyan:Float32Array.of(.878,1,1,1),lightgoldenrodyellow:Float32Array.of(.98,.98,.824,1),lightgray:Float32Array.of(.827,.827,.827,1),lightgreen:Float32Array.of(.565,.933,.565,1),lightgrey:Float32Array.of(.827,.827,.827,1),lightpink:Float32Array.of(1,.714,.757,1),lightsalmon:Float32Array.of(1,.627,.478,1),lightseagreen:Float32Array.of(.125,.698,.667,1),lightskyblue:Float32Array.of(.529,.808,.98,1),lightslategray:Float32Array.of(.467,.533,.6,1),lightslategrey:Float32Array.of(.467,.533,.6,1),lightsteelblue:Float32Array.of(.69,.769,.871,1),lightyellow:Float32Array.of(1,1,.878,1),lime:Float32Array.of(0,1,0,1),limegreen:Float32Array.of(.196,.804,.196,1),linen:Float32Array.of(.98,.941,.902,1),magenta:Float32Array.of(1,0,1,1),maroon:Float32Array.of(.502,0,0,1),mediumaquamarine:Float32Array.of(.4,.804,.667,1),mediumblue:Float32Array.of(0,0,.804,1),mediumorchid:Float32Array.of(.729,.333,.827,1),mediumpurple:Float32Array.of(.576,.439,.859,1),mediumseagreen:Float32Array.of(.235,.702,.443,1),mediumslateblue:Float32Array.of(.482,.408,.933,1),mediumspringgreen:Float32Array.of(0,.98,.604,1),mediumturquoise:Float32Array.of(.282,.82,.8,1),mediumvioletred:Float32Array.of(.78,.082,.522,1),midnightblue:Float32Array.of(.098,.098,.439,1),mintcream:Float32Array.of(.961,1,.98,1),mistyrose:Float32Array.of(1,.894,.882,1),moccasin:Float32Array.of(1,.894,.71,1),navajowhite:Float32Array.of(1,.871,.678,1),navy:Float32Array.of(0,0,.502,1),oldlace:Float32Array.of(.992,.961,.902,1),olive:Float32Array.of(.502,.502,0,1),olivedrab:Float32Array.of(.42,.557,.137,1),orange:Float32Array.of(1,.647,0,1),orangered:Float32Array.of(1,.271,0,1),orchid:Float32Array.of(.855,.439,.839,1),palegoldenrod:Float32Array.of(.933,.91,.667,1),palegreen:Float32Array.of(.596,.984,.596,1),paleturquoise:Float32Array.of(.686,.933,.933,1),palevioletred:Float32Array.of(.859,.439,.576,1),papayawhip:Float32Array.of(1,.937,.835,1),peachpuff:Float32Array.of(1,.855,.725,1),peru:Float32Array.of(.804,.522,.247,1),pink:Float32Array.of(1,.753,.796,1),plum:Float32Array.of(.867,.627,.867,1),powderblue:Float32Array.of(.69,.878,.902,1),purple:Float32Array.of(.502,0,.502,1),rebeccapurple:Float32Array.of(.4,.2,.6,1),red:Float32Array.of(1,0,0,1),rosybrown:Float32Array.of(.737,.561,.561,1),royalblue:Float32Array.of(.255,.412,.882,1),saddlebrown:Float32Array.of(.545,.271,.075,1),salmon:Float32Array.of(.98,.502,.447,1),sandybrown:Float32Array.of(.957,.643,.376,1),seagreen:Float32Array.of(.18,.545,.341,1),seashell:Float32Array.of(1,.961,.933,1),sienna:Float32Array.of(.627,.322,.176,1),silver:Float32Array.of(.753,.753,.753,1),skyblue:Float32Array.of(.529,.808,.922,1),slateblue:Float32Array.of(.416,.353,.804,1),slategray:Float32Array.of(.439,.502,.565,1),slategrey:Float32Array.of(.439,.502,.565,1),snow:Float32Array.of(1,.98,.98,1),springgreen:Float32Array.of(0,1,.498,1),steelblue:Float32Array.of(.275,.51,.706,1),tan:Float32Array.of(.824,.706,.549,1),teal:Float32Array.of(0,.502,.502,1),thistle:Float32Array.of(.847,.749,.847,1),tomato:Float32Array.of(1,.388,.278,1),transparent:Float32Array.of(0,0,0,0),turquoise:Float32Array.of(.251,.878,.816,1),violet:Float32Array.of(.933,.51,.933,1),wheat:Float32Array.of(.961,.871,.702,1),white:Float32Array.of(1,1,1,1),whitesmoke:Float32Array.of(.961,.961,.961,1),yellow:Float32Array.of(1,1,0,1),yellowgreen:Float32Array.of(.604,.804,.196,1)};s._testing.parseColor=S,s._testing.colorToString=g;var er=RegExp("(italic|oblique|normal|)\\s*(small-caps|normal|)\\s*(bold|bolder|lighter|[1-9]00|normal|)\\s*([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q)(.+)"),un={"Noto Mono":{"*":null},monospace:{"*":null}};s._testing.parseFontString=M,s.MakeCanvas=function(we,_){return(we=s.MakeSurface(we,_))?new X(we):null},s.ImageData=function(){if(arguments.length===2){var we=arguments[0],_=arguments[1];return new Te(new Uint8ClampedArray(4*we*_),we,_)}if(arguments.length===3){var $=arguments[0];if($.prototype.constructor!==Uint8ClampedArray)throw"bytes must be given as a Uint8ClampedArray";if(we=arguments[1],_=arguments[2],$%4)throw"bytes must be given in a multiple of 4";if($%we)throw"bytes must divide evenly by width";if(_&&_!==$/(4*we))throw"invalid height given";return new Te($,we,$/(4*we))}throw"invalid number of arguments - takes 2 or 3, saw "+arguments.length}}()}(n);var u=Object.assign({},n),c="./this.program",l=(s,f)=>{throw f},h=typeof window=="object",p=typeof importScripts=="function",b=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",x="",E,T,C;b?(x=p?Fa.dirname(x)+"/":__dirname+"/",E=(s,f)=>(s=s.startsWith("file://")?new URL(s):Fa.normalize(s),fs.readFileSync(s,f?void 0:"utf8")),C=s=>(s=E(s,!0),s.buffer||(s=new Uint8Array(s)),s),T=(s,f,m,v=!0)=>{s=s.startsWith("file://")?new URL(s):Fa.normalize(s),fs.readFile(s,v?void 0:"utf8",(A,k)=>{A?m(A):f(v?k.buffer:k)})},!n.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),l=(s,f)=>{throw process.exitCode=s,f},n.inspect=()=>"[Emscripten Module object]"):(h||p)&&(p?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),t&&(x=t),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",E=s=>{var f=new XMLHttpRequest;return f.open("GET",s,!1),f.send(null),f.responseText},p&&(C=s=>{var f=new XMLHttpRequest;return f.open("GET",s,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),T=(s,f,m)=>{var v=new XMLHttpRequest;v.open("GET",s,!0),v.responseType="arraybuffer",v.onload=()=>{v.status==200||v.status==0&&v.response?f(v.response):m()},v.onerror=m,v.send(null)});var P=n.print||console.log.bind(console),F=n.printErr||console.error.bind(console);Object.assign(n,u),u=null,n.thisProgram&&(c=n.thisProgram),n.quit&&(l=n.quit);var B;n.wasmBinary&&(B=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&Ee("no native wasm support detected");var z,U,ee=!1,ne,re,le,Ae,J,pe,se,Ie;function Fe(){var s=z.buffer;n.HEAP8=ne=new Int8Array(s),n.HEAP16=le=new Int16Array(s),n.HEAP32=J=new Int32Array(s),n.HEAPU8=re=new Uint8Array(s),n.HEAPU16=Ae=new Uint16Array(s),n.HEAPU32=pe=new Uint32Array(s),n.HEAPF32=se=new Float32Array(s),n.HEAPF64=Ie=new Float64Array(s)}var Ce,Ye=[],ae=[],ie=[];function he(){var s=n.preRun.shift();Ye.unshift(s)}var _e=0,ke=null;function Ee(s){throw n.onAbort&&n.onAbort(s),s="Aborted("+s+")",F(s),ee=!0,s=new WebAssembly.RuntimeError(s+". Build with -sASSERTIONS for more info."),o(s),s}function Re(s){return s.startsWith("data:application/octet-stream;base64,")}var ot;if(ot="canvaskit.wasm",!Re(ot)){var it=ot;ot=n.locateFile?n.locateFile(it,x):x+it}function Ke(s){if(s==ot&&B)return new Uint8Array(B);if(C)return C(s);throw"both async and sync fetching of the wasm failed"}function yt(s){if(!B&&(h||p)){if(typeof fetch=="function"&&!s.startsWith("file://"))return fetch(s,{credentials:"same-origin"}).then(f=>{if(!f.ok)throw"failed to load wasm binary file at '"+s+"'";return f.arrayBuffer()}).catch(()=>Ke(s));if(T)return new Promise((f,m)=>{T(s,v=>f(new Uint8Array(v)),m)})}return Promise.resolve().then(()=>Ke(s))}function Nt(s,f,m){return yt(s).then(v=>WebAssembly.instantiate(v,f)).then(v=>v).then(m,v=>{F("failed to asynchronously prepare wasm: "+v),Ee(v)})}function In(s,f){var m=ot;return B||typeof WebAssembly.instantiateStreaming!="function"||Re(m)||m.startsWith("file://")||b||typeof fetch!="function"?Nt(m,s,f):fetch(m,{credentials:"same-origin"}).then(v=>WebAssembly.instantiateStreaming(v,s).then(f,function(A){return F("wasm streaming compile failed: "+A),F("falling back to ArrayBuffer instantiation"),Nt(m,s,f)}))}function on(s){this.name="ExitStatus",this.message=`Program terminated with exit(${s})`,this.status=s}var hn=s=>{for(;0<s.length;)s.shift()(n)},Gn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ut=(s,f,m)=>{var v=f+m;for(m=f;s[m]&&!(m>=v);)++m;if(16<m-f&&s.buffer&&Gn)return Gn.decode(s.subarray(f,m));for(v="";f<m;){var A=s[f++];if(A&128){var k=s[f++]&63;if((A&224)==192)v+=String.fromCharCode((A&31)<<6|k);else{var H=s[f++]&63;A=(A&240)==224?(A&15)<<12|k<<6|H:(A&7)<<18|k<<12|H<<6|s[f++]&63,65536>A?v+=String.fromCharCode(A):(A-=65536,v+=String.fromCharCode(55296|A>>10,56320|A&1023))}}else v+=String.fromCharCode(A)}return v},wn={};function Wt(s){for(;s.length;){var f=s.pop();s.pop()(f)}}function En(s){return this.fromWireType(J[s>>2])}var Zt={},jt={},Un={},yr=void 0;function pn(s){throw new yr(s)}function st(s,f,m){function v(O){O=m(O),O.length!==s.length&&pn("Mismatched type converter count");for(var N=0;N<s.length;++N)bn(s[N],O[N])}s.forEach(function(O){Un[O]=f});var A=Array(f.length),k=[],H=0;f.forEach((O,N)=>{jt.hasOwnProperty(O)?A[N]=jt[O]:(k.push(O),Zt.hasOwnProperty(O)||(Zt[O]=[]),Zt[O].push(()=>{A[N]=jt[O],++H,H===k.length&&v(A)}))}),k.length===0&&v(A)}function Ct(s){switch(s){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${s}`)}}var en=void 0;function xt(s){for(var f="";re[s];)f+=en[re[s++]];return f}var Dt=void 0;function vt(s){throw new Dt(s)}function xi(s,f,m={}){var v=f.name;if(s||vt(`type "${v}" must have a positive integer typeid pointer`),jt.hasOwnProperty(s)){if(m.Xf)return;vt(`Cannot register type '${v}' twice`)}jt[s]=f,delete Un[s],Zt.hasOwnProperty(s)&&(f=Zt[s],delete Zt[s],f.forEach(A=>A()))}function bn(s,f,m={}){if(!("argPackAdvance"in f))throw new TypeError("registerType registeredInstance requires argPackAdvance");xi(s,f,m)}function Si(s){vt(s.Kd.Wd.Qd.name+" instance already deleted")}var Ei=!1;function qi(){}function Ji(s){--s.count.value,s.count.value===0&&(s.Zd?s.fe.le(s.Zd):s.Wd.Qd.le(s.Sd))}function Zi(s,f,m){return f===m?s:m.ae===void 0?null:(s=Zi(s,f,m.ae),s===null?null:m.Nf(s))}var eo={},Hr=[];function Ai(){for(;Hr.length;){var s=Hr.pop();s.Kd.Fe=!1,s.delete()}}var zr=void 0,Ti={};function Ns(s,f){for(f===void 0&&vt("ptr should not be undefined");s.ae;)f=s.Pe(f),s=s.ae;return Ti[f]}function to(s,f){return f.Wd&&f.Sd||pn("makeClassHandle requires ptr and ptrType"),!!f.fe!=!!f.Zd&&pn("Both smartPtrType and smartPtr must be specified"),f.count={value:1},ii(Object.create(s,{Kd:{value:f}}))}function ii(s){return typeof FinalizationRegistry>"u"?(ii=f=>f,s):(Ei=new FinalizationRegistry(f=>{Ji(f.Kd)}),ii=f=>{var m=f.Kd;return m.Zd&&Ei.register(f,{Kd:m},f),f},qi=f=>{Ei.unregister(f)},ii(s))}function vr(){}function Jo(s){if(s===void 0)return"_unknown";s=s.replace(/[^a-zA-Z0-9_]/g,"$");var f=s.charCodeAt(0);return 48<=f&&57>=f?`_${s}`:s}function no(s,f){return s=Jo(s),{[s]:function(){return f.apply(this,arguments)}}[s]}function oi(s,f,m){if(s[f].Yd===void 0){var v=s[f];s[f]=function(){return s[f].Yd.hasOwnProperty(arguments.length)||vt(`Function '${m}' called with an invalid number of arguments (${arguments.length}) - expects one of (${s[f].Yd})!`),s[f].Yd[arguments.length].apply(this,arguments)},s[f].Yd=[],s[f].Yd[v.De]=v}}function si(s,f,m){n.hasOwnProperty(s)?((m===void 0||n[s].Yd!==void 0&&n[s].Yd[m]!==void 0)&&vt(`Cannot register public name '${s}' twice`),oi(n,s,s),n.hasOwnProperty(m)&&vt(`Cannot register multiple overloads of a function with the same number of arguments (${m})!`),n[s].Yd[m]=f):(n[s]=f,m!==void 0&&(n[s].xg=m))}function ro(s,f,m,v,A,k,H,O){this.name=s,this.constructor=f,this.Ge=m,this.le=v,this.ae=A,this.Sf=k,this.Pe=H,this.Nf=O,this.dg=[]}function Ci(s,f,m){for(;f!==m;)f.Pe||vt(`Expected null or instance of ${m.name}, got an instance of ${f.name}`),s=f.Pe(s),f=f.ae;return s}function ai(s,f){return f===null?(this.hf&&vt(`null is not a valid ${this.name}`),0):(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),Ci(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd))}function ui(s,f){if(f===null){if(this.hf&&vt(`null is not a valid ${this.name}`),this.We){var m=this.jf();return s!==null&&s.push(this.le,m),m}return 0}if(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.Ve&&f.Kd.Wd.Ve&&vt(`Cannot convert argument of type ${f.Kd.fe?f.Kd.fe.name:f.Kd.Wd.name} to parameter type ${this.name}`),m=Ci(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd),this.We)switch(f.Kd.Zd===void 0&&vt("Passing raw pointer to smart pointer is illegal"),this.ig){case 0:f.Kd.fe===this?m=f.Kd.Zd:vt(`Cannot convert argument of type ${f.Kd.fe?f.Kd.fe.name:f.Kd.Wd.name} to parameter type ${this.name}`);break;case 1:m=f.Kd.Zd;break;case 2:if(f.Kd.fe===this)m=f.Kd.Zd;else{var v=f.clone();m=this.eg(m,Wn(function(){v.delete()})),s!==null&&s.push(this.le,m)}break;default:vt("Unsupporting sharing policy")}return m}function io(s,f){return f===null?(this.hf&&vt(`null is not a valid ${this.name}`),0):(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),f.Kd.Wd.Ve&&vt(`Cannot convert argument of type ${f.Kd.Wd.name} to parameter type ${this.name}`),Ci(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd))}function sr(s,f,m,v,A,k,H,O,N,j,ge){this.name=s,this.Qd=f,this.hf=m,this.Ve=v,this.We=A,this.cg=k,this.ig=H,this.wf=O,this.jf=N,this.eg=j,this.le=ge,A||f.ae!==void 0?this.toWireType=ui:(this.toWireType=v?ai:io,this.ee=null)}function Yt(s,f,m){n.hasOwnProperty(s)||pn("Replacing nonexistant public symbol"),n[s].Yd!==void 0&&m!==void 0?n[s].Yd[m]=f:(n[s]=f,n[s].De=m)}var Zo=(s,f)=>{var m=[];return function(){if(m.length=0,Object.assign(m,arguments),s.includes("j")){var v=n["dynCall_"+s];v=m&&m.length?v.apply(null,[f].concat(m)):v.call(null,f)}else v=Ce.get(f).apply(null,m);return v}};function gn(s,f){s=xt(s);var m=s.includes("j")?Zo(s,f):Ce.get(f);return typeof m!="function"&&vt(`unknown function pointer with signature ${s}: ${f}`),m}var Kt=void 0;function tn(s){s=Vs(s);var f=xt(s);return Xr(s),f}function An(s,f){function m(k){A[k]||jt[k]||(Un[k]?Un[k].forEach(m):(v.push(k),A[k]=!0))}var v=[],A={};throw f.forEach(m),new Kt(`${s}: `+v.map(tn).join([", "]))}function kn(s,f,m,v,A){var k=f.length;2>k&&vt("argTypes array size mismatch! Must at least get return value and 'this' types!");var H=f[1]!==null&&m!==null,O=!1;for(m=1;m<f.length;++m)if(f[m]!==null&&f[m].ee===void 0){O=!0;break}var N=f[0].name!=="void",j=k-2,ge=Array(j),be=[],Ge=[];return function(){if(arguments.length!==j&&vt(`function ${s} called with ${arguments.length} arguments, expected ${j} args!`),Ge.length=0,be.length=H?2:1,be[0]=A,H){var Z=f[1].toWireType(Ge,this);be[1]=Z}for(var We=0;We<j;++We)ge[We]=f[We+2].toWireType(Ge,arguments[We]),be.push(ge[We]);if(We=v.apply(null,be),O)Wt(Ge);else for(var tt=H?1:2;tt<f.length;tt++){var rt=tt===1?Z:ge[tt-2];f[tt].ee!==null&&f[tt].ee(rt)}return Z=N?f[0].fromWireType(We):void 0,Z}}function jr(s,f){for(var m=[],v=0;v<s;v++)m.push(pe[f+4*v>>2]);return m}function es(){this.ke=[void 0],this.tf=[]}var Tn=new es;function _i(s){s>=Tn.He&&--Tn.get(s).xf===0&&Tn.Cf(s)}var Rn=s=>(s||vt("Cannot use deleted val. handle = "+s),Tn.get(s).value),Wn=s=>{switch(s){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Tn.Bf({xf:1,value:s})}};function $s(s,f,m){switch(f){case 0:return function(v){return this.fromWireType((m?ne:re)[v])};case 1:return function(v){return this.fromWireType((m?le:Ae)[v>>1])};case 2:return function(v){return this.fromWireType((m?J:pe)[v>>2])};default:throw new TypeError("Unknown integer type: "+s)}}function Li(s,f){var m=jt[s];return m===void 0&&vt(f+" has unknown type "+tn(s)),m}function Qn(s){if(s===null)return"null";var f=typeof s;return f==="object"||f==="array"||f==="function"?s.toString():""+s}function ts(s,f){switch(f){case 2:return function(m){return this.fromWireType(se[m>>2])};case 3:return function(m){return this.fromWireType(Ie[m>>3])};default:throw new TypeError("Unknown float type: "+s)}}function al(s,f,m){switch(f){case 0:return m?function(v){return ne[v]}:function(v){return re[v]};case 1:return m?function(v){return le[v>>1]}:function(v){return Ae[v>>1]};case 2:return m?function(v){return J[v>>2]}:function(v){return pe[v>>2]};default:throw new TypeError("Unknown integer type: "+s)}}var On=(s,f,m,v)=>{if(!(0<v))return 0;var A=m;v=m+v-1;for(var k=0;k<s.length;++k){var H=s.charCodeAt(k);if(55296<=H&&57343>=H){var O=s.charCodeAt(++k);H=65536+((H&1023)<<10)|O&1023}if(127>=H){if(m>=v)break;f[m++]=H}else{if(2047>=H){if(m+1>=v)break;f[m++]=192|H>>6}else{if(65535>=H){if(m+2>=v)break;f[m++]=224|H>>12}else{if(m+3>=v)break;f[m++]=240|H>>18,f[m++]=128|H>>12&63}f[m++]=128|H>>6&63}f[m++]=128|H&63}}return f[m]=0,m-A},ar=s=>{for(var f=0,m=0;m<s.length;++m){var v=s.charCodeAt(m);127>=v?f++:2047>=v?f+=2:55296<=v&&57343>=v?(f+=4,++m):f+=3}return f},Ka=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,ul=(s,f)=>{for(var m=s>>1,v=m+f/2;!(m>=v)&&Ae[m];)++m;if(m<<=1,32<m-s&&Ka)return Ka.decode(re.subarray(s,m));for(m="",v=0;!(v>=f/2);++v){var A=le[s+2*v>>1];if(A==0)break;m+=String.fromCharCode(A)}return m},Qa=(s,f,m)=>{if(m===void 0&&(m=2147483647),2>m)return 0;m-=2;var v=f;m=m<2*s.length?m/2:s.length;for(var A=0;A<m;++A)le[f>>1]=s.charCodeAt(A),f+=2;return le[f>>1]=0,f-v},qa=s=>2*s.length,Ja=(s,f)=>{for(var m=0,v="";!(m>=f/4);){var A=J[s+4*m>>2];if(A==0)break;++m,65536<=A?(A-=65536,v+=String.fromCharCode(55296|A>>10,56320|A&1023)):v+=String.fromCharCode(A)}return v},cl=(s,f,m)=>{if(m===void 0&&(m=2147483647),4>m)return 0;var v=f;m=v+m-4;for(var A=0;A<s.length;++A){var k=s.charCodeAt(A);if(55296<=k&&57343>=k){var H=s.charCodeAt(++A);k=65536+((k&1023)<<10)|H&1023}if(J[f>>2]=k,f+=4,f+4>m)break}return J[f>>2]=0,f-v},ll=s=>{for(var f=0,m=0;m<s.length;++m){var v=s.charCodeAt(m);55296<=v&&57343>=v&&++m,f+=4}return f},fl={};function ns(s){var f=fl[s];return f===void 0?xt(s):f}var To=[];function Bs(){function s(f){f.$$$embind_global$$$=f;var m=typeof $$$embind_global$$$=="object"&&f.$$$embind_global$$$==f;return m||delete f.$$$embind_global$$$,m}if(typeof globalThis=="object")return globalThis;if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&s(global)?$$$embind_global$$$=global:typeof self=="object"&&s(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function Za(s){var f=To.length;return To.push(s),f}function Ds(s,f){for(var m=Array(s),v=0;v<s;++v)m[v]=Li(pe[f+4*v>>2],"parameter "+v);return m}var eu=[];function tu(s){var f=Array(s+1);return function(m,v,A){f[0]=m;for(var k=0;k<s;++k){var H=Li(pe[v+4*k>>2],"parameter "+k);f[k+1]=H.readValueFromPointer(A),A+=H.argPackAdvance}return m=new(m.bind.apply(m,f)),Wn(m)}}var Co={};function nu(s){var f=s.getExtension("ANGLE_instanced_arrays");f&&(s.vertexAttribDivisor=function(m,v){f.vertexAttribDivisorANGLE(m,v)},s.drawArraysInstanced=function(m,v,A,k){f.drawArraysInstancedANGLE(m,v,A,k)},s.drawElementsInstanced=function(m,v,A,k,H){f.drawElementsInstancedANGLE(m,v,A,k,H)})}function dl(s){var f=s.getExtension("OES_vertex_array_object");f&&(s.createVertexArray=function(){return f.createVertexArrayOES()},s.deleteVertexArray=function(m){f.deleteVertexArrayOES(m)},s.bindVertexArray=function(m){f.bindVertexArrayOES(m)},s.isVertexArray=function(m){return f.isVertexArrayOES(m)})}function ru(s){var f=s.getExtension("WEBGL_draw_buffers");f&&(s.drawBuffers=function(m,v){f.drawBuffersWEBGL(m,v)})}var Gs=1,oo=[],wr=[],_o=[],Pi=[],Hn=[],Cn=[],Lo=[],br=[],Mi=[],ci=[],Us={},Ws={},Hs=4;function $t(s){rs||(rs=s)}function so(s){for(var f=Gs++,m=s.length;m<f;m++)s[m]=null;return f}function hl(s,f){s.He||(s.He=s.getContext,s.getContext=function(v,A){return A=s.He(v,A),v=="webgl"==A instanceof WebGLRenderingContext?A:null});var m=1<f.majorVersion?s.getContext("webgl2",f):s.getContext("webgl",f);return m?iu(m,f):0}function iu(s,f){var m=so(br),v={handle:m,attributes:f,version:f.majorVersion,ge:s};return s.canvas&&(s.canvas.Af=v),br[m]=v,(typeof f.Of>"u"||f.Of)&&pl(v),m}function ou(s){return ut=br[s],n.vg=Y=ut&&ut.ge,!(s&&!Y)}function pl(s){if(s||(s=ut),!s.Yf){s.Yf=!0;var f=s.ge;nu(f),dl(f),ru(f),f.qf=f.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),f.vf=f.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"),2<=s.version&&(f.rf=f.getExtension("EXT_disjoint_timer_query_webgl2")),(2>s.version||!f.rf)&&(f.rf=f.getExtension("EXT_disjoint_timer_query")),f.wg=f.getExtension("WEBGL_multi_draw"),(f.getSupportedExtensions()||[]).forEach(function(m){m.includes("lose_context")||m.includes("debug")||f.getExtension(m)})}}var ut,rs,Po={},su=()=>{if(!zs){var s={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"},f;for(f in Po)Po[f]===void 0?delete s[f]:s[f]=Po[f];var m=[];for(f in s)m.push(`${f}=${s[f]}`);zs=m}return zs},zs,gl=[null,[],[]];function au(s){Y.bindVertexArray(Lo[s])}function uu(s,f){for(var m=0;m<s;m++){var v=J[f+4*m>>2];Y.deleteVertexArray(Lo[v]),Lo[v]=null}}var Pt=[];function Rt(s,f,m,v){Y.drawElements(s,f,m,v)}function ao(s,f,m,v){for(var A=0;A<s;A++){var k=Y[m](),H=k&&so(v);k?(k.name=H,v[H]=k):$t(1282),J[f+4*A>>2]=H}}function cu(s,f){ao(s,f,"createVertexArray",Lo)}function lu(s,f,m){if(f){var v=void 0;switch(s){case 36346:v=1;break;case 36344:m!=0&&m!=1&&$t(1280);return;case 34814:case 36345:v=0;break;case 34466:var A=Y.getParameter(34467);v=A?A.length:0;break;case 33309:if(2>ut.version){$t(1282);return}v=2*(Y.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>ut.version){$t(1280);return}v=s==33307?3:0}if(v===void 0)switch(A=Y.getParameter(s),typeof A){case"number":v=A;break;case"boolean":v=A?1:0;break;case"string":$t(1280);return;case"object":if(A===null)switch(s){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:v=0;break;default:$t(1280);return}else{if(A instanceof Float32Array||A instanceof Uint32Array||A instanceof Int32Array||A instanceof Array){for(s=0;s<A.length;++s)switch(m){case 0:J[f+4*s>>2]=A[s];break;case 2:se[f+4*s>>2]=A[s];break;case 4:ne[f+s>>0]=A[s]?1:0}return}try{v=A.name|0}catch(k){$t(1280),F("GL_INVALID_ENUM in glGet"+m+"v: Unknown object returned from WebGL getParameter("+s+")! (error: "+k+")");return}}break;default:$t(1280),F("GL_INVALID_ENUM in glGet"+m+"v: Native code calling glGet"+m+"v("+s+") and it returns "+A+" of type "+typeof A+"!");return}switch(m){case 1:m=v,pe[f>>2]=m,pe[f+4>>2]=(m-pe[f>>2])/4294967296;break;case 0:J[f>>2]=v;break;case 2:se[f>>2]=v;break;case 4:ne[f>>0]=v?1:0}}else $t(1281)}var Mo=s=>{var f=ar(s)+1,m=Fn(f);return m&&On(s,re,m,f),m};function fu(s){return s.slice(-1)=="]"&&s.lastIndexOf("[")}function is(s){return s-=5120,s==0?ne:s==1?re:s==2?le:s==4?J:s==6?se:s==5||s==28922||s==28520||s==30779||s==30782?pe:Ae}function os(s,f,m,v,A){s=is(s);var k=31-Math.clz32(s.BYTES_PER_ELEMENT),H=Hs;return s.subarray(A>>k,A+v*(m*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[f-6402]||1)*(1<<k)+H-1&-H)>>k)}function At(s){var f=Y.Lf;if(f){var m=f.Oe[s];return typeof m=="number"&&(f.Oe[s]=m=Y.getUniformLocation(f,f.yf[s]+(0<m?"["+m+"]":""))),m}$t(1282)}var Ht=[],Ii=[],Cr=s=>s%4===0&&(s%100!==0||s%400===0),js=[31,29,31,30,31,30,31,31,30,31,30,31],ss=[31,28,31,30,31,30,31,31,30,31,30,31];function ur(s){var f=Array(ar(s)+1);return On(s,f,0,f.length),f}var du=(s,f,m,v)=>{function A(Z,We,tt){for(Z=typeof Z=="number"?Z.toString():Z||"";Z.length<We;)Z=tt[0]+Z;return Z}function k(Z,We){return A(Z,We,"0")}function H(Z,We){function tt(jn){return 0>jn?-1:0<jn?1:0}var rt;return(rt=tt(Z.getFullYear()-We.getFullYear()))===0&&(rt=tt(Z.getMonth()-We.getMonth()))===0&&(rt=tt(Z.getDate()-We.getDate())),rt}function O(Z){switch(Z.getDay()){case 0:return new Date(Z.getFullYear()-1,11,29);case 1:return Z;case 2:return new Date(Z.getFullYear(),0,3);case 3:return new Date(Z.getFullYear(),0,2);case 4:return new Date(Z.getFullYear(),0,1);case 5:return new Date(Z.getFullYear()-1,11,31);case 6:return new Date(Z.getFullYear()-1,11,30)}}function N(Z){var We=Z.pe;for(Z=new Date(new Date(Z.qe+1900,0,1).getTime());0<We;){var tt=Z.getMonth(),rt=(Cr(Z.getFullYear())?js:ss)[tt];if(We>rt-Z.getDate())We-=rt-Z.getDate()+1,Z.setDate(1),11>tt?Z.setMonth(tt+1):(Z.setMonth(0),Z.setFullYear(Z.getFullYear()+1));else{Z.setDate(Z.getDate()+We);break}}return tt=new Date(Z.getFullYear()+1,0,4),We=O(new Date(Z.getFullYear(),0,4)),tt=O(tt),0>=H(We,Z)?0>=H(tt,Z)?Z.getFullYear()+1:Z.getFullYear():Z.getFullYear()-1}var j=J[v+40>>2];v={qg:J[v>>2],pg:J[v+4>>2],$e:J[v+8>>2],kf:J[v+12>>2],af:J[v+16>>2],qe:J[v+20>>2],ie:J[v+24>>2],pe:J[v+28>>2],zg:J[v+32>>2],og:J[v+36>>2],rg:j&&j?Ut(re,j):""},m=m?Ut(re,m):"",j={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ge in j)m=m.replace(new RegExp(ge,"g"),j[ge]);var be="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ge="January February March April May June July August September October November December".split(" ");j={"%a":Z=>be[Z.ie].substring(0,3),"%A":Z=>be[Z.ie],"%b":Z=>Ge[Z.af].substring(0,3),"%B":Z=>Ge[Z.af],"%C":Z=>k((Z.qe+1900)/100|0,2),"%d":Z=>k(Z.kf,2),"%e":Z=>A(Z.kf,2," "),"%g":Z=>N(Z).toString().substring(2),"%G":Z=>N(Z),"%H":Z=>k(Z.$e,2),"%I":Z=>(Z=Z.$e,Z==0?Z=12:12<Z&&(Z-=12),k(Z,2)),"%j":Z=>{for(var We=0,tt=0;tt<=Z.af-1;We+=(Cr(Z.qe+1900)?js:ss)[tt++]);return k(Z.kf+We,3)},"%m":Z=>k(Z.af+1,2),"%M":Z=>k(Z.pg,2),"%n":()=>`
`,"%p":Z=>0<=Z.$e&&12>Z.$e?"AM":"PM","%S":Z=>k(Z.qg,2),"%t":()=>"	","%u":Z=>Z.ie||7,"%U":Z=>k(Math.floor((Z.pe+7-Z.ie)/7),2),"%V":Z=>{var We=Math.floor((Z.pe+7-(Z.ie+6)%7)/7);if(2>=(Z.ie+371-Z.pe-2)%7&&We++,We)We==53&&(tt=(Z.ie+371-Z.pe)%7,tt==4||tt==3&&Cr(Z.qe)||(We=1));else{We=52;var tt=(Z.ie+7-Z.pe-1)%7;(tt==4||tt==5&&Cr(Z.qe%400-1))&&We++}return k(We,2)},"%w":Z=>Z.ie,"%W":Z=>k(Math.floor((Z.pe+7-(Z.ie+6)%7)/7),2),"%y":Z=>(Z.qe+1900).toString().substring(2),"%Y":Z=>Z.qe+1900,"%z":Z=>{Z=Z.og;var We=0<=Z;return Z=Math.abs(Z)/60,(We?"+":"-")+("0000"+(Z/60*100+Z%60)).slice(-4)},"%Z":Z=>Z.rg,"%%":()=>"%"},m=m.replace(/%%/g,"\0\0");for(ge in j)m.includes(ge)&&(m=m.replace(new RegExp(ge,"g"),j[ge](v)));return m=m.replace(/\0\0/g,"%"),ge=ur(m),ge.length>f?0:(ne.set(ge,s),ge.length-1)};yr=n.InternalError=class extends Error{constructor(s){super(s),this.name="InternalError"}};for(var Xs=Array(256),Io=0;256>Io;++Io)Xs[Io]=String.fromCharCode(Io);en=Xs,Dt=n.BindingError=class extends Error{constructor(s){super(s),this.name="BindingError"}},vr.prototype.isAliasOf=function(s){if(!(this instanceof vr&&s instanceof vr))return!1;var f=this.Kd.Wd.Qd,m=this.Kd.Sd,v=s.Kd.Wd.Qd;for(s=s.Kd.Sd;f.ae;)m=f.Pe(m),f=f.ae;for(;v.ae;)s=v.Pe(s),v=v.ae;return f===v&&m===s},vr.prototype.clone=function(){if(this.Kd.Sd||Si(this),this.Kd.Ne)return this.Kd.count.value+=1,this;var s=ii,f=Object,m=f.create,v=Object.getPrototypeOf(this),A=this.Kd;return s=s(m.call(f,v,{Kd:{value:{count:A.count,Fe:A.Fe,Ne:A.Ne,Sd:A.Sd,Wd:A.Wd,Zd:A.Zd,fe:A.fe}}})),s.Kd.count.value+=1,s.Kd.Fe=!1,s},vr.prototype.delete=function(){this.Kd.Sd||Si(this),this.Kd.Fe&&!this.Kd.Ne&&vt("Object already scheduled for deletion"),qi(this),Ji(this.Kd),this.Kd.Ne||(this.Kd.Zd=void 0,this.Kd.Sd=void 0)},vr.prototype.isDeleted=function(){return!this.Kd.Sd},vr.prototype.deleteLater=function(){return this.Kd.Sd||Si(this),this.Kd.Fe&&!this.Kd.Ne&&vt("Object already scheduled for deletion"),Hr.push(this),Hr.length===1&&zr&&zr(Ai),this.Kd.Fe=!0,this},n.getInheritedInstanceCount=function(){return Object.keys(Ti).length},n.getLiveInheritedInstances=function(){var s=[],f;for(f in Ti)Ti.hasOwnProperty(f)&&s.push(Ti[f]);return s},n.flushPendingDeletes=Ai,n.setDelayFunction=function(s){zr=s,Hr.length&&zr&&zr(Ai)},sr.prototype.Tf=function(s){return this.wf&&(s=this.wf(s)),s},sr.prototype.pf=function(s){this.le&&this.le(s)},sr.prototype.argPackAdvance=8,sr.prototype.readValueFromPointer=En,sr.prototype.deleteObject=function(s){s!==null&&s.delete()},sr.prototype.fromWireType=function(s){function f(){return this.We?to(this.Qd.Ge,{Wd:this.cg,Sd:m,fe:this,Zd:s}):to(this.Qd.Ge,{Wd:this,Sd:s})}var m=this.Tf(s);if(!m)return this.pf(s),null;var v=Ns(this.Qd,m);if(v!==void 0)return v.Kd.count.value===0?(v.Kd.Sd=m,v.Kd.Zd=s,v.clone()):(v=v.clone(),this.pf(s),v);if(v=this.Qd.Sf(m),v=eo[v],!v)return f.call(this);v=this.Ve?v.Jf:v.pointerType;var A=Zi(m,this.Qd,v.Qd);return A===null?f.call(this):this.We?to(v.Qd.Ge,{Wd:v,Sd:A,fe:this,Zd:s}):to(v.Qd.Ge,{Wd:v,Sd:A})},Kt=n.UnboundTypeError=function(s,f){var m=no(f,function(v){this.name=f,this.message=v,v=Error(v).stack,v!==void 0&&(this.stack=this.toString()+`
`+v.replace(/^Error(:[^\n]*)?\n/,""))});return m.prototype=Object.create(s.prototype),m.prototype.constructor=m,m.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},m}(Error,"UnboundTypeError"),Object.assign(es.prototype,{get(s){return this.ke[s]},has(s){return this.ke[s]!==void 0},Bf(s){var f=this.tf.pop()||this.ke.length;return this.ke[f]=s,f},Cf(s){this.ke[s]=void 0,this.tf.push(s)}}),Tn.ke.push({value:void 0},{value:null},{value:!0},{value:!1}),Tn.He=Tn.ke.length,n.count_emval_handles=function(){for(var s=0,f=Tn.He;f<Tn.ke.length;++f)Tn.ke[f]!==void 0&&++s;return s};for(var Y,zn=0;32>zn;++zn)Pt.push(Array(zn));var hu=new Float32Array(288);for(zn=0;288>zn;++zn)Ht[zn]=hu.subarray(0,zn+1);var qn=new Int32Array(288);for(zn=0;288>zn;++zn)Ii[zn]=qn.subarray(0,zn+1);var ml={U:function(){return 0},Bb:()=>{},Db:function(){return 0},yb:()=>{},zb:()=>{},V:function(){},Ab:()=>{},E:function(s){var f=wn[s];delete wn[s];var m=f.jf,v=f.le,A=f.sf,k=A.map(H=>H.Wf).concat(A.map(H=>H.gg));st([s],k,H=>{var O={};return A.forEach((N,j)=>{var ge=H[j],be=N.Uf,Ge=N.Vf,Z=H[j+A.length],We=N.fg,tt=N.hg;O[N.Pf]={read:rt=>ge.fromWireType(be(Ge,rt)),write:(rt,jn)=>{var an=[];We(tt,rt,Z.toWireType(an,jn)),Wt(an)}}}),[{name:f.name,fromWireType:function(N){var j={},ge;for(ge in O)j[ge]=O[ge].read(N);return v(N),j},toWireType:function(N,j){for(var ge in O)if(!(ge in j))throw new TypeError(`Missing field: "${ge}"`);var be=m();for(ge in O)O[ge].write(be,j[ge]);return N!==null&&N.push(v,be),be},argPackAdvance:8,readValueFromPointer:En,ee:v}]})},qb:function(){},Hb:function(s,f,m,v,A){var k=Ct(m);f=xt(f),bn(s,{name:f,fromWireType:function(H){return!!H},toWireType:function(H,O){return O?v:A},argPackAdvance:8,readValueFromPointer:function(H){if(m===1)var O=ne;else if(m===2)O=le;else if(m===4)O=J;else throw new TypeError("Unknown boolean type size: "+f);return this.fromWireType(O[H>>k])},ee:null})},p:function(s,f,m,v,A,k,H,O,N,j,ge,be,Ge){ge=xt(ge),k=gn(A,k),O&&(O=gn(H,O)),j&&(j=gn(N,j)),Ge=gn(be,Ge);var Z=Jo(ge);si(Z,function(){An(`Cannot construct ${ge} due to unbound types`,[v])}),st([s,f,m],v?[v]:[],function(We){if(We=We[0],v)var tt=We.Qd,rt=tt.Ge;else rt=vr.prototype;We=no(Z,function(){if(Object.getPrototypeOf(this)!==jn)throw new Dt("Use 'new' to construct "+ge);if(an.oe===void 0)throw new Dt(ge+" has no accessible constructor");var cr=an.oe[arguments.length];if(cr===void 0)throw new Dt(`Tried to invoke ctor of ${ge} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(an.oe).toString()}) parameters instead!`);return cr.apply(this,arguments)});var jn=Object.create(rt,{constructor:{value:We}});We.prototype=jn;var an=new ro(ge,We,jn,Ge,tt,k,O,j);an.ae&&(an.ae.Qe===void 0&&(an.ae.Qe=[]),an.ae.Qe.push(an)),tt=new sr(ge,an,!0,!1,!1),rt=new sr(ge+"*",an,!1,!1,!1);var lo=new sr(ge+" const*",an,!1,!0,!1);return eo[s]={pointerType:rt,Jf:lo},Yt(Z,We),[tt,rt,lo]})},i:function(s,f,m,v,A,k,H){var O=jr(m,v);f=xt(f),k=gn(A,k),st([],[s],function(N){function j(){An(`Cannot call ${ge} due to unbound types`,O)}N=N[0];var ge=`${N.name}.${f}`;f.startsWith("@@")&&(f=Symbol[f.substring(2)]);var be=N.Qd.constructor;return be[f]===void 0?(j.De=m-1,be[f]=j):(oi(be,f,ge),be[f].Yd[m-1]=j),st([],O,function(Ge){if(Ge=[Ge[0],null].concat(Ge.slice(1)),Ge=kn(ge,Ge,null,k,H),be[f].Yd===void 0?(Ge.De=m-1,be[f]=Ge):be[f].Yd[m-1]=Ge,N.Qd.Qe)for(const Z of N.Qd.Qe)Z.constructor.hasOwnProperty(f)||(Z.constructor[f]=Ge);return[]}),[]})},G:function(s,f,m,v,A,k){var H=jr(f,m);A=gn(v,A),st([],[s],function(O){O=O[0];var N=`constructor ${O.name}`;if(O.Qd.oe===void 0&&(O.Qd.oe=[]),O.Qd.oe[f-1]!==void 0)throw new Dt(`Cannot register multiple constructors with identical number of parameters (${f-1}) for class '${O.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return O.Qd.oe[f-1]=()=>{An(`Cannot construct ${O.name} due to unbound types`,H)},st([],H,function(j){return j.splice(1,0,null),O.Qd.oe[f-1]=kn(N,j,null,A,k),[]}),[]})},b:function(s,f,m,v,A,k,H,O){var N=jr(m,v);f=xt(f),k=gn(A,k),st([],[s],function(j){function ge(){An(`Cannot call ${be} due to unbound types`,N)}j=j[0];var be=`${j.name}.${f}`;f.startsWith("@@")&&(f=Symbol[f.substring(2)]),O&&j.Qd.dg.push(f);var Ge=j.Qd.Ge,Z=Ge[f];return Z===void 0||Z.Yd===void 0&&Z.className!==j.name&&Z.De===m-2?(ge.De=m-2,ge.className=j.name,Ge[f]=ge):(oi(Ge,f,be),Ge[f].Yd[m-2]=ge),st([],N,function(We){return We=kn(be,We,j,k,H),Ge[f].Yd===void 0?(We.De=m-2,Ge[f]=We):Ge[f].Yd[m-2]=We,[]}),[]})},v:function(s,f,m){s=xt(s),st([],[f],function(v){return v=v[0],n[s]=v.fromWireType(m),[]})},Gb:function(s,f){f=xt(f),bn(s,{name:f,fromWireType:function(m){var v=Rn(m);return _i(m),v},toWireType:function(m,v){return Wn(v)},argPackAdvance:8,readValueFromPointer:En,ee:null})},l:function(s,f,m,v){function A(){}m=Ct(m),f=xt(f),A.values={},bn(s,{name:f,constructor:A,fromWireType:function(k){return this.constructor.values[k]},toWireType:function(k,H){return H.value},argPackAdvance:8,readValueFromPointer:$s(f,m,v),ee:null}),si(f,A)},d:function(s,f,m){var v=Li(s,"enum");f=xt(f),s=v.constructor,v=Object.create(v.constructor.prototype,{value:{value:m},constructor:{value:no(`${v.name}_${f}`,function(){})}}),s.values[m]=v,s[f]=v},X:function(s,f,m){m=Ct(m),f=xt(f),bn(s,{name:f,fromWireType:function(v){return v},toWireType:function(v,A){return A},argPackAdvance:8,readValueFromPointer:ts(f,m),ee:null})},z:function(s,f,m,v,A,k){var H=jr(f,m);s=xt(s),A=gn(v,A),si(s,function(){An(`Cannot call ${s} due to unbound types`,H)},f-1),st([],H,function(O){return O=[O[0],null].concat(O.slice(1)),Yt(s,kn(s,O,null,A,k),f-1),[]})},I:function(s,f,m,v,A){f=xt(f),A===-1&&(A=4294967295),A=Ct(m);var k=O=>O;if(v===0){var H=32-8*m;k=O=>O<<H>>>H}m=f.includes("unsigned")?function(O,N){return N>>>0}:function(O,N){return N},bn(s,{name:f,fromWireType:k,toWireType:m,argPackAdvance:8,readValueFromPointer:al(f,A,v!==0),ee:null})},w:function(s,f,m){function v(k){k>>=2;var H=pe;return new A(H.buffer,H[k+1],H[k])}var A=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][f];m=xt(m),bn(s,{name:m,fromWireType:v,argPackAdvance:8,readValueFromPointer:v},{Xf:!0})},s:function(s,f,m,v,A,k,H,O,N,j,ge,be){m=xt(m),k=gn(A,k),O=gn(H,O),j=gn(N,j),be=gn(ge,be),st([s],[f],function(Ge){return Ge=Ge[0],[new sr(m,Ge.Qd,!1,!1,!0,Ge,v,k,O,j,be)]})},W:function(s,f){f=xt(f);var m=f==="std::string";bn(s,{name:f,fromWireType:function(v){var A=pe[v>>2],k=v+4;if(m)for(var H=k,O=0;O<=A;++O){var N=k+O;if(O==A||re[N]==0){if(H=H?Ut(re,H,N-H):"",j===void 0)var j=H;else j+="\0",j+=H;H=N+1}}else{for(j=Array(A),O=0;O<A;++O)j[O]=String.fromCharCode(re[k+O]);j=j.join("")}return Xr(v),j},toWireType:function(v,A){A instanceof ArrayBuffer&&(A=new Uint8Array(A));var k=typeof A=="string";k||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int8Array||vt("Cannot pass non-string to std::string");var H=m&&k?ar(A):A.length,O=Fn(4+H+1),N=O+4;if(pe[O>>2]=H,m&&k)On(A,re,N,H+1);else if(k)for(k=0;k<H;++k){var j=A.charCodeAt(k);255<j&&(Xr(N),vt("String has UTF-16 code units that do not fit in 8 bits")),re[N+k]=j}else for(k=0;k<H;++k)re[N+k]=A[k];return v!==null&&v.push(Xr,O),O},argPackAdvance:8,readValueFromPointer:En,ee:function(v){Xr(v)}})},O:function(s,f,m){if(m=xt(m),f===2)var v=ul,A=Qa,k=qa,H=()=>Ae,O=1;else f===4&&(v=Ja,A=cl,k=ll,H=()=>pe,O=2);bn(s,{name:m,fromWireType:function(N){for(var j=pe[N>>2],ge=H(),be,Ge=N+4,Z=0;Z<=j;++Z){var We=N+4+Z*f;(Z==j||ge[We>>O]==0)&&(Ge=v(Ge,We-Ge),be===void 0?be=Ge:(be+="\0",be+=Ge),Ge=We+f)}return Xr(N),be},toWireType:function(N,j){typeof j!="string"&&vt(`Cannot pass non-string to C++ string type ${m}`);var ge=k(j),be=Fn(4+ge+f);return pe[be>>2]=ge>>O,A(j,be+4,ge+f),N!==null&&N.push(Xr,be),be},argPackAdvance:8,readValueFromPointer:En,ee:function(N){Xr(N)}})},F:function(s,f,m,v,A,k){wn[s]={name:xt(f),jf:gn(m,v),le:gn(A,k),sf:[]}},f:function(s,f,m,v,A,k,H,O,N,j){wn[s].sf.push({Pf:xt(f),Wf:m,Uf:gn(v,A),Vf:k,gg:H,fg:gn(O,N),hg:j})},Ib:function(s,f){f=xt(f),bn(s,{Zf:!0,name:f,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},Fb:()=>!0,ub:()=>{throw 1/0},C:function(s,f,m){s=Rn(s),f=Li(f,"emval::as");var v=[],A=Wn(v);return pe[m>>2]=A,f.toWireType(v,s)},K:function(s,f,m,v,A){s=To[s],f=Rn(f),m=ns(m);var k=[];return pe[v>>2]=Wn(k),s(f,m,k,A)},r:function(s,f,m,v){s=To[s],f=Rn(f),m=ns(m),s(f,m,null,v)},c:_i,J:function(s){return s===0?Wn(Bs()):(s=ns(s),Wn(Bs()[s]))},q:function(s,f){var m=Ds(s,f),v=m[0];f=v.name+"_$"+m.slice(1).map(function(H){return H.name}).join("_")+"$";var A=eu[f];if(A!==void 0)return A;var k=Array(s-1);return A=Za((H,O,N,j)=>{for(var ge=0,be=0;be<s-1;++be)k[be]=m[be+1].readValueFromPointer(j+ge),ge+=m[be+1].argPackAdvance;for(H=H[O].apply(H,k),be=0;be<s-1;++be)m[be+1].Mf&&m[be+1].Mf(k[be]);if(!v.Zf)return v.toWireType(N,H)}),eu[f]=A},B:function(s,f){return s=Rn(s),f=Rn(f),Wn(s[f])},n:function(s){4<s&&(Tn.get(s).xf+=1)},L:function(s,f,m,v){s=Rn(s);var A=Co[f];return A||(A=tu(f),Co[f]=A),A(s,m,v)},D:function(){return Wn([])},e:function(s){return Wn(ns(s))},x:function(){return Wn({})},kb:function(s){return s=Rn(s),!s},A:function(s){var f=Rn(s);Wt(f),_i(s)},g:function(s,f,m){s=Rn(s),f=Rn(f),m=Rn(m),s[f]=m},h:function(s,f){return s=Li(s,"_emval_take_value"),s=s.readValueFromPointer(f),Wn(s)},nb:function(){return-52},ob:function(){},a:()=>{Ee("")},Eb:()=>performance.now(),vb:s=>{var f=re.length;if(s>>>=0,2147483648<s)return!1;for(var m=1;4>=m;m*=2){var v=f*(1+.2/m);v=Math.min(v,s+100663296);var A=Math;v=Math.max(s,v);e:{A=A.min.call(A,2147483648,v+(65536-v%65536)%65536)-z.buffer.byteLength+65535>>>16;try{z.grow(A),Fe();var k=1;break e}catch{}k=void 0}if(k)return!0}return!1},lb:function(){return ut?ut.handle:0},wb:(s,f)=>{var m=0;return su().forEach(function(v,A){var k=f+m;for(A=pe[s+4*A>>2]=k,k=0;k<v.length;++k)ne[A++>>0]=v.charCodeAt(k);ne[A>>0]=0,m+=v.length+1}),0},xb:(s,f)=>{var m=su();pe[s>>2]=m.length;var v=0;return m.forEach(function(A){v+=A.length+1}),pe[f>>2]=v,0},Jb:s=>{l(s,new on(s))},N:()=>52,mb:function(){return 52},Cb:()=>52,pb:function(){return 70},T:(s,f,m,v)=>{for(var A=0,k=0;k<m;k++){var H=pe[f>>2],O=pe[f+4>>2];f+=8;for(var N=0;N<O;N++){var j=re[H+N],ge=gl[s];j===0||j===10?((s===1?P:F)(Ut(ge,0)),ge.length=0):ge.push(j)}A+=O}return pe[v>>2]=A,0},aa:function(s){Y.activeTexture(s)},ba:function(s,f){Y.attachShader(wr[s],Cn[f])},ca:function(s,f,m){Y.bindAttribLocation(wr[s],f,m?Ut(re,m):"")},da:function(s,f){s==35051?Y.ff=f:s==35052&&(Y.Ee=f),Y.bindBuffer(s,oo[f])},$:function(s,f){Y.bindFramebuffer(s,_o[f])},fc:function(s,f){Y.bindRenderbuffer(s,Pi[f])},Rb:function(s,f){Y.bindSampler(s,Mi[f])},ea:function(s,f){Y.bindTexture(s,Hn[f])},zc:au,Cc:au,fa:function(s,f,m,v){Y.blendColor(s,f,m,v)},ga:function(s){Y.blendEquation(s)},ha:function(s,f){Y.blendFunc(s,f)},$b:function(s,f,m,v,A,k,H,O,N,j){Y.blitFramebuffer(s,f,m,v,A,k,H,O,N,j)},ia:function(s,f,m,v){2<=ut.version?m&&f?Y.bufferData(s,re,v,m,f):Y.bufferData(s,f,v):Y.bufferData(s,m?re.subarray(m,m+f):f,v)},ja:function(s,f,m,v){2<=ut.version?m&&Y.bufferSubData(s,f,re,v,m):Y.bufferSubData(s,f,re.subarray(v,v+m))},gc:function(s){return Y.checkFramebufferStatus(s)},R:function(s){Y.clear(s)},_:function(s,f,m,v){Y.clearColor(s,f,m,v)},S:function(s){Y.clearStencil(s)},sb:function(s,f,m,v){return Y.clientWaitSync(ci[s],f,(m>>>0)+4294967296*v)},ka:function(s,f,m,v){Y.colorMask(!!s,!!f,!!m,!!v)},la:function(s){Y.compileShader(Cn[s])},ma:function(s,f,m,v,A,k,H,O){2<=ut.version?Y.Ee||!H?Y.compressedTexImage2D(s,f,m,v,A,k,H,O):Y.compressedTexImage2D(s,f,m,v,A,k,re,O,H):Y.compressedTexImage2D(s,f,m,v,A,k,O?re.subarray(O,O+H):null)},na:function(s,f,m,v,A,k,H,O,N){2<=ut.version?Y.Ee||!O?Y.compressedTexSubImage2D(s,f,m,v,A,k,H,O,N):Y.compressedTexSubImage2D(s,f,m,v,A,k,H,re,N,O):Y.compressedTexSubImage2D(s,f,m,v,A,k,H,N?re.subarray(N,N+O):null)},Zb:function(s,f,m,v,A){Y.copyBufferSubData(s,f,m,v,A)},oa:function(s,f,m,v,A,k,H,O){Y.copyTexSubImage2D(s,f,m,v,A,k,H,O)},pa:function(){var s=so(wr),f=Y.createProgram();return f.name=s,f.Ze=f.Xe=f.Ye=0,f.lf=1,wr[s]=f,s},qa:function(s){var f=so(Cn);return Cn[f]=Y.createShader(s),f},ra:function(s){Y.cullFace(s)},sa:function(s,f){for(var m=0;m<s;m++){var v=J[f+4*m>>2],A=oo[v];A&&(Y.deleteBuffer(A),A.name=0,oo[v]=null,v==Y.ff&&(Y.ff=0),v==Y.Ee&&(Y.Ee=0))}},hc:function(s,f){for(var m=0;m<s;++m){var v=J[f+4*m>>2],A=_o[v];A&&(Y.deleteFramebuffer(A),A.name=0,_o[v]=null)}},ta:function(s){if(s){var f=wr[s];f?(Y.deleteProgram(f),f.name=0,wr[s]=null):$t(1281)}},ic:function(s,f){for(var m=0;m<s;m++){var v=J[f+4*m>>2],A=Pi[v];A&&(Y.deleteRenderbuffer(A),A.name=0,Pi[v]=null)}},Sb:function(s,f){for(var m=0;m<s;m++){var v=J[f+4*m>>2],A=Mi[v];A&&(Y.deleteSampler(A),A.name=0,Mi[v]=null)}},ua:function(s){if(s){var f=Cn[s];f?(Y.deleteShader(f),Cn[s]=null):$t(1281)}},_b:function(s){if(s){var f=ci[s];f?(Y.deleteSync(f),f.name=0,ci[s]=null):$t(1281)}},va:function(s,f){for(var m=0;m<s;m++){var v=J[f+4*m>>2],A=Hn[v];A&&(Y.deleteTexture(A),A.name=0,Hn[v]=null)}},Ac:uu,Dc:uu,wa:function(s){Y.depthMask(!!s)},xa:function(s){Y.disable(s)},ya:function(s){Y.disableVertexAttribArray(s)},za:function(s,f,m){Y.drawArrays(s,f,m)},xc:function(s,f,m,v){Y.drawArraysInstanced(s,f,m,v)},vc:function(s,f,m,v,A){Y.qf.drawArraysInstancedBaseInstanceWEBGL(s,f,m,v,A)},tc:function(s,f){for(var m=Pt[s],v=0;v<s;v++)m[v]=J[f+4*v>>2];Y.drawBuffers(m)},Aa:Rt,yc:function(s,f,m,v,A){Y.drawElementsInstanced(s,f,m,v,A)},wc:function(s,f,m,v,A,k,H){Y.qf.drawElementsInstancedBaseVertexBaseInstanceWEBGL(s,f,m,v,A,k,H)},nc:function(s,f,m,v,A,k){Rt(s,v,A,k)},Ba:function(s){Y.enable(s)},Ca:function(s){Y.enableVertexAttribArray(s)},Xb:function(s,f){return(s=Y.fenceSync(s,f))?(f=so(ci),s.name=f,ci[f]=s,f):0},Da:function(){Y.finish()},Ea:function(){Y.flush()},jc:function(s,f,m,v){Y.framebufferRenderbuffer(s,f,m,Pi[v])},kc:function(s,f,m,v,A){Y.framebufferTexture2D(s,f,m,Hn[v],A)},Fa:function(s){Y.frontFace(s)},Ga:function(s,f){ao(s,f,"createBuffer",oo)},lc:function(s,f){ao(s,f,"createFramebuffer",_o)},mc:function(s,f){ao(s,f,"createRenderbuffer",Pi)},Tb:function(s,f){ao(s,f,"createSampler",Mi)},Ha:function(s,f){ao(s,f,"createTexture",Hn)},Bc:cu,Ec:cu,bc:function(s){Y.generateMipmap(s)},Ia:function(s,f,m){m?J[m>>2]=Y.getBufferParameter(s,f):$t(1281)},Ja:function(){var s=Y.getError()||rs;return rs=0,s},Ka:function(s,f){lu(s,f,2)},cc:function(s,f,m,v){s=Y.getFramebufferAttachmentParameter(s,f,m),(s instanceof WebGLRenderbuffer||s instanceof WebGLTexture)&&(s=s.name|0),J[v>>2]=s},M:function(s,f){lu(s,f,0)},La:function(s,f,m,v){s=Y.getProgramInfoLog(wr[s]),s===null&&(s="(unknown error)"),f=0<f&&v?On(s,re,v,f):0,m&&(J[m>>2]=f)},Ma:function(s,f,m){if(m)if(s>=Gs)$t(1281);else if(s=wr[s],f==35716)s=Y.getProgramInfoLog(s),s===null&&(s="(unknown error)"),J[m>>2]=s.length+1;else if(f==35719){if(!s.Ze)for(f=0;f<Y.getProgramParameter(s,35718);++f)s.Ze=Math.max(s.Ze,Y.getActiveUniform(s,f).name.length+1);J[m>>2]=s.Ze}else if(f==35722){if(!s.Xe)for(f=0;f<Y.getProgramParameter(s,35721);++f)s.Xe=Math.max(s.Xe,Y.getActiveAttrib(s,f).name.length+1);J[m>>2]=s.Xe}else if(f==35381){if(!s.Ye)for(f=0;f<Y.getProgramParameter(s,35382);++f)s.Ye=Math.max(s.Ye,Y.getActiveUniformBlockName(s,f).length+1);J[m>>2]=s.Ye}else J[m>>2]=Y.getProgramParameter(s,f);else $t(1281)},dc:function(s,f,m){m?J[m>>2]=Y.getRenderbufferParameter(s,f):$t(1281)},Na:function(s,f,m,v){s=Y.getShaderInfoLog(Cn[s]),s===null&&(s="(unknown error)"),f=0<f&&v?On(s,re,v,f):0,m&&(J[m>>2]=f)},Ob:function(s,f,m,v){s=Y.getShaderPrecisionFormat(s,f),J[m>>2]=s.rangeMin,J[m+4>>2]=s.rangeMax,J[v>>2]=s.precision},Oa:function(s,f,m){m?f==35716?(s=Y.getShaderInfoLog(Cn[s]),s===null&&(s="(unknown error)"),J[m>>2]=s?s.length+1:0):f==35720?(s=Y.getShaderSource(Cn[s]),J[m>>2]=s?s.length+1:0):J[m>>2]=Y.getShaderParameter(Cn[s],f):$t(1281)},Q:function(s){var f=Us[s];if(!f){switch(s){case 7939:f=Y.getSupportedExtensions()||[],f=f.concat(f.map(function(v){return"GL_"+v})),f=Mo(f.join(" "));break;case 7936:case 7937:case 37445:case 37446:(f=Y.getParameter(s))||$t(1280),f=f&&Mo(f);break;case 7938:f=Y.getParameter(7938),f=2<=ut.version?"OpenGL ES 3.0 ("+f+")":"OpenGL ES 2.0 ("+f+")",f=Mo(f);break;case 35724:f=Y.getParameter(35724);var m=f.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);m!==null&&(m[1].length==3&&(m[1]+="0"),f="OpenGL ES GLSL ES "+m[1]+" ("+f+")"),f=Mo(f);break;default:$t(1280)}Us[s]=f}return f},jb:function(s,f){if(2>ut.version)return $t(1282),0;var m=Ws[s];if(m)return 0>f||f>=m.length?($t(1281),0):m[f];switch(s){case 7939:return m=Y.getSupportedExtensions()||[],m=m.concat(m.map(function(v){return"GL_"+v})),m=m.map(function(v){return Mo(v)}),m=Ws[s]=m,0>f||f>=m.length?($t(1281),0):m[f];default:return $t(1280),0}},Pa:function(s,f){if(f=f?Ut(re,f):"",s=wr[s]){var m=s,v=m.Oe,A=m.zf,k;if(!v)for(m.Oe=v={},m.yf={},k=0;k<Y.getProgramParameter(m,35718);++k){var H=Y.getActiveUniform(m,k),O=H.name;H=H.size;var N=fu(O);N=0<N?O.slice(0,N):O;var j=m.lf;for(m.lf+=H,A[N]=[H,j],O=0;O<H;++O)v[j]=O,m.yf[j++]=N}if(m=s.Oe,v=0,A=f,k=fu(f),0<k&&(v=parseInt(f.slice(k+1))>>>0,A=f.slice(0,k)),(A=s.zf[A])&&v<A[0]&&(v+=A[1],m[v]=m[v]||Y.getUniformLocation(s,f)))return v}else $t(1281);return-1},Pb:function(s,f,m){for(var v=Pt[f],A=0;A<f;A++)v[A]=J[m+4*A>>2];Y.invalidateFramebuffer(s,v)},Qb:function(s,f,m,v,A,k,H){for(var O=Pt[f],N=0;N<f;N++)O[N]=J[m+4*N>>2];Y.invalidateSubFramebuffer(s,O,v,A,k,H)},Yb:function(s){return Y.isSync(ci[s])},Qa:function(s){return(s=Hn[s])?Y.isTexture(s):0},Ra:function(s){Y.lineWidth(s)},Sa:function(s){s=wr[s],Y.linkProgram(s),s.Oe=0,s.zf={}},rc:function(s,f,m,v,A,k){Y.vf.multiDrawArraysInstancedBaseInstanceWEBGL(s,J,f>>2,J,m>>2,J,v>>2,pe,A>>2,k)},sc:function(s,f,m,v,A,k,H,O){Y.vf.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(s,J,f>>2,m,J,v>>2,J,A>>2,J,k>>2,pe,H>>2,O)},Ta:function(s,f){s==3317&&(Hs=f),Y.pixelStorei(s,f)},uc:function(s){Y.readBuffer(s)},Ua:function(s,f,m,v,A,k,H){if(2<=ut.version)if(Y.ff)Y.readPixels(s,f,m,v,A,k,H);else{var O=is(k);Y.readPixels(s,f,m,v,A,k,O,H>>31-Math.clz32(O.BYTES_PER_ELEMENT))}else(H=os(k,A,m,v,H))?Y.readPixels(s,f,m,v,A,k,H):$t(1280)},ec:function(s,f,m,v){Y.renderbufferStorage(s,f,m,v)},ac:function(s,f,m,v,A){Y.renderbufferStorageMultisample(s,f,m,v,A)},Ub:function(s,f,m){Y.samplerParameterf(Mi[s],f,m)},Vb:function(s,f,m){Y.samplerParameteri(Mi[s],f,m)},Wb:function(s,f,m){Y.samplerParameteri(Mi[s],f,J[m>>2])},Va:function(s,f,m,v){Y.scissor(s,f,m,v)},Wa:function(s,f,m,v){for(var A="",k=0;k<f;++k){var H=v?J[v+4*k>>2]:-1,O=J[m+4*k>>2];H=O?Ut(re,O,0>H?void 0:H):"",A+=H}Y.shaderSource(Cn[s],A)},Xa:function(s,f,m){Y.stencilFunc(s,f,m)},Ya:function(s,f,m,v){Y.stencilFuncSeparate(s,f,m,v)},Za:function(s){Y.stencilMask(s)},_a:function(s,f){Y.stencilMaskSeparate(s,f)},$a:function(s,f,m){Y.stencilOp(s,f,m)},ab:function(s,f,m,v){Y.stencilOpSeparate(s,f,m,v)},bb:function(s,f,m,v,A,k,H,O,N){if(2<=ut.version)if(Y.Ee)Y.texImage2D(s,f,m,v,A,k,H,O,N);else if(N){var j=is(O);Y.texImage2D(s,f,m,v,A,k,H,O,j,N>>31-Math.clz32(j.BYTES_PER_ELEMENT))}else Y.texImage2D(s,f,m,v,A,k,H,O,null);else Y.texImage2D(s,f,m,v,A,k,H,O,N?os(O,H,v,A,N):null)},cb:function(s,f,m){Y.texParameterf(s,f,m)},db:function(s,f,m){Y.texParameterf(s,f,se[m>>2])},eb:function(s,f,m){Y.texParameteri(s,f,m)},fb:function(s,f,m){Y.texParameteri(s,f,J[m>>2])},oc:function(s,f,m,v,A){Y.texStorage2D(s,f,m,v,A)},gb:function(s,f,m,v,A,k,H,O,N){if(2<=ut.version)if(Y.Ee)Y.texSubImage2D(s,f,m,v,A,k,H,O,N);else if(N){var j=is(O);Y.texSubImage2D(s,f,m,v,A,k,H,O,j,N>>31-Math.clz32(j.BYTES_PER_ELEMENT))}else Y.texSubImage2D(s,f,m,v,A,k,H,O,null);else j=null,N&&(j=os(O,H,A,k,N)),Y.texSubImage2D(s,f,m,v,A,k,H,O,j)},hb:function(s,f){Y.uniform1f(At(s),f)},ib:function(s,f,m){if(2<=ut.version)f&&Y.uniform1fv(At(s),se,m>>2,f);else{if(288>=f)for(var v=Ht[f-1],A=0;A<f;++A)v[A]=se[m+4*A>>2];else v=se.subarray(m>>2,m+4*f>>2);Y.uniform1fv(At(s),v)}},Zc:function(s,f){Y.uniform1i(At(s),f)},_c:function(s,f,m){if(2<=ut.version)f&&Y.uniform1iv(At(s),J,m>>2,f);else{if(288>=f)for(var v=Ii[f-1],A=0;A<f;++A)v[A]=J[m+4*A>>2];else v=J.subarray(m>>2,m+4*f>>2);Y.uniform1iv(At(s),v)}},$c:function(s,f,m){Y.uniform2f(At(s),f,m)},ad:function(s,f,m){if(2<=ut.version)f&&Y.uniform2fv(At(s),se,m>>2,2*f);else{if(144>=f)for(var v=Ht[2*f-1],A=0;A<2*f;A+=2)v[A]=se[m+4*A>>2],v[A+1]=se[m+(4*A+4)>>2];else v=se.subarray(m>>2,m+8*f>>2);Y.uniform2fv(At(s),v)}},Yc:function(s,f,m){Y.uniform2i(At(s),f,m)},Xc:function(s,f,m){if(2<=ut.version)f&&Y.uniform2iv(At(s),J,m>>2,2*f);else{if(144>=f)for(var v=Ii[2*f-1],A=0;A<2*f;A+=2)v[A]=J[m+4*A>>2],v[A+1]=J[m+(4*A+4)>>2];else v=J.subarray(m>>2,m+8*f>>2);Y.uniform2iv(At(s),v)}},Wc:function(s,f,m,v){Y.uniform3f(At(s),f,m,v)},Vc:function(s,f,m){if(2<=ut.version)f&&Y.uniform3fv(At(s),se,m>>2,3*f);else{if(96>=f)for(var v=Ht[3*f-1],A=0;A<3*f;A+=3)v[A]=se[m+4*A>>2],v[A+1]=se[m+(4*A+4)>>2],v[A+2]=se[m+(4*A+8)>>2];else v=se.subarray(m>>2,m+12*f>>2);Y.uniform3fv(At(s),v)}},Uc:function(s,f,m,v){Y.uniform3i(At(s),f,m,v)},Tc:function(s,f,m){if(2<=ut.version)f&&Y.uniform3iv(At(s),J,m>>2,3*f);else{if(96>=f)for(var v=Ii[3*f-1],A=0;A<3*f;A+=3)v[A]=J[m+4*A>>2],v[A+1]=J[m+(4*A+4)>>2],v[A+2]=J[m+(4*A+8)>>2];else v=J.subarray(m>>2,m+12*f>>2);Y.uniform3iv(At(s),v)}},Sc:function(s,f,m,v,A){Y.uniform4f(At(s),f,m,v,A)},Rc:function(s,f,m){if(2<=ut.version)f&&Y.uniform4fv(At(s),se,m>>2,4*f);else{if(72>=f){var v=Ht[4*f-1],A=se;m>>=2;for(var k=0;k<4*f;k+=4){var H=m+k;v[k]=A[H],v[k+1]=A[H+1],v[k+2]=A[H+2],v[k+3]=A[H+3]}}else v=se.subarray(m>>2,m+16*f>>2);Y.uniform4fv(At(s),v)}},Fc:function(s,f,m,v,A){Y.uniform4i(At(s),f,m,v,A)},Gc:function(s,f,m){if(2<=ut.version)f&&Y.uniform4iv(At(s),J,m>>2,4*f);else{if(72>=f)for(var v=Ii[4*f-1],A=0;A<4*f;A+=4)v[A]=J[m+4*A>>2],v[A+1]=J[m+(4*A+4)>>2],v[A+2]=J[m+(4*A+8)>>2],v[A+3]=J[m+(4*A+12)>>2];else v=J.subarray(m>>2,m+16*f>>2);Y.uniform4iv(At(s),v)}},Hc:function(s,f,m,v){if(2<=ut.version)f&&Y.uniformMatrix2fv(At(s),!!m,se,v>>2,4*f);else{if(72>=f)for(var A=Ht[4*f-1],k=0;k<4*f;k+=4)A[k]=se[v+4*k>>2],A[k+1]=se[v+(4*k+4)>>2],A[k+2]=se[v+(4*k+8)>>2],A[k+3]=se[v+(4*k+12)>>2];else A=se.subarray(v>>2,v+16*f>>2);Y.uniformMatrix2fv(At(s),!!m,A)}},Ic:function(s,f,m,v){if(2<=ut.version)f&&Y.uniformMatrix3fv(At(s),!!m,se,v>>2,9*f);else{if(32>=f)for(var A=Ht[9*f-1],k=0;k<9*f;k+=9)A[k]=se[v+4*k>>2],A[k+1]=se[v+(4*k+4)>>2],A[k+2]=se[v+(4*k+8)>>2],A[k+3]=se[v+(4*k+12)>>2],A[k+4]=se[v+(4*k+16)>>2],A[k+5]=se[v+(4*k+20)>>2],A[k+6]=se[v+(4*k+24)>>2],A[k+7]=se[v+(4*k+28)>>2],A[k+8]=se[v+(4*k+32)>>2];else A=se.subarray(v>>2,v+36*f>>2);Y.uniformMatrix3fv(At(s),!!m,A)}},Jc:function(s,f,m,v){if(2<=ut.version)f&&Y.uniformMatrix4fv(At(s),!!m,se,v>>2,16*f);else{if(18>=f){var A=Ht[16*f-1],k=se;v>>=2;for(var H=0;H<16*f;H+=16){var O=v+H;A[H]=k[O],A[H+1]=k[O+1],A[H+2]=k[O+2],A[H+3]=k[O+3],A[H+4]=k[O+4],A[H+5]=k[O+5],A[H+6]=k[O+6],A[H+7]=k[O+7],A[H+8]=k[O+8],A[H+9]=k[O+9],A[H+10]=k[O+10],A[H+11]=k[O+11],A[H+12]=k[O+12],A[H+13]=k[O+13],A[H+14]=k[O+14],A[H+15]=k[O+15]}}else A=se.subarray(v>>2,v+64*f>>2);Y.uniformMatrix4fv(At(s),!!m,A)}},Kc:function(s){s=wr[s],Y.useProgram(s),Y.Lf=s},Lc:function(s,f){Y.vertexAttrib1f(s,f)},Mc:function(s,f){Y.vertexAttrib2f(s,se[f>>2],se[f+4>>2])},Nc:function(s,f){Y.vertexAttrib3f(s,se[f>>2],se[f+4>>2],se[f+8>>2])},Oc:function(s,f){Y.vertexAttrib4f(s,se[f>>2],se[f+4>>2],se[f+8>>2],se[f+12>>2])},pc:function(s,f){Y.vertexAttribDivisor(s,f)},qc:function(s,f,m,v,A){Y.vertexAttribIPointer(s,f,m,v,A)},Pc:function(s,f,m,v,A,k){Y.vertexAttribPointer(s,f,m,!!v,A,k)},Qc:function(s,f,m,v){Y.viewport(s,f,m,v)},rb:function(s,f,m,v){Y.waitSync(ci[s],f,(m>>>0)+4294967296*v)},j:Ks,m:zt,k:yl,H:Ys,Lb:xl,Z:gu,Y:Qs,P:as,o:vl,y:bl,u:wl,t:li,Kb:mu,Mb:uo,Nb:pu,tb:(s,f,m,v)=>du(s,f,m,v)};(function(){function s(m){if(U=m=m.exports,z=U.bd,Fe(),Ce=U.ed,ae.unshift(U.cd),_e--,n.monitorRunDependencies&&n.monitorRunDependencies(_e),_e==0&&ke){var v=ke;ke=null,v()}return m}var f={a:ml};if(_e++,n.monitorRunDependencies&&n.monitorRunDependencies(_e),n.instantiateWasm)try{return n.instantiateWasm(f,s)}catch(m){F("Module.instantiateWasm callback failed with error: "+m),o(m)}return In(f,function(m){s(m.instance)}).catch(o),{}})();var Fn=n._malloc=s=>(Fn=n._malloc=U.dd)(s),Xr=n._free=s=>(Xr=n._free=U.fd)(s),Vs=s=>(Vs=U.gd)(s);n.__embind_initialize_bindings=()=>(n.__embind_initialize_bindings=U.hd)();var Xt=(s,f)=>(Xt=U.id)(s,f),sn=()=>(sn=U.jd)(),mn=s=>(mn=U.kd)(s);n.dynCall_viji=(s,f,m,v,A)=>(n.dynCall_viji=U.ld)(s,f,m,v,A),n.dynCall_vijiii=(s,f,m,v,A,k,H)=>(n.dynCall_vijiii=U.md)(s,f,m,v,A,k,H),n.dynCall_viiiiij=(s,f,m,v,A,k,H,O)=>(n.dynCall_viiiiij=U.nd)(s,f,m,v,A,k,H,O),n.dynCall_jiiiijiiiii=(s,f,m,v,A,k,H,O,N,j,ge,be)=>(n.dynCall_jiiiijiiiii=U.od)(s,f,m,v,A,k,H,O,N,j,ge,be),n.dynCall_viiij=(s,f,m,v,A,k)=>(n.dynCall_viiij=U.pd)(s,f,m,v,A,k),n.dynCall_jii=(s,f,m)=>(n.dynCall_jii=U.qd)(s,f,m),n.dynCall_vij=(s,f,m,v)=>(n.dynCall_vij=U.rd)(s,f,m,v),n.dynCall_iiij=(s,f,m,v,A)=>(n.dynCall_iiij=U.sd)(s,f,m,v,A),n.dynCall_iiiij=(s,f,m,v,A,k)=>(n.dynCall_iiiij=U.td)(s,f,m,v,A,k),n.dynCall_viij=(s,f,m,v,A)=>(n.dynCall_viij=U.ud)(s,f,m,v,A),n.dynCall_ji=(s,f)=>(n.dynCall_ji=U.vd)(s,f),n.dynCall_iij=(s,f,m,v)=>(n.dynCall_iij=U.wd)(s,f,m,v),n.dynCall_jiiiii=(s,f,m,v,A,k)=>(n.dynCall_jiiiii=U.xd)(s,f,m,v,A,k),n.dynCall_jiiiiii=(s,f,m,v,A,k,H)=>(n.dynCall_jiiiiii=U.yd)(s,f,m,v,A,k,H),n.dynCall_jiiiiji=(s,f,m,v,A,k,H,O)=>(n.dynCall_jiiiiji=U.zd)(s,f,m,v,A,k,H,O),n.dynCall_iijj=(s,f,m,v,A,k)=>(n.dynCall_iijj=U.Ad)(s,f,m,v,A,k),n.dynCall_iiiji=(s,f,m,v,A,k)=>(n.dynCall_iiiji=U.Bd)(s,f,m,v,A,k),n.dynCall_iiji=(s,f,m,v,A)=>(n.dynCall_iiji=U.Cd)(s,f,m,v,A),n.dynCall_iijjiii=(s,f,m,v,A,k,H,O,N)=>(n.dynCall_iijjiii=U.Dd)(s,f,m,v,A,k,H,O,N),n.dynCall_vijjjii=(s,f,m,v,A,k,H,O,N,j)=>(n.dynCall_vijjjii=U.Ed)(s,f,m,v,A,k,H,O,N,j),n.dynCall_jiji=(s,f,m,v,A)=>(n.dynCall_jiji=U.Fd)(s,f,m,v,A),n.dynCall_viijii=(s,f,m,v,A,k,H)=>(n.dynCall_viijii=U.Gd)(s,f,m,v,A,k,H),n.dynCall_iiiiij=(s,f,m,v,A,k,H)=>(n.dynCall_iiiiij=U.Hd)(s,f,m,v,A,k,H),n.dynCall_iiiiijj=(s,f,m,v,A,k,H,O,N)=>(n.dynCall_iiiiijj=U.Id)(s,f,m,v,A,k,H,O,N),n.dynCall_iiiiiijj=(s,f,m,v,A,k,H,O,N,j)=>(n.dynCall_iiiiiijj=U.Jd)(s,f,m,v,A,k,H,O,N,j);function zt(s,f,m){var v=sn();try{return Ce.get(s)(f,m)}catch(A){if(mn(v),A!==A+0)throw A;Xt(1,0)}}function li(s,f,m,v,A){var k=sn();try{Ce.get(s)(f,m,v,A)}catch(H){if(mn(k),H!==H+0)throw H;Xt(1,0)}}function Ys(s,f,m,v,A){var k=sn();try{return Ce.get(s)(f,m,v,A)}catch(H){if(mn(k),H!==H+0)throw H;Xt(1,0)}}function yl(s,f,m,v){var A=sn();try{return Ce.get(s)(f,m,v)}catch(k){if(mn(A),k!==k+0)throw k;Xt(1,0)}}function Ks(s,f){var m=sn();try{return Ce.get(s)(f)}catch(v){if(mn(m),v!==v+0)throw v;Xt(1,0)}}function vl(s,f){var m=sn();try{Ce.get(s)(f)}catch(v){if(mn(m),v!==v+0)throw v;Xt(1,0)}}function wl(s,f,m,v){var A=sn();try{Ce.get(s)(f,m,v)}catch(k){if(mn(A),k!==k+0)throw k;Xt(1,0)}}function bl(s,f,m){var v=sn();try{Ce.get(s)(f,m)}catch(A){if(mn(v),A!==A+0)throw A;Xt(1,0)}}function pu(s,f,m,v,A,k,H,O,N,j){var ge=sn();try{Ce.get(s)(f,m,v,A,k,H,O,N,j)}catch(be){if(mn(ge),be!==be+0)throw be;Xt(1,0)}}function as(s){var f=sn();try{Ce.get(s)()}catch(m){if(mn(f),m!==m+0)throw m;Xt(1,0)}}function uo(s,f,m,v,A,k,H){var O=sn();try{Ce.get(s)(f,m,v,A,k,H)}catch(N){if(mn(O),N!==N+0)throw N;Xt(1,0)}}function xl(s,f,m,v,A,k){var H=sn();try{return Ce.get(s)(f,m,v,A,k)}catch(O){if(mn(H),O!==O+0)throw O;Xt(1,0)}}function gu(s,f,m,v,A,k,H){var O=sn();try{return Ce.get(s)(f,m,v,A,k,H)}catch(N){if(mn(O),N!==N+0)throw N;Xt(1,0)}}function mu(s,f,m,v,A,k){var H=sn();try{Ce.get(s)(f,m,v,A,k)}catch(O){if(mn(H),O!==O+0)throw O;Xt(1,0)}}function Qs(s,f,m,v,A,k,H,O,N,j){var ge=sn();try{return Ce.get(s)(f,m,v,A,k,H,O,N,j)}catch(be){if(mn(ge),be!==be+0)throw be;Xt(1,0)}}var co;ke=function s(){co||qs(),co||(ke=s)};function qs(){function s(){if(!co&&(co=!0,n.calledRun=!0,!ee)){if(hn(ae),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;){var f=n.postRun.shift();ie.unshift(f)}hn(ie)}}if(!(0<_e)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)he();hn(Ye),0<_e||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),s()},1)):s())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return qs(),e.ready}})();const L2=255;function P2(t){const e=t.replace("#","");let n=t;/^#?/.test(n)&&e.length===3&&(n=`#${e.charAt(0)}${e.charAt(0)}${e.charAt(1)}${e.charAt(1)}${e.charAt(2)}${e.charAt(2)}`);const[r,o,u=0,c]=n.match(/[A-Za-z0-9]{2}/g).map(l=>parseInt(l,16));return{r,g:o,b:u,a:c?c/L2:1}}function M2({r:t,g:e,b:n}){const r=t<<16|e<<8|n;return`#${(o=>new Array(7-o.length).join("0")+o)(r.toString(16))}`}function tk(t,e,n=180){let r=n;if(r>=360&&(r-=360),r<0&&(r+=360),r=Math.round(r),r===0)return{x0:Math.round(t/2),y0:e,x1:Math.round(t/2),y1:0};if(r===180)return{x0:Math.round(t/2),y0:0,x1:Math.round(t/2),y1:e};if(r===90)return{x0:0,y0:Math.round(e/2),x1:t,y1:Math.round(e/2)};if(r===270)return{x0:t,y0:Math.round(e/2),x1:0,y1:Math.round(e/2)};const o=Math.round(Math.asin(t/Math.sqrt(t**2+e**2))*180/Math.PI);if(r===o)return{x0:0,y0:e,x1:t,y1:0};if(r===180-o)return{x0:0,y0:0,x1:t,y1:e};if(r===180+o)return{x0:t,y0:0,x1:0,y1:e};if(r===360-o)return{x0:t,y0:e,x1:0,y1:0};let u=0,c=0,l=0,h=0;if(r<o||r>180-o&&r<180||r>180&&r<180+o||r>360-o){const p=r*Math.PI/180,b=r<o||r>360-o?e/2:-e/2,x=Math.tan(p)*b,E=r<o||r>180-o&&r<180?t/2-x:-t/2-x,T=Math.sin(p)**2*E;l=x+T,h=b+T/Math.tan(p),u=-l,c=-h}if(r>o&&r<90||r>90&&r<180-o||r>180+o&&r<270||r>270&&r<360-o){const p=(90-r)*Math.PI/180,b=r>o&&r<90||r>90&&r<180-o?t/2:-t/2,x=Math.tan(p)*b,E=r>o&&r<90||r>270&&r<360-o?e/2-x:-e/2-x,T=Math.sin(p)**2*E;l=b+T/Math.tan(p),h=x+T,u=-l,c=-h}return u=Math.round(u+t/2),c=Math.round(e/2-c),l=Math.round(l+t/2),h=Math.round(e/2-h),{x0:u,y0:c,x1:l,y1:h}}class Zp{constructor(e){this.r=0,this.g=0,this.b=0,this.a=1,this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}toFigmaArray(){return[this.r/255,this.g/255,this.b/255,this.a]}toFigmaColor(){return{r:this.r/255,g:this.g/255,b:this.b/255,a:this.a}}toHex(){return M2({r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b)})}}function dn(t){if(typeof t=="string"){const e=P2(t);return typeof e.a!="number"&&(e.a=1),new Zp(e)}return new Zp({r:t.r*255,g:t.g*255,b:t.b*255,a:t.a})}var zu,I2=new Uint8Array(16);function k2(){if(!zu&&(zu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!zu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zu(I2)}const R2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function O2(t){return typeof t=="string"&&R2.test(t)}var Bn=[];for(var gf=0;gf<256;++gf)Bn.push((gf+256).toString(16).substr(1));function F2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Bn[t[e+0]]+Bn[t[e+1]]+Bn[t[e+2]]+Bn[t[e+3]]+"-"+Bn[t[e+4]]+Bn[t[e+5]]+"-"+Bn[t[e+6]]+Bn[t[e+7]]+"-"+Bn[t[e+8]]+Bn[t[e+9]]+"-"+Bn[t[e+10]]+Bn[t[e+11]]+Bn[t[e+12]]+Bn[t[e+13]]+Bn[t[e+14]]+Bn[t[e+15]]).toLowerCase();if(!O2(n))throw TypeError("Stringified UUID is invalid");return n}function N2(t,e,n){t=t||{};var r=t.random||(t.rng||k2)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,F2(r)}function $2(t,e){throw new Error([t,e.toString()].join(`
`))}function vm(){return N2()}const Cd=vm;function mf(t,e,n="color"){let r=1,o="",u=t;if(/^#/.test(t)||(u=""),/^#[0-9a-fA-F]{3}$/.test(t)){const h=t.replace("#","");u=`#${h}${h}`}const c=u.replace("#","").match(/\w{1,2}/g),l=[];return c&&c.forEach((h,p)=>{if(p===3){const x=parseInt(h,16);r=Math.round(x/255*100)/100;return}let b=h;e!=="6hex"&&(b=parseInt(h,16)),l.push(b)}),l.length&&(e==="6hex"&&(o=`#${l.join("")}`),e==="rgb"&&(o=`rgb(${l.join(",")})`),e==="rgba"&&(o=`rgba(${l.join(",")},${r})`)),n==="colorList"?{color:JSON.stringify(l),opacity:r}:{color:o,opacity:r}}function nk(t){if(/xxtool-release\.obs\.cn-north-4\.myhuaweicloud\.com\/pc\/sucai\/parse_xml/.test(t))return`/dev-proxy/xxtool-release${t.split("parse_xml")[1]}`;const e=/data:image\/svg\+xml;charset=utf-8,/;if(e.test(t)){const n=t.replace(e,"");return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`}return t}function B2(){if(typeof window<"u"){const t=navigator.userAgent.toLowerCase();return/msie/.test(t)?"ie":/firefox/.test(t)?"firefox":/chrome/.test(t)?"chrome":/opera/.test(t)?"opera":/safari/.test(t)?"safari":/tencenttraveler/.test(t)||/qqbrowse/.test(t)?"qq":""}return""}function wm(t,e){const n={type:"SOLID",color:dn(t).toFigmaColor(),blendMode:"NORMAL",visible:!0,opacity:1};return e==null||e(n),n}function _d(){return{imageSource:"",naturalWidth:0,naturalHeight:0,imageX:0,imageY:0,width:0,height:0,rotate:0,opacity:1,flipH:!1,flipV:!1,imageScaleMode:"FILL"}}function Qo(t){return{id:Cd(),guid:t.generateGUID(),parentId:"",left:0,top:0,width:0,height:0,rotate:0,name:"",isLocked:!1,visible:!0,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()}}}function bm(t){return{...Qo(t),nodeType:"GROUP",shimmerAtApearance:!1}}function rk(t,e){const n={...Qo(t),nodeType:"SECTION",shimmerAtApearance:!1,fillPaints:[],sectionStatusInfo:{status:"BUILD"}};return e==null||e(n),n}function ik(t,e){const n={...Qo(t),nodeType:"FRAME",shimmerAtApearance:!1,frameMaskDisabled:!1,cornerRadius:0,fillGeometry:[],strokeGeometry:[],strokePaints:[],fillPaints:[{type:"SOLID",blendMode:"NORMAL",opacity:1,color:dn("#FFFFFF").toFigmaColor(),visible:!0}],resizeToFit:!1};return e==null||e(n),n}function ok(t,e){const n={...Qo(t),nodeType:"SYMBOL",userFacingVersion:"",sharedSymbolVersion:"",isSymbolPublishable:!0,shimmerAtApearance:!1,frameMaskDisabled:!1,cornerRadius:0,fillGeometry:[],fillPaints:[],strokeGeometry:[],strokePaints:[],resizeToFit:!1};return e==null||e(n),n}function xm(t){return{id:Cd(),guid:{sessionID:0,localID:0},parentId:"",nodeType:"IMAGE",left:0,top:0,width:0,height:0,rotate:0,name:"",isLocked:!1,visible:!0,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()},shimmerAtApearance:!1,strokePaints:[],extra:{mattingMask:{maskURL:""},minimumScalePercent:100,backgroundColor:"",polygonPointIdList:[],shapeMask:{id:"",maskURL:"",maskType:0},rectList:[],sourceList:[]}}}function D2(t){return{characters:t,characterStyleIDs:t.split("").map(()=>0),styleOverrideTable:[],lines:[]}}function sk(t,{width:e,height:n,text:r,fontSize:o,lineHeight$$:u,letterSpacing:c,bold:l,italic:h,textDecoration:p,writingMode:b,fontName:x},E){const T={...Qo(t),shimmerAtApearance:!1,nodeType:"TEXT",fontSize:o,fontName:x||{fullname:"",family:"",style:"",postscript:""},fontStyle:h?"ITALIC":"NORMAL",fontWeight:l?"BOLD":"NORMAL",textData:D2(r),textAutoResize:"NONE",textAlignHorizontal:"LEFT",textDecoration:p||"NONE",letterSpacing:{value:c||0,units:"PERCENT"},lineHeight:{value:u||1.2,units:"PERCENT"},writingMode:b||"horizontal-tb",width:e,height:n||0,strokeWeight:1,strokeAlign:"CENTER",strokeJoin:"MITER",strokeCap:"ROUND",dashPattern:[0,0],miterLimit:0,fillPaints:[wm("#000000")],strokePaints:[],effects:[]};return E==null||E(T),T}function ak(t,e){const n={...Qo(t),nodeType:"vector",...Sm(),vectorData:{vectorNetwork:{vertices:[],segments:[],regions:[]},normalizedSize:{x:0,y:0},styleOverrideTable:[]},shimmerAtApearance:!1};return n.strokeAlign="CENTER",e==null||e(n),n}function Sm(){return{strokeGeometry:[],strokePaints:[],fillGeometry:[],fillPaints:[],strokeAlign:"INSIDE",strokeCap:"NONE",strokeJoin:"MITER",miterLimit:0,strokeWeight:1,dashPattern:[0,0]}}function uk(t,e){const n={...Qo(t),nodeType:"ROUNDED_RECTANGLE",shimmerAtApearance:!1,cornerRadius:0,...Sm()};return e==null||e(n),n}var Em={exports:{}},Am={exports:{}};(function(t){function e(o,u,c,l,h,p){return(o<=h||c<=h)&&(h<=o||h<=c)&&(u<=p||l<=p)&&(p<=u||p<=l)}function n(o,u,c,l,h,p){var b=(h-o)*(l-u),x=(c-o)*(p-u);return b<x?-1:b>x?1:0}function r(o,u,c,l,h,p,b,x){var E=n(h,p,b,x,o,u),T=n(h,p,b,x,c,l),C=n(o,u,c,l,h,p),P=n(o,u,c,l,b,x);return(E>0&&T<0||E<0&&T>0)&&(C>0&&P<0||C<0&&P>0)||E===0&&e(h,p,b,x,o,u)||T===0&&e(h,p,b,x,c,l)||C===0&&e(o,u,c,l,h,p)||P===0&&e(o,u,c,l,b,x)}t.exports&&(t.exports=r)})(Am);var G2=Am.exports,Tm={exports:{}};(function(t){function e(n,r){var o,u,c=!1,l=r.length;for(o=0,u=l-1;o<l;u=o++)r[o][1]>n[1]!=r[u][1]>n[1]&&n[0]<(r[u][0]-r[o][0])*(n[1]-r[o][1])/(r[u][1]-r[o][1])+r[o][0]&&(c=!c);return c}t.exports&&(t.exports=e)})(Tm);var U2=Tm.exports;(function(t){var e=G2,n=U2;function r(c,l){var h;for(h=0;h<c.length;h+=1)if(n(c[h],l))return!0;for(h=0;h<l.length;h+=1)if(n(l[h],c))return!0;return!1}function o(c,l){for(var h=0;h<c.length-1;h+=1)for(var p=0;p<l.length-1;p+=1)if(e(c[h][0],c[h][1],c[h+1][0],c[h+1][1],l[p][0],l[p][1],l[p+1][0],l[p+1][1]))return!0;return!1}function u(c,l){return!!(r(c,l)||o(c,l))}t.exports&&(t.exports=u)})(Em);var W2=Em.exports;const H2=Ko(W2);function z2(t,e){return Math.sqrt(t*t+e*e)}function j2(t,e,n,r,o,u,c,l){if(t===n&&e===r||o===c&&u===l)return null;const h=(l-u)*(n-t)-(c-o)*(r-e);if(h===0)return null;const p=((c-o)*(e-u)-(l-u)*(t-o))/h,b=t+p*(n-t),x=e+p*(r-e);return{x:b,y:x}}function Cm({x:t,y:e,width:n,height:r,rotate:o}){const u=_m({leftTop:{x:t,y:e},width:n,height:r,rotate:o});return{left:u.x-n/2,top:u.y-r/2}}function _m({leftTop:t,width:e,height:n,rotate:r}){const o=z2(e,n)/2,u=r,c=Math.atan(n/e)/Math.PI*180,l=u+c;return tc(t,ec(o,l))}function Lm(t,e,n,r){const{leftTop:o,rightTop:u,leftBottom:c}=Zr(t),l=Math.sqrt(e*e+n*n)/2;let h={x:0,y:0};if(r==="left"||r==="top"){const b=t.rotate,x=Math.atan(n/e)/Math.PI*180,E=b+x;h=tc(o,ec(l,E))}else if(r==="right"){const b=90+t.rotate+Math.atan(e/n)/Math.PI*180;h=tc(u,ec(l,b))}else if(r==="bottom"){const b=t.rotate,x=-Math.atan(n/e)/Math.PI*180,E=b+x;h=tc(c,ec(l,E))}return{x:h.x-e/2,y:h.y-n/2}}function As(t){return{x:t.left+t.width/2,y:t.top+t.height/2}}function X2(t){let e=Math.round(t);for(;e>180;)e-=360;for(;e<-180;)e+=360;return e}function Pm(t,e){const n={x:t.x-e.x,y:t.y-e.y};return Math.atan2(n.y,n.x)*(180/Math.PI)}function ec(t,e){return{x:t*Math.cos(e/180*Math.PI),y:t*Math.sin(e/180*Math.PI)}}function Mm(t,e){return{x:e.x-t.x,y:e.y-t.y}}function tc(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Zr(t){const e=As(t),n=mi("global",{x:-t.width/2,y:-t.height/2},-t.rotate),r=mi("global",{x:t.width/2,y:-t.height/2},-t.rotate),o=mi("global",{x:-t.width/2,y:t.height/2},-t.rotate),u=mi("global",{x:t.width/2,y:t.height/2},-t.rotate);return{center:e,leftTop:{x:n.x+e.x,y:n.y+e.y},rightTop:{x:r.x+e.x,y:r.y+e.y},leftBottom:{x:o.x+e.x,y:o.y+e.y},rightBottom:{x:u.x+e.x,y:u.y+e.y}}}function Xo(t){const e=Zr(t);return[e.leftTop,e.leftBottom,e.rightBottom,e.rightTop]}function mi(t,e,n,r){const o={x:e.x-((r==null?void 0:r.x)||0),y:e.y-((r==null?void 0:r.y)||0)},u=n/360*2*Math.PI,c=Math.cos(u),l=-o.y,h=[o.x*c,o.x*Math.cos(u-.5*Math.PI)],p=[l*Math.cos(.5*Math.PI+u),l*c];return{x:h[0]+p[0],y:-(h[1]+p[1])}}function Ld(t,e){return H2(t.map(r=>[r.x,r.y]),e.map(r=>[r.x,r.y]))}function Pd(t,e){const n=[t.x,t.y],r=e.map(u=>[u.x,u.y]);let o=!1;for(let u=0,c=r.length-1;u<r.length;u+=1)r[u][1]>n[1]!=r[c][1]>n[1]&&n[0]<(r[c][0]-r[u][0])*(n[1]-r[u][1])/(r[c][1]-r[u][1])+r[u][0]&&(o=!o),c=u;return o}function $a(t){const e=Ue.min(t.map(c=>c.x))||0,n=Ue.max(t.map(c=>c.x))||0,r=Ue.min(t.map(c=>c.y))||0,o=Ue.max(t.map(c=>c.y))||0,u={left:0,top:0,width:0,height:0};return u.left=e,u.top=r,u.width=n-e,u.height=o-r,u}function V2(t){return[{x:t.x,y:t.y},{x:t.x,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height},{x:t.x+t.width,y:t.y}]}function yf(t){const e=Ue.min(t.map(u=>u.x))||0,n=Ue.max(t.map(u=>u.x))||0,r=Ue.min(t.map(u=>u.y))||0,o=Ue.max(t.map(u=>u.y))||0;return[{x:e,y:r},{x:e,y:o},{x:n,y:o},{x:n,y:r}]}function Y2(t,e){const n=$a(t.map(u=>mi("rotated",u,e))),r=_m({width:n.width,height:n.height,leftTop:{x:n.left,y:n.top},rotate:0}),o=mi("global",r,-e);return{left:o.x-n.width/2,top:o.y-n.height/2,width:n.width,height:n.height,rotate:e}}function eg(t){return $a(Xo(t))}function ck(t,e){const n=t.width/t.height;return e.height*n<=e.width?{width:e.height*n,height:e.height}:{width:e.width,height:e.width/n}}function Of(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function K2(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function Q2(t,e){return t.x>=0&&t.x<=e.width&&t.y>=0&&t.y<=e.height}function Im(t,e,n,r,o,u,c,l){const h=[],p=[t,c],b=[e,l];let x,E,T,C,P,F,B,z;for(let ne=0;ne<2;++ne){if(ne===0?(E=6*t-12*n+6*o,x=-3*t+9*n-9*o+3*c,T=3*n-3*t):(E=6*e-12*r+6*u,x=-3*e+9*r-9*u+3*l,T=3*r-3*e),Math.abs(x)<1e-12){if(Math.abs(E)<1e-12)continue;C=-T/E,C>0&&C<1&&h.push(C);continue}if(B=E*E-4*T*x,B<0){Math.abs(B)<1e-12&&(C=-E/(2*x),C>0&&C<1&&h.push(C));continue}z=Math.sqrt(B),P=(-E+z)/(2*x),P>0&&P<1&&h.push(P),F=(-E-z)/(2*x),F>0&&F<1&&h.push(F)}let U=h.length,ee;for(;U--;)C=h[U],ee=1-C,p[U]=ee*ee*ee*t+3*ee*ee*C*n+3*ee*C*C*o+C*C*C*c,b[U]=ee*ee*ee*e+3*ee*ee*C*r+3*ee*C*C*u+C*C*C*l;return{min:{x:Math.min.apply(0,p),y:Math.min.apply(0,b)},max:{x:Math.max.apply(0,p),y:Math.max.apply(0,b)}}}function tg(t,e){return Math.abs(t-e)<1}function Aa(t){let e=t[0];return t.forEach(n=>{n>e&&(e=n)}),e}function ju(t){if(t.length===0)throw new Error("");let e=t[0];return t.forEach(n=>{n<e&&(e=n)}),e}function lk(t,e){return Math.atan2(-e,t)*180/Math.PI}function fk(t,e){return Math.sqrt(t*t+e*e)}function q2(t,e){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function Ba(t){return t.currentStep===null?Ec(t):t.currentStep}function Ec(t){return t.currentStep=new km(""),t.currentStep.getOldState().selectionInfo=Ue.cloneDeep(t.selectionInfo),t.currentStep}function Md(t,e){if(t.currentStep)e&&(t.currentStep.name=e);else throw new Error;t.history.record()}function J2(){return new km("")}class km{constructor(e){this.name="",this.oldState={selectionInfo:null,nodeMap:{}},this.newState={selectionInfo:null,nodeMap:{}},this.mutatedNodesInThisAction={},this.name=e}getOldState(){return this.oldState}getNewState(){return this.newState}handleChildren(e,n){var u;const r=this.oldState.nodeMap[e.id],o=this.newState.nodeMap[e.id];r.children||(r.children={$value:e.children.map(c=>c.id)}),o.children={$value:(u=n.children)==null?void 0:u.map(c=>c)}}handleLife(e,n){const r=this.oldState.nodeMap[e.id],o=this.newState.nodeMap[e.id];if(n.life){if(n.life.type==="replacePage"){if(e.nodeType!=="DOCUMENT")throw new Error;r.life={$value:{type:"replacePage",newPage:Ue.cloneDeep(e.children[0])}},o.life={$value:{type:"replacePage",newPage:Ue.cloneDeep(n.life.newPage)}}}else if(n.life.type==="createChildren"){const u={};Ue.mapKeys(n.life.newLayers,c=>{u[c.id]=!0}),r.life={$value:{type:"delete",deletedNodes:u,children:e.children.map(c=>c.id),isGrouping:n.life.isGrouping}},o.life={$value:{type:"createChildren",newLayers:Ue.cloneDeep(n.life.newLayers),children:Ue.cloneDeep(n.life.children),isGrouping:n.life.isGrouping}}}else if(n.life.type==="delete"){const{deletedNodes:u}=n.life,c={};e.children.forEach(l=>{u[l.id]&&l.nodeType!=="CANVAS"&&(c[l.id]=Ue.cloneDeep(l))}),r.life={$value:{type:"createChildren",newLayers:c,children:e.children.map(l=>l.id),isGrouping:n.life.isGrouping}},o.life={$value:{type:"delete",deletedNodes:Ue.cloneDeep(n.life.deletedNodes),children:Ue.cloneDeep(n.life.children),isGrouping:n.life.isGrouping}}}}}update(e){if(e.type==="CanvasNode")return;const{layer:n,data:r}=e;this.mutatedNodesInThisAction[n.id]=!0;const{id:o}=n;this.oldState.nodeMap[o]||(this.oldState.nodeMap[o]={editInfo:{$value:{...n.editInfo}}},this.newState.nodeMap[o]={editInfo:{$value:{userId:"",createdAt:n.editInfo.createdAt,lastEditedAt:new Date().getTime()}}});const u=this.oldState.nodeMap[o],c=this.newState.nodeMap[o];Object.keys(r).forEach(l=>{var p;const h=l;if(h==="life"){this.handleLife(n,r);return}if(l!=="editInfo"){if(h==="children"){this.handleChildren(n,r);return}if(u[h]||(u[h]={$value:Ue.cloneDeep(n[h])},(h==="effects"||h==="strokeGeometry"||h==="strokePaints"||h==="fillPaints")&&n.nodeType!=="CANVAS"&&typeof n[h]>"u"&&(n[h]=[]),(n.nodeType==="ROUNDED_RECTANGLE"||n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE")&&h==="image"&&!n.image&&(n.image=_d()),c[h]={$value:Ue.cloneDeep(n[h])}),typeof r[h]=="function"){const b=r[h];if(b((p=c[h])==null?void 0:p.$value),b(n[h]),n.nodeType==="TEXT"&&n.textData.characters.length!==n.textData.characterStyleIDs.length)throw new Error("textData mismatch")}else n[h]=Ue.cloneDeep(r[h]),c[h]={$value:Ue.cloneDeep(r[h])}}})}getNewAction(){const e={};Object.keys(this.mutatedNodesInThisAction).length===0?Object.assign(e,this.newState.nodeMap):Object.keys(this.mutatedNodesInThisAction).forEach(r=>{this.newState.nodeMap[r]&&(e[r]=this.newState.nodeMap[r])});const n={type:"UpdateNodes",payload:{layerMap:e}};return this.mutatedNodesInThisAction={},n}getOldAction(){return{type:"UpdateNodes",payload:{layerMap:this.oldState.nodeMap}}}}const Z2=300;function Ac(t){return t/180*Math.PI}function Tc(t,e,n){const r=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n));return{width:e*o+t*r,height:e*r+t*o}}function Rm({frame:t,image:e}){const n=t.width/e.naturalWidth,r=t.height/e.naturalHeight;return Math.max(n,r)}function Om({frame:t,image:e}){const n=Tc(t.width,t.height,Ac(e.rotate)),r=2*(n.width/2+Math.abs(e.imageX))/e.naturalWidth,o=2*(n.height/2+Math.abs(e.imageY))/e.naturalHeight;return Math.max(r,o)}function Fm(t){if(t.image){const e=Om({frame:t,image:t.image});if((t.image.width+.5)/t.image.naturalWidth<e||(t.image.height+.5)/t.image.naturalHeight<e)return!1}return!0}function eE(t,e){e.imageX=0,e.imageY=0;let n=t.width,r=e.naturalHeight*(t.width/e.naturalWidth);r<t.height&&(r=t.height,n=e.naturalWidth*(t.height/e.naturalHeight)),e.width=n,e.height=r}function dk({layer:t,step:e}){if(t.image){let n=t.width,r=t.image.naturalHeight*(t.width/t.image.naturalWidth);r<t.height&&(r=t.height,n=t.image.naturalWidth*(t.height/t.image.naturalHeight)),e.update({layer:t,data:{image(o){o.imageX=0,o.imageY=0,o.rotate=0,o.width=n,o.height=r}}})}}function Nm(t,e){if(t.image){const n=mi("rotated",{x:-e.x,y:-e.y},t.rotate+t.image.rotate);t.image.imageX+=n.x,t.image.imageY+=n.y}}function $m(t,e,n){if(t.image){n.resetImagePosition&&e.update({layer:t,data:{image(o){o.imageX=0,o.imageY=0}}});const r=Om({frame:t,image:t.image});e.update({layer:t,data:{image(o){o.width=o.naturalWidth*r,o.height=o.naturalHeight*r}}})}}function Bm(t,e,n){const r=Ba(t),{image:o}=e;if(o){const u=Tc(e.width,e.height,Ac(o.rotate));u.width=2*(u.width/2+Math.abs(o.imageX)),u.height=2*(u.height/2+Math.abs(o.imageY));let c=1;n?c=Aa([u.width/o.width,u.height/o.height]):c=Aa([1,u.width/o.width,u.height/o.height]);const l=Rm({frame:e,image:o});o.width*c/o.naturalWidth/l*100>Z2?$m(e,r,{resetImagePosition:!0}):r.update({layer:e,data:{image(p){p.width*=c,p.height*=c,p.imageX*=c,p.imageY*=c}}})}}function tE(t,e,n){Fm(e)===!1&&$m(e,n,{resetImagePosition:!0})}function nE({layer:t,step:e}){if(t.image&&Fm(t)===!1){const n=Tc(t.width,t.height,Ac(t.image.rotate)),r=t.image.width<n.width?n.width/t.image.width:1,o=t.image.height<n.height?n.height/t.image.height:1,u=Ue.max([r,o]);u&&(t.image.width*=u,t.image.height*=u,Dm(t,{step:e}))}}function Dm(t,{step:e}){const{image:n}=t;if(n){const r=Tc(t.width,t.height,Ac(n.rotate)),o=Aa([1,r.width/n.width,r.height/n.height]),u={width:n.width,height:n.height,imageX:n.imageX,imageY:n.imageY};u.width*=o,u.height*=o;const c=r.width/2-u.width/2,l=-(r.width/2)+u.width/2,h=r.height/2-u.height/2,p=-(r.height/2)+u.height/2,b={x:Math.min(l,Math.max(c,n.imageX)),y:Math.min(p,Math.max(h,n.imageY))};u.imageX=b.x,u.imageY=b.y,e.update({layer:t,data:{image(x){x.width=u.width,x.height=u.height,x.imageX=u.imageX,x.imageY=u.imageY}}})}}const hc=6,hk="150ms";async function rE(t){return new Promise((e,n)=>{const r=new Image;r.crossOrigin="anonymous",r.src=t,r.onload=()=>{e(r)},r.onerror=()=>{n()}})}async function Gm(t){const e=await rE(t),{naturalWidth:n,naturalHeight:r}=e,o=_d();return o.width=n,o.height=r,o.naturalWidth=n,o.naturalHeight=r,o.imageSource=t,{imageInfo:o,imageElement:e}}function iE({frame:t,image:e}){e.imageX=0,e.imageY=0;let n=t.width,r=e.naturalHeight*(t.width/e.naturalWidth);r<t.height&&(r=t.height,n=e.naturalWidth*(t.height/e.naturalHeight)),e.width=n,e.height=r}function Um(t){t.image&&iE({frame:t,image:t.image})}function pk(t){t.image&&(t.image.rotate=0,t.extra.minimumScalePercent=100)}function oE(t){if(t.image){const e=t.image.height/t.image.width;return Ue.max([t.width,t.height/e])||0}return 0}function gk(t,e){t.image&&(t.image.opacity=e/100)}function mk(t){t.image&&(t.image.flipH=!t.image.flipH)}function yk(t){t.image&&(t.image.flipV=!t.image.flipV)}async function vk(t,e){if(!e){t&&t.nodeType==="IMAGE"&&(t.image=void 0);return}const{imageInfo:n}=await Gm(e);t&&t.nodeType==="IMAGE"&&(t.image=n,Um(t))}function wk(t,e,n,{step:r,autoAdjust:o}){if(t&&t.image){const u=mi("rotated",{x:e,y:n},t.rotate+t.image.rotate),c=t.image.imageX+u.x,l=t.image.imageY+u.y;r.update({layer:t,data:{image(h){h.imageX=c,h.imageY=l}}}),o&&Dm(t,{step:r})}}function bk(t,e){return Math.min(t.width,t.height)*(.5*e/100)}function xk(t,e=!1){const n=[];function r(o){o.forEach(u=>{u.nodeType==="IMAGE"&&(e||Wm(u))&&n.push(u),u.nodeType==="GROUP"&&r(u.children)})}return r(t),n}function Sk(t){const e=[];function n(r){r.forEach(o=>{o.nodeType==="IMAGE"&&Wm(o)&&!o.isLocked&&e.push(o),o.nodeType==="GROUP"&&!o.isLocked&&n(o.children)})}return n(t),e}function Ek(t,{padding:e=0,rotate:n=0,flipV:r=!1,flipH:o=!1}){return new Promise(u=>{const c=document.createElement("canvas"),l=c.getContext("2d");let h=1;const p=Math.max(t.width,t.height);p>1e3&&(h=p/1e3);const b=t.width/h,x=t.height/h,E=q2({x:0,y:0},{x:b,y:x});c.width=E,c.height=E;const T=c.width/2,C=c.height/2,P=document.createElement("canvas"),F=P.getContext("2d");P.width=b,P.height=x,(r||o)&&(F==null||F.translate(o?b:0,r?x:0),F==null||F.scale(o?-1:1,r?-1:1)),F==null||F.drawImage(t,0,0,b,x),l==null||l.translate(T,C),n&&(l==null||l.rotate(n*Math.PI/180)),l==null||l.translate(-T,-C),l==null||l.drawImage(P,T-b/2,C-x/2);const B=l==null?void 0:l.getImageData(0,0,c.width,c.height),{data:z=[],width:U=0,height:ee=0}=B||{},ne=()=>{for(let pe=0;pe<U;pe+=1)for(let se=0;se<ee;se+=1){const Ie=(se*U+pe)*4;if(z[Ie+3]>0)return Promise.resolve(pe)}return Promise.resolve(0)},re=()=>{for(let pe=0;pe<ee;pe+=1)for(let se=0;se<U;se+=1){const Ie=(pe*U+se)*4;if(z[Ie+3]>0)return Promise.resolve(pe)}return Promise.resolve(0)},le=()=>{for(let pe=U-1;pe>=0;pe-=1)for(let se=0;se<ee;se+=1){const Ie=(se*U+pe)*4;if(z[Ie+3]>0)return Promise.resolve(pe)}return Promise.resolve(0)},Ae=()=>{for(let pe=ee-1;pe>=0;pe-=1)for(let se=0;se<U;se+=1){const Ie=(pe*U+se)*4;if(z[Ie+3]>0)return Promise.resolve(pe)}return Promise.resolve(0)},J=[ne(),re(),le(),Ae()];Promise.all(J).then(pe=>{let[se,Ie,Fe,Ce]=pe;se-=e,Ie-=e,Fe+=e,Ce+=e;const Ye=Fe-se,ae=Ce-Ie,ie=Ie,he=se;u({contentWidth:Ye*h,contentHeight:ae*h,top:ie*h,left:he*h,frameSize:E*h})})})}function Wm(t){return t.nodeType==="IMAGE"&&!!t.extra.shapeMask.maskURL}async function Ak(t,e){const n=xm(),{imageInfo:r}=await Gm(e);return n.image=r,n.width=r.naturalWidth,n.height=r.naturalHeight,Um(n),n.left=0,n.top=0,n}function ng(t){return`mainLayer-${t}`}function Tk(t){const e=document.querySelectorAll(`#${ng(t.id)}`);e.length>1&&console.warn("More than one canvas",e);const n=document.getElementById(ng(t.id));return n||(console.warn("当前图层不存在"),document.createElement("canvas"))}function Ck(t){const e=[];function n(r){r.forEach(o=>{o.nodeType!=="GROUP"&&e.push(o),n(o.children)})}return n(t.children),e}function sE(t,e){return t.props.getPanelList().find(r=>r.id===e)||null}function _k(t,e){return sE(t,e)||Hm(t,e)}function Hm(t,e){return t.normalLayerFlatMap[e]?t.normalLayerFlatMap[e]:null}function Lk(t){return t.image?t.image.width/t.image.naturalWidth:1}function Pk(t,e){return!(t.options.hasTimeline&&e.timeline&&(t.currentTime<e.timeline.start||t.currentTime>e.timeline.end))}function ri(t){const e=t.getFigma();return e?{fileData:e.context.fileData}:t.libra?{fileData:t.libra.fileData}:null}function aE(t){return t.nodeType==="FRAME"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"||t.nodeType==="SECTION"}function zm(t){return t.nodeType==="FRAME"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"}function Mk(t){return!!(zm(t)||t.nodeType==="GROUP")}function Ik(t,e,n){var u;const r=t.snapshotMap;r[e.id]||(r[e.id]={lastUsedAt:0,image:null,contains:{layerIdMap:{},imageUrlMap:{}}});const o=r[e.id];return o.lastUsedAt=new Date().getTime(),(u=o.image)==null||u.delete(),o.image=n,o}function uE(t,e){var r;const n=t.snapshotMap;n[e.id]&&((r=n[e.id].image)==null||r.delete(),delete n[e.id])}function cE(t,e){const n=t.snapshotMap;return n[e.id]?(n[e.id].lastUsedAt=new Date().getTime(),n[e.id].image):null}function $r(t,e){return t.localStore.getLayer(e)}function jm(t,e){const n=[e];return Xm(t,e,n),n}function Xm(t,e,n){if(e.parentId){const r=t.getLayer(e.parentId);r&&(aE(r)&&n.unshift(r),Xm(t,r,n))}}function Da(t,e){if(e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")return!0;const n=t.localStore.getLayer(e.parentId);return n?Da(t,n):!1}function kk(t,e){const n=[];return Vm(t,e,n),n}function Vm(t,e,n){if(e.nodeType==="SYMBOL"&&n.unshift(e.id),e.parentId){const r=$r(t,e.parentId);r&&Vm(t,r,n)}}function lE(t,e){if(e.parentId){const n=$r(t,e.parentId);return n?lE(t,n):null}return e}function Ym(t,e){delete t.layerAssetsMap[e.id],delete t.layerMap[e.id],uE(t,e),e.nodeType==="FRAME"||e.nodeType==="GROUP"||e.nodeType==="SECTION"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE"?e.children.forEach(n=>{Ym(t,n)}):e.nodeType==="IMAGE"||e.nodeType}function Rk(t,e){fE(t.localStore.props.getCurrentPage(),e)}function fE(t,e){t.children.forEach(n=>{Km(n,e)})}function dE(t){return t.nodeType==="FRAME"||t.nodeType==="GROUP"||t.nodeType==="SECTION"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"?t.children:null}function Km(t,e){var n;e(t),(n=dE(t))==null||n.forEach(r=>{Km(r,e)})}function Ga(t,e){if(e.nodeType==="INSTANCE"){const n=e.symbolData.symbolID.id,r=t.localStore.getLayer(n);if(!r)throw new Error("");return r.children}return e.children}function hE(t,e){return t.layerAssetsMap[e.id]||null}function Qm({layer:t,layerInfo:e}){return{width:e.width,height:e.height}}console.log(Kn({left:10,top:10,width:200,height:300,rotate:30}));function Kn({left:t,top:e,width:n,height:r,rotate:o}){const u=-o/180*Math.PI,{leftTop:c}=Zr({left:t,top:e,width:n,height:r,rotate:o}),l=o===90||o===-90?0:Math.cos(u);return[[l,Math.sin(u),c.x],[-Math.sin(u),l,c.y],[0,0,1]]}function Cc(t,e){const n=t,r=e,o=[];for(let u=0;u<n.length;u+=1){o[u]=[];for(let c=0;c<r[0].length;c+=1){let l=0;for(let h=0;h<n[0].length;h+=1)l+=n[u][h]*r[h][c];o[u][c]=l}}return o}function Ta(t,e){const n=[...t],r=[[e.x],[e.y],[1]],o=Cc(n,r);return{x:o[0][0],y:o[1][0]}}function pE(t,e){return Cc(t,e)}function Vo(t,e){const n=[...t],r=[[e.x],[e.y],[1]],o=Cc(qm(n),r);return{x:o[0][0],y:o[1][0]}}function gE(t,e){return Cc(qm(t),e)}function _c(t){return-Math.atan2(-t[1][0],t[0][0])*(180/Math.PI)}function Lc({width:t,height:e,t:n}){const r=n[0][2],o=n[1][2],u=_c(n),{left:c,top:l}=Cm({x:r,y:o,width:t,height:e,rotate:u});return{left:c,top:l,rotate:u}}function qm(t){if(t.length!==t[0].length)throw new Error("");let e=0,n=0,r=0;const o=t.length;let u=0;const c=[],l=[];for(e=0;e<o;e+=1)for(c[c.length]=[],l[l.length]=[],r=0;r<o;r+=1)e===r?c[e][r]=1:c[e][r]=0,l[e][r]=t[e][r];for(e=0;e<o;e+=1){if(u=l[e][e],u===0){for(n=e+1;n<o;n+=1)if(l[n][e]!==0){for(r=0;r<o;r+=1)u=l[e][r],l[e][r]=l[n][r],l[n][r]=u,u=c[e][r],c[e][r]=c[n][r],c[n][r]=u;break}if(u=l[e][e],u===0)throw new Error}for(r=0;r<o;r+=1)l[e][r]=l[e][r]/u,c[e][r]=c[e][r]/u;for(n=0;n<o;n+=1)if(n!==e)for(u=l[n][e],r=0;r<o;r+=1)l[n][r]-=u*l[e][r],c[n][r]-=u*c[e][r]}return c}function mE(t,e){const n=[t[0],t[1],[0,0,1]],r=[e[0],e[1],[0,0,1]];return yE(n,r)}function yE(t,e){const n=[];for(let r=0;r<t.length;r+=1){n[r]=[];for(let o=0;o<e[0].length;o+=1){let u=0;for(let c=0;c<t[0].length;c+=1)u+=t[r][c]*e[c][o];n[r][o]=u}}return n}function Jm({fileData:t,info:e}){const n=[];if(e.type==="layer"){const r=$r(t,e.layerId);r&&n.push(...jm(t.localStore,r).map(o=>Kn({left:o.left,top:o.top,width:o.width,height:o.height,rotate:o.rotate})))}return Zm(n)}function Zm(t){let e=[[1,0,0],[0,1,0],[0,0,1]];return[...t].reverse().forEach(n=>{e=mE(n,e)}),e}function Vi(t,e){const n=Jm({fileData:t,info:e});return{absoluteTransform:n,rotate:_c(n)}}function Ok(t){return{left:t.bunchRectangle.left*t.getPageScale(),top:t.bunchRectangle.top*t.getPageScale(),width:t.bunchRectangle.width*t.getPageScale(),height:t.bunchRectangle.height*t.getPageScale(),transform:`rotate(${t.bunchRectangle.rotate}deg)`}}function Ua(t,e){const n=ri(t);if(n){const r=Vi(n.fileData,{type:"layer",layerId:e.id}),o=Lc({width:e.width,height:e.height,t:r.absoluteTransform});t.bunchRectangle.left=o.left,t.bunchRectangle.top=o.top,t.bunchRectangle.width=e.width,t.bunchRectangle.height=e.height,t.bunchRectangle.rotate=o.rotate}else t.bunchRectangle.left=e.left,t.bunchRectangle.top=e.top,t.bunchRectangle.width=e.width,t.bunchRectangle.height=e.height,t.bunchRectangle.rotate=e.rotate}function vE(t){if(t.selectedSingleLayer){const e=t.selectedSingleLayer;e&&Ua(t,e)}else{const e=[];t.selectedLayerList.forEach(n=>{if(n){const r=Zr(n);e.push(r.leftTop),e.push(r.rightTop),e.push(r.leftBottom),e.push(r.rightBottom)}}),Object.assign(t.bunchRectangle,$a(e)),t.bunchRectangle.rotate=0}}function wE({layerList:t}){const e=[];return t.forEach(r=>{if(r){const o=Zr(r);e.push(o.leftTop),e.push(o.rightTop),e.push(o.leftBottom),e.push(o.rightBottom)}}),{...$a(e),rotate:0}}function Dr(t,e){if(e.parentId){const n=t.getLayer(e.parentId);if(n)return n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="SECTION"?n:Dr(t,n)}return null}function ey(t,e){if(e.parentId){const n=$r(t,e.parentId);if(n)return n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="SECTION"?n:ey(t,n)}return t.localStore.props.getCurrentPage()}function vf(t,e){return e.map(n=>{const r=t.getLayer(n);if(!r)throw new Error;return r})}function bE({localStore:t,idList:e}){return e.map(n=>{const r=t.getLayer(n);if(!r)throw new Error;return r})}function Mn(t){return!t.stackMode||t.stackMode==="NONE"?"NONE":t.stackMode}function Yn(t,e){const n=[...t];return e.nodeType==="INSTANCE"&&t[t.length-1]!==e&&n.push(e),n}function Pc(t,e){const n={};return Ue.forEach(t.layerMap,(r,o)=>{r.nodeType==="INSTANCE"&&r.symbolData.symbolID.id===e.id&&(n[o]=r)}),n}function xE(t,e,n){const r=Pc(t.fileData,e);Ue.forEach(r,o=>{n(o)})}function ty({layer:t,instanceChain:e}){const n=[...e];return n[n.length-1]!==t&&n.push(t),n}const SE={nodeType:"IMAGE",left:0,top:0,width:0,height:0,rotate:0,name:"",stackMode:"NONE",stackPrimarySizing:"FIXED",stackCounterSizing:"FIXED",stackChildAlignSelf:"AUTO",stackChildPrimaryGrow:0,stackPrimaryAlignItems:"MIN",stackCounterAlignItems:"MIN",stackPositioning:"",stackPaddingTop:0,stackPaddingBottom:0,stackPaddingLeft:0,stackPaddingRight:0,stackSpacing:0,strokeAlign:"INSIDE",strokeCap:"NONE",strokeWeight:1,strokeJoin:"MITER",miterLimit:0,fillGeometry:[],fillPaints:void 0,strokeGeometry:[],strokePaints:[],dashPattern:[0,0],frameMaskDisabled:!1,cornerRadius:0,textAutoResize:"NONE",textData:void 0,vectorData:void 0,effects:void 0,visible:!0};function Jt({localStore:t,layer:e,instanceChain:n,debugging:r}){function o(u){if(e.nodeType==="INSTANCE"&&e===n[0]&&(u==="left"||u==="top"))return e[u];if(n.length>0){let c;for(let l=0;l<n.length;l+=1){const h=n.slice(l);if(c=EE(e,u,n[l],h),c)break}if(c!==void 0)return c}if(e[u]!==void 0)return e[u];if(u==="textData"||u==="vectorData")throw new Error;return SE[u]}return new Proxy({},{get:(u,c)=>o(c)})}function EE(t,e,n,r){let o;const u=ty({layer:t,instanceChain:r});return n.symbolData.symbolOverrides.forEach(c=>{c.guidPath.guids.map(l=>l.id).join("--")===u.map(l=>l.id).join("--")&&c[e]!==void 0&&(o=c[e])}),n.derivedSymbolData.forEach(c=>{c.guidPath.guids.map(l=>l.id).join("--")===u.map(l=>l.id).join("--")&&c[e]!==void 0&&(o=c[e])}),o}const Mc=Jt;function Id({localStore:t,layer:e,instanceChain:n,constraintsMap:r}){n=Yn(n,e);const o=Mc({localStore:t,layer:e,instanceChain:n});let u=[];const c=t.getFigma();return c&&(u=Ga(c.context.fileData,e)),u.forEach(l=>{const h=Jt({localStore:t,layer:l,instanceChain:Yn(n,l)}),p=h;if(p.stackMode==="NONE"||p.stackPositioning==="ABSOLUTE"){const b={};r[l.id]=b,l.horizontalConstraint==="MIN"&&(b.left=h.left),l.horizontalConstraint==="MAX"&&(b.right=o.width-h.left-h.width),l.horizontalConstraint==="STRETCH"&&(b.left=h.left,b.right=o.width-h.left-h.width),l.verticalConstraint==="MIN"&&(b.top=h.top),l.verticalConstraint==="MAX"&&(b.bottom=o.height-h.top-h.height),l.verticalConstraint==="STRETCH"&&(b.top=h.top,b.bottom=o.height-h.top-h.height)}Id({localStore:t,layer:l,instanceChain:n,constraintsMap:r})}),r}function AE(t,e){const n=Dr(t,e);return!!(n&&(Mn(n)==="NONE"||e.stackPositioning==="ABSOLUTE"))}function TE(t){return t.horizontalConstraint||"MIN"}function CE(t){return t.verticalConstraint||"MIN"}function _E({localStore:t}){if(t.selectedSingleLayer)return{type:"entity",id:t.selectedSingleLayer.id,completeChain:jm(t,t.selectedSingleLayer).map(n=>({id:n.id,nodeType:n.nodeType}))};const{phantom:e}=t.props.getSelectionInfo();return e?{...e}:null}function kd({fileData:t,target:e}){const n=[...e.completeChain],r=[],o=[];n.forEach(l=>{l.nodeType==="INSTANCE"&&o.push($r(t,l.id));const h=$r(t,l.id);if(!h)throw new Error("");const p=Jt({localStore:t.localStore,layer:h,instanceChain:o});r.push(Kn(p))});const u=Zm(r),c=$r(t,e.id);if(!c)throw new Error("");return{layer:c,instanceChain:o,absoluteTransform:u,rotate:_c(u)}}function LE(t){return t.getNormalLayerList().filter(n=>t.getSelectedLayerIdList().includes(n.id)===!1)}function PE(t,e,n){const r=ny(t,n,t.selectedNormalLayerList);return ir(t,{type:"$selectActiveGroupChild",layerId:r}),r}function ME(t,e,n){ir(t,{type:"$selectGroupLeafLayer",layerId:n.id}),Ua(t,n),console.log(Ue.cloneDeep(t.selectedSingleLayer))}function IE(t,e,n){if(ir(t,{type:"replace",idList:[e.id]}),e.nodeType==="GROUP"){if(e.isLocked)return;PE(t,e,n)}}function Fk(t,e){t.layerResolvedFrameMap={},t.getNormalLayerList().forEach(r=>{t.layerResolvedFrameMap[r.id]=Zr(r)});const n=t.getPointInPage(e);t.selectionRectStartPoint=n}function Nk(t,e){t.selectionRectStartPoint=null;const n=t.getPointInPage(e);t.selectionRectEndPoint=n,ir(t,{type:t.controlKeyUnderPress?"add":"replace",idList:Object.keys(t.overlappedLayerIdMap)}),t.overlappedLayerIdMap={},t.selectionRectExists=!1,t.currentStatus=""}const kE=Ue.throttle((t,e)=>{if(t.overlappedLayerIdMap={},t.getFigma()){RE(t);return}Ue.forEach(t.layerResolvedFrameMap,(n,r)=>{var u;if(t.getLayer(r)&&((u=t.getLayer(r))!=null&&u.isLocked))return;Ld([{x:t.selectionRectangle.left,y:t.selectionRectangle.top},{x:t.selectionRectangle.left,y:t.selectionRectangle.top+t.selectionRectangle.height},{x:t.selectionRectangle.left+t.selectionRectangle.width,y:t.selectionRectangle.top+t.selectionRectangle.height},{x:t.selectionRectangle.left+t.selectionRectangle.width,y:t.selectionRectangle.top}],[n.leftTop,n.leftBottom,n.rightBottom,n.rightTop])&&(t.overlappedLayerIdMap[r]=!0)})},100);function RE(t){var r;const e={},n=[...((r=t.figma)==null?void 0:r.topLevelLayerList)||[]].reverse();n==null||n.forEach(o=>{const u=Xo({...t.selectionRectangle,rotate:0}),c=Xo(o);Ld(u,c)&&(e[o.id]=!0)}),t.overlappedLayerIdMap=e}function $k(t,e){t.selectionRectExists=!0;const n=t.getPointInPage(e);t.selectionRectEndPoint=n,kE(t,e)}function OE(t,e,n){for(let r=n.length-1;r>=0;r-=1){const o=n[r],u=t.getPointInPage(e),c=Xo(o);if(Pd(u,c))return o.id}return""}function ny(t,e,n){for(let r=n.length-1;r>=0;r-=1){const o=n[r],u=t.getPointInPage(e),c=Xo(o);if(Pd(u,c))return o.children.length>0?ny(t,e,o.children):o.id}return""}function FE(t,e){return OE(t,e,t.getNormalLayerList().filter(r=>t.getSelectedLayerIdList().includes(r.id)===!1))}function Bk(t,e){const n=FE(t,e);return n&&(t.controlKeyUnderPress?ir(t,{type:"add",idList:[n]}):ir(t,{type:"replace",idList:[n]})),n}function NE(t,e){return t.getSelectedLayerIdList().indexOf(e.id)>-1}function Dk(t,e,n){const r=t.getLayer(e.parentId);r&&r.nodeType==="GROUP"?ME(t,r,e):e.nodeType==="FRAME"?ir(t,{type:"replace",idList:[e.id]}):t.controlKeyUnderPress?$E({localStore:t,layer:e}):IE(t,e,n)}function $E({localStore:t,layer:e}){var r,o;if(t.selectedNormalLayerList.find(u=>u.parentId!=="")){(o=(r=t.props).showMessageForUser)==null||o.call(r,{type:"warn",message:"只能多选同级的图层"});return}NE(t,e)?ir(t,{type:"remove",idList:[e.id]}):ir(t,{type:"add",idList:[e.id]})}function BE(t){const e={layer:null,instanceChain:[]},n=ri(t);if(n){const r=_E({localStore:t});if(r){const{layer:o,instanceChain:u}=kd({fileData:n.fileData,target:r});e.layer=o,e.instanceChain=u}}return e}function Gk(){return{currentPageIndex:0,selectedLayerIdList:[],phantom:null,activeLayerInGroupId:"",activeGroupLayerId:"",selectedLeafLayerId:"",bunchRectangle:{nodeType:"GROUP",parentId:"",id:"bunchRectangle",name:"",guid:{sessionID:0,localID:0},left:0,top:0,width:0,height:0,rotate:0,isLocked:!1,children:[],editInfo:{userId:"",createdAt:0,lastEditedAt:0},shimmerAtApearance:!1,visible:!0},textRange$:{start:0,end:0}}}function ir(t,e){var r,o;const{selectionInfo:n}=t;if(e.type==="$selectActiveGroupChild")n.activeLayerInGroupId=e.layerId;else if(e.type==="$selectGroupLeafLayer")n.selectedLeafLayerId=e.layerId;else if(e.type==="$startEdittingGroupLayer")n.selectedLayerIdList=[],n.activeLayerInGroupId="",n.activeGroupLayerId=e.layerId;else if(e.type==="$target")n.activeLayerInGroupId="",n.activeGroupLayerId="",n.selectedLeafLayerId="",e.target.type==="entity"?(n.phantom=null,n.selectedLayerIdList=[e.target.id]):(t.selectionInfo.phantom=e.target,n.selectedLayerIdList=[]);else{t.selectionInfo.phantom=null,n.activeLayerInGroupId="",n.activeGroupLayerId="",n.selectedLeafLayerId="";let u=[];e.type==="replace"?u.push(...e.idList):e.type==="add"?(u.push(...t.getSelectedLayerIdList()),u.push(...e.idList)):e.type==="remove"?u.push(...t.getSelectedLayerIdList().filter(c=>!Ue.includes(e.idList,c))):e.type,u=Ue.uniq(u).filter(c=>c),u.length>1&&(u=u.filter(c=>t.getLayer(c)).filter(c=>!t.rootNormalLayerMap[c].isLocked)),t.selectionInfo.selectedLayerIdList.length=0,t.getSelectedLayerIdList().push(...u)}(o=(r=t.props).doAction)==null||o.call(r,{type:"UpdateNodes",payload:{layerMap:{}}})}function Uk(t){var o,u,c,l;const e=(u=(o=t.props).getCurrentPage)==null?void 0:u.call(o);if(!e)return;const n=Ec(t),r=DE({localStore:t,candidate:t.bunchRectangle,groupedLayerIdList:t.getSelectedLayerIdList(),parentNode:e,step:n});(l=(c=t.props).doAction)==null||l.call(c,n.getNewAction()),Md(t),ir(t,{type:"replace",idList:[r.id]})}function Wk({localStore:t}){var r,o,u,c;const e=(o=(r=t.props).getCurrentPage)==null?void 0:o.call(r);if(!e)throw new Error("Page not found");const n=t.selectedSingleLayer;if(n&&n.nodeType==="GROUP"){const l=Ec(t),h=e.children,p=[];h.forEach(b=>{b.id===n.id?b.children.forEach(x=>{x.parentId="",p.push(x)}):p.push(b)}),l.update({layer:e,data:{life:{type:"delete",deletedNodes:{[n.id]:!0},children:p.map(b=>b.id)}}}),h.length=0,h.push(...p),(c=(u=t.props).doAction)==null||c.call(u,l.getNewAction()),Md(t),ir(t,{type:"replace",idList:n.children.map(b=>b.id)}),n.children=[],t.selectionInfo.bunchRectangle.left=n.left,t.selectionInfo.bunchRectangle.top=n.top,t.selectionInfo.bunchRectangle.width=n.width,t.selectionInfo.bunchRectangle.height=n.height,t.selectionInfo.bunchRectangle.rotate=n.rotate}}function Hk(t){if(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="GROUP"){const{id:e}=t.selectedSingleLayer;ir(t,{type:"$startEdittingGroupLayer",layerId:e})}}function Ic(t,e,{step:n}){if(e.parentId){const r=Hm(t,e.parentId);if(r&&r.nodeType==="GROUP"){const o=[];r.children.forEach(c=>{o.push(...Xo(c))});const u=Y2(o,r.rotate);n.update({layer:r,data:u}),Ic(t,r,{step:n})}}}function zk({localStore:t,layerList:e}){const n=wE({layerList:e}),r=bm(t);return Object.assign(r,n),e.forEach(o=>{o.parentId=r.id}),r.children=[...e],r}function DE({localStore:t,candidate:e,groupedLayerIdList:n,parentNode:r,step:o}){const u=bm(t);u.left=e.left,u.top=e.top,u.width=e.width,u.height=e.height,u.rotate=e.rotate;const c=[...r.children],l=[];return c.forEach(h=>{n.indexOf(h.id)>-1?(u.children.push(h),h.parentId=u.id,u.children.length===n.length&&l.push(u)):l.push(h)}),o.update({layer:r,data:{life:{type:"createChildren",isGrouping:!0,newLayers:{[u.id]:Ue.cloneDeep(u)},children:l.map(h=>h.id)}}}),r.children.length=0,r.children.push(...l),u}function Ps(t){return t.selectedNormalLayerList.length===1?Dr(t,t.selectedNormalLayerList[0]):null}function jk({context:t,localStore:e,singleLayer:n,step:r,pointInContainer:o}){if(e.options.enableEnterAndLeaveRoom===!1)return;const u=Ps(e);if(u&&Q2(o,u)===!1)GE(e,t,u,n,r);else{const c=ey(t.fileData,n);let l=null;[...c.children].reverse().forEach(h=>{if(h.id!==n.id&&(h.nodeType==="FRAME"||h.nodeType==="SECTION"||h.nodeType==="SYMBOL")&&Pd(o,Xo(h))&&l===null&&h.width>=n.width&&h.height>=n.height){if(n.nodeType==="SYMBOL"&&h.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"&&n.symbolData.symbolID.id===h.id)return;l=h}}),l&&l.children&&UE({fileData:t.fileData,room:c,nextRoom:l,singleLayer:n,step:r})}}function GE(t,e,n,r,o){if(t.isFullyFunctional===!1)return;o.update({layer:n,data:{children:n.children.map(x=>x.id).filter(x=>x!==r.id)}}),n.children=n.children.filter(x=>x.id!==r.id);const u=Kn(n),c=Dr(t,n)||t.props.getCurrentPage(),l=[];c.children.forEach(x=>{x.id===n.id?(l.push(x.id),l.push(r.id)):x.id!==r.id&&l.push(x.id)}),o.update({layer:c,data:{children:l}}),c.children=l.map(x=>$r(e.fileData,x));const h=Kn(r),p=pE(u,h),b=Lc({width:r.width,height:r.height,t:p});o.update({layer:r,data:{parentId:c.nodeType==="CANVAS"?"":c.id,left:b.left,top:b.top,rotate:b.rotate}})}function UE({fileData:t,room:e,nextRoom:n,singleLayer:r,step:o}){if(t.localStore.isFullyFunctional===!1)return;const u=e.children.map(x=>x.id).filter(x=>x!==r.id);o.update({layer:e,data:{children:u}}),e.children=u.map(x=>$r(t,x)).filter(x=>x);const c=n.children.map(x=>x.id).concat([r.id]);o.update({layer:n,data:{children:c}}),n.children.push(r);const l=Kn(r),h=Kn(n),p=gE(h,l),b=Lc({width:r.width,height:r.height,t:p});o.update({layer:r,data:{parentId:n.id,left:b.left,top:b.top,rotate:b.rotate}})}function Xk(t){const e={x:0,y:0},n=[],r=[];function o(E,T){let C="";return typeof(E==null?void 0:E.delta)=="number"&&T?Math.abs(E.delta)<=Math.abs(T.delta)?C="line":C="rects":typeof(E==null?void 0:E.delta)=="number"?C="line":T&&(C="rects"),C}const{leftTop:u,leftBottom:c,rightTop:l,rightBottom:h}=Zr(t.bunchRectangle);let p=t.props.getPageSize().width,b=t.props.getPageSize().height;const x=Ps(t);t.getFigma()&&x&&(p=x.width,b=x.height);{const E=pc({type:"MOVING",localStore:t,layer:t.bunchRectangle,x:"x",width:"width",origin:"",roomSize:{width:p,height:b}}),T=rg(t,"left","width","top","height",{roomWidth:p,roomHeight:b}),C=o(E,T);if(typeof(E==null?void 0:E.delta)=="number"&&C==="line"){if(e.x=E.delta,E.type==="page")n.push({x:E.value*t.getPageScale(),y:0,width:1,height:b*t.getPageScale()});else{const P=[u.y,c.y,l.y,h.y],F=t.getLayer(E.layerId);if(F){const U=Zr(F);P.push(U.leftTop.y,U.leftBottom.y,U.rightTop.y,U.rightBottom.y)}const B=ju(P),z=Aa(P)-ju(P);n.push({x:E.value*t.getPageScale(),y:B*t.getPageScale(),width:1,height:z*t.getPageScale()})}t.bunchRectangleXFixed=!0}else T&&C==="rects"?(e.x=T.delta,r.push({dimension:"x",rect:T.leftRect}),r.push({dimension:"x",rect:T.rightRect}),t.bunchRectangleXFixed=!0):t.bunchRectangleXFixed=!1}{const E=pc({type:"MOVING",localStore:t,layer:t.bunchRectangle,x:"y",width:"height",origin:"",roomSize:{width:p,height:b}}),T=rg(t,"top","height","left","width",{roomWidth:p,roomHeight:b}),C=o(E,T);if(typeof(E==null?void 0:E.delta)=="number"&&C==="line"){if(e.y=E.delta,E.type==="page")n.push({x:0,y:E.value*t.getPageScale(),height:1,width:p*t.getPageScale()});else{const P=[u.x,c.x,l.x,h.x],F=t.getLayer(E.layerId);if(F){const U=Zr(F);P.push(U.leftTop.x,U.leftBottom.x,U.rightTop.x,U.rightBottom.x)}const B=ju(P),z=Aa(P)-ju(P);n.push({y:E.value*t.getPageScale(),x:B*t.getPageScale(),height:1,width:z*t.getPageScale()})}t.bunchRectangleYFixed=!0}else T&&C==="rects"?(e.y=T.delta,r.push({dimension:"y",rect:T.leftRect}),r.push({dimension:"y",rect:T.rightRect}),t.bunchRectangleYFixed=!0):t.bunchRectangleYFixed=!1}return t.helperLineList=n,t.helperRectList=r,e}function WE(t){var e;if(t.figma){const n=Ps(t);return n?n.children.filter(r=>t.getSelectedLayerIdList().includes(r.id)===!1):((e=t.figma)==null?void 0:e.topLevelLayerList.filter(r=>t.getSelectedLayerIdList().includes(r.id)===!1))||[]}return t.editingGroupLayer?t.getNormalLayerList().filter(n=>n.id!==t.activeGroupLayerId):t.getNormalLayerList().filter(n=>t.getSelectedLayerIdList().includes(n.id)===!1)}function pc({type:t,localStore:e,layer:n,x:r,width:o,origin:u,roomSize:c}){const l=Zr(n),h=[];let p=-1,b=1/0;const x=c,E=[{type:"page",value:0,layerId:"",delta:null},{type:"page",value:x[o],layerId:"",delta:null},{type:"page",value:x[o]/2,layerId:"",delta:null}];WE(e).forEach(F=>{const B=Zr(F);[B.leftTop[r],B.leftBottom[r],B.center[r],B.rightTop[r],B.rightBottom[r]].forEach(z=>{E.push({type:"layer",value:z,layerId:F.id,delta:null})})});let C=[];u==="left"?C=["rightTop","rightBottom"]:u==="right"?C=["leftTop","leftBottom"]:u==="top"?C=["leftBottom","rightBottom"]:u==="bottom"?C=["leftTop","rightTop"]:C=["leftTop","leftBottom","rightTop","rightBottom","center"],C.forEach(F=>{E.forEach(B=>{const z=B.value-l[F][r];Math.abs(z)<hc/e.getPageScale()&&h.push({...B,delta:z,movingPointName:F})})}),h.map(F=>Math.abs(F.delta)).forEach((F,B)=>{F<b&&(b=F,p=B)});const P=h[p];if(P&&t==="RESIZING"){let F=[0,0,0,0];if(r==="x"?(F=[P.value,-1e6,P.value,1e6],P.movingPointName==="leftTop"?P.fixedPointName="rightTop":P.movingPointName==="leftBottom"?P.fixedPointName="rightBottom":P.movingPointName==="rightTop"?P.fixedPointName="leftTop":P.movingPointName==="rightBottom"&&(P.fixedPointName="leftBottom")):r==="y"&&(F=[-1e5,P.value,1e5,P.value],P.movingPointName==="leftTop"?P.fixedPointName="leftBottom":P.movingPointName==="leftBottom"?P.fixedPointName="leftTop":P.movingPointName==="rightTop"?P.fixedPointName="rightBottom":P.movingPointName==="rightBottom"&&(P.fixedPointName="rightTop")),P.movingPointName&&P.fixedPointName){const B=j2(l[P.fixedPointName].x,l[P.fixedPointName].y,l[P.movingPointName].x,l[P.movingPointName].y,...F);B&&(P.size=Of(l[P.fixedPointName],B))}}return P}function rg(t,e,n,r,o,{roomWidth:u,roomHeight:c}){const l=eg(t.bunchRectangle);let h=[];const p=Ps(t);t.getFigma()&&p?h=p.children.filter(C=>{var P;return C.id!==((P=t.selectedSingleLayer)==null?void 0:P.id)||""}):h=LE(t);const b=h.map(C=>eg(C)).concat(e==="left"?[{left:0,top:0,width:0,height:c},{left:u,top:0,width:0,height:c}]:[{left:0,top:0,width:u,height:0},{left:0,top:c,width:u,height:0}]).filter(C=>C[e]+C[n]<l[e]||C[e]>l[e]+l[n]);let x=hc,E;function T(C,P){return!(C[r]>P[r]+P[o]||C[r]+C[o]<P[r])}if(b.forEach(C=>{b.filter(P=>P!==C).forEach(P=>{const F=Ue.sortBy([l,C,P],e),[B,z,U]=F,ee=z[e]-(B[e]+B[n]),ne=U[e]-(z[e]+z[n]);ee>0&&ne>0&&Math.abs(ee-ne)<x&&T(B,z)&&T(z,U)&&(x=Math.abs(ee-ne),E=F)})}),E){const[C,P,F]=E;let B=0,z=0;if(P===l){const le=C[e]+C[n];B=le+(F[e]-le)/2-(P[e]+P[n]/2),P[e]+=B,z=(F[e]-le-P[n])/2}else if(C===l){z=F[e]-(P[e]+P[n]);const le=F[e]-2*z-P[n]-C[n];B=le-C[e],C[e]=le}else if(F===l){z=P[e]-(C[e]+C[n]);const le=P[e]+P[n]+z;B=le-F[e],F[e]=le}const U=Ue.min([P[r],C[r]])||0,ee=Ue.max([P[r]+P[o],C[r]+C[o]])||0,ne=Ue.min([P[r],F[r]])||0,re=Ue.max([P[r]+P[o],F[r]+F[o]])||0;return HE({isX:e==="left",leftBox:C,rightBox:F,middleBox:P,delta:B,rectSpan:z,leftRectMin:U,leftRectMax:ee,rightRectMin:ne,rightRectMax:re})}return null}function HE({isX:t,leftBox:e,rightBox:n,middleBox:r,delta:o,rectSpan:u,leftRectMin:c,leftRectMax:l,rightRectMin:h,rightRectMax:p}){if(t){const b={left:e.left+e.width,width:u,top:c,height:l-c},x={left:r.left+r.width,width:u,top:h,height:p-h};return{delta:o,rectSpan:u,leftRect:b,rightRect:x}}{const b={top:e.top+e.height,height:u,left:c,width:l-c},x={top:r.top+r.height,height:u,left:h,width:p-h};return{delta:o,rectSpan:u,leftRect:b,rightRect:x}}}function Wa(t){var n;if(!t)throw new Error("element is missing!");return Number((n=document==null?void 0:document.defaultView)==null?void 0:n.getComputedStyle(t).height.replace(/px/,""))}function Ha(t){var n;if(!t)throw new Error("element is missing!");return Number((n=document==null?void 0:document.defaultView)==null?void 0:n.getComputedStyle(t).width.replace(/px/,""))}function kc(t){if(!t)throw new Error("element is missing!");let e=0;return e+=t.offsetTop,t.offsetParent&&(e+=kc(t.offsetParent)),e}function Rc(t){if(!t)throw new Error("element is missing!");let e=0;return e+=t.offsetLeft,t.offsetParent&&(e+=Rc(t.offsetParent)),e}function Vk(t,e){if(!t)throw new Error("element is missing!");let n=0,r=0;return e&&e.paddingTop&&(n=e.paddingTop),e&&e.paddingBottom&&(r=e.paddingBottom),!(t.getBoundingClientRect().top>=window.innerHeight-r||t.getBoundingClientRect().bottom<=n)}function zE(t,e,n){let r=(e.pageX-t.appliedPointX)/t.getPageScale(),o=(e.pageY-t.appliedPointY)/t.getPageScale();if(n){const u=Vo(n,{x:r,y:o});r=u.x,o=u.y}return t.bunchRectangleXFixed?Math.abs(r)>hc/t.getPageScale()?(t.bunchRectangleXFixed=!1,t.appliedPointX=e.pageX):r=0:t.appliedPointX=e.pageX,t.bunchRectangleYFixed?Math.abs(o)>hc/t.getPageScale()?(t.bunchRectangleYFixed=!1,t.appliedPointY=e.pageY):o=0:t.appliedPointY=e.pageY,{x:r,y:o}}function ry(t,e){const n=Rc(e),r=kc(e);return{x:t.pageX-n,y:t.pageY-r}}function jE(t,e){t.pointerDownX=e.pageX,t.pointerDownY=e.pageY,t.pointerX=e.pageX,t.pointerY=e.pageY,t.appliedPointX=e.pageX,t.appliedPointY=e.pageY,t.pointerMoved=!1,t.pointerCurrentAngle=X2(Pm(t.getPointInContainer(e),t.bunchRectangleCenter)),t.pointerAppliedAngle=t.pointerCurrentAngle,t.bunchRectangleRotationFixed=!1}function Rd(t,e){t.pointerX=e.pageX,t.pointerY=e.pageY}function Yk(t,e){return tg(t.pointerDownX,e.pageX)&&tg(t.pointerDownY,e.pageY)}function Kk(t,e){t.pointerRayLengthInPage=e}function Qk(t){var e;return(e=t.changedTouches)!=null&&e[0]&&(t.pageX=t.changedTouches[0].pageX,t.pageY=t.changedTouches[0].pageY),t}const XE={name:"",isLocked:!1,width:0,height:0,frameMaskDisabled:!1,stackMode:"NONE",stackPrimarySizing:"FIXED",stackCounterSizing:"FIXED",stackChildAlignSelf:"AUTO",stackChildPrimaryGrow:0,stackPrimaryAlignItems:"MIN",stackCounterAlignItems:"MIN",stackPositioning:"",stackPaddingTop:0,stackPaddingBottom:0,stackPaddingLeft:0,stackPaddingRight:0,stackSpacing:0,visible:!0,effects:[]},VE=Object.keys(XE),YE=["left","top","width","height"];function yn({localStore:t,layer:e,instanceChain:n,data:r,step:o,isResizingInstanceManually:u,options:c}){const l=n[0];if(l){const h=t.getFigma(),p=ty({layer:e,instanceChain:n}),b={symbolData(x){let E=!1,T=null,C=-1;if(x.symbolOverrides.forEach((P,F)=>{P.guidPath.guids.map(B=>B.id).join("-")===p.map(B=>B.id).join("-")&&(E=!0,C=F,T=P)}),E===!1&&(T={guidPath:{guids:p.map(P=>({...P.guid,id:P.id}))}},x.symbolOverrides.push(T),C=x.symbolOverrides.length-1),h&&T)VE.forEach(P=>{if(T&&r[P]!==void 0)if(P==="width"||P==="height")u&&e===l&&(T[P]=r[P]);else if(P==="effects"){if(!T.effects){const{effects:F}=Jt({localStore:t,layer:e,instanceChain:n});T.effects=Ue.cloneDeep(F||[])}typeof r.effects=="function"&&r.effects(T.effects)}else T[P]=r[P]});else throw new Error;Object.keys(T).filter(P=>P!=="guidPath").length===0&&x.symbolOverrides.splice(C,1)},derivedSymbolData(x){let E=null;x.forEach(T=>{T.guidPath.guids.map(C=>C.id).join("-")===p.map(C=>C.id).join("-")&&(E=T)}),E===null&&(E={guidPath:{guids:p.map(T=>({...T.guid,id:T.id}))}},x.push(E)),YE.forEach(T=>{const C=r[T];E&&typeof C<"u"&&(E[T]=C)})}};o.update({layer:l,data:b})}(!l||e===l)&&o.update({layer:e,data:r})}var iy={exports:{}};(function(t){(function(){function e(P,F){document.addEventListener?P.addEventListener("scroll",F,!1):P.attachEvent("scroll",F)}function n(P){document.body?P():document.addEventListener?document.addEventListener("DOMContentLoaded",function F(){document.removeEventListener("DOMContentLoaded",F),P()}):document.attachEvent("onreadystatechange",function F(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",F),P())})}function r(P){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(P)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function o(P,F){P.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+F+";"}function u(P){var F=P.g.offsetWidth,B=F+100;return P.j.style.width=B+"px",P.i.scrollLeft=B,P.h.scrollLeft=P.h.scrollWidth+100,P.l!==F?(P.l=F,!0):!1}function c(P,F){function B(){var U=z;u(U)&&U.g.parentNode!==null&&F(U.l)}var z=P;e(P.h,B),e(P.i,B),u(P)}function l(P,F,B){F=F||{},B=B||window,this.family=P,this.style=F.style||"normal",this.weight=F.weight||"normal",this.stretch=F.stretch||"normal",this.context=B}var h=null,p=null,b=null,x=null;function E(P){return p===null&&(T(P)&&/Apple/.test(window.navigator.vendor)?(P=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),p=!!P&&603>parseInt(P[1],10)):p=!1),p}function T(P){return x===null&&(x=!!P.document.fonts),x}function C(P,F){var B=P.style,z=P.weight;if(b===null){var U=document.createElement("div");try{U.style.font="condensed 100px sans-serif"}catch{}b=U.style.font!==""}return[B,z,b?P.stretch:"","100px",F].join(" ")}l.prototype.load=function(P,F){var B=this,z=P||"BESbswy",U=0,ee=F||3e3,ne=new Date().getTime();return new Promise(function(re,le){if(T(B.context)&&!E(B.context)){var Ae=new Promise(function(pe,se){function Ie(){new Date().getTime()-ne>=ee?se(Error(""+ee+"ms timeout exceeded")):B.context.document.fonts.load(C(B,'"'+B.family+'"'),z).then(function(Fe){1<=Fe.length?pe():setTimeout(Ie,25)},se)}Ie()}),J=new Promise(function(pe,se){U=setTimeout(function(){se(Error(""+ee+"ms timeout exceeded"))},ee)});Promise.race([J,Ae]).then(function(){clearTimeout(U),re(B)},le)}else n(function(){function pe(){var Re;(Re=Ye!=-1&&ae!=-1||Ye!=-1&&ie!=-1||ae!=-1&&ie!=-1)&&((Re=Ye!=ae&&Ye!=ie&&ae!=ie)||(h===null&&(Re=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),h=!!Re&&(536>parseInt(Re[1],10)||parseInt(Re[1],10)===536&&11>=parseInt(Re[2],10))),Re=h&&(Ye==he&&ae==he&&ie==he||Ye==_e&&ae==_e&&ie==_e||Ye==ke&&ae==ke&&ie==ke)),Re=!Re),Re&&(Ee.parentNode!==null&&Ee.parentNode.removeChild(Ee),clearTimeout(U),re(B))}function se(){if(new Date().getTime()-ne>=ee)Ee.parentNode!==null&&Ee.parentNode.removeChild(Ee),le(Error(""+ee+"ms timeout exceeded"));else{var Re=B.context.document.hidden;(Re===!0||Re===void 0)&&(Ye=Ie.g.offsetWidth,ae=Fe.g.offsetWidth,ie=Ce.g.offsetWidth,pe()),U=setTimeout(se,50)}}var Ie=new r(z),Fe=new r(z),Ce=new r(z),Ye=-1,ae=-1,ie=-1,he=-1,_e=-1,ke=-1,Ee=document.createElement("div");Ee.dir="ltr",o(Ie,C(B,"sans-serif")),o(Fe,C(B,"serif")),o(Ce,C(B,"monospace")),Ee.appendChild(Ie.g),Ee.appendChild(Fe.g),Ee.appendChild(Ce.g),B.context.document.body.appendChild(Ee),he=Ie.g.offsetWidth,_e=Fe.g.offsetWidth,ke=Ce.g.offsetWidth,se(),c(Ie,function(Re){Ye=Re,pe()}),o(Ie,C(B,'"'+B.family+'",sans-serif')),c(Fe,function(Re){ae=Re,pe()}),o(Fe,C(B,'"'+B.family+'",serif')),c(Ce,function(Re){ie=Re,pe()}),o(Ce,C(B,'"'+B.family+'",monospace'))})})},t.exports=l})()})(iy);var KE=iy.exports;const QE=Ko(KE);function Od(t){console.log("[dev]",...t)}function qE(t){return new Promise(e=>{const n=new FileReader;t instanceof Blob?n.readAsDataURL(t):n.readAsDataURL(new Blob([t])),n.onload=function(){e(this.result)},n.onerror=r=>{$2("Failed to get base64","")}})}function JE(t,e){Ue.forEach(e,r=>{r.subset.charCodeList=[],r.subset.charMap={}});const n={};return Ue.forEach(t,r=>{const{characters:o}=r.textData,u=r.fontName.fullname;n[u]=!0;const c=e[u];if(c)for(let l=0;l<o.length;l+=1){const h=o.charCodeAt(l);c.subset.charMap[h]={char:o[l],unicode:h,glyph:null},c.subset.charCodeList.push(h)}}),Ue.forEach(n,(r,o)=>{const u=e[o];if(u){const c=oy(u);u.subset.currentText!==c&&(u.subset.subsetBase64=""),u.subset.currentText=c}}),n}function oy(t){return Ue.sortBy(Ue.uniq(t.subset.charCodeList)).map(e=>t.subset.charMap[e].char).filter(e=>e!==`
`).join("")}function ZE(t,e,n){return Promise.all(Object.keys(e).map(r=>new Promise(o=>{const u=n[r];u?u.subset.subsetBase64?o(""):eA(t,r,n).then(()=>{o("")}):o("")})))}function eA(t,e,n){const r=t.props.getRootStore().fontMap[e],o=n[r.fontName],u=oy(o);return t.props.getRootStore().getFontSubsetFileFromBackend({src:r.woff2FileUrl||r.ttfURL,chars:u}).then(c=>(o.subset.subsetBase64=c,c))}const zi={};function tA(t,e){return t.props.getRootStore().fontMap[e]||null}function nA(t){return zi[t]||null}async function rA(t,e){const n=tA(t,e);if(nA(e)||(zi[e]={styleTagReady:!1,parsed:null,newFont:null,subset:{charMap:{},charCodeList:[],currentText:"",subsetBase64:""},base64String:"",fontkitFont:null,fontkitString:""}),n.fontFaceReady===!0)return"";n.fontFaceReady=!0;const r=o=>{n.fontFaceReady=!1};return sA(n).then(()=>(Od([`Loading ${e}`]),sy(n),"")).catch(o=>{throw r(),new Error(`Failed to ensure font ${n.fontName}`)})}async function sy(t){const{fontName:e}=t,n=t.woff2FileUrl||t.ttfURL;return iA(n).then(r=>{zi[e].base64String=r})}function iA(t){return oA(t).then(e=>e.blob()).then(e=>qE(e))}function oA(t){return fetch(t,{method:"GET"})}async function sA(t,e){const{fontName:n}=t,r=zi[n];if(r.styleTagReady)return"";const o=document.createElement("style");let u=t.woff2FileUrl||t.ttfURL;const c=new QE(Fd(n));return o.setAttribute("data-font-name",n),o.setAttribute("id",n),o.innerHTML=Ff(n,u),document.getElementsByTagName("head")[0].appendChild(o),c.load(null,60*60*1e3).then(()=>(r.styleTagReady=!0,"")).catch(l=>{throw new Error(l.message)})}function Fd(t){return t.replace(/\./g,"")}async function qk(t,e){const n=JE(e,zi);await ZE(t,n,zi),Od([zi,n])}function Ff(t,e){return`@font-face {
    font-family: "${Fd(t)}";
    font-display: swap;
    src:url('${e}') format('truetype');
  }`}async function Jk(t,e,n){if(n==="")return"";const r=zi[n];if(r.subset.subsetBase64)return Ff(n,r.subset.subsetBase64);r||(Od([`${n} is not initialized yet.`,zi]),await rA(t,n));{if(!r.base64String){const o=t.props.getRootStore().fontMap[n];await sy(o)}return Ff(n,r.base64String)}}const aA="break-word";let pi=1;function uA(){return pi}const Nr={textContainer:null,divElement:null};typeof window<"u"&&(Nr.textContainer=document.createElement("div"),Nr.textContainer.style.cssText+=["position: fixed;","left: 0;","top: 0;","overflow: hidden;"].join(""),document.body.appendChild(Nr.textContainer),Nr.divElement=document.createElement("div"),Nr.divElement.style.cssText+=["position: fixed;","left: 0;","top: 0;","visibility: hidden;","pointer-events: none;","z-index: 1000;"].join(""),Nr.textContainer.appendChild(Nr.divElement));function cA(t){const e=B2()==="safari"?1:4;return t<12*e?12/t:1/e}function lA(t){pi=cA(t.fontSize);const e=t.fontSize*pi,n={position:"absolute",left:"0",top:"0",transformOrigin:"0 0",width:`${t.width*pi}px`,lineHeight:`${t.lineHeight.value}`,fontFamily:`${Fd(t.fontName.fullname)}`,fontSize:`${e}px`,wordWrap:`${aA}`,fontWeight:`${t.fontWeight==="BOLD"?"bold":"normal"}`,whiteSpace:"pre-wrap",textAlign:t.textAlignHorizontal.toLowerCase(),writingMode:t.writingMode,fontStyle:t.fontStyle==="ITALIC"?"italic":"normal",textDecoration:`${t.textDecoration==="STRIKE_THROUGH"?"line-through":""} ${t.textDecoration==="UNDERLINE"?"underline":""}`,letterSpacing:`${t.letterSpacing.value*pi}px`};return n.transform=`scale(${1/pi})`,t.writingMode==="horizontal-tb"?(n.width=`${t.width*pi}px`,n.height="auto"):(n.width="auto",n.height=`${t.height*pi}px`),n}function ay(t){const e=lA(t);return fA(e)}function fA(t){return Object.keys(t).map(n=>`${Ue.kebabCase(n).replace("webkit","-webkit")}: ${t[n]}`).join(";")}function dA(t){if(!Nr.divElement)return{nextWidth:0,nextHeight:0};Nr.divElement.style.cssText+=ay(t),Nr.divElement.innerText=t.textData.characters;let e=t.width,n=t.height;if(t.writingMode==="horizontal-tb"){const r=Wa(Nr.divElement);e=t.width,n=r/pi}else e=Ha(Nr.divElement)/pi,n=t.height;return{nextWidth:e,nextHeight:n}}function hA(t){const e=[];if(t.textData){const{textData:n}=t;let r=-1e3,o={styleID:-1e3,start:0,end:0};n.characterStyleIDs.forEach((u,c)=>{u!==r?(r=u,o={styleID:u,start:c,end:c},e.push(o)):o.end=c})}return e}function pA({start:t,end:e,textData:n}){const r=[];let o=null;for(let u=t;u<e;u+=1){const c=n.characterStyleIDs[u-1],l=n.characterStyleIDs[u+1],h=n.characterStyleIDs[u];(u===t||h!==c)&&(o={styleID:h,start:u,end:u,prevOne:c,nextOne:void 0}),(u===e-1||h!==l)&&(o.nextOne=l,o.end=u+1,r.push(o))}return r}function Zk({localStore:t,layer:e}){const{start:n,end:r}=t.selectionInfo.textRange$,o={fontName:new Set,fontSize:new Set,fontStyle:new Set,textDecoration:new Set};function u({styleID:c}){var l;if(c!==0){const h=e.textData.styleOverrideTable.find(p=>p.styleID===c);o.fontName.add(((l=h==null?void 0:h.fontName)==null?void 0:l.fullname)||e.fontName.fullname),o.fontSize.add((h==null?void 0:h.fontSize)||e.fontSize),o.fontStyle.add((h==null?void 0:h.fontStyle)||e.fontStyle),o.textDecoration.add((h==null?void 0:h.textDecoration)||e.textDecoration)}else o.fontName.add(e.fontName.fullname),o.fontSize.add(e.fontSize),o.fontStyle.add(e.fontStyle),o.textDecoration.add(e.textDecoration)}if(t.editingText)if(n!==r)pA({start:n,end:r,textData:e.textData}).forEach(l=>{u({styleID:l.styleID})});else{const c=e.textData.characterStyleIDs[n-1]||0;u({styleID:c})}else u({styleID:0});return o}function Nf({Raptor:t,value:e}){return e==="ROUND"?t.StrokeJoin.Round:e==="BEVEL"?t.StrokeJoin.Bevel:t.StrokeJoin.Miter}function uy({paint:t,Raptor:e,leftTop:n,bottomRight:r}){const o=e.Shader.MakeLinearGradient([.5,n[1]],[.5,r[1]],t.stops.map(u=>new Float32Array(dn(u.color).toFigmaArray())),t.stops.map(u=>u.position),e.TileMode.Decal);return o.deleteLater(),o}function gA({Raptor:t,fileData:e,layer:n}){const r=new t.ParagraphStyle({textStyle:{color:t.BLACK,fontFamilies:[n.fontName.fullname],fontSize:n.fontSize},textAlign:t.TextAlign.Left}),{textStyle:o}=r;if(n.textAlignHorizontal==="LEFT"?r.textAlign=t.TextAlign.Left:n.textAlignHorizontal==="RIGHT"?r.textAlign=t.TextAlign.Right:n.textAlignHorizontal==="CENTER"&&(r.textAlign=t.TextAlign.Center),o&&cy({Raptor:t,styleData:{...n,fillPaints:[],effects:[]},fileData:e,textStyle:o}),o){const{strutStyle:u}=r;u&&(u.strutEnabled=!0,u.fontFamilies=[n.fontName.fullname],u.fontSize=o.fontSize,u.heightMultiplier=n.lineHeight.value,u.fontStyle&&(n.fontStyle==="ITALIC"?u.fontStyle.slant=t.FontSlant.Italic:u.fontStyle.slant=t.FontSlant.Oblique))}return r}function cy({Raptor:t,fileData:e,styleData:n,textStyle:r}){var o,u;r!=null&&r.fontStyle&&(n.fontStyle==="ITALIC"?r.fontStyle.slant=t.FontSlant.Italic:r.fontStyle.slant=t.FontSlant.Oblique,n.fontWeight==="BOLD"?r.fontStyle.weight=t.FontWeight.Bold:r.fontStyle.weight=t.FontWeight.Normal,n.textDecoration==="UNDERLINE"?(r.decoration=1,r.decorationStyle=t.DecorationStyle.Solid):r.decoration=0),(o=n.fillPaints)!=null&&o[0]?n.fillPaints[0].type==="SOLID"&&(r.color=[n.fillPaints[0].color.r,n.fillPaints[0].color.g,n.fillPaints[0].color.b,n.fillPaints[0].color.a]):r.color=t.TRANSPARENT,r.halfLeading=!0,n.lineHeight&&(r.heightMultiplier=n.lineHeight.value),(u=n.effects)==null||u.forEach(c=>{if(c.visible&&c.type==="DROP_SHADOW"){const l={blurRadius:e.doScale(c.radius),offset:[e.doScale(c.offset.x),e.doScale(c.offset.y)],color:dn(c.color).toFigmaArray()};r.shadows=[l]}}),r&&(n.fontName&&(r.fontFamilies=[n.fontName.fullname]),n.fontSize&&(r.fontSize=e.doScale(n.fontSize)))}function ga({Raptor:t,layer:e,paragraph:n,scale:r}){e.textAutoResize==="WIDTH_AND_HEIGHT"&&n.layout(e.width*r),e.textAutoResize==="HEIGHT"&&n.layout(e.width*r)}function mA({Raptor:t,fileData:e,layer:n,persistNewParagraph:r}){var h,p;const o={newParagraph:null,strokeList:[],shadowList:[],fillList:[]},u=hA(n),c=gA({Raptor:t,fileData:e,layer:n}),l=t.ParagraphBuilder.MakeFromFontProvider(c,e.fontProvider);if(l.deleteLater(),n.textData&&u.length>0){const b=u.map(C=>{const P=n.textData.characters.slice(C.start,C.end+1),F=n.textData.styleOverrideTable.find(z=>z.styleID===C.styleID),B=new t.TextStyle({});return cy({Raptor:t,fileData:e,styleData:{...n,...F},textStyle:B}),{start:C.start,end:C.end,blockStyle:B,text:P,fillPaints:(F==null?void 0:F.fillPaints)||n.fillPaints||[]}});l.reset(),b.forEach(C=>{C.blockStyle.shadows=void 0,l.pushStyle(C.blockStyle),l.addText(C.text)});const x=l.build();ga({Raptor:t,layer:n,paragraph:x,scale:e.scale}),r||x.deleteLater(),o.newParagraph=x;let E=0;n.fillPaints.length>E&&(E=n.fillPaints.length),n.textData.styleOverrideTable.forEach(C=>{C.fillPaints&&C.fillPaints.length>E&&(E=C.fillPaints.length)});for(let C=0;C<E;C+=1){l.reset(),b.forEach(F=>{const B=F.fillPaints[C],z=new t.Paint;if(z.deleteLater(),z.setAntiAlias(!0),B&&B.visible){if(B.type==="SOLID"&&z.setColor(dn(B.color).toFigmaArray()),B.type==="GRADIENT_LINEAR"){const ee=x.getHeight(),ne=x.getMaxWidth(),re=uy({Raptor:t,leftTop:[0,0],bottomRight:[ne,ee],paint:B});z.setShader(re)}}else z.setColor(t.TRANSPARENT);const U=new t.Paint;U.deleteLater(),U.setStyle(t.PaintStyle.Fill),U.setColor(t.TRANSPARENT),l.pushPaintStyle(F.blockStyle,z,U),l.addText(F.text)});const P=l.build();P.deleteLater(),ga({Raptor:t,layer:n,paragraph:P,scale:e.scale}),o.fillList.push({paragraph:P})}const T=n.strokePaints.length>0?n.strokeWeight:0;(h=n.strokePaints)==null||h.forEach(C=>{if(C.visible){l.reset(),b.forEach(F=>{F.blockStyle.shadows=void 0;const B=new t.Paint;B.deleteLater(),C.type==="SOLID"?B.setColor([C.color.r,C.color.g,C.color.b,C.color.a]):C.type==="GRADIENT_LINEAR"&&B.setColor(dn(C.stops[0].color).toFigmaArray()),B.setAntiAlias(!0),B.setStyle(t.PaintStyle.Stroke),B.setStrokeJoin(Nf({Raptor:t,value:n.strokeJoin})),n.strokeAlign==="CENTER"?B.setStrokeWidth(e.doScale(T)):n.strokeAlign==="INSIDE"?(B.setStrokeWidth(e.doScale(T*2)),B.setBlendMode(t.BlendMode.SrcATop)):n.strokeAlign==="OUTSIDE"&&(B.setStrokeWidth(e.doScale(T*2)),B.setBlendMode(t.BlendMode.DstATop));const z=new t.Paint;z.deleteLater(),z.setStyle(t.PaintStyle.Fill),z.setColor(t.TRANSPARENT),l.pushPaintStyle(F.blockStyle,B,z),l.addText(F.text)});const P=l.build();ga({Raptor:t,layer:n,paragraph:P,scale:e.scale}),P.deleteLater(),o.strokeList.push({paragraph:P})}}),(p=n.effects)==null||p.forEach(C=>{if(C&&C.visible===!0&&C.type==="DROP_SHADOW"){l.reset(),b.forEach(B=>{B.blockStyle.shadows=void 0;const z=new t.Paint;z.deleteLater(),z.setColor([C.color.r,C.color.g,C.color.b,C.color.a]),z.setAntiAlias(!0),z.setStyle(t.PaintStyle.Fill);const U=new t.Paint;U.deleteLater(),U.setStyle(t.PaintStyle.Fill),U.setColor(t.TRANSPARENT),l.pushPaintStyle(B.blockStyle,z,U),l.addText(B.text)});const P=l.build();ga({Raptor:t,layer:n,paragraph:P,scale:e.scale}),P.deleteLater(),l.reset(),b.forEach(B=>{B.blockStyle.shadows=void 0;const z=new t.Paint;z.deleteLater(),z.setColor([C.color.r,C.color.g,C.color.b,C.color.a]),z.setAntiAlias(!0),z.setStrokeJoin(Nf({Raptor:t,value:n.strokeJoin})),z.setStyle(t.PaintStyle.Stroke);let U=0;n.strokeAlign==="CENTER"?U=T+C.spread:n.strokeAlign==="OUTSIDE"&&(U=(T+C.spread)*2),z.setStrokeWidth(e.doScale(U));const ee=new t.Paint;ee.deleteLater(),ee.setStyle(t.PaintStyle.Fill),ee.setColor(t.TRANSPARENT),l.pushPaintStyle(B.blockStyle,z,ee),l.addText(B.text)});const F=l.build();ga({Raptor:t,layer:n,paragraph:F,scale:e.scale}),F.deleteLater(),o.shadowList.push({paragraph:P,strokedParagraph:F,offset:{x:C.offset.x,y:C.offset.y},radius:C.radius})}})}return o}function Nd({Raptor:t,fileData:e,layer:n,src:r,persistNewParagraph:o}){var p;if(!r)return mA({Raptor:t,fileData:e,layer:n,persistNewParagraph:o});const u={newParagraph:null,strokeList:[],shadowList:[],fillList:[]},{text:c}=r,l=new t.ParagraphStyle({textStyle:{color:t.BLACK}});(p=l.textStyle)!=null&&p.fontStyle&&(n.fontStyle==="ITALIC"?l.textStyle.fontStyle.slant=t.FontSlant.Italic:l.textStyle.fontStyle.slant=t.FontSlant.Oblique,n.fontWeight==="BOLD"?l.textStyle.fontStyle.weight=t.FontWeight.Bold:l.textStyle.fontStyle.weight=t.FontWeight.Normal);const h=e.fontStore.getFontInfo(n.fontName.fullname);if(h&&l.textStyle){l.textStyle.fontFamilies=[h.name],l.textStyle.fontSize=e.doScale(n.fontSize);const{strutStyle:b}=l;if(b&&(b.strutEnabled=!0,b.forceStrutHeight=!0,b.fontFamilies=[h.name],b.fontSize=l.textStyle.fontSize,b.heightMultiplier=n.lineHeight.value,b.fontStyle&&(n.fontStyle==="ITALIC"?b.fontStyle.slant=t.FontSlant.Italic:b.fontStyle.slant=t.FontSlant.Oblique)),h.fontMgr){const x=t.ParagraphBuilder.Make(l,h.fontMgr);x.deleteLater(),x.addText(c);const E=x.build();E.deleteLater(),u.newParagraph=E}}return u}function ig({fileData:t,layer:e,instanceChain:n}){const r=Jt({localStore:t.localStore,layer:e,instanceChain:n}),o={left:0,top:0,width:r.width,height:r.height};if(r.textAutoResize==="NONE")return o;const c=Nd({Raptor:t.Raptor,fileData:t,layer:e}).newParagraph;if(c){if(r.textAutoResize==="HEIGHT"){let l=0;c.getLineMetrics().forEach(p=>{l+=p.height}),o.width=r.width,o.height=l/t.scale}else if(r.textAutoResize==="WIDTH_AND_HEIGHT"){c.layout(t.doScale(1e5));let l=0;c.getLineMetrics().forEach(h=>{h.width>l&&(l=h.width)}),o.width=l/t.scale+e.fontSize/5,o.height=c.getHeight()/t.scale}}return o}let ly=null;function eR(t){ly=t}function yA(t,e){return t/1e3*e}function vA(t){return t/1e3+1.2}function wA(t,e){return t==null?void 0:t.map(n=>{const r=n.width*e/128*5;return{...n,width:r}})}function bA(t,e){return t==null?void 0:t.map(n=>({...n,width:n.width*25/512*e}))}function xA(t,e){return t==null?void 0:t.map(n=>({...n,blur:n.blur*e/128*5}))}function tR(t){const e=t,{fontSize:n,lineSpacing:r,letterSpacing:o,textGlow:u=[],textShadow:c=[],textStroke:l=[]}=t;return e.letterSpacing=yA(o,n),e.lineSpacing=vA(r),e.textGlow=bA(u,n),e.textShadow=xA(c,n),e.textStroke=wA(l,n),e}function nR(t,e,n,r=!0){const o={},u=r?uA():1;n.forEach(l=>{if(l.hidden)return;const{color:h}=mf(l.color,"rgba");o.WebkitTextStroke=`${l.width*2*u}px ${h}`});const c=[];return t.forEach(l=>{const{width:h,color:p,hidden:b}=l;b||c.push(`0 0 ${h*u}px ${mf(p,"rgba").color}`)}),e.forEach(l=>{const{color:h,x:p,y:b,blur:x,hidden:E}=l;E||c.push(`${p*u}px ${b*u}px ${x*u}px ${mf(h,"rgba").color}`)}),o.textShadow=c.join(","),o.color="transparent",o}function rR(t){return{color:"transparent"}}function iR(t){const e=ly;e&&e.getEditor()&&(e.getEditor().root.style.cssText=ay(t))}function Ca({localStore:t,layer:e,instanceChain:n,step:r}){let o=0,u=0;const c=t.getFigma();if(c){const h=ig({fileData:c.context.fileData,layer:e,instanceChain:n});o=h.width,u=h.height}else if(t.libra){const h=ig({fileData:t.libra.fileData,layer:e,instanceChain:n});o=h.width,u=h.height}else{const h=dA(e);o=h.nextWidth,u=h.nextHeight}const l=Lm(e,o,u,e.writingMode==="horizontal-tb"?"left":"right");yn({localStore:t,layer:e,instanceChain:n,data:{left:l.x,top:l.y,width:o,height:u},step:r})}function gc({localStore:t,layer:e,size:n,containerStackMode:r,instanceChain:o,step:u}){const c={};n==="Fill"?(r==="VERTICAL"?c.stackChildAlignSelf="STRETCH":r==="HORIZONTAL"&&(c.stackChildPrimaryGrow=1),e.nodeType==="TEXT"&&(c.textAutoResize="HEIGHT")):(r==="VERTICAL"?c.stackChildAlignSelf="AUTO":r==="HORIZONTAL"&&(c.stackChildPrimaryGrow=0),n==="Fixed"?(e.nodeType==="TEXT"&&(c.textAutoResize="HEIGHT"),Mn(e)==="HORIZONTAL"?c.stackPrimarySizing="FIXED":Mn(e)==="VERTICAL"&&(c.stackCounterSizing="FIXED")):n==="Hug"&&(e.nodeType==="TEXT"&&(c.textAutoResize="WIDTH_AND_HEIGHT"),Mn(e)==="HORIZONTAL"?c.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE":Mn(e)==="VERTICAL"&&(c.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"))),yn({localStore:t,layer:e,instanceChain:o,data:c,step:u}),e.nodeType==="TEXT"&&Ca({localStore:t,layer:e,step:u,instanceChain:o})}function fy({localStore:t,layer:e,size:n,containerStackMode:r,instanceChain:o,step:u}){const c={};n==="Fill"?r==="HORIZONTAL"?c.stackChildAlignSelf="STRETCH":r==="VERTICAL"&&(c.stackChildPrimaryGrow=1):(r==="VERTICAL"?c.stackChildPrimaryGrow=0:r==="HORIZONTAL"&&(c.stackChildAlignSelf="AUTO"),n==="Fixed"?Mn(e)==="VERTICAL"?c.stackPrimarySizing="FIXED":Mn(e)==="HORIZONTAL"&&(c.stackCounterSizing="FIXED"):n==="Hug"&&(Mn(e)==="VERTICAL"?c.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE":Mn(e)==="HORIZONTAL"&&(c.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"))),yn({localStore:t,layer:e,instanceChain:o,data:c,step:u})}function dy({localStore:t,layer:e,instanceChain:n}){const r=Jt({localStore:t,layer:e,instanceChain:n});if(e.nodeType==="TEXT"&&r.textAutoResize==="WIDTH_AND_HEIGHT")return"Hug";const o=Dr(t,e);if(o&&Mn(o)==="VERTICAL"&&r.stackChildAlignSelf==="STRETCH"||o&&Mn(o)==="HORIZONTAL"&&r.stackChildPrimaryGrow===1)return"Fill";if(r.stackMode==="HORIZONTAL"){if(r.stackPrimarySizing==="FIXED")return"Fixed";if(r.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}if(r.stackMode==="VERTICAL"){if(r.stackCounterSizing==="FIXED")return"Fixed";if(r.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}return"Fixed"}function SA({localStore:t,layer:e,instanceChain:n}){const r=Jt({localStore:t,layer:e,instanceChain:n}),o=Dr(t,e);if(o&&Mn(o)==="HORIZONTAL"&&r.stackChildAlignSelf==="STRETCH"||o&&Mn(o)==="VERTICAL"&&r.stackChildPrimaryGrow===1)return"Fill";if(r.stackMode==="VERTICAL"){if(r.stackPrimarySizing==="FIXED")return"Fixed";if(r.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}if(r.stackMode==="HORIZONTAL"){if(r.stackCounterSizing==="FIXED")return"Fixed";if(r.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}return"Fixed"}function oR(t,e,n){const r={Fill:!1,Hug:!1,Fixed:!0},o=Dr(t,e),u=Jt({localStore:t,layer:e,instanceChain:n});return o&&Mn(o)!=="NONE"&&u.stackPositioning!=="ABSOLUTE"&&(r.Fill=!0),Mn(e)!=="NONE"&&(r.Hug=!0),e.nodeType==="TEXT"&&(r.Hug=!0),r}function og(t){return t.stackMode==="HORIZONTAL"?{start:"left",size:"width",paddingStart:"stackPaddingLeft",paddtinEnd:"stackPaddingRight"}:{start:"top",size:"height",paddingStart:"stackPaddingTop",paddtinEnd:"stackPaddingBottom"}}function sg(t){return t.stackMode==="HORIZONTAL"?{start:"top",size:"height",paddingStart:"stackPaddingTop",paddtinEnd:"stackPaddingBottom"}:{start:"left",size:"width",paddingStart:"stackPaddingLeft",paddtinEnd:"stackPaddingRight"}}function $d({localStore:t,layer:e,instanceChain:n,options:r}){const o=[...n];if(e.nodeType==="INSTANCE"&&o[o.length-1]===e&&o.pop(),e.parentId){let u=t.getLayer(e.parentId);if(u&&u.stackMode){if(u.nodeType==="SYMBOL"){let c=o.length-1;for(;c>=0;)o[c].symbolData.symbolID.id===u.id&&(u=o[c]),c-=1}return $d({localStore:t,layer:u,instanceChain:o,options:r})}}return(e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&e.stackMode?(e.nodeType==="INSTANCE"&&o[o.length-1]!==e&&o.push(e),{layer:e,instanceChain:o}):null}function Ms({localStore:t,layer:e,instanceChain:n,step:r,options:o}){n=Yn(n,e);const u=$d({localStore:t,layer:e,instanceChain:n,options:o});u&&Oc({localStore:t,layer:u.layer,parent:null,instanceChain:u.instanceChain,data:{},constraintsMap:{},step:r,options:o})}function $f({fileData:t,localStore:e,layer:n,instanceChain:r}){return Ga(t,n).filter(o=>{const u=Jt({localStore:e,layer:o,instanceChain:Yn(r,o)});return!(!u.visible||u.stackPositioning==="ABSOLUTE")}).map(o=>({child:o,childInstanceChain:Yn(r,o),childInfo:Jt({localStore:e,layer:o,instanceChain:Yn(r,o)})}))}function EA({context:t,localStore:e,instanceChain:n,parentInstanceChain:r,parent:o,layer:u,constraintsMap:c,step:l,options:h}){n=Yn(n,u);const p=Jt({localStore:e,layer:u,instanceChain:n});let b=!1,x=!1;p.stackPrimarySizing==="FIXED"&&(b=!0),p.stackCounterSizing==="FIXED"&&(x=!0);const E=og(p),T=sg(p);if(o){const C=Jt({localStore:e,layer:o,instanceChain:r});if(p.stackChildPrimaryGrow===1&&C.stackMode!=="NONE"&&C.stackPrimarySizing!=="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"){const P=og(C);let F=C[P.size]-C[P.paddingStart]-C[P.paddtinEnd],B=0;$f({fileData:t.fileData,localStore:e,layer:o,instanceChain:r}).forEach(({childInfo:z})=>{z.stackChildPrimaryGrow!==1?F-=z[P.size]:B+=1,F-=C.stackSpacing}),F+=C.stackSpacing,yn({localStore:e,layer:u,instanceChain:n,data:{[P.size]:F/B},step:l}),P.start===E.start?b=!0:x=!0}if(p.stackChildAlignSelf==="STRETCH"){const P=sg(C);C.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"||(yn({localStore:e,layer:u,instanceChain:n,data:{[P.size]:C[P.size]-C[P.paddingStart]-C[P.paddtinEnd]},step:l}),P.start===E.start?b=!0:x=!0)}}if(p.stackMode!=="NONE"){if(u.nodeType==="FRAME"||u.nodeType==="SYMBOL"||u.nodeType==="INSTANCE"){const C=$f({localStore:e,fileData:t.fileData,layer:u,instanceChain:n});let P=0,F=0,B=0;const z=(C.length-1)*p.stackSpacing;if(C.forEach(({child:U,childInfo:ee,childInstanceChain:ne})=>{Oc({localStore:e,parent:u,layer:U,instanceChain:ne,data:{},constraintsMap:c,step:l,options:h}),ee[T.size]>P&&(P=ee[T.size]),B+=ee[E.size]}),b===!1&&p.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&p.stackPrimaryAlignItems!=="SPACE_EVENLY"&&(yn({localStore:e,layer:u,instanceChain:n,data:{[E.size]:p[E.paddingStart]+p[E.paddtinEnd]+B+z},step:l}),b=!0),x===!1&&p.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&(yn({localStore:e,layer:u,instanceChain:n,data:{[T.size]:P+p[T.paddingStart]+p[T.paddtinEnd]},step:l}),x=!0),p.stackPrimaryAlignItems==="SPACE_EVENLY"){let U=p[E.paddingStart];F=p[E.size]-p[E.paddingStart]-p[E.paddtinEnd],C.forEach(({childInfo:ee})=>{F-=ee[E.size]}),C.length>=2&&(F/=C.length-1),C.forEach(({child:ee,childInfo:ne,childInstanceChain:re},le)=>{yn({localStore:e,layer:ee,instanceChain:re,data:{[E.start]:U},step:l}),U+=ne[E.size],le<C.length-1&&(U+=F)})}else if(p.stackPrimaryAlignItems==="CENTER"&&b){let U=p[E.paddingStart];U+=(p[E.size]-p[E.paddingStart]-p[E.paddtinEnd]-B-z)/2,C.forEach(({child:ee,childInfo:ne,childInstanceChain:re})=>{yn({localStore:e,layer:ee,instanceChain:re,data:{[E.start]:U},step:l}),U+=ne[E.size],U+=p.stackSpacing})}else if(p.stackPrimaryAlignItems==="MAX"){let U=p[E.size]-p[E.paddingStart]-B-z;C.forEach(({child:ee,childInfo:ne,childInstanceChain:re})=>{yn({localStore:e,layer:ee,instanceChain:n,data:{[E.start]:U},step:l}),U+=ne[E.size],U+=p.stackSpacing})}else{let U=p[E.paddingStart];C.forEach(({child:ee,childInfo:ne,childInstanceChain:re})=>{yn({localStore:e,layer:ee,instanceChain:re,data:{[E.start]:U},step:l,options:h}),U+=ne[E.size],U+=p.stackSpacing})}C.forEach(({child:U,childInfo:ee,childInstanceChain:ne})=>{p.stackCounterAlignItems==="CENTER"?yn({localStore:e,layer:U,instanceChain:ne,data:{[T.start]:(p[T.size]-ee[T.size])/2},step:l}):p.stackCounterAlignItems==="MAX"?yn({localStore:e,layer:U,instanceChain:n,data:{[T.start]:p[T.size]-p[T.paddtinEnd]-ee[T.size]},step:l}):yn({localStore:e,layer:U,instanceChain:n,data:{[T.start]:p[T.paddingStart]},step:l})})}}}function Oc({localStore:t,layer:e,parent:n,instanceChain:r,constraintsMap:o,data:u,step:c,options:l}){const h=ri(t);if(!h)return;let p=[...r];n!==null&&(p=Yn(p,n)),r=Yn(r,e);const b=Jt({localStore:t,layer:e,instanceChain:r});if(n===null&&Id({localStore:t,layer:e,instanceChain:r,constraintsMap:o}),r[0]&&r[0]===e&&c.update({layer:r[0],data:{derivedSymbolData(x){x.length=0}}}),e.nodeType==="TEXT"&&b.textAutoResize==="WIDTH_AND_HEIGHT"){Ca({localStore:t,layer:e,step:c,instanceChain:r});return}if(yn({localStore:t,layer:e,instanceChain:r,data:u,step:c}),e.nodeType!=="SECTION"&&(EA({context:h,localStore:t,instanceChain:r,parent:n,parentInstanceChain:p,layer:e,constraintsMap:o,step:c,options:l}),e.nodeType==="TEXT"&&Ca({localStore:t,layer:e,step:c,instanceChain:r}),e.nodeType==="FRAME"&&yn({localStore:t,layer:e,instanceChain:r,data:{fillPaints(x){x.forEach(E=>{E.type==="IMAGE"&&eE(e,E.image)})}},step:c}),hy({localStore:t,room:e,instanceChain:r,map:o,step:c}),e.nodeType==="SYMBOL")){const x=Pc(h.fileData,e),E={};Ue.forEach(x,T=>{const C=$d({localStore:t,layer:T,instanceChain:[]});C&&(E[C.instanceChain.map(P=>P.id).join("--")]=C)}),Ue.forEach(E,T=>{Ms({localStore:t,layer:T.layer,instanceChain:T.instanceChain,step:c})})}}function AA(t,e,n,r){var u,c;const o=ri(t);if(o&&zm(e)){const l=Yn([],e),h={};if(e.stackMode==="HORIZONTAL"&&n==="VERTICAL"||e.stackMode==="VERTICAL"&&n==="HORIZONTAL"){const p=e.stackPrimarySizing,b=e.stackCounterSizing;e.children.forEach(x=>{const E=Yn(l,x),T=dy({localStore:t,layer:x,instanceChain:E}),C=SA({localStore:t,layer:x,instanceChain:E});gc({localStore:t,layer:x,size:T,containerStackMode:n,instanceChain:E,step:r}),fy({localStore:t,layer:x,size:C,containerStackMode:n,step:r,instanceChain:E})}),h.stackPrimarySizing=b,h.stackCounterSizing=p,e.stackPrimaryAlignItems==="SPACE_EVENLY"?(h.stackPrimaryAlignItems="SPACE_EVENLY",h.stackCounterAlignItems="MIN"):(h.stackPrimaryAlignItems=e.stackCounterAlignItems,h.stackCounterAlignItems=e.stackPrimaryAlignItems)}h.stackMode=n,yn({localStore:t,layer:e,instanceChain:l,data:h,step:r}),Ms({localStore:t,layer:e,instanceChain:l,step:r}),(c=(u=t.props).doAction)==null||c.call(u,r.getNewAction()),e.nodeType==="SYMBOL"&&xE(o,e,p=>{AA(t,p,n,r)})}}function sR({localStore:t,layer:e,value:n,instanceChain:r,step:o}){var u,c;if(Mn(e)!=="NONE"){if(n==="SPACE_EVENLY"){const l={stackPrimaryAlignItems:"SPACE_EVENLY"};e.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&(l.stackPrimarySizing="FIXED"),yn({localStore:t,layer:e,instanceChain:r,step:o,data:l})}else yn({localStore:t,layer:e,instanceChain:r,step:o,data:{stackPrimaryAlignItems:"MIN",stackSpacing:n}});Ms({localStore:t,layer:e,instanceChain:r,step:o}),(c=(u=t.props).doAction)==null||c.call(u,o.getNewAction())}}function hy({localStore:t,room:e,instanceChain:n,map:r,step:o}){const u=t.getFigma();u&&(n=Yn(n,e),Ga(u.context.fileData,e).forEach(c=>{const l=r[c.id];if(c&&l&&e){const h=Mc({localStore:t,layer:e,instanceChain:n}),p={};typeof l.left=="number"&&typeof l.right=="number"?(p.left=l.left,p.width=h.width-l.left-l.right):typeof l.right=="number"?p.left=h.width-l.right-c.width:typeof l.left=="number"&&(p.left=l.left),typeof l.top=="number"&&typeof l.bottom=="number"?(p.top=l.top,p.height=h.height-l.top-l.bottom):typeof l.bottom=="number"?p.top=h.height-l.bottom-c.height:typeof l.top=="number"&&(p.top=l.top),Oc({localStore:t,layer:c,parent:null,instanceChain:n,data:p,constraintsMap:{},step:o})}}))}function TA({localStore:t,fileData:e,layer:n,step:r,width:o,height:u}){const c=Pc(e,n);Ue.forEach(c,l=>{let h=!1;if(n.width.toFixed(1)===l.width.toFixed(1)&&n.height.toFixed(1)===l.height.toFixed(1)?h=!1:h=!0,h){const{left:p,top:b}=Lc({width:o,height:u,t:Kn(l)});r.update({layer:l,data:{left:p,top:b,width:o,height:u}})}})}function py({localStore:t,layer:e,left:n,top:r,width:o,height:u,step:c}){const l=ri(t);l?(e.nodeType==="SYMBOL"&&TA({localStore:t,fileData:l.fileData,layer:e,width:o,height:u,step:c}),e.nodeType==="INSTANCE"&&yn({localStore:t,layer:e,instanceChain:[e],data:{width:e.width,height:e.height},step:c,isResizingInstanceManually:!0}),Oc({localStore:t,layer:e,parent:null,instanceChain:[],step:c,constraintsMap:{},data:{left:n,top:r,width:o,height:u}})):c.update({layer:e,data:{left:n,top:r,width:o,height:u}})}function CA(t){return t.strokeWidth*10}function aR({localStore:t,type:e}){const n={nodeType:"svg",id:vm(),guid:t.generateGUID(),parentId:"",name:"",left:0,top:0,width:200,height:20,rotate:0,data:{type:"line",p1:{x:0,y:0},p2:{x:0,y:0},markerEnd:""},stroke:"red",strokeWidth:20,strokeLineJoin:"miter",fill:"transparent",isLocked:!1,visible:!0,shimmerAtApearance:!1,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()}};return e==="rect"&&(n.width=200,n.height=200,n.data={type:"rect"}),Fc(n),n}function Fc(t){t.data.type==="line"&&(t.height=CA(t),t.data.p1.x=0,t.data.p1.y=t.height/2,t.data.p2.x=t.width,t.data.p2.y=t.height/2),t.data.type}function gy({localStore:t,layer:e,step:n}){var r;e.parentId&&Ic(t,e,{step:n}),e.id===((r=t.selectedSingleLayer)==null?void 0:r.id)&&Ua(t,e)}function ag(t){t.layerImageHasTransition=!0,setTimeout(()=>{t.layerImageHasTransition=!1},400)}function ug({localStore:t,e}){t.menuX=e.pageX,t.menuY=e.pageY,t.menuShow=!0}function uR(t,e,n){if(e){if(t.layerWithMenuId===e.id&&t.menuShow){t.menuShow=!1;return}t.layerWithMenuId=e.id,ug({localStore:t,e:n})}else t.layerWithMenuId="",ug({localStore:t,e:n})}function my({localStore:t,layer:e,targetSize:n,origin:r,step:o}){var u,c;if(e.nodeType==="TEXT")t.editingText=!1,(r==="left"||r==="right")&&dy({localStore:t,layer:e,instanceChain:[]})==="Hug"&&o.update({layer:e,data:{textAutoResize:"HEIGHT"}}),Hi({localStore:t,layer:e,targetSize:n,origin:r,step:o}),nc(t,e,o),Ca({localStore:t,layer:e,step:o,instanceChain:[]});else if(e.nodeType==="svg")Hi({localStore:t,layer:e,targetSize:n,origin:r,step:o}),Fc(e);else if(e.nodeType==="vector")Hi({localStore:t,layer:e,targetSize:n,origin:r,step:o});else if(e.nodeType==="video")LA({localStore:t,layer:e,targetSize:n,origin:r,step:o});else if(e.nodeType==="IMAGE"||e.nodeType==="ROUNDED_RECTANGLE")cg({localStore:t,layer:e,step:o,origin:r,targetSize:n});else if(e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE"){if(nc(t,e,o),e.nodeType==="SYMBOL"){const l=t.getFigma();if(l){const h=Pc(l.context.fileData,e);Ue.forEach(h,p=>{nc(t,p,o)})}}cg({localStore:t,layer:e,step:o,origin:r,targetSize:n})}else e.nodeType==="SECTION"&&Hi({localStore:t,layer:e,targetSize:n,origin:r,step:o});gy({localStore:t,layer:e,step:o}),Ms({localStore:t,layer:e,instanceChain:[],step:o}),(c=(u=t.props).doAction)==null||c.call(u,o.getNewAction())}function cR(t,e){const n=t.selectedSingleLayer;if(n){const r=Ba(t),o=yy(t,e,n,t.resizeOriginType),u=t.resizeOriginType;my({localStore:t,layer:n,targetSize:o,origin:u,step:r})}Rd(t,e)}function _A({localStore:t,width:e,step:n}){const r=t.selectedSingleLayer;r&&(t.resizeOriginType="left",my({localStore:t,layer:r,targetSize:{x:Math.max(e,t.options.LAYER_MINIMUN_SIZE),y:r.height},origin:"left",step:n}))}function LA({localStore:t,layer:e,step:n,targetSize:r,origin:o}){const u=e.width,c=e.height;Hi({localStore:t,layer:e,origin:o,targetSize:r,step:n});const l={x:e.width/u,y:e.height/c};e.video.width*=l.x,e.video.height*=l.y}function cg({localStore:t,layer:e,step:n,targetSize:r,origin:o}){if(!e.image)Hi({localStore:t,layer:e,targetSize:r,origin:o,step:n});else if(e.image.imageScaleMode==="FILL")Hi({localStore:t,layer:e,targetSize:r,origin:o,step:n}),Bm(t,e,!0);else if(e.image.imageScaleMode==="STRETCH"&&e.image){const u=e.width,c=e.height;Hi({localStore:t,layer:e,targetSize:r,origin:o,step:n});const l={x:e.width/u,y:e.height/c};n.update({layer:e,data:{image(h){h.width*=l.x,h.imageX*=l.x,h.height*=l.y,h.imageY*=l.y}}})}}function lR(t,e,n,r){const o=Ba(t);if(e){const u=As(e);PA(t,n,e,t.resizeOriginType,o);const c=As(e);Nm(e,Mm(u,c))}}function fR(t,e,n){e.image&&(e.image.imageScaleMode==="STRETCH"?(ag(t),nE({layer:e,step:n})):(ag(t),tE(t,e,n)))}function dR(t,e,n){if(e.strokeWidth=n,e.data.type==="line"){const r=Ba(t);Fc(e),Ua(t,e),e.parentId&&Ic(t,e,{step:r})}}function nc(t,e,n){const r=e.nodeType==="INSTANCE"?[e]:[];if(t.resizeOriginType==="left"||t.resizeOriginType==="right"||t.resizeOriginType==="leftTop"||t.resizeOriginType==="leftBottom"||t.resizeOriginType==="rightTop"||t.resizeOriginType==="rightBottom"){const o=Dr(t,e);gc({localStore:t,layer:e,size:"Fixed",containerStackMode:(o==null?void 0:o.stackMode)||"NONE",instanceChain:r,step:n})}if(t.resizeOriginType==="top"||t.resizeOriginType==="bottom"||t.resizeOriginType==="leftTop"||t.resizeOriginType==="leftBottom"||t.resizeOriginType==="rightTop"||t.resizeOriginType==="rightBottom"){const o=Dr(t,e);fy({localStore:t,layer:e,size:"Fixed",containerStackMode:(o==null?void 0:o.stackMode)||"NONE",instanceChain:r,step:n})}(t.resizeOriginType==="leftTop"||t.resizeOriginType==="leftBottom"||t.resizeOriginType==="rightTop"||t.resizeOriginType==="rightBottom")&&e.nodeType==="TEXT"&&n.update({layer:e,data:{textAutoResize:"NONE"}})}function hR({localStore:t,layer:e,instanceChain:n,size:r}){var u,c;const o=Ec(t);if(console.log(r),typeof r=="number"){const l=Dr(t,e);gc({localStore:t,layer:e,size:"Fixed",containerStackMode:(l==null?void 0:l.stackMode)||"NONE",step:o,instanceChain:n}),_A({localStore:t,width:r,step:o})}else{let l="";if(r.value==="WIDTH_AND_HEIGHT"||r.value==="HEIGHT"||r.value==="NONE"?(o.update({layer:e,data:{textAutoResize:r.value}}),r.value==="WIDTH_AND_HEIGHT"?l="Hug":l="Fixed"):l=r.value,l){const h=Dr(t,e);gc({localStore:t,layer:e,size:l,containerStackMode:(h==null?void 0:h.stackMode)||"NONE",step:o,instanceChain:n}),e.nodeType==="TEXT"&&console.log(e.textAutoResize)}}Ms({localStore:t,layer:e,instanceChain:n,step:o,options:{}}),gy({localStore:t,layer:e,step:o}),(c=(u=t.props).doAction)==null||c.call(u,o.getNewAction()),Md(t)}async function pR(t,e,n){var o,u;t.editingText=!1;let r=1;t.selectedSingleLayer?r=lg(t,t.selectedSingleLayer,e,n):r=lg(t,t.bunchRectangle,e,n);try{const c=Ba(t);if(t.selectedSingleLayer){const l=t.selectedSingleLayer;fg(t,[l],r);const h=[];l.nodeType==="INSTANCE"&&h.push(l);let p={};(l.nodeType==="FRAME"||l.nodeType==="SYMBOL"||l.nodeType==="INSTANCE")&&(p=Id({localStore:t,layer:l,instanceChain:h,constraintsMap:{}})),xs(t,l,e,r,c),Ua(t,l),Ic(t,l,{step:c}),ri(t)&&nc(t,l,c),hy({localStore:t,room:l,map:p,step:c,instanceChain:h}),Ms({localStore:t,layer:l,instanceChain:h,step:c})}else fg(t,t.selectedNormalLayerList,r),xs(t,t.bunchRectangle,e,r,c),t.selectedNormalLayerList.forEach(l=>{l&&xs(t,l,e,r,c)});(u=(o=t.props).doAction)==null||u.call(o,c.getNewAction()),t.layersCanBeScaled=!0}catch(c){t.layersCanBeScaled=!1,console.warn(c)}Rd(t,n)}function lg(t,e,n,r){const o=t.getPointInContainer(r),u=mi("rotated",{x:o.x-n.x,y:o.y-n.y},Pm(As(e),n)),{width:c,height:l}=e,h=Math.sqrt(c*c+l*l),p=u.x/h;return console.log(p),p}function yy(t,e,n,r,o){const u=n,c=As(u),l=t.getPointInContainer(e),h={x:l.x-c.x,y:l.y-c.y},p=mi("rotated",h,u.rotate);let b=n.width,x=n.height;if(ri(t)){const C=Ps(t);if(C){const P=pc({type:"RESIZING",localStore:t,layer:n,x:"x",width:"width",origin:r,roomSize:{width:C.width,height:C.height}}),F=pc({type:"RESIZING",localStore:t,layer:n,x:"y",width:"height",origin:r,roomSize:{width:C.width,height:C.height}});P&&typeof P.size=="number"&&(b=P.size,t.bunchRectangleXFixed=!0),F&&typeof F.size=="number"&&(x=F.size,t.bunchRectangleYFixed=!0)}}zE(t,e,null);const{LAYER_MINIMUN_SIZE:T}=t.options;return t.bunchRectangleXFixed===!1&&(r==="left"?b=p.x+u.width/2:r==="right"&&(b=-(p.x-u.width/2))),b<T&&(b=T),t.bunchRectangleYFixed===!1&&(r==="top"?x=p.y+u.height/2:r==="bottom"&&(x=-(p.y-u.height/2))),x<T&&(x=T),{x:b,y:x}}function PA(t,e,n,r,o,u){const c=yy(t,e,n,r);Hi({localStore:t,layer:n,targetSize:c,origin:r,step:o})}function Hi({localStore:t,layer:e,targetSize:n,origin:r,step:o}){let u=e.width,c=e.height;r==="left"||r==="right"?u=n.x:(r==="top"||r==="bottom")&&(c=n.y);const l=Lm(e,u,c,r);py({localStore:t,layer:e,left:l.x,top:l.y,width:u,height:c,step:o})}function fg(t,e,n){e.forEach(r=>{vy(t,r,n)})}function vy(t,e,n){if(!(n>1)){if(e.nodeType==="TEXT"){if(e.height*n<5)throw new Error("Incoming text layer height is too small!")}else if(e.width*n<t.options.LAYER_MINIMUN_SIZE||e.height*n<t.options.LAYER_MINIMUN_SIZE)throw new Error("")}e.nodeType==="GROUP"&&e.children&&e.children.forEach(r=>{vy(t,r,n)})}function Bd(t,e,n,r,o){const u=As(e),c={x:u.x-n.x,y:u.y-n.y},l={x:c.x*r+n.x,y:c.y*r+n.y},h=e.width*r,p=e.height*r,b=l.x-h/2,x=l.y-p/2;return py({localStore:t,layer:e,left:b,top:x,width:h,height:p,step:o}),Mm(u,l)}function gR(t,e,n,r,o){const u=Bd(t,e,n,r,o);(e.nodeType==="IMAGE"||e.nodeType==="ROUNDED_RECTANGLE")&&e.image&&Nm(e,u)}function xs(t,e,n,r,o){if(Math.min(e.width*r,e.height*r)>=0&&(Bd(t,e,n,r,o),(e.nodeType==="IMAGE"||e.nodeType==="ROUNDED_RECTANGLE"||e.nodeType==="FRAME")&&e.image&&o.update({layer:e,data:{image(u){u.width*=r,u.height*=r,u.imageX*=r,u.imageY*=r}}}),e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE"?o.update({layer:e,data:{fillPaints(u){u==null||u.forEach(c=>{c.type==="IMAGE"&&(c.image.width*=r,c.image.height*=r,c.image.imageX*=r,c.image.imageY*=r)})}}}):e.nodeType==="video"?(e.video.width*=r,e.video.height*=r):e.nodeType==="svg"?Fc(e):e.nodeType==="TEXT"&&(o.update({layer:e,data:{fontSize:e.fontSize*r,strokeWeight:e.strokeWeight*r,effects(u){u.forEach(c=>{c.offset.x*=r,c.offset.y*=r,c.spread*=r,c.radius*=r})}}}),Ca({localStore:t,layer:e,instanceChain:[],step:o})),e.nodeType==="GROUP"&&e.children.length>0&&e.children.forEach(u=>xs(t,u,n,r,o)),e.nodeType==="IMAGE"&&e.extra.rectList&&e.extra.rectList.length>0&&e.extra.rectList.forEach(u=>xs(t,u,n,r,o)),e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")){const u={};e.stackPaddingLeft&&(u.stackPaddingLeft=e.stackPaddingLeft*r),e.stackPaddingRight&&(u.stackPaddingRight=e.stackPaddingRight*r),e.stackPaddingTop&&(u.stackPaddingTop=e.stackPaddingTop*r),e.stackPaddingBottom&&(u.stackPaddingBottom=e.stackPaddingBottom*r),e.stackSpacing&&(u.stackSpacing=e.stackSpacing*r),o.update({layer:e,data:u}),e.children.forEach(c=>{const l=Kn(c),h=Vo(l,n);xs(t,c,h,r,o)})}}const MA="WorkspaceView";function IA(){return{positionLeft:0,positionTop:0,workspaceScrollLeft:0,workspaceScrollTop:0,pageScale:1,toolsContainerShow:!0,navigatorShow:!1,layerSettingsContent:"main",isPageCenteredAtX:!1,isPageCenteredAtY:!1,scroll:{x:{totalLength:0,viewportLength:0,barStart:0,barLength:0},y:{totalLength:0,viewportLength:0,barStart:0,barLength:0}}}}function mR(t,e){const{workspaceState:n}=t,r=Ha(e),o=Wa(e),{width:u,height:c}=t.props.getPageSize(),l=t.getPageScale(),h=r/2+u*l/2-40;n.positionLeft>h?n.positionLeft=h:n.positionLeft<-h&&(n.positionLeft=-h);const p=o/2+c*l/2-40;n.positionTop>p?n.positionTop=p:n.positionTop<-p&&(n.positionTop=-p)}function yR({localStore:t,workspaceState:e,workspaceElement:n,safePadding:r}){const o=n||document.querySelector(`.${MA}`);if(o){const u=t.props.getPageSize(),c=Ha(o),l=Wa(o),h=r||60,p=(c-h)/u.width,b=(l-h)/u.height;let x=Math.min(p,b);Number.isNaN(x)&&(x=.3),x<.01&&(x=.01),x>4&&(x=4),e.pageScale=x,e.positionLeft=0,e.positionTop=0}}function kA(t,e,n,r){const o=xm();return o.left=e.left,o.top=e.top,o.width=e.width,o.height=e.height,Bd(t,o,n,r,J2()),o}function wy(t,e,n){const{pageMinScale:r,pageMaxScale:o}=t.options;let u=1;return e>0?(u=n*.7,u<r&&(u=r)):e<0&&(u=n*1.3,u>o&&(u=o)),u}function RA(t,e){const n=t.getPageScale(),r=wy(t,e.deltaY,n),{workspaceState:o}=t,u={left:o.positionLeft,top:o.positionTop,width:t.props.getPageSize().width*t.getPageScale(),height:t.props.getPageSize().height*t.getPageScale()},c=e.currentTarget,l=Rc(c),h=kc(c),p={x:e.pageX-l-Ha(c)/2,y:e.pageY-h-Wa(c)/2},{width:b,height:x}=t.props.getPageSize(),E=o.positionLeft+b*n/2,T=o.positionLeft-b*n/2;p.x>E?p.x=E:p.x<T&&(p.x=T);const C=o.positionTop+x*n/2,P=o.positionTop-x*n/2;p.y>C?p.y=C:p.y<P&&(p.y=P);const F=r*b/(n*b),B=kA(t,u,p,F);o.positionLeft=B.left,o.positionTop=B.top,o.pageScale=r}function vR(t,e){const n=e,{length:r}=Object.keys(t.pointerMap);if(r===1)FA({localStore:t,deltaX:-(n.touches[0].pageX-t.pointerMap[0].current.x),deltaY:-(n.touches[0].pageY-t.pointerMap[0].current.y)});else if(r===2&&n.touches.length===2){const o={x:n.touches[0].pageX,y:n.touches[0].pageY},u={x:n.touches[1].pageX,y:n.touches[1].pageY},c=Of(o,u),l=K2(o,u),h=Of(t.pointerMap[0].current,t.pointerMap[1].current),p=c-h;p!==0&&RA(t,{currentTarget:t.workspaceElement,pageX:l.x,pageY:l.y,deltaY:-p}),t.workspaceElement&&by({localStore:t,workspace:t.workspaceElement})}for(let o=0;o<n.touches.length;o+=1){const u=n.touches[o];t.pointerMap[o]=t.pointerMap[o]||{start:{x:u.pageX,y:u.pageY},current:{x:0,y:0},deltaX:0,deltaY:0};const c=t.pointerMap[o];c&&(c.deltaX=u.pageX-c.current.x,c.deltaY=u.pageY-c.current.y,c.current={x:u.pageX,y:u.pageY})}}function OA({localStore:t,workspaceState:e,pageWidth:n,pageHeight:r,workspaceWidth:o,workspaceHeight:u}){const{safePadding:c}=t.options,{pageScale:l}=e,h=n*l/2+c-o/2,p=r*l/2+c-u/2;return{minX:-h,maxX:h,minY:-p,maxY:p}}function FA({localStore:t,deltaX:e,deltaY:n}){t.workspaceState.isPageCenteredAtX===!1&&(t.workspaceState.positionLeft-=e),t.workspaceState.isPageCenteredAtY===!1&&(t.workspaceState.positionTop-=n),t.workspaceElement&&by({localStore:t,workspace:t.workspaceElement})}function by({localStore:t,workspace:e}){const{workspaceState:n}=t,r=t.getPageScale(),{width:o,height:u}=t.props.getPageSize(),c=Ha(e),l=Wa(e),{safePadding:h}=t.options,p=n.positionLeft+c/2-o*r/2,b=c/2-o*r/2-n.positionLeft;p>h&&b>h?(n.positionLeft=0,n.isPageCenteredAtX=!0):(n.isPageCenteredAtX=!1,p>=h?n.positionLeft-=p-h:b>=h&&(n.positionLeft+=b-h));const x=n.positionTop+l/2-u*r/2,E=l/2-u*r/2-n.positionTop;x>h&&E>h?(n.positionTop=0,n.isPageCenteredAtY=!0):(n.isPageCenteredAtY=!1,x>h?n.positionTop-=x-h:E>h&&(n.positionTop+=E-h));const T=OA({localStore:t,workspaceState:n,workspaceWidth:c,workspaceHeight:l,pageWidth:o,pageHeight:u});{n.scroll.x.totalLength=o*r+h*2,n.scroll.x.viewportLength=c;const C=(-n.positionLeft+T.maxX)/(T.maxX*2);n.scroll.x.barLength=n.scroll.x.viewportLength*n.scroll.x.viewportLength/n.scroll.x.totalLength,n.scroll.x.barStart=(n.scroll.x.viewportLength-n.scroll.x.barLength)*C}{n.scroll.y.totalLength=u*r+h*2,n.scroll.y.viewportLength=l;const C=(-n.positionTop+T.maxY)/(T.maxY*2);n.scroll.y.barLength=n.scroll.y.viewportLength*n.scroll.y.viewportLength/n.scroll.y.totalLength,n.scroll.y.barStart=(n.scroll.y.viewportLength-n.scroll.y.barLength)*C}}function wR(t,e,n){const r=t.getPageScale(),o=wy(t,e.deltaY,r),u=e.currentTarget,c=Rc(u),l=kc(u),{width:h,height:p}=t.props.getPageSize(),b=e.pageX-c,x=e.pageY-l,E=(b+u.scrollLeft-n)/(h*r),T=(x+u.scrollTop-n)/(p*r),C=o*h*E+n-b,P=o*p*T+n-x;t.workspaceState.pageScale=o,u.scrollLeft=C,u.scrollTop=P}function NA(t,e){let n={x:0,y:0};return t.canvasElement&&(n=ry(e,t.canvasElement),n.x+=t.viewport.x,n.y+=t.viewport.y,n.x/=t.scale,n.y/=t.scale),n}function xy({localStore:t,canvasElement:e}){const n=t.getPageScale(),r=e.width/window.devicePixelRatio/2+t.workspaceState.positionLeft-t.props.getPageSize().width*n/2,o=e.height/window.devicePixelRatio/2+t.workspaceState.positionTop-t.props.getPageSize().height*n/2;return{left:r,top:o}}function Sy(t,e){if(t.libra){let r={x:0,y:0};if(t.libra.canvasElement){const o=xy({localStore:t,canvasElement:t.libra.canvasElement});r=ry(e,t.libra.canvasElement),r.x-=o.left,r.y-=o.top,r.x/=t.getPageScale(),r.y/=t.getPageScale()}return r}const n=t.getFigma();return n?NA(n.context.fileData,e):t.getPointInPage(e)}function Nc({index:t,textData:e,paragraph:n}){const r=e.characters[t],o=n.getLineMetrics();let u=0;for(let c=0;c<o.length;c+=1){const l=o[c];if(r===`
`){if(l.endIncludingNewline-1===t){u=c;break}if(l.startIndex===t){u=c;break}}else if(t===e.characters.length){u=o.length-1;break}else l.startIndex<=t&&(u=c)}return u}function $A({textData:t,paragraph:e,index:n}){const r={total:t.characters.length,index:n,char:t.characters[n]||"",glyph:e.getGlyphInfoAt(n),lineNumber:0},o=Nc({textData:t,paragraph:e,index:n});return r.lineNumber=o,r}function bR(t,e){var o,u;const n=t.selectedSingleLayer,r=ri(t);if(r&&(n==null?void 0:n.nodeType)==="TEXT"&&n.textData){const c=Sy(t,e);if(c){const l=Jm({fileData:r.fileData,info:{type:"layer",layerId:n.id}}),h=Vo(l,c);if(r.fileData.paragraphManager.activeParagraph){const p=r.fileData.paragraphManager.activeParagraph;Dd({localStore:t,layer:n,paragraph:p,textData:n.textData,scaledX:r.fileData.doScale(h.x),scaledY:r.fileData.doScale(h.y)});const{start:b}=t.selectionInfo.textRange$,{initialSelectionIndex:x}=t.advancedTextEditor;b>x?(t.selectionInfo.textRange$.start=x,t.selectionInfo.textRange$.end=b+1):b===x?(t.selectionInfo.textRange$.start=b,t.selectionInfo.textRange$.end=b+1):(t.selectionInfo.textRange$.start=b,t.selectionInfo.textRange$.end=x)}(u=(o=t.props).doAction)==null||u.call(o,{type:"RerenderCanvas"})}}}function Ey({localStore:t,layer:e,line:n}){let r=n.width;return e.textAlignHorizontal==="RIGHT"?r=e.width*t.getPageScale():e.textAlignHorizontal==="CENTER"&&(r=e.width*t.getPageScale()/2+n.width/2),r}function Dd({localStore:t,layer:e,paragraph:n,scaledX:r,scaledY:o,textData:u}){const c=n.getClosestGlyphInfoAtCoordinate(r,o);if(c){const l=c.graphemeClusterTextRange.start,h=Nc({textData:u,paragraph:n,index:l}),p=n.getLineMetricsAt(h);if(p){const b=Ey({layer:e,line:p,localStore:t});if(r>b){let x=p.endIndex;x>=e.textData.characters.length&&e.textData.characters[e.textData.characters.length-1]===`
`&&(x=e.textData.characters.length-1),x<0&&(x=0),t.selectionInfo.textRange$.start=x,t.selectionInfo.textRange$.end=x;return}}t.selectionInfo.textRange$.start=c.graphemeClusterTextRange.start,t.selectionInfo.textRange$.end=c.graphemeClusterTextRange.start}else t.selectionInfo.textRange$.start=u.characters.length,t.selectionInfo.textRange$.end=u.characters.length}function xR({localStore:t,layer:e}){const{start:n}=t.selectionInfo.textRange$,r=ri(t);if(r&&e.textData){const o=r.fileData.paragraphManager.activeParagraph;if(o){const u=Nc({index:n,textData:e.textData,paragraph:o}),c=o.getGlyphInfoAt(n);let l=0;if(c)l=c.graphemeLayoutBounds[0];else{const p=o.getLineMetricsAt(u);p&&(l=p.width)}const h=o.getLineMetricsAt(Math.max(0,u-1));if(h){const p=h.baseline;Dd({localStore:t,layer:e,paragraph:o,textData:e.textData,scaledX:l,scaledY:p})}}}}function SR({localStore:t,layer:e}){const{start:n}=t.selectionInfo.textRange$,r=ri(t);if(r&&e.textData){const o=r.fileData.paragraphManager.activeParagraph;if(o){const u=Nc({index:n,textData:e.textData,paragraph:o});let c=u+1;c>o.getNumberOfLines()-1&&(c=o.getNumberOfLines()-1);const l=o.getGlyphInfoAt(n);if(l){const h=l.graphemeLayoutBounds[0],p=o.getLineMetricsAt(c);if(p){const b=p.baseline;console.log({name:"down",start:n,lineNumber:u,targetLineNumber:c,g:l,line:p,left:h,top:b}),Dd({localStore:t,layer:e,paragraph:o,textData:e.textData,scaledX:h,scaledY:b})}}}}}function Gd({fileData:t,layer:e,Raptor:n,instanceChain:r,options:o}){var l;const u=Jt({localStore:t.localStore,layer:e,instanceChain:r}),c={withStrokes:dg({layerInfo:u,width:u.width,height:u.height}),withShadow:dg({layerInfo:u,width:u.width,height:u.height})};return(e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&u.frameMaskDisabled!==!0||Ga(t,e).map(p=>{const b=[...r];p.nodeType==="INSTANCE"&&b.push(p);const x=Jt({localStore:t.localStore,layer:p,instanceChain:b});return{child:p,nextInstanceChain:b,relativeTransform:Kn(x)}}).forEach(({child:p,nextInstanceChain:b,relativeTransform:x})=>{const E=Gd({fileData:t,Raptor:n,layer:p,instanceChain:b,options:o});E.withStrokes=E.withStrokes.map(T=>Ta(x,T)),E.withShadow=E.withShadow.map(T=>Ta(x,T)),c.withStrokes=yf([...c.withStrokes,...E.withStrokes]),c.withShadow=yf([...c.withShadow,...E.withShadow])}),(l=u.effects)==null||l.forEach(h=>{if(h.type==="DROP_SHADOW"&&h.visible&&h.radius>0){const p=h.radius*3,b=Ue.cloneDeep(c.withStrokes);b.forEach((x,E)=>{E===0?(x.x-=p,x.y-=p):E===1?(x.x-=p,x.y+=p):E===2?(x.x+=p,x.y+=p):E===3&&(x.x+=p,x.y-=p),c.withShadow=yf([...c.withShadow,...b])})}}),c}class BA{constructor(e,n){this.lastUpdatedAt=-1,this.pathBoundsList=[],this.instanceMap={},this.relativeTransformDirty=!0,this.relativeTransform=[[1,0,0],[0,1,0],[0,0,1]],this.boundingPointsDirty=!0,this.exportPointsRectDirty=!0,this.fileData=e,this.layer=n}getRelativeTransform(){return this.relativeTransformDirty&&(this.relativeTransform=Kn(this.layer),this.relativeTransformDirty=!1),this.relativeTransform}markDirty(){this.relativeTransformDirty=!0,this.markBoundingPointsDirty(),this.markParentDirty()}markBoundingPointsDirty(){this.boundingPointsDirty=!0,this.exportPointsRectDirty=!0}markParentDirty(){const{parentId:e}=this.layer,n=this.fileData.layerAssetsMap[e];n&&(n.markBoundingPointsDirty(),n.markParentDirty())}}function dg({width:t,height:e,layerInfo:n}){let r=0,o=0,u=t,c=e;if(n.strokeGeometry.length>0){let h=0;n.strokeAlign==="CENTER"?h=n.strokeWeight/2:n.strokeAlign==="OUTSIDE"&&(h=n.strokeWeight),r=Math.min(r,r-h),o=Math.min(o,o-h),u=Math.max(u,u+h),c=Math.max(c,c+h)}return[{x:r,y:o},{x:r,y:c},{x:u,y:c},{x:u,y:o}]}function Ay(t,e){t&&e(t),t.children&&t.children.forEach(n=>{Ay(n,e)})}function DA(t,e){Ay(e,n=>{t.layerMap[n.id]=n,t.layerAssetsMap[n.id]=new BA(t,n)})}function hg(t,e){var o,u;const n=t.getLayer(e);if(n)return n;const r=(u=(o=t.props).getDocumentNode)==null?void 0:u.call(o);return r?r.id===e?r:r.children.find(c=>c.id===e)||null:null}var Ud={exports:{}},Ss=typeof Reflect=="object"?Reflect:null,pg=Ss&&typeof Ss.apply=="function"?Ss.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},rc;Ss&&typeof Ss.ownKeys=="function"?rc=Ss.ownKeys:Object.getOwnPropertySymbols?rc=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:rc=function(e){return Object.getOwnPropertyNames(e)};function GA(t){console&&console.warn&&console.warn(t)}var Ty=Number.isNaN||function(e){return e!==e};function Bt(){Bt.init.call(this)}Ud.exports=Bt;Ud.exports.once=zA;Bt.EventEmitter=Bt;Bt.prototype._events=void 0;Bt.prototype._eventsCount=0;Bt.prototype._maxListeners=void 0;var gg=10;function $c(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Bt,"defaultMaxListeners",{enumerable:!0,get:function(){return gg},set:function(t){if(typeof t!="number"||t<0||Ty(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");gg=t}});Bt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Bt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ty(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Cy(t){return t._maxListeners===void 0?Bt.defaultMaxListeners:t._maxListeners}Bt.prototype.getMaxListeners=function(){return Cy(this)};Bt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var o=e==="error",u=this._events;if(u!==void 0)o=o&&u.error===void 0;else if(!o)return!1;if(o){var c;if(n.length>0&&(c=n[0]),c instanceof Error)throw c;var l=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw l.context=c,l}var h=u[e];if(h===void 0)return!1;if(typeof h=="function")pg(h,this,n);else for(var p=h.length,b=Iy(h,p),r=0;r<p;++r)pg(b[r],this,n);return!0};function _y(t,e,n,r){var o,u,c;if($c(n),u=t._events,u===void 0?(u=t._events=Object.create(null),t._eventsCount=0):(u.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),u=t._events),c=u[e]),c===void 0)c=u[e]=n,++t._eventsCount;else if(typeof c=="function"?c=u[e]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),o=Cy(t),o>0&&c.length>o&&!c.warned){c.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=c.length,GA(l)}return t}Bt.prototype.addListener=function(e,n){return _y(this,e,n,!1)};Bt.prototype.on=Bt.prototype.addListener;Bt.prototype.prependListener=function(e,n){return _y(this,e,n,!0)};function UA(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ly(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=UA.bind(r);return o.listener=n,r.wrapFn=o,o}Bt.prototype.once=function(e,n){return $c(n),this.on(e,Ly(this,e,n)),this};Bt.prototype.prependOnceListener=function(e,n){return $c(n),this.prependListener(e,Ly(this,e,n)),this};Bt.prototype.removeListener=function(e,n){var r,o,u,c,l;if($c(n),o=this._events,o===void 0)return this;if(r=o[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(u=-1,c=r.length-1;c>=0;c--)if(r[c]===n||r[c].listener===n){l=r[c].listener,u=c;break}if(u<0)return this;u===0?r.shift():WA(r,u),r.length===1&&(o[e]=r[0]),o.removeListener!==void 0&&this.emit("removeListener",e,l||n)}return this};Bt.prototype.off=Bt.prototype.removeListener;Bt.prototype.removeAllListeners=function(e){var n,r,o;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var u=Object.keys(r),c;for(o=0;o<u.length;++o)c=u[o],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(o=n.length-1;o>=0;o--)this.removeListener(e,n[o]);return this};function Py(t,e,n){var r=t._events;if(r===void 0)return[];var o=r[e];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?HA(o):Iy(o,o.length)}Bt.prototype.listeners=function(e){return Py(this,e,!0)};Bt.prototype.rawListeners=function(e){return Py(this,e,!1)};Bt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):My.call(t,e)};Bt.prototype.listenerCount=My;function My(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Bt.prototype.eventNames=function(){return this._eventsCount>0?rc(this._events):[]};function Iy(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function WA(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function HA(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function zA(t,e){return new Promise(function(n,r){function o(c){t.removeListener(e,u),r(c)}function u(){typeof t.removeListener=="function"&&t.removeListener("error",o),n([].slice.call(arguments))}ky(t,e,u,{once:!0}),e!=="error"&&jA(t,o,{once:!0})})}function jA(t,e,n){typeof t.on=="function"&&ky(t,"error",e,n)}function ky(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(u){r.once&&t.removeEventListener(e,o),n(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var XA=Ud.exports;function yi(t){if(typeof t!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=t}typeof Symbol<"u"&&(yi.prototype[Symbol.iterator]=function(){return this});yi.of=function(){var t=arguments,e=t.length,n=0;return new yi(function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}})};yi.empty=function(){var t=new yi(function(){return{done:!0}});return t};yi.fromSequence=function(t){var e=0,n=t.length;return new yi(function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}})};yi.is=function(t){return t instanceof yi?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};var Wd=yi;const Gr=Ko(Wd);var Hd={};Hd.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";Hd.SYMBOL_SUPPORT=typeof Symbol<"u";var VA=Wd,Ry=Hd,YA=Ry.ARRAY_BUFFER_SUPPORT,KA=Ry.SYMBOL_SUPPORT;function QA(t){return typeof t=="string"||Array.isArray(t)||YA&&ArrayBuffer.isView(t)?VA.fromSequence(t):typeof t!="object"||t===null?null:KA&&typeof t[Symbol.iterator]=="function"?t[Symbol.iterator]():typeof t.next=="function"?t:null}var Oy=function(e){var n=QA(e);if(!n)throw new Error("obliterator: target is not iterable nor a valid iterator.");return n},qA=Oy,JA=function(e,n){for(var r=arguments.length>1?n:1/0,o=r!==1/0?new Array(r):[],u,c=0,l=qA(e);;){if(c===r)return o;if(u=l.next(),u.done)return c!==n&&(o.length=c),o;o[c++]=u.value}};const Fy=Ko(JA);var ZA=Wd,eT=Oy,tT=function(){var e=arguments,n=null,r=-1;return new ZA(function(){var u=null;do{if(n===null){if(r++,r>=e.length)return{done:!0};n=eT(e[r])}if(u=n.next(),u.done===!0){n=null;continue}break}while(!0);return u})};const ji=Ko(tT);function nT(){const t=arguments[0];for(let e=1,n=arguments.length;e<n;e++)if(arguments[e])for(const r in arguments[e])t[r]=arguments[e][r];return t}let Sn=nT;typeof Object.assign=="function"&&(Sn=Object.assign);function Br(t,e,n,r){const o=t._nodes.get(e);let u=null;return o&&(r==="mixed"?u=o.out&&o.out[n]||o.undirected&&o.undirected[n]:r==="directed"?u=o.out&&o.out[n]:u=o.undirected&&o.undirected[n]),u}function Dn(t){return typeof t=="object"&&t!==null}function Ny(t){let e;for(e in t)return!1;return!0}function Rr(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function qr(t,e,n){const r={enumerable:!0,configurable:!0};typeof n=="function"?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function mg(t){return!(!Dn(t)||t.attributes&&!Array.isArray(t.attributes))}function rT(){let t=Math.floor(Math.random()*256)&255;return()=>t++}class zd extends Error{constructor(e){super(),this.name="GraphError",this.message=e}}class Ne extends zd{constructor(e){super(e),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ne.prototype.constructor)}}class Me extends zd{constructor(e){super(e),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Me.prototype.constructor)}}class qe extends zd{constructor(e){super(e),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,qe.prototype.constructor)}}function $y(t,e){this.key=t,this.attributes=e,this.clear()}$y.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function By(t,e){this.key=t,this.attributes=e,this.clear()}By.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function Dy(t,e){this.key=t,this.attributes=e,this.clear()}Dy.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function Is(t,e,n,r,o){this.key=e,this.attributes=o,this.undirected=t,this.source=n,this.target=r}Is.prototype.attach=function(){let t="out",e="in";this.undirected&&(t=e="undirected");const n=this.source.key,r=this.target.key;this.source[t][r]=this,!(this.undirected&&n===r)&&(this.target[e][n]=this)};Is.prototype.attachMulti=function(){let t="out",e="in";const n=this.source.key,r=this.target.key;this.undirected&&(t=e="undirected");const o=this.source[t],u=o[r];if(typeof u>"u"){o[r]=this,this.undirected&&n===r||(this.target[e][n]=this);return}u.previous=this,this.next=u,o[r]=this,this.target[e][n]=this};Is.prototype.detach=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][e],delete this.target[r][t]};Is.prototype.detachMulti=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const Gy=0,Uy=1,iT=2,Wy=3;function Yi(t,e,n,r,o,u,c){let l,h,p,b;if(r=""+r,n===Gy){if(l=t._nodes.get(r),!l)throw new Me(`Graph.${e}: could not find the "${r}" node in the graph.`);p=o,b=u}else if(n===Wy){if(o=""+o,h=t._edges.get(o),!h)throw new Me(`Graph.${e}: could not find the "${o}" edge in the graph.`);const x=h.source.key,E=h.target.key;if(r===x)l=h.target;else if(r===E)l=h.source;else throw new Me(`Graph.${e}: the "${r}" node is not attached to the "${o}" edge (${x}, ${E}).`);p=u,b=c}else{if(h=t._edges.get(r),!h)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`);n===Uy?l=h.source:l=h.target,p=o,b=u}return[l,p,b]}function oT(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=Yi(this,e,n,r,o,u);return c.attributes[l]}}function sT(t,e,n){t.prototype[e]=function(r,o){const[u]=Yi(this,e,n,r,o);return u.attributes}}function aT(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=Yi(this,e,n,r,o,u);return c.attributes.hasOwnProperty(l)}}function uT(t,e,n){t.prototype[e]=function(r,o,u,c){const[l,h,p]=Yi(this,e,n,r,o,u,c);return l.attributes[h]=p,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:h}),this}}function cT(t,e,n){t.prototype[e]=function(r,o,u,c){const[l,h,p]=Yi(this,e,n,r,o,u,c);if(typeof p!="function")throw new Ne(`Graph.${e}: updater should be a function.`);const b=l.attributes,x=p(b[h]);return b[h]=x,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:h}),this}}function lT(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=Yi(this,e,n,r,o,u);return delete c.attributes[l],this.emit("nodeAttributesUpdated",{key:c.key,type:"remove",attributes:c.attributes,name:l}),this}}function fT(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=Yi(this,e,n,r,o,u);if(!Dn(l))throw new Ne(`Graph.${e}: provided attributes are not a plain object.`);return c.attributes=l,this.emit("nodeAttributesUpdated",{key:c.key,type:"replace",attributes:c.attributes}),this}}function dT(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=Yi(this,e,n,r,o,u);if(!Dn(l))throw new Ne(`Graph.${e}: provided attributes are not a plain object.`);return Sn(c.attributes,l),this.emit("nodeAttributesUpdated",{key:c.key,type:"merge",attributes:c.attributes,data:l}),this}}function hT(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=Yi(this,e,n,r,o,u);if(typeof l!="function")throw new Ne(`Graph.${e}: provided updater is not a function.`);return c.attributes=l(c.attributes),this.emit("nodeAttributesUpdated",{key:c.key,type:"update",attributes:c.attributes}),this}}const pT=[{name:t=>`get${t}Attribute`,attacher:oT},{name:t=>`get${t}Attributes`,attacher:sT},{name:t=>`has${t}Attribute`,attacher:aT},{name:t=>`set${t}Attribute`,attacher:uT},{name:t=>`update${t}Attribute`,attacher:cT},{name:t=>`remove${t}Attribute`,attacher:lT},{name:t=>`replace${t}Attributes`,attacher:fT},{name:t=>`merge${t}Attributes`,attacher:dT},{name:t=>`update${t}Attributes`,attacher:hT}];function gT(t){pT.forEach(function({name:e,attacher:n}){n(t,e("Node"),Gy),n(t,e("Source"),Uy),n(t,e("Target"),iT),n(t,e("Opposite"),Wy)})}function mT(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return u.attributes[o]}}function yT(t,e,n){t.prototype[e]=function(r){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+r,c=""+arguments[1];if(o=Br(this,u,c,n),!o)throw new Me(`Graph.${e}: could not find an edge for the given path ("${u}" - "${c}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return o.attributes}}function vT(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return u.attributes.hasOwnProperty(o)}}function wT(t,e,n){t.prototype[e]=function(r,o,u){let c;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+r,h=""+o;if(o=arguments[2],u=arguments[3],c=Br(this,l,h,n),!c)throw new Me(`Graph.${e}: could not find an edge for the given path ("${l}" - "${h}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,c=this._edges.get(r),!c)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return c.attributes[o]=u,this.emit("edgeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:o}),this}}function bT(t,e,n){t.prototype[e]=function(r,o,u){let c;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+r,h=""+o;if(o=arguments[2],u=arguments[3],c=Br(this,l,h,n),!c)throw new Me(`Graph.${e}: could not find an edge for the given path ("${l}" - "${h}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,c=this._edges.get(r),!c)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof u!="function")throw new Ne(`Graph.${e}: updater should be a function.`);return c.attributes[o]=u(c.attributes[o]),this.emit("edgeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:o}),this}}function xT(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return delete u.attributes[o],this.emit("edgeAttributesUpdated",{key:u.key,type:"remove",attributes:u.attributes,name:o}),this}}function ST(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Dn(o))throw new Ne(`Graph.${e}: provided attributes are not a plain object.`);return u.attributes=o,this.emit("edgeAttributesUpdated",{key:u.key,type:"replace",attributes:u.attributes}),this}}function ET(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Dn(o))throw new Ne(`Graph.${e}: provided attributes are not a plain object.`);return Sn(u.attributes,o),this.emit("edgeAttributesUpdated",{key:u.key,type:"merge",attributes:u.attributes,data:o}),this}}function AT(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof o!="function")throw new Ne(`Graph.${e}: provided updater is not a function.`);return u.attributes=o(u.attributes),this.emit("edgeAttributesUpdated",{key:u.key,type:"update",attributes:u.attributes}),this}}const TT=[{name:t=>`get${t}Attribute`,attacher:mT},{name:t=>`get${t}Attributes`,attacher:yT},{name:t=>`has${t}Attribute`,attacher:vT},{name:t=>`set${t}Attribute`,attacher:wT},{name:t=>`update${t}Attribute`,attacher:bT},{name:t=>`remove${t}Attribute`,attacher:xT},{name:t=>`replace${t}Attributes`,attacher:ST},{name:t=>`merge${t}Attributes`,attacher:ET},{name:t=>`update${t}Attributes`,attacher:AT}];function CT(t){TT.forEach(function({name:e,attacher:n}){n(t,e("Edge"),"mixed"),n(t,e("DirectedEdge"),"directed"),n(t,e("UndirectedEdge"),"undirected")})}const _T=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function LT(t,e,n,r){let o=!1;for(const u in e){if(u===r)continue;const c=e[u];if(o=n(c.key,c.attributes,c.source.key,c.target.key,c.source.attributes,c.target.attributes,c.undirected),t&&o)return c.key}}function PT(t,e,n,r){let o,u,c,l=!1;for(const h in e)if(h!==r){o=e[h];do{if(u=o.source,c=o.target,l=n(o.key,o.attributes,u.key,c.key,u.attributes,c.attributes,o.undirected),t&&l)return o.key;o=o.next}while(o!==void 0)}}function wf(t,e){const n=Object.keys(t),r=n.length;let o,u=0;return new Gr(function(){do if(o)o=o.next;else{if(u>=r)return{done:!0};const l=n[u++];if(l===e){o=void 0;continue}o=t[l]}while(!o);return{done:!1,value:{edge:o.key,attributes:o.attributes,source:o.source.key,target:o.target.key,sourceAttributes:o.source.attributes,targetAttributes:o.target.attributes,undirected:o.undirected}}})}function MT(t,e,n,r){const o=e[n];if(!o)return;const u=o.source,c=o.target;if(r(o.key,o.attributes,u.key,c.key,u.attributes,c.attributes,o.undirected)&&t)return o.key}function IT(t,e,n,r){let o=e[n];if(!o)return;let u=!1;do{if(u=r(o.key,o.attributes,o.source.key,o.target.key,o.source.attributes,o.target.attributes,o.undirected),t&&u)return o.key;o=o.next}while(o!==void 0)}function bf(t,e){let n=t[e];return n.next!==void 0?new Gr(function(){if(!n)return{done:!0};const r={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:r}}):Gr.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function kT(t,e){if(t.size===0)return[];if(e==="mixed"||e===t.type)return typeof Array.from=="function"?Array.from(t._edges.keys()):Fy(t._edges.keys(),t._edges.size);const n=e==="undirected"?t.undirectedSize:t.directedSize,r=new Array(n),o=e==="undirected",u=t._edges.values();let c=0,l,h;for(;l=u.next(),l.done!==!0;)h=l.value,h.undirected===o&&(r[c++]=h.key);return r}function Hy(t,e,n,r){if(e.size===0)return;const o=n!=="mixed"&&n!==e.type,u=n==="undirected";let c,l,h=!1;const p=e._edges.values();for(;c=p.next(),c.done!==!0;){if(l=c.value,o&&l.undirected!==u)continue;const{key:b,attributes:x,source:E,target:T}=l;if(h=r(b,x,E.key,T.key,E.attributes,T.attributes,l.undirected),t&&h)return b}}function RT(t,e){if(t.size===0)return Gr.empty();const n=e!=="mixed"&&e!==t.type,r=e==="undirected",o=t._edges.values();return new Gr(function(){let c,l;for(;;){if(c=o.next(),c.done)return c;if(l=c.value,!(n&&l.undirected!==r))break}return{value:{edge:l.key,attributes:l.attributes,source:l.source.key,target:l.target.key,sourceAttributes:l.source.attributes,targetAttributes:l.target.attributes,undirected:l.undirected},done:!1}})}function jd(t,e,n,r,o,u){const c=e?PT:LT;let l;if(n!=="undirected"&&(r!=="out"&&(l=c(t,o.in,u),t&&l)||r!=="in"&&(l=c(t,o.out,u,r?void 0:o.key),t&&l))||n!=="directed"&&(l=c(t,o.undirected,u),t&&l))return l}function OT(t,e,n,r){const o=[];return jd(!1,t,e,n,r,function(u){o.push(u)}),o}function FT(t,e,n){let r=Gr.empty();return t!=="undirected"&&(e!=="out"&&typeof n.in<"u"&&(r=ji(r,wf(n.in))),e!=="in"&&typeof n.out<"u"&&(r=ji(r,wf(n.out,e?void 0:n.key)))),t!=="directed"&&typeof n.undirected<"u"&&(r=ji(r,wf(n.undirected))),r}function Xd(t,e,n,r,o,u,c){const l=n?IT:MT;let h;if(e!=="undirected"&&(typeof o.in<"u"&&r!=="out"&&(h=l(t,o.in,u,c),t&&h)||typeof o.out<"u"&&r!=="in"&&(r||o.key!==u)&&(h=l(t,o.out,u,c),t&&h))||e!=="directed"&&typeof o.undirected<"u"&&(h=l(t,o.undirected,u,c),t&&h))return h}function NT(t,e,n,r,o){const u=[];return Xd(!1,t,e,n,r,o,function(c){u.push(c)}),u}function $T(t,e,n,r){let o=Gr.empty();return t!=="undirected"&&(typeof n.in<"u"&&e!=="out"&&r in n.in&&(o=ji(o,bf(n.in,r))),typeof n.out<"u"&&e!=="in"&&r in n.out&&(e||n.key!==r)&&(o=ji(o,bf(n.out,r)))),t!=="directed"&&typeof n.undirected<"u"&&r in n.undirected&&(o=ji(o,bf(n.undirected,r))),o}function BT(t,e){const{name:n,type:r,direction:o}=e;t.prototype[n]=function(u,c){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];if(!arguments.length)return kT(this,r);if(arguments.length===1){u=""+u;const l=this._nodes.get(u);if(typeof l>"u")throw new Me(`Graph.${n}: could not find the "${u}" node in the graph.`);return OT(this.multi,r==="mixed"?this.type:r,o,l)}if(arguments.length===2){u=""+u,c=""+c;const l=this._nodes.get(u);if(!l)throw new Me(`Graph.${n}:  could not find the "${u}" source node in the graph.`);if(!this._nodes.has(c))throw new Me(`Graph.${n}:  could not find the "${c}" target node in the graph.`);return NT(r,this.multi,o,l,c)}throw new Ne(`Graph.${n}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function DT(t,e){const{name:n,type:r,direction:o}=e,u="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(p,b,x){if(!(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)){if(arguments.length===1)return x=p,Hy(!1,this,r,x);if(arguments.length===2){p=""+p,x=b;const E=this._nodes.get(p);if(typeof E>"u")throw new Me(`Graph.${u}: could not find the "${p}" node in the graph.`);return jd(!1,this.multi,r==="mixed"?this.type:r,o,E,x)}if(arguments.length===3){p=""+p,b=""+b;const E=this._nodes.get(p);if(!E)throw new Me(`Graph.${u}:  could not find the "${p}" source node in the graph.`);if(!this._nodes.has(b))throw new Me(`Graph.${u}:  could not find the "${b}" target node in the graph.`);return Xd(!1,r,this.multi,o,E,b,x)}throw new Ne(`Graph.${u}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const c="map"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){const p=Array.prototype.slice.call(arguments),b=p.pop();let x;if(p.length===0){let E=0;r!=="directed"&&(E+=this.undirectedSize),r!=="undirected"&&(E+=this.directedSize),x=new Array(E);let T=0;p.push((C,P,F,B,z,U,ee)=>{x[T++]=b(C,P,F,B,z,U,ee)})}else x=[],p.push((E,T,C,P,F,B,z)=>{x.push(b(E,T,C,P,F,B,z))});return this[u].apply(this,p),x};const l="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[l]=function(){const p=Array.prototype.slice.call(arguments),b=p.pop(),x=[];return p.push((E,T,C,P,F,B,z)=>{b(E,T,C,P,F,B,z)&&x.push(E)}),this[u].apply(this,p),x};const h="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[h]=function(){let p=Array.prototype.slice.call(arguments);if(p.length<2||p.length>4)throw new Ne(`Graph.${h}: invalid number of arguments (expecting 2, 3 or 4 and got ${p.length}).`);if(typeof p[p.length-1]=="function"&&typeof p[p.length-2]!="function")throw new Ne(`Graph.${h}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let b,x;p.length===2?(b=p[0],x=p[1],p=[]):p.length===3?(b=p[1],x=p[2],p=[p[0]]):p.length===4&&(b=p[2],x=p[3],p=[p[0],p[1]]);let E=x;return p.push((T,C,P,F,B,z,U)=>{E=b(E,T,C,P,F,B,z,U)}),this[u].apply(this,p),E}}function GT(t,e){const{name:n,type:r,direction:o}=e,u="find"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(h,p,b){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return!1;if(arguments.length===1)return b=h,Hy(!0,this,r,b);if(arguments.length===2){h=""+h,b=p;const x=this._nodes.get(h);if(typeof x>"u")throw new Me(`Graph.${u}: could not find the "${h}" node in the graph.`);return jd(!0,this.multi,r==="mixed"?this.type:r,o,x,b)}if(arguments.length===3){h=""+h,p=""+p;const x=this._nodes.get(h);if(!x)throw new Me(`Graph.${u}:  could not find the "${h}" source node in the graph.`);if(!this._nodes.has(p))throw new Me(`Graph.${u}:  could not find the "${p}" target node in the graph.`);return Xd(!0,r,this.multi,o,x,p,b)}throw new Ne(`Graph.${u}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const c="some"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[c]=function(){const h=Array.prototype.slice.call(arguments),p=h.pop();return h.push((x,E,T,C,P,F,B)=>p(x,E,T,C,P,F,B)),!!this[u].apply(this,h)};const l="every"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[l]=function(){const h=Array.prototype.slice.call(arguments),p=h.pop();return h.push((x,E,T,C,P,F,B)=>!p(x,E,T,C,P,F,B)),!this[u].apply(this,h)}}function UT(t,e){const{name:n,type:r,direction:o}=e,u=n.slice(0,-1)+"Entries";t.prototype[u]=function(c,l){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return Gr.empty();if(!arguments.length)return RT(this,r);if(arguments.length===1){c=""+c;const h=this._nodes.get(c);if(!h)throw new Me(`Graph.${u}: could not find the "${c}" node in the graph.`);return FT(r,o,h)}if(arguments.length===2){c=""+c,l=""+l;const h=this._nodes.get(c);if(!h)throw new Me(`Graph.${u}:  could not find the "${c}" source node in the graph.`);if(!this._nodes.has(l))throw new Me(`Graph.${u}:  could not find the "${l}" target node in the graph.`);return $T(r,o,h,l)}throw new Ne(`Graph.${u}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function WT(t){_T.forEach(e=>{BT(t,e),DT(t,e),GT(t,e),UT(t,e)})}const HT=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Bc(){this.A=null,this.B=null}Bc.prototype.wrap=function(t){this.A===null?this.A=t:this.B===null&&(this.B=t)};Bc.prototype.has=function(t){return this.A!==null&&t in this.A||this.B!==null&&t in this.B};function ma(t,e,n,r,o){for(const u in r){const c=r[u],l=c.source,h=c.target,p=l===n?h:l;if(e&&e.has(p.key))continue;const b=o(p.key,p.attributes);if(t&&b)return p.key}}function Vd(t,e,n,r,o){if(e!=="mixed"){if(e==="undirected")return ma(t,null,r,r.undirected,o);if(typeof n=="string")return ma(t,null,r,r[n],o)}const u=new Bc;let c;if(e!=="undirected"){if(n!=="out"){if(c=ma(t,null,r,r.in,o),t&&c)return c;u.wrap(r.in)}if(n!=="in"){if(c=ma(t,u,r,r.out,o),t&&c)return c;u.wrap(r.out)}}if(e!=="directed"&&(c=ma(t,u,r,r.undirected,o),t&&c))return c}function zT(t,e,n){if(t!=="mixed"){if(t==="undirected")return Object.keys(n.undirected);if(typeof e=="string")return Object.keys(n[e])}const r=[];return Vd(!1,t,e,n,function(o){r.push(o)}),r}function ya(t,e,n){const r=Object.keys(n),o=r.length;let u=0;return new Gr(function(){let l=null;do{if(u>=o)return t&&t.wrap(n),{done:!0};const h=n[r[u++]],p=h.source,b=h.target;if(l=p===e?b:p,t&&t.has(l.key)){l=null;continue}}while(l===null);return{done:!1,value:{neighbor:l.key,attributes:l.attributes}}})}function jT(t,e,n){if(t!=="mixed"){if(t==="undirected")return ya(null,n,n.undirected);if(typeof e=="string")return ya(null,n,n[e])}let r=Gr.empty();const o=new Bc;return t!=="undirected"&&(e!=="out"&&(r=ji(r,ya(o,n,n.in))),e!=="in"&&(r=ji(r,ya(o,n,n.out)))),t!=="directed"&&(r=ji(r,ya(o,n,n.undirected))),r}function XT(t,e){const{name:n,type:r,direction:o}=e;t.prototype[n]=function(u){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];u=""+u;const c=this._nodes.get(u);if(typeof c>"u")throw new Me(`Graph.${n}: could not find the "${u}" node in the graph.`);return zT(r==="mixed"?this.type:r,o,c)}}function VT(t,e){const{name:n,type:r,direction:o}=e,u="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(p,b){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;p=""+p;const x=this._nodes.get(p);if(typeof x>"u")throw new Me(`Graph.${u}: could not find the "${p}" node in the graph.`);Vd(!1,r==="mixed"?this.type:r,o,x,b)};const c="map"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(p,b){const x=[];return this[u](p,(E,T)=>{x.push(b(E,T))}),x};const l="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[l]=function(p,b){const x=[];return this[u](p,(E,T)=>{b(E,T)&&x.push(E)}),x};const h="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[h]=function(p,b,x){if(arguments.length<3)throw new Ne(`Graph.${h}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let E=x;return this[u](p,(T,C)=>{E=b(E,T,C)}),E}}function YT(t,e){const{name:n,type:r,direction:o}=e,u=n[0].toUpperCase()+n.slice(1,-1),c="find"+u;t.prototype[c]=function(p,b){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;p=""+p;const x=this._nodes.get(p);if(typeof x>"u")throw new Me(`Graph.${c}: could not find the "${p}" node in the graph.`);return Vd(!0,r==="mixed"?this.type:r,o,x,b)};const l="some"+u;t.prototype[l]=function(p,b){return!!this[c](p,b)};const h="every"+u;t.prototype[h]=function(p,b){return!this[c](p,(E,T)=>!b(E,T))}}function KT(t,e){const{name:n,type:r,direction:o}=e,u=n.slice(0,-1)+"Entries";t.prototype[u]=function(c){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return Gr.empty();c=""+c;const l=this._nodes.get(c);if(typeof l>"u")throw new Me(`Graph.${u}: could not find the "${c}" node in the graph.`);return jT(r==="mixed"?this.type:r,o,l)}}function QT(t){HT.forEach(e=>{XT(t,e),VT(t,e),YT(t,e),KT(t,e)})}function Xu(t,e,n,r,o){const u=r._nodes.values(),c=r.type;let l,h,p,b,x,E;for(;l=u.next(),l.done!==!0;){let T=!1;if(h=l.value,c!=="undirected"){b=h.out;for(p in b){x=b[p];do E=x.target,T=!0,o(h.key,E.key,h.attributes,E.attributes,x.key,x.attributes,x.undirected),x=x.next;while(x)}}if(c!=="directed"){b=h.undirected;for(p in b)if(!(e&&h.key>p)){x=b[p];do E=x.target,E.key!==p&&(E=x.source),T=!0,o(h.key,E.key,h.attributes,E.attributes,x.key,x.attributes,x.undirected),x=x.next;while(x)}}n&&!T&&o(h.key,null,h.attributes,null,null,null,null)}}function qT(t,e){const n={key:t};return Ny(e.attributes)||(n.attributes=Sn({},e.attributes)),n}function JT(t,e,n){const r={key:e,source:n.source.key,target:n.target.key};return Ny(n.attributes)||(r.attributes=Sn({},n.attributes)),t==="mixed"&&n.undirected&&(r.undirected=!0),r}function ZT(t){if(!Dn(t))throw new Ne('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in t))throw new Ne("Graph.import: serialized node is missing its key.");if("attributes"in t&&(!Dn(t.attributes)||t.attributes===null))throw new Ne("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function eC(t){if(!Dn(t))throw new Ne('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in t))throw new Ne("Graph.import: serialized edge is missing its source.");if(!("target"in t))throw new Ne("Graph.import: serialized edge is missing its target.");if("attributes"in t&&(!Dn(t.attributes)||t.attributes===null))throw new Ne("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in t&&typeof t.undirected!="boolean")throw new Ne("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const tC=rT(),nC=new Set(["directed","undirected","mixed"]),yg=new Set(["domain","_events","_eventsCount","_maxListeners"]),rC=[{name:t=>`${t}Edge`,generateKey:!0},{name:t=>`${t}DirectedEdge`,generateKey:!0,type:"directed"},{name:t=>`${t}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:t=>`${t}EdgeWithKey`},{name:t=>`${t}DirectedEdgeWithKey`,type:"directed"},{name:t=>`${t}UndirectedEdgeWithKey`,type:"undirected"}],iC={allowSelfLoops:!0,multi:!1,type:"mixed"};function oC(t,e,n){if(n&&!Dn(n))throw new Ne(`Graph.addNode: invalid attributes. Expecting an object but got "${n}"`);if(e=""+e,n=n||{},t._nodes.has(e))throw new qe(`Graph.addNode: the "${e}" node already exist in the graph.`);const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function vg(t,e,n){const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function zy(t,e,n,r,o,u,c,l){if(!r&&t.type==="undirected")throw new qe(`Graph.${e}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(r&&t.type==="directed")throw new qe(`Graph.${e}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(l&&!Dn(l))throw new Ne(`Graph.${e}: invalid attributes. Expecting an object but got "${l}"`);if(u=""+u,c=""+c,l=l||{},!t.allowSelfLoops&&u===c)throw new qe(`Graph.${e}: source & target are the same ("${u}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const h=t._nodes.get(u),p=t._nodes.get(c);if(!h)throw new Me(`Graph.${e}: source node "${u}" not found.`);if(!p)throw new Me(`Graph.${e}: target node "${c}" not found.`);const b={key:null,undirected:r,source:u,target:c,attributes:l};if(n)o=t._edgeKeyGenerator();else if(o=""+o,t._edges.has(o))throw new qe(`Graph.${e}: the "${o}" edge already exists in the graph.`);if(!t.multi&&(r?typeof h.undirected[c]<"u":typeof h.out[c]<"u"))throw new qe(`Graph.${e}: an edge linking "${u}" to "${c}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const x=new Is(r,o,h,p,l);t._edges.set(o,x);const E=u===c;return r?(h.undirectedDegree++,p.undirectedDegree++,E&&(h.undirectedLoops++,t._undirectedSelfLoopCount++)):(h.outDegree++,p.inDegree++,E&&(h.directedLoops++,t._directedSelfLoopCount++)),t.multi?x.attachMulti():x.attach(),r?t._undirectedSize++:t._directedSize++,b.key=o,t.emit("edgeAdded",b),o}function sC(t,e,n,r,o,u,c,l,h){if(!r&&t.type==="undirected")throw new qe(`Graph.${e}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(r&&t.type==="directed")throw new qe(`Graph.${e}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(l){if(h){if(typeof l!="function")throw new Ne(`Graph.${e}: invalid updater function. Expecting a function but got "${l}"`)}else if(!Dn(l))throw new Ne(`Graph.${e}: invalid attributes. Expecting an object but got "${l}"`)}u=""+u,c=""+c;let p;if(h&&(p=l,l=void 0),!t.allowSelfLoops&&u===c)throw new qe(`Graph.${e}: source & target are the same ("${u}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let b=t._nodes.get(u),x=t._nodes.get(c),E,T;if(!n&&(E=t._edges.get(o),E)){if((E.source.key!==u||E.target.key!==c)&&(!r||E.source.key!==c||E.target.key!==u))throw new qe(`Graph.${e}: inconsistency detected when attempting to merge the "${o}" edge with "${u}" source & "${c}" target vs. ("${E.source.key}", "${E.target.key}").`);T=E}if(!T&&!t.multi&&b&&(T=r?b.undirected[c]:b.out[c]),T){const z=[T.key,!1,!1,!1];if(h?!p:!l)return z;if(h){const U=T.attributes;T.attributes=p(U),t.emit("edgeAttributesUpdated",{type:"replace",key:T.key,attributes:T.attributes})}else Sn(T.attributes,l),t.emit("edgeAttributesUpdated",{type:"merge",key:T.key,attributes:T.attributes,data:l});return z}l=l||{},h&&p&&(l=p(l));const C={key:null,undirected:r,source:u,target:c,attributes:l};if(n)o=t._edgeKeyGenerator();else if(o=""+o,t._edges.has(o))throw new qe(`Graph.${e}: the "${o}" edge already exists in the graph.`);let P=!1,F=!1;b||(b=vg(t,u,{}),P=!0,u===c&&(x=b,F=!0)),x||(x=vg(t,c,{}),F=!0),E=new Is(r,o,b,x,l),t._edges.set(o,E);const B=u===c;return r?(b.undirectedDegree++,x.undirectedDegree++,B&&(b.undirectedLoops++,t._undirectedSelfLoopCount++)):(b.outDegree++,x.inDegree++,B&&(b.directedLoops++,t._directedSelfLoopCount++)),t.multi?E.attachMulti():E.attach(),r?t._undirectedSize++:t._directedSize++,C.key=o,t.emit("edgeAdded",C),[o,!0,P,F]}function ys(t,e){t._edges.delete(e.key);const{source:n,target:r,attributes:o}=e,u=e.undirected,c=n===r;u?(n.undirectedDegree--,r.undirectedDegree--,c&&(n.undirectedLoops--,t._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,c&&(n.directedLoops--,t._directedSelfLoopCount--)),t.multi?e.detachMulti():e.detach(),u?t._undirectedSize--:t._directedSize--,t.emit("edgeDropped",{key:e.key,attributes:o,source:n.key,target:r.key,undirected:u})}class Gt extends XA.EventEmitter{constructor(e){if(super(),e=Sn({},iC,e),typeof e.multi!="boolean")throw new Ne(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${e.multi}".`);if(!nC.has(e.type))throw new Ne(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${e.type}".`);if(typeof e.allowSelfLoops!="boolean")throw new Ne(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${e.allowSelfLoops}".`);const n=e.type==="mixed"?$y:e.type==="directed"?By:Dy;Rr(this,"NodeDataClass",n);const r="geid_"+tC()+"_";let o=0;const u=()=>{let c;do c=r+o++;while(this._edges.has(c));return c};Rr(this,"_attributes",{}),Rr(this,"_nodes",new Map),Rr(this,"_edges",new Map),Rr(this,"_directedSize",0),Rr(this,"_undirectedSize",0),Rr(this,"_directedSelfLoopCount",0),Rr(this,"_undirectedSelfLoopCount",0),Rr(this,"_edgeKeyGenerator",u),Rr(this,"_options",e),yg.forEach(c=>Rr(this,c,this[c])),qr(this,"order",()=>this._nodes.size),qr(this,"size",()=>this._edges.size),qr(this,"directedSize",()=>this._directedSize),qr(this,"undirectedSize",()=>this._undirectedSize),qr(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),qr(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),qr(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),qr(this,"multi",this._options.multi),qr(this,"type",this._options.type),qr(this,"allowSelfLoops",this._options.allowSelfLoops),qr(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(e){return this._nodes.has(""+e)}hasDirectedEdge(e,n){if(this.type==="undirected")return!1;if(arguments.length===1){const r=""+e,o=this._edges.get(r);return!!o&&!o.undirected}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?r.out.hasOwnProperty(n):!1}throw new Ne(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(e,n){if(this.type==="directed")return!1;if(arguments.length===1){const r=""+e,o=this._edges.get(r);return!!o&&o.undirected}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?r.undirected.hasOwnProperty(n):!1}throw new Ne(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(e,n){if(arguments.length===1){const r=""+e;return this._edges.has(r)}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?typeof r.out<"u"&&r.out.hasOwnProperty(n)||typeof r.undirected<"u"&&r.undirected.hasOwnProperty(n):!1}throw new Ne(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(e,n){if(this.type==="undirected")return;if(e=""+e,n=""+n,this.multi)throw new qe("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const r=this._nodes.get(e);if(!r)throw new Me(`Graph.directedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Me(`Graph.directedEdge: could not find the "${n}" target node in the graph.`);const o=r.out&&r.out[n]||void 0;if(o)return o.key}undirectedEdge(e,n){if(this.type==="directed")return;if(e=""+e,n=""+n,this.multi)throw new qe("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const r=this._nodes.get(e);if(!r)throw new Me(`Graph.undirectedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Me(`Graph.undirectedEdge: could not find the "${n}" target node in the graph.`);const o=r.undirected&&r.undirected[n]||void 0;if(o)return o.key}edge(e,n){if(this.multi)throw new qe("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.edge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Me(`Graph.edge: could not find the "${n}" target node in the graph.`);const o=r.out&&r.out[n]||r.undirected&&r.undirected[n]||void 0;if(o)return o.key}areDirectedNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areDirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.in||n in r.out}areOutNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areOutNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.out}areInNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areInNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.in}areUndirectedNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areUndirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="directed"?!1:n in r.undirected}areNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&(n in r.in||n in r.out)||this.type!=="directed"&&n in r.undirected}areInboundNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areInboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&n in r.in||this.type!=="directed"&&n in r.undirected}areOutboundNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areOutboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&n in r.out||this.type!=="directed"&&n in r.undirected}inDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.inDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree}outDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.outDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.outDegree}directedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.directedDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree}undirectedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.undirectedDegree: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree}inboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.inboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree),r}outboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.outboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.outDegree),r}degree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.degree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree),r}inDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.inDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree-n.directedLoops}outDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.outDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.outDegree-n.directedLoops}directedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.directedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree-n.directedLoops*2}undirectedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree-n.undirectedLoops*2}inboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,o=0;return this.type!=="directed"&&(r+=n.undirectedDegree,o+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree,o+=n.directedLoops),r-o}outboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,o=0;return this.type!=="directed"&&(r+=n.undirectedDegree,o+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.outDegree,o+=n.directedLoops),r-o}degreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.degreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,o=0;return this.type!=="directed"&&(r+=n.undirectedDegree,o+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree,o+=n.directedLoops*2),r-o}source(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.source: could not find the "${e}" edge in the graph.`);return n.source.key}target(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.target: could not find the "${e}" edge in the graph.`);return n.target.key}extremities(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.extremities: could not find the "${e}" edge in the graph.`);return[n.source.key,n.target.key]}opposite(e,n){e=""+e,n=""+n;const r=this._edges.get(n);if(!r)throw new Me(`Graph.opposite: could not find the "${n}" edge in the graph.`);const o=r.source.key,u=r.target.key;if(e===o)return u;if(e===u)return o;throw new Me(`Graph.opposite: the "${e}" node is not attached to the "${n}" edge (${o}, ${u}).`)}hasExtremity(e,n){e=""+e,n=""+n;const r=this._edges.get(e);if(!r)throw new Me(`Graph.hasExtremity: could not find the "${e}" edge in the graph.`);return r.source.key===n||r.target.key===n}isUndirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.isUndirected: could not find the "${e}" edge in the graph.`);return n.undirected}isDirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.isDirected: could not find the "${e}" edge in the graph.`);return!n.undirected}isSelfLoop(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.isSelfLoop: could not find the "${e}" edge in the graph.`);return n.source===n.target}addNode(e,n){return oC(this,e,n).key}mergeNode(e,n){if(n&&!Dn(n))throw new Ne(`Graph.mergeNode: invalid attributes. Expecting an object but got "${n}"`);e=""+e,n=n||{};let r=this._nodes.get(e);return r?(n&&(Sn(r.attributes,n),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:r.attributes,data:n})),[e,!1]):(r=new this.NodeDataClass(e,n),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:n}),[e,!0])}updateNode(e,n){if(n&&typeof n!="function")throw new Ne(`Graph.updateNode: invalid updater function. Expecting a function but got "${n}"`);e=""+e;let r=this._nodes.get(e);if(r){if(n){const u=r.attributes;r.attributes=n(u),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:r.attributes})}return[e,!1]}const o=n?n({}):{};return r=new this.NodeDataClass(e,o),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:o}),[e,!0]}dropNode(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.dropNode: could not find the "${e}" node in the graph.`);let r;if(this.type!=="undirected"){for(const o in n.out){r=n.out[o];do ys(this,r),r=r.next;while(r)}for(const o in n.in){r=n.in[o];do ys(this,r),r=r.next;while(r)}}if(this.type!=="directed")for(const o in n.undirected){r=n.undirected[o];do ys(this,r),r=r.next;while(r)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:n.attributes})}dropEdge(e){let n;if(arguments.length>1){const r=""+arguments[0],o=""+arguments[1];if(n=Br(this,r,o,this.type),!n)throw new Me(`Graph.dropEdge: could not find the "${r}" -> "${o}" edge in the graph.`)}else if(e=""+e,n=this._edges.get(e),!n)throw new Me(`Graph.dropEdge: could not find the "${e}" edge in the graph.`);return ys(this,n),this}dropDirectedEdge(e,n){if(arguments.length<2)throw new qe("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new qe("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");e=""+e,n=""+n;const r=Br(this,e,n,"directed");if(!r)throw new Me(`Graph.dropDirectedEdge: could not find a "${e}" -> "${n}" edge in the graph.`);return ys(this,r),this}dropUndirectedEdge(e,n){if(arguments.length<2)throw new qe("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new qe("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const r=Br(this,e,n,"undirected");if(!r)throw new Me(`Graph.dropUndirectedEdge: could not find a "${e}" -> "${n}" edge in the graph.`);return ys(this,r),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const e=this._nodes.values();let n;for(;n=e.next(),n.done!==!0;)n.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(e){return this._attributes[e]}getAttributes(){return this._attributes}hasAttribute(e){return this._attributes.hasOwnProperty(e)}setAttribute(e,n){return this._attributes[e]=n,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}updateAttribute(e,n){if(typeof n!="function")throw new Ne("Graph.updateAttribute: updater should be a function.");const r=this._attributes[e];return this._attributes[e]=n(r),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}removeAttribute(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this}replaceAttributes(e){if(!Dn(e))throw new Ne("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(e){if(!Dn(e))throw new Ne("Graph.mergeAttributes: provided attributes are not a plain object.");return Sn(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this}updateAttributes(e){if(typeof e!="function")throw new Ne("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(e,n){if(typeof e!="function")throw new Ne("Graph.updateEachNodeAttributes: expecting an updater function.");if(n&&!mg(n))throw new Ne("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._nodes.values();let o,u;for(;o=r.next(),o.done!==!0;)u=o.value,u.attributes=e(u.key,u.attributes);this.emit("eachNodeAttributesUpdated",{hints:n||null})}updateEachEdgeAttributes(e,n){if(typeof e!="function")throw new Ne("Graph.updateEachEdgeAttributes: expecting an updater function.");if(n&&!mg(n))throw new Ne("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._edges.values();let o,u,c,l;for(;o=r.next(),o.done!==!0;)u=o.value,c=u.source,l=u.target,u.attributes=e(u.key,u.attributes,c.key,l.key,c.attributes,l.attributes,u.undirected);this.emit("eachEdgeAttributesUpdated",{hints:n||null})}forEachAdjacencyEntry(e){if(typeof e!="function")throw new Ne("Graph.forEachAdjacencyEntry: expecting a callback.");Xu(!1,!1,!1,this,e)}forEachAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new Ne("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");Xu(!1,!1,!0,this,e)}forEachAssymetricAdjacencyEntry(e){if(typeof e!="function")throw new Ne("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");Xu(!1,!0,!1,this,e)}forEachAssymetricAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new Ne("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");Xu(!1,!0,!0,this,e)}nodes(){return typeof Array.from=="function"?Array.from(this._nodes.keys()):Fy(this._nodes.keys(),this._nodes.size)}forEachNode(e){if(typeof e!="function")throw new Ne("Graph.forEachNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)o=r.value,e(o.key,o.attributes)}findNode(e){if(typeof e!="function")throw new Ne("Graph.findNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)if(o=r.value,e(o.key,o.attributes))return o.key}mapNodes(e){if(typeof e!="function")throw new Ne("Graph.mapNode: expecting a callback.");const n=this._nodes.values();let r,o;const u=new Array(this.order);let c=0;for(;r=n.next(),r.done!==!0;)o=r.value,u[c++]=e(o.key,o.attributes);return u}someNode(e){if(typeof e!="function")throw new Ne("Graph.someNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)if(o=r.value,e(o.key,o.attributes))return!0;return!1}everyNode(e){if(typeof e!="function")throw new Ne("Graph.everyNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)if(o=r.value,!e(o.key,o.attributes))return!1;return!0}filterNodes(e){if(typeof e!="function")throw new Ne("Graph.filterNodes: expecting a callback.");const n=this._nodes.values();let r,o;const u=[];for(;r=n.next(),r.done!==!0;)o=r.value,e(o.key,o.attributes)&&u.push(o.key);return u}reduceNodes(e,n){if(typeof e!="function")throw new Ne("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new Ne("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let r=n;const o=this._nodes.values();let u,c;for(;u=o.next(),u.done!==!0;)c=u.value,r=e(r,c.key,c.attributes);return r}nodeEntries(){const e=this._nodes.values();return new Gr(()=>{const n=e.next();if(n.done)return n;const r=n.value;return{value:{node:r.key,attributes:r.attributes},done:!1}})}export(){const e=new Array(this._nodes.size);let n=0;this._nodes.forEach((o,u)=>{e[n++]=qT(u,o)});const r=new Array(this._edges.size);return n=0,this._edges.forEach((o,u)=>{r[n++]=JT(this.type,u,o)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:r}}import(e,n=!1){if(e instanceof Gt)return e.forEachNode((h,p)=>{n?this.mergeNode(h,p):this.addNode(h,p)}),e.forEachEdge((h,p,b,x,E,T,C)=>{n?C?this.mergeUndirectedEdgeWithKey(h,b,x,p):this.mergeDirectedEdgeWithKey(h,b,x,p):C?this.addUndirectedEdgeWithKey(h,b,x,p):this.addDirectedEdgeWithKey(h,b,x,p)}),this;if(!Dn(e))throw new Ne("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!Dn(e.attributes))throw new Ne("Graph.import: invalid attributes. Expecting a plain object.");n?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}let r,o,u,c,l;if(e.nodes){if(u=e.nodes,!Array.isArray(u))throw new Ne("Graph.import: invalid nodes. Expecting an array.");for(r=0,o=u.length;r<o;r++){c=u[r],ZT(c);const{key:h,attributes:p}=c;n?this.mergeNode(h,p):this.addNode(h,p)}}if(e.edges){let h=!1;if(this.type==="undirected"&&(h=!0),u=e.edges,!Array.isArray(u))throw new Ne("Graph.import: invalid edges. Expecting an array.");for(r=0,o=u.length;r<o;r++){l=u[r],eC(l);const{source:p,target:b,attributes:x,undirected:E=h}=l;let T;"key"in l?(T=n?E?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:E?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,T.call(this,l.key,p,b,x)):(T=n?E?this.mergeUndirectedEdge:this.mergeDirectedEdge:E?this.addUndirectedEdge:this.addDirectedEdge,T.call(this,p,b,x))}}return this}nullCopy(e){const n=new Gt(Sn({},this._options,e));return n.replaceAttributes(Sn({},this.getAttributes())),n}emptyCopy(e){const n=this.nullCopy(e);return this._nodes.forEach((r,o)=>{const u=Sn({},r.attributes);r=new n.NodeDataClass(o,u),n._nodes.set(o,r)}),n}copy(e){if(e=e||{},typeof e.type=="string"&&e.type!==this.type&&e.type!=="mixed")throw new qe(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${e.type}" because this would mean losing information about the current graph.`);if(typeof e.multi=="boolean"&&e.multi!==this.multi&&e.multi!==!0)throw new qe("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof e.allowSelfLoops=="boolean"&&e.allowSelfLoops!==this.allowSelfLoops&&e.allowSelfLoops!==!0)throw new qe("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const n=this.emptyCopy(e),r=this._edges.values();let o,u;for(;o=r.next(),o.done!==!0;)u=o.value,zy(n,"copy",!1,u.undirected,u.key,u.source.key,u.target.key,Sn({},u.attributes));return n}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const e={};this._nodes.forEach((u,c)=>{e[c]=u.attributes});const n={},r={};this._edges.forEach((u,c)=>{const l=u.undirected?"--":"->";let h="",p=u.source.key,b=u.target.key,x;u.undirected&&p>b&&(x=p,p=b,b=x);const E=`(${p})${l}(${b})`;c.startsWith("geid_")?this.multi&&(typeof r[E]>"u"?r[E]=0:r[E]++,h+=`${r[E]}. `):h+=`[${c}]: `,h+=E,n[h]=u.attributes});const o={};for(const u in this)this.hasOwnProperty(u)&&!yg.has(u)&&typeof this[u]!="function"&&typeof u!="symbol"&&(o[u]=this[u]);return o.attributes=this._attributes,o.nodes=e,o.edges=n,Rr(o,"constructor",this.constructor),o}}typeof Symbol<"u"&&(Gt.prototype[Symbol.for("nodejs.util.inspect.custom")]=Gt.prototype.inspect);rC.forEach(t=>{["add","merge","update"].forEach(e=>{const n=t.name(e),r=e==="add"?zy:sC;t.generateKey?Gt.prototype[n]=function(o,u,c){return r(this,n,!0,(t.type||this.type)==="undirected",null,o,u,c,e==="update")}:Gt.prototype[n]=function(o,u,c,l){return r(this,n,!1,(t.type||this.type)==="undirected",o,u,c,l,e==="update")}})});gT(Gt);CT(Gt);WT(Gt);QT(Gt);class jy extends Gt{constructor(e){const n=Sn({type:"directed"},e);if("multi"in n&&n.multi!==!1)throw new Ne("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="directed")throw new Ne('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Xy extends Gt{constructor(e){const n=Sn({type:"undirected"},e);if("multi"in n&&n.multi!==!1)throw new Ne("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="undirected")throw new Ne('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Yd extends Gt{constructor(e){const n=Sn({multi:!0},e);if("multi"in n&&n.multi!==!0)throw new Ne("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(n)}}class Vy extends Gt{constructor(e){const n=Sn({type:"directed",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new Ne("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="directed")throw new Ne('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Yy extends Gt{constructor(e){const n=Sn({type:"undirected",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new Ne("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="undirected")throw new Ne('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}function ks(t){t.from=function(e,n){const r=Sn({},e.options,n),o=new t(r);return o.import(e),o}}ks(Gt);ks(jy);ks(Xy);ks(Yd);ks(Vy);ks(Yy);Gt.Graph=Gt;Gt.DirectedGraph=jy;Gt.UndirectedGraph=Xy;Gt.MultiGraph=Yd;Gt.MultiDirectedGraph=Vy;Gt.MultiUndirectedGraph=Yy;Gt.InvalidArgumentsGraphError=Ne;Gt.NotFoundGraphError=Me;Gt.UsageGraphError=qe;var aC=function(e){return e!==null&&typeof e=="object"&&typeof e.addUndirectedEdgeWithKey=="function"&&typeof e.dropNode=="function"&&typeof e.multi=="boolean"};function qo(t){this.graph=t,this.stack=new Array(t.order),this.seen=new Set,this.size=0}qo.prototype.hasAlreadySeenEverything=function(){return this.seen.size===this.graph.order};qo.prototype.countUnseenNodes=function(){return this.graph.order-this.seen.size};qo.prototype.forEachNodeYetUnseen=function(t){var e=this.seen,n=this.graph;n.someNode(function(r,o){if(e.size===n.order)return!0;if(e.has(r))return!1;var u=t(r,o);return!!u})};qo.prototype.has=function(t){return this.seen.has(t)};qo.prototype.push=function(t){var e=this.seen.size;return this.seen.add(t),e===this.seen.size?!1:(this.stack[this.size++]=t,!0)};qo.prototype.pushWith=function(t,e){var n=this.seen.size;return this.seen.add(t),n===this.seen.size?!1:(this.stack[this.size++]=e,!0)};qo.prototype.pop=function(){if(this.size!==0)return this.stack[--this.size]};var uC=aC;function cC(t){if(!uC(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!t.order)return[];if(t.type==="undirected")throw new Error("graphology-components: the given graph is undirected");var e=t.nodes(),n=[],r,o;if(!t.size){for(r=0,o=e.length;r<o;r++)n.push([e[r]]);return n}var u=1,c=[],l=[],h=new Map,p=new Set,b,x,E,T=function(C){var P,F=t.outboundNeighbors(C),B;h.set(C,u++),c.push(C),l.push(C);for(var z=0,U=F.length;z<U;z++)if(P=F[z],h.has(P)){if(B=h.get(P),!p.has(P))for(;h.get(c[c.length-1])>B;)c.pop()}else T(P);if(h.get(c[c.length-1])===h.get(C)){b=[];do x=l.pop(),b.push(x),p.add(x);while(x!==C);n.push(b),c.pop()}};for(r=0,o=e.length;r<o;r++)E=e[r],p.has(E)||T(E);return n}var lC=cC;function fC({vectorData:t,localStore:e}){var c;const n=e.getFigma(),r=new Yd;t.vectorNetwork.vertices.forEach((l,h)=>{r.addNode(h)}),t.vectorNetwork.segments.forEach((l,h)=>{r.addUndirectedEdge(l.start.vertex,l.end.vertex,{})});const o=lC(r);if((c=e.vectorEditor)==null||c.closedPathList.forEach(l=>{l.delete()}),e.vectorEditor={graph:r,closedPathList:[]},!n)return;const{Raptor:u}=n.context;console.log({componentList:o}),o.forEach(l=>{var h;if(l.length>1){const p=new u.Path;l.reverse(),l.forEach((b,x)=>{const E=t.vectorNetwork.vertices[b],T=t.vectorNetwork.vertices[l[x+1]];if(x===0&&p.moveTo(E.x,E.y),E&&T){const C=dC({vectorData:t,startVid:b,endVid:l[x+1]});C&&(C.start.dx===0&&C.start.dy===0&&C.end.dx===0&&C.end.dy===0?p.lineTo(C.end.x,C.end.dy):p.cubicTo(C.start.x+C.start.dx,C.start.y+C.start.dy,C.end.x+C.end.dx,C.end.y+C.end.dy,C.end.x,C.end.y))}}),p.close(),(h=e.vectorEditor)==null||h.closedPathList.push(p)}})}function dC({vectorData:t,startVid:e,endVid:n}){let r=null;if(t.vectorNetwork.segments.forEach(o=>{`${o.start.vertex}`===e&&`${o.end.vertex}`===n&&(r=o)}),r!==null){const o=t.vectorNetwork.vertices[e],u=t.vectorNetwork.vertices[n];return{start:{x:o.x,y:o.y,dx:r.start.dx,dy:r.start.dy},end:{x:u.x,y:u.y,dx:r.end.dx,dy:r.end.dy}}}return null}function va({layer:t,normalizedPoint:e}){return t.width===0?e:{x:e.x/t.vectorData.normalizedSize.x*t.width,y:e.y/t.vectorData.normalizedSize.y*t.height}}function ER({layer:t,localPoint:e}){return t.width===0?e:{x:t.vectorData.normalizedSize.x/t.width*e.x,y:t.vectorData.normalizedSize.y/t.height*e.y}}function hC(t){const{vertices:e,segments:n}=t.vectorNetwork;let r=1/0,o=-1/0,u=1/0,c=-1/0;return e.forEach(l=>{r=Math.min(r,l.x),o=Math.max(o,l.x),u=Math.min(u,l.y),c=Math.max(c,l.y)}),n.forEach(l=>{const h=e[l.start.vertex],p=e[l.end.vertex];if(!(l.start.dx===0&&l.start.dy===0&&l.end.dx===0&&l.end.dy===0)){const b=Im(h.x,h.y,h.x+l.start.dx,h.y+l.start.dy,p.x+l.end.dx,p.y+l.end.dy,p.x,p.y);r=Math.min(r,b.min.x),o=Math.max(o,b.max.x),u=Math.min(u,b.min.y),c=Math.max(c,b.max.y)}}),{left:r,right:o,top:u,bottom:c,x:o-r,y:c-u}}function AR(t){const{vertices:e,segments:n}=t.vectorNetwork;let r=0,o=0,u=0,c=0;return e.forEach(l=>{l.x<0&&(r=Math.min(r,l.x)),l.x>0&&(o=Math.max(o,l.x)),l.y<0&&(u=Math.min(u,l.y)),l.y>0&&(c=Math.max(c,l.y))}),n.forEach(l=>{const h=e[l.start.vertex],p=e[l.end.vertex];if(!(l.start.dx===0&&l.start.dy===0&&l.end.dx===0&&l.end.dy===0)){const b=Im(h.x,h.y,h.x+l.start.dx,h.y+l.start.dy,p.x+l.end.dx,p.y+l.end.dy,p.x,p.y);r=Math.min(r,b.min.x),o=Math.max(o,b.max.x),u=Math.min(u,b.min.y),c=Math.max(c,b.max.y)}}),{left:r,right:o,top:u,bottom:c,x:o-r,y:c-u}}function TR({localStore:t,layer:e,step:n}){if((e==null?void 0:e.nodeType)==="vector"&&e.width&&e.height){const r=hC(e.vectorData),o=e.width/e.vectorData.normalizedSize.x,u=e.height/e.vectorData.normalizedSize.y,c=r.x*o,l=r.y*u,h=r.left,p=r.top,b=Kn(e),x=Ta(b,{x:h*o,y:p*u}),E=Cm({x:x.x,y:x.y,width:c,height:l,rotate:e.rotate});t.segmentCandidate&&(t.segmentCandidate.startVertex.x-=h,t.segmentCandidate.startVertex.y-=p,t.segmentCandidate.endVertex.x-=h,t.segmentCandidate.endVertex.y-=p),n.update({layer:e,data:{width:c,height:l,left:E.left,top:E.top,vectorData(T){T.vectorNetwork.vertices.forEach(C=>{C.x-=h,C.y-=p}),T.normalizedSize={...r}}}}),fC({vectorData:e.vectorData,localStore:t})}}const pC=20;function CR(t){t.currentStatus="playingTimeline"}function gC(t){if(t.timelineInterval===null){ir(t,{type:"clear"}),t.currentTime>=t.timelineMax&&(t.currentTime=0);let e=new Date().getTime();t.timelineInterval=setInterval(()=>{const n=new Date().getTime();t.currentTime+=n-e,e=n,t.currentTime>=t.timelineMax&&(t.currentTime=t.timelineMax,mC(t))},10)}}function mC(t){t.currentStatus=""}function yC(t){t.timelineInterval!==null&&clearInterval(t.timelineInterval),t.timelineInterval=null}function _R(t,e){e.stopPropagation(),t.currentStatus="movingTimelineNeedle",jE(t,e)}function LR(t,e){const r=(e.pageX-t.pointerX)/pC*1e3;t.currentTime+=r,t.currentTime<0&&(t.currentTime=0),ir(t,{type:"clear"}),Rd(t,e)}function PR(t){var n;const e=(n=t.timeline)==null?void 0:n.entrance;if(e){if(e.type==="slideIn"){if(e.from==="left")return[{translateX:-t.width,opacity:0,duration:0},{translateX:-t.width,opacity:0,duration:0},{translateX:0,opacity:1}];if(e.from==="right")return[{translateX:t.width,opacity:0,duration:0},{translateX:t.width,opacity:0,duration:0},{translateX:0,opacity:1}]}if(e.type==="zoomIn")return[{opacity:0,scaleX:.3,scaleY:.3,scaleZ:.3,duration:0},{opacity:0,scaleX:.3,scaleY:.3,scaleZ:.3,duration:0},{opacity:1,scaleX:1,scaleY:1,scaleZ:1}]}return[]}function MR(t){var n;const e=(n=t.timeline)==null?void 0:n.exit;return e&&e.type==="rotateOut"?[{rotateZ:0,opacity:1,duration:0},{rotateZ:0,opacity:1,duration:0},{rotateZ:"200deg",opacity:0}]:[]}var vC=Object.defineProperty,wC=Object.getOwnPropertyDescriptor,Dc=(t,e,n,r)=>{for(var o=r>1?void 0:r?wC(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&vC(e,n,o),o};class Gc{constructor(e,n){this.stepIdIndex=-1,this.maxStepLength=50,this.stepCursor=-1,this.stepList=[],Na(this),this.getState=e,typeof n=="number"&&(this.maxStepLength=n)}save(e){this.stepIdIndex+=1;const n=this.stepIdIndex;this.stepCursor<this.stepList.length-1&&(this.stepList=this.stepList.slice(0,this.stepCursor+1)),this.stepList.push({id:n,...e,resultSnapshot:Ue.cloneDeep(this.getState())}),this.stepCursor+=1,this.stepList.length>this.maxStepLength&&(this.stepList.shift(),this.stepCursor-=1)}undo(){if(this.canUndo){const e=this.stepList[this.stepCursor-1];Object.assign(this.getState(),Ue.cloneDeep(e.resultSnapshot)),this.stepCursor-=1}}redo(){if(this.canRedo){const e=this.stepList[this.stepCursor+1];e&&Object.assign(this.getState(),Ue.cloneDeep(e.resultSnapshot)),this.stepCursor+=1}}record(e){this.save({name:e,redo:()=>{},undo:()=>{}})}cancelRecordsByCursor(e){const n=this.stepList[e];n&&(Object.assign(this.getState(),Ue.cloneDeep(n.resultSnapshot)),this.stepCursor=e,this.stepList.splice(e+1,this.stepList.length-1))}clearRecords(){this.stepList=[],this.stepCursor=-1}get canUndo(){return this.stepCursor>0}get canRedo(){return this.stepCursor<this.stepList.length-1}}Dc([He],Gc.prototype,"stepCursor",2);Dc([He],Gc.prototype,"stepList",2);Dc([mt],Gc.prototype,"canUndo",1);Dc([mt],Gc.prototype,"canRedo",1);var bC=Object.defineProperty,xC=Object.getOwnPropertyDescriptor,Kd=(t,e,n,r)=>{for(var o=r>1?void 0:r?xC(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&bC(e,n,o),o};function IR(t){return`clip-path-${t.id}`}class Qd{constructor({localStore:e,getPage:n,getGridCollageInfo:r}){this.activePointDotKey="",this.localStore=e,this.getPage=n,this.getGridCollageInfo=r,Na(this)}get isActive(){return this.getGridCollageInfo().subType==="POLYGONS"}updateActivePointDot(e){const n=this.getPage().pointPercentMap[this.activePointDotKey];Object.assign(n,e),this.getPage().imageLayerList.forEach(r=>{this.updateLayerSize(r)})}get pointMap(){const e={};return Ue.forEach(this.getPage().pointPercentMap,(n,r)=>{e[r]={x:n.x*this.getPage().width,y:n.y*this.getPage().height}}),e}updateLayerSize(e){const n=$a(this.getPointList(e));Object.assign(e,n),Bm(this.localStore,e)}getPointList(e){return e.extra.polygonPointIdList.map(n=>n==="leftTop"?{x:0,y:0}:n==="rightTop"?{x:this.getPage().width,y:0}:n==="leftBottom"?{x:0,y:this.getPage().height}:n==="rightBottom"?{x:this.getPage().width,y:this.getPage().height}:this.pointMap[n])}}Kd([mt],Qd.prototype,"isActive",1);Kd([He],Qd.prototype,"activePointDotKey",2);Kd([mt],Qd.prototype,"pointMap",1);function SC(t){return S2({get hasAnchorPoints(){var n;return!(((n=t.selectedSingleLayer)==null?void 0:n.nodeType)==="svg"&&t.selectedSingleLayer.data.type==="line")},get hasTopBottomBar(){return!(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="TEXT"&&t.selectedSingleLayer.writingMode==="horizontal-tb"||t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="svg"&&t.selectedSingleLayer.data.type==="line")},get hasLeftRightBar(){return!(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="TEXT"&&t.selectedSingleLayer.writingMode==="vertical-rl")}})}var EC=Object.defineProperty,AC=Object.getOwnPropertyDescriptor,Uc=(t,e,n,r)=>{for(var o=r>1?void 0:r?AC(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&EC(e,n,o),o};class za{constructor(e,n){this.maxStepLength=50,this.stepCursor=0,this.stepList=[{}],this.localStore=e,Na(this),typeof n=="number"&&(this.maxStepLength=n)}undo(){var e,n;if(this.canUndo){const r=this.stepList[this.stepCursor];this.restoreSelectionInfo(r,r.getOldState().selectionInfo),Object.keys(r.oldState.nodeMap).forEach(o=>{const u=hg(this.localStore,o),c=this.localStore.getFigma();u?wg({localStore:this.localStore,fileData:c==null?void 0:c.context.fileData,layer:u,data:r.oldState.nodeMap[o]}):console.log("Node may already be deleted")}),(n=(e=this.localStore.props).doAction)==null||n.call(e,r.getOldAction()),this.stepCursor-=1}}redo(){var e,n;if(this.canRedo){const r=this.stepList[this.stepCursor+1];r&&(this.restoreSelectionInfo(r,r.getNewState().selectionInfo),Object.keys(r.newState.nodeMap).forEach(o=>{const u=hg(this.localStore,o),c=this.localStore.getFigma();u&&wg({localStore:this.localStore,fileData:c==null?void 0:c.context.fileData,layer:u,data:r.newState.nodeMap[o]})}),(n=(e=this.localStore.props).doAction)==null||n.call(e,r.getNewAction()),this.stepCursor+=1)}}restoreSelectionInfo(e,n){n?Object.assign(this.localStore.selectionInfo,Ue.cloneDeep(n)):ir(this.localStore,{type:"clear"})}record(){this.localStore.currentStep!==null&&(this.stepCursor<this.stepList.length-1&&(this.stepList=this.stepList.slice(0,this.stepCursor+1)),this.localStore.currentStep.getNewState().selectionInfo=Ue.cloneDeep(this.localStore.selectionInfo),this.stepList.push(this.localStore.currentStep),this.stepCursor+=1,this.stepList.length>this.maxStepLength&&(this.stepList.shift(),this.stepCursor-=1),console.log(this.localStore.currentStep),this.localStore.currentStep=null)}resetHistory(){this.stepList=[{}],this.stepCursor=0}get canUndo(){return this.stepCursor>0}get canRedo(){return this.stepCursor<this.stepList.length-1}}Uc([He],za.prototype,"stepCursor",2);Uc([He],za.prototype,"stepList",2);Uc([mt],za.prototype,"canUndo",1);Uc([mt],za.prototype,"canRedo",1);function wg({localStore:t,fileData:e,layer:n,data:r}){const o=n;Object.keys(r).forEach(u=>{var l,h;const c=u;if(c==="life"){const p=r[c];if(p!=null&&p.$value){if(o.nodeType==="DOCUMENT")p.$value.type==="replacePage"&&(o.children[0]=Ue.cloneDeep(p.$value.newPage));else if(p.$value.type==="createChildren"){const{newLayers:b,isGrouping:x}=p.$value;if(x&&Object.keys(b).length!==1)throw new Error("Fault");if(e)Ue.forEach(b,E=>{const T=Ue.cloneDeep(E);let C=[];x&&(C=T.children.map(P=>P.id),T.children=[]),DA(e,T),x&&(T.children=vf(t,C),T.children.forEach(P=>{P.parentId=T.id}))}),n.children=vf(t,p.$value.children);else{if(n.nodeType==="DOCUMENT")throw new Error;const E=Ue.keyBy(n.children,"id");n.children=p.$value.children.map(T=>{if(E[T])return E[T];if(b[T])return Ue.cloneDeep(b[T]);throw new Error(`child layer ${T} not found`)})}}else if(p.$value.type==="delete"){const{deletedNodes:b,children:x,isGrouping:E}=p.$value;if(E&&Object.keys(b).length!==1)throw new Error("Fault");if(e)Ue.forEach(b,(T,C)=>{const P=$r(e,C);P&&(E&&(P.children=[]),Ym(e,P))}),n.children=vf(t,p.$value.children);else{const T={};if(n.nodeType==="DOCUMENT")throw new Error;n.children.forEach(P=>{T[P.id]=P,b[P.id]&&P.nodeType==="GROUP"&&P.children.forEach(F=>{T[F.id]=F})});const C=[];x.forEach(P=>{T[P]&&C.push(T[P])}),n.children=C}n.children.forEach(T=>{T.parentId=n.id})}}}else if(c==="children")(l=r.children)!=null&&l.$value&&(n.children=bE({localStore:t,idList:r.children.$value}));else{const p=r[c];typeof((h=r[c])==null?void 0:h.$value)<"u"?n[c]=p==null?void 0:p.$value:n[c]=void 0}})}var TC=Object.defineProperty,CC=Object.getOwnPropertyDescriptor,Le=(t,e,n,r)=>{for(var o=r>1?void 0:r?CC(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&TC(e,n,o),o};class Pe{constructor({getNormalLayerList:e,props:n}){this.history=new za(this),this.currentStep=null,this.getSelectedLayerIdList=()=>this.selectionInfo.selectedLayerIdList,this.getFigma=()=>null,this.libra=null,this.interval=null,this.isFullyFunctional=!0,this.eraserPathCanvas=null,this.cursor="",this.currentFontList=[],this.computed=SC(this),this.currentTool="MoveTool",this.currentStatus="",this.currentTime=0,this.timelineInterval=null,this.workspaceState=IA(),this.workspaceExists=!0,this.workspaceElement=null,this.layersShimmering=!1,this.controlKeyUnderPress=!1,this.layerWithMenuId="",this.layerUnderDraggingId="",this.layerUnderCropping=null,this.layersCanBeScaled=!0,this.layerListInClipboard=[],this.editingText=!1,this.advancedTextEditor={initialSelectionIndex:0,inputText:{compositionText:"",start:0},inputElement:null,inputMode:"single"},this.editingVector=null,this.vectorEditor=null,this.pointerDownX=0,this.pointerDownY=0,this.pointerDownOnRightSide=!1,this.pointerMoved=!1,this.pointerX=0,this.pointerY=0,this.pointerCurrentAngle=0,this.pointerAppliedAngle=0,this.pointerDownOnLayerId="",this.pointerMap={},this.pointerTarget$$=null,this.bunchRectangleRotationFixed=!1,this.pointerRayLengthInPage=0,this.appliedPointX=0,this.appliedPointY=0,this.bunchRectangleXFixed=!1,this.bunchRectangleYFixed=!1,this.interceptionInfo={total:0,currentPosition:0,prevID:"",nextID:"",list:[]},this.pointerDownScalePercent=100,this.resizeTransformOrigin={x:0,y:0},this.resizeOriginType="leftTop",this.resizeAndKeepRatio=!0,this.menuShow=!1,this.menuX=0,this.menuY=0,this.operatingOn={vertexIndex:0},this.bunchRectangleInMagneticField=!1,this.selectionRectStartPoint=null,this.selectionRectEndPoint={x:0,y:0},this.selectionRectExists=!1,this.layerResolvedFrameMap={},this.layerImageHasTransition=!1,this.overlappedLayerIdMap={},this.helperLineList=[],this.helperRectList=[],this.textLayerOutOfPage=!1,this.currentToolsContainer=null,this.filterState={candidateFilterId:"",candidateFilterGroupName:"",candidateFilterTypeId:"",candidateFilterInfo:null,filterPercent:0,filterSucceed:!1},this.state={eraserVisualDiam:50,eraserShadowBlurPercent:0,eraserPathColor:"rgba(253, 93, 125)",lastSwappedLayerId:""},this.options={renderer:"dom",safePadding:30,hasBasicOverlays:!0,hasGridPanels:!1,hasActiveOverlay:!0,hasLayerRotator:!0,hasLayerShortBars:!0,showOverlays:!0,canScalePage:!0,pageMaxScale:4,pageMinScale:.15,thumbnailMaxWidth:88,thumbnailMaxHeight:122,layerOutlineColor:"#80A3FF",LAYER_MINIMUN_SIZE:20,strokePathOverflow:"hidden",applyMagneticEffect:!0,helperRectColor:"purple",helperLineColor:"#a569bd",useTextEditor:"QUILL_EDITOR",hasTimeline:!1,ignoreRootFrames:!1,enableEnterAndLeaveRoom:!1},this.shortcutMap={"Meta + c":()=>{},"Meta + x":()=>{},"Meta + v":()=>{},"Meta + g":()=>{},"Meta + Z":()=>{},"Shift + Meta + Z":()=>{},"Shift + Meta + g":()=>{},"Alt + Meta + ArrowDown":()=>{},"Alt + Meta + ArrowUp":()=>{},"Shift + Meta + ArrowDown":()=>{},"Shift + Meta + ArrowUp":()=>{},Escape:()=>{},Backspace:()=>{},Delete:()=>{}},this.lastClickedAt=0,this.sessionID=0,this.localID=0,this.renderCount=0,this.getNormalLayerList=e,this.props=n,Na(this),Hu(()=>this.getSelectedLayerIdList().join("--")+this.selectionInfo.selectedLeafLayerId,()=>{var r;this.editingText=!1,((r=this.selectedSingleLayer)==null?void 0:r.nodeType)==="vector"||(this.editingVector=null),vE(this)}),Hu(()=>this.currentStatus,(r,o)=>{r==="playingTimeline"?gC(this):o==="playingTimeline"&&yC(this)}),Hu(()=>this.editingText,()=>{this.editingText===!1&&this.textLayerOutOfPage===!0&&(this.workspaceExists=!1,setTimeout(()=>{this.workspaceExists=!0},0),this.textLayerOutOfPage=!1)}),Hu(()=>this.usedFontMap,()=>{this.currentFontList=[]})}getLayer(e){const n=this.getFigma();if(n)return n.layerMap[e]?n.layerMap[e]:null;if(this.normalLayerFlatMap[e])return this.normalLayerFlatMap[e];const r=this.props.getPanelList().find(o=>o.id===e);return r||null}getPageScale(){return this.workspaceState.pageScale}get figma(){return this.getFigma()}get isMobile(){return typeof window<"u"&&window.ontouchstart!==void 0}setCursor(e){this.cursor=e}get timelineMax(){let e=0;return this.getNormalLayerList().forEach(n=>{n.timeline&&n.timeline.end>e&&(e=n.timeline.end)}),e}get isUpdatingLayer(){return this.currentStatus==="movingLayers"||this.currentStatus==="rotatingLayers"||this.currentStatus==="resizingLayersByCorner"||this.currentStatus==="resizingLayersByBorder"}get isCroppingBackground(){const e=this.props.getBackgroundLayer(),{layerUnderCropping:n}=this;return!!(e&&n&&n.id===e.id)}get usedFontMap(){const e={};function n(o){o.forEach(u=>{u.nodeType==="TEXT"&&u.fontName.fullname&&(e[u.fontName.fullname]=!0),n(u.children||[])})}const r=this.getNormalLayerList();return n(r),e}get currentCursor(){var e,n,r,o,u;if(this.currentStatus==="draggingGridLine"||(e=this.props.grid)!=null&&e.getCurrentActiveLine()){if(((r=(n=this.props.grid)==null?void 0:n.getCurrentActiveLine())==null?void 0:r.type)==="horizontal")return"ns-resize";if(((u=(o=this.props.grid)==null?void 0:o.getCurrentActiveLine())==null?void 0:u.type)==="vertical")return"ew-resize"}return this.currentStatus==="rotatingLayers"?"alias":this.currentStatus==="movingLayers"?"move":this.cursor?this.cursor:"auto"}get segmentCandidate(){var e,n;return((n=(e=this.editingVector)==null?void 0:e.currentOperation)==null?void 0:n.type)==="SegmentCandidate"?this.editingVector.currentOperation:null}get editingGroupLayer(){return!!this.activeGroupLayerId}get selectionInfo(){return this.props.getSelectionInfo()}get activeGroupLayerId(){return this.selectionInfo.activeGroupLayerId}get activeLayerInGroupId(){return this.selectionInfo.activeLayerInGroupId}get selectedLeafLayerId(){return this.selectionInfo.selectedLeafLayerId}get activeGroupLayer(){const e=this.rootNormalLayerMap[this.activeGroupLayerId];return e&&e.nodeType==="GROUP"?e:null}get pointerRayLengthInWindow(){return this.pointerRayLengthInPage*this.getPageScale()}get scalePercentDisplayed(){const e=this.imageLayerUnderEditing;if(e&&e.image){if(e.image.imageScaleMode==="FILL"){const o=Rm({frame:e,image:e.image}),u=e.image.width/e.image.naturalWidth/o*100;return Math.round(u)}const n=oE(e),r=e.image.width/n*100;return Math.round(r)}return 100}get bunchRectangle(){return this.selectionInfo.bunchRectangle}get selectionStatus(){if(this.selectedNormalLayerList.length>1)return"multipleLayers";if(this.selectedPanel)return"singlePanel";if(this.selectedSingleLayer){const e=this.selectedSingleLayer;if(e.nodeType==="GROUP")return"singleGroupLayer";if(e.nodeType==="IMAGE")return"singleImageLayer";if(e.nodeType==="TEXT")return"singleTextLayer";if(e.nodeType==="FRAME")return"singleFrameLayer";if(e.nodeType==="SECTION")return"singleSectionLayer"}return""}get leafNormalLayerList(){const e=[];function n(r){r.forEach(o=>{o.nodeType!=="GROUP"&&e.push(o),n(o.children)})}return n(this.getNormalLayerList()),e}get selectionRectangle(){const e={left:0,top:0,width:0,height:0};return this.selectionRectStartPoint&&(e.left=Math.min(this.selectionRectStartPoint.x,this.selectionRectEndPoint.x),e.top=Math.min(this.selectionRectStartPoint.y,this.selectionRectEndPoint.y),e.width=Math.abs(this.selectionRectEndPoint.x-this.selectionRectStartPoint.x),e.height=Math.abs(this.selectionRectEndPoint.y-this.selectionRectStartPoint.y)),e}get pointerCurrentPositionInPage(){return this.getPointInPage({pageX:this.pointerX,pageY:this.pointerY})}get bunchRectangleCenter(){return{x:this.bunchRectangle.left+this.bunchRectangle.width/2,y:this.bunchRectangle.top+this.bunchRectangle.height/2}}get rootNormalLayerMap(){return Ue.keyBy(this.getNormalLayerList(),"id")}get normalLayerFlatMap(){var n;if(this.getFigma())return((n=this.getFigma())==null?void 0:n.layerMap)||{};const e={};return this.getNormalLayerList().forEach(r=>{this.processLayer(e,r)}),e}processLayer(e,n){e[n.id]=n,n.children.forEach(r=>{this.processLayer(e,r)})}get selectedLayerList(){return this.getSelectedLayerIdList().map(n=>this.getLayer(n)).filter(n=>n)}get selectedNormalLayerList(){const e=[];return e.push(...this.selectedLayerList),e}get selectedPanel(){const e=Ue.keyBy(this.props.getPanelList(),"id"),n=this.getSelectedLayerIdList().filter(r=>e[r]);return n[0]?e[n[0]]:null}get selectedSingleLayer(){return this.selectedLeafLayerId&&this.normalLayerFlatMap[this.selectedLeafLayerId]?this.normalLayerFlatMap[this.selectedLeafLayerId]:this.selectedNormalLayerList.length===1&&this.selectedNormalLayerList[0]?this.selectedNormalLayerList[0]:null}get selectedSingleImageLayer(){return this.selectedSingleLayer&&this.selectedSingleLayer.nodeType==="IMAGE"?this.selectedSingleLayer:null}get textLayerUnderEditing(){return this.selectedSingleLayer&&this.selectedSingleLayer.nodeType==="TEXT"&&this.editingText?this.selectedSingleLayer:null}get textLayerMap(){const e={};return Object.keys(this.normalLayerFlatMap).forEach(n=>{const r=this.normalLayerFlatMap[n];r&&r.nodeType==="TEXT"&&(e[n]=r)}),e}get imageLayerUnderEditing(){var e;if(this.layerUnderCropping)return this.layerUnderCropping;if(((e=this.selectedSingleLayer)==null?void 0:e.nodeType)==="ROUNDED_RECTANGLE")return this.selectedSingleLayer;if(this.selectedPanel)return this.selectedPanel;if(this.selectedSingleImageLayer)return this.selectedSingleImageLayer;if(this.selectedSingleLayer&&this.activeLayerInGroupId){const n=this.normalLayerFlatMap[this.activeLayerInGroupId];return n.nodeType==="IMAGE"?n:null}return null}setCurrentToolsContainer(e){this.currentToolsContainer=e}getPointInContainer(e){const n=ri(this),r=Ps(this);if(n&&r){const o=Sy(this,e),{absoluteTransform:u}=Vi(n.fileData,{type:"layer",layerId:r.id});return Vo(u,o)}return this.getPointInPage(e)}getPointInPage(e){const n=this.currentToolsContainer;if(n){const r=n.getBoundingClientRect();return{x:(e.pageX-r.left)/this.getPageScale(),y:(e.pageY-r.top)/this.getPageScale()}}return console.warn("Failed to find tools container!"),{x:0,y:0}}setOptions(e){Object.assign(this.options,e)}generateGUID(){const e={sessionID:this.sessionID,localID:this.localID};return this.localID+=1,e}}Le([He],Pe.prototype,"getNormalLayerList",2);Le([He],Pe.prototype,"getFigma",2);Le([mt],Pe.prototype,"figma",1);Le([He],Pe.prototype,"props",2);Le([mt],Pe.prototype,"isMobile",1);Le([He],Pe.prototype,"cursor",2);Le([He],Pe.prototype,"currentFontList",2);Le([He],Pe.prototype,"currentTool",2);Le([He],Pe.prototype,"currentStatus",2);Le([He],Pe.prototype,"currentTime",2);Le([mt],Pe.prototype,"timelineMax",1);Le([He],Pe.prototype,"workspaceState",2);Le([He],Pe.prototype,"workspaceExists",2);Le([mt],Pe.prototype,"isUpdatingLayer",1);Le([mt],Pe.prototype,"isCroppingBackground",1);Le([He],Pe.prototype,"layersShimmering",2);Le([mt],Pe.prototype,"usedFontMap",1);Le([mt],Pe.prototype,"currentCursor",1);Le([He],Pe.prototype,"controlKeyUnderPress",2);Le([He],Pe.prototype,"layerWithMenuId",2);Le([He],Pe.prototype,"layerUnderDraggingId",2);Le([He],Pe.prototype,"layerUnderCropping",2);Le([He],Pe.prototype,"layersCanBeScaled",2);Le([He],Pe.prototype,"layerListInClipboard",2);Le([He],Pe.prototype,"editingText",2);Le([He],Pe.prototype,"editingVector",2);Le([mt],Pe.prototype,"segmentCandidate",1);Le([mt],Pe.prototype,"editingGroupLayer",1);Le([mt],Pe.prototype,"selectionInfo",1);Le([mt],Pe.prototype,"activeGroupLayerId",1);Le([mt],Pe.prototype,"activeLayerInGroupId",1);Le([mt],Pe.prototype,"selectedLeafLayerId",1);Le([mt],Pe.prototype,"activeGroupLayer",1);Le([He],Pe.prototype,"pointerDownX",2);Le([He],Pe.prototype,"pointerDownY",2);Le([He],Pe.prototype,"pointerDownOnRightSide",2);Le([He],Pe.prototype,"pointerMoved",2);Le([He],Pe.prototype,"pointerX",2);Le([He],Pe.prototype,"pointerY",2);Le([He],Pe.prototype,"pointerCurrentAngle",2);Le([He],Pe.prototype,"pointerAppliedAngle",2);Le([He],Pe.prototype,"bunchRectangleRotationFixed",2);Le([He],Pe.prototype,"pointerRayLengthInPage",2);Le([He],Pe.prototype,"appliedPointX",2);Le([He],Pe.prototype,"appliedPointY",2);Le([He],Pe.prototype,"bunchRectangleXFixed",2);Le([He],Pe.prototype,"bunchRectangleYFixed",2);Le([He],Pe.prototype,"interceptionInfo",2);Le([mt],Pe.prototype,"pointerRayLengthInWindow",1);Le([He],Pe.prototype,"pointerDownScalePercent",2);Le([He],Pe.prototype,"resizeTransformOrigin",2);Le([He],Pe.prototype,"resizeOriginType",2);Le([He],Pe.prototype,"resizeAndKeepRatio",2);Le([mt],Pe.prototype,"scalePercentDisplayed",1);Le([He],Pe.prototype,"menuShow",2);Le([He],Pe.prototype,"menuX",2);Le([He],Pe.prototype,"menuY",2);Le([mt],Pe.prototype,"bunchRectangle",1);Le([He],Pe.prototype,"bunchRectangleInMagneticField",2);Le([He],Pe.prototype,"selectionRectStartPoint",2);Le([He],Pe.prototype,"selectionRectEndPoint",2);Le([He],Pe.prototype,"selectionRectExists",2);Le([mt],Pe.prototype,"selectionStatus",1);Le([He],Pe.prototype,"layerResolvedFrameMap",2);Le([He],Pe.prototype,"layerImageHasTransition",2);Le([He],Pe.prototype,"overlappedLayerIdMap",2);Le([He],Pe.prototype,"helperLineList",2);Le([He],Pe.prototype,"helperRectList",2);Le([mt],Pe.prototype,"leafNormalLayerList",1);Le([mt],Pe.prototype,"selectionRectangle",1);Le([mt],Pe.prototype,"pointerCurrentPositionInPage",1);Le([mt],Pe.prototype,"bunchRectangleCenter",1);Le([mt],Pe.prototype,"rootNormalLayerMap",1);Le([mt],Pe.prototype,"normalLayerFlatMap",1);Le([mt],Pe.prototype,"selectedLayerList",1);Le([mt],Pe.prototype,"selectedNormalLayerList",1);Le([mt],Pe.prototype,"selectedPanel",1);Le([mt],Pe.prototype,"selectedSingleLayer",1);Le([mt],Pe.prototype,"selectedSingleImageLayer",1);Le([mt],Pe.prototype,"textLayerUnderEditing",1);Le([mt],Pe.prototype,"textLayerMap",1);Le([He],Pe.prototype,"textLayerOutOfPage",2);Le([mt],Pe.prototype,"imageLayerUnderEditing",1);Le([He],Pe.prototype,"filterState",2);Le([He],Pe.prototype,"state",2);Le([He],Pe.prototype,"options",2);Le([He],Pe.prototype,"renderCount",2);class Bf{constructor({path:e,commands:n,type:r,styleID:o}){this.styleID=0,this.path=null,this.commands=[],this.scheduledForDelete=!1,this.path=e,this.commands=n,this.type=r,this.styleID=o}getPath(){return this.path}getVisualPath({Raptor:e,scale:n}){if(this.path){const r=this.path.copy();return r.deleteLater(),r.transform(e.Matrix.scaled(n,n)),r}return null}getCommands(){return this.commands}deleteLater(){var e;this.scheduledForDelete===!1&&(this.scheduledForDelete=!0,(e=this.path)==null||e.deleteLater())}}function _C({Raptor:t,strokeJoin:e}){return e==="BEVEL"?t.StrokeJoin.Bevel:e==="MITER"?t.StrokeJoin.Miter:t.StrokeJoin.Round}function LC({strokeAlign:t,strokeWeight:e,Raptor:n}){const r={strokeWidth:e,blendMode:null};return t==="CENTER"||(t==="INSIDE"?(r.strokeWidth=e*2,r.blendMode=n.BlendMode.SrcATop):t==="OUTSIDE"&&(r.strokeWidth=e*2,r.blendMode=n.BlendMode.DstATop)),r}function qd({Raptor:t,commands:e}){const n=e.map(o=>o==="M"?t.MOVE_VERB:o==="C"?t.CUBIC_VERB:o==="L"?t.LINE_VERB:o==="Z"?t.CLOSE_VERB:o);return t.Path.MakeFromCmds(n)}function PC({width:t,height:e,cornerRadius:n,Raptor:r}){const o=Ts({width:t,height:e,cornerRadius:n});return qd({Raptor:r,commands:o})}function Ts({width:t,height:e,cornerRadius:n}){if(n>0){const o=.44777199999999995*n;return["M",0,n,"C",0,o,o,0,n,0,"L",t-n,0,"C",t-o,0,t,o,t,n,"L",t,e-n,"C",t,e-o,t-o,e,t-n,e,"L",n,e,"C",o,e,0,e-o,0,e-n,"Z"]}return["M",0,0,"L",0,e,"L",t,e,"L",t,0,"Z"]}function Ky({Raptor:t,layer:e,scale:n}){var b,x,E,T;const{width:r,height:o,cornerRadius:u}=e;let c=Ts({width:r,height:o,cornerRadius:u});((b=e.smartShape)==null?void 0:b.type)==="Parallelogram"?c=["M",o/3,0,"L",r,0,"L",r-o/3,o,"L",0,o,"Z"]:((x=e.smartShape)==null?void 0:x.type)==="Pill"?c=Ts({width:r,height:o,cornerRadius:o/2}):((E=e.smartShape)==null?void 0:E.type)==="Ribbon"&&(c=["M",0,0,"L",r,0,"L",r-o/4,o/2,"L",r,o,"L",0,o,"L",o/4,o/2,"Z"]);let l=qd({Raptor:t,commands:c});l==null||l.deleteLater(),((T=e.smartShape)==null?void 0:T.type)==="Ellipse"&&(l=new t.Path,l.deleteLater(),l.addOval(t.XYWHRect(0,0,r,o)));const h=LC({strokeAlign:e.strokeAlign,strokeWeight:e.strokeWeight,Raptor:t}),p=l==null?void 0:l.copy().stroke({width:h.strokeWidth,join:_C({strokeJoin:e.strokeJoin,Raptor:t})});return p==null||p.deleteLater(),{fillScaledPath:(l==null?void 0:l.transform(t.Matrix.scaled(n,n)))||null,strokeScaledPath:(p==null?void 0:p.transform(t.Matrix.scaled(n,n)))||null,strokeInfo:h}}function Qy({Raptor:t,commands:e}){const n=qd({Raptor:t,commands:e});return new Bf({path:n,commands:e,type:"CLOSED",styleID:0})}function MC({Raptor:t,localStore:e,layer:n,instanceChain:r}){const o=Jt({localStore:e,layer:n,instanceChain:r});let u=0,{width:c,height:l,cornerRadius:h}=o;o.strokeAlign==="INSIDE"&&(c-=o.strokeWeight,l-=o.strokeWeight,u=o.strokeWeight/2,h>0&&(h-=o.strokeWeight/2)),o.strokeAlign==="OUTSIDE"&&(c+=o.strokeWeight,l+=o.strokeWeight,u-=o.strokeWeight/2,h>0&&(h+=o.strokeWeight/2));let p=Ts({width:c,height:l,cornerRadius:h});p=p.map(x=>typeof x=="number"?x+u:x);const b=Qy({Raptor:t,commands:p});return b==null||b.deleteLater(),[b]}function IC({Raptor:t,localStore:e,layer:n,instanceChain:r}){const o=Jt({localStore:e,layer:n,instanceChain:r});let u=[];const{width:c,height:l}=o;if(n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="ROUNDED_RECTANGLE"){const{cornerRadius:p}=o;p>0&&(u=Ts({width:c,height:l,cornerRadius:p}))}return u.length===0&&(u=Ts({width:c,height:l,cornerRadius:0})),[Qy({Raptor:t,commands:u})]}function kC({vectorData:t,Raptor:e}){const{vertices:n,segments:r,regions:o}=t.vectorNetwork,u=[];function c(l,h){let p=-1;l.forEach((b,x)=>{const E=n[b.start.vertex],T=n[b.end.vertex];b.start.vertex!==p&&h.moveTo(E.x,E.y),b.start.dx===0&&b.start.dy===0&&b.end.dx===0&&b.end.dy===0?h.lineTo(T.x,T.y):h.cubicTo(b.start.dx+E.x,b.start.dy+E.y,b.end.dx+T.x,b.end.dy+T.y,T.x,T.y),p=b.end.vertex})}if(o.length>0&&o.forEach(l=>{const h=new e.Path;u.push({type:"region",path:h}),l.loops.forEach(p=>{l.windingRule==="EVENODD"&&h.setFillType(e.FillType.EvenOdd),p.segments.forEach(b=>{}),c(p.segments.map(b=>r[b]),h),h.close()}),h.close()}),u.length===0){const l=new e.Path;u.push({type:"line",path:l}),c(r,l)}return u}function Df({localStore:t,fileData:e,layer:n,instanceChain:r,Raptor:o}){const u=Jt({localStore:t,layer:n,instanceChain:r}),c={data:{nodeType:u.nodeType,left:u.left,top:u.top,rotate:u.rotate,width:u.width,height:u.height,scaleX:1,scaleY:1,strokeAlign:u.strokeAlign,strokeWeight:u.strokeWeight,dashPattern:[...u.dashPattern]},fillGeometryList:[],strokeGeometryList:[],totalGeometry:null,children:[]};if(n.nodeType==="GROUP"||n.nodeType==="TEXT")return c;if(n.nodeType==="vector"){const p=t.getFigma();if(p){const b=hE(p.context.fileData,n);if(!b)throw new Error;const x=kC({vectorData:n.vectorData,Raptor:o});b.pathBoundsList=x.map(T=>T.path.computeTightBounds());const{vectorData:E}=u;E&&(c.data.scaleX=u.width/E.normalizedSize.x,c.data.scaleY=u.height/E.normalizedSize.y),x.forEach(T=>{if(T.type==="region"){const C=new Bf({path:T.path,commands:[],type:"CLOSED",styleID:0});C.deleteLater(),c.fillGeometryList.push(C),c.strokeGeometryList.push(C)}else if(T.type==="line"){const C=new Bf({path:T.path,commands:[],type:"LINE",styleID:0});C.deleteLater(),c.strokeGeometryList.push(C)}})}return c}const l=IC({Raptor:o,localStore:t,layer:n,instanceChain:r});l.forEach(p=>{p.deleteLater()});const h=MC({Raptor:o,localStore:t,layer:n,instanceChain:r});return u.frameMaskDisabled&&n.children&&n.children.forEach(p=>{const b=Yn(r,p),x=Df({localStore:t,layer:p,instanceChain:b,Raptor:o,fileData:e});c.children.push(x)}),c.fillGeometryList=l,c.strokeGeometryList=h,c}function bg({info:t,styleID:e}){var r;const n=[];if(e===0)n.push(...t.fillPaints||[]);else if(t.nodeType==="vector"){const o=(r=t.vectorData)==null?void 0:r.styleOverrideTable.find(u=>u.styleID===e);o&&n.push(...o.fillPaints)}return{fillPaints:n}}function RC({info:t,styleID:e}){const n=[];return e===0&&n.push(...t.strokePaints||[]),{strokePaints:n}}function xg({Raptor:t,paint:e,path:n}){const r=new t.Paint;if(r.deleteLater(),r.setAntiAlias(!0),e.type==="SOLID"&&(r.setAlphaf(e.opacity),r.setColor(dn(e.color).toFigmaArray())),e.type==="GRADIENT_LINEAR"&&(r.setStyle(t.PaintStyle.Fill),r.setAlphaf(e.opacity),n)){const o=n==null?void 0:n.computeTightBounds(),u=uy({paint:e,Raptor:t,leftTop:[o[0],o[1]],bottomRight:[o[2],o[3]]});r.setShader(u),r.setAntiAlias(!0)}return r}function OC({normalizedWidth:t,normalizedHeight:e,normalizedSpan:n,color:r,scale:o,Raptor:u,canvas:c}){const l=new u.Paint;l.deleteLater(),l.setColor(dn(r).toFigmaArray()),l.setAlphaf(.3),l.setStyle(u.PaintStyle.Stroke),l.setStrokeWidth(o),l.setAntiAlias(!0),c.save();let h=0,p=0;for(;h<=t;)c.drawLine(h*o,0,h*o,e*o,l),h+=n;for(;p<=e;)c.drawLine(0,p*o,t*o,p*o,l),p+=n;c.restore()}function So({canvas:t,Raptor:e,fill:n,scale:r,scaledPath:o,paintStyle:u,layerINFO:c,blendMode:l}){if(!n.visible)return;if(n.type==="GRID"){const p=o.getBounds(),b=p[2]-p[0],x=p[3]-p[1];t.save(),t.clipPath(o,e.ClipOp.Intersect,!0),OC({normalizedWidth:b/r,normalizedHeight:x/r,normalizedSpan:50,scale:r,Raptor:e,canvas:t,color:"#ffffff"}),t.restore();return}let h=null;n.type==="SOLID"&&(h=xg({Raptor:e,paint:n,path:null})),n.type==="GRADIENT_LINEAR"&&(h=xg({Raptor:e,paint:n,path:o})),h&&(l&&h.setBlendMode(l),t.drawPath(o,h))}function Sg({Raptor:t,fileData:e,canvas:n,layer:r,instanceChain:o,options:u,geometryInfo:c}){const l=Jt({localStore:e.localStore,layer:r,instanceChain:o});n.save(),r.nodeType==="vector"?c.fillGeometryList.forEach(h=>{const p=h.getPath();if(!p)return;const b=p.copy().transform(t.Matrix.scaled(r.width/r.vectorData.normalizedSize.x*e.scale,r.height/r.vectorData.normalizedSize.y*e.scale));b==null||b.deleteLater();const{fillPaints:x}=bg({info:l,styleID:h.styleID});x==null||x.forEach(E=>{if(E.type!=="SOLID"||E.visible===!1)return;n.saveLayer();const T=new t.Paint;T.deleteLater(),h.type==="CLOSED"&&(T.setStyle(t.PaintStyle.Fill),T.setColor([E.color.r,E.color.g,E.color.b,E.color.a]),T.setAlphaf(E.opacity),T.setAntiAlias(!0),n.drawPath(b,T)),n.restore()})}):c.fillGeometryList.forEach(h=>{const p=h.getPath();if(!p)return;const b=p.copy().transform(t.Matrix.scaled(e.scale,e.scale));b.deleteLater(),b&&(r.nodeType==="FRAME"||r.nodeType==="SYMBOL"||r.nodeType==="INSTANCE")&&(l.frameMaskDisabled||n.clipPath(b,t.ClipOp.Intersect,!0));const{fillPaints:x}=bg({info:l,styleID:h.styleID});x.forEach(E=>{if(E.type==="SOLID"&&E.visible)So({canvas:n,Raptor:t,fill:E,scaledPath:b,scale:e.scale,layerINFO:l,blendMode:null,paintStyle:null});else if(E.type==="GRADIENT_LINEAR"&&E.visible)So({Raptor:t,canvas:n,fill:E,scaledPath:b,scale:e.scale,layerINFO:l,blendMode:null,paintStyle:null});else if(E.type==="IMAGE"){u.snapshot&&(u.snapshot.contains.imageUrlMap[E.image.imageSource]=!0);const T=e.assetMap.getAsset(E.image.imageSource);if(T&&T.image){const C=new t.Paint;C.deleteLater(),C.setStyle(t.PaintStyle.Fill),C.setAntiAlias(!0),mc({canvas:n,layer:r,Raptor:t,scale:e.scale,img:T.image,imageInfo:E.image,paint:C})}}})}),n.restore()}function mc({canvas:t,layer:e,Raptor:n,scale:r,img:o,imageInfo:u,paint:c}){t.save(),t.translate(r*(e.width/2),r*(e.height/2)),t.rotate(u.rotate,0,0),t.translate(u.imageX*r,u.imageY*r),c&&(r>0?(e.nodeType,t.drawImageRectCubic(o,n.XYWHRect(0,0,o.width(),o.height()),n.XYWHRect(-u.width/2*r,-u.height/2*r,u.width*r,u.height*r),0,0,c)):(c.setImageFilter(null),t.drawImageRect(o,n.LTRBRect(0,0,o.width(),o.height()),n.LTRBRect(r*(-u.width/2+u.imageX),r*(-u.height/2+u.imageY),r*(u.width/2+u.imageX),r*(u.height/2+u.imageY)),c))),t.restore()}function FC({canvas:t,Raptor:e,fileData:n,layer:r,options:o}){if(t.save(),r.nodeType==="TEXT"){const{strokeList:u,shadowList:c,newParagraph:l,fillList:h}=Nd({Raptor:e,fileData:n,layer:r});l&&(c.forEach(b=>{const x=new e.Paint;x.deleteLater();const E=e.ImageFilter.MakeBlur(n.doScale(b.radius),n.doScale(b.radius),e.TileMode.Decal,null);E.deleteLater(),x.setImageFilter(E),t.saveLayer(x),t.drawParagraph(b.paragraph,n.doScale(b.offset.x),n.doScale(b.offset.y)),t.drawParagraph(b.strokedParagraph,n.doScale(b.offset.x),n.doScale(b.offset.y)),t.restore()}),t.saveLayer(),h.forEach(b=>{b.paragraph&&t.drawParagraph(b.paragraph,0,0)}),u.forEach(b=>{b.paragraph&&t.drawParagraph(b.paragraph,0,0)}),t.restore())}t.restore()}function NC({fileData:t,Raptor:e,geometryInfo:n,canvas:r,layer:o,layerInfo:u}){n.strokeGeometryList.forEach(c=>{const l=c.getPath();if(!l)return;const{strokePaints:h}=RC({info:u,styleID:c.styleID}),p=l.copy().transform(e.Matrix.scaled(o.width/o.vectorData.normalizedSize.x*t.scale,o.height/o.vectorData.normalizedSize.y*t.scale));p==null||p.deleteLater(),h.forEach(b=>{var E;if(b.visible===!1)return;const x=new e.Paint;if(x.deleteLater(),x.setAntiAlias(!0),x.setColor(dn({type:"FIGMA",...b.color}).toFigmaArray()),x.setAlphaf(b.opacity),x.setStyle(e.PaintStyle.Stroke),n.data.dashPattern[0]>0||n.data.dashPattern[1]>0){const T=e.PathEffect.MakeDash([t.doScale(n.data.dashPattern[0]),t.doScale(n.data.dashPattern[1])]);T.deleteLater(),x.setPathEffect(T)}if(c.type==="CLOSED"){if(o.strokeAlign==="CENTER"){x.setStrokeWidth(t.doScale(o.strokeWeight)),r.drawPath(p,x);return}if(!((E=o.fillPaints)==null?void 0:E[0]))return;r.saveLayer();const C=new e.Paint;C.deleteLater(),C.setColor(e.BLACK),C.setAntiAlias(!0),r.drawPath(p,C);const P=new e.Paint;P.deleteLater(),o.strokeAlign==="INSIDE"?P.setBlendMode(e.BlendMode.SrcIn):o.strokeAlign==="OUTSIDE"&&P.setBlendMode(e.BlendMode.SrcOut),r.saveLayer(P),x.setStrokeWidth(t.doScale(o.strokeWeight*2)),r.drawPath(p,x),r.restore(),r.restore()}else c.type==="LINE"&&(x.setStrokeJoin(Nf({Raptor:e,value:o.strokeJoin})),o.strokeAlign==="CENTER"&&(x.setStrokeWidth(t.doScale(o.strokeWeight)),r.drawPath(p,x)))})})}function $C({canvas:t,Raptor:e,fileData:n,geometryInfo:r,effect:o}){if(o.visible===!1)return;const u=new e.Paint;u.deleteLater();const c=e.ImageFilter.MakeBlur(n.doScale(o.radius/2),n.doScale(o.radius/2),e.TileMode.Decal,null);c.deleteLater(),u.setImageFilter(c),t.saveLayer(u);const l=new e.Paint;l.deleteLater(),l.setAntiAlias(!0),l.setColor(dn({type:"FIGMA",...o.color}).toFigmaArray()),qy({canvas:t,Raptor:e,fileData:n,geometryInfo:r,shadowPaint:l,effect:o}),t.restore()}function qy({canvas:t,Raptor:e,fileData:n,geometryInfo:r,shadowPaint:o,effect:u}){r.fillGeometryList.forEach(c=>{const l=c.getVisualPath({Raptor:e,scale:n.scale});l&&t.drawPath(l,o)}),r.strokeGeometryList.forEach(c=>{const l=c.getVisualPath({Raptor:e,scale:n.scale});if(l){l.transform(e.Matrix.scaled(r.data.scaleX,r.data.scaleY));const h=new e.Paint;h.deleteLater(),h.setAntiAlias(!0),h.setStyle(e.PaintStyle.Stroke),h.setColor(dn({type:"FIGMA",...u.color}).toFigmaArray());const{dashPattern:p}=r.data;if(p[0]>0||p[1]>0){const C=e.PathEffect.MakeDash([n.doScale(p[0]),n.doScale(p[1])]);C.deleteLater(),h.setPathEffect(C)}const{strokeWeight:b,strokeAlign:x,nodeType:E}=r.data;let T=b;E==="vector"&&(x==="INSIDE"?T=0:x==="CENTER"?T=b:x==="OUTSIDE"&&(T*=2)),h.setStrokeWidth(n.doScale(T)),t.drawPath(l,h)}}),r.children.forEach(c=>{t.translate(n.doScale(c.data.left),n.doScale(c.data.top)),t.rotate(c.data.rotate,n.doScale(c.data.width/2),n.doScale(c.data.height/2)),qy({canvas:t,fileData:n,Raptor:e,geometryInfo:c,shadowPaint:o,effect:u})})}function BC({Raptor:t,fileData:e,canvas:n,path:r,effect:o}){n.save();let u=r;const c=new t.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setStyle(t.PaintStyle.Fill),c.setColor(dn(o.color).toFigmaArray());const l=t.ImageFilter.MakeBlur(e.doScale(o.radius/2),e.doScale(o.radius/2),t.TileMode.Decal,null);if(l.deleteLater(),c.setImageFilter(l),o.spread>0){const h=u.copy().stroke({width:e.doScale(o.spread*2)});h==null||h.deleteLater(),h==null||h.op(u,t.PathOp.Union),h&&(u=h)}n.translate(e.doScale(o.offset.x),e.doScale(o.offset.y)),n.drawPath(u,c),n.restore()}function DC(t,e,n,r,o){const u=Yn(o.instanceChain,r);if(r.nodeType!=="FRAME"&&r.nodeType!=="SYMBOL"&&r.nodeType!=="INSTANCE")return;const c=r,l=Jt({localStore:n.localStore,layer:r,instanceChain:u}),h={frameMaskDisabled:l.frameMaskDisabled,relativeTransform:Kn(l),fillPaints:r.fillPaints,strokePaints:r.strokePaints,children:Ga(n,r),snapshot:cE(n,r),pointsRect:Gd({fileData:n,Raptor:e,layer:r,instanceChain:u,options:{}}).withShadow};if(t.save(),o.useSnapshot&&h.snapshot){const p=new e.Paint;p.deleteLater(),p.setStyle(e.PaintStyle.Fill),p.setAntiAlias(!0),t.save(),t.drawImageRect(h.snapshot,e.LTRBRect(0,0,h.snapshot.width(),h.snapshot.height()),e.LTRBRect(n.doScale(h.pointsRect[0].x),n.doScale(h.pointsRect[0].y),n.doScale(h.pointsRect[2].x),n.doScale(h.pointsRect[2].y)),p),t.restore()}else{const p=Ky({Raptor:e,layer:l,scale:n.scale});Jy({Raptor:e,canvas:t,info:l,fileData:n,data:p,layer:c}),Zy({Raptor:e,canvas:t,info:l,fileData:n,data:p,layer:c}),h.frameMaskDisabled&&Gf({fileData:n,canvas:t,Raptor:e,info:l,layer:c,data:p}),t.save(),h.frameMaskDisabled===!1&&t.clipRRect(e.RRectXY(e.LTRBRect(n.doScale(0),n.doScale(0),n.doScale(l.width),n.doScale(l.height)),n.doScale(l.cornerRadius),n.doScale(l.cornerRadius)),e.ClipOp.Intersect,!0);const b={bounds:o.bounds.map(x=>Vo(h.relativeTransform,x)),useSnapshot:o.useSnapshot,tile:o.tile,snapshot:o.snapshot,instanceChain:u};yc(t,e,n,h.children,b),t.restore(),l.frameMaskDisabled===!1&&Gf({fileData:n,canvas:t,Raptor:e,info:l,layer:c,data:p})}t.restore()}function GC(t,e,n,r,o){var p,b,x,E;const u=Yn(o.instanceChain,r),c=Gd({fileData:n,Raptor:e,layer:r,instanceChain:u,options:{}}).withShadow.map(T=>({x:T.x,y:T.y})),l=Jt({localStore:n.localStore,layer:r,instanceChain:u});if(l.visible===!1||!Ld(o.bounds.map(T=>Vo(Kn(l),T)),c))return;o.tile&&(o.tile.contains.layerIdMap[r.id]=!0),o.snapshot&&(o.snapshot.contains.layerIdMap[r.id]=!0);let h=null;if((p=l.effects)==null||p.forEach(T=>{T.type==="FOREGROUND_BLUR"&&T.visible&&(h=T)}),h){const T=new e.Paint;T.setAntiAlias(!0);const C=e.ImageFilter.MakeBlur(n.doScale(h.radius/2),n.doScale(h.radius/2),e.TileMode.Decal,null);C.deleteLater(),T.setImageFilter(C),t.saveLayer(T)}if(r.nodeType==="FRAME"||r.nodeType==="SYMBOL"||r.nodeType==="INSTANCE")DC(t,e,n,r,o);else if(r.nodeType==="SECTION"){const T=Df({localStore:n.localStore,fileData:n,layer:r,instanceChain:u,Raptor:e});t.save(),Sg({Raptor:e,fileData:n,canvas:t,layer:r,instanceChain:o.instanceChain,options:o,geometryInfo:T});const C={bounds:o.bounds.map(P=>Vo(Kn(l),P)),useSnapshot:o.useSnapshot,tile:o.tile,snapshot:o.snapshot,instanceChain:u};yc(t,e,n,r.children,C),t.restore()}else if(r.nodeType==="GROUP")t.save(),yc(t,e,n,r.children,o),t.restore();else if(r.nodeType==="IMAGE"){const T=((b=r.image)==null?void 0:b.imageSource)||"";o.snapshot&&(o.snapshot.contains.imageUrlMap[T]=!0);const C=(x=n.assetMap.getAsset(T))==null?void 0:x.image;if(T&&C){const P=new e.Paint;P.deleteLater(),P.setStyle(e.PaintStyle.Fill),P.setAntiAlias(!0),t.save(),UC(t,e,n,r),r.image&&mc({canvas:t,layer:r,Raptor:e,scale:n.scale,img:C,imageInfo:r.image,paint:P}),t.restore()}}else if(r.nodeType==="vector"){const T=Df({localStore:n.localStore,fileData:n,layer:r,instanceChain:u,Raptor:e});(E=l.effects)==null||E.forEach(C=>{C.type==="DROP_SHADOW"&&$C({canvas:t,Raptor:e,fileData:n,geometryInfo:T,effect:C})}),Sg({Raptor:e,fileData:n,canvas:t,layer:r,instanceChain:o.instanceChain,options:o,geometryInfo:T}),NC({Raptor:e,canvas:t,fileData:n,layer:r,geometryInfo:T,layerInfo:l})}else if(r.nodeType==="ROUNDED_RECTANGLE"){t.save();const T=Ky({Raptor:e,layer:r,scale:n.scale});Jy({layer:r,info:l,data:T,canvas:t,Raptor:e,fileData:n}),Zy({layer:r,info:l,data:T,canvas:t,Raptor:e,fileData:n}),Gf({layer:r,info:l,data:T,canvas:t,Raptor:e,fileData:n}),t.restore()}else r.nodeType==="TEXT"&&FC({canvas:t,Raptor:e,fileData:n,layer:r,options:o});h&&t.restore()}function Jy({Raptor:t,canvas:e,info:n,fileData:r,data:o,layer:u}){var c,l;(c=n.effects)!=null&&c.length&&((l=n.effects)==null||l.forEach(h=>{if(h.type==="DROP_SHADOW"&&h.visible){const p=new t.Path;p.deleteLater(),o.fillScaledPath&&p.op(o.fillScaledPath,t.PathOp.Union),n.strokeAlign!=="INSIDE"&&o.strokeScaledPath&&p.op(o.strokeScaledPath,t.PathOp.Union),BC({Raptor:t,fileData:r,canvas:e,path:p,effect:h})}}))}function Zy({Raptor:t,canvas:e,info:n,fileData:r,data:o,layer:u}){var l,h,p,b;e.saveLayer(),(l=n.fillPaints)==null||l.forEach(x=>{o.fillScaledPath&&x.visible&&So({canvas:e,Raptor:t,scaledPath:o.fillScaledPath,scale:r.scale,fill:x,layerINFO:n,blendMode:null,paintStyle:null})});const c=(p=r.assetMap.getAsset(((h=u.image)==null?void 0:h.imageSource)||""))==null?void 0:p.image;if(u.image&&c&&o.fillScaledPath){e.save();const x=new t.Paint;x.deleteLater(),x.setStyle(t.PaintStyle.Fill),x.setAntiAlias(!0),e.clipPath(o.fillScaledPath,t.ClipOp.Intersect,!0),mc({canvas:e,layer:u,Raptor:t,scale:r.scale,img:c,imageInfo:u.image,paint:x}),e.restore()}if(((b=u.smartShape)==null?void 0:b.type)==="Mask"){const x=u.smartShape.url||"https://cdn.jsdelivr.net/gh/assetvoid/images/brush/0.png",E=r.assetMap.getAsset(x);if(E!=null&&E.image){const T=new t.Paint;T.deleteLater(),T.setAntiAlias(!0),T.setColor(t.BLACK),T.setStyle(t.PaintStyle.Stroke),T.setStrokeWidth(r.doScale(3)),T.setBlendMode(t.BlendMode.Clear),e.drawRect(t.XYWHRect(0,0,r.doScale(u.width),r.doScale(u.height)),T),T.setStyle(t.PaintStyle.Fill),T.setStrokeWidth(0),T.setBlendMode(t.BlendMode.DstIn);const C=_d();C.naturalWidth=E.image.width(),C.naturalHeight=E.image.height(),C.width=u.width,C.height=u.height,mc({canvas:e,layer:u,Raptor:t,scale:r.scale,img:E.image,imageInfo:C,paint:T})}}e.restore()}function Gf({Raptor:t,canvas:e,info:n,fileData:r,data:o,layer:u}){n.strokePaints.length>0&&n.strokePaints.forEach(c=>{e.saveLayer(),n.strokeAlign==="OUTSIDE"?(o.strokeScaledPath&&So({canvas:e,Raptor:t,scaledPath:o.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null}),o.fillScaledPath&&So({canvas:e,Raptor:t,scaledPath:o.fillScaledPath,scale:r.scale,layerINFO:n,fill:wm("#000000"),blendMode:t.BlendMode.DstOut,paintStyle:null})):n.strokeAlign==="CENTER"?o.strokeScaledPath&&So({canvas:e,Raptor:t,scaledPath:o.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null}):n.strokeAlign==="INSIDE"&&o.strokeScaledPath&&o.fillScaledPath&&(o.strokeScaledPath.op(o.fillScaledPath,t.PathOp.Intersect),So({canvas:e,Raptor:t,scaledPath:o.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null})),e.restore()})}function yc(t,e,n,r,o){r.forEach(u=>{const c=Yn(o.instanceChain,u),l=Mc({localStore:n.localStore,layer:u,instanceChain:c});t.save(),u.nodeType!=="GROUP"&&(t.translate(n.doScale(l.left),n.doScale(l.top)),t.rotate(l.rotate,n.doScale(l.width/2),n.doScale(l.height/2))),GC(t,e,n,u,{...o,instanceChain:c}),t.restore()})}function UC(t,e,n,r){t.clipRect(e.LTRBRect(0,0,n.doScale(r.width),n.doScale(r.height)),e.ClipOp.Intersect,!0)}class WC{constructor(e){this.map=new Map,this.Raptor=e}isURL(e){return/^(http:|https:)/.test(e)}getAsset(e){const n=this.map.get(e);return n&&n.status==="done"?n:(this.ensureAsset(e),null)}async ensureAsset(e){let n=this.map.get(e);if(n){if(n.status==="done")return n;if(n.promise)return await n.promise,n}return!n&&this.isURL(e)&&(n={status:"",image:null,arrayBuffer:null,promise:null},this.map.set(e,n)),n&&n.status===""&&n.promise===null&&this.isURL(e)&&(n.promise=fetch(e,{}).then(r=>r.arrayBuffer()).then(r=>{if(n)n.arrayBuffer=r,n.image=this.Raptor.MakeImageFromEncoded(r),n.status="done",n.promise=null;else throw new Error("Asset is null");return r}),await n.promise),n}appendAsset({imageSource:e,buffer:n}){const r=e||`${Cd()}.${HC({buffer:n})}`,o=this.Raptor.MakeImageFromEncoded(n);return this.map.set(r,{status:"done",image:o,arrayBuffer:n,promise:null}),{id:r}}}function HC({buffer:t}){const e=Uint8Array.from([137,80,78,71,13,10,26,10]),n=Uint8Array.from([255,216]),r=Uint8Array.from([255,217]),o=new Uint8Array(t.slice(0,8));return o.toString()===e.toString()?"png":new Uint8Array(t.slice(0,2)).toString()===n.toString()&&new Uint8Array(t.slice(t.byteLength-2,t.byteLength)).toString()===r.toString()?"jpg":(console.log(`Unknown image format: ${o}`),"png")}const Wo={PURPLE:"#8638E5",BLUE:"#0d99ff"};function zC({fileData:t,layer:e,Raptor:n,canvas:r}){var o,u;if(t.localStore.editingText&&((o=t.localStore.selectedSingleLayer)==null?void 0:o.nodeType)==="TEXT"&&t.localStore.selectedSingleLayer.id===e.id&&e.textData){const{newParagraph:c}=Nd({Raptor:n,fileData:t,layer:e,persistNewParagraph:!0}),l=c;if(!l)return;(u=t.paragraphManager.activeParagraph)==null||u.delete(),t.paragraphManager.activeParagraph=l;const{start:h,end:p}=t.localStore.selectionInfo.textRange$,b=new n.Paint;if(b.deleteLater(),b.setColor(dn(Wo.BLUE).toFigmaArray()),b.setAntiAlias(!0),b.setAlphaf(.5),h===p){const x=$A({textData:e.textData,paragraph:l,index:h});let E=0,T=0,C=0;l.getLineMetrics().forEach((F,B)=>{B<x.lineNumber?T+=F.height:B===x.lineNumber&&(C=F.height,x.glyph?E=x.glyph.graphemeLayoutBounds[0]:E=Ey({localStore:t.localStore,layer:e,line:F}))}),r.drawRect([E,T,E+2,T+C],b)}else l.getRectsForRange(h,p,n.RectHeightStyle.Tight,n.RectWidthStyle.Tight).forEach(E=>{r.drawRect(E.rect,b)})}}function e0(t){const e=new t.Raptor.Paint;return e.setAntiAlias(!0),e.setStrokeWidth(1),e.setColor(dn(Wo.BLUE).toFigmaArray()),e.setStyle(t.Raptor.PaintStyle.Stroke),e}function Jd(t){const e=new t.Raptor.Paint;e.setAntiAlias(!0),e.setStrokeWidth(1),e.setColor(dn(Wo.BLUE).toFigmaArray());const n=t.Raptor.PathEffect.MakeDash([2,2]);return e.setPathEffect(n),n.delete(),e.setStyle(t.Raptor.PaintStyle.Stroke),e}function Xi(t){return t==="BLUE"?dn(Wo.BLUE).toFigmaArray():t==="PURPLE"?dn(Wo.PURPLE).toFigmaArray():dn(Wo.BLUE).toFigmaArray()}function jC({canvas:t,fileData:e,layer:n}){const r=Da(e,n)?Xi("PURPLE"):Xi("BLUE"),{absoluteTransform:o,rotate:u}=Vi(e,{type:"layer",layerId:n.id});t.save(),t.translate(e.doScale(o[0][2]),e.doScale(o[1][2])),t.rotate(u,0,0);const c=Jd(e);c.setColor(r),t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(n.width),e.doScale(n.height)),c),c.delete(),t.restore()}function XC({fileData:t,canvas:e,layer:n,room:r}){if(n&&r&&AE(t.localStore,n)){const{absoluteTransform:o,rotate:u}=Vi(t,{type:"layer",layerId:r.id});e.save(),e.translate(t.doScale(o[0][2]),t.doScale(o[1][2])),e.rotate(u,0,0);const c=Jd(t),l=TE(n),h=CE(n);(l==="MIN"||l==="STRETCH")&&e.drawLine(t.doScale(0),t.doScale(n.top+n.height/2),t.doScale(n.left),t.doScale(n.top+n.height/2),c),(l==="MAX"||l==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width),t.doScale(n.top+n.height/2),t.doScale(r.width),t.doScale(n.top+n.height/2),c),(h==="MIN"||h==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width/2),t.doScale(0),t.doScale(n.left+n.width/2),t.doScale(n.top),c),(h==="MAX"||h==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width/2),t.doScale(n.top+n.height),t.doScale(n.left+n.width/2),t.doScale(r.height),c),c.delete(),e.restore()}}function VC(t,e,n,r,o){$f({fileData:t,localStore:t.localStore,layer:n,instanceChain:r}).forEach(({childInfo:u})=>{const c=Kn(u),l=_c(c);e.save(),e.translate(t.doScale(c[0][2]),t.doScale(c[1][2])),e.rotate(l,0,0);const h=Jd(t);h.setColor(o),e.drawRect(t.Raptor.XYWHRect(0,0,t.doScale(u.width),t.doScale(u.height)),h),h.delete(),e.restore()})}function YC({fileData:t,canvas:e,layer:n,path:r}){const{absoluteTransform:o,rotate:u}=Vi(t,{type:"layer",layerId:n.id});if(e.save(),e.translate(t.doScale(o[0][2]),t.doScale(o[1][2])),e.rotate(u,0,0),r){const c=new t.Raptor.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setColor(t.Raptor.RED),c.setAlphaf(.2);const l=n.width/n.vectorData.normalizedSize.x*t.scale,h=n.height/n.vectorData.normalizedSize.y*t.scale,p=t.Raptor.Matrix.scaled(l,h),b=r.copy().transform(p);b.deleteLater(),e.drawPath(b,c)}e.restore()}function KC(t,e,n){var E,T,C;const{absoluteTransform:r,rotate:o}=Vi(t,{type:"layer",layerId:n.id});e.save(),e.translate(t.doScale(r[0][2]),t.doScale(r[1][2])),e.rotate(o,0,0);const u=new t.Raptor.Paint;u.deleteLater(),u.setAntiAlias(!0),u.setStyle(t.Raptor.PaintStyle.Stroke),u.setColor(dn(Wo.BLUE).toFigmaArray()),u.setStrokeWidth(2);const c=new t.Raptor.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setStyle(t.Raptor.PaintStyle.Stroke),c.setColor(dn("#E1E4E5").toFigmaArray()),c.setStrokeWidth(2);const l=new t.Raptor.Paint;l.deleteLater(),l.setAntiAlias(!0),l.setStyle(t.Raptor.PaintStyle.Fill),l.setColor(dn("#FFFFFF").toFigmaArray());const h=[];let p=null;((T=(E=t.localStore.editingVector)==null?void 0:E.currentOperation)==null?void 0:T.type)==="SegmentCandidate"&&(p=(C=t.localStore.editingVector)==null?void 0:C.currentOperation);const b=[];n.vectorData.vectorNetwork.vertices.forEach((P,F)=>{const B=va({layer:n,normalizedPoint:P}),z=Ta(r,B);h.push({type:"VectorVertex",vertexIndex:F,localPoint:B,visualPoint:{x:t.doScale(z.x),y:t.doScale(z.y)}})});function x({x:P,y:F,dx:B,dy:z,segmentId:U,kind:ee}){if(!(B===0&&z===0)){const re=va({layer:n,normalizedPoint:{x:P,y:F}}),le=va({layer:n,normalizedPoint:{x:B,y:z}}),Ae={x:re.x+le.x,y:re.y+le.y};if(e.drawCircle(t.doScale(Ae.x),t.doScale(Ae.y),3,c),e.drawLine(t.doScale(re.x),t.doScale(re.y),t.doScale(Ae.x),t.doScale(Ae.y),c),U>-1){const J=Ta(r,Ae);t.overlay$$.push({type:"BezierControlPoint",segmentId:U,kind:ee,visualPoint:{x:t.doScale(J.x),y:t.doScale(J.y)},radius:3})}}}if(n.vectorData.vectorNetwork.segments.forEach((P,F)=>{const{start:B,end:z}=P,U=n.vectorData.vectorNetwork.vertices[B.vertex],ee=n.vectorData.vectorNetwork.vertices[z.vertex];U&&x({x:U.x,y:U.y,dx:B.dx,dy:B.dy,segmentId:F,kind:"start"}),ee&&x({x:ee.x,y:ee.y,dx:z.dx,dy:z.dy,segmentId:F,kind:"end"})}),p){const{startVertex:P,endVertex:F}=p;P.vid&&(P.vid===-1&&b.push({type:"VectorVertex",vertexIndex:-1,localPoint:va({layer:n,normalizedPoint:{x:P.x,y:P.y}}),visualPoint:{x:0,y:0}}),x({x:P.x,y:P.y,dx:P.dx,dy:P.dy,segmentId:-1,kind:"start"})),F.vid===-1&&(b.push({type:"VectorVertex",vertexIndex:-1,localPoint:va({layer:n,normalizedPoint:{x:F.x,y:F.y}}),visualPoint:{x:0,y:0}}),x({x:F.x,y:F.y,dx:F.dx,dy:F.dy,segmentId:-1,kind:"end"}))}if(h.forEach((P,F)=>{const B=t.doScale(P.localPoint.x),z=t.doScale(P.localPoint.y);e.drawCircle(B,z,3,u),e.drawCircle(B,z,3,l),t.overlayFont&&e.drawText(`${P.vertexIndex}`,B,z,l,t.overlayFont)}),b.forEach((P,F)=>{const B=t.doScale(P.localPoint.x),z=t.doScale(P.localPoint.y);e.drawCircle(B,z,3,u),e.drawCircle(B,z,3,l)}),t.overlay$$.push(...h),p&&t.localStore.currentStatus!=="bendingSegment"){const{startVertex:P,endVertex:F}=p;if(P&&t.localStore.currentTool==="VectorPenTool"&&!(P.x===F.x&&P.y===F.y)){const B={x:P.x+P.dx,y:P.y+P.dy},z={x:F.x+F.dx,y:F.y+F.dy},U=new t.Raptor.Path;if(U.deleteLater(),U.moveTo(P.x,P.y),U.cubicTo(B.x,B.y,z.x,z.y,F.x,F.y),n.width>0&&n.height>0){const ee=t.Raptor.Matrix.scaled(n.width/n.vectorData.normalizedSize.x*t.scale,n.height/n.vectorData.normalizedSize.y*t.scale);U.transform(ee)}e.drawPath(U,u)}}e.restore()}function QC({canvas:t,fileData:e,Raptor:n}){const{hoveredTarget:r}=e,o=(r==null?void 0:r.id)||"",u=e.localStore.getLayer(o);if(u&&r){const{instanceChain:c,absoluteTransform:l,rotate:h}=kd({fileData:e,target:r}),p=Da(e,u)||c.length>0?Xi("PURPLE"):Xi("BLUE");{const b=Jt({localStore:e.localStore,layer:u,instanceChain:c});t.save(),t.translate(e.doScale(l[0][2]),e.doScale(l[1][2])),t.rotate(h,0,0);const x=new n.Paint;x.setAntiAlias(!0),x.setColor(p),x.setStrokeWidth(2),x.setStyle(n.PaintStyle.Stroke);const E=Qm({layer:u,layerInfo:b});t.drawRect(n.XYWHRect(0,0,e.doScale(E.width),e.doScale(E.height)),x),x.delete(),Mn(u)!=="NONE"&&VC(e,t,u,c,p),t.restore()}}}function qC({canvas:t,fileData:e,layer:n,instanceChain:r}){const o=Jt({localStore:e.localStore,layer:n,instanceChain:r}),{absoluteTransform:u,rotate:c}=Vi(e,{type:"layer",layerId:n.id});t.save(),t.translate(e.doScale(u[0][2]),e.doScale(u[1][2])),t.rotate(c,0,0);const l=e0(e);l.deleteLater(),l.setStrokeWidth(1.5),Da(e,n)?l.setColor(Xi("PURPLE")):l.setColor(Xi("BLUE"));const h=Qm({layer:n,layerInfo:o});t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(h.width),e.doScale(h.height)),l);const p=new e.Raptor.Paint;p.deleteLater(),p.setColor(e.Raptor.WHITE),p.setStyle(e.Raptor.PaintStyle.Fill),p.setAntiAlias(!0),[[0,0],[h.width,0],[0,h.height],[h.width,h.height]].forEach(b=>{t.save(),t.translate(e.doScale(b[0]),e.doScale(b[1])),JC({canvas:t,fillPaint:p,linePaint:l,fileData:e}),t.restore()}),t.restore()}function JC({canvas:t,linePaint:e,fillPaint:n,fileData:r}){t.drawRect(r.Raptor.XYWHRect(-4,-4,8,8),e),t.drawRect(r.Raptor.XYWHRect(-4,-4,8,8),n)}function ZC({canvas:t,fileData:e,options:n}){const{localStore:r}=e;e.overlay$$=[],QC({canvas:t,fileData:e,Raptor:e.Raptor});const o=e.localStore.props.getSelectionInfo();if(o.phantom===null){const c=BE(e.localStore).layer;if(c){if(c.nodeType==="TEXT"){const l=c,{absoluteTransform:h,rotate:p}=Vi(e,{type:"layer",layerId:l.id});t.save(),t.translate(e.doScale(h[0][2]),e.doScale(h[1][2])),t.rotate(p,0,0),zC({fileData:e,Raptor:e.Raptor,canvas:t,layer:c}),t.restore()}if(c.nodeType==="vector"){const l=c,{absoluteTransform:h,rotate:p}=Vi(e,{type:"layer",layerId:l.id});t.save(),t.translate(e.doScale(h[0][2]),e.doScale(h[1][2])),t.rotate(p,0,0);const b=new e.Raptor.Paint;b.deleteLater(),b.setColor(Xi("BLUE")),b.setStyle(e.Raptor.PaintStyle.Stroke),b.setStrokeWidth(2),b.setAntiAlias(!0),l.vectorData.vectorNetwork.segments.forEach(x=>{const E=l.vectorData.vectorNetwork.vertices[x.start.vertex],T=l.vectorData.vectorNetwork.vertices[x.end.vertex];if(E&&T){const C=new e.Raptor.Path;C.deleteLater(),C.moveTo(E.x,E.y),x.start.dx===0&&x.start.dy===0&&x.end.dx===0&&x.end.dy===0?C.lineTo(T.x,T.y):C.cubicTo(E.x+x.start.dx,E.y+x.start.dy,T.x+x.end.dx,T.y+x.end.dy,T.x,T.y),C.transform(e.Raptor.Matrix.scaled(l.width/l.vectorData.normalizedSize.x*e.scale,l.height/l.vectorData.normalizedSize.y*e.scale)),t.drawPath(C,b)}}),t.restore()}if(c.nodeType==="vector"&&e.localStore.editingVector){const l=c;if(r.vectorEditor&&r.pointerTarget$$&&r.pointerTarget$$.type==="VectorRegion"){const h=r.pointerTarget$$.regionId,p=r.vectorEditor.closedPathList[h];p&&YC({fileData:e,canvas:t,layer:l,path:p})}KC(e,t,l)}else{const l=$r(e,c.parentId);l&&Mn(l)!=="NONE"&&jC({canvas:t,fileData:e,layer:l}),n.enableDrawResizer&&qC({fileData:e,canvas:t,layer:c,instanceChain:[]});const h=Dr(e.localStore,c);h&&XC({fileData:e,canvas:t,layer:c,room:h})}}}if(o.phantom){const{phantom:u}=o,{absoluteTransform:c,instanceChain:l,rotate:h}=kd({fileData:e,target:u}),{id:p}=u,b=$r(e,p);if(b){const x=Mc({localStore:e.localStore,layer:b,instanceChain:l});t.save(),t.translate(e.doScale(c[0][2]),e.doScale(c[1][2])),t.rotate(h,0,0);const E=e0(e);E.setColor(Da(e,b)?Xi("PURPLE"):Xi("BLUE")),t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(x.width),e.doScale(x.height)),E),E.delete(),t.restore()}}}function e_({libra:t,width:e,height:n}){var r;t.canvasElement.width=e*window.devicePixelRatio,t.canvasElement.height=n*window.devicePixelRatio,(r=t.surface)==null||r.deleteLater(),t.surface=t.Raptor.MakeOnScreenGLSurface(t.gr,t.canvasElement.width,t.canvasElement.height,t.Raptor.ColorSpace.SRGB),t.canvasDirty=!0}function kR({path:t,localStore:e,elem:n,width:r,height:o,fontStore:u}){return _2({locateFile:l=>`${t}${l}`}).then(l=>{var E;const h=l.GetWebGLContext(n,{preserveDrawingBuffer:1}),b={gr:l.MakeWebGLContext(h),Raptor:l,canvasElement:n,surface:null,canvasDirty:!1,fileData:{localStore:e,layerAssetsMap:{},layerMap:{},fontProvider:l.TypefaceFontProvider.Make(),fontStore:u,snapshotMap:{},doScale(T){return T*e.getPageScale()},get scale(){return e.getPageScale()},assetMap:new WC(l),paragraphManager:{activeParagraph:null},Raptor:l,hoveredTarget:null,overlay$$:[],overlayFont:null}};e_({libra:b,width:r,height:o}),e.props.doAction=()=>{b.canvasDirty=!0};function x(T){var C;if(b.canvasDirty){b.canvasDirty=!1;try{const P=[...e.getNormalLayerList()],F=e.getPageScale();r_({libra:b,canvas:T,layerList:P,scale:F,page:e.props.getCurrentPage(),...xy({localStore:e,canvasElement:n})})}catch(P){console.error(P)}}(C=b.surface)==null||C.requestAnimationFrame(x)}return(E=b.surface)==null||E.requestAnimationFrame(x),b})}const Wi=typeof window<"u"?document.createElement("canvas"):null;let xf=!1;function t_({libra:t,page:e,layerList:n,isThumbnail:r}){if(xf)throw new Error("Offscreen canvas is busy");return xf=!0,new Promise(o=>{if(!Wi)throw new Error("Offscreen canvas does not exist");let u=1;Wi.width=e.width,Wi.height=e.height,r?(Wi.width=300,u=300/e.width,Wi.height=e.height*u):(u=Math.min(4e3/e.width,4e3/e.height,2),Wi.width=e.width*u,Wi.height=e.height*u);const c=t.Raptor.MakeWebGLCanvasSurface(Wi);c==null||c.drawOnce(l=>{l.clear(t.Raptor.TRANSPARENT),l.save();const h={...t.fileData,scale:u,doScale:p=>p*u};t0({fileData:h,Raptor:t.Raptor,canvas:l,page:e,layerList:n,scale:u}),l.restore()}),setTimeout(()=>{Wi.toBlob(l=>{l&&(xf=!1,o(l))},"image/png",1)},1e3)})}async function RR({libra:t,page:e,layerList:n,filename:r}){const o=await t_({libra:t,page:e,layerList:n,isThumbnail:!1});o&&n_({blob:o,filename:r})}function n_({blob:t,filename:e}){const n=window.URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.href=n,r.download=e,r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)}function t0({Raptor:t,fileData:e,canvas:n,page:r,layerList:o,scale:u}){const c=PC({Raptor:t,width:r.width*u,height:r.height*u,cornerRadius:0});c&&(c==null||c.deleteLater(),r.fillPaints.forEach(l=>{So({fill:l,Raptor:t,canvas:n,scaledPath:c,scale:u,paintStyle:null,blendMode:null,layerINFO:{}})})),yc(n,t,e,o,{bounds:V2({x:-9e5/e.scale,y:-9e5/e.scale,width:18e5/e.scale,height:18e5/e.scale}),useSnapshot:!1,tile:null,instanceChain:[]})}function r_({left:t,top:e,libra:n,canvas:r,page:o,layerList:u,scale:c}){r.clear(n.Raptor.TRANSPARENT),r.save(),r.scale(window.devicePixelRatio,window.devicePixelRatio),r.translate(t,e),r.save(),r.clipRect(n.Raptor.XYWHRect(0,0,o.width*c,o.height*c),n.Raptor.ClipOp.Intersect,!0),t0({Raptor:n.Raptor,canvas:r,page:o,layerList:u,scale:c,fileData:n.fileData}),r.restore(),ZC({fileData:n.fileData,canvas:r,options:{enableDrawResizer:!1}}),r.restore()}var i_=Object.defineProperty,o_=Object.getOwnPropertyDescriptor,n0=(t,e,n,r)=>{for(var o=r>1?void 0:r?o_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&i_(e,n,o),o};class r0{constructor(e){this.containerAbsoluteTransform=null,this.layerToBeCreated={startWorldPoint:null,endWorldPoint:null},Na(this),this.context=e,this.fileData=e.fileData}get currentPage(){return this.fileData.localStore.props.getCurrentPage()}get topLevelLayerList(){return this.currentPage.children}get layerMap(){return this.fileData.layerMap}get layerToBeCreatedRect(){const e=this,n={left:0,top:0,width:0,height:0};return e&&e.layerToBeCreated.startWorldPoint&&e.layerToBeCreated.endWorldPoint&&(n.left=Math.min(e.layerToBeCreated.startWorldPoint.x,e.layerToBeCreated.endWorldPoint.x),n.top=Math.min(e.layerToBeCreated.startWorldPoint.y,e.layerToBeCreated.endWorldPoint.y),n.width=Math.abs(e.layerToBeCreated.startWorldPoint.x-e.layerToBeCreated.endWorldPoint.x),n.height=Math.abs(e.layerToBeCreated.startWorldPoint.y-e.layerToBeCreated.endWorldPoint.y)),n}}n0([He],r0.prototype,"layerToBeCreated",2);n0([mt],r0.prototype,"layerToBeCreatedRect",1);const s_={PIXI:{}};typeof window<"u"&&ym(()=>import("./pixi-legacy-_fx4_RaV.js"),__vite__mapDeps([0,1,2,3])).then(t=>{s_.PIXI=t});const a_={};typeof window<"u"&&ym(()=>import("./index-Ctga1AvS.js").then(t=>t.i),__vite__mapDeps([4,2,1,5])).then(t=>{a_.ReactQuill=t.default});var i0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var u="",c=0;c<arguments.length;c++){var l=arguments[c];l&&(u=o(u,r(l)))}return u}function r(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var c="";for(var l in u)e.call(u,l)&&u[l]&&(c=o(c,l));return c}function o(u,c){return c?u?u+" "+c:u+c:u}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(i0);var u_=i0.exports;const ei=Ko(u_);function or(){return or=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},or.apply(null,arguments)}function Tt(t){"@babel/helpers - typeof";return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(t)}var c_=Symbol.for("react.element"),l_=Symbol.for("react.transitional.element"),f_=Symbol.for("react.fragment");function d_(t){return t&&Tt(t)==="object"&&(t.$$typeof===c_||t.$$typeof===l_)&&t.type===f_}var Uf={},h_=function(e){};function p_(t,e){}function g_(t,e){}function m_(){Uf={}}function o0(t,e,n){!e&&!Uf[n]&&(t(!1,n),Uf[n]=!0)}function ja(t,e){o0(p_,t,e)}function y_(t,e){o0(g_,t,e)}ja.preMessage=h_;ja.resetWarned=m_;ja.noteOnce=y_;function v_(t,e){if(Tt(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s0(t){var e=v_(t,"string");return Tt(e)=="symbol"?e:e+""}function je(t,e,n){return(e=s0(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eg(Object(n),!0).forEach(function(r){je(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ag(t){return t instanceof HTMLElement||t instanceof SVGElement}function w_(t){return t&&Tt(t)==="object"&&Ag(t.nativeElement)?t.nativeElement:Ag(t)?t:null}function b_(t){var e=w_(t);if(e)return e;if(t instanceof Vt.Component){var n;return(n=qp.findDOMNode)===null||n===void 0?void 0:n.call(qp,t)}return null}var a0={exports:{}},Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd=Symbol.for("react.element"),eh=Symbol.for("react.portal"),Wc=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),zc=Symbol.for("react.profiler"),jc=Symbol.for("react.provider"),Xc=Symbol.for("react.context"),x_=Symbol.for("react.server_context"),Vc=Symbol.for("react.forward_ref"),Yc=Symbol.for("react.suspense"),Kc=Symbol.for("react.suspense_list"),Qc=Symbol.for("react.memo"),qc=Symbol.for("react.lazy"),S_=Symbol.for("react.offscreen"),u0;u0=Symbol.for("react.module.reference");function Wr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Zd:switch(t=t.type,t){case Wc:case zc:case Hc:case Yc:case Kc:return t;default:switch(t=t&&t.$$typeof,t){case x_:case Xc:case Vc:case qc:case Qc:case jc:return t;default:return e}}case eh:return e}}}Ft.ContextConsumer=Xc;Ft.ContextProvider=jc;Ft.Element=Zd;Ft.ForwardRef=Vc;Ft.Fragment=Wc;Ft.Lazy=qc;Ft.Memo=Qc;Ft.Portal=eh;Ft.Profiler=zc;Ft.StrictMode=Hc;Ft.Suspense=Yc;Ft.SuspenseList=Kc;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(t){return Wr(t)===Xc};Ft.isContextProvider=function(t){return Wr(t)===jc};Ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zd};Ft.isForwardRef=function(t){return Wr(t)===Vc};Ft.isFragment=function(t){return Wr(t)===Wc};Ft.isLazy=function(t){return Wr(t)===qc};Ft.isMemo=function(t){return Wr(t)===Qc};Ft.isPortal=function(t){return Wr(t)===eh};Ft.isProfiler=function(t){return Wr(t)===zc};Ft.isStrictMode=function(t){return Wr(t)===Hc};Ft.isSuspense=function(t){return Wr(t)===Yc};Ft.isSuspenseList=function(t){return Wr(t)===Kc};Ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wc||t===zc||t===Hc||t===Yc||t===Kc||t===S_||typeof t=="object"&&t!==null&&(t.$$typeof===qc||t.$$typeof===Qc||t.$$typeof===jc||t.$$typeof===Xc||t.$$typeof===Vc||t.$$typeof===u0||t.getModuleId!==void 0)};Ft.typeOf=Wr;a0.exports=Ft;var Sf=a0.exports;function th(t,e,n){var r=q.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var E_=Number(q.version.split(".")[0]),c0=function(e,n){typeof e=="function"?e(n):Tt(e)==="object"&&e&&"current"in e&&(e.current=n)},A_=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.filter(Boolean);return o.length<=1?o[0]:function(u){n.forEach(function(c){c0(c,u)})}},OR=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return th(function(){return A_.apply(void 0,n)},n,function(o,u){return o.length!==u.length||o.every(function(c,l){return c!==u[l]})})},l0=function(e){var n,r;if(!e)return!1;if(nh(e)&&E_>=19)return!0;var o=Sf.isMemo(e)?e.type.type:e.type;return!(typeof o=="function"&&!((n=o.prototype)!==null&&n!==void 0&&n.render)&&o.$$typeof!==Sf.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==Sf.ForwardRef)};function nh(t){return q.isValidElement(t)&&!d_(t)}var FR=function(e){return nh(e)&&l0(e)},T_=function(e){if(e&&nh(e)){var n=e;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null};function wi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s0(r.key),r)}}function bi(t,e,n){return e&&Tg(t.prototype,e),n&&Tg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wf(t,e){return Wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Wf(t,e)}function Jc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wf(t,e)}function vc(t){return vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vc(t)}function f0(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f0=function(){return!!t})()}function Ho(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C_(t,e){if(e&&(Tt(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ho(t)}function Zc(t){var e=f0();return function(){var n,r=vc(t);if(e){var o=vc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C_(this,n)}}function Hf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function __(t){if(Array.isArray(t))return Hf(t)}function d0(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rh(t,e){if(t){if(typeof t=="string")return Hf(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hf(t,e):void 0}}function L_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mr(t){return __(t)||d0(t)||rh(t)||L_()}var h0=function(e){return+setTimeout(e,16)},p0=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(h0=function(e){return window.requestAnimationFrame(e)},p0=function(e){return window.cancelAnimationFrame(e)});var Cg=0,ih=new Map;function g0(t){ih.delete(t)}var zf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Cg+=1;var r=Cg;function o(u){if(u===0)g0(r),e();else{var c=h0(function(){o(u-1)});ih.set(r,c)}}return o(n),r};zf.cancel=function(t){var e=ih.get(t);return g0(t),p0(e)};function m0(t){if(Array.isArray(t))return t}function P_(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,u,c,l=[],h=!0,p=!1;try{if(u=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=u.call(n)).done)&&(l.push(r.value),l.length!==e);h=!0);}catch(b){p=!0,o=b}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(p)throw o}}return l}}function y0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function et(t,e){return m0(t)||P_(t,e)||rh(t,e)||y0()}function _a(t){for(var e=0,n,r=0,o=t.length;o>=4;++r,o-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Ki(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function M_(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var _g="data-rc-order",Lg="data-rc-priority",I_="rc-util-key",jf=new Map;function v0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):I_}function el(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function k_(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function oh(t){return Array.from((jf.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function w0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ki())return null;var n=e.csp,r=e.prepend,o=e.priority,u=o===void 0?0:o,c=k_(r),l=c==="prependQueue",h=document.createElement("style");h.setAttribute(_g,c),l&&u&&h.setAttribute(Lg,"".concat(u)),n!=null&&n.nonce&&(h.nonce=n==null?void 0:n.nonce),h.innerHTML=t;var p=el(e),b=p.firstChild;if(r){if(l){var x=(e.styles||oh(p)).filter(function(E){if(!["prepend","prependQueue"].includes(E.getAttribute(_g)))return!1;var T=Number(E.getAttribute(Lg)||0);return u>=T});if(x.length)return p.insertBefore(h,x[x.length-1].nextSibling),h}p.insertBefore(h,b)}else p.appendChild(h);return h}function b0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=el(e);return(e.styles||oh(n)).find(function(r){return r.getAttribute(v0(e))===t})}function x0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=b0(t,e);if(n){var r=el(e);r.removeChild(n)}}function R_(t,e){var n=jf.get(t);if(!n||!M_(document,n)){var r=w0("",e),o=r.parentNode;jf.set(t,o),t.removeChild(r)}}function zo(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=el(n),o=oh(r),u=Be(Be({},n),{},{styles:o});R_(r,u);var c=b0(e,u);if(c){var l,h;if((l=u.csp)!==null&&l!==void 0&&l.nonce&&c.nonce!==((h=u.csp)===null||h===void 0?void 0:h.nonce)){var p;c.nonce=(p=u.csp)===null||p===void 0?void 0:p.nonce}return c.innerHTML!==t&&(c.innerHTML=t),c}var b=w0(t,u);return b.setAttribute(v0(u),e),b}function O_(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yo(t,e){if(t==null)return{};var n,r,o=O_(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(r=0;r<u.length;r++)n=u[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function F_(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function o(u,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=r.has(u);if(ja(!h,"Warning: There may be circular references"),h)return!1;if(u===c)return!0;if(n&&l>1)return!1;r.add(u);var p=l+1;if(Array.isArray(u)){if(!Array.isArray(c)||u.length!==c.length)return!1;for(var b=0;b<u.length;b++)if(!o(u[b],c[b],p))return!1;return!0}if(u&&c&&Tt(u)==="object"&&Tt(c)==="object"){var x=Object.keys(u);return x.length!==Object.keys(c).length?!1:x.every(function(E){return o(u[E],c[E],p)})}return!1}return o(t,e)}var N_="%";function Xf(t){return t.join(N_)}var $_=function(){function t(e){wi(this,t),je(this,"instanceId",void 0),je(this,"cache",new Map),this.instanceId=e}return bi(t,[{key:"get",value:function(n){return this.opGet(Xf(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(Xf(n),r)}},{key:"opUpdate",value:function(n,r){var o=this.cache.get(n),u=r(o);u===null?this.cache.delete(n):this.cache.set(n,u)}}]),t}(),Cs="data-token-hash",ti="data-css-hash",Eo="__cssinjs_instance__";function B_(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(ti,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(o){o[Eo]=o[Eo]||t,o[Eo]===t&&document.head.insertBefore(o,n)});var r={};Array.from(document.querySelectorAll("style[".concat(ti,"]"))).forEach(function(o){var u=o.getAttribute(ti);if(r[u]){if(o[Eo]===t){var c;(c=o.parentNode)===null||c===void 0||c.removeChild(o)}}else r[u]=!0})}return new $_(t)}var Xa=q.createContext({hashPriority:"low",cache:B_(),defaultCache:!0});function D_(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var sh=function(){function t(){wi(this,t),je(this,"cache",void 0),je(this,"keys",void 0),je(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return bi(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,o,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c={map:this.cache};return n.forEach(function(l){if(!c)c=void 0;else{var h;c=(h=c)===null||h===void 0||(h=h.map)===null||h===void 0?void 0:h.get(l)}}),(r=c)!==null&&r!==void 0&&r.value&&u&&(c.value[1]=this.cacheCallTimes++),(o=c)===null||o===void 0?void 0:o.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var o=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var u=this.keys.reduce(function(p,b){var x=et(p,2),E=x[1];return o.internalGet(b)[1]<E?[b,o.internalGet(b)[1]]:p},[this.keys[0],this.cacheCallTimes]),c=et(u,1),l=c[0];this.delete(l)}this.keys.push(n)}var h=this.cache;n.forEach(function(p,b){if(b===n.length-1)h.set(p,{value:[r,o.cacheCallTimes++]});else{var x=h.get(p);x?x.map||(x.map=new Map):h.set(p,{map:new Map}),h=h.get(p).map}})}},{key:"deleteByPath",value:function(n,r){var o=n.get(r[0]);if(r.length===1){var u;return o.map?n.set(r[0],{map:o.map}):n.delete(r[0]),(u=o.value)===null||u===void 0?void 0:u[0]}var c=this.deleteByPath(o.map,r.slice(1));return(!o.map||o.map.size===0)&&!o.value&&n.delete(r[0]),c}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!D_(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();je(sh,"MAX_CACHE_SIZE",20);je(sh,"MAX_CACHE_OFFSET",5);var Pg=0,S0=function(){function t(e){wi(this,t),je(this,"derivatives",void 0),je(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=Pg,e.length===0&&(e.length>0,void 0),Pg+=1}return bi(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,o){return o(n,r)},void 0)}}]),t}(),Ef=new sh;function Vf(t){var e=Array.isArray(t)?t:[t];return Ef.has(e)||Ef.set(e,new S0(e)),Ef.get(e)}var G_=new WeakMap,Af={};function U_(t,e){for(var n=G_,r=0;r<e.length;r+=1){var o=e[r];n.has(o)||n.set(o,new WeakMap),n=n.get(o)}return n.has(Af)||n.set(Af,t()),n.get(Af)}var Mg=new WeakMap;function Sa(t){var e=Mg.get(t)||"";return e||(Object.keys(t).forEach(function(n){var r=t[n];e+=n,r instanceof S0?e+=r.id:r&&Tt(r)==="object"?e+=Sa(r):e+=r}),e=_a(e),Mg.set(t,e)),e}function Ig(t,e){return _a("".concat(e,"_").concat(Sa(t)))}var Yf=Ki();function Kf(t){return typeof t=="number"?"".concat(t,"px"):t}function wc(t,e,n){var r,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(u)return t;var c=Be(Be({},o),{},(r={},je(r,Cs,e),je(r,ti,n),r)),l=Object.keys(c).map(function(h){var p=c[h];return p?"".concat(h,'="').concat(p,'"'):null}).filter(function(h){return h}).join(" ");return"<style ".concat(l,">").concat(t,"</style>")}var ic=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},W_=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(o){var u=et(o,2),c=u[0],l=u[1];return"".concat(c,":").concat(l,";")}).join(""),"}"):""},E0=function(e,n,r){var o={},u={};return Object.entries(e).forEach(function(c){var l,h,p=et(c,2),b=p[0],x=p[1];if(r!=null&&(l=r.preserve)!==null&&l!==void 0&&l[b])u[b]=x;else if((typeof x=="string"||typeof x=="number")&&!(r!=null&&(h=r.ignore)!==null&&h!==void 0&&h[b])){var E,T=ic(b,r==null?void 0:r.prefix);o[T]=typeof x=="number"&&!(r!=null&&(E=r.unitless)!==null&&E!==void 0&&E[b])?"".concat(x,"px"):String(x),u[b]="var(".concat(T,")")}}),[u,W_(o,n,{scope:r==null?void 0:r.scope})]},kg=Ki()?q.useLayoutEffect:q.useEffect,A0=function(e,n){var r=q.useRef(!0);kg(function(){return e(r.current)},n),kg(function(){return r.current=!1,function(){r.current=!0}},[])},NR=function(e,n){A0(function(r){if(!r)return e()},n)},H_=Be({},Td),Rg=H_.useInsertionEffect,z_=function(e,n,r){q.useMemo(e,r),A0(function(){return n(!0)},r)},j_=Rg?function(t,e,n){return Rg(function(){return t(),e()},n)}:z_,X_=Be({},Td),V_=X_.useInsertionEffect,Y_=function(e){var n=[],r=!1;function o(u){r||n.push(u)}return q.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(u){return u()})}},e),o},K_=function(){return function(e){e()}},Q_=typeof V_<"u"?Y_:K_;function ah(t,e,n,r,o){var u=q.useContext(Xa),c=u.cache,l=[t].concat(mr(e)),h=Xf(l),p=Q_([h]),b=function(C){c.opUpdate(h,function(P){var F=P||[void 0,void 0],B=et(F,2),z=B[0],U=z===void 0?0:z,ee=B[1],ne=ee,re=ne||n(),le=[U,re];return C?C(le):le})};q.useMemo(function(){b()},[h]);var x=c.opGet(h),E=x[1];return j_(function(){o==null||o(E)},function(T){return b(function(C){var P=et(C,2),F=P[0],B=P[1];return T&&F===0&&(o==null||o(E)),[F+1,B]}),function(){c.opUpdate(h,function(C){var P=C||[],F=et(P,2),B=F[0],z=B===void 0?0:B,U=F[1],ee=z-1;return ee===0?(p(function(){(T||!c.opGet(h))&&(r==null||r(U,!1))}),null):[z-1,U]})}},[h]),E}var q_={},J_="css",Go=new Map;function Z_(t){Go.set(t,(Go.get(t)||0)+1)}function eL(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Cs,'="').concat(t,'"]'));n.forEach(function(r){if(r[Eo]===e){var o;(o=r.parentNode)===null||o===void 0||o.removeChild(r)}})}}var tL=0;function nL(t,e){Go.set(t,(Go.get(t)||0)-1);var n=Array.from(Go.keys()),r=n.filter(function(o){var u=Go.get(o)||0;return u<=0});n.length-r.length>tL&&r.forEach(function(o){eL(o,e),Go.delete(o)})}var rL=function(e,n,r,o){var u=r.getDerivativeToken(e),c=Be(Be({},u),n);return o&&(c=o(c)),c},T0="token";function iL(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=q.useContext(Xa),o=r.cache.instanceId,u=r.container,c=n.salt,l=c===void 0?"":c,h=n.override,p=h===void 0?q_:h,b=n.formatToken,x=n.getComputedToken,E=n.cssVar,T=U_(function(){return Object.assign.apply(Object,[{}].concat(mr(e)))},e),C=Sa(T),P=Sa(p),F=E?Sa(E):"",B=ah(T0,[l,t.id,C,P,F],function(){var z,U=x?x(T,p,t):rL(T,p,t,b),ee=Be({},U),ne="";if(E){var re=E0(U,E.key,{prefix:E.prefix,ignore:E.ignore,unitless:E.unitless,preserve:E.preserve}),le=et(re,2);U=le[0],ne=le[1]}var Ae=Ig(U,l);U._tokenKey=Ae,ee._tokenKey=Ig(ee,l);var J=(z=E==null?void 0:E.key)!==null&&z!==void 0?z:Ae;U._themeKey=J,Z_(J);var pe="".concat(J_,"-").concat(_a(Ae));return U._hashId=pe,[U,pe,ee,ne,(E==null?void 0:E.key)||""]},function(z){nL(z[0]._themeKey,o)},function(z){var U=et(z,4),ee=U[0],ne=U[3];if(E&&ne){var re=zo(ne,_a("css-variables-".concat(ee._themeKey)),{mark:ti,prepend:"queue",attachTo:u,priority:-999});re[Eo]=o,re.setAttribute(Cs,ee._themeKey)}});return B}var oL=function(e,n,r){var o=et(e,5),u=o[2],c=o[3],l=o[4],h=r||{},p=h.plain;if(!c)return null;var b=u._tokenKey,x=-999,E={"data-rc-order":"prependQueue","data-rc-priority":"".concat(x)},T=wc(c,l,b,E,p);return[x,b,T]},sL={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},C0="comm",_0="rule",L0="decl",aL="@import",uL="@namespace",cL="@keyframes",lL="@layer",P0=Math.abs,uh=String.fromCharCode;function M0(t){return t.trim()}function oc(t,e,n){return t.replace(e,n)}function fL(t,e,n){return t.indexOf(e,n)}function Es(t,e){return t.charCodeAt(e)|0}function _s(t,e,n){return t.slice(e,n)}function gi(t){return t.length}function dL(t){return t.length}function Vu(t,e){return e.push(t),t}var tl=1,Ls=1,I0=0,Ur=0,vn=0,Rs="";function ch(t,e,n,r,o,u,c,l){return{value:t,root:e,parent:n,type:r,props:o,children:u,line:tl,column:Ls,length:c,return:"",siblings:l}}function hL(){return vn}function pL(){return vn=Ur>0?Es(Rs,--Ur):0,Ls--,vn===10&&(Ls=1,tl--),vn}function ni(){return vn=Ur<I0?Es(Rs,Ur++):0,Ls++,vn===10&&(Ls=1,tl++),vn}function Ao(){return Es(Rs,Ur)}function sc(){return Ur}function nl(t,e){return _s(Rs,t,e)}function La(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gL(t){return tl=Ls=1,I0=gi(Rs=t),Ur=0,[]}function mL(t){return Rs="",t}function Tf(t){return M0(nl(Ur-1,Qf(t===91?t+2:t===40?t+1:t)))}function yL(t){for(;(vn=Ao())&&vn<33;)ni();return La(t)>2||La(vn)>3?"":" "}function vL(t,e){for(;--e&&ni()&&!(vn<48||vn>102||vn>57&&vn<65||vn>70&&vn<97););return nl(t,sc()+(e<6&&Ao()==32&&ni()==32))}function Qf(t){for(;ni();)switch(vn){case t:return Ur;case 34:case 39:t!==34&&t!==39&&Qf(vn);break;case 40:t===41&&Qf(t);break;case 92:ni();break}return Ur}function wL(t,e){for(;ni()&&t+vn!==57;)if(t+vn===84&&Ao()===47)break;return"/*"+nl(e,Ur-1)+"*"+uh(t===47?t:ni())}function bL(t){for(;!La(Ao());)ni();return nl(t,Ur)}function xL(t){return mL(ac("",null,null,null,[""],t=gL(t),0,[0],t))}function ac(t,e,n,r,o,u,c,l,h){for(var p=0,b=0,x=c,E=0,T=0,C=0,P=1,F=1,B=1,z=0,U="",ee=o,ne=u,re=r,le=U;F;)switch(C=z,z=ni()){case 40:if(C!=108&&Es(le,x-1)==58){fL(le+=oc(Tf(z),"&","&\f"),"&\f",P0(p?l[p-1]:0))!=-1&&(B=-1);break}case 34:case 39:case 91:le+=Tf(z);break;case 9:case 10:case 13:case 32:le+=yL(C);break;case 92:le+=vL(sc()-1,7);continue;case 47:switch(Ao()){case 42:case 47:Vu(SL(wL(ni(),sc()),e,n,h),h),(La(C||1)==5||La(Ao()||1)==5)&&gi(le)&&_s(le,-1,void 0)!==" "&&(le+=" ");break;default:le+="/"}break;case 123*P:l[p++]=gi(le)*B;case 125*P:case 59:case 0:switch(z){case 0:case 125:F=0;case 59+b:B==-1&&(le=oc(le,/\f/g,"")),T>0&&(gi(le)-x||P===0&&C===47)&&Vu(T>32?Fg(le+";",r,n,x-1,h):Fg(oc(le," ","")+";",r,n,x-2,h),h);break;case 59:le+=";";default:if(Vu(re=Og(le,e,n,p,b,o,l,U,ee=[],ne=[],x,u),u),z===123)if(b===0)ac(le,e,re,re,ee,u,x,l,ne);else{switch(E){case 99:if(Es(le,3)===110)break;case 108:if(Es(le,2)===97)break;default:b=0;case 100:case 109:case 115:}b?ac(t,re,re,r&&Vu(Og(t,re,re,0,0,o,l,U,o,ee=[],x,ne),ne),o,ne,x,l,r?ee:ne):ac(le,re,re,re,[""],ne,0,l,ne)}}p=b=T=0,P=B=1,U=le="",x=c;break;case 58:x=1+gi(le),T=C;default:if(P<1){if(z==123)--P;else if(z==125&&P++==0&&pL()==125)continue}switch(le+=uh(z),z*P){case 38:B=b>0?1:(le+="\f",-1);break;case 44:l[p++]=(gi(le)-1)*B,B=1;break;case 64:Ao()===45&&(le+=Tf(ni())),E=Ao(),b=x=gi(U=le+=bL(sc())),z++;break;case 45:C===45&&gi(le)==2&&(P=0)}}return u}function Og(t,e,n,r,o,u,c,l,h,p,b,x){for(var E=o-1,T=o===0?u:[""],C=dL(T),P=0,F=0,B=0;P<r;++P)for(var z=0,U=_s(t,E+1,E=P0(F=c[P])),ee=t;z<C;++z)(ee=M0(F>0?T[z]+" "+U:oc(U,/&\f/g,T[z])))&&(h[B++]=ee);return ch(t,e,n,o===0?_0:l,h,p,b,x)}function SL(t,e,n,r){return ch(t,e,n,C0,uh(hL()),_s(t,2,-2),0,r)}function Fg(t,e,n,r,o){return ch(t,e,n,L0,_s(t,0,r),_s(t,r+1,-1),r,o)}function qf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function EL(t,e,n,r){switch(t.type){case lL:if(t.children.length)break;case aL:case uL:case L0:return t.return=t.return||t.value;case C0:return"";case cL:return t.return=t.value+"{"+qf(t.children,r)+"}";case _0:if(!gi(t.value=t.props.join(",")))return""}return gi(n=qf(t.children,r))?t.return=t.value+"{"+n+"}":""}var Ng="data-ant-cssinjs-cache-path",k0="_FILE_STYLE__",jo,R0=!0;function AL(){if(!jo&&(jo={},Ki())){var t=document.createElement("div");t.className=Ng,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(o){var u=o.split(":"),c=et(u,2),l=c[0],h=c[1];jo[l]=h});var n=document.querySelector("style[".concat(Ng,"]"));if(n){var r;R0=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function TL(t){return AL(),!!jo[t]}function CL(t){var e=jo[t],n=null;if(e&&Ki())if(R0)n=k0;else{var r=document.querySelector("style[".concat(ti,'="').concat(jo[t],'"]'));r?n=r.innerHTML:delete jo[t]}return[n,e]}var _L="_skip_check_",O0="_multi_value_";function uc(t){var e=qf(xL(t),EL);return e.replace(/\{%%%\:[^;];}/g,";")}function LL(t){return Tt(t)==="object"&&t&&(_L in t||O0 in t)}function $g(t,e,n){if(!e)return t;var r=".".concat(e),o=n==="low"?":where(".concat(r,")"):r,u=t.split(",").map(function(c){var l,h=c.trim().split(/\s+/),p=h[0]||"",b=((l=p.match(/^\w+/))===null||l===void 0?void 0:l[0])||"";return p="".concat(b).concat(o).concat(p.slice(b.length)),[p].concat(mr(h.slice(1))).join(" ")});return u.join(",")}var PL=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},o=r.root,u=r.injectHash,c=r.parentSelectors,l=n.hashId,h=n.layer;n.path;var p=n.hashPriority,b=n.transformers,x=b===void 0?[]:b;n.linters;var E="",T={};function C(B){var z=B.getName(l);if(!T[z]){var U=t(B.style,n,{root:!1,parentSelectors:c}),ee=et(U,1),ne=ee[0];T[z]="@keyframes ".concat(B.getName(l)).concat(ne)}}function P(B){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return B.forEach(function(U){Array.isArray(U)?P(U,z):U&&z.push(U)}),z}var F=P(Array.isArray(e)?e:[e]);return F.forEach(function(B){var z=typeof B=="string"&&!o?{}:B;if(typeof z=="string")E+="".concat(z,`
`);else if(z._keyframe)C(z);else{var U=x.reduce(function(ee,ne){var re;return(ne==null||(re=ne.visit)===null||re===void 0?void 0:re.call(ne,ee))||ee},z);Object.keys(U).forEach(function(ee){var ne=U[ee];if(Tt(ne)==="object"&&ne&&(ee!=="animationName"||!ne._keyframe)&&!LL(ne)){var re=!1,le=ee.trim(),Ae=!1;(o||u)&&l?le.startsWith("@")?re=!0:le==="&"?le=$g("",l,p):le=$g(ee,l,p):o&&!l&&(le==="&"||le==="")&&(le="",Ae=!0);var J=t(ne,n,{root:Ae,injectHash:re,parentSelectors:[].concat(mr(c),[le])}),pe=et(J,2),se=pe[0],Ie=pe[1];T=Be(Be({},T),Ie),E+="".concat(le).concat(se)}else{let Ye=function(ae,ie){var he=ae.replace(/[A-Z]/g,function(ke){return"-".concat(ke.toLowerCase())}),_e=ie;!sL[ae]&&typeof _e=="number"&&_e!==0&&(_e="".concat(_e,"px")),ae==="animationName"&&ie!==null&&ie!==void 0&&ie._keyframe&&(C(ie),_e=ie.getName(l)),E+="".concat(he,":").concat(_e,";")};var Fe,Ce=(Fe=ne==null?void 0:ne.value)!==null&&Fe!==void 0?Fe:ne;Tt(ne)==="object"&&ne!==null&&ne!==void 0&&ne[O0]&&Array.isArray(Ce)?Ce.forEach(function(ae){Ye(ee,ae)}):Ye(ee,Ce)}})}}),o?h&&(E&&(E="@layer ".concat(h.name," {").concat(E,"}")),h.dependencies&&(T["@layer ".concat(h.name)]=h.dependencies.map(function(B){return"@layer ".concat(B,", ").concat(h.name,";")}).join(`
`))):E="{".concat(E,"}"),[E,T]};function F0(t,e){return _a("".concat(t.join("%")).concat(e))}function ML(){return null}var N0="style";function Jf(t,e){var n=t.token,r=t.path,o=t.hashId,u=t.layer,c=t.nonce,l=t.clientOnly,h=t.order,p=h===void 0?0:h,b=q.useContext(Xa),x=b.autoClear;b.mock;var E=b.defaultCache,T=b.hashPriority,C=b.container,P=b.ssrInline,F=b.transformers,B=b.linters,z=b.cache,U=b.layer,ee=n._tokenKey,ne=[ee];U&&ne.push("layer"),ne.push.apply(ne,mr(r));var re=Yf,le=ah(N0,ne,function(){var Ie=ne.join("|");if(TL(Ie)){var Fe=CL(Ie),Ce=et(Fe,2),Ye=Ce[0],ae=Ce[1];if(Ye)return[Ye,ee,ae,{},l,p]}var ie=e(),he=PL(ie,{hashId:o,hashPriority:T,layer:U?u:void 0,path:r.join("-"),transformers:F,linters:B}),_e=et(he,2),ke=_e[0],Ee=_e[1],Re=uc(ke),ot=F0(ne,Re);return[Re,ee,ot,Ee,l,p]},function(Ie,Fe){var Ce=et(Ie,3),Ye=Ce[2];(Fe||x)&&Yf&&x0(Ye,{mark:ti})},function(Ie){var Fe=et(Ie,4),Ce=Fe[0];Fe[1];var Ye=Fe[2],ae=Fe[3];if(re&&Ce!==k0){var ie={mark:ti,prepend:U?!1:"queue",attachTo:C,priority:p},he=typeof c=="function"?c():c;he&&(ie.csp={nonce:he});var _e=[],ke=[];Object.keys(ae).forEach(function(Re){Re.startsWith("@layer")?_e.push(Re):ke.push(Re)}),_e.forEach(function(Re){zo(uc(ae[Re]),"_layer-".concat(Re),Be(Be({},ie),{},{prepend:!0}))});var Ee=zo(Ce,Ye,ie);Ee[Eo]=z.instanceId,Ee.setAttribute(Cs,ee),ke.forEach(function(Re){zo(uc(ae[Re]),"_effect-".concat(Re),ie)})}}),Ae=et(le,3),J=Ae[0],pe=Ae[1],se=Ae[2];return function(Ie){var Fe;if(!P||re||!E)Fe=q.createElement(ML,null);else{var Ce;Fe=q.createElement("style",or({},(Ce={},je(Ce,Cs,pe),je(Ce,ti,se),Ce),{dangerouslySetInnerHTML:{__html:J}}))}return q.createElement(q.Fragment,null,Fe,Ie)}}var IL=function(e,n,r){var o=et(e,6),u=o[0],c=o[1],l=o[2],h=o[3],p=o[4],b=o[5],x=r||{},E=x.plain;if(p)return null;var T=u,C={"data-rc-order":"prependQueue","data-rc-priority":"".concat(b)};return T=wc(u,c,l,C,E),h&&Object.keys(h).forEach(function(P){if(!n[P]){n[P]=!0;var F=uc(h[P]),B=wc(F,c,"_effect-".concat(P),C,E);P.startsWith("@layer")?T=B+T:T+=B}}),[b,l,T]},$0="cssVar",kL=function(e,n){var r=e.key,o=e.prefix,u=e.unitless,c=e.ignore,l=e.token,h=e.scope,p=h===void 0?"":h,b=q.useContext(Xa),x=b.cache.instanceId,E=b.container,T=l._tokenKey,C=[].concat(mr(e.path),[r,p,T]),P=ah($0,C,function(){var F=n(),B=E0(F,r,{prefix:o,unitless:u,ignore:c,scope:p}),z=et(B,2),U=z[0],ee=z[1],ne=F0(C,ee);return[U,ee,ne,r]},function(F){var B=et(F,3),z=B[2];Yf&&x0(z,{mark:ti})},function(F){var B=et(F,3),z=B[1],U=B[2];if(z){var ee=zo(z,U,{mark:ti,prepend:"queue",attachTo:E,priority:-999});ee[Eo]=x,ee.setAttribute(Cs,r)}});return P},RL=function(e,n,r){var o=et(e,4),u=o[1],c=o[2],l=o[3],h=r||{},p=h.plain;if(!u)return null;var b=-999,x={"data-rc-order":"prependQueue","data-rc-priority":"".concat(b)},E=wc(u,l,c,x,p);return[b,c,E]},wa;wa={},je(wa,N0,IL),je(wa,T0,oL),je(wa,$0,RL);var Bg=function(){function t(e,n){wi(this,t),je(this,"name",void 0),je(this,"style",void 0),je(this,"_keyframe",!0),this.name=e,this.style=n}return bi(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function vs(t){return t.notSplit=!0,t}vs(["borderTop","borderBottom"]),vs(["borderTop"]),vs(["borderBottom"]),vs(["borderLeft","borderRight"]),vs(["borderLeft"]),vs(["borderRight"]);var lh=q.createContext({});function OL(t){return m0(t)||d0(t)||rh(t)||y0()}function Zf(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function B0(t,e,n,r){if(!e.length)return n;var o=OL(e),u=o[0],c=o.slice(1),l;return!t&&typeof u=="number"?l=[]:Array.isArray(t)?l=mr(t):l=Be({},t),r&&n===void 0&&c.length===1?delete l[u][c[0]]:l[u]=B0(l[u],c,n,r),l}function Cf(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!Zf(t,e.slice(0,-1))?t:B0(t,e,n,r)}function FL(t){return Tt(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function Dg(t){return Array.isArray(t)?[]:{}}var NL=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function $L(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Dg(e[0]);return e.forEach(function(o){function u(c,l){var h=new Set(l),p=Zf(o,c),b=Array.isArray(p);if(b||FL(p)){if(!h.has(p)){h.add(p);var x=Zf(r,c);b?r=Cf(r,c,[]):(!x||Tt(x)!=="object")&&(r=Cf(r,c,Dg(p))),NL(p).forEach(function(E){u([].concat(mr(c),[E]),h)})}}else r=Cf(r,c,p)}u([])}),r}function BL(){}const DL=q.createContext({}),D0=()=>{const t=()=>{};return t.deprecated=BL,t},GL=q.createContext(void 0);var UL={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},WL={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},HL=Be(Be({},WL),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const G0={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Gg={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},HL),timePickerLocale:Object.assign({},G0)},Tr="${label} is not a valid ${type}",rl={locale:"en",Pagination:UL,DatePicker:Gg,TimePicker:G0,Calendar:Gg,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Tr,method:Tr,array:Tr,object:Tr,number:Tr,date:Tr,boolean:Tr,integer:Tr,float:Tr,regexp:Tr,email:Tr,url:Tr,hex:Tr},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let cc=Object.assign({},rl.Modal),lc=[];const Ug=()=>lc.reduce((t,e)=>Object.assign(Object.assign({},t),e),rl.Modal);function zL(t){if(t){const e=Object.assign({},t);return lc.push(e),cc=Ug(),()=>{lc=lc.filter(n=>n!==e),cc=Ug()}}cc=Object.assign({},rl.Modal)}function $R(){return cc}const U0=q.createContext(void 0),jL="internalMark",XL=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;q.useEffect(()=>zL(e==null?void 0:e.Modal),[e]);const o=q.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return q.createElement(U0.Provider,{value:o},n)},W0={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Pa=Object.assign(Object.assign({},W0),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Pn=Math.round;function _f(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(o=>parseFloat(o));for(let o=0;o<3;o+=1)r[o]=e(r[o]||0,n[o]||"",o);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Wg=(t,e,n)=>n===0?t:t/100;function ba(t,e){const n=e||255;return t>n?n:t<0?0:t}class fn{constructor(e){je(this,"isValid",!0),je(this,"r",0),je(this,"g",0),je(this,"b",0),je(this,"a",1),je(this,"_h",void 0),je(this,"_s",void 0),je(this,"_l",void 0),je(this,"_v",void 0),je(this,"_max",void 0),je(this,"_min",void 0),je(this,"_brightness",void 0);function n(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let o=function(u){return r.startsWith(u)};const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):o("rgb")?this.fromRgbString(r):o("hsl")?this.fromHslString(r):(o("hsv")||o("hsb"))&&this.fromHsvString(r)}else if(e instanceof fn)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=ba(e.r),this.g=ba(e.g),this.b=ba(e.b),this.a=typeof e.a=="number"?ba(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(u){const c=u/255;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),o=e(this.b);return .2126*n+.7152*r+.0722*o}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Pn(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let o=this.getLightness()-e/100;return o<0&&(o=0),this._c({h:n,s:r,l:o,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let o=this.getLightness()+e/100;return o>1&&(o=1),this._c({h:n,s:r,l:o,a:this.a})}mix(e,n=50){const r=this._c(e),o=n/100,u=l=>(r[l]-this[l])*o+this[l],c={r:Pn(u("r")),g:Pn(u("g")),b:Pn(u("b")),a:Pn(u("a")*100)/100};return this._c(c)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),o=u=>Pn((this[u]*this.a+n[u]*n.a*(1-this.a))/r);return this._c({r:o("r"),g:o("g"),b:o("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const o=(this.b||0).toString(16);if(e+=o.length===2?o:"0"+o,typeof this.a=="number"&&this.a>=0&&this.a<1){const u=Pn(this.a*255).toString(16);e+=u.length===2?u:"0"+u}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=Pn(this.getSaturation()*100),r=Pn(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const o=this.clone();return o[e]=ba(n,r),o}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(o,u){return parseInt(n[o]+n[u||o],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:o}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof o=="number"?o:1,n<=0){const E=Pn(r*255);this.r=E,this.g=E,this.b=E}let u=0,c=0,l=0;const h=e/60,p=(1-Math.abs(2*r-1))*n,b=p*(1-Math.abs(h%2-1));h>=0&&h<1?(u=p,c=b):h>=1&&h<2?(u=b,c=p):h>=2&&h<3?(c=p,l=b):h>=3&&h<4?(c=b,l=p):h>=4&&h<5?(u=b,l=p):h>=5&&h<6&&(u=p,l=b);const x=r-p/2;this.r=Pn((u+x)*255),this.g=Pn((c+x)*255),this.b=Pn((l+x)*255)}fromHsv({h:e,s:n,v:r,a:o}){this._h=e%360,this._s=n,this._v=r,this.a=typeof o=="number"?o:1;const u=Pn(r*255);if(this.r=u,this.g=u,this.b=u,n<=0)return;const c=e/60,l=Math.floor(c),h=c-l,p=Pn(r*(1-n)*255),b=Pn(r*(1-n*h)*255),x=Pn(r*(1-n*(1-h))*255);switch(l){case 0:this.g=x,this.b=p;break;case 1:this.r=b,this.b=p;break;case 2:this.r=p,this.b=x;break;case 3:this.r=p,this.g=b;break;case 4:this.r=x,this.g=p;break;case 5:default:this.g=p,this.b=b;break}}fromHsvString(e){const n=_f(e,Wg);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=_f(e,Wg);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=_f(e,(r,o)=>o.includes("%")?Pn(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var Yu=2,Hg=.16,VL=.05,YL=.05,KL=.15,H0=5,z0=4,QL=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function zg(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-Yu*e:Math.round(t.h)+Yu*e:r=n?Math.round(t.h)+Yu*e:Math.round(t.h)-Yu*e,r<0?r+=360:r>=360&&(r-=360),r}function jg(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-Hg*e:e===z0?r=t.s+Hg:r=t.s+VL*e,r>1&&(r=1),n&&e===H0&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function Xg(t,e,n){var r;return n?r=t.v+YL*e:r=t.v-KL*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Ma(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new fn(t),o=r.toHsv(),u=H0;u>0;u-=1){var c=new fn({h:zg(o,u,!0),s:jg(o,u,!0),v:Xg(o,u,!0)});n.push(c)}n.push(r);for(var l=1;l<=z0;l+=1){var h=new fn({h:zg(o,l),s:jg(o,l),v:Xg(o,l)});n.push(h)}return e.theme==="dark"?QL.map(function(p){var b=p.index,x=p.amount;return new fn(e.backgroundColor||"#141414").mix(n[b],x).toHexString()}):n.map(function(p){return p.toHexString()})}var Lf={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},ed=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];ed.primary=ed[5];var td=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];td.primary=td[5];var nd=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];nd.primary=nd[5];var rd=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];rd.primary=rd[5];var id=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];id.primary=id[5];var od=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];od.primary=od[5];var sd=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];sd.primary=sd[5];var ad=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];ad.primary=ad[5];var bc=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];bc.primary=bc[5];var ud=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];ud.primary=ud[5];var cd=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];cd.primary=cd[5];var ld=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];ld.primary=ld[5];var fd=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];fd.primary=fd[5];var Pf={red:ed,volcano:td,orange:nd,gold:rd,yellow:id,lime:od,green:sd,cyan:ad,blue:bc,geekblue:ud,purple:cd,magenta:ld,grey:fd};function qL(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:o,colorWarning:u,colorError:c,colorInfo:l,colorPrimary:h,colorBgBase:p,colorTextBase:b}=t,x=n(h),E=n(o),T=n(u),C=n(c),P=n(l),F=r(p,b),B=t.colorLink||t.colorInfo,z=n(B),U=new fn(C[1]).mix(new fn(C[3]),50).toHexString();return Object.assign(Object.assign({},F),{colorPrimaryBg:x[1],colorPrimaryBgHover:x[2],colorPrimaryBorder:x[3],colorPrimaryBorderHover:x[4],colorPrimaryHover:x[5],colorPrimary:x[6],colorPrimaryActive:x[7],colorPrimaryTextHover:x[8],colorPrimaryText:x[9],colorPrimaryTextActive:x[10],colorSuccessBg:E[1],colorSuccessBgHover:E[2],colorSuccessBorder:E[3],colorSuccessBorderHover:E[4],colorSuccessHover:E[4],colorSuccess:E[6],colorSuccessActive:E[7],colorSuccessTextHover:E[8],colorSuccessText:E[9],colorSuccessTextActive:E[10],colorErrorBg:C[1],colorErrorBgHover:C[2],colorErrorBgFilledHover:U,colorErrorBgActive:C[3],colorErrorBorder:C[3],colorErrorBorderHover:C[4],colorErrorHover:C[5],colorError:C[6],colorErrorActive:C[7],colorErrorTextHover:C[8],colorErrorText:C[9],colorErrorTextActive:C[10],colorWarningBg:T[1],colorWarningBgHover:T[2],colorWarningBorder:T[3],colorWarningBorderHover:T[4],colorWarningHover:T[4],colorWarning:T[6],colorWarningActive:T[7],colorWarningTextHover:T[8],colorWarningText:T[9],colorWarningTextActive:T[10],colorInfoBg:P[1],colorInfoBgHover:P[2],colorInfoBorder:P[3],colorInfoBorderHover:P[4],colorInfoHover:P[4],colorInfo:P[6],colorInfoActive:P[7],colorInfoTextHover:P[8],colorInfoText:P[9],colorInfoTextActive:P[10],colorLinkHover:z[4],colorLink:z[6],colorLinkActive:z[7],colorBgMask:new fn("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const JL=t=>{let e=t,n=t,r=t,o=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?o=4:t>=8&&(o=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:o}};function ZL(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:o}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:o+1},JL(r))}const eP=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function tP(t){return(t+8)/t}function nP(t){const e=Array.from({length:10}).map((n,r)=>{const o=r-1,u=t*Math.pow(Math.E,o/5),c=r>1?Math.floor(u):Math.ceil(u);return Math.floor(c/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:tP(n)}))}const rP=t=>{const e=nP(t),n=e.map(b=>b.size),r=e.map(b=>b.lineHeight),o=n[1],u=n[0],c=n[2],l=r[1],h=r[0],p=r[2];return{fontSizeSM:u,fontSize:o,fontSizeLG:c,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:l,lineHeightLG:p,lineHeightSM:h,fontHeight:Math.round(l*o),fontHeightLG:Math.round(p*c),fontHeightSM:Math.round(h*u),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function iP(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const Or=(t,e)=>new fn(t).setA(e).toRgbString(),xa=(t,e)=>new fn(t).darken(e).toHexString(),oP=t=>{const e=Ma(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},sP=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Or(r,.88),colorTextSecondary:Or(r,.65),colorTextTertiary:Or(r,.45),colorTextQuaternary:Or(r,.25),colorFill:Or(r,.15),colorFillSecondary:Or(r,.06),colorFillTertiary:Or(r,.04),colorFillQuaternary:Or(r,.02),colorBgSolid:Or(r,1),colorBgSolidHover:Or(r,.75),colorBgSolidActive:Or(r,.95),colorBgLayout:xa(n,4),colorBgContainer:xa(n,0),colorBgElevated:xa(n,0),colorBgSpotlight:Or(r,.85),colorBgBlur:"transparent",colorBorder:xa(n,15),colorBorderSecondary:xa(n,6)}};function aP(t){Lf.pink=Lf.magenta,Pf.pink=Pf.magenta;const e=Object.keys(W0).map(n=>{const r=t[n]===Lf[n]?Pf[n]:Ma(t[n]);return Array.from({length:10},()=>1).reduce((o,u,c)=>(o[`${n}-${c+1}`]=r[c],o[`${n}${c+1}`]=r[c],o),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),qL(t,{generateColorPalettes:oP,generateNeutralColorPalettes:sP})),rP(t.fontSize)),iP(t)),eP(t)),ZL(t))}const j0=Vf(aP),dd={token:Pa,override:{override:Pa},hashed:!0},X0=Vt.createContext(dd),hd="ant",il="anticon",BR=["outlined","borderless","filled","underlined"],uP=(t,e)=>e||(t?`${hd}-${t}`:hd),vi=q.createContext({getPrefixCls:uP,iconPrefixCls:il}),{Consumer:DR}=vi,Vg={};function GR(t){const e=q.useContext(vi),{getPrefixCls:n,direction:r,getPopupContainer:o}=e,u=e[t];return Object.assign(Object.assign({classNames:Vg,styles:Vg},u),{getPrefixCls:n,direction:r,getPopupContainer:o})}const cP=`-ant-${Date.now()}-${Math.random()}`;function lP(t,e){const n={},r=(c,l)=>{let h=c.clone();return h=(l==null?void 0:l(h))||h,h.toRgbString()},o=(c,l)=>{const h=new fn(c),p=Ma(h.toRgbString());n[`${l}-color`]=r(h),n[`${l}-color-disabled`]=p[1],n[`${l}-color-hover`]=p[4],n[`${l}-color-active`]=p[6],n[`${l}-color-outline`]=h.clone().setA(.2).toRgbString(),n[`${l}-color-deprecated-bg`]=p[0],n[`${l}-color-deprecated-border`]=p[2]};if(e.primaryColor){o(e.primaryColor,"primary");const c=new fn(e.primaryColor),l=Ma(c.toRgbString());l.forEach((p,b)=>{n[`primary-${b+1}`]=p}),n["primary-color-deprecated-l-35"]=r(c,p=>p.lighten(35)),n["primary-color-deprecated-l-20"]=r(c,p=>p.lighten(20)),n["primary-color-deprecated-t-20"]=r(c,p=>p.tint(20)),n["primary-color-deprecated-t-50"]=r(c,p=>p.tint(50)),n["primary-color-deprecated-f-12"]=r(c,p=>p.setA(p.a*.12));const h=new fn(l[0]);n["primary-color-active-deprecated-f-30"]=r(h,p=>p.setA(p.a*.3)),n["primary-color-active-deprecated-d-02"]=r(h,p=>p.darken(2))}return e.successColor&&o(e.successColor,"success"),e.warningColor&&o(e.warningColor,"warning"),e.errorColor&&o(e.errorColor,"error"),e.infoColor&&o(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(c=>`--${t}-${c}: ${n[c]};`).join(`
`)}
  }
  `.trim()}function fP(t,e){const n=lP(t,e);Ki()&&zo(n,`${cP}-dynamic-theme`)}const pd=q.createContext(!1),dP=t=>{let{children:e,disabled:n}=t;const r=q.useContext(pd);return q.createElement(pd.Provider,{value:n??r},e)},Ia=q.createContext(void 0),hP=t=>{let{children:e,size:n}=t;const r=q.useContext(Ia);return q.createElement(Ia.Provider,{value:n||r},e)};function pP(){const t=q.useContext(pd),e=q.useContext(Ia);return{componentDisabled:t,componentSize:e}}var V0=bi(function t(){wi(this,t)}),Y0="CALC_UNIT",gP=new RegExp(Y0,"g");function Mf(t){return typeof t=="number"?"".concat(t).concat(Y0):t}var mP=function(t){Jc(n,t);var e=Zc(n);function n(r,o){var u;wi(this,n),u=e.call(this),je(Ho(u),"result",""),je(Ho(u),"unitlessCssVar",void 0),je(Ho(u),"lowPriority",void 0);var c=Tt(r);return u.unitlessCssVar=o,r instanceof n?u.result="(".concat(r.result,")"):c==="number"?u.result=Mf(r):c==="string"&&(u.result=r),u}return bi(n,[{key:"add",value:function(o){return o instanceof n?this.result="".concat(this.result," + ").concat(o.getResult()):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," + ").concat(Mf(o))),this.lowPriority=!0,this}},{key:"sub",value:function(o){return o instanceof n?this.result="".concat(this.result," - ").concat(o.getResult()):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," - ").concat(Mf(o))),this.lowPriority=!0,this}},{key:"mul",value:function(o){return this.lowPriority&&(this.result="(".concat(this.result,")")),o instanceof n?this.result="".concat(this.result," * ").concat(o.getResult(!0)):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," * ").concat(o)),this.lowPriority=!1,this}},{key:"div",value:function(o){return this.lowPriority&&(this.result="(".concat(this.result,")")),o instanceof n?this.result="".concat(this.result," / ").concat(o.getResult(!0)):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," / ").concat(o)),this.lowPriority=!1,this}},{key:"getResult",value:function(o){return this.lowPriority||o?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(o){var u=this,c=o||{},l=c.unit,h=!0;return typeof l=="boolean"?h=l:Array.from(this.unitlessCssVar).some(function(p){return u.result.includes(p)})&&(h=!1),this.result=this.result.replace(gP,h?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(V0),yP=function(t){Jc(n,t);var e=Zc(n);function n(r){var o;return wi(this,n),o=e.call(this),je(Ho(o),"result",0),r instanceof n?o.result=r.result:typeof r=="number"&&(o.result=r),o}return bi(n,[{key:"add",value:function(o){return o instanceof n?this.result+=o.result:typeof o=="number"&&(this.result+=o),this}},{key:"sub",value:function(o){return o instanceof n?this.result-=o.result:typeof o=="number"&&(this.result-=o),this}},{key:"mul",value:function(o){return o instanceof n?this.result*=o.result:typeof o=="number"&&(this.result*=o),this}},{key:"div",value:function(o){return o instanceof n?this.result/=o.result:typeof o=="number"&&(this.result/=o),this}},{key:"equal",value:function(){return this.result}}]),n}(V0),vP=function(e,n){var r=e==="css"?mP:yP;return function(o){return new r(o,n)}},Yg=function(e,n){return"".concat([n,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function gd(t){var e=q.useRef();e.current=t;var n=q.useCallback(function(){for(var r,o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(u))},[]);return n}function md(t){var e=q.useRef(!1),n=q.useState(t),r=et(n,2),o=r[0],u=r[1];q.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function c(l,h){h&&e.current||u(l)}return[o,c]}function Kg(t,e,n,r){var o=Be({},e[t]);if(r!=null&&r.deprecatedTokens){var u=r.deprecatedTokens;u.forEach(function(l){var h=et(l,2),p=h[0],b=h[1];if(o!=null&&o[p]||o!=null&&o[b]){var x;(x=o[b])!==null&&x!==void 0||(o[b]=o==null?void 0:o[p])}})}var c=Be(Be({},n),o);return Object.keys(c).forEach(function(l){c[l]===e[l]&&delete c[l]}),c}var K0=typeof CSSINJS_STATISTIC<"u",yd=!0;function fh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!K0)return Object.assign.apply(Object,[{}].concat(e));yd=!1;var r={};return e.forEach(function(o){if(Tt(o)==="object"){var u=Object.keys(o);u.forEach(function(c){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:function(){return o[c]}})})}}),yd=!0,r}var Qg={};function wP(){}var bP=function(e){var n,r=e,o=wP;return K0&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(e,{get:function(c,l){if(yd){var h;(h=n)===null||h===void 0||h.add(l)}return c[l]}}),o=function(c,l){var h;Qg[c]={global:Array.from(n),component:Be(Be({},(h=Qg[c])===null||h===void 0?void 0:h.component),l)}}),{token:r,keys:n,flush:o}};function qg(t,e,n){if(typeof n=="function"){var r;return n(fh(e,(r=e[t])!==null&&r!==void 0?r:{}))}return n??{}}function xP(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return"max(".concat(r.map(function(u){return Kf(u)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return"min(".concat(r.map(function(u){return Kf(u)}).join(","),")")}}}var SP=1e3*60*10,EP=function(){function t(){wi(this,t),je(this,"map",new Map),je(this,"objectIDMap",new WeakMap),je(this,"nextID",0),je(this,"lastAccessBeat",new Map),je(this,"accessBeat",0)}return bi(t,[{key:"set",value:function(n,r){this.clear();var o=this.getCompositeKey(n);this.map.set(o,r),this.lastAccessBeat.set(o,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),o=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,o}},{key:"getCompositeKey",value:function(n){var r=this,o=n.map(function(u){return u&&Tt(u)==="object"?"obj_".concat(r.getObjectID(u)):"".concat(Tt(u),"_").concat(u)});return o.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(o,u){r-o>SP&&(n.map.delete(u),n.lastAccessBeat.delete(u))}),this.accessBeat=0}}}]),t}(),Jg=new EP;function AP(t,e){return Vt.useMemo(function(){var n=Jg.get(e);if(n)return n;var r=t();return Jg.set(e,r),r},e)}var TP=function(){return{}};function CP(t){var e=t.useCSP,n=e===void 0?TP:e,r=t.useToken,o=t.usePrefix,u=t.getResetStyles,c=t.getCommonStyle,l=t.getCompUnitless;function h(E,T,C,P){var F=Array.isArray(E)?E[0]:E;function B(Ae){return"".concat(String(F)).concat(Ae.slice(0,1).toUpperCase()).concat(Ae.slice(1))}var z=(P==null?void 0:P.unitless)||{},U=typeof l=="function"?l(E):{},ee=Be(Be({},U),{},je({},B("zIndexPopup"),!0));Object.keys(z).forEach(function(Ae){ee[B(Ae)]=z[Ae]});var ne=Be(Be({},P),{},{unitless:ee,prefixToken:B}),re=b(E,T,C,ne),le=p(F,C,ne);return function(Ae){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ae,pe=re(Ae,J),se=et(pe,2),Ie=se[1],Fe=le(J),Ce=et(Fe,2),Ye=Ce[0],ae=Ce[1];return[Ye,Ie,ae]}}function p(E,T,C){var P=C.unitless,F=C.injectStyle,B=F===void 0?!0:F,z=C.prefixToken,U=C.ignore,ee=function(le){var Ae=le.rootCls,J=le.cssVar,pe=J===void 0?{}:J,se=r(),Ie=se.realToken;return kL({path:[E],prefix:pe.prefix,key:pe.key,unitless:P,ignore:U,token:Ie,scope:Ae},function(){var Fe=qg(E,Ie,T),Ce=Kg(E,Ie,Fe,{deprecatedTokens:C==null?void 0:C.deprecatedTokens});return Object.keys(Fe).forEach(function(Ye){Ce[z(Ye)]=Ce[Ye],delete Ce[Ye]}),Ce}),null},ne=function(le){var Ae=r(),J=Ae.cssVar;return[function(pe){return B&&J?Vt.createElement(Vt.Fragment,null,Vt.createElement(ee,{rootCls:le,cssVar:J,component:E}),pe):pe},J==null?void 0:J.key]};return ne}function b(E,T,C){var P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},F=Array.isArray(E)?E:[E,E],B=et(F,1),z=B[0],U=F.join("-"),ee=t.layer||{name:"antd"};return function(ne){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ne,le=r(),Ae=le.theme,J=le.realToken,pe=le.hashId,se=le.token,Ie=le.cssVar,Fe=o(),Ce=Fe.rootPrefixCls,Ye=Fe.iconPrefixCls,ae=n(),ie=Ie?"css":"js",he=AP(function(){var it=new Set;return Ie&&Object.keys(P.unitless||{}).forEach(function(Ke){it.add(ic(Ke,Ie.prefix)),it.add(ic(Ke,Yg(z,Ie.prefix)))}),vP(ie,it)},[ie,z,Ie==null?void 0:Ie.prefix]),_e=xP(ie),ke=_e.max,Ee=_e.min,Re={theme:Ae,token:se,hashId:pe,nonce:function(){return ae.nonce},clientOnly:P.clientOnly,layer:ee,order:P.order||-999};typeof u=="function"&&Jf(Be(Be({},Re),{},{clientOnly:!1,path:["Shared",Ce]}),function(){return u(se,{prefix:{rootPrefixCls:Ce,iconPrefixCls:Ye},csp:ae})});var ot=Jf(Be(Be({},Re),{},{path:[U,ne,Ye]}),function(){if(P.injectStyle===!1)return[];var it=bP(se),Ke=it.token,yt=it.flush,Nt=qg(z,J,C),In=".".concat(ne),on=Kg(z,J,Nt,{deprecatedTokens:P.deprecatedTokens});Ie&&Nt&&Tt(Nt)==="object"&&Object.keys(Nt).forEach(function(wn){Nt[wn]="var(".concat(ic(wn,Yg(z,Ie.prefix)),")")});var hn=fh(Ke,{componentCls:In,prefixCls:ne,iconCls:".".concat(Ye),antCls:".".concat(Ce),calc:he,max:ke,min:Ee},Ie?Nt:on),Gn=T(hn,{hashId:pe,prefixCls:ne,rootPrefixCls:Ce,iconPrefixCls:Ye});yt(z,on);var Ut=typeof c=="function"?c(hn,ne,re,P.resetFont):null;return[P.resetStyle===!1?null:Ut,Gn]});return[ot,pe]}}function x(E,T,C){var P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},F=b(E,T,C,Be({resetStyle:!1,order:-998},P)),B=function(U){var ee=U.prefixCls,ne=U.rootCls,re=ne===void 0?ee:ne;return F(ee,re),null};return B}return{genStyleHooks:h,genSubStyleComponent:x,genComponentStyleHook:b}}const _P="5.24.5";function If(t){return t>=0&&t<=255}function Ku(t,e){const{r:n,g:r,b:o,a:u}=new fn(t).toRgb();if(u<1)return t;const{r:c,g:l,b:h}=new fn(e).toRgb();for(let p=.01;p<=1;p+=.01){const b=Math.round((n-c*(1-p))/p),x=Math.round((r-l*(1-p))/p),E=Math.round((o-h*(1-p))/p);if(If(b)&&If(x)&&If(E))return new fn({r:b,g:x,b:E,a:Math.round(p*100)/100}).toRgbString()}return new fn({r:n,g:r,b:o,a:1}).toRgbString()}var LP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function Q0(t){const{override:e}=t,n=LP(t,["override"]),r=Object.assign({},e);Object.keys(Pa).forEach(E=>{delete r[E]});const o=Object.assign(Object.assign({},n),r),u=480,c=576,l=768,h=992,p=1200,b=1600;if(o.motion===!1){const E="0s";o.motionDurationFast=E,o.motionDurationMid=E,o.motionDurationSlow=E}return Object.assign(Object.assign(Object.assign({},o),{colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:Ku(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:Ku(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:Ku(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidthFocus:o.lineWidth*3,lineWidth:o.lineWidth,controlOutlineWidth:o.lineWidth*2,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:Ku(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:u,screenXSMin:u,screenXSMax:c-1,screenSM:c,screenSMMin:c,screenSMMax:l-1,screenMD:l,screenMDMin:l,screenMDMax:h-1,screenLG:h,screenLGMin:h,screenLGMax:p-1,screenXL:p,screenXLMin:p,screenXLMax:b-1,screenXXL:b,screenXXLMin:b,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new fn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new fn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new fn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var Zg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const q0={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},PP={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},MP={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},J0=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:o}=e,u=Zg(e,["override"]);let c=Object.assign(Object.assign({},r),{override:o});return c=Q0(c),u&&Object.entries(u).forEach(l=>{let[h,p]=l;const{theme:b}=p,x=Zg(p,["theme"]);let E=x;b&&(E=J0(Object.assign(Object.assign({},c),x),{override:x},b)),c[h]=E}),c};function Va(){const{token:t,hashed:e,theme:n,override:r,cssVar:o}=Vt.useContext(X0),u=`${_P}-${e||""}`,c=n||j0,[l,h,p]=iL(c,[Pa,t],{salt:u,override:r,getComputedToken:J0,formatToken:Q0,cssVar:o&&{prefix:o.prefix,key:o.key,unitless:q0,ignore:PP,preserve:MP}});return[c,p,e?h:"",l,o]}const UR={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},IP=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},kP=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),WR=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),RP=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),OP=(t,e,n,r)=>{const o=`[class^="${e}"], [class*=" ${e}"]`,u=n?`.${n}`:o,c={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let l={};return r!==!1&&(l={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[u]:Object.assign(Object.assign(Object.assign({},l),c),{[o]:c})}},FP=(t,e)=>({outline:`${Kf(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),HR=(t,e)=>({"&:focus-visible":Object.assign({},FP(t,e))}),Z0=t=>({[`.${t}`]:Object.assign(Object.assign({},kP()),{[`.${t} .${t}-icon`]:{display:"block"}})}),{genStyleHooks:NP,genComponentStyleHook:zR,genSubStyleComponent:jR}=CP({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=q.useContext(vi);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,o]=Va();return{theme:t,realToken:e,hashId:n,token:r,cssVar:o}},useCSP:()=>{const{csp:t}=q.useContext(vi);return t??{}},getResetStyles:(t,e)=>{var n;const r=RP(t);return[r,{"&":r},Z0((n=e==null?void 0:e.prefix.iconPrefixCls)!==null&&n!==void 0?n:il)]},getCommonStyle:OP,getCompUnitless:()=>q0}),$P=(t,e)=>{const[n,r]=Va();return Jf({token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[Z0(t)])},BP=Object.assign({},Td),{useId:em}=BP,DP=()=>"",GP=typeof em>"u"?DP:em;function UP(t,e,n){var r;D0();const o=t||{},u=o.inherit===!1||!e?Object.assign(Object.assign({},dd),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:dd.hashed,cssVar:e==null?void 0:e.cssVar}):e,c=GP();return th(()=>{var l,h;if(!t)return e;const p=Object.assign({},u.components);Object.keys(t.components||{}).forEach(E=>{p[E]=Object.assign(Object.assign({},p[E]),t.components[E])});const b=`css-var-${c.replace(/:/g,"")}`,x=((l=o.cssVar)!==null&&l!==void 0?l:u.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof u.cssVar=="object"?u.cssVar:{}),typeof o.cssVar=="object"?o.cssVar:{}),{key:typeof o.cssVar=="object"&&((h=o.cssVar)===null||h===void 0?void 0:h.key)||b});return Object.assign(Object.assign(Object.assign({},u),o),{token:Object.assign(Object.assign({},u.token),o.token),components:p,cssVar:x})},[o,u],(l,h)=>l.some((p,b)=>{const x=h[b];return!F_(p,x,!0)}))}var WP=["children"],ev=q.createContext({});function HP(t){var e=t.children,n=Yo(t,WP);return q.createElement(ev.Provider,{value:n},e)}var zP=function(t){Jc(n,t);var e=Zc(n);function n(){return wi(this,n),e.apply(this,arguments)}return bi(n,[{key:"render",value:function(){return this.props.children}}]),n}(q.Component);function jP(t){var e=q.useReducer(function(l){return l+1},0),n=et(e,2),r=n[1],o=q.useRef(t),u=gd(function(){return o.current}),c=gd(function(l){o.current=typeof l=="function"?l(o.current):l,r()});return[u,c]}var bo="none",Qu="appear",qu="enter",Ju="leave",tm="none",Jr="prepare",ws="start",bs="active",dh="end",tv="prepared";function nm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function XP(t,e){var n={animationend:nm("Animation","AnimationEnd"),transitionend:nm("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var VP=XP(Ki(),typeof window<"u"?window:{}),nv={};if(Ki()){var YP=document.createElement("div");nv=YP.style}var Zu={};function rv(t){if(Zu[t])return Zu[t];var e=VP[t];if(e)for(var n=Object.keys(e),r=n.length,o=0;o<r;o+=1){var u=n[o];if(Object.prototype.hasOwnProperty.call(e,u)&&u in nv)return Zu[t]=e[u],Zu[t]}return""}var iv=rv("animationend"),ov=rv("transitionend"),sv=!!(iv&&ov),rm=iv||"animationend",im=ov||"transitionend";function om(t,e){if(!t)return null;if(Tt(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const KP=function(t){var e=q.useRef();function n(o){o&&(o.removeEventListener(im,t),o.removeEventListener(rm,t))}function r(o){e.current&&e.current!==o&&n(e.current),o&&o!==e.current&&(o.addEventListener(im,t),o.addEventListener(rm,t),e.current=o)}return q.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var av=Ki()?q.useLayoutEffect:q.useEffect;const QP=function(){var t=q.useRef(null);function e(){zf.cancel(t.current)}function n(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var u=zf(function(){o<=1?r({isCanceled:function(){return u!==t.current}}):n(r,o-1)});t.current=u}return q.useEffect(function(){return function(){e()}},[]),[n,e]};var qP=[Jr,ws,bs,dh],JP=[Jr,tv],uv=!1,ZP=!0;function cv(t){return t===bs||t===dh}const eM=function(t,e,n){var r=md(tm),o=et(r,2),u=o[0],c=o[1],l=QP(),h=et(l,2),p=h[0],b=h[1];function x(){c(Jr,!0)}var E=e?JP:qP;return av(function(){if(u!==tm&&u!==dh){var T=E.indexOf(u),C=E[T+1],P=n(u);P===uv?c(C,!0):C&&p(function(F){function B(){F.isCanceled()||c(C,!0)}P===!0?B():Promise.resolve(P).then(B)})}},[t,u]),q.useEffect(function(){return function(){b()}},[]),[x,u]};function tM(t,e,n,r){var o=r.motionEnter,u=o===void 0?!0:o,c=r.motionAppear,l=c===void 0?!0:c,h=r.motionLeave,p=h===void 0?!0:h,b=r.motionDeadline,x=r.motionLeaveImmediately,E=r.onAppearPrepare,T=r.onEnterPrepare,C=r.onLeavePrepare,P=r.onAppearStart,F=r.onEnterStart,B=r.onLeaveStart,z=r.onAppearActive,U=r.onEnterActive,ee=r.onLeaveActive,ne=r.onAppearEnd,re=r.onEnterEnd,le=r.onLeaveEnd,Ae=r.onVisibleChanged,J=md(),pe=et(J,2),se=pe[0],Ie=pe[1],Fe=jP(bo),Ce=et(Fe,2),Ye=Ce[0],ae=Ce[1],ie=md(null),he=et(ie,2),_e=he[0],ke=he[1],Ee=Ye(),Re=q.useRef(!1),ot=q.useRef(null);function it(){return n()}var Ke=q.useRef(!1);function yt(){ae(bo),ke(null,!0)}var Nt=gd(function(st){var Ct=Ye();if(Ct!==bo){var en=it();if(!(st&&!st.deadline&&st.target!==en)){var xt=Ke.current,Dt;Ct===Qu&&xt?Dt=ne==null?void 0:ne(en,st):Ct===qu&&xt?Dt=re==null?void 0:re(en,st):Ct===Ju&&xt&&(Dt=le==null?void 0:le(en,st)),xt&&Dt!==!1&&yt()}}}),In=KP(Nt),on=et(In,1),hn=on[0],Gn=function(Ct){switch(Ct){case Qu:return je(je(je({},Jr,E),ws,P),bs,z);case qu:return je(je(je({},Jr,T),ws,F),bs,U);case Ju:return je(je(je({},Jr,C),ws,B),bs,ee);default:return{}}},Ut=q.useMemo(function(){return Gn(Ee)},[Ee]),wn=eM(Ee,!t,function(st){if(st===Jr){var Ct=Ut[Jr];return Ct?Ct(it()):uv}if(Zt in Ut){var en;ke(((en=Ut[Zt])===null||en===void 0?void 0:en.call(Ut,it(),null))||null)}return Zt===bs&&Ee!==bo&&(hn(it()),b>0&&(clearTimeout(ot.current),ot.current=setTimeout(function(){Nt({deadline:!0})},b))),Zt===tv&&yt(),ZP}),Wt=et(wn,2),En=Wt[0],Zt=Wt[1],jt=cv(Zt);Ke.current=jt;var Un=q.useRef(null);av(function(){if(!(Re.current&&Un.current===e)){Ie(e);var st=Re.current;Re.current=!0;var Ct;!st&&e&&l&&(Ct=Qu),st&&e&&u&&(Ct=qu),(st&&!e&&p||!st&&x&&!e&&p)&&(Ct=Ju);var en=Gn(Ct);Ct&&(t||en[Jr])?(ae(Ct),En()):ae(bo),Un.current=e}},[e]),q.useEffect(function(){(Ee===Qu&&!l||Ee===qu&&!u||Ee===Ju&&!p)&&ae(bo)},[l,u,p]),q.useEffect(function(){return function(){Re.current=!1,clearTimeout(ot.current)}},[]);var yr=q.useRef(!1);q.useEffect(function(){se&&(yr.current=!0),se!==void 0&&Ee===bo&&((yr.current||se)&&(Ae==null||Ae(se)),yr.current=!0)},[se,Ee]);var pn=_e;return Ut[Jr]&&Zt===ws&&(pn=Be({transition:"none"},pn)),[Ee,Zt,pn,se??e]}function nM(t){var e=t;Tt(t)==="object"&&(e=t.transitionSupport);function n(o,u){return!!(o.motionName&&e&&u!==!1)}var r=q.forwardRef(function(o,u){var c=o.visible,l=c===void 0?!0:c,h=o.removeOnLeave,p=h===void 0?!0:h,b=o.forceRender,x=o.children,E=o.motionName,T=o.leavedClassName,C=o.eventProps,P=q.useContext(ev),F=P.motion,B=n(o,F),z=q.useRef(),U=q.useRef();function ee(){try{return z.current instanceof HTMLElement?z.current:b_(U.current)}catch{return null}}var ne=tM(B,l,ee,o),re=et(ne,4),le=re[0],Ae=re[1],J=re[2],pe=re[3],se=q.useRef(pe);pe&&(se.current=!0);var Ie=q.useCallback(function(he){z.current=he,c0(u,he)},[u]),Fe,Ce=Be(Be({},C),{},{visible:l});if(!x)Fe=null;else if(le===bo)pe?Fe=x(Be({},Ce),Ie):!p&&se.current&&T?Fe=x(Be(Be({},Ce),{},{className:T}),Ie):b||!p&&!T?Fe=x(Be(Be({},Ce),{},{style:{display:"none"}}),Ie):Fe=null;else{var Ye;Ae===Jr?Ye="prepare":cv(Ae)?Ye="active":Ae===ws&&(Ye="start");var ae=om(E,"".concat(le,"-").concat(Ye));Fe=x(Be(Be({},Ce),{},{className:ei(om(E,le),je(je({},ae,ae&&Ye),E,typeof E=="string")),style:J}),Ie)}if(q.isValidElement(Fe)&&l0(Fe)){var ie=T_(Fe);ie||(Fe=q.cloneElement(Fe,{ref:Ie}))}return q.createElement(zP,{ref:U},Fe)});return r.displayName="CSSMotion",r}const rM=nM(sv);var vd="add",wd="keep",bd="remove",kf="removed";function iM(t){var e;return t&&Tt(t)==="object"&&"key"in t?e=t:e={key:t},Be(Be({},e),{},{key:String(e.key)})}function xd(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(iM)}function oM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,o=e.length,u=xd(t),c=xd(e);u.forEach(function(p){for(var b=!1,x=r;x<o;x+=1){var E=c[x];if(E.key===p.key){r<x&&(n=n.concat(c.slice(r,x).map(function(T){return Be(Be({},T),{},{status:vd})})),r=x),n.push(Be(Be({},E),{},{status:wd})),r+=1,b=!0;break}}b||n.push(Be(Be({},p),{},{status:bd}))}),r<o&&(n=n.concat(c.slice(r).map(function(p){return Be(Be({},p),{},{status:vd})})));var l={};n.forEach(function(p){var b=p.key;l[b]=(l[b]||0)+1});var h=Object.keys(l).filter(function(p){return l[p]>1});return h.forEach(function(p){n=n.filter(function(b){var x=b.key,E=b.status;return x!==p||E!==bd}),n.forEach(function(b){b.key===p&&(b.status=wd)})}),n}var sM=["component","children","onVisibleChanged","onAllRemoved"],aM=["status"],uM=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function cM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rM,n=function(r){Jc(u,r);var o=Zc(u);function u(){var c;wi(this,u);for(var l=arguments.length,h=new Array(l),p=0;p<l;p++)h[p]=arguments[p];return c=o.call.apply(o,[this].concat(h)),je(Ho(c),"state",{keyEntities:[]}),je(Ho(c),"removeKey",function(b){c.setState(function(x){var E=x.keyEntities.map(function(T){return T.key!==b?T:Be(Be({},T),{},{status:kf})});return{keyEntities:E}},function(){var x=c.state.keyEntities,E=x.filter(function(T){var C=T.status;return C!==kf}).length;E===0&&c.props.onAllRemoved&&c.props.onAllRemoved()})}),c}return bi(u,[{key:"render",value:function(){var l=this,h=this.state.keyEntities,p=this.props,b=p.component,x=p.children,E=p.onVisibleChanged;p.onAllRemoved;var T=Yo(p,sM),C=b||q.Fragment,P={};return uM.forEach(function(F){P[F]=T[F],delete T[F]}),delete T.keys,q.createElement(C,T,h.map(function(F,B){var z=F.status,U=Yo(F,aM),ee=z===vd||z===wd;return q.createElement(e,or({},P,{key:U.key,visible:ee,eventProps:U,onVisibleChanged:function(re){E==null||E(re,{key:U.key}),re||l.removeKey(U.key)}}),function(ne,re){return x(Be(Be({},ne),{},{index:B}),re)})}))}}],[{key:"getDerivedStateFromProps",value:function(l,h){var p=l.keys,b=h.keyEntities,x=xd(p),E=oM(b,x);return{keyEntities:E.filter(function(T){var C=b.find(function(P){var F=P.key;return T.key===F});return!(C&&C.status===kf&&T.status===bd)})}}}]),u}(q.Component);return je(n,"defaultProps",{component:"div"}),n}const lM=cM(sv);function fM(t){const{children:e}=t,[,n]=Va(),{motion:r}=n,o=q.useRef(!1);return o.current=o.current||r===!1,o.current?q.createElement(HP,{motion:r},e):e}const dM=()=>null;var hM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const pM=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let xc,lv,fv,dv;function fc(){return xc||hd}function gM(){return lv||il}function mM(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const yM=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:o}=t;e!==void 0&&(xc=e),n!==void 0&&(lv=n),"holderRender"in t&&(dv=o),r&&(mM(r)?fP(fc(),r):fv=r)},vM=()=>({getPrefixCls:(t,e)=>e||(t?`${fc()}-${t}`:fc()),getIconPrefixCls:gM,getRootPrefixCls:()=>xc||fc(),getTheme:()=>fv,holderRender:dv}),wM=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:o,anchor:u,form:c,locale:l,componentSize:h,direction:p,space:b,splitter:x,virtual:E,dropdownMatchSelectWidth:T,popupMatchSelectWidth:C,popupOverflow:P,legacyLocale:F,parentContext:B,iconPrefixCls:z,theme:U,componentDisabled:ee,segmented:ne,statistic:re,spin:le,calendar:Ae,carousel:J,cascader:pe,collapse:se,typography:Ie,checkbox:Fe,descriptions:Ce,divider:Ye,drawer:ae,skeleton:ie,steps:he,image:_e,layout:ke,list:Ee,mentions:Re,modal:ot,progress:it,result:Ke,slider:yt,breadcrumb:Nt,menu:In,pagination:on,input:hn,textArea:Gn,empty:Ut,badge:wn,radio:Wt,rate:En,switch:Zt,transfer:jt,avatar:Un,message:yr,tag:pn,table:st,card:Ct,tabs:en,timeline:xt,timePicker:Dt,upload:vt,notification:xi,tree:bn,colorPicker:Si,datePicker:Ei,rangePicker:qi,flex:Ji,wave:Zi,dropdown:eo,warning:Hr,tour:Ai,tooltip:zr,popover:Ti,popconfirm:Ns,floatButtonGroup:to,variant:ii,inputNumber:vr,treeSelect:Jo}=t,no=q.useCallback((Kt,tn)=>{const{prefixCls:An}=t;if(tn)return tn;const kn=An||B.getPrefixCls("");return Kt?`${kn}-${Kt}`:kn},[B.getPrefixCls,t.prefixCls]),oi=z||B.iconPrefixCls||il,si=n||B.csp;$P(oi,si);const ro=UP(U,B.theme,{prefixCls:no("")}),Ci={csp:si,autoInsertSpaceInButton:r,alert:o,anchor:u,locale:l||F,direction:p,space:b,splitter:x,virtual:E,popupMatchSelectWidth:C??T,popupOverflow:P,getPrefixCls:no,iconPrefixCls:oi,theme:ro,segmented:ne,statistic:re,spin:le,calendar:Ae,carousel:J,cascader:pe,collapse:se,typography:Ie,checkbox:Fe,descriptions:Ce,divider:Ye,drawer:ae,skeleton:ie,steps:he,image:_e,input:hn,textArea:Gn,layout:ke,list:Ee,mentions:Re,modal:ot,progress:it,result:Ke,slider:yt,breadcrumb:Nt,menu:In,pagination:on,empty:Ut,badge:wn,radio:Wt,rate:En,switch:Zt,transfer:jt,avatar:Un,message:yr,tag:pn,table:st,card:Ct,tabs:en,timeline:xt,timePicker:Dt,upload:vt,notification:xi,tree:bn,colorPicker:Si,datePicker:Ei,rangePicker:qi,flex:Ji,wave:Zi,dropdown:eo,warning:Hr,tour:Ai,tooltip:zr,popover:Ti,popconfirm:Ns,floatButtonGroup:to,variant:ii,inputNumber:vr,treeSelect:Jo},ai=Object.assign({},B);Object.keys(Ci).forEach(Kt=>{Ci[Kt]!==void 0&&(ai[Kt]=Ci[Kt])}),pM.forEach(Kt=>{const tn=t[Kt];tn&&(ai[Kt]=tn)}),typeof r<"u"&&(ai.button=Object.assign({autoInsertSpace:r},ai.button));const ui=th(()=>ai,ai,(Kt,tn)=>{const An=Object.keys(Kt),kn=Object.keys(tn);return An.length!==kn.length||An.some(jr=>Kt[jr]!==tn[jr])}),{layer:io}=q.useContext(Xa),sr=q.useMemo(()=>({prefixCls:oi,csp:si,layer:io?"antd":void 0}),[oi,si,io]);let Yt=q.createElement(q.Fragment,null,q.createElement(dM,{dropdownMatchSelectWidth:T}),e);const Zo=q.useMemo(()=>{var Kt,tn,An,kn;return $L(((Kt=rl.Form)===null||Kt===void 0?void 0:Kt.defaultValidateMessages)||{},((An=(tn=ui.locale)===null||tn===void 0?void 0:tn.Form)===null||An===void 0?void 0:An.defaultValidateMessages)||{},((kn=ui.form)===null||kn===void 0?void 0:kn.validateMessages)||{},(c==null?void 0:c.validateMessages)||{})},[ui,c==null?void 0:c.validateMessages]);Object.keys(Zo).length>0&&(Yt=q.createElement(GL.Provider,{value:Zo},Yt)),l&&(Yt=q.createElement(XL,{locale:l,_ANT_MARK__:jL},Yt)),Yt=q.createElement(lh.Provider,{value:sr},Yt),h&&(Yt=q.createElement(hP,{size:h},Yt)),Yt=q.createElement(fM,null,Yt);const gn=q.useMemo(()=>{const Kt=ro||{},{algorithm:tn,token:An,components:kn,cssVar:jr}=Kt,es=hM(Kt,["algorithm","token","components","cssVar"]),Tn=tn&&(!Array.isArray(tn)||tn.length>0)?Vf(tn):j0,_i={};Object.entries(kn||{}).forEach(Wn=>{let[$s,Li]=Wn;const Qn=Object.assign({},Li);"algorithm"in Qn&&(Qn.algorithm===!0?Qn.theme=Tn:(Array.isArray(Qn.algorithm)||typeof Qn.algorithm=="function")&&(Qn.theme=Vf(Qn.algorithm)),delete Qn.algorithm),_i[$s]=Qn});const Rn=Object.assign(Object.assign({},Pa),An);return Object.assign(Object.assign({},es),{theme:Tn,token:Rn,components:_i,override:Object.assign({override:Rn},_i),cssVar:jr})},[ro]);return U&&(Yt=q.createElement(X0.Provider,{value:gn},Yt)),ui.warning&&(Yt=q.createElement(DL.Provider,{value:ui.warning},Yt)),ee!==void 0&&(Yt=q.createElement(dP,{disabled:ee},Yt)),q.createElement(vi.Provider,{value:ui},Yt)},Os=t=>{const e=q.useContext(vi),n=q.useContext(U0);return q.createElement(wM,Object.assign({parentContext:e,legacyLocale:n},t))};Os.ConfigContext=vi;Os.SizeContext=Ia;Os.config=yM;Os.useConfig=pP;Object.defineProperty(Os,"SizeContext",{get:()=>Ia});var bM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function hv(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function xM(t){return hv(t)instanceof ShadowRoot}function SM(t){return xM(t)?hv(t):null}function EM(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function AM(t,e){ja(t,"[@ant-design/icons] ".concat(e))}function sm(t){return Tt(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(Tt(t.icon)==="object"||typeof t.icon=="function")}function am(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[EM(n)]=r}return e},{})}function Sd(t,e,n){return n?Vt.createElement(t.tag,Be(Be({key:e},am(t.attrs)),n),(t.children||[]).map(function(r,o){return Sd(r,"".concat(e,"-").concat(t.tag,"-").concat(o))})):Vt.createElement(t.tag,Be({key:e},am(t.attrs)),(t.children||[]).map(function(r,o){return Sd(r,"".concat(e,"-").concat(t.tag,"-").concat(o))}))}function pv(t){return Ma(t)[0]}function gv(t){return t?Array.isArray(t)?t:[t]:[]}var TM=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,CM=function(e){var n=q.useContext(lh),r=n.csp,o=n.prefixCls,u=n.layer,c=TM;o&&(c=c.replace(/anticon/g,o)),u&&(c="@layer ".concat(u,` {
`).concat(c,`
}`)),q.useEffect(function(){var l=e.current,h=SM(l);zo(c,"@ant-design-icons",{prepend:!u,csp:r,attachTo:h})},[])},_M=["icon","className","onClick","style","primaryColor","secondaryColor"],Ea={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function LM(t){var e=t.primaryColor,n=t.secondaryColor;Ea.primaryColor=e,Ea.secondaryColor=n||pv(e),Ea.calculated=!!n}function PM(){return Be({},Ea)}var Fs=function(e){var n=e.icon,r=e.className,o=e.onClick,u=e.style,c=e.primaryColor,l=e.secondaryColor,h=Yo(e,_M),p=q.useRef(),b=Ea;if(c&&(b={primaryColor:c,secondaryColor:l||pv(c)}),CM(p),AM(sm(n),"icon should be icon definiton, but got ".concat(n)),!sm(n))return null;var x=n;return x&&typeof x.icon=="function"&&(x=Be(Be({},x),{},{icon:x.icon(b.primaryColor,b.secondaryColor)})),Sd(x.icon,"svg-".concat(x.name),Be(Be({className:r,onClick:o,style:u,"data-icon":x.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},h),{},{ref:p}))};Fs.displayName="IconReact";Fs.getTwoToneColors=PM;Fs.setTwoToneColors=LM;function mv(t){var e=gv(t),n=et(e,2),r=n[0],o=n[1];return Fs.setTwoToneColors({primaryColor:r,secondaryColor:o})}function MM(){var t=Fs.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var IM=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];mv(bc.primary);var Qi=q.forwardRef(function(t,e){var n=t.className,r=t.icon,o=t.spin,u=t.rotate,c=t.tabIndex,l=t.onClick,h=t.twoToneColor,p=Yo(t,IM),b=q.useContext(lh),x=b.prefixCls,E=x===void 0?"anticon":x,T=b.rootClassName,C=ei(T,E,je(je({},"".concat(E,"-").concat(r.name),!!r.name),"".concat(E,"-spin"),!!o||r.name==="loading"),n),P=c;P===void 0&&l&&(P=-1);var F=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,B=gv(h),z=et(B,2),U=z[0],ee=z[1];return q.createElement("span",or({role:"img","aria-label":r.name},p,{ref:e,tabIndex:P,onClick:l,className:C}),q.createElement(Fs,{icon:r,primaryColor:U,secondaryColor:ee,style:F}))});Qi.displayName="AntdIcon";Qi.getTwoToneColor=MM;Qi.setTwoToneColor=mv;var kM=function(e,n){return q.createElement(Qi,or({},e,{ref:n,icon:bM}))},RM=q.forwardRef(kM),OM={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},FM=function(e,n){return q.createElement(Qi,or({},e,{ref:n,icon:OM}))},NM=q.forwardRef(FM),$M={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},BM=function(e,n){return q.createElement(Qi,or({},e,{ref:n,icon:$M}))},DM=q.forwardRef(BM),GM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},UM=function(e,n){return q.createElement(Qi,or({},e,{ref:n,icon:GM}))},WM=q.forwardRef(UM),HM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},zM=function(e,n){return q.createElement(Qi,or({},e,{ref:n,icon:HM}))},jM=q.forwardRef(zM),XM=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,VM=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,YM="".concat(XM," ").concat(VM).split(/[\s\n]+/),KM="aria-",QM="data-";function um(t,e){return t.indexOf(e)===0}function qM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=Be({},e);var r={};return Object.keys(t).forEach(function(o){(n.aria&&(o==="role"||um(o,KM))||n.data&&um(o,QM)||n.attr&&YM.includes(o))&&(r[o]=t[o])}),r}const yv=t=>{const[,,,,e]=Va();return e?`${t}-css-var`:""};var JM={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},vv=q.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,o=t.className,u=t.duration,c=u===void 0?4.5:u,l=t.showProgress,h=t.pauseOnHover,p=h===void 0?!0:h,b=t.eventKey,x=t.content,E=t.closable,T=t.closeIcon,C=T===void 0?"x":T,P=t.props,F=t.onClick,B=t.onNoticeClose,z=t.times,U=t.hovering,ee=q.useState(!1),ne=et(ee,2),re=ne[0],le=ne[1],Ae=q.useState(0),J=et(Ae,2),pe=J[0],se=J[1],Ie=q.useState(0),Fe=et(Ie,2),Ce=Fe[0],Ye=Fe[1],ae=U||re,ie=c>0&&l,he=function(){B(b)},_e=function(Ke){(Ke.key==="Enter"||Ke.code==="Enter"||Ke.keyCode===JM.ENTER)&&he()};q.useEffect(function(){if(!ae&&c>0){var it=Date.now()-Ce,Ke=setTimeout(function(){he()},c*1e3-Ce);return function(){p&&clearTimeout(Ke),Ye(Date.now()-it)}}},[c,ae,z]),q.useEffect(function(){if(!ae&&ie&&(p||Ce===0)){var it=performance.now(),Ke,yt=function Nt(){cancelAnimationFrame(Ke),Ke=requestAnimationFrame(function(In){var on=In+Ce-it,hn=Math.min(on/(c*1e3),1);se(hn*100),hn<1&&Nt()})};return yt(),function(){p&&cancelAnimationFrame(Ke)}}},[c,Ce,ae,ie,z]);var ke=q.useMemo(function(){return Tt(E)==="object"&&E!==null?E:E?{closeIcon:C}:{}},[E,C]),Ee=qM(ke,!0),Re=100-(!pe||pe<0?0:pe>100?100:pe),ot="".concat(n,"-notice");return q.createElement("div",or({},P,{ref:e,className:ei(ot,o,je({},"".concat(ot,"-closable"),E)),style:r,onMouseEnter:function(Ke){var yt;le(!0),P==null||(yt=P.onMouseEnter)===null||yt===void 0||yt.call(P,Ke)},onMouseLeave:function(Ke){var yt;le(!1),P==null||(yt=P.onMouseLeave)===null||yt===void 0||yt.call(P,Ke)},onClick:F}),q.createElement("div",{className:"".concat(ot,"-content")},x),E&&q.createElement("a",or({tabIndex:0,className:"".concat(ot,"-close"),onKeyDown:_e,"aria-label":"Close"},Ee,{onClick:function(Ke){Ke.preventDefault(),Ke.stopPropagation(),he()}}),ke.closeIcon),ie&&q.createElement("progress",{className:"".concat(ot,"-progress"),max:"100",value:Re},Re+"%"))}),wv=Vt.createContext({}),ZM=function(e){var n=e.children,r=e.classNames;return Vt.createElement(wv.Provider,{value:{classNames:r}},n)},cm=8,lm=3,fm=16,eI=function(e){var n={offset:cm,threshold:lm,gap:fm};if(e&&Tt(e)==="object"){var r,o,u;n.offset=(r=e.offset)!==null&&r!==void 0?r:cm,n.threshold=(o=e.threshold)!==null&&o!==void 0?o:lm,n.gap=(u=e.gap)!==null&&u!==void 0?u:fm}return[!!e,n]},tI=["className","style","classNames","styles"],nI=function(e){var n=e.configList,r=e.placement,o=e.prefixCls,u=e.className,c=e.style,l=e.motion,h=e.onAllNoticeRemoved,p=e.onNoticeClose,b=e.stack,x=q.useContext(wv),E=x.classNames,T=q.useRef({}),C=q.useState(null),P=et(C,2),F=P[0],B=P[1],z=q.useState([]),U=et(z,2),ee=U[0],ne=U[1],re=n.map(function(ae){return{config:ae,key:String(ae.key)}}),le=eI(b),Ae=et(le,2),J=Ae[0],pe=Ae[1],se=pe.offset,Ie=pe.threshold,Fe=pe.gap,Ce=J&&(ee.length>0||re.length<=Ie),Ye=typeof l=="function"?l(r):l;return q.useEffect(function(){J&&ee.length>1&&ne(function(ae){return ae.filter(function(ie){return re.some(function(he){var _e=he.key;return ie===_e})})})},[ee,re,J]),q.useEffect(function(){var ae;if(J&&T.current[(ae=re[re.length-1])===null||ae===void 0?void 0:ae.key]){var ie;B(T.current[(ie=re[re.length-1])===null||ie===void 0?void 0:ie.key])}},[re,J]),Vt.createElement(lM,or({key:r,className:ei(o,"".concat(o,"-").concat(r),E==null?void 0:E.list,u,je(je({},"".concat(o,"-stack"),!!J),"".concat(o,"-stack-expanded"),Ce)),style:c,keys:re,motionAppear:!0},Ye,{onAllRemoved:function(){h(r)}}),function(ae,ie){var he=ae.config,_e=ae.className,ke=ae.style,Ee=ae.index,Re=he,ot=Re.key,it=Re.times,Ke=String(ot),yt=he,Nt=yt.className,In=yt.style,on=yt.classNames,hn=yt.styles,Gn=Yo(yt,tI),Ut=re.findIndex(function(xt){return xt.key===Ke}),wn={};if(J){var Wt=re.length-1-(Ut>-1?Ut:Ee-1),En=r==="top"||r==="bottom"?"-50%":"0";if(Wt>0){var Zt,jt,Un;wn.height=Ce?(Zt=T.current[Ke])===null||Zt===void 0?void 0:Zt.offsetHeight:F==null?void 0:F.offsetHeight;for(var yr=0,pn=0;pn<Wt;pn++){var st;yr+=((st=T.current[re[re.length-1-pn].key])===null||st===void 0?void 0:st.offsetHeight)+Fe}var Ct=(Ce?yr:Wt*se)*(r.startsWith("top")?1:-1),en=!Ce&&F!==null&&F!==void 0&&F.offsetWidth&&(jt=T.current[Ke])!==null&&jt!==void 0&&jt.offsetWidth?((F==null?void 0:F.offsetWidth)-se*2*(Wt<3?Wt:3))/((Un=T.current[Ke])===null||Un===void 0?void 0:Un.offsetWidth):1;wn.transform="translate3d(".concat(En,", ").concat(Ct,"px, 0) scaleX(").concat(en,")")}else wn.transform="translate3d(".concat(En,", 0, 0)")}return Vt.createElement("div",{ref:ie,className:ei("".concat(o,"-notice-wrapper"),_e,on==null?void 0:on.wrapper),style:Be(Be(Be({},ke),wn),hn==null?void 0:hn.wrapper),onMouseEnter:function(){return ne(function(Dt){return Dt.includes(Ke)?Dt:[].concat(mr(Dt),[Ke])})},onMouseLeave:function(){return ne(function(Dt){return Dt.filter(function(vt){return vt!==Ke})})}},Vt.createElement(vv,or({},Gn,{ref:function(Dt){Ut>-1?T.current[Ke]=Dt:delete T.current[Ke]},prefixCls:o,classNames:on,styles:hn,className:ei(Nt,E==null?void 0:E.notice),style:In,times:it,key:ot,eventKey:ot,onNoticeClose:p,hovering:J&&ee.length>0})))})},rI=q.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-notification":n,o=t.container,u=t.motion,c=t.maxCount,l=t.className,h=t.style,p=t.onAllRemoved,b=t.stack,x=t.renderNotifications,E=q.useState([]),T=et(E,2),C=T[0],P=T[1],F=function(J){var pe,se=C.find(function(Ie){return Ie.key===J});se==null||(pe=se.onClose)===null||pe===void 0||pe.call(se),P(function(Ie){return Ie.filter(function(Fe){return Fe.key!==J})})};q.useImperativeHandle(e,function(){return{open:function(J){P(function(pe){var se=mr(pe),Ie=se.findIndex(function(Ye){return Ye.key===J.key}),Fe=Be({},J);if(Ie>=0){var Ce;Fe.times=(((Ce=pe[Ie])===null||Ce===void 0?void 0:Ce.times)||0)+1,se[Ie]=Fe}else Fe.times=0,se.push(Fe);return c>0&&se.length>c&&(se=se.slice(-c)),se})},close:function(J){F(J)},destroy:function(){P([])}}});var B=q.useState({}),z=et(B,2),U=z[0],ee=z[1];q.useEffect(function(){var Ae={};C.forEach(function(J){var pe=J.placement,se=pe===void 0?"topRight":pe;se&&(Ae[se]=Ae[se]||[],Ae[se].push(J))}),Object.keys(U).forEach(function(J){Ae[J]=Ae[J]||[]}),ee(Ae)},[C]);var ne=function(J){ee(function(pe){var se=Be({},pe),Ie=se[J]||[];return Ie.length||delete se[J],se})},re=q.useRef(!1);if(q.useEffect(function(){Object.keys(U).length>0?re.current=!0:re.current&&(p==null||p(),re.current=!1)},[U]),!o)return null;var le=Object.keys(U);return E2.createPortal(q.createElement(q.Fragment,null,le.map(function(Ae){var J=U[Ae],pe=q.createElement(nI,{key:Ae,configList:J,placement:Ae,prefixCls:r,className:l==null?void 0:l(Ae),style:h==null?void 0:h(Ae),motion:u,onNoticeClose:F,onAllNoticeRemoved:ne,stack:b});return x?x(pe,{prefixCls:r,key:Ae}):pe})),o)}),iI=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],oI=function(){return document.body},dm=0;function sI(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(o){o&&Object.keys(o).forEach(function(u){var c=o[u];c!==void 0&&(t[u]=c)})}),t}function aI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,n=e===void 0?oI:e,r=t.motion,o=t.prefixCls,u=t.maxCount,c=t.className,l=t.style,h=t.onAllRemoved,p=t.stack,b=t.renderNotifications,x=Yo(t,iI),E=q.useState(),T=et(E,2),C=T[0],P=T[1],F=q.useRef(),B=q.createElement(rI,{container:C,ref:F,prefixCls:o,motion:r,maxCount:u,className:c,style:l,onAllRemoved:h,stack:p,renderNotifications:b}),z=q.useState([]),U=et(z,2),ee=U[0],ne=U[1],re=q.useMemo(function(){return{open:function(Ae){var J=sI(x,Ae);(J.key===null||J.key===void 0)&&(J.key="rc-notification-".concat(dm),dm+=1),ne(function(pe){return[].concat(mr(pe),[{type:"open",config:J}])})},close:function(Ae){ne(function(J){return[].concat(mr(J),[{type:"close",key:Ae}])})},destroy:function(){ne(function(Ae){return[].concat(mr(Ae),[{type:"destroy"}])})}}},[]);return q.useEffect(function(){P(n())}),q.useEffect(function(){if(F.current&&ee.length){ee.forEach(function(J){switch(J.type){case"open":F.current.open(J.config);break;case"close":F.current.close(J.key);break;case"destroy":F.current.destroy();break}});var le,Ae;ne(function(J){return(le!==J||!Ae)&&(le=J,Ae=J.filter(function(pe){return!ee.includes(pe)})),Ae})}},[ee]),[re,B]}var uI={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},cI=function(e,n){return q.createElement(Qi,or({},e,{ref:n,icon:uI}))},lI=q.forwardRef(cI);const fI=Vt.createContext(void 0),xo=100,dI=10,hI=xo*dI,bv={Modal:xo,Drawer:xo,Popover:xo,Popconfirm:xo,Tooltip:xo,Tour:xo,FloatButton:xo},pI={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function gI(t){return t in bv}const XR=(t,e)=>{const[,n]=Va(),r=Vt.useContext(fI),o=gI(t);let u;if(e!==void 0)u=[e,e];else{let c=r??0;o?c+=(r?0:n.zIndexPopupBase)+bv[t]:c+=pI[t],u=[r===void 0?e:c,c]}return u},mI=t=>{const{componentCls:e,iconCls:n,boxShadow:r,colorText:o,colorSuccess:u,colorError:c,colorWarning:l,colorInfo:h,fontSizeLG:p,motionEaseInOutCirc:b,motionDurationSlow:x,marginXS:E,paddingXS:T,borderRadiusLG:C,zIndexPopup:P,contentPadding:F,contentBg:B}=t,z=`${e}-notice`,U=new Bg("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:T,transform:"translateY(0)",opacity:1}}),ee=new Bg("MessageMoveOut",{"0%":{maxHeight:t.height,padding:T,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),ne={padding:T,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${n}`]:{marginInlineEnd:E,fontSize:p},[`${z}-content`]:{display:"inline-block",padding:F,background:B,borderRadius:C,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${n}`]:{color:u},[`${e}-error > ${n}`]:{color:c},[`${e}-warning > ${n}`]:{color:l},[`${e}-info > ${n},
      ${e}-loading > ${n}`]:{color:h}};return[{[e]:Object.assign(Object.assign({},IP(t)),{color:o,position:"fixed",top:E,width:"100%",pointerEvents:"none",zIndex:P,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:U,animationDuration:x,animationPlayState:"paused",animationTimingFunction:b},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:ee,animationDuration:x,animationPlayState:"paused",animationTimingFunction:b},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${z}-wrapper`]:Object.assign({},ne)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},ne),{padding:0,textAlign:"start"})}]},yI=t=>({zIndexPopup:t.zIndexPopupBase+hI+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),xv=NP("Message",t=>{const e=fh(t,{height:150});return[mI(e)]},yI);var vI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const wI={info:q.createElement(jM,null),success:q.createElement(RM,null),error:q.createElement(NM,null),warning:q.createElement(WM,null),loading:q.createElement(lI,null)},Sv=t=>{let{prefixCls:e,type:n,icon:r,children:o}=t;return q.createElement("div",{className:ei(`${e}-custom-content`,`${e}-${n}`)},r||wI[n],q.createElement("span",null,o))},bI=t=>{const{prefixCls:e,className:n,type:r,icon:o,content:u}=t,c=vI(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=q.useContext(vi),h=e||l("message"),p=yv(h),[b,x,E]=xv(h,p);return b(q.createElement(vv,Object.assign({},c,{prefixCls:h,className:ei(n,x,`${h}-notice-pure-panel`,E,p),eventKey:"pure",duration:null,content:q.createElement(Sv,{prefixCls:h,type:r,icon:o},u)})))};function xI(t,e){return{motionName:e??`${t}-move-up`}}function hh(t){let e;const n=new Promise(o=>{e=t(()=>{o(!0)})}),r=()=>{e==null||e()};return r.then=(o,u)=>n.then(o,u),r.promise=n,r}var SI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const EI=8,AI=3,TI=t=>{let{children:e,prefixCls:n}=t;const r=yv(n),[o,u,c]=xv(n,r);return o(q.createElement(ZM,{classNames:{list:ei(u,c,r)}},e))},CI=(t,e)=>{let{prefixCls:n,key:r}=e;return q.createElement(TI,{prefixCls:n,key:r},t)},_I=q.forwardRef((t,e)=>{const{top:n,prefixCls:r,getContainer:o,maxCount:u,duration:c=AI,rtl:l,transitionName:h,onAllRemoved:p}=t,{getPrefixCls:b,getPopupContainer:x,message:E,direction:T}=q.useContext(vi),C=r||b("message"),P=()=>({left:"50%",transform:"translateX(-50%)",top:n??EI}),F=()=>ei({[`${C}-rtl`]:l??T==="rtl"}),B=()=>xI(C,h),z=q.createElement("span",{className:`${C}-close-x`},q.createElement(DM,{className:`${C}-close-icon`})),[U,ee]=aI({prefixCls:C,style:P,className:F,motion:B,closable:!1,closeIcon:z,duration:c,getContainer:()=>(o==null?void 0:o())||(x==null?void 0:x())||document.body,maxCount:u,onAllRemoved:p,renderNotifications:CI});return q.useImperativeHandle(e,()=>Object.assign(Object.assign({},U),{prefixCls:C,message:E})),ee});let hm=0;function Ev(t){const e=q.useRef(null);return D0(),[q.useMemo(()=>{const r=h=>{var p;(p=e.current)===null||p===void 0||p.close(h)},o=h=>{if(!e.current){const re=()=>{};return re.then=()=>{},re}const{open:p,prefixCls:b,message:x}=e.current,E=`${b}-notice`,{content:T,icon:C,type:P,key:F,className:B,style:z,onClose:U}=h,ee=SI(h,["content","icon","type","key","className","style","onClose"]);let ne=F;return ne==null&&(hm+=1,ne=`antd-message-${hm}`),hh(re=>(p(Object.assign(Object.assign({},ee),{key:ne,content:q.createElement(Sv,{prefixCls:b,type:P,icon:C},T),placement:"top",className:ei(P&&`${E}-${P}`,B,x==null?void 0:x.className),style:Object.assign(Object.assign({},x==null?void 0:x.style),z),onClose:()=>{U==null||U(),re()}})),()=>{r(ne)}))},c={open:o,destroy:h=>{var p;h!==void 0?r(h):(p=e.current)===null||p===void 0||p.destroy()}};return["info","success","warning","error","loading"].forEach(h=>{const p=(b,x,E)=>{let T;b&&typeof b=="object"&&"content"in b?T=b:T={content:b};let C,P;typeof x=="function"?P=x:(C=x,P=E);const F=Object.assign(Object.assign({onClose:P,duration:C},T),{type:h});return o(F)};c[h]=p}),c},[]),q.createElement(_I,Object.assign({key:"message-holder"},t,{ref:e}))]}function LI(t){return Ev(t)}function ka(){ka=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(ae,ie,he){ae[ie]=he.value},u=typeof Symbol=="function"?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function p(ae,ie,he){return Object.defineProperty(ae,ie,{value:he,enumerable:!0,configurable:!0,writable:!0}),ae[ie]}try{p({},"")}catch{p=function(he,_e,ke){return he[_e]=ke}}function b(ae,ie,he,_e){var ke=ie&&ie.prototype instanceof B?ie:B,Ee=Object.create(ke.prototype),Re=new Ce(_e||[]);return o(Ee,"_invoke",{value:pe(ae,he,Re)}),Ee}function x(ae,ie,he){try{return{type:"normal",arg:ae.call(ie,he)}}catch(_e){return{type:"throw",arg:_e}}}e.wrap=b;var E="suspendedStart",T="suspendedYield",C="executing",P="completed",F={};function B(){}function z(){}function U(){}var ee={};p(ee,c,function(){return this});var ne=Object.getPrototypeOf,re=ne&&ne(ne(Ye([])));re&&re!==n&&r.call(re,c)&&(ee=re);var le=U.prototype=B.prototype=Object.create(ee);function Ae(ae){["next","throw","return"].forEach(function(ie){p(ae,ie,function(he){return this._invoke(ie,he)})})}function J(ae,ie){function he(ke,Ee,Re,ot){var it=x(ae[ke],ae,Ee);if(it.type!=="throw"){var Ke=it.arg,yt=Ke.value;return yt&&Tt(yt)=="object"&&r.call(yt,"__await")?ie.resolve(yt.__await).then(function(Nt){he("next",Nt,Re,ot)},function(Nt){he("throw",Nt,Re,ot)}):ie.resolve(yt).then(function(Nt){Ke.value=Nt,Re(Ke)},function(Nt){return he("throw",Nt,Re,ot)})}ot(it.arg)}var _e;o(this,"_invoke",{value:function(Ee,Re){function ot(){return new ie(function(it,Ke){he(Ee,Re,it,Ke)})}return _e=_e?_e.then(ot,ot):ot()}})}function pe(ae,ie,he){var _e=E;return function(ke,Ee){if(_e===C)throw Error("Generator is already running");if(_e===P){if(ke==="throw")throw Ee;return{value:t,done:!0}}for(he.method=ke,he.arg=Ee;;){var Re=he.delegate;if(Re){var ot=se(Re,he);if(ot){if(ot===F)continue;return ot}}if(he.method==="next")he.sent=he._sent=he.arg;else if(he.method==="throw"){if(_e===E)throw _e=P,he.arg;he.dispatchException(he.arg)}else he.method==="return"&&he.abrupt("return",he.arg);_e=C;var it=x(ae,ie,he);if(it.type==="normal"){if(_e=he.done?P:T,it.arg===F)continue;return{value:it.arg,done:he.done}}it.type==="throw"&&(_e=P,he.method="throw",he.arg=it.arg)}}}function se(ae,ie){var he=ie.method,_e=ae.iterator[he];if(_e===t)return ie.delegate=null,he==="throw"&&ae.iterator.return&&(ie.method="return",ie.arg=t,se(ae,ie),ie.method==="throw")||he!=="return"&&(ie.method="throw",ie.arg=new TypeError("The iterator does not provide a '"+he+"' method")),F;var ke=x(_e,ae.iterator,ie.arg);if(ke.type==="throw")return ie.method="throw",ie.arg=ke.arg,ie.delegate=null,F;var Ee=ke.arg;return Ee?Ee.done?(ie[ae.resultName]=Ee.value,ie.next=ae.nextLoc,ie.method!=="return"&&(ie.method="next",ie.arg=t),ie.delegate=null,F):Ee:(ie.method="throw",ie.arg=new TypeError("iterator result is not an object"),ie.delegate=null,F)}function Ie(ae){var ie={tryLoc:ae[0]};1 in ae&&(ie.catchLoc=ae[1]),2 in ae&&(ie.finallyLoc=ae[2],ie.afterLoc=ae[3]),this.tryEntries.push(ie)}function Fe(ae){var ie=ae.completion||{};ie.type="normal",delete ie.arg,ae.completion=ie}function Ce(ae){this.tryEntries=[{tryLoc:"root"}],ae.forEach(Ie,this),this.reset(!0)}function Ye(ae){if(ae||ae===""){var ie=ae[c];if(ie)return ie.call(ae);if(typeof ae.next=="function")return ae;if(!isNaN(ae.length)){var he=-1,_e=function ke(){for(;++he<ae.length;)if(r.call(ae,he))return ke.value=ae[he],ke.done=!1,ke;return ke.value=t,ke.done=!0,ke};return _e.next=_e}}throw new TypeError(Tt(ae)+" is not iterable")}return z.prototype=U,o(le,"constructor",{value:U,configurable:!0}),o(U,"constructor",{value:z,configurable:!0}),z.displayName=p(U,h,"GeneratorFunction"),e.isGeneratorFunction=function(ae){var ie=typeof ae=="function"&&ae.constructor;return!!ie&&(ie===z||(ie.displayName||ie.name)==="GeneratorFunction")},e.mark=function(ae){return Object.setPrototypeOf?Object.setPrototypeOf(ae,U):(ae.__proto__=U,p(ae,h,"GeneratorFunction")),ae.prototype=Object.create(le),ae},e.awrap=function(ae){return{__await:ae}},Ae(J.prototype),p(J.prototype,l,function(){return this}),e.AsyncIterator=J,e.async=function(ae,ie,he,_e,ke){ke===void 0&&(ke=Promise);var Ee=new J(b(ae,ie,he,_e),ke);return e.isGeneratorFunction(ie)?Ee:Ee.next().then(function(Re){return Re.done?Re.value:Ee.next()})},Ae(le),p(le,h,"Generator"),p(le,c,function(){return this}),p(le,"toString",function(){return"[object Generator]"}),e.keys=function(ae){var ie=Object(ae),he=[];for(var _e in ie)he.push(_e);return he.reverse(),function ke(){for(;he.length;){var Ee=he.pop();if(Ee in ie)return ke.value=Ee,ke.done=!1,ke}return ke.done=!0,ke}},e.values=Ye,Ce.prototype={constructor:Ce,reset:function(ie){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(Fe),!ie)for(var he in this)he.charAt(0)==="t"&&r.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=t)},stop:function(){this.done=!0;var ie=this.tryEntries[0].completion;if(ie.type==="throw")throw ie.arg;return this.rval},dispatchException:function(ie){if(this.done)throw ie;var he=this;function _e(Ke,yt){return Re.type="throw",Re.arg=ie,he.next=Ke,yt&&(he.method="next",he.arg=t),!!yt}for(var ke=this.tryEntries.length-1;ke>=0;--ke){var Ee=this.tryEntries[ke],Re=Ee.completion;if(Ee.tryLoc==="root")return _e("end");if(Ee.tryLoc<=this.prev){var ot=r.call(Ee,"catchLoc"),it=r.call(Ee,"finallyLoc");if(ot&&it){if(this.prev<Ee.catchLoc)return _e(Ee.catchLoc,!0);if(this.prev<Ee.finallyLoc)return _e(Ee.finallyLoc)}else if(ot){if(this.prev<Ee.catchLoc)return _e(Ee.catchLoc,!0)}else{if(!it)throw Error("try statement without catch or finally");if(this.prev<Ee.finallyLoc)return _e(Ee.finallyLoc)}}}},abrupt:function(ie,he){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var ke=this.tryEntries[_e];if(ke.tryLoc<=this.prev&&r.call(ke,"finallyLoc")&&this.prev<ke.finallyLoc){var Ee=ke;break}}Ee&&(ie==="break"||ie==="continue")&&Ee.tryLoc<=he&&he<=Ee.finallyLoc&&(Ee=null);var Re=Ee?Ee.completion:{};return Re.type=ie,Re.arg=he,Ee?(this.method="next",this.next=Ee.finallyLoc,F):this.complete(Re)},complete:function(ie,he){if(ie.type==="throw")throw ie.arg;return ie.type==="break"||ie.type==="continue"?this.next=ie.arg:ie.type==="return"?(this.rval=this.arg=ie.arg,this.method="return",this.next="end"):ie.type==="normal"&&he&&(this.next=he),F},finish:function(ie){for(var he=this.tryEntries.length-1;he>=0;--he){var _e=this.tryEntries[he];if(_e.finallyLoc===ie)return this.complete(_e.completion,_e.afterLoc),Fe(_e),F}},catch:function(ie){for(var he=this.tryEntries.length-1;he>=0;--he){var _e=this.tryEntries[he];if(_e.tryLoc===ie){var ke=_e.completion;if(ke.type==="throw"){var Ee=ke.arg;Fe(_e)}return Ee}}throw Error("illegal catch attempt")},delegateYield:function(ie,he,_e){return this.delegate={iterator:Ye(ie),resultName:he,nextLoc:_e},this.method==="next"&&(this.arg=t),F}},e}function pm(t,e,n,r,o,u,c){try{var l=t[u](c),h=l.value}catch(p){return void n(p)}l.done?e(h):Promise.resolve(h).then(r,o)}function Av(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var u=t.apply(e,n);function c(h){pm(u,r,o,c,l,"next",h)}function l(h){pm(u,r,o,c,l,"throw",h)}c(void 0)})}}var Ya=Be({},A2),PI=Ya.version,Rf=Ya.render,MI=Ya.unmountComponentAtNode,ol;try{var II=Number((PI||"").split(".")[0]);II>=18&&(ol=Ya.createRoot)}catch{}function gm(t){var e=Ya.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Tt(e)==="object"&&(e.usingClientEntryPoint=t)}var Sc="__rc_react_root__";function kI(t,e){gm(!0);var n=e[Sc]||ol(e);gm(!1),n.render(t),e[Sc]=n}function RI(t,e){Rf==null||Rf(t,e)}function OI(t,e){if(ol){kI(t,e);return}RI(t,e)}function FI(t){return Ed.apply(this,arguments)}function Ed(){return Ed=Av(ka().mark(function t(e){return ka().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var o;(o=e[Sc])===null||o===void 0||o.unmount(),delete e[Sc]}));case 1:case"end":return r.stop()}},t)})),Ed.apply(this,arguments)}function NI(t){MI(t)}function $I(t){return Ad.apply(this,arguments)}function Ad(){return Ad=Av(ka().mark(function t(e){return ka().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(ol===void 0){r.next=2;break}return r.abrupt("return",FI(e));case 2:NI(e);case 3:case"end":return r.stop()}},t)})),Ad.apply(this,arguments)}const BI=(t,e)=>(OI(t,e),()=>$I(e));let DI=BI;function GI(){return DI}const UI=Vt.createContext({});let Fr=null,Uo=t=>t(),Ra=[],Oa={};function mm(){const{getContainer:t,duration:e,rtl:n,maxCount:r,top:o}=Oa,u=(t==null?void 0:t())||document.body;return{getContainer:()=>u,duration:e,rtl:n,maxCount:r,top:o}}const WI=Vt.forwardRef((t,e)=>{const{messageConfig:n,sync:r}=t,{getPrefixCls:o}=q.useContext(vi),u=Oa.prefixCls||o("message"),c=q.useContext(UI),[l,h]=Ev(Object.assign(Object.assign(Object.assign({},n),{prefixCls:u}),c.message));return Vt.useImperativeHandle(e,()=>{const p=Object.assign({},l);return Object.keys(p).forEach(b=>{p[b]=function(){return r(),l[b].apply(l,arguments)}}),{instance:p,sync:r}}),h}),HI=Vt.forwardRef((t,e)=>{const[n,r]=Vt.useState(mm),o=()=>{r(mm)};Vt.useEffect(o,[]);const u=vM(),c=u.getRootPrefixCls(),l=u.getIconPrefixCls(),h=u.getTheme(),p=Vt.createElement(WI,{ref:e,sync:o,messageConfig:n});return Vt.createElement(Os,{prefixCls:c,iconPrefixCls:l,theme:h},u.holderRender?u.holderRender(p):p)});function sl(){if(!Fr){const t=document.createDocumentFragment(),e={fragment:t};Fr=e,Uo(()=>{GI()(Vt.createElement(HI,{ref:r=>{const{instance:o,sync:u}=r||{};Promise.resolve().then(()=>{!e.instance&&o&&(e.instance=o,e.sync=u,sl())})}}),t)});return}Fr.instance&&(Ra.forEach(t=>{const{type:e,skipped:n}=t;if(!n)switch(e){case"open":{Uo(()=>{const r=Fr.instance.open(Object.assign(Object.assign({},Oa),t.config));r==null||r.then(t.resolve),t.setCloseFn(r)});break}case"destroy":Uo(()=>{Fr==null||Fr.instance.destroy(t.key)});break;default:Uo(()=>{var r;const o=(r=Fr.instance)[e].apply(r,mr(t.args));o==null||o.then(t.resolve),t.setCloseFn(o)})}}),Ra=[])}function zI(t){Oa=Object.assign(Object.assign({},Oa),t),Uo(()=>{var e;(e=Fr==null?void 0:Fr.sync)===null||e===void 0||e.call(Fr)})}function jI(t){const e=hh(n=>{let r;const o={type:"open",config:t,resolve:n,setCloseFn:u=>{r=u}};return Ra.push(o),()=>{r?Uo(()=>{r()}):o.skipped=!0}});return sl(),e}function XI(t,e){const n=hh(r=>{let o;const u={type:t,args:e,resolve:r,setCloseFn:c=>{o=c}};return Ra.push(u),()=>{o?Uo(()=>{o()}):u.skipped=!0}});return sl(),n}const VI=t=>{Ra.push({type:"destroy",key:t}),sl()},YI=["success","info","warning","error","loading"],KI={open:jI,destroy:VI,config:zI,useMessage:LI,_InternalPanelDoNotUseOrYouWillBeFired:bI},QI=KI;YI.forEach(t=>{QI[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return XI(t,n)}});export{wi as $,Ek as A,Gc as B,Tk as C,Rd as D,M2 as E,NP as F,IP as G,Kf as H,GR as I,ei as J,qM as K,Pe as L,rM as M,A_ as N,NM as O,Qd as P,jM as Q,WM as R,km as S,RM as T,DM as U,C_ as V,vc as W,f0 as X,Jc as Y,bi as Z,ek as _,xm as a,rA as a$,mr as a0,Bg as a1,md as a2,OR as a3,Be as a4,Tt as a5,or as a6,et as a7,M_ as a8,JM as a9,Ms as aA,_d as aB,iE as aC,uk as aD,sk as aE,Ca as aF,J2 as aG,wm as aH,ik as aI,Zr as aJ,_A as aK,dk as aL,ri as aM,RR as aN,QI as aO,t_ as aP,fE as aQ,n_ as aR,dn as aS,N2 as aT,kR as aU,ug as aV,zk as aW,lI as aX,Ha as aY,Wa as aZ,e_ as a_,Ki as aa,fh as ab,vi as ac,gd as ad,$R as ae,dP as af,HR as ag,yv as ah,XR as ai,fI as aj,jR as ak,WR as al,Os as am,Va as an,hI as ao,vM as ap,GI as aq,rl as ar,Qi as as,Yo as at,ja as au,je as av,A0 as aw,Zk as ax,Md as ay,gy as az,Gk as b,Ta as b$,$r as b0,hE as b1,Gd as b2,GC as b3,V2 as b4,zf as b5,T_ as b6,l0 as b7,th as b8,F_ as b9,Oc as bA,D2 as bB,ok as bC,rk as bD,_E as bE,Ld as bF,Xo as bG,bE as bH,DA as bI,vf as bJ,pd as bK,pA as bL,dy as bM,SA as bN,oR as bO,hR as bP,AA as bQ,sR as bR,Uk as bS,Wk as bT,MA as bU,uR as bV,Yk as bW,Fk as bX,Rc as bY,kc as bZ,lE as b_,Zc as ba,FR as bb,FP as bc,UR as bd,fn as be,kP as bf,D0 as bg,eE as bh,mi as bi,tR as bj,Ps as bk,Vi as bl,wy as bm,ry as bn,gc as bo,Ua as bp,fy as bq,Mk as br,Jt as bs,yn as bt,AE as bu,TE as bv,CE as bw,Dr as bx,BE as by,ak as bz,xk as c,Z2 as c$,kk as c0,uE as c1,Rk as c2,zm as c3,Ym as c4,yc as c5,ZC as c6,cE as c7,Ik as c8,_2 as c9,NR as cA,Yn as cB,Ga as cC,aR as cD,Hk as cE,dR as cF,CR as cG,mC as cH,_R as cI,zE as cJ,mR as cK,Mn as cL,Sy as cM,Vo as cN,Xk as cO,Ic as cP,jk as cQ,Cm as cR,Lk as cS,X2 as cT,Hm as cU,lg as cV,gR as cW,PA as cX,iR as cY,Mm as cZ,Kk as c_,r0 as ca,WC as cb,qk as cc,Od as cd,fA as ce,rR as cf,lA as cg,Jk as ch,nk as ci,Dm as cj,Gm as ck,Vk as cl,pk as cm,gk as cn,mk as co,yk as cp,_k as cq,nR as cr,p_ as cs,OL as ct,U0 as cu,zR as cv,hd as cw,tP as cx,Ku as cy,BR as cz,Cd as d,RA as d$,Rm as d0,Om as d1,oE as d2,Aa as d3,ag as d4,xR as d5,SR as d6,hg as d7,fC as d8,NA as d9,by as dA,TR as dB,OE as dC,Bk as dD,d_ as dE,b_ as dF,Ia as dG,zo as dH,x0 as dI,Wf as dJ,Ho as dK,Av as dL,ka as dM,$L as dN,Zf as dO,Cf as dP,c0 as dQ,Ag as dR,SM as dS,IR as dT,bk as dU,ng as dV,ck as dW,PR as dX,MR as dY,Pk as dZ,Qk as d_,AR as da,Jm as db,ER as dc,kd as dd,Q2 as de,Kn as df,Cc as dg,jm as dh,Pd as di,Mc as dj,Dd as dk,wk as dl,pR as dm,cR as dn,$k as dp,lR as dq,FA as dr,LR as ds,vR as dt,bR as du,ny as dv,Nk as dw,tE as dx,fR as dy,Dk as dz,Wm as e,wR as e0,hk as e1,eR as e2,a_ as e3,Ok as e4,NE as e5,Ck as e6,eg as e7,B2 as e8,s_ as e9,tk as ea,Fd as eb,Sk as f,vm as g,ym as h,Um as i,ZI as j,jE as k,Ue as l,As as m,lk as n,mf as o,ir as p,xs as q,rE as r,Bm as s,fk as t,vk as u,Ec as v,yR as w,Ba as x,Ak as y,Pm as z};
