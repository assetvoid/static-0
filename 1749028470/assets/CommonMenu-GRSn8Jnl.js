import{r as p,R as C,j as c}from"./index-BpkY95s5.js";import{l as xe,bI as Zn,bJ as Kn,b5 as Jn,bK as Qn,bL as er,d as tr,v as D,ay as L,bA as st,bs as yt,aB as pe,aE as G,a6 as ee,I as W,au as ce,a3 as $e,ac as Re,a5 as q,E as je,aa as ke,G as k,am as nr,av as We,ar as ae,as as Gt,ba as $t,F as Le,bh as Vt,ab as Te,bM as _t,M as pt,ag as gt,$ as Ce,H as Wt,K as rr,a4 as Xt,af as or,bi as ir,J as sr,bN as h,bO as ar,ax as Ee,bP as lr,bw as He,aA as Ut,x as Ne,aw as cr,aJ as Xe,aN as qt,j as ht,bQ as dr,bR as ur,bS as fr,bu as Yt,bt as Zt,T as pr,bT as tt,bU as Et,aO as wt,bV as gr,bW as hr,aK as mr,bX as vr,bY as br,bZ as xr}from"./index-DhXx5_So.js";import{a5 as Kt,q as Jt,B as we,a6 as Qt,u as Cr,a7 as en,S as yr,n as $r,a8 as Er,a9 as wr,p as Ar,C as Ir,w as Rr}from"./CommonWrapper-Bc8R72Fz.js";import{a as tn,b as nn,d as rn,C as Ue,e as Nr,f as on,h as Or,i as jr,W as Sr,o as sn,j as se,T as an,k as mt,t as Ge,l as nt,m as ln,S as Mr,U as Lr,n as Dr,A as fe,p as _e,q as Pr,u as cn,r as kr,s as Tr,B as me}from"./index-gYkhGjFZ.js";import{d as J}from"./index-CsSXPTiX.js";import{h as Hr,S as dn,g as Br,R as un,j as fn,C as Ae,a as K,b as oe}from"./common-wNCv1sJB.js";import{s as at}from"./style-t4wHHbRu.js";import{P as De}from"./index-BKaBbBPG.js";import{b as zr,a as Fr}from"./index-CoTXdE1E.js";function rt({localStore:e,parentNode:t}){const n=e.getSelectedLayerIdList(),r=t.children.map(a=>n.includes(a.id)?{type:"selected",id:a.id}:{type:"intercepted",id:a.id});let o="",i="";for(let a=0;a<r.length;a+=1){const l=r[a];if(l.type==="selected")break;l.type==="intercepted"&&(o=l.id)}let s=r.length-1;for(;s>=0;){const a=r[s];if(a.type==="selected")break;a.type==="intercepted"&&(i=a.id),s-=1}e.interceptionInfo={prevID:o,nextID:i,list:r,total:0,currentPosition:0}}function At({localStore:e,type:t,parentNode:n,step:r}){const o=[],i=e.interceptionInfo.list.filter(d=>d.type==="selected"),s=e.interceptionInfo.list.filter(d=>d.type!=="selected"),{nextID:a,prevID:l}=e.interceptionInfo;if(console.log(xe.cloneDeep(e.interceptionInfo)),t==="overNext"&&(a?s.forEach(({id:d})=>{o.push(d),d===a&&o.push(...i.map(u=>u.id))}):(s.forEach(({id:d})=>{o.push(d)}),o.push(...i.map(d=>d.id)))),t==="belowPrev"&&(l?s.forEach(({id:d})=>{d===l&&o.push(...i.map(u=>u.id)),o.push(d)}):(o.push(...i.map(d=>d.id)),o.push(...s.map(d=>d.id)))),r.update({layer:n,data:{children:o}}),n.children.length!==o.length)throw new Error;n.children=Zn({localStore:e,idList:o})}const{round:ot}=Math;function V(e,t,n){const r=e/360,o=t/100,i=n/100;let s,a,l;if(o===0)s=i,a=i,l=i;else{const d=i<.5?i*(1+o):i+o-i*o,u=2*i-d;s=it(u,d,r+1/3),a=it(u,d,r),l=it(u,d,r-1/3)}return Kn({r:ot(s*255),g:ot(a*255),b:ot(l*255)})}function it(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Gr(e,t){return t.update({layer:e,data:{nodeType:"SYMBOL",userFacingVersion:"",sharedSymbolVersion:"",isSymbolPublishable:!0}}),e}function Vr(e,t,n){return{...xe.cloneDeep({...t,children:[]}),nodeType:"INSTANCE",id:tr(),guid:e.generateGUID(),parentId:n,symbolData:{symbolID:{id:t.id,sessionID:t.guid.sessionID,localID:t.guid.localID},symbolOverrides:[],uniformScaleFactor:1},derivedSymbolData:[],derivedSymbolDataLayoutVersion:1,editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()}}}function _r({main:e,localStore:t,step:n,fileData:r}){const o=Vr(t,e,e.parentId),i=Jn(r,e.parentId)||t.props.getCurrentPage();if(i){Qn(r,o);const s=[];i.children.forEach(a=>{a.id===e.id?(s.push(e.id),s.push(o.id)):s.push(a.id)}),n.update({layer:i,data:{life:{type:"createChildren",newLayers:{[o.id]:o},children:s}}}),i.children=er(t,s)}}function Wr(e){var t,n;if(e.selectedSingleLayer&&e.selectedSingleLayer.nodeType==="FRAME"){const r=D(e);Gr(e.selectedSingleLayer,r),(n=(t=e.props).doAction)==null||n.call(t,r.getNewAction()),L(e)}}function Xr(e){var n,r;const t=e.getFigma();if(t&&e.selectedSingleLayer&&e.selectedSingleLayer.nodeType==="SYMBOL"){const o=D(e);_r({main:e.selectedSingleLayer,localStore:e,fileData:t.context.fileData,step:o}),(r=(n=e.props).doAction)==null||r.call(n,o.getNewAction()),L(e)}}function qe({localStore:e,layer:t,instanceChain:n,size:r}){var i,s;const o=D(e);if(console.log(r),typeof r=="number"){const a=st(e,t);yt({localStore:e,layer:t,size:"Fixed",containerStackMode:(a==null?void 0:a.stackMode)||"NONE",step:o,instanceChain:n}),Kt({localStore:e,width:r,step:o})}else{let a="";if(r.value==="WIDTH_AND_HEIGHT"||r.value==="HEIGHT"||r.value==="NONE"?(o.update({layer:t,data:{textAutoResize:r.value}}),r.value==="WIDTH_AND_HEIGHT"?a="Hug":a="Fixed"):a=r.value,a){const l=st(e,t);yt({localStore:e,layer:t,size:a,containerStackMode:(l==null?void 0:l.stackMode)||"NONE",step:o,instanceChain:n}),t.nodeType==="TEXT"&&console.log(t.textAutoResize)}}pe({localStore:e,layer:t,instanceChain:n,step:o,options:{}}),Jt({localStore:e,layer:t,step:o}),(s=(i=e.props).doAction)==null||s.call(i,o.getNewAction()),L(e)}function Ur(e){if(e.stackMode==="VERTICAL"){if(e.stackPrimaryAlignItems==="MIN")return"MIN";if(e.stackPrimaryAlignItems==="MAX")return"MAX";if(e.stackPrimaryAlignItems==="CENTER")return"CENTER"}if(e.stackMode==="HORIZONTAL"){if(e.stackCounterAlignItems==="MIN")return"MIN";if(e.stackCounterAlignItems==="MAX")return"MAX";if(e.stackCounterAlignItems==="CENTER")return"CENTER"}return"MIN"}function qr(e){if(e.stackMode==="VERTICAL"){if(e.stackCounterAlignItems==="MIN")return"MIN";if(e.stackCounterAlignItems==="MAX")return"MAX";if(e.stackCounterAlignItems==="CENTER")return"CENTER"}if(e.stackMode==="HORIZONTAL"){if(e.stackPrimaryAlignItems==="MIN")return"MIN";if(e.stackPrimaryAlignItems==="MAX")return"MAX";if(e.stackPrimaryAlignItems==="CENTER")return"CENTER"}return"MIN"}function Yr({localStore:e,layer:t,instanceChain:n,step:r,data:o}){var i,s;G({localStore:e,node:t,instanceChain:n,step:r,data:o}),pe({localStore:e,layer:t,instanceChain:n,step:r}),(s=(i=e.props).doAction)==null||s.call(i,r.getNewAction())}function Zr({localStore:e,layer:t,instanceChain:n,step:r,horizontal:o,vertical:i}){var a,l;const s={};t.stackMode==="HORIZONTAL"?(s.stackPrimaryAlignItems=o,s.stackCounterAlignItems=i):t.stackMode==="VERTICAL"&&(s.stackPrimaryAlignItems=i,s.stackCounterAlignItems=o),G({localStore:e,node:t,instanceChain:n,data:s,step:r}),pe({localStore:e,layer:t,instanceChain:n,step:r}),(l=(a=e.props).doAction)==null||l.call(a,r.getNewAction())}function Kr(e){var t="touches"in e?e.touches[0]:e,n=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-n,pageY:t.pageY-r}}function pn(e){var t=e.targetRef,n=e.containerRef,r=e.direction,o=e.onDragChange,i=e.onDragChangeComplete,s=e.calculate,a=e.color,l=e.disabledDrag,d=p.useState({x:0,y:0}),u=ee(d,2),f=u[0],m=u[1],g=p.useRef(null),b=p.useRef(null);p.useEffect(function(){m(s())},[a]),p.useEffect(function(){return function(){document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",b.current),document.removeEventListener("touchmove",g.current),document.removeEventListener("touchend",b.current),g.current=null,b.current=null}},[]);var x=function(E){var A=Kr(E),R=A.pageX,N=A.pageY,I=n.current.getBoundingClientRect(),S=I.x,M=I.y,z=I.width,F=I.height,_=t.current.getBoundingClientRect(),O=_.width,j=_.height,P=O/2,B=j/2,H=Math.max(0,Math.min(R-S,z))-P,T=Math.max(0,Math.min(N-M,F))-B,te={x:H,y:r==="x"?f.y:T};if(O===0&&j===0||O!==j)return!1;o==null||o(te)},y=function(E){E.preventDefault(),x(E)},v=function(E){E.preventDefault(),document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",b.current),document.removeEventListener("touchmove",g.current),document.removeEventListener("touchend",b.current),g.current=null,b.current=null,i==null||i()},w=function(E){document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",b.current),!l&&(x(E),document.addEventListener("mousemove",y),document.addEventListener("mouseup",v),document.addEventListener("touchmove",y),document.addEventListener("touchend",v),g.current=y,b.current=v)};return[f,w]}var gn=function(t){var n=t.size,r=n===void 0?"default":n,o=t.color,i=t.prefixCls;return C.createElement("div",{className:W("".concat(i,"-handler"),ce({},"".concat(i,"-handler-sm"),r==="small")),style:{backgroundColor:o}})},hn=function(t){var n=t.children,r=t.style,o=t.prefixCls;return C.createElement("div",{className:"".concat(o,"-palette"),style:$e({position:"relative"},r)},n)},mn=p.forwardRef(function(e,t){var n=e.children,r=e.x,o=e.y;return C.createElement("div",{ref:t,style:{position:"absolute",left:"".concat(r,"%"),top:"".concat(o,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},n)}),Jr=function(t){var n=t.color,r=t.onChange,o=t.prefixCls,i=t.onChangeComplete,s=t.disabled,a=p.useRef(),l=p.useRef(),d=p.useRef(n),u=Re(function(x){var y=tn({offset:x,targetRef:l,containerRef:a,color:n});d.current=y,r(y)}),f=pn({color:n,containerRef:a,targetRef:l,calculate:function(){return nn(n)},onDragChange:u,onDragChangeComplete:function(){return i==null?void 0:i(d.current)},disabledDrag:s}),m=ee(f,2),g=m[0],b=m[1];return C.createElement("div",{ref:a,className:"".concat(o,"-select"),onMouseDown:b,onTouchStart:b},C.createElement(hn,{prefixCls:o},C.createElement(mn,{x:g.x,y:g.y,ref:l},C.createElement(gn,{color:n.toRgbString(),prefixCls:o})),C.createElement("div",{className:"".concat(o,"-saturation"),style:{backgroundColor:"hsl(".concat(n.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},Qr=function(t,n){var r=we(t,{value:n}),o=ee(r,2),i=o[0],s=o[1],a=p.useMemo(function(){return rn(i)},[i]);return[a,s]},eo=function(t){var n=t.colors,r=t.children,o=t.direction,i=o===void 0?"to right":o,s=t.type,a=t.prefixCls,l=p.useMemo(function(){return n.map(function(d,u){var f=rn(d);return s==="alpha"&&u===n.length-1&&(f=new Ue(f.setA(1))),f.toRgbString()}).join(",")},[n,s]);return C.createElement("div",{className:"".concat(a,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(i,", ").concat(l,")")}},r)},to=function(t){var n=t.prefixCls,r=t.colors,o=t.disabled,i=t.onChange,s=t.onChangeComplete,a=t.color,l=t.type,d=p.useRef(),u=p.useRef(),f=p.useRef(a),m=function(A){return l==="hue"?A.getHue():A.a*100},g=Re(function(E){var A=tn({offset:E,targetRef:u,containerRef:d,color:a,type:l});f.current=A,i(m(A))}),b=pn({color:a,targetRef:u,containerRef:d,calculate:function(){return nn(a,l)},onDragChange:g,onDragChangeComplete:function(){s(m(f.current))},direction:"x",disabledDrag:o}),x=ee(b,2),y=x[0],v=x[1],w=C.useMemo(function(){if(l==="hue"){var E=a.toHsb();E.s=1,E.b=1,E.a=1;var A=new Ue(E);return A}return a},[a,l]),$=C.useMemo(function(){return r.map(function(E){return"".concat(E.color," ").concat(E.percent,"%")})},[r]);return C.createElement("div",{ref:d,className:W("".concat(n,"-slider"),"".concat(n,"-slider-").concat(l)),onMouseDown:v,onTouchStart:v},C.createElement(hn,{prefixCls:n},C.createElement(mn,{x:y.x,y:y.y,ref:u},C.createElement(gn,{size:"small",color:w.toHexString(),prefixCls:n})),C.createElement(eo,{colors:$,type:l,prefixCls:n})))};function no(e){return p.useMemo(function(){var t=e||{},n=t.slider;return[n||to]},[e])}var ro=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],oo=p.forwardRef(function(e,t){var n=e.value,r=e.defaultValue,o=e.prefixCls,i=o===void 0?Nr:o,s=e.onChange,a=e.onChangeComplete,l=e.className,d=e.style,u=e.panelRender,f=e.disabledAlpha,m=f===void 0?!1:f,g=e.disabled,b=g===void 0?!1:g,x=e.components,y=no(x),v=ee(y,1),w=v[0],$=Qr(r||Or,n),E=ee($,2),A=E[0],R=E[1],N=p.useMemo(function(){return A.setA(1).toRgbString()},[A]),I=function(T,te){n||R(T),s==null||s(T,te)},S=function(T){return new Ue(A.setHue(T))},M=function(T){return new Ue(A.setA(T/100))},z=function(T){I(S(T),{type:"hue",value:T})},F=function(T){I(M(T),{type:"alpha",value:T})},_=function(T){a&&a(S(T))},O=function(T){a&&a(M(T))},j=W("".concat(i,"-panel"),l,ce({},"".concat(i,"-panel-disabled"),b)),P={prefixCls:i,disabled:b,color:A},B=C.createElement(C.Fragment,null,C.createElement(Jr,q({onChange:I},P,{onChangeComplete:a})),C.createElement("div",{className:"".concat(i,"-slider-container")},C.createElement("div",{className:W("".concat(i,"-slider-group"),ce({},"".concat(i,"-slider-group-disabled-alpha"),m))},C.createElement(w,q({},P,{type:"hue",colors:ro,min:0,max:359,value:A.getHue(),onChange:z,onChangeComplete:_})),!m&&C.createElement(w,q({},P,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:N}],min:0,max:100,value:A.a*100,onChange:F,onChangeComplete:O}))),C.createElement(on,{color:A.toRgbString(),prefixCls:i})));return C.createElement("div",{className:j,style:d,ref:t},typeof u=="function"?u(B):B)});const io=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},so=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},ao=(e,t)=>{const{prefixCls:n,componentCls:r,gridColumns:o}=e,i={};for(let s=o;s>=0;s--)s===0?(i[`${r}${t}-${s}`]={display:"none"},i[`${r}-push-${s}`]={insetInlineStart:"auto"},i[`${r}-pull-${s}`]={insetInlineEnd:"auto"},i[`${r}${t}-push-${s}`]={insetInlineStart:"auto"},i[`${r}${t}-pull-${s}`]={insetInlineEnd:"auto"},i[`${r}${t}-offset-${s}`]={marginInlineStart:0},i[`${r}${t}-order-${s}`]={order:0}):(i[`${r}${t}-${s}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${s/o*100}%`,maxWidth:`${s/o*100}%`}],i[`${r}${t}-push-${s}`]={insetInlineStart:`${s/o*100}%`},i[`${r}${t}-pull-${s}`]={insetInlineEnd:`${s/o*100}%`},i[`${r}${t}-offset-${s}`]={marginInlineStart:`${s/o*100}%`},i[`${r}${t}-order-${s}`]={order:s});return i[`${r}${t}-flex`]={flex:`var(--${n}${t}-flex)`},i},lt=(e,t)=>ao(e,t),lo=(e,t,n)=>({[`@media (min-width: ${k(t)})`]:Object.assign({},lt(e,n))}),co=()=>({}),uo=()=>({}),fo=je("Grid",io,co),po=e=>({xs:e.screenXSMin,sm:e.screenSMMin,md:e.screenMDMin,lg:e.screenLGMin,xl:e.screenXLMin,xxl:e.screenXXLMin}),go=je("Grid",e=>{const t=ke(e,{gridColumns:24}),n=po(t);return delete n.xs,[so(t),lt(t,""),lt(t,"-xs"),Object.keys(n).map(r=>lo(t,n[r],`-${r}`)).reduce((r,o)=>Object.assign(Object.assign({},r),o),{})]},uo),Pe=["xxl","xl","lg","md","sm","xs"],ho=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),mo=e=>{const t=e,n=[].concat(Pe).reverse();return n.forEach((r,o)=>{const i=r.toUpperCase(),s=`screen${i}Min`,a=`screen${i}`;if(!(t[s]<=t[a]))throw new Error(`${s}<=${a} fails : !(${t[s]}<=${t[a]})`);if(o<n.length-1){const l=`screen${i}Max`;if(!(t[a]<=t[l]))throw new Error(`${a}<=${l} fails : !(${t[a]}<=${t[l]})`);const u=`screen${n[o+1].toUpperCase()}Min`;if(!(t[l]<=t[u]))throw new Error(`${l}<=${u} fails : !(${t[l]}<=${t[u]})`)}}),e};function vo(){const[,e]=nr(),t=ho(mo(e));return C.useMemo(()=>{const n=new Map;let r=-1,o={};return{responsiveMap:t,matchHandlers:{},dispatch(i){return o=i,n.forEach(s=>s(o)),n.size>=1},subscribe(i){return n.size||this.register(),r+=1,n.set(r,i),i(o),r},unsubscribe(i){n.delete(i),n.size||this.unregister()},register(){Object.keys(t).forEach(i=>{const s=t[i],a=d=>{let{matches:u}=d;this.dispatch(Object.assign(Object.assign({},o),{[i]:u}))},l=window.matchMedia(s);l.addListener(a),this.matchHandlers[s]={mql:l,listener:a},a(l)})},unregister(){Object.keys(t).forEach(i=>{const s=t[i],a=this.matchHandlers[s];a==null||a.mql.removeListener(a==null?void 0:a.listener)}),n.clear()}}},[e])}function bo(){const[,e]=p.useReducer(t=>t+1,0);return e}function xo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=p.useRef(t),r=bo(),o=vo();return We(()=>{const i=o.subscribe(s=>{n.current=s,e&&r()});return()=>o.unsubscribe(i)},[]),n.current}var Co={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},yo=function(t,n){return p.createElement(ae,q({},t,{ref:n,icon:Co}))},$o=p.forwardRef(yo),Eo=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],wo=p.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-checkbox":n,o=e.className,i=e.style,s=e.checked,a=e.disabled,l=e.defaultChecked,d=l===void 0?!1:l,u=e.type,f=u===void 0?"checkbox":u,m=e.title,g=e.onChange,b=Gt(e,Eo),x=p.useRef(null),y=p.useRef(null),v=we(d,{value:s}),w=ee(v,2),$=w[0],E=w[1];p.useImperativeHandle(t,function(){return{focus:function(I){var S;(S=x.current)===null||S===void 0||S.focus(I)},blur:function(){var I;(I=x.current)===null||I===void 0||I.blur()},input:x.current,nativeElement:y.current}});var A=W(r,o,ce(ce({},"".concat(r,"-checked"),$),"".concat(r,"-disabled"),a)),R=function(I){a||("checked"in e||E(I.target.checked),g==null||g({target:$e($e({},e),{},{type:f,checked:I.target.checked}),stopPropagation:function(){I.stopPropagation()},preventDefault:function(){I.preventDefault()},nativeEvent:I.nativeEvent}))};return p.createElement("span",{className:A,title:m,style:i,ref:y},p.createElement("input",q({},b,{className:"".concat(r,"-input"),ref:x,onChange:R,disabled:a,checked:!!$,type:f})),p.createElement("span",{className:"".concat(r,"-inner")}))});function Ao(e){const t=C.useRef(null),n=()=>{$t.cancel(t.current),t.current=null};return[()=>{n(),t.current=$t(()=>{t.current=null})},i=>{t.current&&(i.stopPropagation(),n()),e==null||e(i)}]}const Io=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},Le(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},Le(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},Le(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},Vt(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${k(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${k(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${n}:not(${n}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${n}-checked:not(${n}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorPrimary} !important`}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function Ro(e,t){const n=ke(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[Io(n)]}const vn=je("Checkbox",(e,t)=>{let{prefixCls:n}=t;return[Ro(n,e)]}),bn=C.createContext(null);var No=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Oo=(e,t)=>{var n;const{prefixCls:r,className:o,rootClassName:i,children:s,indeterminate:a=!1,style:l,onMouseEnter:d,onMouseLeave:u,skipGroup:f=!1,disabled:m}=e,g=No(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:b,direction:x,checkbox:y}=p.useContext(Te),v=p.useContext(bn),{isFormItemInput:w}=p.useContext(Qt),$=p.useContext(_t),E=(n=(v==null?void 0:v.disabled)||m)!==null&&n!==void 0?n:$,A=p.useRef(g.value),R=p.useRef(null),N=pt(t,R);p.useEffect(()=>{v==null||v.registerValue(g.value)},[]),p.useEffect(()=>{if(!f)return g.value!==A.current&&(v==null||v.cancelValue(A.current),v==null||v.registerValue(g.value),A.current=g.value),()=>v==null?void 0:v.cancelValue(g.value)},[g.value]),p.useEffect(()=>{var H;!((H=R.current)===null||H===void 0)&&H.input&&(R.current.input.indeterminate=a)},[a]);const I=b("checkbox",r),S=gt(I),[M,z,F]=vn(I,S),_=Object.assign({},g);v&&!f&&(_.onChange=function(){g.onChange&&g.onChange.apply(g,arguments),v.toggleOption&&v.toggleOption({label:s,value:g.value})},_.name=v.name,_.checked=v.value.includes(g.value));const O=W(`${I}-wrapper`,{[`${I}-rtl`]:x==="rtl",[`${I}-wrapper-checked`]:_.checked,[`${I}-wrapper-disabled`]:E,[`${I}-wrapper-in-form-item`]:w},y==null?void 0:y.className,o,i,F,S,z),j=W({[`${I}-indeterminate`]:a},jr,z),[P,B]=Ao(_.onClick);return M(p.createElement(Sr,{component:"Checkbox",disabled:E},p.createElement("label",{className:O,style:Object.assign(Object.assign({},y==null?void 0:y.style),l),onMouseEnter:d,onMouseLeave:u,onClick:P},p.createElement(wo,Object.assign({},_,{onClick:B,prefixCls:I,className:j,disabled:E,ref:N})),s!==void 0&&p.createElement("span",{className:`${I}-label`},s))))},xn=p.forwardRef(Oo);var jo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const So=p.forwardRef((e,t)=>{const{defaultValue:n,children:r,options:o=[],prefixCls:i,className:s,rootClassName:a,style:l,onChange:d}=e,u=jo(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:f,direction:m}=p.useContext(Te),[g,b]=p.useState(u.value||n||[]),[x,y]=p.useState([]);p.useEffect(()=>{"value"in u&&b(u.value||[])},[u.value]);const v=p.useMemo(()=>o.map(j=>typeof j=="string"||typeof j=="number"?{label:j,value:j}:j),[o]),w=j=>{y(P=>P.filter(B=>B!==j))},$=j=>{y(P=>[].concat(Ce(P),[j]))},E=j=>{const P=g.indexOf(j.value),B=Ce(g);P===-1?B.push(j.value):B.splice(P,1),"value"in u||b(B),d==null||d(B.filter(H=>x.includes(H)).sort((H,T)=>{const te=v.findIndex(de=>de.value===H),ge=v.findIndex(de=>de.value===T);return te-ge}))},A=f("checkbox",i),R=`${A}-group`,N=gt(A),[I,S,M]=vn(A,N),z=sn(u,["value","disabled"]),F=o.length?v.map(j=>p.createElement(xn,{prefixCls:A,key:j.value.toString(),disabled:"disabled"in j?j.disabled:u.disabled,value:j.value,checked:g.includes(j.value),onChange:j.onChange,className:`${R}-item`,style:j.style,title:j.title,id:j.id,required:j.required},j.label)):r,_={toggleOption:E,value:g,disabled:u.disabled,name:u.name,registerValue:$,cancelValue:w},O=W(R,{[`${R}-rtl`]:m==="rtl"},s,a,M,N,S);return I(p.createElement("div",Object.assign({className:O,style:l},z,{ref:t}),p.createElement(bn.Provider,{value:_},F)))}),Cn=xn;Cn.Group=So;Cn.__ANT_CHECKBOX=!0;const yn=p.createContext({});var Mo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function It(e){return typeof e=="number"?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}const Lo=["xs","sm","md","lg","xl","xxl"],Rt=p.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=p.useContext(Te),{gutter:o,wrap:i}=p.useContext(yn),{prefixCls:s,span:a,order:l,offset:d,push:u,pull:f,className:m,children:g,flex:b,style:x}=e,y=Mo(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),v=n("col",s),[w,$,E]=go(v),A={};let R={};Lo.forEach(S=>{let M={};const z=e[S];typeof z=="number"?M.span=z:typeof z=="object"&&(M=z||{}),delete y[S],R=Object.assign(Object.assign({},R),{[`${v}-${S}-${M.span}`]:M.span!==void 0,[`${v}-${S}-order-${M.order}`]:M.order||M.order===0,[`${v}-${S}-offset-${M.offset}`]:M.offset||M.offset===0,[`${v}-${S}-push-${M.push}`]:M.push||M.push===0,[`${v}-${S}-pull-${M.pull}`]:M.pull||M.pull===0,[`${v}-rtl`]:r==="rtl"}),M.flex&&(R[`${v}-${S}-flex`]=!0,A[`--${v}-${S}-flex`]=It(M.flex))});const N=W(v,{[`${v}-${a}`]:a!==void 0,[`${v}-order-${l}`]:l,[`${v}-offset-${d}`]:d,[`${v}-push-${u}`]:u,[`${v}-pull-${f}`]:f},m,R,$,E),I={};if(o&&o[0]>0){const S=o[0]/2;I.paddingLeft=S,I.paddingRight=S}return b&&(I.flex=It(b),i===!1&&!I.minWidth&&(I.minWidth=0)),w(p.createElement("div",Object.assign({},y,{style:Object.assign(Object.assign(Object.assign({},I),x),A),className:N,ref:t}),g))});function Do(e,t){const n=[void 0,void 0],r=Array.isArray(e)?e:[e,void 0],o=t||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((i,s)=>{if(typeof i=="object"&&i!==null)for(let a=0;a<Pe.length;a++){const l=Pe[a];if(o[l]&&i[l]!==void 0){n[s]=i[l];break}}else n[s]=i}),n}var Po=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function Nt(e,t){const[n,r]=p.useState(typeof e=="string"?e:""),o=()=>{if(typeof e=="string"&&r(e),typeof e=="object")for(let i=0;i<Pe.length;i++){const s=Pe[i];if(!t||!t[s])continue;const a=e[s];if(a!==void 0){r(a);return}}};return p.useEffect(()=>{o()},[JSON.stringify(e),t]),n}const ko=p.forwardRef((e,t)=>{const{prefixCls:n,justify:r,align:o,className:i,style:s,children:a,gutter:l=0,wrap:d}=e,u=Po(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:f,direction:m}=p.useContext(Te),g=xo(!0,null),b=Nt(o,g),x=Nt(r,g),y=f("row",n),[v,w,$]=fo(y),E=Do(l,g),A=W(y,{[`${y}-no-wrap`]:d===!1,[`${y}-${x}`]:x,[`${y}-${b}`]:b,[`${y}-rtl`]:m==="rtl"},i,w,$),R={},N=E[0]!=null&&E[0]>0?E[0]/-2:void 0;N&&(R.marginLeft=N,R.marginRight=N);const[I,S]=E;R.rowGap=S;const M=p.useMemo(()=>({gutter:[I,S],wrap:d}),[I,S,d]);return v(p.createElement(yn.Provider,{value:M},p.createElement("div",Object.assign({},u,{className:A,style:Object.assign(Object.assign({},R),s),ref:t}),a)))}),To=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:o,textPaddingInline:i,orientationMargin:s,verticalMarginInline:a}=e;return{[t]:Object.assign(Object.assign({},Le(e)),{borderBlockStart:`${k(o)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:a,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${k(o)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${k(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${k(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${k(o)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${s} * 100%)`},"&::after":{width:`calc(100% - ${s} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${s} * 100%)`},"&::after":{width:`calc(${s} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:i},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${k(o)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${k(o)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}},Ho=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),Bo=je("Divider",e=>{const t=ke(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[To(t)]},Ho,{unitless:{orientationMargin:!0}});var zo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Fo=e=>{const{getPrefixCls:t,direction:n,className:r,style:o}=Wt("divider"),{prefixCls:i,type:s="horizontal",orientation:a="center",orientationMargin:l,className:d,rootClassName:u,children:f,dashed:m,variant:g="solid",plain:b,style:x}=e,y=zo(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),v=t("divider",i),[w,$,E]=Bo(v),A=!!f,R=p.useMemo(()=>a==="left"?n==="rtl"?"end":"start":a==="right"?n==="rtl"?"start":"end":a,[n,a]),N=R==="start"&&l!=null,I=R==="end"&&l!=null,S=W(v,r,$,E,`${v}-${s}`,{[`${v}-with-text`]:A,[`${v}-with-text-${R}`]:A,[`${v}-dashed`]:!!m,[`${v}-${g}`]:g!=="solid",[`${v}-plain`]:!!b,[`${v}-rtl`]:n==="rtl",[`${v}-no-default-orientation-margin-start`]:N,[`${v}-no-default-orientation-margin-end`]:I},d,u),M=p.useMemo(()=>typeof l=="number"?l:/^\d+$/.test(l)?Number(l):l,[l]),z={marginInlineStart:N?M:void 0,marginInlineEnd:I?M:void 0};return w(p.createElement("div",Object.assign({className:S,style:Object.assign(Object.assign({},o),x)},y,{role:"separator"}),f&&s!=="vertical"&&p.createElement("span",{className:`${v}-inner-text`,style:z},f)))};var Ot=function(t,n){if(!t)return null;var r={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return n?{left:0,right:0,width:0,top:r.top,bottom:r.bottom,height:r.height}:{left:r.left,right:r.right,width:r.width,top:0,bottom:0,height:0}},ue=function(t){return t!==void 0?"".concat(t,"px"):void 0};function Go(e){var t=e.prefixCls,n=e.containerRef,r=e.value,o=e.getValueIndex,i=e.motionName,s=e.onMotionStart,a=e.onMotionEnd,l=e.direction,d=e.vertical,u=d===void 0?!1:d,f=p.useRef(null),m=p.useState(r),g=ee(m,2),b=g[0],x=g[1],y=function(j){var P,B=o(j),H=(P=n.current)===null||P===void 0?void 0:P.querySelectorAll(".".concat(t,"-item"))[B];return(H==null?void 0:H.offsetParent)&&H},v=p.useState(null),w=ee(v,2),$=w[0],E=w[1],A=p.useState(null),R=ee(A,2),N=R[0],I=R[1];We(function(){if(b!==r){var O=y(b),j=y(r),P=Ot(O,u),B=Ot(j,u);x(r),E(P),I(B),O&&j?s():a()}},[r]);var S=p.useMemo(function(){if(u){var O;return ue((O=$==null?void 0:$.top)!==null&&O!==void 0?O:0)}return ue(l==="rtl"?-($==null?void 0:$.right):$==null?void 0:$.left)},[u,l,$]),M=p.useMemo(function(){if(u){var O;return ue((O=N==null?void 0:N.top)!==null&&O!==void 0?O:0)}return ue(l==="rtl"?-(N==null?void 0:N.right):N==null?void 0:N.left)},[u,l,N]),z=function(){return u?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},F=function(){return u?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},_=function(){E(null),I(null),a()};return!$||!N?null:p.createElement(rr,{visible:!0,motionName:i,motionAppear:!0,onAppearStart:z,onAppearActive:F,onVisibleChanged:_},function(O,j){var P=O.className,B=O.style,H=$e($e({},B),{},{"--thumb-start-left":S,"--thumb-start-width":ue($==null?void 0:$.width),"--thumb-active-left":M,"--thumb-active-width":ue(N==null?void 0:N.width),"--thumb-start-top":S,"--thumb-start-height":ue($==null?void 0:$.height),"--thumb-active-top":M,"--thumb-active-height":ue(N==null?void 0:N.height)}),T={ref:pt(f,j),style:H,className:W("".concat(t,"-thumb"),P)};return p.createElement("div",T)})}var Vo=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function _o(e){if(typeof e.title<"u")return e.title;if(Xt(e.label)!=="object"){var t;return(t=e.label)===null||t===void 0?void 0:t.toString()}}function Wo(e){return e.map(function(t){if(Xt(t)==="object"&&t!==null){var n=_o(t);return $e($e({},t),{},{title:n})}return{label:t==null?void 0:t.toString(),title:t==null?void 0:t.toString(),value:t}})}var Xo=function(t){var n=t.prefixCls,r=t.className,o=t.disabled,i=t.checked,s=t.label,a=t.title,l=t.value,d=t.name,u=t.onChange,f=t.onFocus,m=t.onBlur,g=t.onKeyDown,b=t.onKeyUp,x=t.onMouseDown,y=function(w){o||u(w,l)};return p.createElement("label",{className:W(r,ce({},"".concat(n,"-item-disabled"),o)),onMouseDown:x},p.createElement("input",{name:d,className:"".concat(n,"-item-input"),type:"radio",disabled:o,checked:i,onChange:y,onFocus:f,onBlur:m,onKeyDown:g,onKeyUp:b}),p.createElement("div",{className:"".concat(n,"-item-label"),title:a,"aria-selected":i},s))},Uo=p.forwardRef(function(e,t){var n,r,o=e.prefixCls,i=o===void 0?"rc-segmented":o,s=e.direction,a=e.vertical,l=e.options,d=l===void 0?[]:l,u=e.disabled,f=e.defaultValue,m=e.value,g=e.name,b=e.onChange,x=e.className,y=x===void 0?"":x,v=e.motionName,w=v===void 0?"thumb-motion":v,$=Gt(e,Vo),E=p.useRef(null),A=p.useMemo(function(){return pt(E,t)},[E,t]),R=p.useMemo(function(){return Wo(d)},[d]),N=we((n=R[0])===null||n===void 0?void 0:n.value,{value:m,defaultValue:f}),I=ee(N,2),S=I[0],M=I[1],z=p.useState(!1),F=ee(z,2),_=F[0],O=F[1],j=function(Y,he){M(he),b==null||b(he)},P=sn($,["children"]),B=p.useState(!1),H=ee(B,2),T=H[0],te=H[1],ge=p.useState(!1),de=ee(ge,2),Ke=de[0],Se=de[1],Je=function(){Se(!0)},ne=function(){Se(!1)},re=function(){te(!1)},Qe=function(Y){Y.key==="Tab"&&te(!0)},Be=function(Y){var he=R.findIndex(function(Fe){return Fe.value===S}),Me=R.length,ze=(he+Y+Me)%Me,ve=R[ze];ve&&(M(ve.value),b==null||b(ve.value))},et=function(Y){switch(Y.key){case"ArrowLeft":case"ArrowUp":Be(-1);break;case"ArrowRight":case"ArrowDown":Be(1);break}};return p.createElement("div",q({role:"radiogroup","aria-label":"segmented control",tabIndex:u?void 0:0},P,{className:W(i,(r={},ce(r,"".concat(i,"-rtl"),s==="rtl"),ce(r,"".concat(i,"-disabled"),u),ce(r,"".concat(i,"-vertical"),a),r),y),ref:A}),p.createElement("div",{className:"".concat(i,"-group")},p.createElement(Go,{vertical:a,prefixCls:i,value:S,containerRef:E,motionName:"".concat(i,"-").concat(w),direction:s,getValueIndex:function(Y){return R.findIndex(function(he){return he.value===Y})},onMotionStart:function(){O(!0)},onMotionEnd:function(){O(!1)}}),R.map(function(U){var Y;return p.createElement(Xo,q({},U,{name:g,key:U.value,prefixCls:i,className:W(U.className,"".concat(i,"-item"),(Y={},ce(Y,"".concat(i,"-item-selected"),U.value===S&&!_),ce(Y,"".concat(i,"-item-focused"),Ke&&T&&U.value===S),Y)),checked:U.value===S,onChange:j,onFocus:Je,onBlur:ne,onKeyDown:et,onKeyUp:Qe,onMouseDown:re,disabled:!!u||!!U.disabled}))})))}),qo=Uo;function jt(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function St(e){return{backgroundColor:e.itemSelectedBg,boxShadow:e.boxShadowTertiary}}const Yo=Object.assign({overflow:"hidden"},ir),Zo=e=>{const{componentCls:t}=e,n=e.calc(e.controlHeight).sub(e.calc(e.trackPadding).mul(2)).equal(),r=e.calc(e.controlHeightLG).sub(e.calc(e.trackPadding).mul(2)).equal(),o=e.calc(e.controlHeightSM).sub(e.calc(e.trackPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Le(e)),{display:"inline-block",padding:e.trackPadding,color:e.itemColor,background:e.trackBg,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`}),or(e)),{[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-vertical`]:{[`${t}-group`]:{flexDirection:"column"},[`${t}-thumb`]:{width:"100%",height:0,padding:`0 ${k(e.paddingXXS)}`}},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},St(e)),{color:e.itemSelectedColor}),"&-focused":Object.assign({},Vt(e)),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",opacity:0,transition:`opacity ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{opacity:1,backgroundColor:e.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{opacity:1,backgroundColor:e.itemActiveBg}},"&-label":Object.assign({minHeight:n,lineHeight:k(n),padding:`0 ${k(e.segmentedPaddingHorizontal)}`},Yo),"&-icon + *":{marginInlineStart:e.calc(e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},St(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${k(e.paddingXXS)} 0`,borderRadius:e.borderRadiusSM,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, height ${e.motionDurationSlow} ${e.motionEaseInOut}`,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:r,lineHeight:k(r),padding:`0 ${k(e.segmentedPaddingHorizontal)}`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:o,lineHeight:k(o),padding:`0 ${k(e.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),jt(`&-disabled ${t}-item`,e)),jt(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"},[`&${t}-shape-round`]:{borderRadius:9999,[`${t}-item, ${t}-thumb`]:{borderRadius:9999}}})}},Ko=e=>{const{colorTextLabel:t,colorText:n,colorFillSecondary:r,colorBgElevated:o,colorFill:i,lineWidthBold:s,colorBgLayout:a}=e;return{trackPadding:s,trackBg:a,itemColor:t,itemHoverColor:n,itemHoverBg:r,itemSelectedBg:o,itemActiveBg:i,itemSelectedColor:n}},Jo=je("Segmented",e=>{const{lineWidth:t,calc:n}=e,r=ke(e,{segmentedPaddingHorizontal:n(e.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:n(e.controlPaddingHorizontalSM).sub(t).equal()});return[Zo(r)]},Ko);var Mt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function Qo(e){return typeof e=="object"&&!!(e!=null&&e.icon)}const ei=p.forwardRef((e,t)=>{const n=Cr(),{prefixCls:r,className:o,rootClassName:i,block:s,options:a=[],size:l="middle",style:d,vertical:u,shape:f="default",name:m=n}=e,g=Mt(e,["prefixCls","className","rootClassName","block","options","size","style","vertical","shape","name"]),{getPrefixCls:b,direction:x,className:y,style:v}=Wt("segmented"),w=b("segmented",r),[$,E,A]=Jo(w),R=en(l),N=p.useMemo(()=>a.map(M=>{if(Qo(M)){const{icon:z,label:F}=M,_=Mt(M,["icon","label"]);return Object.assign(Object.assign({},_),{label:p.createElement(p.Fragment,null,p.createElement("span",{className:`${w}-item-icon`},z),F&&p.createElement("span",null,F))})}return M}),[a,w]),I=W(o,i,y,{[`${w}-block`]:s,[`${w}-sm`]:R==="small",[`${w}-lg`]:R==="large",[`${w}-vertical`]:u,[`${w}-shape-${f}`]:f==="round"},E,A),S=Object.assign(Object.assign({},v),d);return $(p.createElement(qo,Object.assign({},g,{name:m,className:I,style:S,options:N,ref:t,prefixCls:w,direction:x,vertical:u})))}),ti=ei,$n=C.createContext({}),En=C.createContext({}),wn=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=()=>{if(r&&n&&!n.cleared){const i=n.toHsb();i.a=0;const s=se(i);s.cleared=!0,r(s)}};return C.createElement("div",{className:`${t}-clear`,onClick:o})},An="hex",In="rgb",Rn="hsb",ye=e=>{let{prefixCls:t,min:n=0,max:r=100,value:o,onChange:i,className:s,formatter:a}=e;const l=`${t}-steppers`,[d,u]=p.useState(o);return p.useEffect(()=>{Number.isNaN(o)||u(o)},[o]),C.createElement(an,{className:W(l,s),min:n,max:r,value:d,formatter:a,size:"small",onChange:f=>{o||u(f||0),i==null||i(f)}})},ni=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-alpha-input`,[i,s]=p.useState(se(n||"#000"));p.useEffect(()=>{n&&s(n)},[n]);const a=l=>{const d=i.toHsb();d.a=(l||0)/100;const u=se(d);n||s(u),r==null||r(u)};return C.createElement(ye,{value:mt(i),prefixCls:t,formatter:l=>`${l}%`,className:o,onChange:a})},ri=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,oi=e=>ri.test(`#${e}`),ii=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-hex-input`,[i,s]=p.useState(()=>n?Ge(n.toHexString()):void 0);p.useEffect(()=>{n&&s(Ge(n.toHexString()))},[n]);const a=l=>{const d=l.target.value;s(Ge(d)),oi(Ge(d,!0))&&(r==null||r(se(d)))};return C.createElement(Hr,{className:o,value:i,prefix:"#",onChange:a,size:"small"})},si=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-hsb-input`,[i,s]=p.useState(se(n||"#000"));p.useEffect(()=>{n&&s(n)},[n]);const a=(l,d)=>{const u=i.toHsb();u[d]=d==="h"?l:(l||0)/100;const f=se(u);n||s(f),r==null||r(f)};return C.createElement("div",{className:o},C.createElement(ye,{max:360,min:0,value:Number(i.toHsb().h),prefixCls:t,className:o,formatter:l=>nt(l||0).toString(),onChange:l=>a(Number(l),"h")}),C.createElement(ye,{max:100,min:0,value:Number(i.toHsb().s)*100,prefixCls:t,className:o,formatter:l=>`${nt(l||0)}%`,onChange:l=>a(Number(l),"s")}),C.createElement(ye,{max:100,min:0,value:Number(i.toHsb().b)*100,prefixCls:t,className:o,formatter:l=>`${nt(l||0)}%`,onChange:l=>a(Number(l),"b")}))},ai=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-rgb-input`,[i,s]=p.useState(se(n||"#000"));p.useEffect(()=>{n&&s(n)},[n]);const a=(l,d)=>{const u=i.toRgb();u[d]=l||0;const f=se(u);n||s(f),r==null||r(f)};return C.createElement("div",{className:o},C.createElement(ye,{max:255,min:0,value:Number(i.toRgb().r),prefixCls:t,className:o,onChange:l=>a(Number(l),"r")}),C.createElement(ye,{max:255,min:0,value:Number(i.toRgb().g),prefixCls:t,className:o,onChange:l=>a(Number(l),"g")}),C.createElement(ye,{max:255,min:0,value:Number(i.toRgb().b),prefixCls:t,className:o,onChange:l=>a(Number(l),"b")}))},li=[An,Rn,In].map(e=>({value:e,label:e.toUpperCase()})),ci=e=>{const{prefixCls:t,format:n,value:r,disabledAlpha:o,onFormatChange:i,onChange:s,disabledFormat:a}=e,[l,d]=we(An,{value:n,onChange:i}),u=`${t}-input`,f=g=>{d(g)},m=p.useMemo(()=>{const g={value:r,prefixCls:t,onChange:s};switch(l){case Rn:return C.createElement(si,Object.assign({},g));case In:return C.createElement(ai,Object.assign({},g));default:return C.createElement(ii,Object.assign({},g))}},[l,t,r,s]);return C.createElement("div",{className:`${u}-container`},!a&&C.createElement(dn,{value:l,variant:"borderless",getPopupContainer:g=>g,popupMatchSelectWidth:68,placement:"bottomRight",onChange:f,className:`${t}-format-select`,size:"small",options:li}),C.createElement("div",{className:u},m),!o&&C.createElement(ni,{prefixCls:t,value:r,onChange:s}))};var di=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Nn=e=>{const{prefixCls:t,colors:n,type:r,color:o,range:i=!1,className:s,activeIndex:a,onActive:l,onDragStart:d,onDragChange:u,onKeyDelete:f}=e,m=di(e,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),g=Object.assign(Object.assign({},m),{track:!1}),b=p.useMemo(()=>`linear-gradient(90deg, ${n.map(R=>`${R.color} ${R.percent}%`).join(", ")})`,[n]),x=p.useMemo(()=>!o||!r?null:r==="alpha"?o.toRgbString():`hsl(${o.toHsb().h}, 100%, 50%)`,[o,r]),y=Re(d),v=Re(u),w=p.useMemo(()=>({onDragStart:y,onDragChange:v}),[]),$=Re((A,R)=>{const{onFocus:N,style:I,className:S,onKeyDown:M}=A.props,z=Object.assign({},I);return r==="gradient"&&(z.background=ln(n,R.value)),p.cloneElement(A,{onFocus:F=>{l==null||l(R.index),N==null||N(F)},style:z,className:W(S,{[`${t}-slider-handle-active`]:a===R.index}),onKeyDown:F=>{(F.key==="Delete"||F.key==="Backspace")&&f&&f(R.index),M==null||M(F)}})}),E=p.useMemo(()=>({direction:"ltr",handleRender:$}),[]);return p.createElement(Mr.Provider,{value:E},p.createElement(Lr.Provider,{value:w},p.createElement(Dr,Object.assign({},g,{className:W(s,`${t}-slider`),tooltip:{open:!1},range:{editable:i,minCount:2},styles:{rail:{background:b},handle:x?{background:x}:{}},classNames:{rail:`${t}-slider-rail`,handle:`${t}-slider-handle`}}))))},ui=e=>{const{value:t,onChange:n,onChangeComplete:r}=e,o=s=>n(s[0]),i=s=>r(s[0]);return p.createElement(Nn,Object.assign({},e,{value:[t],onChange:o,onChangeComplete:i}))};function Lt(e){return Ce(e).sort((t,n)=>t.percent-n.percent)}const fi=e=>{const{prefixCls:t,mode:n,onChange:r,onChangeComplete:o,onActive:i,activeIndex:s,onGradientDragging:a,colors:l}=e,d=n==="gradient",u=p.useMemo(()=>l.map(v=>({percent:v.percent,color:v.color.toRgbString()})),[l]),f=p.useMemo(()=>u.map(v=>v.percent),[u]),m=p.useRef(u),g=v=>{let{rawValues:w,draggingIndex:$,draggingValue:E}=v;if(w.length>u.length){const A=ln(u,E),R=Ce(u);R.splice($,0,{percent:E,color:A}),m.current=R}else m.current=u;a(!0),r(new fe(Lt(m.current)),!0)},b=v=>{let{deleteIndex:w,draggingIndex:$,draggingValue:E}=v,A=Ce(m.current);w!==-1?A.splice(w,1):(A[$]=Object.assign(Object.assign({},A[$]),{percent:E}),A=Lt(A)),r(new fe(A),!0)},x=v=>{const w=Ce(u);w.splice(v,1);const $=new fe(w);r($),o($)},y=v=>{o(new fe(u)),s>=v.length&&i(v.length-1),a(!1)};return d?p.createElement(Nn,{min:0,max:100,prefixCls:t,className:`${t}-gradient-slider`,colors:u,color:null,value:f,range:!0,onChangeComplete:y,disabled:!1,type:"gradient",activeIndex:s,onActive:i,onDragStart:g,onDragChange:b,onKeyDelete:x}):null},pi=p.memo(fi);var gi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const hi={slider:ui},Dt=()=>{const e=p.useContext($n),{mode:t,onModeChange:n,modeOptions:r,prefixCls:o,allowClear:i,value:s,disabledAlpha:a,onChange:l,onClear:d,onChangeComplete:u,activeIndex:f,gradientDragging:m}=e,g=gi(e,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),b=C.useMemo(()=>s.cleared?[{percent:0,color:new fe("")},{percent:100,color:new fe("")}]:s.getColors(),[s]),x=!s.isGradient(),[y,v]=C.useState(s);We(()=>{var O;x||v((O=b[f])===null||O===void 0?void 0:O.color)},[m,f]);const w=C.useMemo(()=>{var O;return x?s:m?y:(O=b[f])===null||O===void 0?void 0:O.color},[s,f,x,y,m]),[$,E]=C.useState(w),[A,R]=C.useState(0),N=$!=null&&$.equals(w)?w:$;We(()=>{E(w)},[A,w==null?void 0:w.toHexString()]);const I=(O,j)=>{let P=se(O);if(s.cleared){const H=P.toRgb();if(!H.r&&!H.g&&!H.b&&j){const{type:T,value:te=0}=j;P=new fe({h:T==="hue"?te:0,s:1,b:1,a:T==="alpha"?te/100:1})}else P=_e(P)}if(t==="single")return P;const B=Ce(b);return B[f]=Object.assign(Object.assign({},B[f]),{color:P}),new fe(B)},S=(O,j,P)=>{const B=I(O,P);E(B.isGradient()?B.getColors()[f].color:B),l(B,j)},M=(O,j)=>{u(I(O,j)),R(P=>P+1)},z=O=>{l(I(O))};let F=null;const _=r.length>1;return(i||_)&&(F=C.createElement("div",{className:`${o}-operation`},_&&C.createElement(ti,{size:"small",options:r,value:t,onChange:n}),C.createElement(wn,Object.assign({prefixCls:o,value:s,onChange:O=>{l(O),d==null||d()}},g)))),C.createElement(C.Fragment,null,F,C.createElement(pi,Object.assign({},e,{colors:b})),C.createElement(oo,{prefixCls:o,value:N==null?void 0:N.toHsb(),disabledAlpha:a,onChange:(O,j)=>{S(O,!0,j)},onChangeComplete:(O,j)=>{M(O,j)},components:hi}),C.createElement(ci,Object.assign({value:w,onChange:z,prefixCls:o,disabledAlpha:a},g)))},Pt=()=>{const{prefixCls:e,value:t,presets:n,onChange:r}=p.useContext(En);return Array.isArray(n)?C.createElement(Pr,{value:t,presets:n,prefixCls:e,onChange:r}):null},mi=e=>{const{prefixCls:t,presets:n,panelRender:r,value:o,onChange:i,onClear:s,allowClear:a,disabledAlpha:l,mode:d,onModeChange:u,modeOptions:f,onChangeComplete:m,activeIndex:g,onActive:b,format:x,onFormatChange:y,gradientDragging:v,onGradientDragging:w,disabledFormat:$}=e,E=`${t}-inner`,A=C.useMemo(()=>({prefixCls:t,value:o,onChange:i,onClear:s,allowClear:a,disabledAlpha:l,mode:d,onModeChange:u,modeOptions:f,onChangeComplete:m,activeIndex:g,onActive:b,format:x,onFormatChange:y,gradientDragging:v,onGradientDragging:w,disabledFormat:$}),[t,o,i,s,a,l,d,u,f,m,g,b,x,y,v,w,$]),R=C.useMemo(()=>({prefixCls:t,value:o,presets:n,onChange:i}),[t,o,n,i]),N=C.createElement("div",{className:`${E}-content`},C.createElement(Dt,null),Array.isArray(n)&&C.createElement(Fo,null),C.createElement(Pt,null));return C.createElement($n.Provider,{value:A},C.createElement(En.Provider,{value:R},C.createElement("div",{className:E},typeof r=="function"?r(N,{components:{Picker:Dt,Presets:Pt}}):N)))};var vi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const bi=p.forwardRef((e,t)=>{const{color:n,prefixCls:r,open:o,disabled:i,format:s,className:a,showText:l,activeIndex:d}=e,u=vi(e,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),f=`${r}-trigger`,m=`${f}-text`,g=`${m}-cell`,[b]=cn("ColorPicker"),x=C.useMemo(()=>{if(!l)return"";if(typeof l=="function")return l(n);if(n.cleared)return b.transparent;if(n.isGradient())return n.getColors().map(($,E)=>{const A=d!==-1&&d!==E;return C.createElement("span",{key:E,className:W(g,A&&`${g}-inactive`)},$.color.toRgbString()," ",$.percent,"%")});const v=n.toHexString().toUpperCase(),w=mt(n);switch(s){case"rgb":return n.toRgbString();case"hsb":return n.toHsbString();default:return w<100?`${v.slice(0,7)},${w}%`:v}},[n,s,l,d]),y=p.useMemo(()=>n.cleared?C.createElement(wn,{prefixCls:r}):C.createElement(on,{prefixCls:r,color:n.toCssString()}),[n,r]);return C.createElement("div",Object.assign({ref:t,className:W(f,a,{[`${f}-active`]:o,[`${f}-disabled`]:i})},sr(u)),y,l&&C.createElement("div",{className:m},x))});function xi(e,t,n){const[r]=cn("ColorPicker"),[o,i]=we(e,{value:t}),[s,a]=p.useState("single"),[l,d]=p.useMemo(()=>{const x=(Array.isArray(n)?n:[n]).filter($=>$);x.length||x.push("single");const y=new Set(x),v=[],w=($,E)=>{y.has($)&&v.push({label:E,value:$})};return w("single",r.singleColor),w("gradient",r.gradientColor),[v,y]},[n]),[u,f]=p.useState(null),m=Re(x=>{f(x),i(x)}),g=p.useMemo(()=>{const x=se(o||"");return x.equals(u)?u:x},[o,u]),b=p.useMemo(()=>{var x;return d.has(s)?s:(x=l[0])===null||x===void 0?void 0:x.value},[d,s,l]);return p.useEffect(()=>{a(g.isGradient()?"gradient":"single")},[g]),[g,m,b,a,l]}const On=(e,t)=>({backgroundImage:`conic-gradient(${t} 25%, transparent 25% 50%, ${t} 50% 75%, transparent 75% 100%)`,backgroundSize:`${e} ${e}`}),kt=(e,t)=>{const{componentCls:n,borderRadiusSM:r,colorPickerInsetShadow:o,lineWidth:i,colorFillSecondary:s}=e;return{[`${n}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:r,width:t,height:t,boxShadow:o,flex:"none"},On("50%",e.colorFillSecondary)),{[`${n}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${k(i)} ${s}`,borderRadius:"inherit"}})}},Ci=e=>{const{componentCls:t,antCls:n,fontSizeSM:r,lineHeightSM:o,colorPickerAlphaInputWidth:i,marginXXS:s,paddingXXS:a,controlHeightSM:l,marginXS:d,fontSizeIcon:u,paddingXS:f,colorTextPlaceholder:m,colorPickerInputNumberHandleWidth:g,lineWidth:b}=e;return{[`${t}-input-container`]:{display:"flex",[`${t}-steppers${n}-input-number`]:{fontSize:r,lineHeight:o,[`${n}-input-number-input`]:{paddingInlineStart:a,paddingInlineEnd:0},[`${n}-input-number-handler-wrap`]:{width:g}},[`${t}-steppers${t}-alpha-input`]:{flex:`0 0 ${k(i)}`,marginInlineStart:s},[`${t}-format-select${n}-select`]:{marginInlineEnd:d,width:"auto","&-single":{[`${n}-select-selector`]:{padding:0,border:0},[`${n}-select-arrow`]:{insetInlineEnd:0},[`${n}-select-selection-item`]:{paddingInlineEnd:e.calc(u).add(s).equal(),fontSize:r,lineHeight:k(l)},[`${n}-select-item-option-content`]:{fontSize:r,lineHeight:o},[`${n}-select-dropdown`]:{[`${n}-select-item`]:{minHeight:"auto"}}}},[`${t}-input`]:{gap:s,alignItems:"center",flex:1,width:0,[`${t}-hsb-input,${t}-rgb-input`]:{display:"flex",gap:s,alignItems:"center"},[`${t}-steppers`]:{flex:1},[`${t}-hex-input${n}-input-affix-wrapper`]:{flex:1,padding:`0 ${k(f)}`,[`${n}-input`]:{fontSize:r,textTransform:"uppercase",lineHeight:k(e.calc(l).sub(e.calc(b).mul(2)).equal())},[`${n}-input-prefix`]:{color:m}}}}}},yi=e=>{const{componentCls:t,controlHeightLG:n,borderRadiusSM:r,colorPickerInsetShadow:o,marginSM:i,colorBgElevated:s,colorFillSecondary:a,lineWidthBold:l,colorPickerHandlerSize:d}=e;return{userSelect:"none",[`${t}-select`]:{[`${t}-palette`]:{minHeight:e.calc(n).mul(4).equal(),overflow:"hidden",borderRadius:r},[`${t}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:o,inset:0},marginBottom:i},[`${t}-handler`]:{width:d,height:d,border:`${k(l)} solid ${s}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${o}, 0 0 0 1px ${a}`}}},$i=e=>{const{componentCls:t,antCls:n,colorTextQuaternary:r,paddingXXS:o,colorPickerPresetColorSize:i,fontSizeSM:s,colorText:a,lineHeightSM:l,lineWidth:d,borderRadius:u,colorFill:f,colorWhite:m,marginXXS:g,paddingXS:b,fontHeightSM:x}=e;return{[`${t}-presets`]:{[`${n}-collapse-item > ${n}-collapse-header`]:{padding:0,[`${n}-collapse-expand-icon`]:{height:x,color:r,paddingInlineEnd:o}},[`${n}-collapse`]:{display:"flex",flexDirection:"column",gap:g},[`${n}-collapse-item > ${n}-collapse-content > ${n}-collapse-content-box`]:{padding:`${k(b)} 0`},"&-label":{fontSize:s,color:a,lineHeight:l},"&-items":{display:"flex",flexWrap:"wrap",gap:e.calc(g).mul(1.5).equal(),[`${t}-presets-color`]:{position:"relative",cursor:"pointer",width:i,height:i,"&::before":{content:'""',pointerEvents:"none",width:e.calc(i).add(e.calc(d).mul(4)).equal(),height:e.calc(i).add(e.calc(d).mul(4)).equal(),position:"absolute",top:e.calc(d).mul(-2).equal(),insetInlineStart:e.calc(d).mul(-2).equal(),borderRadius:u,border:`${k(d)} solid transparent`,transition:`border-color ${e.motionDurationMid} ${e.motionEaseInBack}`},"&:hover::before":{borderColor:f},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.calc(i).div(13).mul(5).equal(),height:e.calc(i).div(13).mul(8).equal(),border:`${k(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`},[`&${t}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:m,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`},[`&${t}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:s,color:r}}}},Ei=e=>{const{componentCls:t,colorPickerInsetShadow:n,colorBgElevated:r,colorFillSecondary:o,lineWidthBold:i,colorPickerHandlerSizeSM:s,colorPickerSliderHeight:a,marginSM:l,marginXS:d}=e,u=e.calc(s).sub(e.calc(i).mul(2).equal()).equal(),f=e.calc(s).add(e.calc(i).mul(2).equal()).equal(),m={"&:after":{transform:"scale(1)",boxShadow:`${n}, 0 0 0 1px ${e.colorPrimaryActive}`}};return{[`${t}-slider`]:[On(k(a),e.colorFillSecondary),{margin:0,padding:0,height:a,borderRadius:e.calc(a).div(2).equal(),"&-rail":{height:a,borderRadius:e.calc(a).div(2).equal(),boxShadow:n},[`& ${t}-slider-handle`]:{width:u,height:u,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:f,height:f,borderRadius:"100%"},"&:after":{width:s,height:s,border:`${k(i)} solid ${r}`,boxShadow:`${n}, 0 0 0 1px ${o}`,outline:"none",insetInlineStart:e.calc(i).mul(-1).equal(),top:e.calc(i).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":m}}],[`${t}-slider-container`]:{display:"flex",gap:l,marginBottom:l,[`${t}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${t}-gradient-slider`]:{marginBottom:d,[`& ${t}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":m}}}},ct=(e,t,n)=>({borderInlineEndWidth:e.lineWidth,borderColor:t,boxShadow:`0 0 0 ${k(e.controlOutlineWidth)} ${n}`,outline:0}),wi=e=>{const{componentCls:t}=e;return{"&-rtl":{[`${t}-presets-color`]:{"&::after":{direction:"ltr"}},[`${t}-clear`]:{"&::after":{direction:"ltr"}}}}},Tt=(e,t,n)=>{const{componentCls:r,borderRadiusSM:o,lineWidth:i,colorSplit:s,colorBorder:a,red6:l}=e;return{[`${r}-clear`]:Object.assign(Object.assign({width:t,height:t,borderRadius:o,border:`${k(i)} solid ${s}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${e.motionDurationFast}`},n),{"&::after":{content:'""',position:"absolute",insetInlineEnd:e.calc(i).mul(-1).equal(),top:e.calc(i).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:l},"&:hover":{borderColor:a}})}},Ai=e=>{const{componentCls:t,colorError:n,colorWarning:r,colorErrorHover:o,colorWarningHover:i,colorErrorOutline:s,colorWarningOutline:a}=e;return{[`&${t}-status-error`]:{borderColor:n,"&:hover":{borderColor:o},[`&${t}-trigger-active`]:Object.assign({},ct(e,n,s))},[`&${t}-status-warning`]:{borderColor:r,"&:hover":{borderColor:i},[`&${t}-trigger-active`]:Object.assign({},ct(e,r,a))}}},Ii=e=>{const{componentCls:t,controlHeightLG:n,controlHeightSM:r,controlHeight:o,controlHeightXS:i,borderRadius:s,borderRadiusSM:a,borderRadiusXS:l,borderRadiusLG:d,fontSizeLG:u}=e;return{[`&${t}-lg`]:{minWidth:n,minHeight:n,borderRadius:d,[`${t}-color-block, ${t}-clear`]:{width:o,height:o,borderRadius:s},[`${t}-trigger-text`]:{fontSize:u}},[`&${t}-sm`]:{minWidth:r,minHeight:r,borderRadius:a,[`${t}-color-block, ${t}-clear`]:{width:i,height:i,borderRadius:l},[`${t}-trigger-text`]:{lineHeight:k(i)}}}},Ri=e=>{const{antCls:t,componentCls:n,colorPickerWidth:r,colorPrimary:o,motionDurationMid:i,colorBgElevated:s,colorTextDisabled:a,colorText:l,colorBgContainerDisabled:d,borderRadius:u,marginXS:f,marginSM:m,controlHeight:g,controlHeightSM:b,colorBgTextActive:x,colorPickerPresetColorSize:y,colorPickerPreviewSize:v,lineWidth:w,colorBorder:$,paddingXXS:E,fontSize:A,colorPrimaryHover:R,controlOutline:N}=e;return[{[n]:Object.assign({[`${n}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:r,[`& > ${t}-divider`]:{margin:`${k(m)} 0 ${k(f)}`}},[`${n}-panel`]:Object.assign({},yi(e))},Ei(e)),kt(e,v)),Ci(e)),$i(e)),Tt(e,y,{marginInlineStart:"auto"})),{[`${n}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:f}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:g,minHeight:g,borderRadius:u,border:`${k(w)} solid ${$}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${i}`,background:s,padding:e.calc(E).sub(w).equal(),[`${n}-trigger-text`]:{marginInlineStart:f,marginInlineEnd:e.calc(f).sub(e.calc(E).sub(w)).equal(),fontSize:A,color:l,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:a}}},"&:hover":{borderColor:R},[`&${n}-trigger-active`]:Object.assign({},ct(e,o,N)),"&-disabled":{color:a,background:d,cursor:"not-allowed","&:hover":{borderColor:x},[`${n}-trigger-text`]:{color:a}}},Tt(e,b)),kt(e,b)),Ai(e)),Ii(e))},wi(e))},kr(e,{focusElCls:`${n}-trigger-active`})]},Ni=je("ColorPicker",e=>{const{colorTextQuaternary:t,marginSM:n}=e,r=8,o=ke(e,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${t}`,colorPickerSliderHeight:r,colorPickerPreviewSize:e.calc(r).mul(2).add(n).equal()});return[Ri(o)]});var Oi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Ze=e=>{const{mode:t,value:n,defaultValue:r,format:o,defaultFormat:i,allowClear:s=!1,presets:a,children:l,trigger:d="click",open:u,disabled:f,placement:m="bottomLeft",arrow:g=!0,panelRender:b,showText:x,style:y,className:v,size:w,rootClassName:$,prefixCls:E,styles:A,disabledAlpha:R=!1,onFormatChange:N,onChange:I,onClear:S,onOpenChange:M,onChangeComplete:z,getPopupContainer:F,autoAdjustOverflow:_=!0,destroyTooltipOnHide:O,disabledFormat:j}=e,P=Oi(e,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:B,direction:H,colorPicker:T}=p.useContext(Te),te=p.useContext(_t),ge=f??te,[de,Ke]=we(!1,{value:u,postState:Q=>!ge&&Q,onChange:M}),[Se,Je]=we(o,{value:o,defaultValue:i,onChange:N}),ne=B("color-picker",E),[re,Qe,Be,et,U]=xi(r,n,t),Y=p.useMemo(()=>mt(re)<100,[re]),[he,Me]=C.useState(null),ze=Q=>{if(z){let le=se(Q);R&&Y&&(le=_e(Q)),z(le)}},ve=(Q,le)=>{let Ie=se(Q);R&&Y&&(Ie=_e(Ie)),Qe(Ie),Me(null),I&&I(Ie,Ie.toCssString()),le||ze(Ie)},[Fe,vt]=C.useState(0),[kn,Tn]=C.useState(!1),Hn=Q=>{if(et(Q),Q==="single"&&re.isGradient())vt(0),ve(new fe(re.getColors()[0].color)),Me(re);else if(Q==="gradient"&&!re.isGradient()){const le=Y?_e(re):re;ve(new fe(he||[{percent:0,color:le},{percent:100,color:le}]))}},{status:Bn}=C.useContext(Qt),{compactSize:zn,compactItemClassnames:Fn}=yr(ne,H),bt=en(Q=>{var le;return(le=w??zn)!==null&&le!==void 0?le:Q}),xt=gt(ne),[Gn,Vn,_n]=Ni(ne,xt),Wn={[`${ne}-rtl`]:H},Ct=W($,_n,xt,Wn),Xn=W(Tr(ne,Bn),{[`${ne}-sm`]:bt==="small",[`${ne}-lg`]:bt==="large"},Fn,T==null?void 0:T.className,Ct,v,Vn),Un=W(ne,Ct),qn={open:de,trigger:d,placement:m,arrow:g,rootClassName:$,getPopupContainer:F,autoAdjustOverflow:_,destroyTooltipOnHide:O},Yn=Object.assign(Object.assign({},T==null?void 0:T.style),y);return Gn(C.createElement(De,Object.assign({style:A==null?void 0:A.popup,styles:{body:A==null?void 0:A.popupOverlayInner},onOpenChange:Q=>{(!Q||!ge)&&Ke(Q)},content:C.createElement($r,{form:!0},C.createElement(mi,{mode:Be,onModeChange:Hn,modeOptions:U,prefixCls:ne,value:re,allowClear:s,disabled:ge,disabledAlpha:R,presets:a,panelRender:b,format:Se,onFormatChange:Je,onChange:ve,onChangeComplete:ze,onClear:S,activeIndex:Fe,onActive:vt,gradientDragging:kn,onGradientDragging:Tn,disabledFormat:j})),classNames:{root:Un}},qn),l||C.createElement(bi,Object.assign({activeIndex:de?Fe:-1,open:de,className:Xn,style:Yn,prefixCls:ne,disabled:ge,showText:x,format:Se},P,{color:re}))))},ji=Br(Ze,void 0,e=>Object.assign(Object.assign({},e),{placement:"bottom",autoAdjustOverflow:!1}),"color-picker",e=>e);Ze._InternalPanelDoNotUseOrYouWillBeFired=ji;var Si={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},Mi=function(t,n){return p.createElement(ae,q({},t,{ref:n,icon:Si}))},Li=p.forwardRef(Mi),Di={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},Pi=function(t,n){return p.createElement(ae,q({},t,{ref:n,icon:Di}))},ki=p.forwardRef(Pi),Ti={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"},Hi=function(t,n){return p.createElement(ae,q({},t,{ref:n,icon:Ti}))},Ht=p.forwardRef(Hi),Bi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"},zi=function(t,n){return p.createElement(ae,q({},t,{ref:n,icon:Bi}))},Fi=p.forwardRef(zi),Gi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M365.3 518.5l246 178c5.3 3.8 12.7 0 12.7-6.5v-46.9c0-10.2-4.9-19.9-13.2-25.9L465.4 512l145.4-105.2c8.3-6 13.2-15.6 13.2-25.9V334c0-6.5-7.4-10.3-12.7-6.5l-246 178a8.05 8.05 0 000 13z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"left-square",theme:"outlined"},Vi=function(t,n){return p.createElement(ae,q({},t,{ref:n,icon:Gi}))},_i=p.forwardRef(Vi),Wi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},Xi=function(t,n){return p.createElement(ae,q({},t,{ref:n,icon:Wi}))},Ui=p.forwardRef(Xi),qi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},Yi=function(t,n){return p.createElement(ae,q({},t,{ref:n,icon:qi}))},jn=p.forwardRef(Yi),Zi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M412.7 696.5l246-178c4.4-3.2 4.4-9.7 0-12.9l-246-178c-5.3-3.8-12.7 0-12.7 6.5V381c0 10.2 4.9 19.9 13.2 25.9L558.6 512 413.2 617.2c-8.3 6-13.2 15.6-13.2 25.9V690c0 6.5 7.4 10.3 12.7 6.5z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"right-square",theme:"outlined"},Ki=function(t,n){return p.createElement(ae,q({},t,{ref:n,icon:Zi}))},Ji=p.forwardRef(Ki),Qi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M567.1 512l318.5-319.3c5-5 1.5-13.7-5.6-13.7h-90.5c-2.1 0-4.2.8-5.6 2.3l-273.3 274-90.2-90.5c12.5-22.1 19.7-47.6 19.7-74.8 0-83.9-68.1-152-152-152s-152 68.1-152 152 68.1 152 152 152c27.7 0 53.6-7.4 75.9-20.3l90 90.3-90.1 90.3A151.04 151.04 0 00288 582c-83.9 0-152 68.1-152 152s68.1 152 152 152 152-68.1 152-152c0-27.2-7.2-52.7-19.7-74.8l90.2-90.5 273.3 274c1.5 1.5 3.5 2.3 5.6 2.3H880c7.1 0 10.7-8.6 5.6-13.7L567.1 512zM288 370c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80zm0 444c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]},name:"scissor",theme:"outlined"},es=function(t,n){return p.createElement(ae,q({},t,{ref:n,icon:Qi}))},Ve=p.forwardRef(es),ts={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"},ns=function(t,n){return p.createElement(ae,q({},t,{ref:n,icon:ts}))},rs=p.forwardRef(ns),os={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"},is=function(t,n){return p.createElement(ae,q({},t,{ref:n,icon:os}))},ss=p.forwardRef(is);function Sn(e){const t=[];return Object.keys(e).forEach(n=>{const r=n,o=e[r];t.push({key:r,value:o})}),t}function as({style:e,optionMap:t,onSelect:n,value:r,prefix:o,optionRender:i}){const s=Sn(t).map(a=>({label:a.value.name,value:a.key}));return c.jsx(dn,{prefix:o?c.jsx("div",{style:{fontSize:10,marginRight:4},children:o}):null,value:r||"",size:"small",style:{width:"100%",...e},optionRender:i?a=>{const l=t[a.value];return l?i(l):null}:void 0,options:s,onSelect:(a,l)=>{const d=l.value;n({key:d,value:t[d]})},placeholder:""})}const Ye=J(as),ls={:{colors:[["#c93326","#99040b"],"",["#fffcf7","#fce6b1"],"","#b8231c","#ffffff"]},2:{colors:[[h(356,89,68),"#cd2b39","#750106"],"","#ffffff","","#be2530"]},:{colors:[h(357,22,100),"",h(2,68,94),"#ffffff","",h(48,29,100),h(40,6,100),"#202020"]},:{colors:[[h(359,80,73),h(359,82,60)],"","#ffffff","",[h(35,42,99),h(34,55,96)],h(10,81,61),h(22,73,54),"#ffffff"]},:{colors:[[h(0,85,83),h(356,100,100)],"",["#ffffff",h(34,30,96)],"",h(0,97,68)]},:{colors:[h(0,77,90),"",h(38,21,100),"",[h(31,19,100),h(38,46,100)],h(0,81,81),h(0,0,19)]},:{colors:[V(1,100,66),"","#ffffff","","#ffffff","#ff8426","#514036"]},2:{colors:[[h(2,77,100),h(5,75,100)],"#ffffff",h(0,0,11)]},Red:{colors:[V(3,67,48),"","#ffffff"]},:{colors:[h(17,98,98),"#000000","#ffffff",h(0,0,51)]},Pink:{colors:[V(20,75,95),"#f4b2b2","#3e3a3a","#fadbc8"]},Pink2:{colors:["#ff9393","#ffffff"]},:{colors:[[V(24,100,64),"#ff6429"],"","#000000","",h(300,0,99),"#fff007","#000000"]},:{colors:[h(31,33,100),"#ffffff",h(10,86,3),h(17,70,96),h(220,49,95)]},:{colors:[h(32,31,84),"","#000000","",h(32,6,92),"#000000"]},:{colors:[[h(32,63,98),h(31,82,85)],h(46,21,100)]},OrangeSimple2:{colors:[V(36,76,79),"","#852d14"]},OrangeSimple:{colors:[V(38,100,66),"#ffffff","#faed18","#000000"]},2:{colors:[h(42,15,100),"",h(12,37,36),"",h(40,36,98),h(102,14,85),h(201,12,89)]},:{colors:[[V(42,100,60),"#ffe699"],"","#ffffff","#cc3f01","","#cc3f01"]},YellowSimple2:{colors:[[V(43,100,88),"#ffd98e"],"#ffffff","#e6404c","#000000"]},:{colors:[h(44,77,99),"","#000000","",h(223,76,75),h(1,83,86),h(40,90,100)]},:{colors:[h(45,85,99),"","#000000","","#ffffff",V(42,97,52)]},:{colors:[h(47,65,98),"","#000000","","#ffffff"]},:{colors:[h(49,15,100),"","#000000","",[h(50,98,100),h(46,98,99)]]},:{colors:[h(49,64,100),"",h(219,88,61),"","#000000"]},:{colors:[[h(50,100,99),h(31,93,100)],"","#000000","","#ffffff"]},2:{colors:[V(57,96,54),"","#000000","","#20c542","","#ffffff","#000000"]},2:{colors:["#fed846","#fff6d9","#ffe9b8",["#fff6d9","#ffcf41"],"#000000"]},:{colors:[[h(55,16,93),h(49,29,91)],"",[h(89,95,40),h(82,94,52)],"","#7f4200","#93520c","#a90715"]},:{colors:[[h(68,56,99),h(74,78,95)],"#ffffff","#000000",h(245,44,100),[h(41,15,99),h(12,35,100)]]},:{colors:[V(72,62,58),"","#000000","","#fffdf1","#fdb947","#020000"]},:{colors:[h(72,21,96),"","#000000","",h(85,82,58),"","#ef6f56","#000000"]},GreenGreen:{colors:[["#c9f181","#c0ea7a","#478a1e"],"","#426a28","","#ffffff","#242424"]},GreenSimple:{colors:[V(92,76,65),"#ffffff","","#000000"]},GreenSimple2:{colors:[V(122,26,62),"#ffffff","#fba534","#3a3a3a"]},:{colors:[h(137,64,62),h(43,28,100),h(136,72,50)]},:{colors:[h(143,5,100),"#ffffff",h(135,5,32),h(108,47,74)]},2:{colors:[[h(167,78,56),h(160,61,33)],"","#ffffff","",h(167,78,40),"#F5DD97"]},GreenWhite:{colors:[["#87f140","#87f140"],"#eeffe2",["#ff8181","#fb4747"],"#000000"]},:{colors:[["#ffffff",h(199,10,100)],"",[h(238,50,100),h(237,67,100)],"","#ffffff"]},:{colors:[h(205,29,100),"#ffffff","","#000000","",h(42,52,100),h(278,23,90)]},BlueSimple:{colors:[h(206,22,100),"#ffffff",h(211,65,81),"#ffbf82",h(217,49,44)]},Blue:{colors:[V(214,81,71),"#ffffff","#2d71cb","#354458","#faea80"]},BlueLight:{colors:[V(218,82,57),"#ffffff","#f8d135"]},:{colors:[[h(222,73,98),h(228,88,92)],"","#ffffff","",h(229,88,53)]},:{colors:[[h(225,90,56),h(225,93,24)],"",[h(41,26,97),h(37,46,100)],"","#000000"]},2:{colors:[h(238,69,57),"","#f0d29b","#ffffff","","#691900"]},:{colors:[h(226,62,96),h(227,4,100),"#000000",h(44,83,100),h(18,79,99)]},PurpleSimple:{colors:[V(226,52,85),"#fffbf7","#fdb913","#1e3374"]},PurpleYellow:{colors:[V(260,84,69),"#ffffff","#000000","#fee759"]},:{colors:[V(260,78,53),"","#ffffff","","#000000"]},:{colors:[h(262,21,100),"#ffffff","",h(356,22,29),h(54,52,100),h(49,11,99),h(5,78,93)]},2:{colors:[h(280,5,100),"#ffffff",h(0,0,11),h(302,29,75),h(47,61,100)]},:{colors:[[V(320,100,67),"#ffffff"],"","#ffffff","","#000000",V(58,98,54)]},WhiteYellow:{colors:["#ffffff","","#000000","","#ffdb33","#2d2d2d"]},:{colors:["#ffffff","",h(348,78,94),"",h(354,8,98),"#ffb611"]},:{colors:["#ffffff",[h(45,24,97),h(35,38,90)],h(26,51,41),h(25,48,50)]},:{colors:["#ffffff","","#000000","","#a5d941","#d3d4d1","#000000"]},:{colors:["#ffffff","#000000",h(110,85,65),h(38,64,100)]},:{colors:["#ffffff","","#dc0000","","#014dde","#000000"]},Gray:{colors:["#f1f1f1","#ffffff","#f98f0e","#000000","#0c2740"]},:{colors:["#ececec","","#fc0035","","#0ebc56","#ffffff"]},GrayOrange:{colors:[h(0,0,88),"",V(26,100,55),"#000000","",V(240,1,73),"#000000"]},:{colors:["#f8f8f8","",["#ad8155","#cea26e","#eec287"],"","#946536"]},:{colors:[V(0,0,84),"","#000000","",V(71,97,48),"",V(0,0,95),"#000000"]},2:{colors:[h(0,0,95),"#ffffff","#000000",h(122,52,85)]},:{colors:[h(0,0,94),"","#000000","",h(73,77,91),"#1284f4","#ff87e6"]},2:{colors:["#ededed","","#000000","","#274cff","#000000"]},:{colors:["#252525","",["#fece94","#f8e4c0"],"","#ffffff","#666666"]},2:{colors:["#000000","","#ffffff","",["#fac47d","#fbdcb4"]]},:{colors:["#000000","","#08f7ed","#ffffff"]},:{colors:["#000000","","#9347f1","#ffffff"]},:{colors:["#000000","",["#a8f6ff","#ffb8be","#fff4b5","#d4ffb4","#b9ffbb"]]},:{colors:["#000000","",["#f4fd61","#95ff4e"],"","#ffdc48"]},2:{colors:["#000000","","#ffffff","","#9bde4d"]},:{colors:["#000000","","#02d884","","#c7c7c7"]},:{colors:["#000000","","#ff642c","","#a9e232","#a6f601","#ffffff"]},2:{colors:["#000000","",["#fc670b","#ffd8b1"],"","#ffffff"]},:{colors:["#000000","",["#ffea68","#fff298"]]},2:{colors:["#000000","","#ffd93f","#ffffff","","#076cd8","#ffffff"]},:{colors:["#000000","","#ff2d51","","#0095b6","#feeee1"]}};function cs(e){return e?typeof e=="string"?e:`linear-gradient(${e.join(",")})`:"#ffffff"}function ds(){return typeof window<"u"&&/test=1/.test(window.location.href)}const ie=J(({addonBefore:e,addonAfter:t,value:n,onBlur:r,toFixed:o,style:i})=>c.jsx(an,{prefix:c.jsx("div",{style:{fontSize:10,marginRight:10},children:e}),addonAfter:t,controls:!1,size:"small",value:n,style:{width:"100%",...i},formatter:s=>typeof s=="string"?Number(s).toFixed(o).replace(/\.0+$/,""):s?`${s}`:"",onBlur:s=>{const a=Number(s.target.value);typeof a=="number"&&Number.isNaN(a)===!1&&r(a)}}));function dt(e){return`rgba(${e.r*255}, ${e.g*255}, ${e.b*255}, ${e.a})`}function ut(e){return{r:e.toRgb().r/255,g:e.toRgb().g/255,b:e.toRgb().b/255,a:e.toRgb().a}}function Mn({type:e},t){return t.isGradient()&&(e==="GRADIENT_LINEAR"||e==="GRADIENT_RADIAL")?{type:e,stops:t.getColors().map(n=>({position:n.percent/100,color:ut(n.color)}))}:{type:"SOLID",color:ut(t)}}function Ln(e){return e==="GRADIENT_LINEAR"?{type:"GRADIENT_LINEAR",stops:[{position:0,color:{r:0,g:0,b:0,a:1}},{position:1,color:{r:1,g:1,b:1,a:1}}]}:e==="GRADIENT_RADIAL"?{type:"GRADIENT_RADIAL",stops:[{position:0,color:{r:0,g:0,b:0,a:1}},{position:1,color:{r:1,g:1,b:1,a:1}}]}:{type:"SOLID",color:{r:0,g:0,b:0,a:1}}}function Oe({paints:e,i:t,input:n}){let r=!0,o=1,i="NORMAL",s;const a=e[t];(a.type==="SOLID"||a.type==="GRADIENT_LINEAR")&&(r=a.visible,o=a.opacity,i=a.blendMode),a.type==="GRADIENT_LINEAR"&&(s=a.angle),n.type==="GRADIENT_LINEAR"?e[t]={type:"GRADIENT_LINEAR",visible:r,opacity:o,blendMode:i,stops:n.stops,angle:s}:n.type==="GRADIENT_RADIAL"?e[t]={type:"GRADIENT_RADIAL",visible:r,opacity:o,blendMode:i,stops:n.stops}:n.type==="SOLID"&&(e[t]={type:"SOLID",visible:r,opacity:o,blendMode:i,color:n.color})}function us(e){return e.type==="SOLID"?dt(e.color):e.type==="GRADIENT_LINEAR"||e.type==="GRADIENT_RADIAL"?e.stops.map(n=>({color:dt(n.color),percent:n.position*100})):"#ffffff"}function Bt({targetTtype:e,currentPaint:t}){return t.type==="GRADIENT_RADIAL"||t.type==="GRADIENT_LINEAR"?{type:e,stops:xe.cloneDeep(t.stops)}:t.type==="SOLID"?{type:e,stops:[{position:0,color:xe.cloneDeep(t.color)},{position:1,color:{...xe.cloneDeep(t.color),a:0}}]}:Ln("GRADIENT_LINEAR")}const fs=J(({type:e,paint:t,onEvent:n})=>{const r={SOLID:{name:"",onClick(){t.type!=="SOLID"&&n({type:"ChangePaintType",input:Ln("SOLID")})}},GRADIENT_LINEAR:{name:"",onClick(){t.type!=="GRADIENT_LINEAR"&&n({type:"ChangePaintType",input:Bt({targetTtype:"GRADIENT_LINEAR",currentPaint:t})})}},GRADIENT_RADIAL:{name:"",onClick(){t.type!=="GRADIENT_RADIAL"&&n({type:"ChangePaintType",input:Bt({targetTtype:"GRADIENT_RADIAL",currentPaint:t})})}},IMAGE:{name:"",onClick(){}},GRID:{name:"",onClick(){t.type!=="GRID"&&n({type:"ChangePaintType",input:{type:"GRID"}})}}};return c.jsxs("div",{style:{maxHeight:400,overflow:"scroll"},children:[c.jsx("div",{style:{marginBottom:10,display:"flex"},children:Object.keys(r).map(o=>{const i=o,s=r[i];return e==="stroke"&&(i==="IMAGE"||i==="GRID")?null:c.jsx("div",{style:{fontSize:12,padding:"2px 8px",borderRadius:4,cursor:"pointer",background:i===t.type?at.activeGray:""},onClick:()=>{s.onClick()},children:s.name},o)})}),c.jsx("div",{children:t.type==="GRADIENT_LINEAR"?c.jsx("div",{children:c.jsx(ie,{addonBefore:"",toFixed:1,value:t.angle||180,onBlur:o=>{const i=ar(o);n({type:"ModifyLinearAngle",angle:i})}})}):null}),c.jsx("div",{style:{marginBottom:20,height:150,overflow:"scroll",display:ds()?"":"none"},children:Sn(ls).map(o=>c.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[c.jsx("div",{style:{fontSize:10,width:50,lineHeight:"29px"},children:o.key}),o.value.colors.map(i=>{const s=Array.isArray(i)?i.join(","):i;return c.jsx("div",{onClick:()=>{i===""||(Array.isArray(i)?n({type:"ChangePaintType",input:{type:"GRADIENT_LINEAR",stops:i.map((a,l)=>({color:Ee(a).toFigmaColor(),position:l/(i.length-1)}))}}):n({type:"ChangePaintType",input:{type:"SOLID",color:Ee(i).toFigmaColor()}}))},style:{width:i?25:5,height:25,border:i?`1px solid ${at.borderColor}`:"",boxSizing:"border-box",borderRadius:4,margin:2,background:cs(i)}},s)})]},o.key))})]})}),Dn=J(({localStore:e,type:t,getPaint:n,onClickRemover:r,onChangeColor:o,onEvent:i})=>{const s=n();function a(){return s.type==="GRADIENT_LINEAR"||s.type==="GRADIENT_RADIAL"?"gradient":"single"}return c.jsx("div",{style:{fontSize:11,background:"#F5F5F5",borderRadius:4,display:"flex"},children:c.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[c.jsxs("div",{style:{display:"flex",lineHeight:"24px"},children:[c.jsx(Ze,{style:{marginRight:5},mode:a(),value:us(n()),onChange:l=>{o(l)},onOpenChange:l=>{l===!1&&e.currentStep&&L(e)},size:"small",panelRender:(l,{components:{Picker:d}})=>c.jsxs("div",{style:{width:252},children:[c.jsx(fs,{type:t,paint:s,onEvent:i}),c.jsx(d,{})]})}),c.jsxs("div",{children:[s.type==="SOLID"?Ee(s.color).toHex().toUpperCase():null,n().type==="GRADIENT_LINEAR"?"":null,n().type==="GRADIENT_RADIAL"?"":null,n().type==="IMAGE"?"":null,n().type==="GRID"?"":null]})]}),c.jsxs("div",{children:[c.jsx(me,{size:"small",type:"text",onClick:()=>{i({type:"ClickEye"})},children:n().visible?c.jsx(un,{}):c.jsx(fn,{})}),c.jsx(me,{size:"small",type:"text",onClick:()=>{r()},children:c.jsx(jn,{})})]})]})})});function be({localStore:e,node:t,fillInfo:n,instanceChain:r,func:o}){var s,a;const i=Ne(e);t.nodeType==="CANVAS"?i.update({layer:t,data:{fillPaints:o}}):t.nodeType==="TEXT"&&n.type==="segment"?(console.log("segment"),cr({localStore:e,layer:t,step:i,fillPaints:o})):G({localStore:e,node:t,instanceChain:r,data:{fillPaints:o},step:i}),(a=(s=e.props).doAction)==null||a.call(s,i.getNewAction())}const Bs=J(({localStore:e,node:t,instanceChain:n})=>{var l;const r=o();p.useEffect(()=>{},[e.renderCount]);function o(){if(t.nodeType==="CANVAS")return{type:"page",fillPaints:t.fillPaints};if(e.editingText&&t.nodeType==="TEXT"){const{start:u,end:f}=e.selectionInfo.textRange$;if(u!==f){const m=lr({start:u,end:f,textData:t.textData});if(console.log(m),m.length>1)return{type:"mixed",fillPaints:void 0};const{styleID:g}=m[0];if(g!==0){const b=t.textData.styleOverrideTable.find(x=>x.styleID===g);if(b&&b.fillPaints)return{type:"segment",fillPaints:b.fillPaints}}return{type:"segment",fillPaints:t.fillPaints}}if(u===f){const m=t.textData.characterStyleIDs[u-1];if(m&&m>0){const g=t.textData.styleOverrideTable.find(b=>b.styleID===m);if(g&&g.fillPaints)return{type:"segment",fillPaints:g.fillPaints}}}}return{type:"layer",fillPaints:He({localStore:e,layer:t,instanceChain:n}).fillPaints}}function i(d){be({localStore:e,node:t,fillInfo:r,instanceChain:n,func:u=>{u==null||u.splice(d,1)}}),e.renderCount+=1,L(e)}function s({v:d,i:u}){be({localStore:e,node:t,fillInfo:r,func:f=>{Oe({paints:f,i:u,input:Mn({type:f[u].type},d)})},instanceChain:n})}function a({e:d,i:u}){var f,m;if(d.type==="ModifyLinearAngle")be({localStore:e,node:t,fillInfo:r,instanceChain:n,func:g=>{g[u].type==="GRADIENT_LINEAR"&&(g[u].angle=d.angle)}}),L(e);else if(d.type==="ClickEye")be({localStore:e,fillInfo:r,node:t,instanceChain:n,func:g=>{g!=null&&g[u]&&(g[u].visible=!g[u].visible)}}),L(e);else if(d.type==="ChangePaintType"){const{input:g}=d;if(g.type==="GRID"){const b=Ne(e);b.update({layer:t,data:{fillPaints:x=>{x[u]={type:"GRID",size:50,visible:!0}}}}),(m=(f=e.props).doAction)==null||m.call(f,b.getNewAction()),L(e)}else g.type==="SOLID"?(be({localStore:e,node:t,fillInfo:r,func:b=>{Oe({paints:b,i:u,input:g})},instanceChain:n}),L(e)):(g.type==="GRADIENT_LINEAR"||g.type==="GRADIENT_RADIAL")&&(be({localStore:e,node:t,fillInfo:r,func:b=>{Oe({paints:b,i:u,input:g})},instanceChain:n}),L(e))}}return c.jsxs(Ae,{title:"",renderButtons:()=>c.jsx(me,{style:{float:"right"},type:"text",size:"small",onClick:()=>{if(r.type==="mixed"){Ut.warning("");return}be({localStore:e,node:t,fillInfo:r,instanceChain:n,func:d=>{d.push(Xe("#000000"))}})},children:"+"}),children:[r.type==="mixed"?c.jsx("div",{children:""}):null,(l=r.fillPaints)==null?void 0:l.map((d,u)=>c.jsx(K,{children:c.jsx(Dn,{type:"fill",localStore:e,getPaint:()=>d,onChangeColor:f=>{s({v:f,i:u})},onClickRemover:()=>{i(u)},onEvent:f=>{a({e:f,i:u})}})}))]})});function ps({localStore:e}){var n,r;const t=qt(e)||e.props.getCurrentPage();if(t){const o=D(e);zr({localStore:e,layerList:e.selectedNormalLayerList,step:o,parentNode:t}),t.nodeType!=="CANVAS"&&(pe({localStore:e,layer:t,instanceChain:[],step:o}),e.selectedSingleLayer&&Jt({localStore:e,layer:e.selectedSingleLayer,step:o})),(r=(n=e.props).doAction)==null||r.call(n,o.getNewAction()),L(e)}}function gs({localStore:e}){var t,n;if(e.selectedNormalLayerList.length>0){const r=D(e);wr({localStore:e,layerList:e.selectedNormalLayerList,step:r}),(n=(t=e.props).doAction)==null||n.call(t,r.getNewAction()),L(e)}}function hs({localStore:e}){var t,n;if(e.selectedNormalLayerList.length>0){const r=D(e);e.selectedLayerList.forEach(o=>{Er({layer:o,step:r})}),(n=(t=e.props).doAction)==null||n.call(t,r.getNewAction()),L(e)}}function ms({localStore:e}){var n,r,o,i;const t=(r=(n=e.props).getCurrentPage)==null?void 0:r.call(n);if(t){const s=D(e);Fr(e,{page:t,step:s}),(i=(o=e.props).doAction)==null||i.call(o,s.getNewAction()),L(e)}}function X(e){return`https://cdn.jsdelivr.net/gh/assetvoid${e}`}function zs(e){const t=["n","n","e","z","i","v"];return t.reverse(),`http://static.${t.join("")}.com${e}`}const vs={brush:{path:"/images/brush/",count:2}};function Fs(e){const t=[],{count:n,path:r}=vs[e];for(let o=0;o<n;o+=1)t.push({url:X(`${r}${o}.png`)});return t}const ft={"SourceHanSansCN-Regular":{name:"-",url:"https://cdn.jsdelivr.net/gh/wordshub/free-font/assets/font/%E4%B8%AD%E6%96%87/%E6%80%9D%E6%BA%90%E5%AD%97%E4%BD%93%E7%B3%BB%E5%88%97/%E6%80%9D%E6%BA%90%E9%BB%91%E4%BD%93/SourceHanSansCN-Regular.otf",size:8364840},"SourceHanSansCN-Bold":{name:"-",url:"https://cdn.jsdelivr.net/gh/wordshub/free-font/assets/font/%E4%B8%AD%E6%96%87/%E6%80%9D%E6%BA%90%E5%AD%97%E4%BD%93%E7%B3%BB%E5%88%97/%E6%80%9D%E6%BA%90%E9%BB%91%E4%BD%93/SourceHanSansCN-Bold.otf",size:8608184},"OPPOSans-H":{name:"OPPOSans-",url:"https://cdn.jsdelivr.net/gh/wordshub/free-font/assets/font/%E4%B8%AD%E6%96%87/%E5%85%B6%E4%BB%96%E5%AD%97%E4%BD%93/OPPO%20Sans/OPPOSans-H.ttf",size:2219752},AidianFengYaHei:{name:"",url:X("/fonts/AidianFengYaHei.ttf"),size:4126996},"Xiangcui-ZeroHei":{name:"",url:X("/fonts/Xiangcui-ZeroHei.ttf"),size:6940636},"Xiangcui-Wave-Sans":{name:"",url:X("/fonts/Xiangcui-Wave-Sans.ttf"),size:0},DouYuZhuiGuangTi:{name:"",url:X("/fonts/DouYuZhuiGuangTi.ttf"),size:5159720},LogoSCUnboundedSans:{name:"",url:X("/fonts/LogoSCUnboundedSans.otf"),size:2047888},"KingnamypeYuanmoSC-Regular":{name:"",url:X("/fonts/KingnamypeYuanmoSC-Regular.ttf"),size:3114600},MaokenAssortedSans:{name:"",url:X("/fonts/MaokenAssortedSans.otf"),size:10477332},PangMenZhengDaoBiaoTiTi:{name:"",url:"https://cdn.jsdelivr.net/gh/wordshub/free-font/assets/font/%E4%B8%AD%E6%96%87/%E5%BA%9E%E9%97%A8%E6%AD%A3%E9%81%93%E5%AD%97%E4%BD%93%E7%B3%BB%E5%88%97/%E5%BA%9E%E9%97%A8%E6%AD%A3%E9%81%93%E6%A0%87%E9%A2%98%E4%BD%93.ttf",size:3066528},ZiHunBianTaoTi:{name:"",url:X("/fonts/ZiHunBianTaoTi.ttf"),size:2160508},"FontquanXinYiGuanHeiTi-Regular":{name:"",url:X("/fonts/FontquanXinYiGuanHeiTi-Regular.ttf"),size:6493032},ZiZhiQuXiMaiTi:{name:"",url:X("/fonts/ZiZhiQuXiMaiTi.ttf"),size:2704724},"SourceHanSerifCN-Regular":{name:"-",url:X("/fonts/SourceHanSerifCN-Regular.ttf"),size:0},LXGWHeartSerifCHS:{name:"",url:X("/fonts/LXGWHeartSerif.ttf"),size:11107012},JiangChengLvDongYuan:{name:"",url:X("/fonts/JiangChengLvDongYuan.ttf"),size:0},BaoTuXiaoBaiTi:{name:"",url:"https://cdn.jsdelivr.net/gh/wordshub/free-font/assets/font/%E4%B8%AD%E6%96%87/%E5%85%B6%E4%BB%96%E5%AD%97%E4%BD%93/%E5%8C%85%E5%9B%BE%E5%B0%8F%E7%99%BD%E4%BD%93.ttf",size:6227568},HuXiaoBoNanShenTi:{name:"",url:X("/fonts/HuXiaoBoNanShenTi.otf"),size:1615620},DouyinSansBold:{name:"",url:X("/fonts/DouyinSansBold.ttf"),size:1919404},"TaoBaoMaiCaiTi-Regular":{name:"",url:X("/fonts/TaoBaoMaiCaiTi-Regular.otf"),size:2414416},YiPinQiHangTi:{name:"",url:X("/fonts/YiPinQiHangTi.ttf"),size:1853236},YiPinChuangXiangTi:{name:"",url:X("/fonts/YiPinChuangXiangTi.ttf"),size:940188},FeiBoZhengDianTi:{name:"",url:X("/fonts/FeiBoZhengDianTi.ttf"),size:0},PingFangChangAnTi:{name:"",url:X("/fonts/PingFangChangAnTi.ttf"),size:4257804},ZiZhiQuXiMaiXiHuanTi:{name:"",url:X("/fonts/ZiZhiQuXiMaiXiHuanTi.ttf"),size:9487176}};class Gs{constructor({database:t}){this.fontMap={},this.database=t}async ensureFont({fontID:t,Raptor:n,fontProvider:r}){const o=this.fontMap[t];if(o)return o.status==="ready"||o.promise&&await o.promise,o;const{url:i}=ft[t],s=this;async function a(){const f=await s.database.getFont(t);if(f){if(f.blob.size===ft[t].size)return console.log("Get font from DB",t),f.blob.arrayBuffer();await s.database.deleteObject({tableName:"fonts",id:t})}const m=await fetch(i).then(b=>b.blob());return console.log("Downloaded font",t,m,m.type,m.size),await s.database.addObject({tableName:"fonts",obj:{id:t,blob:m}}),await m.arrayBuffer()}const l={name:t,url:i,data:new ArrayBuffer(0),fontMgr:null,typeface:null,status:"loading",promise:a()};this.fontMap[t]=l;const d=await l.promise;r.registerFont(d,t);const u=n.FontMgr.FromData(d);return l.name=(u==null?void 0:u.getFamilyName(0))||"",l.data=d,l.fontMgr=u,l.typeface=n.Typeface.MakeFreeTypeFaceFromData(d),l.status="ready",l}getFontInfo(t){return this.fontMap[t]||null}}function Vs(e){return e}function _s(e){return{fullname:e,family:"",style:"",postscript:""}}function Ws(){return xe.cloneDeep(ft)}function bs(e){if(!e){const n=Xe("#ffffff");return n.color.a=0,n}return typeof e=="string"?Xe(e):{type:"GRADIENT_LINEAR",visible:!0,blendMode:"NORMAL",opacity:1,stops:[{color:Ee(e[0]).toFigmaColor(),position:0},{color:Ee(e[1]).toFigmaColor(),position:1}]}}const Pn={CyberPunk:{name:"CyberPunk",color:"#ffffff",shadowList:[{color:"#33D360",offset:{x:-.05,y:-.05},radius:0,spread:0},{color:"#7B5FEA",offset:{x:.05,y:.05},radius:0,spread:0}]},Violet:{name:"Violet",color:"#ffffff",shadowList:[{color:"#ec3fb0",offset:{x:0,y:.05},radius:0,spread:0}]},BrightMint:{name:"BrightMint",color:["#f7fd7a","#94fc90"],stroke:{color:"#000000",strokeAlign:"OUTSIDE",strokeJoin:"BEVEL",strokeWeight:.03},shadowList:[{color:"#000000",offset:{x:0,y:.05},radius:0,spread:0}]},BrightMint2:{name:"BrightMint2",color:["#83e020","#fffe2d"],stroke:{color:"#000000",strokeAlign:"OUTSIDE",strokeJoin:"ROUND",strokeWeight:.03},shadowList:[{color:"#000000",offset:{x:.05,y:.05},radius:0,spread:0}]},BrightWhite:{name:"BrightWhite",color:"#ffffff",stroke:{color:"#000000",strokeAlign:"OUTSIDE",strokeJoin:"BEVEL",strokeWeight:.03},shadowList:[{color:"#000000",offset:{x:.05,y:.05},radius:0,spread:0}]},Green:{name:"Green",color:"#386a0f",stroke:{color:"#ffffff",strokeAlign:"OUTSIDE",strokeJoin:"ROUND",strokeWeight:.03},shadowList:[{offset:{x:.05,y:.05},spread:0,radius:0,color:"#0d9003"}]},Comic:{name:"",color:"#000000",stroke:{color:"#ffffff",strokeAlign:"OUTSIDE",strokeJoin:"ROUND",strokeWeight:.1},shadowList:[{offset:{x:0,y:0},spread:.05,radius:0,color:"#000000"}]},Pink:{name:"",color:["#ffffff","#f999ae"],stroke:{color:"#000000",strokeAlign:"OUTSIDE",strokeJoin:"MITER",strokeWeight:.03},shadowList:[{color:"#000000",offset:{x:.08,y:.05},radius:0,spread:0}]},Candy:{name:"",color:"#fcea91",stroke:{color:"#e86584",strokeAlign:"OUTSIDE",strokeJoin:"ROUND",strokeWeight:.03},shadowList:[{color:"#000000",offset:{x:0,y:0},radius:0,spread:.06},{color:"#ffffff",offset:{x:0,y:0},radius:0,spread:.04}]},Glitch:{name:"",color:"#ffffff",shadowList:[{color:"#26f4ec",offset:{x:-.05,y:0},radius:0,spread:0},{color:"#fe2a56",offset:{x:.05,y:0},radius:0,spread:0}]},Glow:{name:"",color:"#ffffff",shadowList:[{color:"#54cc06",offset:{x:0,y:0},radius:.08,spread:0}]},GreenDream:{name:"",color:["#eafef2","#84de58"],stroke:{color:"#0a463e",strokeAlign:"OUTSIDE",strokeJoin:"ROUND",strokeWeight:.05},shadowList:[{color:"#9AD5BF",offset:{x:.05,y:.05},radius:0,spread:0}]}};function Xs(){return xe.cloneDeep(Pn)}function Us({layer:e,key:t,step:n}){const{fontSize:r}=e,o=Pn[t];o.color&&n.update({layer:e,data:{fillPaints(i){i.length=0,i.push(bs(o.color))}}}),o.stroke?n.update({layer:e,data:{strokeAlign:o.stroke.strokeAlign,strokeJoin:o.stroke.strokeJoin,strokeWeight:o.stroke.strokeWeight*r,strokePaints(i){i.length=0;const s={type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:Ee(o.stroke.color).toFigmaColor()};i.push(s)}}}):n.update({layer:e,data:{strokePaints(i){i.length=0}}}),o.shadowList.length>0&&n.update({layer:e,data:{effects(i){i.length=0,o.shadowList.forEach(s=>{const a={type:"DROP_SHADOW",visible:!0,blendMode:"NORMAL",offset:{x:s.offset.x*r,y:s.offset.y*r},showShadowBehindNode:!0,radius:s.radius*r,spread:s.spread*r,color:Ee(s.color).toFigmaColor()};i.push(a)})}}})}function qs(){return c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:c.jsx("path",{fillRule:"evenodd",d:"M5 7.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5Zm0 4a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm.5 3.5a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9Z",clipRule:"evenodd"})})}function Ys(){return c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:c.jsx("path",{fillRule:"evenodd",d:"M5 7.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5Zm3 4a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5ZM7.5 15a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9Z",clipRule:"evenodd"})})}function Zs(){return c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:c.jsx("path",{fillRule:"evenodd",d:"M19 7.5a.5.5 0 0 0-.5-.5h-13a.5.5 0 0 0 0 1h13a.5.5 0 0 0 .5-.5Zm0 4a.5.5 0 0 0-.5-.5h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 .5-.5Zm-.5 3.5a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1h9Z",clipRule:"evenodd"})})}function xs(){return c.jsx("svg",{className:"svg",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:c.jsx("path",{fill:"#000",fillOpacity:"1",fillRule:"nonzero",stroke:"none",d:"m5 12 3.354-3.354.707.708L6.914 11.5h9.879l-2.147-2.146.708-.708L18.707 12l-3.353 3.354-.708-.707 2.147-2.147H6.914l2.147 2.146-.707.708L5 12z"})})}function Cs(){return c.jsx("svg",{className:"svg",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10",viewBox:"0 0 14 10",children:c.jsx("path",{fill:"#000",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M0 0h14v1H0V0zm0 4h14v1H0V4zm9 4H0v1h9V8z"})})}function ys(){return c.jsx("svg",{className:"svg",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",children:c.jsx("path",{fill:"#000",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M11 1H1v10h10V1zM1 0H0v12h12V0H1z"})})}const $s="_CommonSubtleButton_keqof_1",Es={CommonSubtleButton:$s},zt=J(({onClick:e,style:t,children:n,active:r})=>c.jsx("div",{className:Es.CommonSubtleButton,style:{display:"inline-block",padding:"2px 6px",borderRadius:3,boxSizing:"border-box",cursor:"pointer",fontSize:12,lineHeight:"20px",...t,background:r?"#e8eaec":""},onClick:e,children:n})),Ks=J(({localStore:e,layer:t,instanceChain:n})=>{p.useEffect(()=>{},[e.renderCount]);const r=He({localStore:e,layer:t,instanceChain:n}),o=ht(()=>({strokeJoinMap:{ROUND:{name:""},BEVEL:{name:""},MITER:{name:""}},strokeAlignMap:{INSIDE:{name:""},CENTER:{name:""},OUTSIDE:{name:""}}}));function i({e:s,i:a}){var l,d,u,f,m,g;if(s.type==="ClickEye"){const b=D(e);G({localStore:e,node:t,instanceChain:n,step:b,data:{strokePaints(x){const y=x[a];(y.type==="SOLID"||y.type==="GRADIENT_LINEAR")&&(y.visible=!y.visible)}}}),(d=(l=e.props).doAction)==null||d.call(l,b.getNewAction()),L(e)}else if(s.type==="ChangePaintType"){const{input:b}=s;if(b.type==="SOLID"){const x=Ne(e);G({localStore:e,node:t,instanceChain:n,step:x,data:{strokePaints(y){Oe({paints:y,i:a,input:b})}}}),(f=(u=e.props).doAction)==null||f.call(u,x.getNewAction())}else if(b.type==="GRADIENT_LINEAR"||b.type==="GRADIENT_RADIAL"){const x=Ne(e);G({localStore:e,node:t,instanceChain:n,step:x,data:{strokePaints(y){Oe({paints:y,i:a,input:b})}}}),(g=(m=e.props).doAction)==null||g.call(m,x.getNewAction())}}}return c.jsxs(Ae,{title:"",renderButtons:()=>c.jsx(me,{style:{float:"right"},type:"text",size:"small",onClick:()=>{var l,d;const s=D(e),a=r.strokeGeometry.length;G({localStore:e,node:t,instanceChain:n,data:{strokeGeometry(u){u.push({windingRule:"NONZERO",styleID:a,commands:[]})},strokePaints(u){u.push(Xe("#000000"))}},step:s}),(d=(l=e.props).doAction)==null||d.call(l,s.getNewAction()),L(e)},children:"+"}),children:[r.strokePaints.map((s,a)=>c.jsx(K,{children:c.jsx(Dn,{type:"stroke",localStore:e,getPaint:()=>s,onEvent:l=>{i({e:l,i:a})},onChangeColor:l=>{var u,f;const d=Ne(e);G({localStore:e,node:t,instanceChain:n,step:d,data:{strokePaints(m){Oe({paints:m,i:a,input:Mn({type:m[a].type},l)})}}}),(f=(u=e.props).doAction)==null||f.call(u,d.getNewAction())},onClickRemover:()=>{var d,u;const l=D(e);G({localStore:e,node:t,instanceChain:n,step:l,data:{strokeGeometry(f){f.splice(a,1)},strokePaints(f){f.splice(a,1)}}}),(u=(d=e.props).doAction)==null||u.call(d,l.getNewAction()),L(e)}})})),r.strokePaints.length>0?c.jsxs("div",{children:[c.jsxs(K,{children:[c.jsx(Ye,{style:{width:100},optionMap:o.strokeAlignMap,value:r.strokeAlign,onSelect:({key:s})=>{var l,d;const a=D(e);G({localStore:e,node:t,instanceChain:n,step:a,data:{strokeAlign:s}}),(d=(l=e.props).doAction)==null||d.call(l,a.getNewAction()),L(e)}}),c.jsx(me,{style:{display:"none"},size:"small",onClick:()=>{var a,l;const s=D(e);G({localStore:e,node:t,instanceChain:n,step:s,data:{dashPattern:[5,5]}}),(l=(a=e.props).doAction)==null||l.call(a,s.getNewAction()),L(e)},children:`${r.dashPattern[0]},${r.dashPattern[1]}`})]}),c.jsx(K,{children:c.jsx(Ye,{style:{width:100},optionMap:o.strokeJoinMap,onSelect:({key:s})=>{var l,d;const a=D(e);G({localStore:e,node:t,instanceChain:n,step:a,data:{strokeJoin:s}}),(d=(l=e.props).doAction)==null||d.call(l,a.getNewAction()),L(e)},value:r.strokeJoin})}),c.jsx(K,{children:c.jsx(ie,{addonBefore:"",value:r.strokeWeight,toFixed:1,onBlur:s=>{var l,d;const a=D(e);G({localStore:e,node:t,instanceChain:n,step:a,data:{strokeWeight:s}}),(d=(l=e.props).doAction)==null||d.call(l,a.getNewAction()),L(e)}})})]}):null]})}),ws=J(({localStore:e,layer:t,instanceChain:n,i:r,effect:o})=>c.jsxs(Ae,{children:[c.jsx(K,{children:c.jsxs(ko,{gutter:10,children:[c.jsx(Rt,{span:12,children:c.jsx(ie,{addonBefore:"",value:o.spread,toFixed:1,onBlur:i=>{var a,l;const s=D(e);G({localStore:e,node:t,instanceChain:n,data:{effects(d){d[r].spread=Number(i)}},step:s}),(l=(a=e.props).doAction)==null||l.call(a,s.getNewAction()),L(e)}})}),c.jsx(Rt,{span:12,children:c.jsx(ie,{addonBefore:"",value:o.radius,toFixed:1,onBlur:i=>{var a,l;const s=D(e);G({localStore:e,node:t,instanceChain:n,data:{effects(d){d[r].radius=Number(i)}},step:s}),(l=(a=e.props).doAction)==null||l.call(a,s.getNewAction()),L(e)}})})]})}),c.jsxs(K,{negativeMargin:!0,style:{display:"flex"},children:[c.jsx(oe,{children:c.jsx(ie,{addonBefore:"",value:o.offset.x,toFixed:1,onBlur:i=>{var a,l;const s=D(e);G({localStore:e,node:t,instanceChain:n,data:{effects(d){d[r].offset.x=Number(i)}},step:s}),(l=(a=e.props).doAction)==null||l.call(a,s.getNewAction()),L(e)}})}),c.jsx(oe,{children:c.jsx(ie,{addonBefore:"",value:o.offset.y,toFixed:1,onBlur:i=>{var a,l;const s=D(e);G({localStore:e,node:t,instanceChain:n,data:{effects(d){d[r].offset.y=Number(i)}},step:s}),(l=(a=e.props).doAction)==null||l.call(a,s.getNewAction()),L(e)}})})]}),c.jsx(K,{children:c.jsx(Ze,{value:dt(o.color),onChange:i=>{var a,l;const s=Ne(e);G({localStore:e,node:t,instanceChain:n,data:{effects(d){d[r].color=ut(i)}},step:s}),(l=(a=e.props).doAction)==null||l.call(a,s.getNewAction())},onOpenChange:i=>{i===!1&&e.currentStep&&L(e)}})})]})),As=J(({localStore:e,layer:t,instanceChain:n,i:r,effect:o})=>c.jsxs("div",{children:[c.jsxs(Ae,{children:[c.jsx(zt,{active:o.type==="DROP_SHADOW",onClick:()=>{var s,a;const i=D(e);i.update({layer:t,data:{effects(l){l[r]&&(l[r].type="DROP_SHADOW")}}}),(a=(s=e.props).doAction)==null||a.call(s,i.getNewAction()),L(e)},children:""}),c.jsx(zt,{active:o.type==="FOREGROUND_BLUR",onClick:()=>{var s,a;const i=D(e);i.update({layer:t,data:{effects(l){l[r]&&(l[r].type="FOREGROUND_BLUR")}}}),(a=(s=e.props).doAction)==null||a.call(s,i.getNewAction()),L(e)},children:""})]}),c.jsxs("div",{children:[o.type==="DROP_SHADOW"?c.jsx(ws,{localStore:e,layer:t,instanceChain:n,i:r,effect:o}):null,o.type==="FOREGROUND_BLUR"?c.jsx(Ae,{children:c.jsx(K,{children:c.jsx(ie,{addonBefore:"",value:o.radius,toFixed:1,onBlur:i=>{var a,l;const s=D(e);G({localStore:e,node:t,instanceChain:n,data:{effects(d){d[r].radius=Number(i)}},step:s}),(l=(a=e.props).doAction)==null||l.call(a,s.getNewAction()),L(e)}})})}):null]})]})),Js=J(({localStore:e,layer:t,instanceChain:n})=>{var o;const r=He({localStore:e,layer:t,instanceChain:n});return c.jsx(Ae,{title:"",renderButtons:()=>c.jsx(me,{style:{float:"right",cursor:"pointer"},type:"text",size:"small",onClick:()=>{var s,a;const i=D(e);G({localStore:e,node:t,instanceChain:n,data:{effects(l){l.push({type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:1},offset:{x:0,y:4},spread:0,radius:4,visible:!0,blendMode:"NORMAL",showShadowBehindNode:!0})}},step:i}),(a=(s=e.props).doAction)==null||a.call(s,i.getNewAction()),L(e)},children:"+"}),children:c.jsx("div",{style:{},children:(o=r.effects)==null?void 0:o.map((i,s)=>c.jsx(De,{styles:{body:{padding:0,width:230}},trigger:"click",content:c.jsx(As,{localStore:e,layer:t,instanceChain:n,i:s,effect:i}),children:c.jsx("div",{children:c.jsx(K,{children:c.jsxs("div",{style:{background:"#F5F5F5",borderRadius:4,display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[c.jsx("div",{style:{fontSize:11,lineHeight:"24px"},children:c.jsxs("div",{style:{padding:"0 7px"},children:[i.type==="DROP_SHADOW"?"":"",i.type==="FOREGROUND_BLUR"?"":""]})}),c.jsxs("div",{children:[c.jsx(me,{size:"small",type:"text",onClick:a=>{var d,u;a.stopPropagation();const l=D(e);G({localStore:e,node:t,instanceChain:n,data:{effects(f){f[s].visible=!f[s].visible}},step:l}),(u=(d=e.props).doAction)==null||u.call(d,l.getNewAction()),L(e)},children:i.visible?c.jsx(un,{}):c.jsx(fn,{})}),c.jsx(me,{size:"small",type:"text",onClick:a=>{var d,u;a.stopPropagation();const l=D(e);G({localStore:e,node:t,instanceChain:n,data:{effects(f){f.splice(s,1)}},step:l}),(u=(d=e.props).doAction)==null||u.call(d,l.getNewAction()),L(e)},children:c.jsx(jn,{})})]})]})})})}))})})}),Is=J(({localStore:e,layer:t,instanceChain:n})=>{const r=He({localStore:e,layer:t,instanceChain:n});p.useEffect(()=>{},[e.renderCount]);function o(){return[{h:"MIN",v:"MIN"},{h:"CENTER",v:"MIN"},{h:"MAX",v:"MIN"},{h:"MIN",v:"CENTER"},{h:"CENTER",v:"CENTER"},{h:"MAX",v:"CENTER"},{h:"MIN",v:"MAX"},{h:"CENTER",v:"MAX"},{h:"MAX",v:"MAX"}]}return c.jsx("div",{children:r.stackPrimaryAlignItems==="SPACE_EVENLY"?c.jsx("div",{style:{display:"flex",flexDirection:r.stackMode==="HORIZONTAL"?"column":"row"},children:["MIN","CENTER","MAX"].map(i=>c.jsx("div",{style:{width:r.stackMode==="HORIZONTAL"?58:18,height:r.stackMode==="HORIZONTAL"?18:58,margin:1,background:r.stackCounterAlignItems===i?e.options.layerOutlineColor:"#d9d9d9",borderRadius:4},onClick:()=>{const s=D(e);Yr({localStore:e,layer:t,instanceChain:n,step:s,data:{stackCounterAlignItems:i}}),L(e)}},i))}):c.jsx("div",{style:{display:"flex",width:65,flexWrap:"wrap"},children:o().map((i,s)=>c.jsx("div",{style:{width:18,height:18,margin:1,borderRadius:4,flexShrink:0,background:qr(r)===i.h&&Ur(r)===i.v?e.options.layerOutlineColor:"#d9d9d9"},onClick:()=>{const a=D(e);Zr({localStore:e,layer:t,instanceChain:n,step:a,horizontal:i.h,vertical:i.v}),L(e)}},s))})})}),Rs=J(({localStore:e,layer:t,instanceChain:n})=>{p.useEffect(()=>{},[e.renderCount]);const r={Fixed:"",Fill:"",Hug:""},o={Fixed:"",Fill:"",Hug:""},i=dr({localStore:e,layer:t,instanceChain:n}),s=ur({localStore:e,layer:t,instanceChain:n}),a=fr(e,t,n);function l(){return["Fixed","Fill","Hug"].map(f=>a!=null&&a[f]?c.jsx("div",{onClick:()=>{qe({localStore:e,layer:t,instanceChain:n,size:{value:f}})},style:{fontWeight:i===f?"bold":""},children:r[f]}):null)}function d(){return["Fixed","Fill","Hug"].map(f=>a!=null&&a[f]?c.jsx("div",{onClick:()=>{var b,x;const m=D(e),g=st(e,t);Yt({localStore:e,layer:t,size:f,containerStackMode:(g==null?void 0:g.stackMode)||"NONE",step:m,instanceChain:n}),pe({localStore:e,layer:t,instanceChain:n,step:m}),(x=(b=e.props).doAction)==null||x.call(b,m.getNewAction()),Zt(e,t),L(e)},style:{fontWeight:s===f?"bold":""},children:o[f]}):null)}return c.jsxs(K,{negativeMargin:!0,style:{display:"flex",fontSize:12,justifyContent:"space-between"},children:[c.jsxs(oe,{children:[""," ",c.jsx(De,{placement:"bottom",content:c.jsx("div",{children:l()}),children:c.jsx("span",{children:r[i]})})]}),c.jsxs(oe,{children:[""," ",c.jsx(De,{placement:"bottom",content:c.jsx("div",{children:d()}),children:c.jsx("span",{children:o[s]})})]})]})}),Qs=J(({localStore:e,layer:t,instanceChain:n})=>{p.useEffect(()=>{},[e.renderCount]);const r=He({localStore:e,layer:t,instanceChain:n}),o=ht(()=>({stackSpacingOptionMap:{Auto:{name:""},InputNumber:{name:""}},clipContentOptionMap:{Yes:{name:""},No:{name:""}}}));return c.jsxs(Ae,{title:"",renderButtons:()=>null,children:[c.jsxs(K,{negativeMargin:!0,style:{display:"flex"},children:[c.jsx(oe,{children:c.jsx(ie,{addonBefore:"",value:t.width,toFixed:1,onBlur:i=>{i!==t.width&&qe({localStore:e,layer:t,instanceChain:n,size:i})}})}),c.jsx(oe,{children:c.jsx(ie,{addonBefore:"",value:t.height,toFixed:1,onBlur:i=>{var s,a;if(i!==t.height){t.nodeType==="TEXT"&&Ut.warning("");const l=D(e);Kt({localStore:e,height:i,step:l}),(a=(s=e.props).doAction)==null||a.call(s,l.getNewAction()),L(e)}}})})]}),t.nodeType==="TEXT"?c.jsx(Ns,{localStore:e,layer:t}):null,c.jsx(Rs,{localStore:e,layer:t,instanceChain:n}),t.nodeType==="FRAME"||t.nodeType==="INSTANCE"?c.jsxs("div",{style:{fontSize:11},children:[c.jsxs(K,{negativeMargin:!0,style:{display:"flex"},children:[c.jsx(oe,{style:{flex:1},children:c.jsxs("div",{style:{display:"flex"},children:[c.jsx("div",{style:{fontSize:11,lineHeight:"24px",width:24,height:24,background:r.stackMode==="NONE"?"#e6e6e6":"",textAlign:"center",borderRadius:4,cursor:t.nodeType==="INSTANCE"?"not-allowed":""},onClick:()=>{const i=D(e);tt(e,t,"NONE",i),L(e)},children:c.jsx(pr,{})}),c.jsx("div",{style:{fontSize:11,lineHeight:"24px",width:24,height:24,background:t.stackMode==="VERTICAL"?"#e6e6e6":"",textAlign:"center",borderRadius:4,cursor:t.nodeType==="INSTANCE"?"not-allowed":""},onClick:()=>{if(t.nodeType==="INSTANCE"||e.props.getSelectionInfo().phantom)return;const i=D(e);tt(e,t,"VERTICAL",i),L(e)},children:""}),c.jsx("div",{style:{fontSize:11,lineHeight:"24px",width:24,height:24,textAlign:"center",background:t.stackMode==="HORIZONTAL"?"#e6e6e6":"",borderRadius:4,cursor:t.nodeType==="INSTANCE"?"not-allowed":""},onClick:()=>{if(t.nodeType==="INSTANCE"||e.props.getSelectionInfo().phantom)return;const i=D(e);tt(e,t,"HORIZONTAL",i),L(e)},children:""})]})}),c.jsx(oe,{style:{width:"55%"},children:c.jsx(Ye,{style:{width:"100%"},prefix:"",optionMap:o.clipContentOptionMap,value:t.frameMaskDisabled?"No":"Yes",onSelect:({key:i})=>{var a,l;const s=D(e);G({localStore:e,node:t,instanceChain:n,data:{frameMaskDisabled:i!=="Yes"},step:s}),(l=(a=e.props).doAction)==null||l.call(a,s.getNewAction()),L(e)}})})]}),c.jsxs("div",{style:{display:r.stackMode==="NONE"?"none":""},children:[c.jsx(K,{children:c.jsx(Is,{localStore:e,layer:t,instanceChain:n})}),c.jsxs(K,{negativeMargin:!0,style:{display:"flex"},children:[c.jsx(oe,{style:{flex:1},children:c.jsx(Ye,{style:{width:"100%"},prefix:"",optionMap:o.stackSpacingOptionMap,value:r.stackPrimaryAlignItems==="SPACE_EVENLY"?"Auto":"InputNumber",onSelect:({key:i})=>{const s=D(e);Et({localStore:e,layer:t,instanceChain:n,value:i==="InputNumber"?r.stackSpacing||0:"SPACE_EVENLY",step:s}),L(e)}})}),c.jsx(oe,{style:{width:"50%"},children:c.jsx(ie,{addonBefore:"",value:t.stackSpacing||0,toFixed:1,onBlur:i=>{const s=D(e);Et({localStore:e,layer:t,instanceChain:n,value:i,step:s}),L(e)}})})]}),c.jsxs(K,{negativeMargin:!0,style:{display:"flex"},children:[c.jsx(oe,{children:c.jsx(ie,{addonBefore:"",value:r.stackPaddingLeft||0,toFixed:1,onBlur:i=>{var a,l;const s=D(e);G({localStore:e,node:t,instanceChain:n,data:{stackPaddingLeft:i,stackPaddingRight:i},step:s}),pe({localStore:e,layer:t,instanceChain:n,step:s}),(l=(a=e.props).doAction)==null||l.call(a,s.getNewAction()),L(e)}})}),c.jsx(oe,{children:c.jsx(ie,{addonBefore:"",value:r.stackPaddingTop||0,toFixed:1,onBlur:i=>{var a,l;const s=D(e);G({localStore:e,node:t,instanceChain:n,data:{stackPaddingTop:i,stackPaddingBottom:i},step:s}),pe({localStore:e,layer:t,instanceChain:n,step:s}),(l=(a=e.props).doAction)==null||l.call(a,s.getNewAction()),L(e)}})})]})]})]}):null]})}),Ns=J(({localStore:e,layer:t})=>{const n="#e6e6e6",r=qt(e);return c.jsx("div",{children:c.jsx(K,{children:c.jsxs("div",{style:{display:"flex"},children:[c.jsx("span",{style:{display:"inline-block",width:24,height:24,lineHeight:"24px",background:t.textAutoResize==="WIDTH_AND_HEIGHT"?n:"",borderRadius:2},onClick:()=>{qe({localStore:e,layer:t,instanceChain:[],size:{value:"WIDTH_AND_HEIGHT"}})},children:c.jsx(xs,{})}),c.jsx("span",{style:{display:"inline-block",width:24,height:24,lineHeight:"24px",textAlign:"center",background:t.textAutoResize==="HEIGHT"?n:"",borderRadius:2},onClick:()=>{qe({localStore:e,layer:t,instanceChain:[],size:{value:"HEIGHT"}})},children:c.jsx(Cs,{})}),c.jsx("span",{style:{display:"none",width:24,height:24,lineHeight:"24px",textAlign:"center",background:t.textAutoResize==="NONE"?n:"",borderRadius:2},onClick:()=>{const o=D(e);Yt({localStore:e,layer:t,size:"Fixed",containerStackMode:(r==null?void 0:r.stackMode)||"NONE",instanceChain:[],step:o}),Ar(e,t,"NONE",o),Zt(e,t),L(e)},children:c.jsx(ys,{})})]})})})}),Os={raptor:"https://cdn.jsdelivr.net/npm/canvaskit-wasm@0.39.1/bin/full/",onnx:"https://cdn.jsdelivr.net/npm/onnxruntime-web@1.20.1/dist/"};function ea(e){return Os[e]}const Ft=J(({style:e,children:t,onClick:n})=>c.jsx("div",{style:e,onTouchStart:r=>{r.stopPropagation()},onPointerDown:r=>{r.stopPropagation()},onTouchEnd:r=>{r.stopPropagation()},onPointerUp:r=>{r.stopPropagation()},onClick:n,children:t})),Z=J(({vIf:e,children:t})=>c.jsx(Ir,{vIf:e,style:{padding:5,borderRadius:5,cursor:"pointer"},hover:{background:at.activeBackgroundColor},children:t})),ta=J(({localStore:e,designStore:t})=>{var s,a,l,d,u;console.log({menuShow:e.menuShow});const n=ht(()=>({get allLocked(){let f=!0;return e.selectedNormalLayerList.forEach(m=>{m.isLocked===!1&&(f=!1)}),f},get parentLayer(){const f=e.selectedSingleLayer;if(f)return e.getLayer(f.parentId)},get parentNode(){return this.parentLayer||e.props.getCurrentPage()},get currentPosition(){let f=0;return e.interceptionInfo.list.forEach((m,g)=>{m.type==="selected"&&(f=g)}),f},get isFixedByLayout(){var m;const f=e.selectedSingleLayer;return!!(f&&((m=this.parentLayer)==null?void 0:m.nodeType)==="FRAME"&&wt(this.parentLayer)!=="NONE"&&f.stackPositioning!=="ABSOLUTE")}})),r=e.selectedSingleLayer,o=5;let i=[];return r&&(i=n.parentNode.children.filter(f=>f.nodeType==="FRAME"&&f.id!==r.id)),p.useEffect(()=>{rt({localStore:e,parentNode:n.parentNode})},[e.getSelectedLayerIdList().join(",")]),c.jsx("div",{className:"CommonMenu",style:{position:"fixed",left:e.menuX,top:e.menuY},onPointerDown:f=>{f.stopPropagation()},onPointerUp:f=>{f.stopPropagation()},onContextMenu:f=>{f.preventDefault()},children:e.menuShow?c.jsx(De,{styles:{body:{padding:"5px 5px"}},content:c.jsxs("div",{style:{overflow:"hidden",width:150},children:[c.jsx(Z,{vIf:e.selectedNormalLayerList.length===0,children:""}),c.jsx(Z,{vIf:((s=e.selectedSingleLayer)==null?void 0:s.nodeType)==="FRAME"&&!1,children:c.jsx("div",{onClick:f=>{Wr(e)},children:"Create component"})}),c.jsx(Z,{vIf:((a=e.selectedSingleLayer)==null?void 0:a.nodeType)==="SYMBOL",children:c.jsx("div",{onClick:f=>{Xr(e)},children:"Create instance"})}),c.jsx(Z,{vIf:e.selectedNormalLayerList.length>0,children:c.jsxs("div",{onClick:()=>{ps({localStore:e}),e.menuShow=!1},children:[c.jsx(Li,{style:{marginRight:o}}),""]})}),c.jsx(Z,{vIf:e.selectedNormalLayerList.length>1&&!1,children:c.jsxs("div",{onClick:()=>{gr(e),e.menuShow=!1},children:[c.jsx(Ht,{style:{marginRight:o}}),""]})}),c.jsx(Z,{vIf:((l=e.selectedSingleLayer)==null?void 0:l.nodeType)==="GROUP"&&!1,children:c.jsxs("div",{onClick:()=>{hr({localStore:e}),e.menuShow=!1},children:[c.jsx(Fi,{style:{marginRight:o}}),""]})}),c.jsx(Z,{vIf:e.selectedLayerList.length>0&&n.isFixedByLayout===!1,children:c.jsxs(Ft,{onClick:()=>{var m,g;const f=D(e);At({localStore:e,type:"overNext",parentNode:n.parentNode,step:f}),n.parentNode.nodeType!=="CANVAS"&&pe({localStore:e,layer:n.parentNode,instanceChain:[],step:f}),(g=(m=e.props).doAction)==null||g.call(m,f.getNewAction()),L(e,"Change order of layers"),rt({localStore:e,parentNode:n.parentNode})},children:[c.jsx($o,{style:{marginRight:o}}),`(${n.currentPosition+1}/${e.interceptionInfo.list.length})`]})}),c.jsx(Z,{vIf:e.selectedLayerList.length>0&&n.isFixedByLayout===!1,children:c.jsxs(Ft,{onClick:()=>{var m,g;const f=D(e);At({localStore:e,type:"belowPrev",parentNode:n.parentNode,step:f}),n.parentNode.nodeType!=="CANVAS"&&pe({localStore:e,layer:n.parentNode,instanceChain:[],step:f}),(g=(m=e.props).doAction)==null||g.call(m,f.getNewAction()),L(e,"Change order of layers"),rt({localStore:e,parentNode:n.parentNode})},children:[c.jsx(ss,{style:{marginRight:o}}),`(${n.currentPosition+1}/${e.interceptionInfo.list.length})`]})}),c.jsx(Z,{vIf:((d=n.parentLayer)==null?void 0:d.nodeType)==="FRAME",children:c.jsxs("div",{onClick:()=>{var f,m;if(t){const g=mr(e);if(g&&n.parentLayer&&r){const b=D(e),{parentLayer:x}=n;vr({localStore:e,context:g,currentRoom:n.parentLayer,singleLayer:r,step:b}),pe({localStore:e,layer:x,instanceChain:[],step:b}),(m=(f=e.props).doAction)==null||m.call(f,b.getNewAction()),L(e)}}},children:[c.jsx(_i,{style:{marginRight:o}}),""]})}),c.jsx(Z,{vIf:i.length>0,children:c.jsx("div",{onClick:f=>{f.stopPropagation(),e.focusedOverlay="FrameSelector"},children:c.jsxs("div",{children:[c.jsx(Ji,{style:{marginRight:o}}),""]})})}),c.jsx(Z,{vIf:(r==null?void 0:r.nodeType)==="TEXT",children:c.jsxs("div",{onClick:()=>{(r==null?void 0:r.nodeType)==="TEXT"&&br({localStore:e,layer:r}),e.menuShow=!1},children:[c.jsx(Ve,{style:{marginRight:o}}),""]})}),c.jsx(Z,{vIf:((u=e.selectedSingleLayer)==null?void 0:u.nodeType)==="IMAGE",children:c.jsxs("div",{onClick:()=>{e.menuShow=!1},children:[c.jsx(Ve,{style:{marginRight:o}}),""]})}),c.jsx(Z,{vIf:((r==null?void 0:r.nodeType)==="IMAGE"||(r==null?void 0:r.nodeType)==="ROUNDED_RECTANGLE"||(r==null?void 0:r.nodeType)==="FRAME")&&!!r.image,children:c.jsxs("div",{onClick:()=>{Rr(e),e.menuShow=!1},children:[c.jsx(Ve,{style:{marginRight:o}}),""]})}),c.jsx(Z,{vIf:(r==null?void 0:r.nodeType)==="FRAME"&&wt(r)==="NONE",children:c.jsxs("div",{onClick:()=>{r&&r.nodeType==="FRAME"&&xr({localStore:e,frame:r})},children:[c.jsx(Ht,{style:{marginRight:o}}),""]})}),c.jsx(Z,{vIf:(r==null?void 0:r.nodeType)==="FRAME"&&!!r.image,children:c.jsxs("div",{onClick:()=>{var f,m;if(r){const g=D(e);G({localStore:e,node:r,instanceChain:[],data:{image:void 0},step:g}),(m=(f=e.props).doAction)==null||m.call(f,g.getNewAction()),L(e)}e.menuShow=!1},children:[c.jsx(Ve,{style:{marginRight:o}}),""]})}),c.jsx(Z,{vIf:e.selectedNormalLayerList.length>0,children:n.allLocked?c.jsxs("div",{onClick:()=>{hs({localStore:e}),e.menuShow=!1},children:[c.jsx(rs,{style:{marginRight:o}}),""]}):c.jsxs("div",{onClick:()=>{gs({localStore:e}),e.menuShow=!1},children:[c.jsx(Ui,{style:{marginRight:o}}),""]})}),c.jsx(Z,{vIf:e.selectedNormalLayerList.length>0,children:c.jsxs("div",{onClick:()=>{ms({localStore:e}),e.menuShow=!1},children:[c.jsx(ki,{style:{marginRight:o}}),""]})})]}),open:!0,placement:"right",arrow:!1,children:c.jsx("div",{})}):null})});export{qs as A,ys as B,Ye as C,Vr as D,Js as E,Bs as F,Gr as G,Xr as H,Qs as L,Z as M,Li as R,Ks as S,ie as a,_s as b,Sn as c,zt as d,Us as e,Ys as f,po as g,Zs as h,Vs as i,ds as j,Fs as k,ps as l,ki as m,ea as n,Gs as o,Cn as p,Ft as q,V as r,Xs as s,Ws as t,bs as u,zs as v,Pn as w,ta as x,xs as y,Cs as z};
