const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pixi-legacy-DLpdb3YW.js","assets/index-B0I6uHAu.js","assets/index-BpkY95s5.js","assets/index-CsSXPTiX.js","assets/index-Ctga1AvS.js","assets/index-BKNjMPK8.js"])))=>i.map(i=>d[i]);
import{o as We,m as Is,a as mt,f as u2,r as Nu}from"./index-CsSXPTiX.js";import{r as re,c as ma,g as Xo,f as c2,R as Xt,b as Gp,d as hd,a as l2,e as f2}from"./index-BpkY95s5.js";function jI(t,e){return re.useState(function(){return We(t(),e,{autoBind:!0})})[0]}const d2="modulepreload",h2=function(t){return"https://cdn.jsdelivr.net/gh/assetvoid/static-0/1747734259/"+t},Up={},rm=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(n.map(h=>{if(h=h2(h),h in Up)return;Up[h]=!0;const p=h.endsWith(".css"),b=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${b}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":d2,p||(w.as="script"),w.crossOrigin="",w.href=h,l&&w.setAttribute("nonce",l),document.head.appendChild(w),p)return new Promise((E,T)=>{w.addEventListener("load",E),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function u(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return o.then(c=>{for(const l of c||[])l.status==="rejected"&&u(l.reason);return e().catch(u)})};var rc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */rc.exports;(function(t,e){(function(){var n,r="4.17.21",o=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",l="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",p=500,b="__lodash_placeholder__",w=1,E=2,T=4,L=1,F=2,B=1,H=2,Q=4,W=8,se=16,fe=32,oe=64,ye=128,Te=256,O=512,K=30,V="...",ie=800,ce=16,ee=1,Se=2,j=3,te=1/0,ge=9007199254740991,Me=17976931348623157e292,Fe=NaN,Pe=4294967295,Oe=Pe-1,ot=Pe>>>1,it=[["ary",ye],["bind",B],["bindKey",H],["curry",W],["curryRight",se],["flip",O],["partial",fe],["partialRight",oe],["rearg",Te]],Ke="[object Arguments]",yt="[object Array]",Nt="[object AsyncFunction]",In="[object Boolean]",an="[object Date]",pn="[object DOMException]",Un="[object Error]",Ut="[object Function]",wn="[object GeneratorFunction]",Wt="[object Map]",En="[object Number]",Zt="[object Null]",jt="[object Object]",Wn="[object Promise]",yr="[object Proxy]",gn="[object RegExp]",at="[object Set]",Ct="[object String]",en="[object Symbol]",xt="[object Undefined]",Dt="[object WeakMap]",vt="[object WeakSet]",vi="[object ArrayBuffer]",bn="[object DataView]",wi="[object Float32Array]",bi="[object Float64Array]",Yi="[object Int8Array]",Ki="[object Int16Array]",Qi="[object Int32Array]",qi="[object Uint8Array]",Wr="[object Uint8ClampedArray]",xi="[object Uint16Array]",Hr="[object Uint32Array]",Si=/\b__p \+= '';/g,ka=/\b(__p \+=) '' \+/g,Ji=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ni=/&(?:amp|lt|gt|quot|#39);/g,vr=/[&<>"']/g,Qo=RegExp(ni.source),Zi=RegExp(vr.source),ri=/<%-([\s\S]+?)%>/g,ii=/<%([\s\S]+?)%>/g,eo=/<%=([\s\S]+?)%>/g,Ei=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oi=/^\w*$/,ai=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,to=/[\\^$.*+?()[\]{}|]/g,ar=RegExp(to.source),Yt=/^\s+/,qo=/\s/,mn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Kt=/\{\n\/\* \[wrapped with (.+)\] \*/,tn=/,? & /,An=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kn=/[()=,{}\[\]\/\s]/,zr=/\\(\\)?/g,Jo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_n=/\w*$/,Ai=/^[-+]0x[0-9a-f]+$/i,Rn=/^0b[01]+$/i,Hn=/^\[object .+?Constructor\]$/,Ra=/^0o[0-7]+$/i,_i=/^(?:0|[1-9]\d*)$/,Qn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zo=/($^)/,Xc=/['\n\r\u2028\u2029\\]/g,Fn="\\ud800-\\udfff",sr="\\u0300-\\u036f",Ws="\\ufe20-\\ufe2f",Yc="\\u20d0-\\u20ff",Hs=sr+Ws+Yc,zs="\\u2700-\\u27bf",js="a-z\\xdf-\\xf6\\xf8-\\xff",Kc="\\xac\\xb1\\xd7\\xf7",Qc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",qc="\\u2000-\\u206f",ea=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Eo="A-Z\\xc0-\\xd6\\xd8-\\xde",Oa="\\ufe0e\\ufe0f",Vs=Kc+Qc+qc+ea,Na="['’]",Xs="["+Fn+"]",Ys="["+Vs+"]",Ao="["+Hs+"]",Ks="\\d+",Jc="["+zs+"]",Qs="["+js+"]",$a="[^"+Fn+Vs+Ks+zs+js+Eo+"]",no="\\ud83c[\\udffb-\\udfff]",wr="(?:"+Ao+"|"+no+")",_o="[^"+Fn+"]",Ci="(?:\\ud83c[\\udde6-\\uddff]){2}",zn="[\\ud800-\\udbff][\\udc00-\\udfff]",Cn="["+Eo+"]",Co="\\u200d",br="(?:"+Qs+"|"+$a+")",Ti="(?:"+Cn+"|"+$a+")",si="(?:"+Na+"(?:d|ll|m|re|s|t|ve))?",Ba="(?:"+Na+"(?:D|LL|M|RE|S|T|VE))?",Da=wr+"?",Ga="["+Oa+"]?",$t="(?:"+Co+"(?:"+[_o,Ci,zn].join("|")+")"+Ga+Da+")*",ro="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qs=Ga+Da+$t,Js="(?:"+[Jc,Ci,zn].join("|")+")"+qs,el="(?:"+[_o+Ao+"?",Ao,Ci,zn,Xs].join("|")+")",ut=RegExp(Na,"g"),ta=RegExp(Ao,"g"),To=RegExp(no+"(?="+no+")|"+el+qs,"g"),Zs=RegExp([Cn+"?"+Qs+"+"+si+"(?="+[Ys,Cn,"$"].join("|")+")",Ti+"+"+Ba+"(?="+[Ys,Cn+br,"$"].join("|")+")",Cn+"?"+br+"+"+si,Cn+"+"+Ba,Zc,ro,Ks,Js].join("|"),"g"),Ua=RegExp("["+Co+Fn+Hs+Oa+"]"),tl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tu=-1,Lt={};Lt[wi]=Lt[bi]=Lt[Yi]=Lt[Ki]=Lt[Qi]=Lt[qi]=Lt[Wr]=Lt[xi]=Lt[Hr]=!0,Lt[Ke]=Lt[yt]=Lt[vi]=Lt[In]=Lt[bn]=Lt[an]=Lt[Un]=Lt[Ut]=Lt[Wt]=Lt[En]=Lt[jt]=Lt[gn]=Lt[at]=Lt[Ct]=Lt[Dt]=!1;var Rt={};Rt[Ke]=Rt[yt]=Rt[vi]=Rt[bn]=Rt[In]=Rt[an]=Rt[wi]=Rt[bi]=Rt[Yi]=Rt[Ki]=Rt[Qi]=Rt[Wt]=Rt[En]=Rt[jt]=Rt[gn]=Rt[at]=Rt[Ct]=Rt[en]=Rt[qi]=Rt[Wr]=Rt[xi]=Rt[Hr]=!0,Rt[Un]=Rt[Ut]=Rt[Dt]=!1;var io={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},nu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ru={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Po={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},iu=parseFloat,na=parseInt,ra=typeof ma=="object"&&ma&&ma.Object===Object&&ma,At=typeof self=="object"&&self&&self.Object===Object&&self,Ht=ra||At||Function("return this")(),Pi=e&&!e.nodeType&&e,Cr=Pi&&!0&&t&&!t.nodeType&&t,Wa=Cr&&Cr.exports===Pi,ia=Wa&&ra.process,ur=function(){try{var Z=Cr&&Cr.require&&Cr.require("util").types;return Z||ia&&ia.binding&&ia.binding("util")}catch{}}(),ou=ur&&ur.isArrayBuffer,Ha=ur&&ur.isDate,Lo=ur&&ur.isMap,J=ur&&ur.isRegExp,jn=ur&&ur.isSet,au=ur&&ur.isTypedArray;function qn(Z,pe,le){switch(le.length){case 0:return Z.call(pe);case 1:return Z.call(pe,le[0]);case 2:return Z.call(pe,le[0],le[1]);case 3:return Z.call(pe,le[0],le[1],le[2])}return Z.apply(pe,le)}function nl(Z,pe,le,Be){for(var nt=-1,Et=Z==null?0:Z.length;++nt<Et;){var nn=Z[nt];pe(Be,nn,le(nn),Z)}return Be}function On(Z,pe){for(var le=-1,Be=Z==null?0:Z.length;++le<Be&&pe(Z[le],le,Z)!==!1;);return Z}function jr(Z,pe){for(var le=Z==null?0:Z.length;le--&&pe(Z[le],le,Z)!==!1;);return Z}function za(Z,pe){for(var le=-1,Be=Z==null?0:Z.length;++le<Be;)if(!pe(Z[le],le,Z))return!1;return!0}function Vt(Z,pe){for(var le=-1,Be=Z==null?0:Z.length,nt=0,Et=[];++le<Be;){var nn=Z[le];pe(nn,le,Z)&&(Et[nt++]=nn)}return Et}function sn(Z,pe){var le=Z==null?0:Z.length;return!!le&&oo(Z,pe,0)>-1}function yn(Z,pe,le){for(var Be=-1,nt=Z==null?0:Z.length;++Be<nt;)if(le(pe,Z[Be]))return!0;return!1}function zt(Z,pe){for(var le=-1,Be=Z==null?0:Z.length,nt=Array(Be);++le<Be;)nt[le]=pe(Z[le],le,Z);return nt}function ui(Z,pe){for(var le=-1,Be=pe.length,nt=Z.length;++le<Be;)Z[nt+le]=pe[le];return Z}function ja(Z,pe,le,Be){var nt=-1,Et=Z==null?0:Z.length;for(Be&&Et&&(le=Z[++nt]);++nt<Et;)le=pe(le,Z[nt],nt,Z);return le}function rl(Z,pe,le,Be){var nt=Z==null?0:Z.length;for(Be&&nt&&(le=Z[--nt]);nt--;)le=pe(le,Z[nt],nt,Z);return le}function Va(Z,pe){for(var le=-1,Be=Z==null?0:Z.length;++le<Be;)if(pe(Z[le],le,Z))return!0;return!1}var il=Xa("length");function ol(Z){return Z.split("")}function al(Z){return Z.match(An)||[]}function su(Z,pe,le){var Be;return le(Z,function(nt,Et,nn){if(pe(nt,Et,nn))return Be=Et,!1}),Be}function oa(Z,pe,le,Be){for(var nt=Z.length,Et=le+(Be?1:-1);Be?Et--:++Et<nt;)if(pe(Z[Et],Et,Z))return Et;return-1}function oo(Z,pe,le){return pe===pe?uo(Z,pe,le):oa(Z,uu,le)}function sl(Z,pe,le,Be){for(var nt=le-1,Et=Z.length;++nt<Et;)if(Be(Z[nt],pe))return nt;return-1}function uu(Z){return Z!==Z}function cu(Z,pe){var le=Z==null?0:Z.length;return le?f(Z,pe)/le:Fe}function Xa(Z){return function(pe){return pe==null?n:pe[Z]}}function ao(Z){return function(pe){return Z==null?n:Z[pe]}}function Ya(Z,pe,le,Be,nt){return nt(Z,function(Et,nn,Ft){le=Be?(Be=!1,Et):pe(le,Et,nn,Ft)}),le}function a(Z,pe){var le=Z.length;for(Z.sort(pe);le--;)Z[le]=Z[le].value;return Z}function f(Z,pe){for(var le,Be=-1,nt=Z.length;++Be<nt;){var Et=pe(Z[Be]);Et!==n&&(le=le===n?Et:le+Et)}return le}function m(Z,pe){for(var le=-1,Be=Array(Z);++le<Z;)Be[le]=pe(le);return Be}function v(Z,pe){return zt(pe,function(le){return[le,Z[le]]})}function A(Z){return Z&&Z.slice(0,Tn(Z)+1).replace(Yt,"")}function I(Z){return function(pe){return Z(pe)}}function z(Z,pe){return zt(pe,function(le){return Z[le]})}function R(Z,pe){return Z.has(pe)}function N(Z,pe){for(var le=-1,Be=Z.length;++le<Be&&oo(pe,Z[le],0)>-1;);return le}function X(Z,pe){for(var le=Z.length;le--&&oo(pe,Z[le],0)>-1;);return le}function ve(Z,pe){for(var le=Z.length,Be=0;le--;)Z[le]===pe&&++Be;return Be}var Ae=ao(io),Ue=ao(nu);function ae(Z){return"\\"+Po[Z]}function He(Z,pe){return Z==null?n:Z[pe]}function tt(Z){return Ua.test(Z)}function rt(Z){return tl.test(Z)}function Vn(Z){for(var pe,le=[];!(pe=Z.next()).done;)le.push(pe.value);return le}function un(Z){var pe=-1,le=Array(Z.size);return Z.forEach(function(Be,nt){le[++pe]=[nt,Be]}),le}function so(Z,pe){return function(le){return Z(pe(le))}}function cr(Z,pe){for(var le=-1,Be=Z.length,nt=0,Et=[];++le<Be;){var nn=Z[le];(nn===pe||nn===b)&&(Z[le]=b,Et[nt++]=le)}return Et}function lr(Z){var pe=-1,le=Array(Z.size);return Z.forEach(function(Be){le[++pe]=Be}),le}function Ka(Z){var pe=-1,le=Array(Z.size);return Z.forEach(function(Be){le[++pe]=[Be,Be]}),le}function uo(Z,pe,le){for(var Be=le-1,nt=Z.length;++Be<nt;)if(Z[Be]===pe)return Be;return-1}function Qa(Z,pe,le){for(var Be=le+1;Be--;)if(Z[Be]===pe)return Be;return Be}function Nn(Z){return tt(Z)?lu(Z):il(Z)}function Jn(Z){return tt(Z)?Vr(Z):ol(Z)}function Tn(Z){for(var pe=Z.length;pe--&&qo.test(Z.charAt(pe)););return pe}var Mt=ao(ru);function lu(Z){for(var pe=To.lastIndex=0;To.test(Z);)++pe;return pe}function Vr(Z){return Z.match(To)||[]}function qa(Z){return Z.match(Zs)||[]}var co=function Z(pe){pe=pe==null?Ht:Li.defaults(Ht.Object(),pe,Li.pick(Ht,eu));var le=pe.Array,Be=pe.Date,nt=pe.Error,Et=pe.Function,nn=pe.Math,Ft=pe.Object,lt=pe.RegExp,Mo=pe.String,fr=pe.TypeError,y=le.prototype,g=Et.prototype,S=Ft.prototype,P=pe["__core-js_shared__"],G=g.toString,Y=S.hasOwnProperty,de=0,Le=function(){var i=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),ze=S.toString,Ve=G.call(Ft),pt=Ht._,dt=lt("^"+G.call(Y).replace(to,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=Wa?pe.Buffer:n,me=pe.Symbol,st=pe.Uint8Array,Tt=D?D.allocUnsafe:n,Qt=so(Ft.getPrototypeOf,Ft),Zn=Ft.create,er=S.propertyIsEnumerable,cn=y.splice,Ee=me?me.isConcatSpreadable:n,_=me?me.iterator:n,$=me?me.toStringTag:n,ue=function(){try{var i=Oo(Ft,"defineProperty");return i({},"",{}),i}catch{}}(),he=pe.clearTimeout!==Ht.clearTimeout&&pe.clearTimeout,be=Be&&Be.now!==Ht.Date.now&&Be.now,Ce=pe.setTimeout!==Ht.setTimeout&&pe.setTimeout,Ge=nn.ceil,Pt=nn.floor,It=Ft.getOwnPropertySymbols,Tr=D?D.isBuffer:n,lo=pe.isFinite,fv=y.join,dv=so(Ft.keys,Ft),xn=nn.max,Xn=nn.min,hv=Be.now,pv=pe.parseInt,rh=nn.random,gv=y.reverse,ul=Oo(pe,"DataView"),Ja=Oo(pe,"Map"),cl=Oo(pe,"Promise"),aa=Oo(pe,"Set"),Za=Oo(pe,"WeakMap"),es=Oo(Ft,"create"),fu=Za&&new Za,sa={},mv=No(ul),yv=No(Ja),vv=No(cl),wv=No(aa),bv=No(Za),du=me?me.prototype:n,ts=du?du.valueOf:n,ih=du?du.toString:n;function M(i){if(rn(i)&&!ct(i)&&!(i instanceof bt)){if(i instanceof Pr)return i;if(Y.call(i,"__wrapped__"))return op(i)}return new Pr(i)}var ua=function(){function i(){}return function(s){if(!qt(s))return{};if(Zn)return Zn(s);i.prototype=s;var d=new i;return i.prototype=n,d}}();function hu(){}function Pr(i,s){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=n}M.templateSettings={escape:ri,evaluate:ii,interpolate:eo,variable:"",imports:{_:M}},M.prototype=hu.prototype,M.prototype.constructor=M,Pr.prototype=ua(hu.prototype),Pr.prototype.constructor=Pr;function bt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pe,this.__views__=[]}function xv(){var i=new bt(this.__wrapped__);return i.__actions__=dr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=dr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=dr(this.__views__),i}function Sv(){if(this.__filtered__){var i=new bt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function Ev(){var i=this.__wrapped__.value(),s=this.__dir__,d=ct(i),x=s<0,C=d?i.length:0,k=O1(0,C,this.__views__),U=k.start,q=k.end,ne=q-U,we=x?q:U-1,xe=this.__iteratees__,_e=xe.length,Ne=0,Xe=Xn(ne,this.__takeCount__);if(!d||!x&&C==ne&&Xe==ne)return Ph(i,this.__actions__);var Je=[];e:for(;ne--&&Ne<Xe;){we+=s;for(var ht=-1,Ze=i[we];++ht<_e;){var wt=xe[ht],St=wt.iteratee,Er=wt.type,rr=St(Ze);if(Er==Se)Ze=rr;else if(!rr){if(Er==ee)continue e;break e}}Je[Ne++]=Ze}return Je}bt.prototype=ua(hu.prototype),bt.prototype.constructor=bt;function Io(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var x=i[s];this.set(x[0],x[1])}}function Av(){this.__data__=es?es(null):{},this.size=0}function _v(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function Cv(i){var s=this.__data__;if(es){var d=s[i];return d===h?n:d}return Y.call(s,i)?s[i]:n}function Tv(i){var s=this.__data__;return es?s[i]!==n:Y.call(s,i)}function Pv(i,s){var d=this.__data__;return this.size+=this.has(i)?0:1,d[i]=es&&s===n?h:s,this}Io.prototype.clear=Av,Io.prototype.delete=_v,Io.prototype.get=Cv,Io.prototype.has=Tv,Io.prototype.set=Pv;function Mi(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var x=i[s];this.set(x[0],x[1])}}function Lv(){this.__data__=[],this.size=0}function Mv(i){var s=this.__data__,d=pu(s,i);if(d<0)return!1;var x=s.length-1;return d==x?s.pop():cn.call(s,d,1),--this.size,!0}function Iv(i){var s=this.__data__,d=pu(s,i);return d<0?n:s[d][1]}function kv(i){return pu(this.__data__,i)>-1}function Rv(i,s){var d=this.__data__,x=pu(d,i);return x<0?(++this.size,d.push([i,s])):d[x][1]=s,this}Mi.prototype.clear=Lv,Mi.prototype.delete=Mv,Mi.prototype.get=Iv,Mi.prototype.has=kv,Mi.prototype.set=Rv;function Ii(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var x=i[s];this.set(x[0],x[1])}}function Fv(){this.size=0,this.__data__={hash:new Io,map:new(Ja||Mi),string:new Io}}function Ov(i){var s=Cu(this,i).delete(i);return this.size-=s?1:0,s}function Nv(i){return Cu(this,i).get(i)}function $v(i){return Cu(this,i).has(i)}function Bv(i,s){var d=Cu(this,i),x=d.size;return d.set(i,s),this.size+=d.size==x?0:1,this}Ii.prototype.clear=Fv,Ii.prototype.delete=Ov,Ii.prototype.get=Nv,Ii.prototype.has=$v,Ii.prototype.set=Bv;function ko(i){var s=-1,d=i==null?0:i.length;for(this.__data__=new Ii;++s<d;)this.add(i[s])}function Dv(i){return this.__data__.set(i,h),this}function Gv(i){return this.__data__.has(i)}ko.prototype.add=ko.prototype.push=Dv,ko.prototype.has=Gv;function Xr(i){var s=this.__data__=new Mi(i);this.size=s.size}function Uv(){this.__data__=new Mi,this.size=0}function Wv(i){var s=this.__data__,d=s.delete(i);return this.size=s.size,d}function Hv(i){return this.__data__.get(i)}function zv(i){return this.__data__.has(i)}function jv(i,s){var d=this.__data__;if(d instanceof Mi){var x=d.__data__;if(!Ja||x.length<o-1)return x.push([i,s]),this.size=++d.size,this;d=this.__data__=new Ii(x)}return d.set(i,s),this.size=d.size,this}Xr.prototype.clear=Uv,Xr.prototype.delete=Wv,Xr.prototype.get=Hv,Xr.prototype.has=zv,Xr.prototype.set=jv;function oh(i,s){var d=ct(i),x=!d&&$o(i),C=!d&&!x&&mo(i),k=!d&&!x&&!C&&da(i),U=d||x||C||k,q=U?m(i.length,Mo):[],ne=q.length;for(var we in i)(s||Y.call(i,we))&&!(U&&(we=="length"||C&&(we=="offset"||we=="parent")||k&&(we=="buffer"||we=="byteLength"||we=="byteOffset")||Oi(we,ne)))&&q.push(we);return q}function ah(i){var s=i.length;return s?i[bl(0,s-1)]:n}function Vv(i,s){return Tu(dr(i),Ro(s,0,i.length))}function Xv(i){return Tu(dr(i))}function ll(i,s,d){(d!==n&&!Yr(i[s],d)||d===n&&!(s in i))&&ki(i,s,d)}function ns(i,s,d){var x=i[s];(!(Y.call(i,s)&&Yr(x,d))||d===n&&!(s in i))&&ki(i,s,d)}function pu(i,s){for(var d=i.length;d--;)if(Yr(i[d][0],s))return d;return-1}function Yv(i,s,d,x){return fo(i,function(C,k,U){s(x,C,d(C),U)}),x}function sh(i,s){return i&&li(s,Pn(s),i)}function Kv(i,s){return i&&li(s,pr(s),i)}function ki(i,s,d){s=="__proto__"&&ue?ue(i,s,{configurable:!0,enumerable:!0,value:d,writable:!0}):i[s]=d}function fl(i,s){for(var d=-1,x=s.length,C=le(x),k=i==null;++d<x;)C[d]=k?n:jl(i,s[d]);return C}function Ro(i,s,d){return i===i&&(d!==n&&(i=i<=d?i:d),s!==n&&(i=i>=s?i:s)),i}function Lr(i,s,d,x,C,k){var U,q=s&w,ne=s&E,we=s&T;if(d&&(U=C?d(i,x,C,k):d(i)),U!==n)return U;if(!qt(i))return i;var xe=ct(i);if(xe){if(U=$1(i),!q)return dr(i,U)}else{var _e=Yn(i),Ne=_e==Ut||_e==wn;if(mo(i))return Ih(i,q);if(_e==jt||_e==Ke||Ne&&!C){if(U=ne||Ne?{}:Qh(i),!q)return ne?C1(i,Kv(U,i)):_1(i,sh(U,i))}else{if(!Rt[_e])return C?i:{};U=B1(i,_e,q)}}k||(k=new Xr);var Xe=k.get(i);if(Xe)return Xe;k.set(i,U),_p(i)?i.forEach(function(Ze){U.add(Lr(Ze,s,d,Ze,i,k))}):Ep(i)&&i.forEach(function(Ze,wt){U.set(wt,Lr(Ze,s,d,wt,i,k))});var Je=we?ne?Il:Ml:ne?pr:Pn,ht=xe?n:Je(i);return On(ht||i,function(Ze,wt){ht&&(wt=Ze,Ze=i[wt]),ns(U,wt,Lr(Ze,s,d,wt,i,k))}),U}function Qv(i){var s=Pn(i);return function(d){return uh(d,i,s)}}function uh(i,s,d){var x=d.length;if(i==null)return!x;for(i=Ft(i);x--;){var C=d[x],k=s[C],U=i[C];if(U===n&&!(C in i)||!k(U))return!1}return!0}function ch(i,s,d){if(typeof i!="function")throw new fr(c);return cs(function(){i.apply(n,d)},s)}function rs(i,s,d,x){var C=-1,k=sn,U=!0,q=i.length,ne=[],we=s.length;if(!q)return ne;d&&(s=zt(s,I(d))),x?(k=yn,U=!1):s.length>=o&&(k=R,U=!1,s=new ko(s));e:for(;++C<q;){var xe=i[C],_e=d==null?xe:d(xe);if(xe=x||xe!==0?xe:0,U&&_e===_e){for(var Ne=we;Ne--;)if(s[Ne]===_e)continue e;ne.push(xe)}else k(s,_e,x)||ne.push(xe)}return ne}var fo=Nh(ci),lh=Nh(hl,!0);function qv(i,s){var d=!0;return fo(i,function(x,C,k){return d=!!s(x,C,k),d}),d}function gu(i,s,d){for(var x=-1,C=i.length;++x<C;){var k=i[x],U=s(k);if(U!=null&&(q===n?U===U&&!Sr(U):d(U,q)))var q=U,ne=k}return ne}function Jv(i,s,d,x){var C=i.length;for(d=ft(d),d<0&&(d=-d>C?0:C+d),x=x===n||x>C?C:ft(x),x<0&&(x+=C),x=d>x?0:Tp(x);d<x;)i[d++]=s;return i}function fh(i,s){var d=[];return fo(i,function(x,C,k){s(x,C,k)&&d.push(x)}),d}function $n(i,s,d,x,C){var k=-1,U=i.length;for(d||(d=G1),C||(C=[]);++k<U;){var q=i[k];s>0&&d(q)?s>1?$n(q,s-1,d,x,C):ui(C,q):x||(C[C.length]=q)}return C}var dl=$h(),dh=$h(!0);function ci(i,s){return i&&dl(i,s,Pn)}function hl(i,s){return i&&dh(i,s,Pn)}function mu(i,s){return Vt(s,function(d){return Ni(i[d])})}function Fo(i,s){s=po(s,i);for(var d=0,x=s.length;i!=null&&d<x;)i=i[fi(s[d++])];return d&&d==x?i:n}function hh(i,s,d){var x=s(i);return ct(i)?x:ui(x,d(i))}function tr(i){return i==null?i===n?xt:Zt:$&&$ in Ft(i)?F1(i):X1(i)}function pl(i,s){return i>s}function Zv(i,s){return i!=null&&Y.call(i,s)}function e1(i,s){return i!=null&&s in Ft(i)}function t1(i,s,d){return i>=Xn(s,d)&&i<xn(s,d)}function gl(i,s,d){for(var x=d?yn:sn,C=i[0].length,k=i.length,U=k,q=le(k),ne=1/0,we=[];U--;){var xe=i[U];U&&s&&(xe=zt(xe,I(s))),ne=Xn(xe.length,ne),q[U]=!d&&(s||C>=120&&xe.length>=120)?new ko(U&&xe):n}xe=i[0];var _e=-1,Ne=q[0];e:for(;++_e<C&&we.length<ne;){var Xe=xe[_e],Je=s?s(Xe):Xe;if(Xe=d||Xe!==0?Xe:0,!(Ne?R(Ne,Je):x(we,Je,d))){for(U=k;--U;){var ht=q[U];if(!(ht?R(ht,Je):x(i[U],Je,d)))continue e}Ne&&Ne.push(Je),we.push(Xe)}}return we}function n1(i,s,d,x){return ci(i,function(C,k,U){s(x,d(C),k,U)}),x}function is(i,s,d){s=po(s,i),i=ep(i,s);var x=i==null?i:i[fi(Ir(s))];return x==null?n:qn(x,i,d)}function ph(i){return rn(i)&&tr(i)==Ke}function r1(i){return rn(i)&&tr(i)==vi}function i1(i){return rn(i)&&tr(i)==an}function os(i,s,d,x,C){return i===s?!0:i==null||s==null||!rn(i)&&!rn(s)?i!==i&&s!==s:o1(i,s,d,x,os,C)}function o1(i,s,d,x,C,k){var U=ct(i),q=ct(s),ne=U?yt:Yn(i),we=q?yt:Yn(s);ne=ne==Ke?jt:ne,we=we==Ke?jt:we;var xe=ne==jt,_e=we==jt,Ne=ne==we;if(Ne&&mo(i)){if(!mo(s))return!1;U=!0,xe=!1}if(Ne&&!xe)return k||(k=new Xr),U||da(i)?Xh(i,s,d,x,C,k):k1(i,s,ne,d,x,C,k);if(!(d&L)){var Xe=xe&&Y.call(i,"__wrapped__"),Je=_e&&Y.call(s,"__wrapped__");if(Xe||Je){var ht=Xe?i.value():i,Ze=Je?s.value():s;return k||(k=new Xr),C(ht,Ze,d,x,k)}}return Ne?(k||(k=new Xr),R1(i,s,d,x,C,k)):!1}function a1(i){return rn(i)&&Yn(i)==Wt}function ml(i,s,d,x){var C=d.length,k=C,U=!x;if(i==null)return!k;for(i=Ft(i);C--;){var q=d[C];if(U&&q[2]?q[1]!==i[q[0]]:!(q[0]in i))return!1}for(;++C<k;){q=d[C];var ne=q[0],we=i[ne],xe=q[1];if(U&&q[2]){if(we===n&&!(ne in i))return!1}else{var _e=new Xr;if(x)var Ne=x(we,xe,ne,i,s,_e);if(!(Ne===n?os(xe,we,L|F,x,_e):Ne))return!1}}return!0}function gh(i){if(!qt(i)||W1(i))return!1;var s=Ni(i)?dt:Hn;return s.test(No(i))}function s1(i){return rn(i)&&tr(i)==gn}function u1(i){return rn(i)&&Yn(i)==at}function c1(i){return rn(i)&&Ru(i.length)&&!!Lt[tr(i)]}function mh(i){return typeof i=="function"?i:i==null?gr:typeof i=="object"?ct(i)?wh(i[0],i[1]):vh(i):Bp(i)}function yl(i){if(!us(i))return dv(i);var s=[];for(var d in Ft(i))Y.call(i,d)&&d!="constructor"&&s.push(d);return s}function l1(i){if(!qt(i))return V1(i);var s=us(i),d=[];for(var x in i)x=="constructor"&&(s||!Y.call(i,x))||d.push(x);return d}function vl(i,s){return i<s}function yh(i,s){var d=-1,x=hr(i)?le(i.length):[];return fo(i,function(C,k,U){x[++d]=s(C,k,U)}),x}function vh(i){var s=Rl(i);return s.length==1&&s[0][2]?Jh(s[0][0],s[0][1]):function(d){return d===i||ml(d,i,s)}}function wh(i,s){return Ol(i)&&qh(s)?Jh(fi(i),s):function(d){var x=jl(d,i);return x===n&&x===s?Vl(d,i):os(s,x,L|F)}}function yu(i,s,d,x,C){i!==s&&dl(s,function(k,U){if(C||(C=new Xr),qt(k))f1(i,s,U,d,yu,x,C);else{var q=x?x($l(i,U),k,U+"",i,s,C):n;q===n&&(q=k),ll(i,U,q)}},pr)}function f1(i,s,d,x,C,k,U){var q=$l(i,d),ne=$l(s,d),we=U.get(ne);if(we){ll(i,d,we);return}var xe=k?k(q,ne,d+"",i,s,U):n,_e=xe===n;if(_e){var Ne=ct(ne),Xe=!Ne&&mo(ne),Je=!Ne&&!Xe&&da(ne);xe=ne,Ne||Xe||Je?ct(q)?xe=q:ln(q)?xe=dr(q):Xe?(_e=!1,xe=Ih(ne,!0)):Je?(_e=!1,xe=kh(ne,!0)):xe=[]:ls(ne)||$o(ne)?(xe=q,$o(q)?xe=Pp(q):(!qt(q)||Ni(q))&&(xe=Qh(ne))):_e=!1}_e&&(U.set(ne,xe),C(xe,ne,x,k,U),U.delete(ne)),ll(i,d,xe)}function bh(i,s){var d=i.length;if(d)return s+=s<0?d:0,Oi(s,d)?i[s]:n}function xh(i,s,d){s.length?s=zt(s,function(k){return ct(k)?function(U){return Fo(U,k.length===1?k[0]:k)}:k}):s=[gr];var x=-1;s=zt(s,I(Qe()));var C=yh(i,function(k,U,q){var ne=zt(s,function(we){return we(k)});return{criteria:ne,index:++x,value:k}});return a(C,function(k,U){return A1(k,U,d)})}function d1(i,s){return Sh(i,s,function(d,x){return Vl(i,x)})}function Sh(i,s,d){for(var x=-1,C=s.length,k={};++x<C;){var U=s[x],q=Fo(i,U);d(q,U)&&as(k,po(U,i),q)}return k}function h1(i){return function(s){return Fo(s,i)}}function wl(i,s,d,x){var C=x?sl:oo,k=-1,U=s.length,q=i;for(i===s&&(s=dr(s)),d&&(q=zt(i,I(d)));++k<U;)for(var ne=0,we=s[k],xe=d?d(we):we;(ne=C(q,xe,ne,x))>-1;)q!==i&&cn.call(q,ne,1),cn.call(i,ne,1);return i}function Eh(i,s){for(var d=i?s.length:0,x=d-1;d--;){var C=s[d];if(d==x||C!==k){var k=C;Oi(C)?cn.call(i,C,1):El(i,C)}}return i}function bl(i,s){return i+Pt(rh()*(s-i+1))}function p1(i,s,d,x){for(var C=-1,k=xn(Ge((s-i)/(d||1)),0),U=le(k);k--;)U[x?k:++C]=i,i+=d;return U}function xl(i,s){var d="";if(!i||s<1||s>ge)return d;do s%2&&(d+=i),s=Pt(s/2),s&&(i+=i);while(s);return d}function gt(i,s){return Bl(Zh(i,s,gr),i+"")}function g1(i){return ah(ha(i))}function m1(i,s){var d=ha(i);return Tu(d,Ro(s,0,d.length))}function as(i,s,d,x){if(!qt(i))return i;s=po(s,i);for(var C=-1,k=s.length,U=k-1,q=i;q!=null&&++C<k;){var ne=fi(s[C]),we=d;if(ne==="__proto__"||ne==="constructor"||ne==="prototype")return i;if(C!=U){var xe=q[ne];we=x?x(xe,ne,q):n,we===n&&(we=qt(xe)?xe:Oi(s[C+1])?[]:{})}ns(q,ne,we),q=q[ne]}return i}var Ah=fu?function(i,s){return fu.set(i,s),i}:gr,y1=ue?function(i,s){return ue(i,"toString",{configurable:!0,enumerable:!1,value:Yl(s),writable:!0})}:gr;function v1(i){return Tu(ha(i))}function Mr(i,s,d){var x=-1,C=i.length;s<0&&(s=-s>C?0:C+s),d=d>C?C:d,d<0&&(d+=C),C=s>d?0:d-s>>>0,s>>>=0;for(var k=le(C);++x<C;)k[x]=i[x+s];return k}function w1(i,s){var d;return fo(i,function(x,C,k){return d=s(x,C,k),!d}),!!d}function vu(i,s,d){var x=0,C=i==null?x:i.length;if(typeof s=="number"&&s===s&&C<=ot){for(;x<C;){var k=x+C>>>1,U=i[k];U!==null&&!Sr(U)&&(d?U<=s:U<s)?x=k+1:C=k}return C}return Sl(i,s,gr,d)}function Sl(i,s,d,x){var C=0,k=i==null?0:i.length;if(k===0)return 0;s=d(s);for(var U=s!==s,q=s===null,ne=Sr(s),we=s===n;C<k;){var xe=Pt((C+k)/2),_e=d(i[xe]),Ne=_e!==n,Xe=_e===null,Je=_e===_e,ht=Sr(_e);if(U)var Ze=x||Je;else we?Ze=Je&&(x||Ne):q?Ze=Je&&Ne&&(x||!Xe):ne?Ze=Je&&Ne&&!Xe&&(x||!ht):Xe||ht?Ze=!1:Ze=x?_e<=s:_e<s;Ze?C=xe+1:k=xe}return Xn(k,Oe)}function _h(i,s){for(var d=-1,x=i.length,C=0,k=[];++d<x;){var U=i[d],q=s?s(U):U;if(!d||!Yr(q,ne)){var ne=q;k[C++]=U===0?0:U}}return k}function Ch(i){return typeof i=="number"?i:Sr(i)?Fe:+i}function xr(i){if(typeof i=="string")return i;if(ct(i))return zt(i,xr)+"";if(Sr(i))return ih?ih.call(i):"";var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}function ho(i,s,d){var x=-1,C=sn,k=i.length,U=!0,q=[],ne=q;if(d)U=!1,C=yn;else if(k>=o){var we=s?null:M1(i);if(we)return lr(we);U=!1,C=R,ne=new ko}else ne=s?[]:q;e:for(;++x<k;){var xe=i[x],_e=s?s(xe):xe;if(xe=d||xe!==0?xe:0,U&&_e===_e){for(var Ne=ne.length;Ne--;)if(ne[Ne]===_e)continue e;s&&ne.push(_e),q.push(xe)}else C(ne,_e,d)||(ne!==q&&ne.push(_e),q.push(xe))}return q}function El(i,s){return s=po(s,i),i=ep(i,s),i==null||delete i[fi(Ir(s))]}function Th(i,s,d,x){return as(i,s,d(Fo(i,s)),x)}function wu(i,s,d,x){for(var C=i.length,k=x?C:-1;(x?k--:++k<C)&&s(i[k],k,i););return d?Mr(i,x?0:k,x?k+1:C):Mr(i,x?k+1:0,x?C:k)}function Ph(i,s){var d=i;return d instanceof bt&&(d=d.value()),ja(s,function(x,C){return C.func.apply(C.thisArg,ui([x],C.args))},d)}function Al(i,s,d){var x=i.length;if(x<2)return x?ho(i[0]):[];for(var C=-1,k=le(x);++C<x;)for(var U=i[C],q=-1;++q<x;)q!=C&&(k[C]=rs(k[C]||U,i[q],s,d));return ho($n(k,1),s,d)}function Lh(i,s,d){for(var x=-1,C=i.length,k=s.length,U={};++x<C;){var q=x<k?s[x]:n;d(U,i[x],q)}return U}function _l(i){return ln(i)?i:[]}function Cl(i){return typeof i=="function"?i:gr}function po(i,s){return ct(i)?i:Ol(i,s)?[i]:ip(kt(i))}var b1=gt;function go(i,s,d){var x=i.length;return d=d===n?x:d,!s&&d>=x?i:Mr(i,s,d)}var Mh=he||function(i){return Ht.clearTimeout(i)};function Ih(i,s){if(s)return i.slice();var d=i.length,x=Tt?Tt(d):new i.constructor(d);return i.copy(x),x}function Tl(i){var s=new i.constructor(i.byteLength);return new st(s).set(new st(i)),s}function x1(i,s){var d=s?Tl(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.byteLength)}function S1(i){var s=new i.constructor(i.source,_n.exec(i));return s.lastIndex=i.lastIndex,s}function E1(i){return ts?Ft(ts.call(i)):{}}function kh(i,s){var d=s?Tl(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.length)}function Rh(i,s){if(i!==s){var d=i!==n,x=i===null,C=i===i,k=Sr(i),U=s!==n,q=s===null,ne=s===s,we=Sr(s);if(!q&&!we&&!k&&i>s||k&&U&&ne&&!q&&!we||x&&U&&ne||!d&&ne||!C)return 1;if(!x&&!k&&!we&&i<s||we&&d&&C&&!x&&!k||q&&d&&C||!U&&C||!ne)return-1}return 0}function A1(i,s,d){for(var x=-1,C=i.criteria,k=s.criteria,U=C.length,q=d.length;++x<U;){var ne=Rh(C[x],k[x]);if(ne){if(x>=q)return ne;var we=d[x];return ne*(we=="desc"?-1:1)}}return i.index-s.index}function Fh(i,s,d,x){for(var C=-1,k=i.length,U=d.length,q=-1,ne=s.length,we=xn(k-U,0),xe=le(ne+we),_e=!x;++q<ne;)xe[q]=s[q];for(;++C<U;)(_e||C<k)&&(xe[d[C]]=i[C]);for(;we--;)xe[q++]=i[C++];return xe}function Oh(i,s,d,x){for(var C=-1,k=i.length,U=-1,q=d.length,ne=-1,we=s.length,xe=xn(k-q,0),_e=le(xe+we),Ne=!x;++C<xe;)_e[C]=i[C];for(var Xe=C;++ne<we;)_e[Xe+ne]=s[ne];for(;++U<q;)(Ne||C<k)&&(_e[Xe+d[U]]=i[C++]);return _e}function dr(i,s){var d=-1,x=i.length;for(s||(s=le(x));++d<x;)s[d]=i[d];return s}function li(i,s,d,x){var C=!d;d||(d={});for(var k=-1,U=s.length;++k<U;){var q=s[k],ne=x?x(d[q],i[q],q,d,i):n;ne===n&&(ne=i[q]),C?ki(d,q,ne):ns(d,q,ne)}return d}function _1(i,s){return li(i,Fl(i),s)}function C1(i,s){return li(i,Yh(i),s)}function bu(i,s){return function(d,x){var C=ct(d)?nl:Yv,k=s?s():{};return C(d,i,Qe(x,2),k)}}function ca(i){return gt(function(s,d){var x=-1,C=d.length,k=C>1?d[C-1]:n,U=C>2?d[2]:n;for(k=i.length>3&&typeof k=="function"?(C--,k):n,U&&nr(d[0],d[1],U)&&(k=C<3?n:k,C=1),s=Ft(s);++x<C;){var q=d[x];q&&i(s,q,x,k)}return s})}function Nh(i,s){return function(d,x){if(d==null)return d;if(!hr(d))return i(d,x);for(var C=d.length,k=s?C:-1,U=Ft(d);(s?k--:++k<C)&&x(U[k],k,U)!==!1;);return d}}function $h(i){return function(s,d,x){for(var C=-1,k=Ft(s),U=x(s),q=U.length;q--;){var ne=U[i?q:++C];if(d(k[ne],ne,k)===!1)break}return s}}function T1(i,s,d){var x=s&B,C=ss(i);function k(){var U=this&&this!==Ht&&this instanceof k?C:i;return U.apply(x?d:this,arguments)}return k}function Bh(i){return function(s){s=kt(s);var d=tt(s)?Jn(s):n,x=d?d[0]:s.charAt(0),C=d?go(d,1).join(""):s.slice(1);return x[i]()+C}}function la(i){return function(s){return ja(Np(Op(s).replace(ut,"")),i,"")}}function ss(i){return function(){var s=arguments;switch(s.length){case 0:return new i;case 1:return new i(s[0]);case 2:return new i(s[0],s[1]);case 3:return new i(s[0],s[1],s[2]);case 4:return new i(s[0],s[1],s[2],s[3]);case 5:return new i(s[0],s[1],s[2],s[3],s[4]);case 6:return new i(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new i(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var d=ua(i.prototype),x=i.apply(d,s);return qt(x)?x:d}}function P1(i,s,d){var x=ss(i);function C(){for(var k=arguments.length,U=le(k),q=k,ne=fa(C);q--;)U[q]=arguments[q];var we=k<3&&U[0]!==ne&&U[k-1]!==ne?[]:cr(U,ne);if(k-=we.length,k<d)return Hh(i,s,xu,C.placeholder,n,U,we,n,n,d-k);var xe=this&&this!==Ht&&this instanceof C?x:i;return qn(xe,this,U)}return C}function Dh(i){return function(s,d,x){var C=Ft(s);if(!hr(s)){var k=Qe(d,3);s=Pn(s),d=function(q){return k(C[q],q,C)}}var U=i(s,d,x);return U>-1?C[k?s[U]:U]:n}}function Gh(i){return Fi(function(s){var d=s.length,x=d,C=Pr.prototype.thru;for(i&&s.reverse();x--;){var k=s[x];if(typeof k!="function")throw new fr(c);if(C&&!U&&_u(k)=="wrapper")var U=new Pr([],!0)}for(x=U?x:d;++x<d;){k=s[x];var q=_u(k),ne=q=="wrapper"?kl(k):n;ne&&Nl(ne[0])&&ne[1]==(ye|W|fe|Te)&&!ne[4].length&&ne[9]==1?U=U[_u(ne[0])].apply(U,ne[3]):U=k.length==1&&Nl(k)?U[q]():U.thru(k)}return function(){var we=arguments,xe=we[0];if(U&&we.length==1&&ct(xe))return U.plant(xe).value();for(var _e=0,Ne=d?s[_e].apply(this,we):xe;++_e<d;)Ne=s[_e].call(this,Ne);return Ne}})}function xu(i,s,d,x,C,k,U,q,ne,we){var xe=s&ye,_e=s&B,Ne=s&H,Xe=s&(W|se),Je=s&O,ht=Ne?n:ss(i);function Ze(){for(var wt=arguments.length,St=le(wt),Er=wt;Er--;)St[Er]=arguments[Er];if(Xe)var rr=fa(Ze),Ar=ve(St,rr);if(x&&(St=Fh(St,x,C,Xe)),k&&(St=Oh(St,k,U,Xe)),wt-=Ar,Xe&&wt<we){var fn=cr(St,rr);return Hh(i,s,xu,Ze.placeholder,d,St,fn,q,ne,we-wt)}var Kr=_e?d:this,Bi=Ne?Kr[i]:i;return wt=St.length,q?St=Y1(St,q):Je&&wt>1&&St.reverse(),xe&&ne<wt&&(St.length=ne),this&&this!==Ht&&this instanceof Ze&&(Bi=ht||ss(Bi)),Bi.apply(Kr,St)}return Ze}function Uh(i,s){return function(d,x){return n1(d,i,s(x),{})}}function Su(i,s){return function(d,x){var C;if(d===n&&x===n)return s;if(d!==n&&(C=d),x!==n){if(C===n)return x;typeof d=="string"||typeof x=="string"?(d=xr(d),x=xr(x)):(d=Ch(d),x=Ch(x)),C=i(d,x)}return C}}function Pl(i){return Fi(function(s){return s=zt(s,I(Qe())),gt(function(d){var x=this;return i(s,function(C){return qn(C,x,d)})})})}function Eu(i,s){s=s===n?" ":xr(s);var d=s.length;if(d<2)return d?xl(s,i):s;var x=xl(s,Ge(i/Nn(s)));return tt(s)?go(Jn(x),0,i).join(""):x.slice(0,i)}function L1(i,s,d,x){var C=s&B,k=ss(i);function U(){for(var q=-1,ne=arguments.length,we=-1,xe=x.length,_e=le(xe+ne),Ne=this&&this!==Ht&&this instanceof U?k:i;++we<xe;)_e[we]=x[we];for(;ne--;)_e[we++]=arguments[++q];return qn(Ne,C?d:this,_e)}return U}function Wh(i){return function(s,d,x){return x&&typeof x!="number"&&nr(s,d,x)&&(d=x=n),s=$i(s),d===n?(d=s,s=0):d=$i(d),x=x===n?s<d?1:-1:$i(x),p1(s,d,x,i)}}function Au(i){return function(s,d){return typeof s=="string"&&typeof d=="string"||(s=kr(s),d=kr(d)),i(s,d)}}function Hh(i,s,d,x,C,k,U,q,ne,we){var xe=s&W,_e=xe?U:n,Ne=xe?n:U,Xe=xe?k:n,Je=xe?n:k;s|=xe?fe:oe,s&=~(xe?oe:fe),s&Q||(s&=-4);var ht=[i,s,C,Xe,_e,Je,Ne,q,ne,we],Ze=d.apply(n,ht);return Nl(i)&&tp(Ze,ht),Ze.placeholder=x,np(Ze,i,s)}function Ll(i){var s=nn[i];return function(d,x){if(d=kr(d),x=x==null?0:Xn(ft(x),292),x&&lo(d)){var C=(kt(d)+"e").split("e"),k=s(C[0]+"e"+(+C[1]+x));return C=(kt(k)+"e").split("e"),+(C[0]+"e"+(+C[1]-x))}return s(d)}}var M1=aa&&1/lr(new aa([,-0]))[1]==te?function(i){return new aa(i)}:ql;function zh(i){return function(s){var d=Yn(s);return d==Wt?un(s):d==at?Ka(s):v(s,i(s))}}function Ri(i,s,d,x,C,k,U,q){var ne=s&H;if(!ne&&typeof i!="function")throw new fr(c);var we=x?x.length:0;if(we||(s&=-97,x=C=n),U=U===n?U:xn(ft(U),0),q=q===n?q:ft(q),we-=C?C.length:0,s&oe){var xe=x,_e=C;x=C=n}var Ne=ne?n:kl(i),Xe=[i,s,d,x,C,xe,_e,k,U,q];if(Ne&&j1(Xe,Ne),i=Xe[0],s=Xe[1],d=Xe[2],x=Xe[3],C=Xe[4],q=Xe[9]=Xe[9]===n?ne?0:i.length:xn(Xe[9]-we,0),!q&&s&(W|se)&&(s&=-25),!s||s==B)var Je=T1(i,s,d);else s==W||s==se?Je=P1(i,s,q):(s==fe||s==(B|fe))&&!C.length?Je=L1(i,s,d,x):Je=xu.apply(n,Xe);var ht=Ne?Ah:tp;return np(ht(Je,Xe),i,s)}function jh(i,s,d,x){return i===n||Yr(i,S[d])&&!Y.call(x,d)?s:i}function Vh(i,s,d,x,C,k){return qt(i)&&qt(s)&&(k.set(s,i),yu(i,s,n,Vh,k),k.delete(s)),i}function I1(i){return ls(i)?n:i}function Xh(i,s,d,x,C,k){var U=d&L,q=i.length,ne=s.length;if(q!=ne&&!(U&&ne>q))return!1;var we=k.get(i),xe=k.get(s);if(we&&xe)return we==s&&xe==i;var _e=-1,Ne=!0,Xe=d&F?new ko:n;for(k.set(i,s),k.set(s,i);++_e<q;){var Je=i[_e],ht=s[_e];if(x)var Ze=U?x(ht,Je,_e,s,i,k):x(Je,ht,_e,i,s,k);if(Ze!==n){if(Ze)continue;Ne=!1;break}if(Xe){if(!Va(s,function(wt,St){if(!R(Xe,St)&&(Je===wt||C(Je,wt,d,x,k)))return Xe.push(St)})){Ne=!1;break}}else if(!(Je===ht||C(Je,ht,d,x,k))){Ne=!1;break}}return k.delete(i),k.delete(s),Ne}function k1(i,s,d,x,C,k,U){switch(d){case bn:if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case vi:return!(i.byteLength!=s.byteLength||!k(new st(i),new st(s)));case In:case an:case En:return Yr(+i,+s);case Un:return i.name==s.name&&i.message==s.message;case gn:case Ct:return i==s+"";case Wt:var q=un;case at:var ne=x&L;if(q||(q=lr),i.size!=s.size&&!ne)return!1;var we=U.get(i);if(we)return we==s;x|=F,U.set(i,s);var xe=Xh(q(i),q(s),x,C,k,U);return U.delete(i),xe;case en:if(ts)return ts.call(i)==ts.call(s)}return!1}function R1(i,s,d,x,C,k){var U=d&L,q=Ml(i),ne=q.length,we=Ml(s),xe=we.length;if(ne!=xe&&!U)return!1;for(var _e=ne;_e--;){var Ne=q[_e];if(!(U?Ne in s:Y.call(s,Ne)))return!1}var Xe=k.get(i),Je=k.get(s);if(Xe&&Je)return Xe==s&&Je==i;var ht=!0;k.set(i,s),k.set(s,i);for(var Ze=U;++_e<ne;){Ne=q[_e];var wt=i[Ne],St=s[Ne];if(x)var Er=U?x(St,wt,Ne,s,i,k):x(wt,St,Ne,i,s,k);if(!(Er===n?wt===St||C(wt,St,d,x,k):Er)){ht=!1;break}Ze||(Ze=Ne=="constructor")}if(ht&&!Ze){var rr=i.constructor,Ar=s.constructor;rr!=Ar&&"constructor"in i&&"constructor"in s&&!(typeof rr=="function"&&rr instanceof rr&&typeof Ar=="function"&&Ar instanceof Ar)&&(ht=!1)}return k.delete(i),k.delete(s),ht}function Fi(i){return Bl(Zh(i,n,up),i+"")}function Ml(i){return hh(i,Pn,Fl)}function Il(i){return hh(i,pr,Yh)}var kl=fu?function(i){return fu.get(i)}:ql;function _u(i){for(var s=i.name+"",d=sa[s],x=Y.call(sa,s)?d.length:0;x--;){var C=d[x],k=C.func;if(k==null||k==i)return C.name}return s}function fa(i){var s=Y.call(M,"placeholder")?M:i;return s.placeholder}function Qe(){var i=M.iteratee||Kl;return i=i===Kl?mh:i,arguments.length?i(arguments[0],arguments[1]):i}function Cu(i,s){var d=i.__data__;return U1(s)?d[typeof s=="string"?"string":"hash"]:d.map}function Rl(i){for(var s=Pn(i),d=s.length;d--;){var x=s[d],C=i[x];s[d]=[x,C,qh(C)]}return s}function Oo(i,s){var d=He(i,s);return gh(d)?d:n}function F1(i){var s=Y.call(i,$),d=i[$];try{i[$]=n;var x=!0}catch{}var C=ze.call(i);return x&&(s?i[$]=d:delete i[$]),C}var Fl=It?function(i){return i==null?[]:(i=Ft(i),Vt(It(i),function(s){return er.call(i,s)}))}:Jl,Yh=It?function(i){for(var s=[];i;)ui(s,Fl(i)),i=Qt(i);return s}:Jl,Yn=tr;(ul&&Yn(new ul(new ArrayBuffer(1)))!=bn||Ja&&Yn(new Ja)!=Wt||cl&&Yn(cl.resolve())!=Wn||aa&&Yn(new aa)!=at||Za&&Yn(new Za)!=Dt)&&(Yn=function(i){var s=tr(i),d=s==jt?i.constructor:n,x=d?No(d):"";if(x)switch(x){case mv:return bn;case yv:return Wt;case vv:return Wn;case wv:return at;case bv:return Dt}return s});function O1(i,s,d){for(var x=-1,C=d.length;++x<C;){var k=d[x],U=k.size;switch(k.type){case"drop":i+=U;break;case"dropRight":s-=U;break;case"take":s=Xn(s,i+U);break;case"takeRight":i=xn(i,s-U);break}}return{start:i,end:s}}function N1(i){var s=i.match(Kt);return s?s[1].split(tn):[]}function Kh(i,s,d){s=po(s,i);for(var x=-1,C=s.length,k=!1;++x<C;){var U=fi(s[x]);if(!(k=i!=null&&d(i,U)))break;i=i[U]}return k||++x!=C?k:(C=i==null?0:i.length,!!C&&Ru(C)&&Oi(U,C)&&(ct(i)||$o(i)))}function $1(i){var s=i.length,d=new i.constructor(s);return s&&typeof i[0]=="string"&&Y.call(i,"index")&&(d.index=i.index,d.input=i.input),d}function Qh(i){return typeof i.constructor=="function"&&!us(i)?ua(Qt(i)):{}}function B1(i,s,d){var x=i.constructor;switch(s){case vi:return Tl(i);case In:case an:return new x(+i);case bn:return x1(i,d);case wi:case bi:case Yi:case Ki:case Qi:case qi:case Wr:case xi:case Hr:return kh(i,d);case Wt:return new x;case En:case Ct:return new x(i);case gn:return S1(i);case at:return new x;case en:return E1(i)}}function D1(i,s){var d=s.length;if(!d)return i;var x=d-1;return s[x]=(d>1?"& ":"")+s[x],s=s.join(d>2?", ":" "),i.replace(mn,`{
/* [wrapped with `+s+`] */
`)}function G1(i){return ct(i)||$o(i)||!!(Ee&&i&&i[Ee])}function Oi(i,s){var d=typeof i;return s=s??ge,!!s&&(d=="number"||d!="symbol"&&_i.test(i))&&i>-1&&i%1==0&&i<s}function nr(i,s,d){if(!qt(d))return!1;var x=typeof s;return(x=="number"?hr(d)&&Oi(s,d.length):x=="string"&&s in d)?Yr(d[s],i):!1}function Ol(i,s){if(ct(i))return!1;var d=typeof i;return d=="number"||d=="symbol"||d=="boolean"||i==null||Sr(i)?!0:oi.test(i)||!Ei.test(i)||s!=null&&i in Ft(s)}function U1(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function Nl(i){var s=_u(i),d=M[s];if(typeof d!="function"||!(s in bt.prototype))return!1;if(i===d)return!0;var x=kl(d);return!!x&&i===x[0]}function W1(i){return!!Le&&Le in i}var H1=P?Ni:Zl;function us(i){var s=i&&i.constructor,d=typeof s=="function"&&s.prototype||S;return i===d}function qh(i){return i===i&&!qt(i)}function Jh(i,s){return function(d){return d==null?!1:d[i]===s&&(s!==n||i in Ft(d))}}function z1(i){var s=Iu(i,function(x){return d.size===p&&d.clear(),x}),d=s.cache;return s}function j1(i,s){var d=i[1],x=s[1],C=d|x,k=C<(B|H|ye),U=x==ye&&d==W||x==ye&&d==Te&&i[7].length<=s[8]||x==(ye|Te)&&s[7].length<=s[8]&&d==W;if(!(k||U))return i;x&B&&(i[2]=s[2],C|=d&B?0:Q);var q=s[3];if(q){var ne=i[3];i[3]=ne?Fh(ne,q,s[4]):q,i[4]=ne?cr(i[3],b):s[4]}return q=s[5],q&&(ne=i[5],i[5]=ne?Oh(ne,q,s[6]):q,i[6]=ne?cr(i[5],b):s[6]),q=s[7],q&&(i[7]=q),x&ye&&(i[8]=i[8]==null?s[8]:Xn(i[8],s[8])),i[9]==null&&(i[9]=s[9]),i[0]=s[0],i[1]=C,i}function V1(i){var s=[];if(i!=null)for(var d in Ft(i))s.push(d);return s}function X1(i){return ze.call(i)}function Zh(i,s,d){return s=xn(s===n?i.length-1:s,0),function(){for(var x=arguments,C=-1,k=xn(x.length-s,0),U=le(k);++C<k;)U[C]=x[s+C];C=-1;for(var q=le(s+1);++C<s;)q[C]=x[C];return q[s]=d(U),qn(i,this,q)}}function ep(i,s){return s.length<2?i:Fo(i,Mr(s,0,-1))}function Y1(i,s){for(var d=i.length,x=Xn(s.length,d),C=dr(i);x--;){var k=s[x];i[x]=Oi(k,d)?C[k]:n}return i}function $l(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var tp=rp(Ah),cs=Ce||function(i,s){return Ht.setTimeout(i,s)},Bl=rp(y1);function np(i,s,d){var x=s+"";return Bl(i,D1(x,K1(N1(x),d)))}function rp(i){var s=0,d=0;return function(){var x=hv(),C=ce-(x-d);if(d=x,C>0){if(++s>=ie)return arguments[0]}else s=0;return i.apply(n,arguments)}}function Tu(i,s){var d=-1,x=i.length,C=x-1;for(s=s===n?x:s;++d<s;){var k=bl(d,C),U=i[k];i[k]=i[d],i[d]=U}return i.length=s,i}var ip=z1(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(ai,function(d,x,C,k){s.push(C?k.replace(zr,"$1"):x||d)}),s});function fi(i){if(typeof i=="string"||Sr(i))return i;var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}function No(i){if(i!=null){try{return G.call(i)}catch{}try{return i+""}catch{}}return""}function K1(i,s){return On(it,function(d){var x="_."+d[0];s&d[1]&&!sn(i,x)&&i.push(x)}),i.sort()}function op(i){if(i instanceof bt)return i.clone();var s=new Pr(i.__wrapped__,i.__chain__);return s.__actions__=dr(i.__actions__),s.__index__=i.__index__,s.__values__=i.__values__,s}function Q1(i,s,d){(d?nr(i,s,d):s===n)?s=1:s=xn(ft(s),0);var x=i==null?0:i.length;if(!x||s<1)return[];for(var C=0,k=0,U=le(Ge(x/s));C<x;)U[k++]=Mr(i,C,C+=s);return U}function q1(i){for(var s=-1,d=i==null?0:i.length,x=0,C=[];++s<d;){var k=i[s];k&&(C[x++]=k)}return C}function J1(){var i=arguments.length;if(!i)return[];for(var s=le(i-1),d=arguments[0],x=i;x--;)s[x-1]=arguments[x];return ui(ct(d)?dr(d):[d],$n(s,1))}var Z1=gt(function(i,s){return ln(i)?rs(i,$n(s,1,ln,!0)):[]}),ew=gt(function(i,s){var d=Ir(s);return ln(d)&&(d=n),ln(i)?rs(i,$n(s,1,ln,!0),Qe(d,2)):[]}),tw=gt(function(i,s){var d=Ir(s);return ln(d)&&(d=n),ln(i)?rs(i,$n(s,1,ln,!0),n,d):[]});function nw(i,s,d){var x=i==null?0:i.length;return x?(s=d||s===n?1:ft(s),Mr(i,s<0?0:s,x)):[]}function rw(i,s,d){var x=i==null?0:i.length;return x?(s=d||s===n?1:ft(s),s=x-s,Mr(i,0,s<0?0:s)):[]}function iw(i,s){return i&&i.length?wu(i,Qe(s,3),!0,!0):[]}function ow(i,s){return i&&i.length?wu(i,Qe(s,3),!0):[]}function aw(i,s,d,x){var C=i==null?0:i.length;return C?(d&&typeof d!="number"&&nr(i,s,d)&&(d=0,x=C),Jv(i,s,d,x)):[]}function ap(i,s,d){var x=i==null?0:i.length;if(!x)return-1;var C=d==null?0:ft(d);return C<0&&(C=xn(x+C,0)),oa(i,Qe(s,3),C)}function sp(i,s,d){var x=i==null?0:i.length;if(!x)return-1;var C=x-1;return d!==n&&(C=ft(d),C=d<0?xn(x+C,0):Xn(C,x-1)),oa(i,Qe(s,3),C,!0)}function up(i){var s=i==null?0:i.length;return s?$n(i,1):[]}function sw(i){var s=i==null?0:i.length;return s?$n(i,te):[]}function uw(i,s){var d=i==null?0:i.length;return d?(s=s===n?1:ft(s),$n(i,s)):[]}function cw(i){for(var s=-1,d=i==null?0:i.length,x={};++s<d;){var C=i[s];x[C[0]]=C[1]}return x}function cp(i){return i&&i.length?i[0]:n}function lw(i,s,d){var x=i==null?0:i.length;if(!x)return-1;var C=d==null?0:ft(d);return C<0&&(C=xn(x+C,0)),oo(i,s,C)}function fw(i){var s=i==null?0:i.length;return s?Mr(i,0,-1):[]}var dw=gt(function(i){var s=zt(i,_l);return s.length&&s[0]===i[0]?gl(s):[]}),hw=gt(function(i){var s=Ir(i),d=zt(i,_l);return s===Ir(d)?s=n:d.pop(),d.length&&d[0]===i[0]?gl(d,Qe(s,2)):[]}),pw=gt(function(i){var s=Ir(i),d=zt(i,_l);return s=typeof s=="function"?s:n,s&&d.pop(),d.length&&d[0]===i[0]?gl(d,n,s):[]});function gw(i,s){return i==null?"":fv.call(i,s)}function Ir(i){var s=i==null?0:i.length;return s?i[s-1]:n}function mw(i,s,d){var x=i==null?0:i.length;if(!x)return-1;var C=x;return d!==n&&(C=ft(d),C=C<0?xn(x+C,0):Xn(C,x-1)),s===s?Qa(i,s,C):oa(i,uu,C,!0)}function yw(i,s){return i&&i.length?bh(i,ft(s)):n}var vw=gt(lp);function lp(i,s){return i&&i.length&&s&&s.length?wl(i,s):i}function ww(i,s,d){return i&&i.length&&s&&s.length?wl(i,s,Qe(d,2)):i}function bw(i,s,d){return i&&i.length&&s&&s.length?wl(i,s,n,d):i}var xw=Fi(function(i,s){var d=i==null?0:i.length,x=fl(i,s);return Eh(i,zt(s,function(C){return Oi(C,d)?+C:C}).sort(Rh)),x});function Sw(i,s){var d=[];if(!(i&&i.length))return d;var x=-1,C=[],k=i.length;for(s=Qe(s,3);++x<k;){var U=i[x];s(U,x,i)&&(d.push(U),C.push(x))}return Eh(i,C),d}function Dl(i){return i==null?i:gv.call(i)}function Ew(i,s,d){var x=i==null?0:i.length;return x?(d&&typeof d!="number"&&nr(i,s,d)?(s=0,d=x):(s=s==null?0:ft(s),d=d===n?x:ft(d)),Mr(i,s,d)):[]}function Aw(i,s){return vu(i,s)}function _w(i,s,d){return Sl(i,s,Qe(d,2))}function Cw(i,s){var d=i==null?0:i.length;if(d){var x=vu(i,s);if(x<d&&Yr(i[x],s))return x}return-1}function Tw(i,s){return vu(i,s,!0)}function Pw(i,s,d){return Sl(i,s,Qe(d,2),!0)}function Lw(i,s){var d=i==null?0:i.length;if(d){var x=vu(i,s,!0)-1;if(Yr(i[x],s))return x}return-1}function Mw(i){return i&&i.length?_h(i):[]}function Iw(i,s){return i&&i.length?_h(i,Qe(s,2)):[]}function kw(i){var s=i==null?0:i.length;return s?Mr(i,1,s):[]}function Rw(i,s,d){return i&&i.length?(s=d||s===n?1:ft(s),Mr(i,0,s<0?0:s)):[]}function Fw(i,s,d){var x=i==null?0:i.length;return x?(s=d||s===n?1:ft(s),s=x-s,Mr(i,s<0?0:s,x)):[]}function Ow(i,s){return i&&i.length?wu(i,Qe(s,3),!1,!0):[]}function Nw(i,s){return i&&i.length?wu(i,Qe(s,3)):[]}var $w=gt(function(i){return ho($n(i,1,ln,!0))}),Bw=gt(function(i){var s=Ir(i);return ln(s)&&(s=n),ho($n(i,1,ln,!0),Qe(s,2))}),Dw=gt(function(i){var s=Ir(i);return s=typeof s=="function"?s:n,ho($n(i,1,ln,!0),n,s)});function Gw(i){return i&&i.length?ho(i):[]}function Uw(i,s){return i&&i.length?ho(i,Qe(s,2)):[]}function Ww(i,s){return s=typeof s=="function"?s:n,i&&i.length?ho(i,n,s):[]}function Gl(i){if(!(i&&i.length))return[];var s=0;return i=Vt(i,function(d){if(ln(d))return s=xn(d.length,s),!0}),m(s,function(d){return zt(i,Xa(d))})}function fp(i,s){if(!(i&&i.length))return[];var d=Gl(i);return s==null?d:zt(d,function(x){return qn(s,n,x)})}var Hw=gt(function(i,s){return ln(i)?rs(i,s):[]}),zw=gt(function(i){return Al(Vt(i,ln))}),jw=gt(function(i){var s=Ir(i);return ln(s)&&(s=n),Al(Vt(i,ln),Qe(s,2))}),Vw=gt(function(i){var s=Ir(i);return s=typeof s=="function"?s:n,Al(Vt(i,ln),n,s)}),Xw=gt(Gl);function Yw(i,s){return Lh(i||[],s||[],ns)}function Kw(i,s){return Lh(i||[],s||[],as)}var Qw=gt(function(i){var s=i.length,d=s>1?i[s-1]:n;return d=typeof d=="function"?(i.pop(),d):n,fp(i,d)});function dp(i){var s=M(i);return s.__chain__=!0,s}function qw(i,s){return s(i),i}function Pu(i,s){return s(i)}var Jw=Fi(function(i){var s=i.length,d=s?i[0]:0,x=this.__wrapped__,C=function(k){return fl(k,i)};return s>1||this.__actions__.length||!(x instanceof bt)||!Oi(d)?this.thru(C):(x=x.slice(d,+d+(s?1:0)),x.__actions__.push({func:Pu,args:[C],thisArg:n}),new Pr(x,this.__chain__).thru(function(k){return s&&!k.length&&k.push(n),k}))});function Zw(){return dp(this)}function eb(){return new Pr(this.value(),this.__chain__)}function tb(){this.__values__===n&&(this.__values__=Cp(this.value()));var i=this.__index__>=this.__values__.length,s=i?n:this.__values__[this.__index__++];return{done:i,value:s}}function nb(){return this}function rb(i){for(var s,d=this;d instanceof hu;){var x=op(d);x.__index__=0,x.__values__=n,s?C.__wrapped__=x:s=x;var C=x;d=d.__wrapped__}return C.__wrapped__=i,s}function ib(){var i=this.__wrapped__;if(i instanceof bt){var s=i;return this.__actions__.length&&(s=new bt(this)),s=s.reverse(),s.__actions__.push({func:Pu,args:[Dl],thisArg:n}),new Pr(s,this.__chain__)}return this.thru(Dl)}function ob(){return Ph(this.__wrapped__,this.__actions__)}var ab=bu(function(i,s,d){Y.call(i,d)?++i[d]:ki(i,d,1)});function sb(i,s,d){var x=ct(i)?za:qv;return d&&nr(i,s,d)&&(s=n),x(i,Qe(s,3))}function ub(i,s){var d=ct(i)?Vt:fh;return d(i,Qe(s,3))}var cb=Dh(ap),lb=Dh(sp);function fb(i,s){return $n(Lu(i,s),1)}function db(i,s){return $n(Lu(i,s),te)}function hb(i,s,d){return d=d===n?1:ft(d),$n(Lu(i,s),d)}function hp(i,s){var d=ct(i)?On:fo;return d(i,Qe(s,3))}function pp(i,s){var d=ct(i)?jr:lh;return d(i,Qe(s,3))}var pb=bu(function(i,s,d){Y.call(i,d)?i[d].push(s):ki(i,d,[s])});function gb(i,s,d,x){i=hr(i)?i:ha(i),d=d&&!x?ft(d):0;var C=i.length;return d<0&&(d=xn(C+d,0)),Fu(i)?d<=C&&i.indexOf(s,d)>-1:!!C&&oo(i,s,d)>-1}var mb=gt(function(i,s,d){var x=-1,C=typeof s=="function",k=hr(i)?le(i.length):[];return fo(i,function(U){k[++x]=C?qn(s,U,d):is(U,s,d)}),k}),yb=bu(function(i,s,d){ki(i,d,s)});function Lu(i,s){var d=ct(i)?zt:yh;return d(i,Qe(s,3))}function vb(i,s,d,x){return i==null?[]:(ct(s)||(s=s==null?[]:[s]),d=x?n:d,ct(d)||(d=d==null?[]:[d]),xh(i,s,d))}var wb=bu(function(i,s,d){i[d?0:1].push(s)},function(){return[[],[]]});function bb(i,s,d){var x=ct(i)?ja:Ya,C=arguments.length<3;return x(i,Qe(s,4),d,C,fo)}function xb(i,s,d){var x=ct(i)?rl:Ya,C=arguments.length<3;return x(i,Qe(s,4),d,C,lh)}function Sb(i,s){var d=ct(i)?Vt:fh;return d(i,ku(Qe(s,3)))}function Eb(i){var s=ct(i)?ah:g1;return s(i)}function Ab(i,s,d){(d?nr(i,s,d):s===n)?s=1:s=ft(s);var x=ct(i)?Vv:m1;return x(i,s)}function _b(i){var s=ct(i)?Xv:v1;return s(i)}function Cb(i){if(i==null)return 0;if(hr(i))return Fu(i)?Nn(i):i.length;var s=Yn(i);return s==Wt||s==at?i.size:yl(i).length}function Tb(i,s,d){var x=ct(i)?Va:w1;return d&&nr(i,s,d)&&(s=n),x(i,Qe(s,3))}var Pb=gt(function(i,s){if(i==null)return[];var d=s.length;return d>1&&nr(i,s[0],s[1])?s=[]:d>2&&nr(s[0],s[1],s[2])&&(s=[s[0]]),xh(i,$n(s,1),[])}),Mu=be||function(){return Ht.Date.now()};function Lb(i,s){if(typeof s!="function")throw new fr(c);return i=ft(i),function(){if(--i<1)return s.apply(this,arguments)}}function gp(i,s,d){return s=d?n:s,s=i&&s==null?i.length:s,Ri(i,ye,n,n,n,n,s)}function mp(i,s){var d;if(typeof s!="function")throw new fr(c);return i=ft(i),function(){return--i>0&&(d=s.apply(this,arguments)),i<=1&&(s=n),d}}var Ul=gt(function(i,s,d){var x=B;if(d.length){var C=cr(d,fa(Ul));x|=fe}return Ri(i,x,s,d,C)}),yp=gt(function(i,s,d){var x=B|H;if(d.length){var C=cr(d,fa(yp));x|=fe}return Ri(s,x,i,d,C)});function vp(i,s,d){s=d?n:s;var x=Ri(i,W,n,n,n,n,n,s);return x.placeholder=vp.placeholder,x}function wp(i,s,d){s=d?n:s;var x=Ri(i,se,n,n,n,n,n,s);return x.placeholder=wp.placeholder,x}function bp(i,s,d){var x,C,k,U,q,ne,we=0,xe=!1,_e=!1,Ne=!0;if(typeof i!="function")throw new fr(c);s=kr(s)||0,qt(d)&&(xe=!!d.leading,_e="maxWait"in d,k=_e?xn(kr(d.maxWait)||0,s):k,Ne="trailing"in d?!!d.trailing:Ne);function Xe(fn){var Kr=x,Bi=C;return x=C=n,we=fn,U=i.apply(Bi,Kr),U}function Je(fn){return we=fn,q=cs(wt,s),xe?Xe(fn):U}function ht(fn){var Kr=fn-ne,Bi=fn-we,Dp=s-Kr;return _e?Xn(Dp,k-Bi):Dp}function Ze(fn){var Kr=fn-ne,Bi=fn-we;return ne===n||Kr>=s||Kr<0||_e&&Bi>=k}function wt(){var fn=Mu();if(Ze(fn))return St(fn);q=cs(wt,ht(fn))}function St(fn){return q=n,Ne&&x?Xe(fn):(x=C=n,U)}function Er(){q!==n&&Mh(q),we=0,x=ne=C=q=n}function rr(){return q===n?U:St(Mu())}function Ar(){var fn=Mu(),Kr=Ze(fn);if(x=arguments,C=this,ne=fn,Kr){if(q===n)return Je(ne);if(_e)return Mh(q),q=cs(wt,s),Xe(ne)}return q===n&&(q=cs(wt,s)),U}return Ar.cancel=Er,Ar.flush=rr,Ar}var Mb=gt(function(i,s){return ch(i,1,s)}),Ib=gt(function(i,s,d){return ch(i,kr(s)||0,d)});function kb(i){return Ri(i,O)}function Iu(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new fr(c);var d=function(){var x=arguments,C=s?s.apply(this,x):x[0],k=d.cache;if(k.has(C))return k.get(C);var U=i.apply(this,x);return d.cache=k.set(C,U)||k,U};return d.cache=new(Iu.Cache||Ii),d}Iu.Cache=Ii;function ku(i){if(typeof i!="function")throw new fr(c);return function(){var s=arguments;switch(s.length){case 0:return!i.call(this);case 1:return!i.call(this,s[0]);case 2:return!i.call(this,s[0],s[1]);case 3:return!i.call(this,s[0],s[1],s[2])}return!i.apply(this,s)}}function Rb(i){return mp(2,i)}var Fb=b1(function(i,s){s=s.length==1&&ct(s[0])?zt(s[0],I(Qe())):zt($n(s,1),I(Qe()));var d=s.length;return gt(function(x){for(var C=-1,k=Xn(x.length,d);++C<k;)x[C]=s[C].call(this,x[C]);return qn(i,this,x)})}),Wl=gt(function(i,s){var d=cr(s,fa(Wl));return Ri(i,fe,n,s,d)}),xp=gt(function(i,s){var d=cr(s,fa(xp));return Ri(i,oe,n,s,d)}),Ob=Fi(function(i,s){return Ri(i,Te,n,n,n,s)});function Nb(i,s){if(typeof i!="function")throw new fr(c);return s=s===n?s:ft(s),gt(i,s)}function $b(i,s){if(typeof i!="function")throw new fr(c);return s=s==null?0:xn(ft(s),0),gt(function(d){var x=d[s],C=go(d,0,s);return x&&ui(C,x),qn(i,this,C)})}function Bb(i,s,d){var x=!0,C=!0;if(typeof i!="function")throw new fr(c);return qt(d)&&(x="leading"in d?!!d.leading:x,C="trailing"in d?!!d.trailing:C),bp(i,s,{leading:x,maxWait:s,trailing:C})}function Db(i){return gp(i,1)}function Gb(i,s){return Wl(Cl(s),i)}function Ub(){if(!arguments.length)return[];var i=arguments[0];return ct(i)?i:[i]}function Wb(i){return Lr(i,T)}function Hb(i,s){return s=typeof s=="function"?s:n,Lr(i,T,s)}function zb(i){return Lr(i,w|T)}function jb(i,s){return s=typeof s=="function"?s:n,Lr(i,w|T,s)}function Vb(i,s){return s==null||uh(i,s,Pn(s))}function Yr(i,s){return i===s||i!==i&&s!==s}var Xb=Au(pl),Yb=Au(function(i,s){return i>=s}),$o=ph(function(){return arguments}())?ph:function(i){return rn(i)&&Y.call(i,"callee")&&!er.call(i,"callee")},ct=le.isArray,Kb=ou?I(ou):r1;function hr(i){return i!=null&&Ru(i.length)&&!Ni(i)}function ln(i){return rn(i)&&hr(i)}function Qb(i){return i===!0||i===!1||rn(i)&&tr(i)==In}var mo=Tr||Zl,qb=Ha?I(Ha):i1;function Jb(i){return rn(i)&&i.nodeType===1&&!ls(i)}function Zb(i){if(i==null)return!0;if(hr(i)&&(ct(i)||typeof i=="string"||typeof i.splice=="function"||mo(i)||da(i)||$o(i)))return!i.length;var s=Yn(i);if(s==Wt||s==at)return!i.size;if(us(i))return!yl(i).length;for(var d in i)if(Y.call(i,d))return!1;return!0}function ex(i,s){return os(i,s)}function tx(i,s,d){d=typeof d=="function"?d:n;var x=d?d(i,s):n;return x===n?os(i,s,n,d):!!x}function Hl(i){if(!rn(i))return!1;var s=tr(i);return s==Un||s==pn||typeof i.message=="string"&&typeof i.name=="string"&&!ls(i)}function nx(i){return typeof i=="number"&&lo(i)}function Ni(i){if(!qt(i))return!1;var s=tr(i);return s==Ut||s==wn||s==Nt||s==yr}function Sp(i){return typeof i=="number"&&i==ft(i)}function Ru(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=ge}function qt(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function rn(i){return i!=null&&typeof i=="object"}var Ep=Lo?I(Lo):a1;function rx(i,s){return i===s||ml(i,s,Rl(s))}function ix(i,s,d){return d=typeof d=="function"?d:n,ml(i,s,Rl(s),d)}function ox(i){return Ap(i)&&i!=+i}function ax(i){if(H1(i))throw new nt(u);return gh(i)}function sx(i){return i===null}function ux(i){return i==null}function Ap(i){return typeof i=="number"||rn(i)&&tr(i)==En}function ls(i){if(!rn(i)||tr(i)!=jt)return!1;var s=Qt(i);if(s===null)return!0;var d=Y.call(s,"constructor")&&s.constructor;return typeof d=="function"&&d instanceof d&&G.call(d)==Ve}var zl=J?I(J):s1;function cx(i){return Sp(i)&&i>=-9007199254740991&&i<=ge}var _p=jn?I(jn):u1;function Fu(i){return typeof i=="string"||!ct(i)&&rn(i)&&tr(i)==Ct}function Sr(i){return typeof i=="symbol"||rn(i)&&tr(i)==en}var da=au?I(au):c1;function lx(i){return i===n}function fx(i){return rn(i)&&Yn(i)==Dt}function dx(i){return rn(i)&&tr(i)==vt}var hx=Au(vl),px=Au(function(i,s){return i<=s});function Cp(i){if(!i)return[];if(hr(i))return Fu(i)?Jn(i):dr(i);if(_&&i[_])return Vn(i[_]());var s=Yn(i),d=s==Wt?un:s==at?lr:ha;return d(i)}function $i(i){if(!i)return i===0?i:0;if(i=kr(i),i===te||i===-1/0){var s=i<0?-1:1;return s*Me}return i===i?i:0}function ft(i){var s=$i(i),d=s%1;return s===s?d?s-d:s:0}function Tp(i){return i?Ro(ft(i),0,Pe):0}function kr(i){if(typeof i=="number")return i;if(Sr(i))return Fe;if(qt(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=qt(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=A(i);var d=Rn.test(i);return d||Ra.test(i)?na(i.slice(2),d?2:8):Ai.test(i)?Fe:+i}function Pp(i){return li(i,pr(i))}function gx(i){return i?Ro(ft(i),-9007199254740991,ge):i===0?i:0}function kt(i){return i==null?"":xr(i)}var mx=ca(function(i,s){if(us(s)||hr(s)){li(s,Pn(s),i);return}for(var d in s)Y.call(s,d)&&ns(i,d,s[d])}),Lp=ca(function(i,s){li(s,pr(s),i)}),Ou=ca(function(i,s,d,x){li(s,pr(s),i,x)}),yx=ca(function(i,s,d,x){li(s,Pn(s),i,x)}),vx=Fi(fl);function wx(i,s){var d=ua(i);return s==null?d:sh(d,s)}var bx=gt(function(i,s){i=Ft(i);var d=-1,x=s.length,C=x>2?s[2]:n;for(C&&nr(s[0],s[1],C)&&(x=1);++d<x;)for(var k=s[d],U=pr(k),q=-1,ne=U.length;++q<ne;){var we=U[q],xe=i[we];(xe===n||Yr(xe,S[we])&&!Y.call(i,we))&&(i[we]=k[we])}return i}),xx=gt(function(i){return i.push(n,Vh),qn(Mp,n,i)});function Sx(i,s){return su(i,Qe(s,3),ci)}function Ex(i,s){return su(i,Qe(s,3),hl)}function Ax(i,s){return i==null?i:dl(i,Qe(s,3),pr)}function _x(i,s){return i==null?i:dh(i,Qe(s,3),pr)}function Cx(i,s){return i&&ci(i,Qe(s,3))}function Tx(i,s){return i&&hl(i,Qe(s,3))}function Px(i){return i==null?[]:mu(i,Pn(i))}function Lx(i){return i==null?[]:mu(i,pr(i))}function jl(i,s,d){var x=i==null?n:Fo(i,s);return x===n?d:x}function Mx(i,s){return i!=null&&Kh(i,s,Zv)}function Vl(i,s){return i!=null&&Kh(i,s,e1)}var Ix=Uh(function(i,s,d){s!=null&&typeof s.toString!="function"&&(s=ze.call(s)),i[s]=d},Yl(gr)),kx=Uh(function(i,s,d){s!=null&&typeof s.toString!="function"&&(s=ze.call(s)),Y.call(i,s)?i[s].push(d):i[s]=[d]},Qe),Rx=gt(is);function Pn(i){return hr(i)?oh(i):yl(i)}function pr(i){return hr(i)?oh(i,!0):l1(i)}function Fx(i,s){var d={};return s=Qe(s,3),ci(i,function(x,C,k){ki(d,s(x,C,k),x)}),d}function Ox(i,s){var d={};return s=Qe(s,3),ci(i,function(x,C,k){ki(d,C,s(x,C,k))}),d}var Nx=ca(function(i,s,d){yu(i,s,d)}),Mp=ca(function(i,s,d,x){yu(i,s,d,x)}),$x=Fi(function(i,s){var d={};if(i==null)return d;var x=!1;s=zt(s,function(k){return k=po(k,i),x||(x=k.length>1),k}),li(i,Il(i),d),x&&(d=Lr(d,w|E|T,I1));for(var C=s.length;C--;)El(d,s[C]);return d});function Bx(i,s){return Ip(i,ku(Qe(s)))}var Dx=Fi(function(i,s){return i==null?{}:d1(i,s)});function Ip(i,s){if(i==null)return{};var d=zt(Il(i),function(x){return[x]});return s=Qe(s),Sh(i,d,function(x,C){return s(x,C[0])})}function Gx(i,s,d){s=po(s,i);var x=-1,C=s.length;for(C||(C=1,i=n);++x<C;){var k=i==null?n:i[fi(s[x])];k===n&&(x=C,k=d),i=Ni(k)?k.call(i):k}return i}function Ux(i,s,d){return i==null?i:as(i,s,d)}function Wx(i,s,d,x){return x=typeof x=="function"?x:n,i==null?i:as(i,s,d,x)}var kp=zh(Pn),Rp=zh(pr);function Hx(i,s,d){var x=ct(i),C=x||mo(i)||da(i);if(s=Qe(s,4),d==null){var k=i&&i.constructor;C?d=x?new k:[]:qt(i)?d=Ni(k)?ua(Qt(i)):{}:d={}}return(C?On:ci)(i,function(U,q,ne){return s(d,U,q,ne)}),d}function zx(i,s){return i==null?!0:El(i,s)}function jx(i,s,d){return i==null?i:Th(i,s,Cl(d))}function Vx(i,s,d,x){return x=typeof x=="function"?x:n,i==null?i:Th(i,s,Cl(d),x)}function ha(i){return i==null?[]:z(i,Pn(i))}function Xx(i){return i==null?[]:z(i,pr(i))}function Yx(i,s,d){return d===n&&(d=s,s=n),d!==n&&(d=kr(d),d=d===d?d:0),s!==n&&(s=kr(s),s=s===s?s:0),Ro(kr(i),s,d)}function Kx(i,s,d){return s=$i(s),d===n?(d=s,s=0):d=$i(d),i=kr(i),t1(i,s,d)}function Qx(i,s,d){if(d&&typeof d!="boolean"&&nr(i,s,d)&&(s=d=n),d===n&&(typeof s=="boolean"?(d=s,s=n):typeof i=="boolean"&&(d=i,i=n)),i===n&&s===n?(i=0,s=1):(i=$i(i),s===n?(s=i,i=0):s=$i(s)),i>s){var x=i;i=s,s=x}if(d||i%1||s%1){var C=rh();return Xn(i+C*(s-i+iu("1e-"+((C+"").length-1))),s)}return bl(i,s)}var qx=la(function(i,s,d){return s=s.toLowerCase(),i+(d?Fp(s):s)});function Fp(i){return Xl(kt(i).toLowerCase())}function Op(i){return i=kt(i),i&&i.replace(Qn,Ae).replace(ta,"")}function Jx(i,s,d){i=kt(i),s=xr(s);var x=i.length;d=d===n?x:Ro(ft(d),0,x);var C=d;return d-=s.length,d>=0&&i.slice(d,C)==s}function Zx(i){return i=kt(i),i&&Zi.test(i)?i.replace(vr,Ue):i}function eS(i){return i=kt(i),i&&ar.test(i)?i.replace(to,"\\$&"):i}var tS=la(function(i,s,d){return i+(d?"-":"")+s.toLowerCase()}),nS=la(function(i,s,d){return i+(d?" ":"")+s.toLowerCase()}),rS=Bh("toLowerCase");function iS(i,s,d){i=kt(i),s=ft(s);var x=s?Nn(i):0;if(!s||x>=s)return i;var C=(s-x)/2;return Eu(Pt(C),d)+i+Eu(Ge(C),d)}function oS(i,s,d){i=kt(i),s=ft(s);var x=s?Nn(i):0;return s&&x<s?i+Eu(s-x,d):i}function aS(i,s,d){i=kt(i),s=ft(s);var x=s?Nn(i):0;return s&&x<s?Eu(s-x,d)+i:i}function sS(i,s,d){return d||s==null?s=0:s&&(s=+s),pv(kt(i).replace(Yt,""),s||0)}function uS(i,s,d){return(d?nr(i,s,d):s===n)?s=1:s=ft(s),xl(kt(i),s)}function cS(){var i=arguments,s=kt(i[0]);return i.length<3?s:s.replace(i[1],i[2])}var lS=la(function(i,s,d){return i+(d?"_":"")+s.toLowerCase()});function fS(i,s,d){return d&&typeof d!="number"&&nr(i,s,d)&&(s=d=n),d=d===n?Pe:d>>>0,d?(i=kt(i),i&&(typeof s=="string"||s!=null&&!zl(s))&&(s=xr(s),!s&&tt(i))?go(Jn(i),0,d):i.split(s,d)):[]}var dS=la(function(i,s,d){return i+(d?" ":"")+Xl(s)});function hS(i,s,d){return i=kt(i),d=d==null?0:Ro(ft(d),0,i.length),s=xr(s),i.slice(d,d+s.length)==s}function pS(i,s,d){var x=M.templateSettings;d&&nr(i,s,d)&&(s=n),i=kt(i),s=Ou({},s,x,jh);var C=Ou({},s.imports,x.imports,jh),k=Pn(C),U=z(C,k),q,ne,we=0,xe=s.interpolate||Zo,_e="__p += '",Ne=lt((s.escape||Zo).source+"|"+xe.source+"|"+(xe===eo?Jo:Zo).source+"|"+(s.evaluate||Zo).source+"|$","g"),Xe="//# sourceURL="+(Y.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tu+"]")+`
`;i.replace(Ne,function(Ze,wt,St,Er,rr,Ar){return St||(St=Er),_e+=i.slice(we,Ar).replace(Xc,ae),wt&&(q=!0,_e+=`' +
__e(`+wt+`) +
'`),rr&&(ne=!0,_e+=`';
`+rr+`;
__p += '`),St&&(_e+=`' +
((__t = (`+St+`)) == null ? '' : __t) +
'`),we=Ar+Ze.length,Ze}),_e+=`';
`;var Je=Y.call(s,"variable")&&s.variable;if(!Je)_e=`with (obj) {
`+_e+`
}
`;else if(kn.test(Je))throw new nt(l);_e=(ne?_e.replace(Si,""):_e).replace(ka,"$1").replace(Ji,"$1;"),_e="function("+(Je||"obj")+`) {
`+(Je?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(ne?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var ht=$p(function(){return Et(k,Xe+"return "+_e).apply(n,U)});if(ht.source=_e,Hl(ht))throw ht;return ht}function gS(i){return kt(i).toLowerCase()}function mS(i){return kt(i).toUpperCase()}function yS(i,s,d){if(i=kt(i),i&&(d||s===n))return A(i);if(!i||!(s=xr(s)))return i;var x=Jn(i),C=Jn(s),k=N(x,C),U=X(x,C)+1;return go(x,k,U).join("")}function vS(i,s,d){if(i=kt(i),i&&(d||s===n))return i.slice(0,Tn(i)+1);if(!i||!(s=xr(s)))return i;var x=Jn(i),C=X(x,Jn(s))+1;return go(x,0,C).join("")}function wS(i,s,d){if(i=kt(i),i&&(d||s===n))return i.replace(Yt,"");if(!i||!(s=xr(s)))return i;var x=Jn(i),C=N(x,Jn(s));return go(x,C).join("")}function bS(i,s){var d=K,x=V;if(qt(s)){var C="separator"in s?s.separator:C;d="length"in s?ft(s.length):d,x="omission"in s?xr(s.omission):x}i=kt(i);var k=i.length;if(tt(i)){var U=Jn(i);k=U.length}if(d>=k)return i;var q=d-Nn(x);if(q<1)return x;var ne=U?go(U,0,q).join(""):i.slice(0,q);if(C===n)return ne+x;if(U&&(q+=ne.length-q),zl(C)){if(i.slice(q).search(C)){var we,xe=ne;for(C.global||(C=lt(C.source,kt(_n.exec(C))+"g")),C.lastIndex=0;we=C.exec(xe);)var _e=we.index;ne=ne.slice(0,_e===n?q:_e)}}else if(i.indexOf(xr(C),q)!=q){var Ne=ne.lastIndexOf(C);Ne>-1&&(ne=ne.slice(0,Ne))}return ne+x}function xS(i){return i=kt(i),i&&Qo.test(i)?i.replace(ni,Mt):i}var SS=la(function(i,s,d){return i+(d?" ":"")+s.toUpperCase()}),Xl=Bh("toUpperCase");function Np(i,s,d){return i=kt(i),s=d?n:s,s===n?rt(i)?qa(i):al(i):i.match(s)||[]}var $p=gt(function(i,s){try{return qn(i,n,s)}catch(d){return Hl(d)?d:new nt(d)}}),ES=Fi(function(i,s){return On(s,function(d){d=fi(d),ki(i,d,Ul(i[d],i))}),i});function AS(i){var s=i==null?0:i.length,d=Qe();return i=s?zt(i,function(x){if(typeof x[1]!="function")throw new fr(c);return[d(x[0]),x[1]]}):[],gt(function(x){for(var C=-1;++C<s;){var k=i[C];if(qn(k[0],this,x))return qn(k[1],this,x)}})}function _S(i){return Qv(Lr(i,w))}function Yl(i){return function(){return i}}function CS(i,s){return i==null||i!==i?s:i}var TS=Gh(),PS=Gh(!0);function gr(i){return i}function Kl(i){return mh(typeof i=="function"?i:Lr(i,w))}function LS(i){return vh(Lr(i,w))}function MS(i,s){return wh(i,Lr(s,w))}var IS=gt(function(i,s){return function(d){return is(d,i,s)}}),kS=gt(function(i,s){return function(d){return is(i,d,s)}});function Ql(i,s,d){var x=Pn(s),C=mu(s,x);d==null&&!(qt(s)&&(C.length||!x.length))&&(d=s,s=i,i=this,C=mu(s,Pn(s)));var k=!(qt(d)&&"chain"in d)||!!d.chain,U=Ni(i);return On(C,function(q){var ne=s[q];i[q]=ne,U&&(i.prototype[q]=function(){var we=this.__chain__;if(k||we){var xe=i(this.__wrapped__),_e=xe.__actions__=dr(this.__actions__);return _e.push({func:ne,args:arguments,thisArg:i}),xe.__chain__=we,xe}return ne.apply(i,ui([this.value()],arguments))})}),i}function RS(){return Ht._===this&&(Ht._=pt),this}function ql(){}function FS(i){return i=ft(i),gt(function(s){return bh(s,i)})}var OS=Pl(zt),NS=Pl(za),$S=Pl(Va);function Bp(i){return Ol(i)?Xa(fi(i)):h1(i)}function BS(i){return function(s){return i==null?n:Fo(i,s)}}var DS=Wh(),GS=Wh(!0);function Jl(){return[]}function Zl(){return!1}function US(){return{}}function WS(){return""}function HS(){return!0}function zS(i,s){if(i=ft(i),i<1||i>ge)return[];var d=Pe,x=Xn(i,Pe);s=Qe(s),i-=Pe;for(var C=m(x,s);++d<i;)s(d);return C}function jS(i){return ct(i)?zt(i,fi):Sr(i)?[i]:dr(ip(kt(i)))}function VS(i){var s=++de;return kt(i)+s}var XS=Su(function(i,s){return i+s},0),YS=Ll("ceil"),KS=Su(function(i,s){return i/s},1),QS=Ll("floor");function qS(i){return i&&i.length?gu(i,gr,pl):n}function JS(i,s){return i&&i.length?gu(i,Qe(s,2),pl):n}function ZS(i){return cu(i,gr)}function e2(i,s){return cu(i,Qe(s,2))}function t2(i){return i&&i.length?gu(i,gr,vl):n}function n2(i,s){return i&&i.length?gu(i,Qe(s,2),vl):n}var r2=Su(function(i,s){return i*s},1),i2=Ll("round"),o2=Su(function(i,s){return i-s},0);function a2(i){return i&&i.length?f(i,gr):0}function s2(i,s){return i&&i.length?f(i,Qe(s,2)):0}return M.after=Lb,M.ary=gp,M.assign=mx,M.assignIn=Lp,M.assignInWith=Ou,M.assignWith=yx,M.at=vx,M.before=mp,M.bind=Ul,M.bindAll=ES,M.bindKey=yp,M.castArray=Ub,M.chain=dp,M.chunk=Q1,M.compact=q1,M.concat=J1,M.cond=AS,M.conforms=_S,M.constant=Yl,M.countBy=ab,M.create=wx,M.curry=vp,M.curryRight=wp,M.debounce=bp,M.defaults=bx,M.defaultsDeep=xx,M.defer=Mb,M.delay=Ib,M.difference=Z1,M.differenceBy=ew,M.differenceWith=tw,M.drop=nw,M.dropRight=rw,M.dropRightWhile=iw,M.dropWhile=ow,M.fill=aw,M.filter=ub,M.flatMap=fb,M.flatMapDeep=db,M.flatMapDepth=hb,M.flatten=up,M.flattenDeep=sw,M.flattenDepth=uw,M.flip=kb,M.flow=TS,M.flowRight=PS,M.fromPairs=cw,M.functions=Px,M.functionsIn=Lx,M.groupBy=pb,M.initial=fw,M.intersection=dw,M.intersectionBy=hw,M.intersectionWith=pw,M.invert=Ix,M.invertBy=kx,M.invokeMap=mb,M.iteratee=Kl,M.keyBy=yb,M.keys=Pn,M.keysIn=pr,M.map=Lu,M.mapKeys=Fx,M.mapValues=Ox,M.matches=LS,M.matchesProperty=MS,M.memoize=Iu,M.merge=Nx,M.mergeWith=Mp,M.method=IS,M.methodOf=kS,M.mixin=Ql,M.negate=ku,M.nthArg=FS,M.omit=$x,M.omitBy=Bx,M.once=Rb,M.orderBy=vb,M.over=OS,M.overArgs=Fb,M.overEvery=NS,M.overSome=$S,M.partial=Wl,M.partialRight=xp,M.partition=wb,M.pick=Dx,M.pickBy=Ip,M.property=Bp,M.propertyOf=BS,M.pull=vw,M.pullAll=lp,M.pullAllBy=ww,M.pullAllWith=bw,M.pullAt=xw,M.range=DS,M.rangeRight=GS,M.rearg=Ob,M.reject=Sb,M.remove=Sw,M.rest=Nb,M.reverse=Dl,M.sampleSize=Ab,M.set=Ux,M.setWith=Wx,M.shuffle=_b,M.slice=Ew,M.sortBy=Pb,M.sortedUniq=Mw,M.sortedUniqBy=Iw,M.split=fS,M.spread=$b,M.tail=kw,M.take=Rw,M.takeRight=Fw,M.takeRightWhile=Ow,M.takeWhile=Nw,M.tap=qw,M.throttle=Bb,M.thru=Pu,M.toArray=Cp,M.toPairs=kp,M.toPairsIn=Rp,M.toPath=jS,M.toPlainObject=Pp,M.transform=Hx,M.unary=Db,M.union=$w,M.unionBy=Bw,M.unionWith=Dw,M.uniq=Gw,M.uniqBy=Uw,M.uniqWith=Ww,M.unset=zx,M.unzip=Gl,M.unzipWith=fp,M.update=jx,M.updateWith=Vx,M.values=ha,M.valuesIn=Xx,M.without=Hw,M.words=Np,M.wrap=Gb,M.xor=zw,M.xorBy=jw,M.xorWith=Vw,M.zip=Xw,M.zipObject=Yw,M.zipObjectDeep=Kw,M.zipWith=Qw,M.entries=kp,M.entriesIn=Rp,M.extend=Lp,M.extendWith=Ou,Ql(M,M),M.add=XS,M.attempt=$p,M.camelCase=qx,M.capitalize=Fp,M.ceil=YS,M.clamp=Yx,M.clone=Wb,M.cloneDeep=zb,M.cloneDeepWith=jb,M.cloneWith=Hb,M.conformsTo=Vb,M.deburr=Op,M.defaultTo=CS,M.divide=KS,M.endsWith=Jx,M.eq=Yr,M.escape=Zx,M.escapeRegExp=eS,M.every=sb,M.find=cb,M.findIndex=ap,M.findKey=Sx,M.findLast=lb,M.findLastIndex=sp,M.findLastKey=Ex,M.floor=QS,M.forEach=hp,M.forEachRight=pp,M.forIn=Ax,M.forInRight=_x,M.forOwn=Cx,M.forOwnRight=Tx,M.get=jl,M.gt=Xb,M.gte=Yb,M.has=Mx,M.hasIn=Vl,M.head=cp,M.identity=gr,M.includes=gb,M.indexOf=lw,M.inRange=Kx,M.invoke=Rx,M.isArguments=$o,M.isArray=ct,M.isArrayBuffer=Kb,M.isArrayLike=hr,M.isArrayLikeObject=ln,M.isBoolean=Qb,M.isBuffer=mo,M.isDate=qb,M.isElement=Jb,M.isEmpty=Zb,M.isEqual=ex,M.isEqualWith=tx,M.isError=Hl,M.isFinite=nx,M.isFunction=Ni,M.isInteger=Sp,M.isLength=Ru,M.isMap=Ep,M.isMatch=rx,M.isMatchWith=ix,M.isNaN=ox,M.isNative=ax,M.isNil=ux,M.isNull=sx,M.isNumber=Ap,M.isObject=qt,M.isObjectLike=rn,M.isPlainObject=ls,M.isRegExp=zl,M.isSafeInteger=cx,M.isSet=_p,M.isString=Fu,M.isSymbol=Sr,M.isTypedArray=da,M.isUndefined=lx,M.isWeakMap=fx,M.isWeakSet=dx,M.join=gw,M.kebabCase=tS,M.last=Ir,M.lastIndexOf=mw,M.lowerCase=nS,M.lowerFirst=rS,M.lt=hx,M.lte=px,M.max=qS,M.maxBy=JS,M.mean=ZS,M.meanBy=e2,M.min=t2,M.minBy=n2,M.stubArray=Jl,M.stubFalse=Zl,M.stubObject=US,M.stubString=WS,M.stubTrue=HS,M.multiply=r2,M.nth=yw,M.noConflict=RS,M.noop=ql,M.now=Mu,M.pad=iS,M.padEnd=oS,M.padStart=aS,M.parseInt=sS,M.random=Qx,M.reduce=bb,M.reduceRight=xb,M.repeat=uS,M.replace=cS,M.result=Gx,M.round=i2,M.runInContext=Z,M.sample=Eb,M.size=Cb,M.snakeCase=lS,M.some=Tb,M.sortedIndex=Aw,M.sortedIndexBy=_w,M.sortedIndexOf=Cw,M.sortedLastIndex=Tw,M.sortedLastIndexBy=Pw,M.sortedLastIndexOf=Lw,M.startCase=dS,M.startsWith=hS,M.subtract=o2,M.sum=a2,M.sumBy=s2,M.template=pS,M.times=zS,M.toFinite=$i,M.toInteger=ft,M.toLength=Tp,M.toLower=gS,M.toNumber=kr,M.toSafeInteger=gx,M.toString=kt,M.toUpper=mS,M.trim=yS,M.trimEnd=vS,M.trimStart=wS,M.truncate=bS,M.unescape=xS,M.uniqueId=VS,M.upperCase=SS,M.upperFirst=Xl,M.each=hp,M.eachRight=pp,M.first=cp,Ql(M,function(){var i={};return ci(M,function(s,d){Y.call(M.prototype,d)||(i[d]=s)}),i}(),{chain:!1}),M.VERSION=r,On(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){M[i].placeholder=M}),On(["drop","take"],function(i,s){bt.prototype[i]=function(d){d=d===n?1:xn(ft(d),0);var x=this.__filtered__&&!s?new bt(this):this.clone();return x.__filtered__?x.__takeCount__=Xn(d,x.__takeCount__):x.__views__.push({size:Xn(d,Pe),type:i+(x.__dir__<0?"Right":"")}),x},bt.prototype[i+"Right"]=function(d){return this.reverse()[i](d).reverse()}}),On(["filter","map","takeWhile"],function(i,s){var d=s+1,x=d==ee||d==j;bt.prototype[i]=function(C){var k=this.clone();return k.__iteratees__.push({iteratee:Qe(C,3),type:d}),k.__filtered__=k.__filtered__||x,k}}),On(["head","last"],function(i,s){var d="take"+(s?"Right":"");bt.prototype[i]=function(){return this[d](1).value()[0]}}),On(["initial","tail"],function(i,s){var d="drop"+(s?"":"Right");bt.prototype[i]=function(){return this.__filtered__?new bt(this):this[d](1)}}),bt.prototype.compact=function(){return this.filter(gr)},bt.prototype.find=function(i){return this.filter(i).head()},bt.prototype.findLast=function(i){return this.reverse().find(i)},bt.prototype.invokeMap=gt(function(i,s){return typeof i=="function"?new bt(this):this.map(function(d){return is(d,i,s)})}),bt.prototype.reject=function(i){return this.filter(ku(Qe(i)))},bt.prototype.slice=function(i,s){i=ft(i);var d=this;return d.__filtered__&&(i>0||s<0)?new bt(d):(i<0?d=d.takeRight(-i):i&&(d=d.drop(i)),s!==n&&(s=ft(s),d=s<0?d.dropRight(-s):d.take(s-i)),d)},bt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},bt.prototype.toArray=function(){return this.take(Pe)},ci(bt.prototype,function(i,s){var d=/^(?:filter|find|map|reject)|While$/.test(s),x=/^(?:head|last)$/.test(s),C=M[x?"take"+(s=="last"?"Right":""):s],k=x||/^find/.test(s);C&&(M.prototype[s]=function(){var U=this.__wrapped__,q=x?[1]:arguments,ne=U instanceof bt,we=q[0],xe=ne||ct(U),_e=function(wt){var St=C.apply(M,ui([wt],q));return x&&Ne?St[0]:St};xe&&d&&typeof we=="function"&&we.length!=1&&(ne=xe=!1);var Ne=this.__chain__,Xe=!!this.__actions__.length,Je=k&&!Ne,ht=ne&&!Xe;if(!k&&xe){U=ht?U:new bt(this);var Ze=i.apply(U,q);return Ze.__actions__.push({func:Pu,args:[_e],thisArg:n}),new Pr(Ze,Ne)}return Je&&ht?i.apply(this,q):(Ze=this.thru(_e),Je?x?Ze.value()[0]:Ze.value():Ze)})}),On(["pop","push","shift","sort","splice","unshift"],function(i){var s=y[i],d=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",x=/^(?:pop|shift)$/.test(i);M.prototype[i]=function(){var C=arguments;if(x&&!this.__chain__){var k=this.value();return s.apply(ct(k)?k:[],C)}return this[d](function(U){return s.apply(ct(U)?U:[],C)})}}),ci(bt.prototype,function(i,s){var d=M[s];if(d){var x=d.name+"";Y.call(sa,x)||(sa[x]=[]),sa[x].push({name:s,func:d})}}),sa[xu(n,H).name]=[{name:"wrapper",func:n}],bt.prototype.clone=xv,bt.prototype.reverse=Sv,bt.prototype.value=Ev,M.prototype.at=Jw,M.prototype.chain=Zw,M.prototype.commit=eb,M.prototype.next=tb,M.prototype.plant=rb,M.prototype.reverse=ib,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=ob,M.prototype.first=M.prototype.head,_&&(M.prototype[_]=nb),M},Li=co();Cr?((Cr.exports=Li)._=Li,Pi._=Li):Ht._=Li}).call(ma)})(rc,rc.exports);var Ye=rc.exports;const VI=Xo(Ye);var p2=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(e={}){var n=e,r,o;n.ready=new Promise((a,f)=>{r=a,o=f}),function(a){a.Td=a.Td||[],a.Td.push(function(){a.MakeSWCanvasSurface=function(f){var m=f,v=typeof OffscreenCanvas<"u"&&m instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&m instanceof HTMLCanvasElement||v||(m=document.getElementById(f),m)))throw"Canvas with id "+f+" was not found";return(f=a.MakeSurface(m.width,m.height))&&(f.Md=m),f},a.MakeCanvasSurface||(a.MakeCanvasSurface=a.MakeSWCanvasSurface),a.MakeSurface=function(f,m){var v={width:f,height:m,colorType:a.ColorType.RGBA_8888,alphaType:a.AlphaType.Unpremul,colorSpace:a.ColorSpace.SRGB},A=f*m*4,I=a._malloc(A);return(v=a.Surface._makeRasterDirect(v,I,4*f))&&(v.Md=null,v.If=f,v.Ef=m,v.Gf=A,v.cf=I,v.getCanvas().clear(a.TRANSPARENT)),v},a.MakeRasterDirectSurface=function(f,m,v){return a.Surface._makeRasterDirect(f,m.byteOffset,v)},a.Surface.prototype.flush=function(f){if(a.Nd(this.Ld),this._flush(),this.Md){var m=new Uint8ClampedArray(a.HEAPU8.buffer,this.cf,this.Gf);m=new ImageData(m,this.If,this.Ef),f?this.Md.getContext("2d").putImageData(m,0,0,f[0],f[1],f[2]-f[0],f[3]-f[1]):this.Md.getContext("2d").putImageData(m,0,0)}},a.Surface.prototype.dispose=function(){this.cf&&a._free(this.cf),this.delete()},a.Nd=a.Nd||function(){},a.Ue=a.Ue||function(){return null}})}(n),function(a){a.Td=a.Td||[],a.Td.push(function(){function f(R,N,X){return R&&R.hasOwnProperty(N)?R[N]:X}function m(R){var N=ro(zn);return zn[N]=R,N}function v(R){return R.naturalHeight||R.videoHeight||R.displayHeight||R.height}function A(R){return R.naturalWidth||R.videoWidth||R.displayWidth||R.width}function I(R,N,X,ve){return R.bindTexture(R.TEXTURE_2D,N),ve||X.alphaType!==a.AlphaType.Premul||R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),N}function z(R,N,X){X||N.alphaType!==a.AlphaType.Premul||R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),R.bindTexture(R.TEXTURE_2D,null)}a.GetWebGLContext=function(R,N){if(!R)throw"null canvas passed into makeWebGLContext";var X={alpha:f(N,"alpha",1),depth:f(N,"depth",1),stencil:f(N,"stencil",8),antialias:f(N,"antialias",0),premultipliedAlpha:f(N,"premultipliedAlpha",1),preserveDrawingBuffer:f(N,"preserveDrawingBuffer",0),preferLowPowerToHighPerformance:f(N,"preferLowPowerToHighPerformance",0),failIfMajorPerformanceCaveat:f(N,"failIfMajorPerformanceCaveat",0),enableExtensionsByDefault:f(N,"enableExtensionsByDefault",1),explicitSwapControl:f(N,"explicitSwapControl",0),renderViaOffscreenBackBuffer:f(N,"renderViaOffscreenBackBuffer",0)};if(X.majorVersion=N&&N.majorVersion?N.majorVersion:typeof WebGL2RenderingContext<"u"?2:1,X.explicitSwapControl)throw"explicitSwapControl is not supported";return R=Zc(R,X),R?(Js(R),ut.ge.getExtension("WEBGL_debug_renderer_info"),R):0},a.deleteContext=function(R){ut===br[R]&&(ut=null),typeof JSEvents=="object"&&JSEvents.yg(br[R].ge.canvas),br[R]&&br[R].ge.canvas&&(br[R].ge.canvas.Af=void 0),br[R]=null},a._setTextureCleanup({deleteTexture:function(R,N){var X=zn[N];X&&br[R].ge.deleteTexture(X),zn[N]=null}}),a.MakeWebGLContext=function(R){if(!this.Nd(R))return null;var N=this._MakeGrContext();if(!N)return null;N.Ld=R;var X=N.delete.bind(N);return N.delete=(function(){a.Nd(this.Ld),X()}).bind(N),ut.gf=N},a.MakeGrContext=a.MakeWebGLContext,a.GrDirectContext.prototype.getResourceCacheLimitBytes=function(){a.Nd(this.Ld),this._getResourceCacheLimitBytes()},a.GrDirectContext.prototype.getResourceCacheUsageBytes=function(){a.Nd(this.Ld),this._getResourceCacheUsageBytes()},a.GrDirectContext.prototype.releaseResourcesAndAbandonContext=function(){a.Nd(this.Ld),this._releaseResourcesAndAbandonContext()},a.GrDirectContext.prototype.setResourceCacheLimitBytes=function(R){a.Nd(this.Ld),this._setResourceCacheLimitBytes(R)},a.MakeOnScreenGLSurface=function(R,N,X,ve,Ae,Ue){return!this.Nd(R.Ld)||(N=Ae===void 0||Ue===void 0?this._MakeOnScreenGLSurface(R,N,X,ve):this._MakeOnScreenGLSurface(R,N,X,ve,Ae,Ue),!N)?null:(N.Ld=R.Ld,N)},a.MakeRenderTarget=function(){var R=arguments[0];if(!this.Nd(R.Ld))return null;if(arguments.length===3){var N=this._MakeRenderTargetWH(R,arguments[1],arguments[2]);if(!N)return null}else if(arguments.length===2){if(N=this._MakeRenderTargetII(R,arguments[1]),!N)return null}else return null;return N.Ld=R.Ld,N},a.MakeWebGLCanvasSurface=function(R,N,X){N=N||null;var ve=R,Ae=typeof OffscreenCanvas<"u"&&ve instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&ve instanceof HTMLCanvasElement||Ae||(ve=document.getElementById(R),ve)))throw"Canvas with id "+R+" was not found";if(R=this.GetWebGLContext(ve,X),!R||0>R)throw"failed to create webgl context: err "+R;return R=this.MakeWebGLContext(R),N=this.MakeOnScreenGLSurface(R,ve.width,ve.height,N),N||(N=ve.cloneNode(!0),ve.parentNode.replaceChild(N,ve),N.classList.add("ck-replaced"),a.MakeSWCanvasSurface(N))},a.MakeCanvasSurface=a.MakeWebGLCanvasSurface,a.Surface.prototype.makeImageFromTexture=function(R,N){return a.Nd(this.Ld),R=m(R),(N=this._makeImageFromTexture(this.Ld,R,N))&&(N.Me=R),N},a.Surface.prototype.makeImageFromTextureSource=function(R,N,X){N||(N={height:v(R),width:A(R),colorType:a.ColorType.RGBA_8888,alphaType:X?a.AlphaType.Premul:a.AlphaType.Unpremul}),N.colorSpace||(N.colorSpace=a.ColorSpace.SRGB),a.Nd(this.Ld);var ve=ut.ge;return X=I(ve,ve.createTexture(),N,X),ut.version===2?ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,N.width,N.height,0,ve.RGBA,ve.UNSIGNED_BYTE,R):ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,ve.RGBA,ve.UNSIGNED_BYTE,R),z(ve,N),this._resetContext(),this.makeImageFromTexture(X,N)},a.Surface.prototype.updateTextureFromSource=function(R,N,X){if(R.Me){a.Nd(this.Ld);var ve=R.getImageInfo(),Ae=ut.ge,Ue=I(Ae,zn[R.Me],ve,X);ut.version===2?Ae.texImage2D(Ae.TEXTURE_2D,0,Ae.RGBA,A(N),v(N),0,Ae.RGBA,Ae.UNSIGNED_BYTE,N):Ae.texImage2D(Ae.TEXTURE_2D,0,Ae.RGBA,Ae.RGBA,Ae.UNSIGNED_BYTE,N),z(Ae,ve,X),this._resetContext(),zn[R.Me]=null,R.Me=m(Ue),ve.colorSpace=R.getColorSpace(),N=this._makeImageFromTexture(this.Ld,R.Me,ve),X=R.Kd.Sd,Ae=R.Kd.Zd,R.Kd.Sd=N.Kd.Sd,R.Kd.Zd=N.Kd.Zd,N.Kd.Sd=X,N.Kd.Zd=Ae,N.delete(),ve.colorSpace.delete()}},a.MakeLazyImageFromTextureSource=function(R,N,X){N||(N={height:v(R),width:A(R),colorType:a.ColorType.RGBA_8888,alphaType:X?a.AlphaType.Premul:a.AlphaType.Unpremul}),N.colorSpace||(N.colorSpace=a.ColorSpace.SRGB);var ve={makeTexture:function(){var Ae=ut,Ue=Ae.ge,ae=I(Ue,Ue.createTexture(),N,X);return Ae.version===2?Ue.texImage2D(Ue.TEXTURE_2D,0,Ue.RGBA,N.width,N.height,0,Ue.RGBA,Ue.UNSIGNED_BYTE,R):Ue.texImage2D(Ue.TEXTURE_2D,0,Ue.RGBA,Ue.RGBA,Ue.UNSIGNED_BYTE,R),z(Ue,N,X),m(ae)},freeSrc:function(){}};return R.constructor.name==="VideoFrame"&&(ve.freeSrc=function(){R.close()}),a.Image._makeFromGenerator(N,ve)},a.Nd=function(R){return R?Js(R):!1},a.Ue=function(){return ut&&ut.gf&&!ut.gf.isDeleted()?ut.gf:null}})}(n),function(a){function f(y,g,S,P,G){for(var Y=0;Y<y.length;Y++)g[Y*S+(Y*G+P+S)%S]=y[Y];return g}function m(y){for(var g=y*y,S=Array(g);g--;)S[g]=g%(y+1)===0?1:0;return S}function v(y){return y?y.constructor===Float32Array&&y.length===4:!1}function A(y){return(R(255*y[3])<<24|R(255*y[0])<<16|R(255*y[1])<<8|R(255*y[2])<<0)>>>0}function I(y){if(y&&y._ck)return y;if(y instanceof Float32Array){for(var g=Math.floor(y.length/4),S=new Uint32Array(g),P=0;P<g;P++)S[P]=A(y.slice(4*P,4*(P+1)));return S}if(y instanceof Uint32Array)return y;if(y instanceof Array&&y[0]instanceof Float32Array)return y.map(A)}function z(y){if(y===void 0)return 1;var g=parseFloat(y);return y&&y.indexOf("%")!==-1?g/100:g}function R(y){return Math.round(Math.max(0,Math.min(y||0,255)))}function N(y,g){g&&g._ck||a._free(y)}function X(y,g,S){if(!y||!y.length)return lt;if(y&&y._ck)return y.byteOffset;var P=a[g].BYTES_PER_ELEMENT;return S||(S=a._malloc(y.length*P)),a[g].set(y,S/P),S}function ve(y){var g={ce:lt,count:y.length,colorType:a.ColorType.RGBA_F32};if(y instanceof Float32Array)g.ce=X(y,"HEAPF32"),g.count=y.length/4;else if(y instanceof Uint32Array)g.ce=X(y,"HEAPU32"),g.colorType=a.ColorType.RGBA_8888;else if(y instanceof Array){if(y&&y.length){for(var S=a._malloc(16*y.length),P=0,G=S/4,Y=0;Y<y.length;Y++)for(var de=0;4>de;de++)a.HEAPF32[G+P]=y[Y][de],P++;y=S}else y=lt;g.ce=y}else throw"Invalid argument to copyFlexibleColorArray, Not a color array "+typeof y;return g}function Ae(y){if(!y)return lt;var g=Ka.toTypedArray();if(y.length){if(y.length===6||y.length===9)return X(y,"HEAPF32",lr),y.length===6&&a.HEAPF32.set(Ft,6+lr/4),lr;if(y.length===16)return g[0]=y[0],g[1]=y[1],g[2]=y[3],g[3]=y[4],g[4]=y[5],g[5]=y[7],g[6]=y[12],g[7]=y[13],g[8]=y[15],lr;throw"invalid matrix size"}if(y.m11===void 0)throw"invalid matrix argument";return g[0]=y.m11,g[1]=y.m21,g[2]=y.m41,g[3]=y.m12,g[4]=y.m22,g[5]=y.m42,g[6]=y.m14,g[7]=y.m24,g[8]=y.m44,lr}function Ue(y){if(!y)return lt;var g=Qa.toTypedArray();if(y.length){if(y.length!==16&&y.length!==6&&y.length!==9)throw"invalid matrix size";return y.length===16?X(y,"HEAPF32",uo):(g.fill(0),g[0]=y[0],g[1]=y[1],g[3]=y[2],g[4]=y[3],g[5]=y[4],g[7]=y[5],g[10]=1,g[12]=y[6],g[13]=y[7],g[15]=y[8],y.length===6&&(g[12]=0,g[13]=0,g[15]=1),uo)}if(y.m11===void 0)throw"invalid matrix argument";return g[0]=y.m11,g[1]=y.m21,g[2]=y.m31,g[3]=y.m41,g[4]=y.m12,g[5]=y.m22,g[6]=y.m32,g[7]=y.m42,g[8]=y.m13,g[9]=y.m23,g[10]=y.m33,g[11]=y.m43,g[12]=y.m14,g[13]=y.m24,g[14]=y.m34,g[15]=y.m44,uo}function ae(y,g){return X(y,"HEAPF32",g||Nn)}function He(y,g,S,P){var G=Jn.toTypedArray();return G[0]=y,G[1]=g,G[2]=S,G[3]=P,Nn}function tt(y){for(var g=new Float32Array(4),S=0;4>S;S++)g[S]=a.HEAPF32[y/4+S];return g}function rt(y,g){return X(y,"HEAPF32",g||Mt)}function Vn(y,g){return X(y,"HEAPF32",g||nt)}function un(){for(var y=0,g=0;g<arguments.length-1;g+=2)y+=arguments[g]*arguments[g+1];return y}function so(y,g,S){for(var P=Array(y.length),G=0;G<S;G++)for(var Y=0;Y<S;Y++){for(var de=0,Le=0;Le<S;Le++)de+=y[S*G+Le]*g[S*Le+Y];P[G*S+Y]=de}return P}function cr(y,g){for(var S=so(g[0],g[1],y),P=2;P<g.length;)S=so(S,g[P],y),P++;return S}a.Color=function(y,g,S,P){return P===void 0&&(P=1),a.Color4f(R(y)/255,R(g)/255,R(S)/255,P)},a.ColorAsInt=function(y,g,S,P){return P===void 0&&(P=255),(R(P)<<24|R(y)<<16|R(g)<<8|R(S)<<0&268435455)>>>0},a.Color4f=function(y,g,S,P){return P===void 0&&(P=1),Float32Array.of(y,g,S,P)},Object.defineProperty(a,"TRANSPARENT",{get:function(){return a.Color4f(0,0,0,0)}}),Object.defineProperty(a,"BLACK",{get:function(){return a.Color4f(0,0,0,1)}}),Object.defineProperty(a,"WHITE",{get:function(){return a.Color4f(1,1,1,1)}}),Object.defineProperty(a,"RED",{get:function(){return a.Color4f(1,0,0,1)}}),Object.defineProperty(a,"GREEN",{get:function(){return a.Color4f(0,1,0,1)}}),Object.defineProperty(a,"BLUE",{get:function(){return a.Color4f(0,0,1,1)}}),Object.defineProperty(a,"YELLOW",{get:function(){return a.Color4f(1,1,0,1)}}),Object.defineProperty(a,"CYAN",{get:function(){return a.Color4f(0,1,1,1)}}),Object.defineProperty(a,"MAGENTA",{get:function(){return a.Color4f(1,0,1,1)}}),a.getColorComponents=function(y){return[Math.floor(255*y[0]),Math.floor(255*y[1]),Math.floor(255*y[2]),y[3]]},a.parseColorString=function(y,g){if(y=y.toLowerCase(),y.startsWith("#")){switch(g=255,y.length){case 9:g=parseInt(y.slice(7,9),16);case 7:var S=parseInt(y.slice(1,3),16),P=parseInt(y.slice(3,5),16),G=parseInt(y.slice(5,7),16);break;case 5:g=17*parseInt(y.slice(4,5),16);case 4:S=17*parseInt(y.slice(1,2),16),P=17*parseInt(y.slice(2,3),16),G=17*parseInt(y.slice(3,4),16)}return a.Color(S,P,G,g/255)}return y.startsWith("rgba")?(y=y.slice(5,-1),y=y.split(","),a.Color(+y[0],+y[1],+y[2],z(y[3]))):y.startsWith("rgb")?(y=y.slice(4,-1),y=y.split(","),a.Color(+y[0],+y[1],+y[2],z(y[3]))):y.startsWith("gray(")||y.startsWith("hsl")||!g||(y=g[y],y===void 0)?a.BLACK:y},a.multiplyByAlpha=function(y,g){return y=y.slice(),y[3]=Math.max(0,Math.min(y[3]*g,1)),y},a.Malloc=function(y,g){var S=a._malloc(g*y.BYTES_PER_ELEMENT);return{_ck:!0,length:g,byteOffset:S,re:null,subarray:function(P,G){return P=this.toTypedArray().subarray(P,G),P._ck=!0,P},toTypedArray:function(){return this.re&&this.re.length?this.re:(this.re=new y(a.HEAPU8.buffer,S,g),this.re._ck=!0,this.re)}}},a.Free=function(y){a._free(y.byteOffset),y.byteOffset=lt,y.toTypedArray=null,y.re=null};var lr=lt,Ka,uo=lt,Qa,Nn=lt,Jn,Tn,Mt=lt,lu,Vr=lt,qa,co=lt,Li,Z=lt,pe,le=lt,Be,nt=lt,Et,nn=lt,Ft=Float32Array.of(0,0,1),lt=0;a.onRuntimeInitialized=function(){function y(g,S,P,G,Y,de,Le){de||(de=4*G.width,G.colorType===a.ColorType.RGBA_F16?de*=2:G.colorType===a.ColorType.RGBA_F32&&(de*=4));var ze=de*G.height,Ve=Y?Y.byteOffset:a._malloc(ze);if(Le?!g._readPixels(G,Ve,de,S,P,Le):!g._readPixels(G,Ve,de,S,P))return Y||a._free(Ve),null;if(Y)return Y.toTypedArray();switch(G.colorType){case a.ColorType.RGBA_8888:case a.ColorType.RGBA_F16:g=new Uint8Array(a.HEAPU8.buffer,Ve,ze).slice();break;case a.ColorType.RGBA_F32:g=new Float32Array(a.HEAPU8.buffer,Ve,ze).slice();break;default:return null}return a._free(Ve),g}Jn=a.Malloc(Float32Array,4),Nn=Jn.byteOffset,Qa=a.Malloc(Float32Array,16),uo=Qa.byteOffset,Ka=a.Malloc(Float32Array,9),lr=Ka.byteOffset,Be=a.Malloc(Float32Array,12),nt=Be.byteOffset,Et=a.Malloc(Float32Array,12),nn=Et.byteOffset,Tn=a.Malloc(Float32Array,4),Mt=Tn.byteOffset,lu=a.Malloc(Float32Array,4),Vr=lu.byteOffset,qa=a.Malloc(Float32Array,3),co=qa.byteOffset,Li=a.Malloc(Float32Array,3),Z=Li.byteOffset,pe=a.Malloc(Int32Array,4),le=pe.byteOffset,a.ColorSpace.SRGB=a.ColorSpace._MakeSRGB(),a.ColorSpace.DISPLAY_P3=a.ColorSpace._MakeDisplayP3(),a.ColorSpace.ADOBE_RGB=a.ColorSpace._MakeAdobeRGB(),a.GlyphRunFlags={IsWhiteSpace:a._GlyphRunFlags_isWhiteSpace},a.Path.MakeFromCmds=function(g){var S=X(g,"HEAPF32"),P=a.Path._MakeFromCmds(S,g.length);return N(S,g),P},a.Path.MakeFromVerbsPointsWeights=function(g,S,P){var G=X(g,"HEAPU8"),Y=X(S,"HEAPF32"),de=X(P,"HEAPF32"),Le=a.Path._MakeFromVerbsPointsWeights(G,g.length,Y,S.length,de,P&&P.length||0);return N(G,g),N(Y,S),N(de,P),Le},a.Path.prototype.addArc=function(g,S,P){return g=rt(g),this._addArc(g,S,P),this},a.Path.prototype.addCircle=function(g,S,P,G){return this._addCircle(g,S,P,!!G),this},a.Path.prototype.addOval=function(g,S,P){return P===void 0&&(P=1),g=rt(g),this._addOval(g,!!S,P),this},a.Path.prototype.addPath=function(){var g=Array.prototype.slice.call(arguments),S=g[0],P=!1;if(typeof g[g.length-1]=="boolean"&&(P=g.pop()),g.length===1)this._addPath(S,1,0,0,0,1,0,0,0,1,P);else if(g.length===2)g=g[1],this._addPath(S,g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1,P);else if(g.length===7||g.length===10)this._addPath(S,g[1],g[2],g[3],g[4],g[5],g[6],g[7]||0,g[8]||0,g[9]||1,P);else return null;return this},a.Path.prototype.addPoly=function(g,S){var P=X(g,"HEAPF32");return this._addPoly(P,g.length/2,S),N(P,g),this},a.Path.prototype.addRect=function(g,S){return g=rt(g),this._addRect(g,!!S),this},a.Path.prototype.addRRect=function(g,S){return g=Vn(g),this._addRRect(g,!!S),this},a.Path.prototype.addVerbsPointsWeights=function(g,S,P){var G=X(g,"HEAPU8"),Y=X(S,"HEAPF32"),de=X(P,"HEAPF32");this._addVerbsPointsWeights(G,g.length,Y,S.length,de,P&&P.length||0),N(G,g),N(Y,S),N(de,P)},a.Path.prototype.arc=function(g,S,P,G,Y,de){return g=a.LTRBRect(g-P,S-P,g+P,S+P),Y=(Y-G)/Math.PI*180-360*!!de,de=new a.Path,de.addArc(g,G/Math.PI*180,Y),this.addPath(de,!0),de.delete(),this},a.Path.prototype.arcToOval=function(g,S,P,G){return g=rt(g),this._arcToOval(g,S,P,G),this},a.Path.prototype.arcToRotated=function(g,S,P,G,Y,de,Le){return this._arcToRotated(g,S,P,!!G,!!Y,de,Le),this},a.Path.prototype.arcToTangent=function(g,S,P,G,Y){return this._arcToTangent(g,S,P,G,Y),this},a.Path.prototype.close=function(){return this._close(),this},a.Path.prototype.conicTo=function(g,S,P,G,Y){return this._conicTo(g,S,P,G,Y),this},a.Path.prototype.computeTightBounds=function(g){this._computeTightBounds(Mt);var S=Tn.toTypedArray();return g?(g.set(S),g):S.slice()},a.Path.prototype.cubicTo=function(g,S,P,G,Y,de){return this._cubicTo(g,S,P,G,Y,de),this},a.Path.prototype.dash=function(g,S,P){return this._dash(g,S,P)?this:null},a.Path.prototype.getBounds=function(g){this._getBounds(Mt);var S=Tn.toTypedArray();return g?(g.set(S),g):S.slice()},a.Path.prototype.lineTo=function(g,S){return this._lineTo(g,S),this},a.Path.prototype.moveTo=function(g,S){return this._moveTo(g,S),this},a.Path.prototype.offset=function(g,S){return this._transform(1,0,g,0,1,S,0,0,1),this},a.Path.prototype.quadTo=function(g,S,P,G){return this._quadTo(g,S,P,G),this},a.Path.prototype.rArcTo=function(g,S,P,G,Y,de,Le){return this._rArcTo(g,S,P,G,Y,de,Le),this},a.Path.prototype.rConicTo=function(g,S,P,G,Y){return this._rConicTo(g,S,P,G,Y),this},a.Path.prototype.rCubicTo=function(g,S,P,G,Y,de){return this._rCubicTo(g,S,P,G,Y,de),this},a.Path.prototype.rLineTo=function(g,S){return this._rLineTo(g,S),this},a.Path.prototype.rMoveTo=function(g,S){return this._rMoveTo(g,S),this},a.Path.prototype.rQuadTo=function(g,S,P,G){return this._rQuadTo(g,S,P,G),this},a.Path.prototype.stroke=function(g){return g=g||{},g.width=g.width||1,g.miter_limit=g.miter_limit||4,g.cap=g.cap||a.StrokeCap.Butt,g.join=g.join||a.StrokeJoin.Miter,g.precision=g.precision||1,this._stroke(g)?this:null},a.Path.prototype.transform=function(){if(arguments.length===1){var g=arguments[0];this._transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1)}else if(arguments.length===6||arguments.length===9)g=arguments,this._transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1);else throw"transform expected to take 1 or 9 arguments. Got "+arguments.length;return this},a.Path.prototype.trim=function(g,S,P){return this._trim(g,S,!!P)?this:null},a.Image.prototype.encodeToBytes=function(g,S){var P=a.Ue();return g=g||a.ImageFormat.PNG,S=S||100,P?this._encodeToBytes(g,S,P):this._encodeToBytes(g,S)},a.Image.prototype.makeShaderCubic=function(g,S,P,G,Y){return Y=Ae(Y),this._makeShaderCubic(g,S,P,G,Y)},a.Image.prototype.makeShaderOptions=function(g,S,P,G,Y){return Y=Ae(Y),this._makeShaderOptions(g,S,P,G,Y)},a.Image.prototype.readPixels=function(g,S,P,G,Y){var de=a.Ue();return y(this,g,S,P,G,Y,de)},a.Canvas.prototype.clear=function(g){a.Nd(this.Ld),g=ae(g),this._clear(g)},a.Canvas.prototype.clipRRect=function(g,S,P){a.Nd(this.Ld),g=Vn(g),this._clipRRect(g,S,P)},a.Canvas.prototype.clipRect=function(g,S,P){a.Nd(this.Ld),g=rt(g),this._clipRect(g,S,P)},a.Canvas.prototype.concat=function(g){a.Nd(this.Ld),g=Ue(g),this._concat(g)},a.Canvas.prototype.drawArc=function(g,S,P,G,Y){a.Nd(this.Ld),g=rt(g),this._drawArc(g,S,P,G,Y)},a.Canvas.prototype.drawAtlas=function(g,S,P,G,Y,de,Le){if(g&&G&&S&&P&&S.length===P.length){a.Nd(this.Ld),Y||(Y=a.BlendMode.SrcOver);var ze=X(S,"HEAPF32"),Ve=X(P,"HEAPF32"),pt=P.length/4,dt=X(I(de),"HEAPU32");if(Le&&"B"in Le&&"C"in Le)this._drawAtlasCubic(g,Ve,ze,dt,pt,Y,Le.B,Le.C,G);else{let D=a.FilterMode.Linear,me=a.MipmapMode.None;Le&&(D=Le.filter,"mipmap"in Le&&(me=Le.mipmap)),this._drawAtlasOptions(g,Ve,ze,dt,pt,Y,D,me,G)}N(ze,S),N(Ve,P),N(dt,de)}},a.Canvas.prototype.drawCircle=function(g,S,P,G){a.Nd(this.Ld),this._drawCircle(g,S,P,G)},a.Canvas.prototype.drawColor=function(g,S){a.Nd(this.Ld),g=ae(g),S!==void 0?this._drawColor(g,S):this._drawColor(g)},a.Canvas.prototype.drawColorInt=function(g,S){a.Nd(this.Ld),this._drawColorInt(g,S||a.BlendMode.SrcOver)},a.Canvas.prototype.drawColorComponents=function(g,S,P,G,Y){a.Nd(this.Ld),g=He(g,S,P,G),Y!==void 0?this._drawColor(g,Y):this._drawColor(g)},a.Canvas.prototype.drawDRRect=function(g,S,P){a.Nd(this.Ld),g=Vn(g,nt),S=Vn(S,nn),this._drawDRRect(g,S,P)},a.Canvas.prototype.drawImage=function(g,S,P,G){a.Nd(this.Ld),this._drawImage(g,S,P,G||null)},a.Canvas.prototype.drawImageCubic=function(g,S,P,G,Y,de){a.Nd(this.Ld),this._drawImageCubic(g,S,P,G,Y,de||null)},a.Canvas.prototype.drawImageOptions=function(g,S,P,G,Y,de){a.Nd(this.Ld),this._drawImageOptions(g,S,P,G,Y,de||null)},a.Canvas.prototype.drawImageNine=function(g,S,P,G,Y){a.Nd(this.Ld),S=X(S,"HEAP32",le),P=rt(P),this._drawImageNine(g,S,P,G,Y||null)},a.Canvas.prototype.drawImageRect=function(g,S,P,G,Y){a.Nd(this.Ld),rt(S,Mt),rt(P,Vr),this._drawImageRect(g,Mt,Vr,G,!!Y)},a.Canvas.prototype.drawImageRectCubic=function(g,S,P,G,Y,de){a.Nd(this.Ld),rt(S,Mt),rt(P,Vr),this._drawImageRectCubic(g,Mt,Vr,G,Y,de||null)},a.Canvas.prototype.drawImageRectOptions=function(g,S,P,G,Y,de){a.Nd(this.Ld),rt(S,Mt),rt(P,Vr),this._drawImageRectOptions(g,Mt,Vr,G,Y,de||null)},a.Canvas.prototype.drawLine=function(g,S,P,G,Y){a.Nd(this.Ld),this._drawLine(g,S,P,G,Y)},a.Canvas.prototype.drawOval=function(g,S){a.Nd(this.Ld),g=rt(g),this._drawOval(g,S)},a.Canvas.prototype.drawPaint=function(g){a.Nd(this.Ld),this._drawPaint(g)},a.Canvas.prototype.drawParagraph=function(g,S,P){a.Nd(this.Ld),this._drawParagraph(g,S,P)},a.Canvas.prototype.drawPatch=function(g,S,P,G,Y){if(24>g.length)throw"Need 12 cubic points";if(S&&4>S.length)throw"Need 4 colors";if(P&&8>P.length)throw"Need 4 shader coordinates";a.Nd(this.Ld);const de=X(g,"HEAPF32"),Le=S?X(I(S),"HEAPU32"):lt,ze=P?X(P,"HEAPF32"):lt;G||(G=a.BlendMode.Modulate),this._drawPatch(de,Le,ze,G,Y),N(ze,P),N(Le,S),N(de,g)},a.Canvas.prototype.drawPath=function(g,S){a.Nd(this.Ld),this._drawPath(g,S)},a.Canvas.prototype.drawPicture=function(g){a.Nd(this.Ld),this._drawPicture(g)},a.Canvas.prototype.drawPoints=function(g,S,P){a.Nd(this.Ld);var G=X(S,"HEAPF32");this._drawPoints(g,G,S.length/2,P),N(G,S)},a.Canvas.prototype.drawRRect=function(g,S){a.Nd(this.Ld),g=Vn(g),this._drawRRect(g,S)},a.Canvas.prototype.drawRect=function(g,S){a.Nd(this.Ld),g=rt(g),this._drawRect(g,S)},a.Canvas.prototype.drawRect4f=function(g,S,P,G,Y){a.Nd(this.Ld),this._drawRect4f(g,S,P,G,Y)},a.Canvas.prototype.drawShadow=function(g,S,P,G,Y,de,Le){a.Nd(this.Ld);var ze=X(Y,"HEAPF32"),Ve=X(de,"HEAPF32");S=X(S,"HEAPF32",co),P=X(P,"HEAPF32",Z),this._drawShadow(g,S,P,G,ze,Ve,Le),N(ze,Y),N(Ve,de)},a.getShadowLocalBounds=function(g,S,P,G,Y,de,Le){return g=Ae(g),P=X(P,"HEAPF32",co),G=X(G,"HEAPF32",Z),this._getShadowLocalBounds(g,S,P,G,Y,de,Mt)?(S=Tn.toTypedArray(),Le?(Le.set(S),Le):S.slice()):null},a.Canvas.prototype.drawTextBlob=function(g,S,P,G){a.Nd(this.Ld),this._drawTextBlob(g,S,P,G)},a.Canvas.prototype.drawVertices=function(g,S,P){a.Nd(this.Ld),this._drawVertices(g,S,P)},a.Canvas.prototype.getDeviceClipBounds=function(g){this._getDeviceClipBounds(le);var S=pe.toTypedArray();return g?g.set(S):g=S.slice(),g},a.Canvas.prototype.getLocalToDevice=function(){this._getLocalToDevice(uo);for(var g=uo,S=Array(16),P=0;16>P;P++)S[P]=a.HEAPF32[g/4+P];return S},a.Canvas.prototype.getTotalMatrix=function(){this._getTotalMatrix(lr);for(var g=Array(9),S=0;9>S;S++)g[S]=a.HEAPF32[lr/4+S];return g},a.Canvas.prototype.makeSurface=function(g){return g=this._makeSurface(g),g.Ld=this.Ld,g},a.Canvas.prototype.readPixels=function(g,S,P,G,Y){return a.Nd(this.Ld),y(this,g,S,P,G,Y)},a.Canvas.prototype.saveLayer=function(g,S,P,G){return S=rt(S),this._saveLayer(g||null,S,P||null,G||0)},a.Canvas.prototype.writePixels=function(g,S,P,G,Y,de,Le,ze){if(g.byteLength%(S*P))throw"pixels length must be a multiple of the srcWidth * srcHeight";a.Nd(this.Ld);var Ve=g.byteLength/(S*P);de=de||a.AlphaType.Unpremul,Le=Le||a.ColorType.RGBA_8888,ze=ze||a.ColorSpace.SRGB;var pt=Ve*S;return Ve=X(g,"HEAPU8"),S=this._writePixels({width:S,height:P,colorType:Le,alphaType:de,colorSpace:ze},Ve,pt,G,Y),N(Ve,g),S},a.ColorFilter.MakeBlend=function(g,S,P){return g=ae(g),P=P||a.ColorSpace.SRGB,a.ColorFilter._MakeBlend(g,S,P)},a.ColorFilter.MakeMatrix=function(g){if(!g||g.length!==20)throw"invalid color matrix";var S=X(g,"HEAPF32"),P=a.ColorFilter._makeMatrix(S);return N(S,g),P},a.ContourMeasure.prototype.getPosTan=function(g,S){return this._getPosTan(g,Mt),g=Tn.toTypedArray(),S?(S.set(g),S):g.slice()},a.ImageFilter.prototype.getOutputBounds=function(g,S,P){return g=rt(g,Mt),S=Ae(S),this._getOutputBounds(g,S,le),S=pe.toTypedArray(),P?(P.set(S),P):S.slice()},a.ImageFilter.MakeDropShadow=function(g,S,P,G,Y,de){return Y=ae(Y,Nn),a.ImageFilter._MakeDropShadow(g,S,P,G,Y,de)},a.ImageFilter.MakeDropShadowOnly=function(g,S,P,G,Y,de){return Y=ae(Y,Nn),a.ImageFilter._MakeDropShadowOnly(g,S,P,G,Y,de)},a.ImageFilter.MakeImage=function(g,S,P,G){if(P=rt(P,Mt),G=rt(G,Vr),"B"in S&&"C"in S)return a.ImageFilter._MakeImageCubic(g,S.B,S.C,P,G);const Y=S.filter;let de=a.MipmapMode.None;return"mipmap"in S&&(de=S.mipmap),a.ImageFilter._MakeImageOptions(g,Y,de,P,G)},a.ImageFilter.MakeMatrixTransform=function(g,S,P){if(g=Ae(g),"B"in S&&"C"in S)return a.ImageFilter._MakeMatrixTransformCubic(g,S.B,S.C,P);const G=S.filter;let Y=a.MipmapMode.None;return"mipmap"in S&&(Y=S.mipmap),a.ImageFilter._MakeMatrixTransformOptions(g,G,Y,P)},a.Paint.prototype.getColor=function(){return this._getColor(Nn),tt(Nn)},a.Paint.prototype.setColor=function(g,S){S=S||null,g=ae(g),this._setColor(g,S)},a.Paint.prototype.setColorComponents=function(g,S,P,G,Y){Y=Y||null,g=He(g,S,P,G),this._setColor(g,Y)},a.Path.prototype.getPoint=function(g,S){return this._getPoint(g,Mt),g=Tn.toTypedArray(),S?(S[0]=g[0],S[1]=g[1],S):g.slice(0,2)},a.Picture.prototype.makeShader=function(g,S,P,G,Y){return G=Ae(G),Y=rt(Y),this._makeShader(g,S,P,G,Y)},a.Picture.prototype.cullRect=function(g){this._cullRect(Mt);var S=Tn.toTypedArray();return g?(g.set(S),g):S.slice()},a.PictureRecorder.prototype.beginRecording=function(g,S){return g=rt(g),this._beginRecording(g,!!S)},a.Surface.prototype.getCanvas=function(){var g=this._getCanvas();return g.Ld=this.Ld,g},a.Surface.prototype.makeImageSnapshot=function(g){return a.Nd(this.Ld),g=X(g,"HEAP32",le),this._makeImageSnapshot(g)},a.Surface.prototype.makeSurface=function(g){return a.Nd(this.Ld),g=this._makeSurface(g),g.Ld=this.Ld,g},a.Surface.prototype.Hf=function(g,S){return this.Ie||(this.Ie=this.getCanvas()),requestAnimationFrame((function(){a.Nd(this.Ld),g(this.Ie),this.flush(S)}).bind(this))},a.Surface.prototype.requestAnimationFrame||(a.Surface.prototype.requestAnimationFrame=a.Surface.prototype.Hf),a.Surface.prototype.Df=function(g,S){this.Ie||(this.Ie=this.getCanvas()),requestAnimationFrame((function(){a.Nd(this.Ld),g(this.Ie),this.flush(S),this.dispose()}).bind(this))},a.Surface.prototype.drawOnce||(a.Surface.prototype.drawOnce=a.Surface.prototype.Df),a.PathEffect.MakeDash=function(g,S){if(S||(S=0),!g.length||g.length%2===1)throw"Intervals array must have even length";var P=X(g,"HEAPF32");return S=a.PathEffect._MakeDash(P,g.length,S),N(P,g),S},a.PathEffect.MakeLine2D=function(g,S){return S=Ae(S),a.PathEffect._MakeLine2D(g,S)},a.PathEffect.MakePath2D=function(g,S){return g=Ae(g),a.PathEffect._MakePath2D(g,S)},a.Shader.MakeColor=function(g,S){return S=S||null,g=ae(g),a.Shader._MakeColor(g,S)},a.Shader.Blend=a.Shader.MakeBlend,a.Shader.Color=a.Shader.MakeColor,a.Shader.MakeLinearGradient=function(g,S,P,G,Y,de,Le,ze){ze=ze||null;var Ve=ve(P),pt=X(G,"HEAPF32");Le=Le||0,de=Ae(de);var dt=Tn.toTypedArray();return dt.set(g),dt.set(S,2),g=a.Shader._MakeLinearGradient(Mt,Ve.ce,Ve.colorType,pt,Ve.count,Y,Le,de,ze),N(Ve.ce,P),G&&N(pt,G),g},a.Shader.MakeRadialGradient=function(g,S,P,G,Y,de,Le,ze){ze=ze||null;var Ve=ve(P),pt=X(G,"HEAPF32");return Le=Le||0,de=Ae(de),g=a.Shader._MakeRadialGradient(g[0],g[1],S,Ve.ce,Ve.colorType,pt,Ve.count,Y,Le,de,ze),N(Ve.ce,P),G&&N(pt,G),g},a.Shader.MakeSweepGradient=function(g,S,P,G,Y,de,Le,ze,Ve,pt){pt=pt||null;var dt=ve(P),D=X(G,"HEAPF32");return Le=Le||0,ze=ze||0,Ve=Ve||360,de=Ae(de),g=a.Shader._MakeSweepGradient(g,S,dt.ce,dt.colorType,D,dt.count,Y,ze,Ve,Le,de,pt),N(dt.ce,P),G&&N(D,G),g},a.Shader.MakeTwoPointConicalGradient=function(g,S,P,G,Y,de,Le,ze,Ve,pt){pt=pt||null;var dt=ve(Y),D=X(de,"HEAPF32");Ve=Ve||0,ze=Ae(ze);var me=Tn.toTypedArray();return me.set(g),me.set(P,2),g=a.Shader._MakeTwoPointConicalGradient(Mt,S,G,dt.ce,dt.colorType,D,dt.count,Le,Ve,ze,pt),N(dt.ce,Y),de&&N(D,de),g},a.Vertices.prototype.bounds=function(g){this._bounds(Mt);var S=Tn.toTypedArray();return g?(g.set(S),g):S.slice()},a.Td&&a.Td.forEach(function(g){g()})},a.computeTonalColors=function(y){var g=X(y.ambient,"HEAPF32"),S=X(y.spot,"HEAPF32");this._computeTonalColors(g,S);var P={ambient:tt(g),spot:tt(S)};return N(g,y.ambient),N(S,y.spot),P},a.LTRBRect=function(y,g,S,P){return Float32Array.of(y,g,S,P)},a.XYWHRect=function(y,g,S,P){return Float32Array.of(y,g,y+S,g+P)},a.LTRBiRect=function(y,g,S,P){return Int32Array.of(y,g,S,P)},a.XYWHiRect=function(y,g,S,P){return Int32Array.of(y,g,y+S,g+P)},a.RRectXY=function(y,g,S){return Float32Array.of(y[0],y[1],y[2],y[3],g,S,g,S,g,S,g,S)},a.MakeAnimatedImageFromEncoded=function(y){y=new Uint8Array(y);var g=a._malloc(y.byteLength);return a.HEAPU8.set(y,g),(y=a._decodeAnimatedImage(g,y.byteLength))?y:null},a.MakeImageFromEncoded=function(y){y=new Uint8Array(y);var g=a._malloc(y.byteLength);return a.HEAPU8.set(y,g),(y=a._decodeImage(g,y.byteLength))?y:null};var Mo=null;a.MakeImageFromCanvasImageSource=function(y){var g=y.width,S=y.height;Mo||(Mo=document.createElement("canvas")),Mo.width=g,Mo.height=S;var P=Mo.getContext("2d",{willReadFrequently:!0});return P.drawImage(y,0,0),y=P.getImageData(0,0,g,S),a.MakeImage({width:g,height:S,alphaType:a.AlphaType.Unpremul,colorType:a.ColorType.RGBA_8888,colorSpace:a.ColorSpace.SRGB},y.data,4*g)},a.MakeImage=function(y,g,S){var P=a._malloc(g.length);return a.HEAPU8.set(g,P),a._MakeImage(y,P,g.length,S)},a.MakeVertices=function(y,g,S,P,G,Y){var de=G&&G.length||0,Le=0;return S&&S.length&&(Le|=1),P&&P.length&&(Le|=2),Y===void 0||Y||(Le|=4),y=new a._VerticesBuilder(y,g.length/2,de,Le),X(g,"HEAPF32",y.positions()),y.texCoords()&&X(S,"HEAPF32",y.texCoords()),y.colors()&&X(I(P),"HEAPU32",y.colors()),y.indices()&&X(G,"HEAPU16",y.indices()),y.detach()},a.Matrix={},a.Matrix.identity=function(){return m(3)},a.Matrix.invert=function(y){var g=y[0]*y[4]*y[8]+y[1]*y[5]*y[6]+y[2]*y[3]*y[7]-y[2]*y[4]*y[6]-y[1]*y[3]*y[8]-y[0]*y[5]*y[7];return g?[(y[4]*y[8]-y[5]*y[7])/g,(y[2]*y[7]-y[1]*y[8])/g,(y[1]*y[5]-y[2]*y[4])/g,(y[5]*y[6]-y[3]*y[8])/g,(y[0]*y[8]-y[2]*y[6])/g,(y[2]*y[3]-y[0]*y[5])/g,(y[3]*y[7]-y[4]*y[6])/g,(y[1]*y[6]-y[0]*y[7])/g,(y[0]*y[4]-y[1]*y[3])/g]:null},a.Matrix.mapPoints=function(y,g){for(var S=0;S<g.length;S+=2){var P=g[S],G=g[S+1],Y=y[6]*P+y[7]*G+y[8],de=y[3]*P+y[4]*G+y[5];g[S]=(y[0]*P+y[1]*G+y[2])/Y,g[S+1]=de/Y}return g},a.Matrix.multiply=function(){return cr(3,arguments)},a.Matrix.rotated=function(y,g,S){g=g||0,S=S||0;var P=Math.sin(y);return y=Math.cos(y),[y,-P,un(P,S,1-y,g),P,y,un(-P,g,1-y,S),0,0,1]},a.Matrix.scaled=function(y,g,S,P){S=S||0,P=P||0;var G=f([y,g],m(3),3,0,1);return f([S-y*S,P-g*P],G,3,2,0)},a.Matrix.skewed=function(y,g,S,P){S=S||0,P=P||0;var G=f([y,g],m(3),3,1,-1);return f([-y*S,-g*P],G,3,2,0)},a.Matrix.translated=function(y,g){return f(arguments,m(3),3,2,0)},a.Vector={},a.Vector.dot=function(y,g){return y.map(function(S,P){return S*g[P]}).reduce(function(S,P){return S+P})},a.Vector.lengthSquared=function(y){return a.Vector.dot(y,y)},a.Vector.length=function(y){return Math.sqrt(a.Vector.lengthSquared(y))},a.Vector.mulScalar=function(y,g){return y.map(function(S){return S*g})},a.Vector.add=function(y,g){return y.map(function(S,P){return S+g[P]})},a.Vector.sub=function(y,g){return y.map(function(S,P){return S-g[P]})},a.Vector.dist=function(y,g){return a.Vector.length(a.Vector.sub(y,g))},a.Vector.normalize=function(y){return a.Vector.mulScalar(y,1/a.Vector.length(y))},a.Vector.cross=function(y,g){return[y[1]*g[2]-y[2]*g[1],y[2]*g[0]-y[0]*g[2],y[0]*g[1]-y[1]*g[0]]},a.M44={},a.M44.identity=function(){return m(4)},a.M44.translated=function(y){return f(y,m(4),4,3,0)},a.M44.scaled=function(y){return f(y,m(4),4,0,1)},a.M44.rotated=function(y,g){return a.M44.rotatedUnitSinCos(a.Vector.normalize(y),Math.sin(g),Math.cos(g))},a.M44.rotatedUnitSinCos=function(y,g,S){var P=y[0],G=y[1];y=y[2];var Y=1-S;return[Y*P*P+S,Y*P*G-g*y,Y*P*y+g*G,0,Y*P*G+g*y,Y*G*G+S,Y*G*y-g*P,0,Y*P*y-g*G,Y*G*y+g*P,Y*y*y+S,0,0,0,0,1]},a.M44.lookat=function(y,g,S){g=a.Vector.normalize(a.Vector.sub(g,y)),S=a.Vector.normalize(S),S=a.Vector.normalize(a.Vector.cross(g,S));var P=a.M44.identity();return f(S,P,4,0,0),f(a.Vector.cross(S,g),P,4,1,0),f(a.Vector.mulScalar(g,-1),P,4,2,0),f(y,P,4,3,0),y=a.M44.invert(P),y===null?a.M44.identity():y},a.M44.perspective=function(y,g,S){var P=1/(g-y);return S/=2,S=Math.cos(S)/Math.sin(S),[S,0,0,0,0,S,0,0,0,0,(g+y)*P,2*g*y*P,0,0,-1,1]},a.M44.rc=function(y,g,S){return y[4*g+S]},a.M44.multiply=function(){return cr(4,arguments)},a.M44.invert=function(y){var g=y[0],S=y[4],P=y[8],G=y[12],Y=y[1],de=y[5],Le=y[9],ze=y[13],Ve=y[2],pt=y[6],dt=y[10],D=y[14],me=y[3],st=y[7],Tt=y[11];y=y[15];var Qt=g*de-S*Y,Zn=g*Le-P*Y,er=g*ze-G*Y,cn=S*Le-P*de,Ee=S*ze-G*de,_=P*ze-G*Le,$=Ve*st-pt*me,ue=Ve*Tt-dt*me,he=Ve*y-D*me,be=pt*Tt-dt*st,Ce=pt*y-D*st,Ge=dt*y-D*Tt,Pt=Qt*Ge-Zn*Ce+er*be+cn*he-Ee*ue+_*$,It=1/Pt;return Pt===0||It===1/0?null:(Qt*=It,Zn*=It,er*=It,cn*=It,Ee*=It,_*=It,$*=It,ue*=It,he*=It,be*=It,Ce*=It,Ge*=It,g=[de*Ge-Le*Ce+ze*be,Le*he-Y*Ge-ze*ue,Y*Ce-de*he+ze*$,de*ue-Y*be-Le*$,P*Ce-S*Ge-G*be,g*Ge-P*he+G*ue,S*he-g*Ce-G*$,g*be-S*ue+P*$,st*_-Tt*Ee+y*cn,Tt*er-me*_-y*Zn,me*Ee-st*er+y*Qt,st*Zn-me*cn-Tt*Qt,dt*Ee-pt*_-D*cn,Ve*_-dt*er+D*Zn,pt*er-Ve*Ee-D*Qt,Ve*cn-pt*Zn+dt*Qt],g.every(function(Tr){return!isNaN(Tr)&&Tr!==1/0&&Tr!==-1/0})?g:null)},a.M44.transpose=function(y){return[y[0],y[4],y[8],y[12],y[1],y[5],y[9],y[13],y[2],y[6],y[10],y[14],y[3],y[7],y[11],y[15]]},a.M44.mustInvert=function(y){if(y=a.M44.invert(y),y===null)throw"Matrix not invertible";return y},a.M44.setupCamera=function(y,g,S){var P=a.M44.lookat(S.eye,S.coa,S.up);return S=a.M44.perspective(S.near,S.far,S.angle),g=[(y[2]-y[0])/2,(y[3]-y[1])/2,g],y=a.M44.multiply(a.M44.translated([(y[0]+y[2])/2,(y[1]+y[3])/2,0]),a.M44.scaled(g)),a.M44.multiply(y,S,P,a.M44.mustInvert(y))},a.ColorMatrix={},a.ColorMatrix.identity=function(){var y=new Float32Array(20);return y[0]=1,y[6]=1,y[12]=1,y[18]=1,y},a.ColorMatrix.scaled=function(y,g,S,P){var G=new Float32Array(20);return G[0]=y,G[6]=g,G[12]=S,G[18]=P,G};var fr=[[6,7,11,12],[0,10,2,12],[0,1,5,6]];a.ColorMatrix.rotated=function(y,g,S){var P=a.ColorMatrix.identity();return y=fr[y],P[y[0]]=S,P[y[1]]=g,P[y[2]]=-g,P[y[3]]=S,P},a.ColorMatrix.postTranslate=function(y,g,S,P,G){return y[4]+=g,y[9]+=S,y[14]+=P,y[19]+=G,y},a.ColorMatrix.concat=function(y,g){for(var S=new Float32Array(20),P=0,G=0;20>G;G+=5){for(var Y=0;4>Y;Y++)S[P++]=y[G]*g[Y]+y[G+1]*g[Y+5]+y[G+2]*g[Y+10]+y[G+3]*g[Y+15];S[P++]=y[G]*g[4]+y[G+1]*g[9]+y[G+2]*g[14]+y[G+3]*g[19]+y[G+4]}return S},function(y){y.Td=y.Td||[],y.Td.push(function(){function g(D){return D&&(D.dir=D.dir===0?y.TextDirection.RTL:y.TextDirection.LTR),D}function S(D){if(!D||!D.length)return[];for(var me=[],st=0;st<D.length;st+=5){var Tt=y.LTRBRect(D[st],D[st+1],D[st+2],D[st+3]),Qt=y.TextDirection.LTR;D[st+4]===0&&(Qt=y.TextDirection.RTL),me.push({rect:Tt,dir:Qt})}return y._free(D.byteOffset),me}function P(D){return D=D||{},D.weight===void 0&&(D.weight=y.FontWeight.Normal),D.width=D.width||y.FontWidth.Normal,D.slant=D.slant||y.FontSlant.Upright,D}function G(D){if(!D||!D.length)return lt;for(var me=[],st=0;st<D.length;st++){var Tt=Y(D[st]);me.push(Tt)}return X(me,"HEAPU32")}function Y(D){if(ze[D])return ze[D];var me=sr(D)+1,st=y._malloc(me);return Fn(D,oe,st,me),ze[D]=st}function de(D){if(D._colorPtr=ae(D.color),D._foregroundColorPtr=lt,D._backgroundColorPtr=lt,D._decorationColorPtr=lt,D.foregroundColor&&(D._foregroundColorPtr=ae(D.foregroundColor,Ve)),D.backgroundColor&&(D._backgroundColorPtr=ae(D.backgroundColor,pt)),D.decorationColor&&(D._decorationColorPtr=ae(D.decorationColor,dt)),Array.isArray(D.fontFamilies)&&D.fontFamilies.length?(D._fontFamiliesPtr=G(D.fontFamilies),D._fontFamiliesLen=D.fontFamilies.length):(D._fontFamiliesPtr=lt,D._fontFamiliesLen=0),D.locale){var me=D.locale;D._localePtr=Y(me),D._localeLen=sr(me)+1}else D._localePtr=lt,D._localeLen=0;if(Array.isArray(D.shadows)&&D.shadows.length){me=D.shadows;var st=me.map(function(Ee){return Ee.color||y.BLACK}),Tt=me.map(function(Ee){return Ee.blurRadius||0});D._shadowLen=me.length;for(var Qt=y._malloc(8*me.length),Zn=Qt/4,er=0;er<me.length;er++){var cn=me[er].offset||[0,0];y.HEAPF32[Zn]=cn[0],y.HEAPF32[Zn+1]=cn[1],Zn+=2}D._shadowColorsPtr=ve(st).ce,D._shadowOffsetsPtr=Qt,D._shadowBlurRadiiPtr=X(Tt,"HEAPF32")}else D._shadowLen=0,D._shadowColorsPtr=lt,D._shadowOffsetsPtr=lt,D._shadowBlurRadiiPtr=lt;Array.isArray(D.fontFeatures)&&D.fontFeatures.length?(me=D.fontFeatures,st=me.map(function(Ee){return Ee.name}),Tt=me.map(function(Ee){return Ee.value}),D._fontFeatureLen=me.length,D._fontFeatureNamesPtr=G(st),D._fontFeatureValuesPtr=X(Tt,"HEAPU32")):(D._fontFeatureLen=0,D._fontFeatureNamesPtr=lt,D._fontFeatureValuesPtr=lt),Array.isArray(D.fontVariations)&&D.fontVariations.length?(me=D.fontVariations,st=me.map(function(Ee){return Ee.axis}),Tt=me.map(function(Ee){return Ee.value}),D._fontVariationLen=me.length,D._fontVariationAxesPtr=G(st),D._fontVariationValuesPtr=X(Tt,"HEAPF32")):(D._fontVariationLen=0,D._fontVariationAxesPtr=lt,D._fontVariationValuesPtr=lt)}function Le(D){y._free(D._fontFamiliesPtr),y._free(D._shadowColorsPtr),y._free(D._shadowOffsetsPtr),y._free(D._shadowBlurRadiiPtr),y._free(D._fontFeatureNamesPtr),y._free(D._fontFeatureValuesPtr),y._free(D._fontVariationAxesPtr),y._free(D._fontVariationValuesPtr)}y.Paragraph.prototype.getRectsForRange=function(D,me,st,Tt){return D=this._getRectsForRange(D,me,st,Tt),S(D)},y.Paragraph.prototype.getRectsForPlaceholders=function(){var D=this._getRectsForPlaceholders();return S(D)},y.Paragraph.prototype.getGlyphInfoAt=function(D){return g(this._getGlyphInfoAt(D))},y.Paragraph.prototype.getClosestGlyphInfoAtCoordinate=function(D,me){return g(this._getClosestGlyphInfoAtCoordinate(D,me))},y.TypefaceFontProvider.prototype.registerFont=function(D,me){if(D=y.Typeface.MakeFreeTypeFaceFromData(D),!D)return null;me=Y(me),this._registerFont(D,me)},y.ParagraphStyle=function(D){if(D.disableHinting=D.disableHinting||!1,D.ellipsis){var me=D.ellipsis;D._ellipsisPtr=Y(me),D._ellipsisLen=sr(me)+1}else D._ellipsisPtr=lt,D._ellipsisLen=0;return D.heightMultiplier==null&&(D.heightMultiplier=-1),D.maxLines=D.maxLines||0,D.replaceTabCharacters=D.replaceTabCharacters||!1,me=(me=D.strutStyle)||{},me.strutEnabled=me.strutEnabled||!1,me.strutEnabled&&Array.isArray(me.fontFamilies)&&me.fontFamilies.length?(me._fontFamiliesPtr=G(me.fontFamilies),me._fontFamiliesLen=me.fontFamilies.length):(me._fontFamiliesPtr=lt,me._fontFamiliesLen=0),me.fontStyle=P(me.fontStyle),me.fontSize==null&&(me.fontSize=-1),me.heightMultiplier==null&&(me.heightMultiplier=-1),me.halfLeading=me.halfLeading||!1,me.leading=me.leading||0,me.forceStrutHeight=me.forceStrutHeight||!1,D.strutStyle=me,D.textAlign=D.textAlign||y.TextAlign.Start,D.textDirection=D.textDirection||y.TextDirection.LTR,D.textHeightBehavior=D.textHeightBehavior||y.TextHeightBehavior.All,D.textStyle=y.TextStyle(D.textStyle),D.applyRoundingHack=D.applyRoundingHack!==!1,D},y.TextStyle=function(D){return D.color||(D.color=y.BLACK),D.decoration=D.decoration||0,D.decorationThickness=D.decorationThickness||0,D.decorationStyle=D.decorationStyle||y.DecorationStyle.Solid,D.textBaseline=D.textBaseline||y.TextBaseline.Alphabetic,D.fontSize==null&&(D.fontSize=-1),D.letterSpacing=D.letterSpacing||0,D.wordSpacing=D.wordSpacing||0,D.heightMultiplier==null&&(D.heightMultiplier=-1),D.halfLeading=D.halfLeading||!1,D.fontStyle=P(D.fontStyle),D};var ze={},Ve=y._malloc(16),pt=y._malloc(16),dt=y._malloc(16);y.ParagraphBuilder.Make=function(D,me){return de(D.textStyle),me=y.ParagraphBuilder._Make(D,me),Le(D.textStyle),me},y.ParagraphBuilder.MakeFromFontProvider=function(D,me){return de(D.textStyle),me=y.ParagraphBuilder._MakeFromFontProvider(D,me),Le(D.textStyle),me},y.ParagraphBuilder.MakeFromFontCollection=function(D,me){return de(D.textStyle),me=y.ParagraphBuilder._MakeFromFontCollection(D,me),Le(D.textStyle),me},y.ParagraphBuilder.ShapeText=function(D,me,st){let Tt=0;for(const Qt of me)Tt+=Qt.length;if(Tt!==D.length)throw"Accumulated block lengths must equal text.length";return y.ParagraphBuilder._ShapeText(D,me,st)},y.ParagraphBuilder.prototype.pushStyle=function(D){de(D),this._pushStyle(D),Le(D)},y.ParagraphBuilder.prototype.pushPaintStyle=function(D,me,st){de(D),this._pushPaintStyle(D,me,st),Le(D)},y.ParagraphBuilder.prototype.addPlaceholder=function(D,me,st,Tt,Qt){st=st||y.PlaceholderAlignment.Baseline,Tt=Tt||y.TextBaseline.Alphabetic,this._addPlaceholder(D||0,me||0,st,Tt,Qt||0)},y.ParagraphBuilder.prototype.setWordsUtf8=function(D){var me=X(D,"HEAPU32");this._setWordsUtf8(me,D&&D.length||0),N(me,D)},y.ParagraphBuilder.prototype.setWordsUtf16=function(D){var me=X(D,"HEAPU32");this._setWordsUtf16(me,D&&D.length||0),N(me,D)},y.ParagraphBuilder.prototype.setGraphemeBreaksUtf8=function(D){var me=X(D,"HEAPU32");this._setGraphemeBreaksUtf8(me,D&&D.length||0),N(me,D)},y.ParagraphBuilder.prototype.setGraphemeBreaksUtf16=function(D){var me=X(D,"HEAPU32");this._setGraphemeBreaksUtf16(me,D&&D.length||0),N(me,D)},y.ParagraphBuilder.prototype.setLineBreaksUtf8=function(D){var me=X(D,"HEAPU32");this._setLineBreaksUtf8(me,D&&D.length||0),N(me,D)},y.ParagraphBuilder.prototype.setLineBreaksUtf16=function(D){var me=X(D,"HEAPU32");this._setLineBreaksUtf16(me,D&&D.length||0),N(me,D)}})}(n),a.MakeManagedAnimation=function(y,g,S,P,G){if(!a._MakeManagedAnimation)throw"Not compiled with MakeManagedAnimation";if(S||(S=""),!g)return a._MakeManagedAnimation(y,0,lt,lt,lt,S,P,G);for(var Y=[],de=[],Le=[],ze=Object.keys(g||{}),Ve=0;Ve<ze.length;Ve++){var pt=ze[Ve],dt=new Uint8Array(g[pt]),D=a._malloc(dt.byteLength);a.HEAPU8.set(dt,D),de.push(D),Le.push(dt.byteLength),dt=sr(pt)+1,D=a._malloc(dt),Fn(pt,oe,D,dt),Y.push(D)}return g=X(Y,"HEAPU32"),de=X(de,"HEAPU32"),Le=X(Le,"HEAPU32"),y=a._MakeManagedAnimation(y,ze.length,g,de,Le,S,P,G),a._free(g),a._free(de),a._free(Le),y},a.tg=function(y){return y.text=y.text||"",y.textSize=y.textSize||0,y.minTextSize=y.minTextSize||0,y.maxTextSize=y.maxTextSize||Number.MAX_VALUE,y.strokeWidth=y.strokeWidth||0,y.lineHeight=y.lineHeight||0,y.lineShift=y.lineShift||0,y.ascent=y.ascent||0,y.maxLines=y.maxLines||0,y.horizAlign=y.horizAlign||a.TextAlign.Left,y.vertAlign=y.vertAlign||a.ug.Top,y.strokeJoin=y.strokeJoin||a.StrokeJoin.Miter,y.direction=y.direction||a.TextDirection.LTR,y.linebreak=y.linebreak||a.LineBreakType.HardLineBreak,y.resize=y.resize||a.sg.None,y.fillColor||(y.fillColor=a.TRANSPARENT),y.strokeColor||(y.strokeColor=a.TRANSPARENT),y.boundingBox||(y.boundingBox=[0,0,0,0]),y},function(y){y.Td=y.Td||[],y.Td.push(function(){y.Animation.prototype.render=function(g,S){rt(S,Mt),this._render(g,Mt)},y.Animation.prototype.size=function(g){this._size(Mt);var S=Tn.toTypedArray();return g?(g[0]=S[0],g[1]=S[1],g):S.slice(0,2)},y.ManagedAnimation&&(y.ManagedAnimation.prototype.render=function(g,S){rt(S,Mt),this._render(g,Mt)},y.ManagedAnimation.prototype.seek=function(g,S){return this._seek(g,Mt),g=Tn.toTypedArray(),S?(S.set(g),S):g.slice()},y.ManagedAnimation.prototype.seekFrame=function(g,S){return this._seekFrame(g,Mt),g=Tn.toTypedArray(),S?(S.set(g),S):g.slice()},y.ManagedAnimation.prototype.setColor=function(g,S){return S=ae(S),this._setColor(g,S)},y.ManagedAnimation.prototype.setColorSlot=function(g,S){return S=ae(S),this._setColorSlot(g,S)},y.ManagedAnimation.prototype.getColorSlot=function(g){return this._getColorSlot(g,Nn),g=tt(Nn),g[0]==-1?null:g},y.ManagedAnimation.prototype.setVec2Slot=function(g,S){return X(S,"HEAPF32",co),this._setVec2Slot(g,co)},y.ManagedAnimation.prototype.getVec2Slot=function(g){return this._getVec2Slot(g,co),g=qa.toTypedArray(),g[2]===-1?null:g.slice(0,2)},y.ManagedAnimation.prototype.setTextSlot=function(g,S){var P=ae(S.fillColor,Nn),G=ae(S.strokeColor,Mt),Y=rt(S.boundingBox,Vr);return S._fillColorPtr=P,S._strokeColorPtr=G,S._boundingBoxPtr=Y,this._setTextSlot(g,S)},y.ManagedAnimation.prototype.setTransform=function(g,S,P,G,Y,de,Le){return S=X([S[0],S[1],P[0],P[1],G[0],G[1],Y,de,Le],"HEAPF32",lr),this._setTransform(g,S)},y.ManagedAnimation.prototype.size=function(g){this._size(Mt);var S=Tn.toTypedArray();return g?(g[0]=S[0],g[1]=S[1],g):S.slice(0,2)})})}(n),a.Td=a.Td||[],a.Td.push(function(){a.Path.prototype.op=function(y,g){return this._op(y,g)?this:null},a.Path.prototype.simplify=function(){return this._simplify()?this:null}}),a.Td=a.Td||[],a.Td.push(function(){a.Canvas.prototype.drawText=function(y,g,S,P,G){var Y=sr(y),de=a._malloc(Y+1);Fn(y,oe,de,Y+1),this._drawSimpleText(de,Y,g,S,G,P),a._free(de)},a.Canvas.prototype.drawGlyphs=function(y,g,S,P,G,Y){if(!(2*y.length<=g.length))throw"Not enough positions for the array of gyphs";a.Nd(this.Ld);const de=X(y,"HEAPU16"),Le=X(g,"HEAPF32");this._drawGlyphs(y.length,de,Le,S,P,G,Y),N(Le,g),N(de,y)},a.Font.prototype.getGlyphBounds=function(y,g,S){var P=X(y,"HEAPU16"),G=a._malloc(16*y.length);return this._getGlyphWidthBounds(P,y.length,lt,G,g||null),g=new Float32Array(a.HEAPU8.buffer,G,4*y.length),N(P,y),S?(S.set(g),a._free(G),S):(y=Float32Array.from(g),a._free(G),y)},a.Font.prototype.getGlyphIDs=function(y,g,S){g||(g=y.length);var P=sr(y)+1,G=a._malloc(P);return Fn(y,oe,G,P),y=a._malloc(2*g),g=this._getGlyphIDs(G,P-1,g,y),a._free(G),0>g?(a._free(y),null):(G=new Uint16Array(a.HEAPU8.buffer,y,g),S?(S.set(G),a._free(y),S):(S=Uint16Array.from(G),a._free(y),S))},a.Font.prototype.getGlyphIntercepts=function(y,g,S,P){var G=X(y,"HEAPU16"),Y=X(g,"HEAPF32");return this._getGlyphIntercepts(G,y.length,!(y&&y._ck),Y,g.length,!(g&&g._ck),S,P)},a.Font.prototype.getGlyphWidths=function(y,g,S){var P=X(y,"HEAPU16"),G=a._malloc(4*y.length);return this._getGlyphWidthBounds(P,y.length,G,lt,g||null),g=new Float32Array(a.HEAPU8.buffer,G,y.length),N(P,y),S?(S.set(g),a._free(G),S):(y=Float32Array.from(g),a._free(G),y)},a.FontMgr.FromData=function(){if(!arguments.length)return null;var y=arguments;if(y.length===1&&Array.isArray(y[0])&&(y=arguments[0]),!y.length)return null;for(var g=[],S=[],P=0;P<y.length;P++){var G=new Uint8Array(y[P]),Y=X(G,"HEAPU8");g.push(Y),S.push(G.byteLength)}return g=X(g,"HEAPU32"),S=X(S,"HEAPU32"),y=a.FontMgr._fromData(g,S,y.length),a._free(g),a._free(S),y},a.Typeface.MakeFreeTypeFaceFromData=function(y){y=new Uint8Array(y);var g=X(y,"HEAPU8");return(y=a.Typeface._MakeFreeTypeFaceFromData(g,y.byteLength))?y:null},a.Typeface.prototype.getGlyphIDs=function(y,g,S){g||(g=y.length);var P=sr(y)+1,G=a._malloc(P);return Fn(y,oe,G,P),y=a._malloc(2*g),g=this._getGlyphIDs(G,P-1,g,y),a._free(G),0>g?(a._free(y),null):(G=new Uint16Array(a.HEAPU8.buffer,y,g),S?(S.set(G),a._free(y),S):(S=Uint16Array.from(G),a._free(y),S))},a.TextBlob.MakeOnPath=function(y,g,S,P){if(y&&y.length&&g&&g.countPoints()){if(g.countPoints()===1)return this.MakeFromText(y,S);P||(P=0);var G=S.getGlyphIDs(y);G=S.getGlyphWidths(G);var Y=[];g=new a.ContourMeasureIter(g,!1,1);for(var de=g.next(),Le=new Float32Array(4),ze=0;ze<y.length&&de;ze++){var Ve=G[ze];if(P+=Ve/2,P>de.length()){if(de.delete(),de=g.next(),!de){y=y.substring(0,ze);break}P=Ve/2}de.getPosTan(P,Le);var pt=Le[2],dt=Le[3];Y.push(pt,dt,Le[0]-Ve/2*pt,Le[1]-Ve/2*dt),P+=Ve/2}return y=this.MakeFromRSXform(y,Y,S),de&&de.delete(),g.delete(),y}},a.TextBlob.MakeFromRSXform=function(y,g,S){var P=sr(y)+1,G=a._malloc(P);return Fn(y,oe,G,P),y=X(g,"HEAPF32"),S=a.TextBlob._MakeFromRSXform(G,P-1,y,S),a._free(G),S||null},a.TextBlob.MakeFromRSXformGlyphs=function(y,g,S){var P=X(y,"HEAPU16");return g=X(g,"HEAPF32"),S=a.TextBlob._MakeFromRSXformGlyphs(P,2*y.length,g,S),N(P,y),S||null},a.TextBlob.MakeFromGlyphs=function(y,g){var S=X(y,"HEAPU16");return g=a.TextBlob._MakeFromGlyphs(S,2*y.length,g),N(S,y),g||null},a.TextBlob.MakeFromText=function(y,g){var S=sr(y)+1,P=a._malloc(S);return Fn(y,oe,P,S),y=a.TextBlob._MakeFromText(P,S-1,g),a._free(P),y||null},a.MallocGlyphIDs=function(y){return a.Malloc(Uint16Array,y)}}),a.Td=a.Td||[],a.Td.push(function(){a.MakePicture=function(y){y=new Uint8Array(y);var g=a._malloc(y.byteLength);return a.HEAPU8.set(y,g),(y=a._MakePicture(g,y.byteLength))?y:null}}),a.Td=a.Td||[],a.Td.push(function(){a.RuntimeEffect.Make=function(y,g){return a.RuntimeEffect._Make(y,{onError:g||function(S){console.log("RuntimeEffect error",S)}})},a.RuntimeEffect.MakeForBlender=function(y,g){return a.RuntimeEffect._MakeForBlender(y,{onError:g||function(S){console.log("RuntimeEffect error",S)}})},a.RuntimeEffect.prototype.makeShader=function(y,g){var S=!y._ck,P=X(y,"HEAPF32");return g=Ae(g),this._makeShader(P,4*y.length,S,g)},a.RuntimeEffect.prototype.makeShaderWithChildren=function(y,g,S){var P=!y._ck,G=X(y,"HEAPF32");S=Ae(S);for(var Y=[],de=0;de<g.length;de++)Y.push(g[de].Kd.Sd);return g=X(Y,"HEAPU32"),this._makeShaderWithChildren(G,4*y.length,P,g,Y.length,S)},a.RuntimeEffect.prototype.makeBlender=function(y){var g=!y._ck,S=X(y,"HEAPF32");return this._makeBlender(S,4*y.length,g)}}),function(){function y(Ee){for(var _=0;_<Ee.length;_++)if(Ee[_]!==void 0&&!Number.isFinite(Ee[_]))return!1;return!0}function g(Ee){var _=a.getColorComponents(Ee);Ee=_[0];var $=_[1],ue=_[2];return _=_[3],_===1?(Ee=Ee.toString(16).toLowerCase(),$=$.toString(16).toLowerCase(),ue=ue.toString(16).toLowerCase(),Ee=Ee.length===1?"0"+Ee:Ee,$=$.length===1?"0"+$:$,ue=ue.length===1?"0"+ue:ue,"#"+Ee+$+ue):(_=_===0||_===1?_:_.toFixed(8),"rgba("+Ee+", "+$+", "+ue+", "+_+")")}function S(Ee){return a.parseColorString(Ee,Zn)}function P(Ee){if(Ee=er.exec(Ee),!Ee)return null;var _=parseFloat(Ee[4]),$=16;switch(Ee[5]){case"em":case"rem":$=16*_;break;case"pt":$=4*_/3;break;case"px":$=_;break;case"pc":$=16*_;break;case"in":$=96*_;break;case"cm":$=96*_/2.54;break;case"mm":$=96/25.4*_;break;case"q":$=96/25.4/4*_;break;case"%":$=16/75*_}return{style:Ee[1],variant:Ee[2],weight:Ee[3],sizePx:$,family:Ee[6].trim()}}function G(Ee){this.Md=Ee,this.Pd=new a.Paint,this.Pd.setAntiAlias(!0),this.Pd.setStrokeMiter(10),this.Pd.setStrokeCap(a.StrokeCap.Butt),this.Pd.setStrokeJoin(a.StrokeJoin.Miter),this.Se="10px monospace",this.ne=new a.Font(null,10),this.ne.setSubpixel(!0),this.be=this.he=a.BLACK,this.we=0,this.Ke=a.TRANSPARENT,this.ye=this.xe=0,this.Le=this.je=1,this.Je=0,this.ve=[],this.Od=a.BlendMode.SrcOver,this.Pd.setStrokeWidth(this.Le),this.Pd.setBlendMode(this.Od),this.Rd=new a.Path,this.Ud=a.Matrix.identity(),this.mf=[],this.Ce=[],this.me=function(){this.Rd.delete(),this.Pd.delete(),this.ne.delete(),this.Ce.forEach(function(_){_.me()})},Object.defineProperty(this,"currentTransform",{enumerable:!0,get:function(){return{a:this.Ud[0],c:this.Ud[1],e:this.Ud[2],b:this.Ud[3],d:this.Ud[4],f:this.Ud[5]}},set:function(_){_.a&&this.setTransform(_.a,_.b,_.c,_.d,_.e,_.f)}}),Object.defineProperty(this,"fillStyle",{enumerable:!0,get:function(){return v(this.be)?g(this.be):this.be},set:function(_){typeof _=="string"?this.be=S(_):_.ue&&(this.be=_)}}),Object.defineProperty(this,"font",{enumerable:!0,get:function(){return this.Se},set:function(_){var $=P(_),ue=$.family;$.typeface=cn[ue]?cn[ue][($.style||"normal")+"|"+($.variant||"normal")+"|"+($.weight||"normal")]||cn[ue]["*"]:null,$&&(this.ne.setSize($.sizePx),this.ne.setTypeface($.typeface),this.Se=_)}}),Object.defineProperty(this,"globalAlpha",{enumerable:!0,get:function(){return this.je},set:function(_){!isFinite(_)||0>_||1<_||(this.je=_)}}),Object.defineProperty(this,"globalCompositeOperation",{enumerable:!0,get:function(){switch(this.Od){case a.BlendMode.SrcOver:return"source-over";case a.BlendMode.DstOver:return"destination-over";case a.BlendMode.Src:return"copy";case a.BlendMode.Dst:return"destination";case a.BlendMode.Clear:return"clear";case a.BlendMode.SrcIn:return"source-in";case a.BlendMode.DstIn:return"destination-in";case a.BlendMode.SrcOut:return"source-out";case a.BlendMode.DstOut:return"destination-out";case a.BlendMode.SrcATop:return"source-atop";case a.BlendMode.DstATop:return"destination-atop";case a.BlendMode.Xor:return"xor";case a.BlendMode.Plus:return"lighter";case a.BlendMode.Multiply:return"multiply";case a.BlendMode.Screen:return"screen";case a.BlendMode.Overlay:return"overlay";case a.BlendMode.Darken:return"darken";case a.BlendMode.Lighten:return"lighten";case a.BlendMode.ColorDodge:return"color-dodge";case a.BlendMode.ColorBurn:return"color-burn";case a.BlendMode.HardLight:return"hard-light";case a.BlendMode.SoftLight:return"soft-light";case a.BlendMode.Difference:return"difference";case a.BlendMode.Exclusion:return"exclusion";case a.BlendMode.Hue:return"hue";case a.BlendMode.Saturation:return"saturation";case a.BlendMode.Color:return"color";case a.BlendMode.Luminosity:return"luminosity"}},set:function(_){switch(_){case"source-over":this.Od=a.BlendMode.SrcOver;break;case"destination-over":this.Od=a.BlendMode.DstOver;break;case"copy":this.Od=a.BlendMode.Src;break;case"destination":this.Od=a.BlendMode.Dst;break;case"clear":this.Od=a.BlendMode.Clear;break;case"source-in":this.Od=a.BlendMode.SrcIn;break;case"destination-in":this.Od=a.BlendMode.DstIn;break;case"source-out":this.Od=a.BlendMode.SrcOut;break;case"destination-out":this.Od=a.BlendMode.DstOut;break;case"source-atop":this.Od=a.BlendMode.SrcATop;break;case"destination-atop":this.Od=a.BlendMode.DstATop;break;case"xor":this.Od=a.BlendMode.Xor;break;case"lighter":this.Od=a.BlendMode.Plus;break;case"plus-lighter":this.Od=a.BlendMode.Plus;break;case"plus-darker":throw"plus-darker is not supported";case"multiply":this.Od=a.BlendMode.Multiply;break;case"screen":this.Od=a.BlendMode.Screen;break;case"overlay":this.Od=a.BlendMode.Overlay;break;case"darken":this.Od=a.BlendMode.Darken;break;case"lighten":this.Od=a.BlendMode.Lighten;break;case"color-dodge":this.Od=a.BlendMode.ColorDodge;break;case"color-burn":this.Od=a.BlendMode.ColorBurn;break;case"hard-light":this.Od=a.BlendMode.HardLight;break;case"soft-light":this.Od=a.BlendMode.SoftLight;break;case"difference":this.Od=a.BlendMode.Difference;break;case"exclusion":this.Od=a.BlendMode.Exclusion;break;case"hue":this.Od=a.BlendMode.Hue;break;case"saturation":this.Od=a.BlendMode.Saturation;break;case"color":this.Od=a.BlendMode.Color;break;case"luminosity":this.Od=a.BlendMode.Luminosity;break;default:return}this.Pd.setBlendMode(this.Od)}}),Object.defineProperty(this,"imageSmoothingEnabled",{enumerable:!0,get:function(){return!0},set:function(){}}),Object.defineProperty(this,"imageSmoothingQuality",{enumerable:!0,get:function(){return"high"},set:function(){}}),Object.defineProperty(this,"lineCap",{enumerable:!0,get:function(){switch(this.Pd.getStrokeCap()){case a.StrokeCap.Butt:return"butt";case a.StrokeCap.Round:return"round";case a.StrokeCap.Square:return"square"}},set:function(_){switch(_){case"butt":this.Pd.setStrokeCap(a.StrokeCap.Butt);break;case"round":this.Pd.setStrokeCap(a.StrokeCap.Round);break;case"square":this.Pd.setStrokeCap(a.StrokeCap.Square)}}}),Object.defineProperty(this,"lineDashOffset",{enumerable:!0,get:function(){return this.Je},set:function(_){isFinite(_)&&(this.Je=_)}}),Object.defineProperty(this,"lineJoin",{enumerable:!0,get:function(){switch(this.Pd.getStrokeJoin()){case a.StrokeJoin.Miter:return"miter";case a.StrokeJoin.Round:return"round";case a.StrokeJoin.Bevel:return"bevel"}},set:function(_){switch(_){case"miter":this.Pd.setStrokeJoin(a.StrokeJoin.Miter);break;case"round":this.Pd.setStrokeJoin(a.StrokeJoin.Round);break;case"bevel":this.Pd.setStrokeJoin(a.StrokeJoin.Bevel)}}}),Object.defineProperty(this,"lineWidth",{enumerable:!0,get:function(){return this.Pd.getStrokeWidth()},set:function(_){0>=_||!_||(this.Le=_,this.Pd.setStrokeWidth(_))}}),Object.defineProperty(this,"miterLimit",{enumerable:!0,get:function(){return this.Pd.getStrokeMiter()},set:function(_){0>=_||!_||this.Pd.setStrokeMiter(_)}}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,get:function(){return this.we},set:function(_){0>_||!isFinite(_)||(this.we=_)}}),Object.defineProperty(this,"shadowColor",{enumerable:!0,get:function(){return g(this.Ke)},set:function(_){this.Ke=S(_)}}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,get:function(){return this.xe},set:function(_){isFinite(_)&&(this.xe=_)}}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,get:function(){return this.ye},set:function(_){isFinite(_)&&(this.ye=_)}}),Object.defineProperty(this,"strokeStyle",{enumerable:!0,get:function(){return g(this.he)},set:function(_){typeof _=="string"?this.he=S(_):_.ue&&(this.he=_)}}),this.arc=function(_,$,ue,he,be,Ce){D(this.Rd,_,$,ue,ue,0,he,be,Ce)},this.arcTo=function(_,$,ue,he,be){Ve(this.Rd,_,$,ue,he,be)},this.beginPath=function(){this.Rd.delete(),this.Rd=new a.Path},this.bezierCurveTo=function(_,$,ue,he,be,Ce){var Ge=this.Rd;y([_,$,ue,he,be,Ce])&&(Ge.isEmpty()&&Ge.moveTo(_,$),Ge.cubicTo(_,$,ue,he,be,Ce))},this.clearRect=function(_,$,ue,he){this.Pd.setStyle(a.PaintStyle.Fill),this.Pd.setBlendMode(a.BlendMode.Clear),this.Md.drawRect(a.XYWHRect(_,$,ue,he),this.Pd),this.Pd.setBlendMode(this.Od)},this.clip=function(_,$){typeof _=="string"?($=_,_=this.Rd):_&&_.bf&&(_=_.Vd),_||(_=this.Rd),_=_.copy(),$&&$.toLowerCase()==="evenodd"?_.setFillType(a.FillType.EvenOdd):_.setFillType(a.FillType.Winding),this.Md.clipPath(_,a.ClipOp.Intersect,!0),_.delete()},this.closePath=function(){pt(this.Rd)},this.createImageData=function(){if(arguments.length===1){var _=arguments[0];return new Le(new Uint8ClampedArray(4*_.width*_.height),_.width,_.height)}if(arguments.length===2){_=arguments[0];var $=arguments[1];return new Le(new Uint8ClampedArray(4*_*$),_,$)}throw"createImageData expects 1 or 2 arguments, got "+arguments.length},this.createLinearGradient=function(_,$,ue,he){if(y(arguments)){var be=new ze(_,$,ue,he);return this.Ce.push(be),be}},this.createPattern=function(_,$){return _=new Tt(_,$),this.Ce.push(_),_},this.createRadialGradient=function(_,$,ue,he,be,Ce){if(y(arguments)){var Ge=new Qt(_,$,ue,he,be,Ce);return this.Ce.push(Ge),Ge}},this.drawImage=function(_){_ instanceof de&&(_=_.uf());var $=this.Re();if(arguments.length===3||arguments.length===5)var ue=a.XYWHRect(arguments[1],arguments[2],arguments[3]||_.width(),arguments[4]||_.height()),he=a.XYWHRect(0,0,_.width(),_.height());else if(arguments.length===9)ue=a.XYWHRect(arguments[5],arguments[6],arguments[7],arguments[8]),he=a.XYWHRect(arguments[1],arguments[2],arguments[3],arguments[4]);else throw"invalid number of args for drawImage, need 3, 5, or 9; got "+arguments.length;this.Md.drawImageRect(_,he,ue,$,!1),$.dispose()},this.ellipse=function(_,$,ue,he,be,Ce,Ge,Pt){D(this.Rd,_,$,ue,he,be,Ce,Ge,Pt)},this.Re=function(){var _=this.Pd.copy();if(_.setStyle(a.PaintStyle.Fill),v(this.be)){var $=a.multiplyByAlpha(this.be,this.je);_.setColor($)}else $=this.be.ue(this.Ud),_.setColor(a.Color(0,0,0,this.je)),_.setShader($);return _.dispose=function(){this.delete()},_},this.fill=function(_,$){if(typeof _=="string"?($=_,_=this.Rd):_&&_.bf&&(_=_.Vd),$==="evenodd")this.Rd.setFillType(a.FillType.EvenOdd);else{if($!=="nonzero"&&$)throw"invalid fill rule";this.Rd.setFillType(a.FillType.Winding)}_||(_=this.Rd),$=this.Re();var ue=this.ze($);ue&&(this.Md.save(),this.se(),this.Md.drawPath(_,ue),this.Md.restore(),ue.dispose()),this.Md.drawPath(_,$),$.dispose()},this.fillRect=function(_,$,ue,he){var be=this.Re(),Ce=this.ze(be);Ce&&(this.Md.save(),this.se(),this.Md.drawRect(a.XYWHRect(_,$,ue,he),Ce),this.Md.restore(),Ce.dispose()),this.Md.drawRect(a.XYWHRect(_,$,ue,he),be),be.dispose()},this.fillText=function(_,$,ue){var he=this.Re();_=a.TextBlob.MakeFromText(_,this.ne);var be=this.ze(he);be&&(this.Md.save(),this.se(),this.Md.drawTextBlob(_,$,ue,be),this.Md.restore(),be.dispose()),this.Md.drawTextBlob(_,$,ue,he),_.delete(),he.dispose()},this.getImageData=function(_,$,ue,he){return(_=this.Md.readPixels(_,$,{width:ue,height:he,colorType:a.ColorType.RGBA_8888,alphaType:a.AlphaType.Unpremul,colorSpace:a.ColorSpace.SRGB}))?new Le(new Uint8ClampedArray(_.buffer),ue,he):null},this.getLineDash=function(){return this.ve.slice()},this.nf=function(_){var $=a.Matrix.invert(this.Ud);return a.Matrix.mapPoints($,_),_},this.isPointInPath=function(_,$,ue){var he=arguments;if(he.length===3)var be=this.Rd;else if(he.length===4)be=he[0],_=he[1],$=he[2],ue=he[3];else throw"invalid arg count, need 3 or 4, got "+he.length;return!isFinite(_)||!isFinite($)||(ue=ue||"nonzero",ue!=="nonzero"&&ue!=="evenodd")?!1:(he=this.nf([_,$]),_=he[0],$=he[1],be.setFillType(ue==="nonzero"?a.FillType.Winding:a.FillType.EvenOdd),be.contains(_,$))},this.isPointInStroke=function(_,$){var ue=arguments;if(ue.length===2)var he=this.Rd;else if(ue.length===3)he=ue[0],_=ue[1],$=ue[2];else throw"invalid arg count, need 2 or 3, got "+ue.length;return!isFinite(_)||!isFinite($)?!1:(ue=this.nf([_,$]),_=ue[0],$=ue[1],he=he.copy(),he.setFillType(a.FillType.Winding),he.stroke({width:this.lineWidth,miter_limit:this.miterLimit,cap:this.Pd.getStrokeCap(),join:this.Pd.getStrokeJoin(),precision:.3}),ue=he.contains(_,$),he.delete(),ue)},this.lineTo=function(_,$){me(this.Rd,_,$)},this.measureText=function(_){_=this.ne.getGlyphIDs(_),_=this.ne.getGlyphWidths(_);let $=0;for(const ue of _)$+=ue;return{width:$}},this.moveTo=function(_,$){var ue=this.Rd;y([_,$])&&ue.moveTo(_,$)},this.putImageData=function(_,$,ue,he,be,Ce,Ge){if(y([$,ue,he,be,Ce,Ge])){if(he===void 0)this.Md.writePixels(_.data,_.width,_.height,$,ue);else if(he=he||0,be=be||0,Ce=Ce||_.width,Ge=Ge||_.height,0>Ce&&(he+=Ce,Ce=Math.abs(Ce)),0>Ge&&(be+=Ge,Ge=Math.abs(Ge)),0>he&&(Ce+=he,he=0),0>be&&(Ge+=be,be=0),!(0>=Ce||0>=Ge)){_=a.MakeImage({width:_.width,height:_.height,alphaType:a.AlphaType.Unpremul,colorType:a.ColorType.RGBA_8888,colorSpace:a.ColorSpace.SRGB},_.data,4*_.width);var Pt=a.XYWHRect(he,be,Ce,Ge);$=a.XYWHRect($+he,ue+be,Ce,Ge),ue=a.Matrix.invert(this.Ud),this.Md.save(),this.Md.concat(ue),this.Md.drawImageRect(_,Pt,$,null,!1),this.Md.restore(),_.delete()}}},this.quadraticCurveTo=function(_,$,ue,he){var be=this.Rd;y([_,$,ue,he])&&(be.isEmpty()&&be.moveTo(_,$),be.quadTo(_,$,ue,he))},this.rect=function(_,$,ue,he){var be=this.Rd;_=a.XYWHRect(_,$,ue,he),y(_)&&be.addRect(_)},this.resetTransform=function(){this.Rd.transform(this.Ud);var _=a.Matrix.invert(this.Ud);this.Md.concat(_),this.Ud=this.Md.getTotalMatrix()},this.restore=function(){var _=this.mf.pop();if(_){var $=a.Matrix.multiply(this.Ud,a.Matrix.invert(_.Kf));this.Rd.transform($),this.Pd.delete(),this.Pd=_.bg,this.ve=_.$f,this.Le=_.ng,this.he=_.mg,this.be=_.fs,this.xe=_.kg,this.ye=_.lg,this.we=_.sb,this.Ke=_.jg,this.je=_.ga,this.Od=_.Rf,this.Je=_.ag,this.Se=_.Qf,this.Md.restore(),this.Ud=this.Md.getTotalMatrix()}},this.rotate=function(_){if(isFinite(_)){var $=a.Matrix.rotated(-_);this.Rd.transform($),this.Md.rotate(_/Math.PI*180,0,0),this.Ud=this.Md.getTotalMatrix()}},this.save=function(){if(this.be.te){var _=this.be.te();this.Ce.push(_)}else _=this.be;if(this.he.te){var $=this.he.te();this.Ce.push($)}else $=this.he;this.mf.push({Kf:this.Ud.slice(),$f:this.ve.slice(),ng:this.Le,mg:$,fs:_,kg:this.xe,lg:this.ye,sb:this.we,jg:this.Ke,ga:this.je,ag:this.Je,Rf:this.Od,bg:this.Pd.copy(),Qf:this.Se}),this.Md.save()},this.scale=function(_,$){if(y(arguments)){var ue=a.Matrix.scaled(1/_,1/$);this.Rd.transform(ue),this.Md.scale(_,$),this.Ud=this.Md.getTotalMatrix()}},this.setLineDash=function(_){for(var $=0;$<_.length;$++)if(!isFinite(_[$])||0>_[$])return;_.length%2===1&&Array.prototype.push.apply(_,_),this.ve=_},this.setTransform=function(_,$,ue,he,be,Ce){y(arguments)&&(this.resetTransform(),this.transform(_,$,ue,he,be,Ce))},this.se=function(){var _=a.Matrix.invert(this.Ud);this.Md.concat(_),this.Md.concat(a.Matrix.translated(this.xe,this.ye)),this.Md.concat(this.Ud)},this.ze=function(_){var $=a.multiplyByAlpha(this.Ke,this.je);if(!a.getColorComponents($)[3]||!(this.we||this.ye||this.xe))return null;_=_.copy(),_.setColor($);var ue=a.MaskFilter.MakeBlur(a.BlurStyle.Normal,this.we/2,!1);return _.setMaskFilter(ue),_.dispose=function(){ue.delete(),this.delete()},_},this.df=function(){var _=this.Pd.copy();if(_.setStyle(a.PaintStyle.Stroke),v(this.he)){var $=a.multiplyByAlpha(this.he,this.je);_.setColor($)}else $=this.he.ue(this.Ud),_.setColor(a.Color(0,0,0,this.je)),_.setShader($);if(_.setStrokeWidth(this.Le),this.ve.length){var ue=a.PathEffect.MakeDash(this.ve,this.Je);_.setPathEffect(ue)}return _.dispose=function(){ue&&ue.delete(),this.delete()},_},this.stroke=function(_){_=_?_.Vd:this.Rd;var $=this.df(),ue=this.ze($);ue&&(this.Md.save(),this.se(),this.Md.drawPath(_,ue),this.Md.restore(),ue.dispose()),this.Md.drawPath(_,$),$.dispose()},this.strokeRect=function(_,$,ue,he){var be=this.df(),Ce=this.ze(be);Ce&&(this.Md.save(),this.se(),this.Md.drawRect(a.XYWHRect(_,$,ue,he),Ce),this.Md.restore(),Ce.dispose()),this.Md.drawRect(a.XYWHRect(_,$,ue,he),be),be.dispose()},this.strokeText=function(_,$,ue){var he=this.df();_=a.TextBlob.MakeFromText(_,this.ne);var be=this.ze(he);be&&(this.Md.save(),this.se(),this.Md.drawTextBlob(_,$,ue,be),this.Md.restore(),be.dispose()),this.Md.drawTextBlob(_,$,ue,he),_.delete(),he.dispose()},this.translate=function(_,$){if(y(arguments)){var ue=a.Matrix.translated(-_,-$);this.Rd.transform(ue),this.Md.translate(_,$),this.Ud=this.Md.getTotalMatrix()}},this.transform=function(_,$,ue,he,be,Ce){_=[_,ue,be,$,he,Ce,0,0,1],$=a.Matrix.invert(_),this.Rd.transform($),this.Md.concat(_),this.Ud=this.Md.getTotalMatrix()},this.addHitRegion=function(){},this.clearHitRegions=function(){},this.drawFocusIfNeeded=function(){},this.removeHitRegion=function(){},this.scrollPathIntoView=function(){},Object.defineProperty(this,"canvas",{value:null,writable:!1})}function Y(Ee){this.ef=Ee,this.Ld=new G(Ee.getCanvas()),this.Te=[],this.decodeImage=function(_){if(_=a.MakeImageFromEncoded(_),!_)throw"Invalid input";return this.Te.push(_),new de(_)},this.loadFont=function(_,$){if(_=a.Typeface.MakeFreeTypeFaceFromData(_),!_)return null;this.Te.push(_);var ue=($.style||"normal")+"|"+($.variant||"normal")+"|"+($.weight||"normal");$=$.family,cn[$]||(cn[$]={"*":_}),cn[$][ue]=_},this.makePath2D=function(_){return _=new st(_),this.Te.push(_.Vd),_},this.getContext=function(_){return _==="2d"?this.Ld:null},this.toDataURL=function(_,$){this.ef.flush();var ue=this.ef.makeImageSnapshot();if(ue){_=_||"image/png";var he=a.ImageFormat.PNG;if(_==="image/jpeg"&&(he=a.ImageFormat.JPEG),$=ue.encodeToBytes(he,$||.92)){if(ue.delete(),_="data:"+_+";base64,",typeof Buffer<"u")$=Buffer.from($).toString("base64");else{ue=0,he=$.length;for(var be="",Ce;ue<he;)Ce=$.slice(ue,Math.min(ue+32768,he)),be+=String.fromCharCode.apply(null,Ce),ue+=32768;$=btoa(be)}return _+$}}},this.dispose=function(){this.Ld.me(),this.Te.forEach(function(_){_.delete()}),this.ef.dispose()}}function de(Ee){this.width=Ee.width(),this.height=Ee.height(),this.naturalWidth=this.width,this.naturalHeight=this.height,this.uf=function(){return Ee}}function Le(Ee,_,$){if(!_||$===0)throw"invalid dimensions, width and height must be non-zero";if(Ee.length%4)throw"arr must be a multiple of 4";$=$||Ee.length/(4*_),Object.defineProperty(this,"data",{value:Ee,writable:!1}),Object.defineProperty(this,"height",{value:$,writable:!1}),Object.defineProperty(this,"width",{value:_,writable:!1})}function ze(Ee,_,$,ue){this.Xd=null,this.de=[],this.$d=[],this.addColorStop=function(he,be){if(0>he||1<he||!isFinite(he))throw"offset must be between 0 and 1 inclusively";be=S(be);var Ce=this.$d.indexOf(he);if(Ce!==-1)this.de[Ce]=be;else{for(Ce=0;Ce<this.$d.length&&!(this.$d[Ce]>he);Ce++);this.$d.splice(Ce,0,he),this.de.splice(Ce,0,be)}},this.te=function(){var he=new ze(Ee,_,$,ue);return he.de=this.de.slice(),he.$d=this.$d.slice(),he},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(he){var be=[Ee,_,$,ue];a.Matrix.mapPoints(he,be),he=be[0];var Ce=be[1],Ge=be[2];return be=be[3],this.me(),this.Xd=a.Shader.MakeLinearGradient([he,Ce],[Ge,be],this.de,this.$d,a.TileMode.Clamp)}}function Ve(Ee,_,$,ue,he,be){if(y([_,$,ue,he,be])){if(0>be)throw"radii cannot be negative";Ee.isEmpty()&&Ee.moveTo(_,$),Ee.arcToTangent(_,$,ue,he,be)}}function pt(Ee){if(!Ee.isEmpty()){var _=Ee.getBounds();(_[3]-_[1]||_[2]-_[0])&&Ee.close()}}function dt(Ee,_,$,ue,he,be,Ce){Ce=(Ce-be)/Math.PI*180,be=be/Math.PI*180,_=a.LTRBRect(_-ue,$-he,_+ue,$+he),1e-5>Math.abs(Math.abs(Ce)-360)?($=Ce/2,Ee.arcToOval(_,be,$,!1),Ee.arcToOval(_,be+$,$,!1)):Ee.arcToOval(_,be,Ce,!1)}function D(Ee,_,$,ue,he,be,Ce,Ge,Pt){if(y([_,$,ue,he,be,Ce,Ge])){if(0>ue||0>he)throw"radii cannot be negative";var It=2*Math.PI,Tr=Ce%It;0>Tr&&(Tr+=It);var lo=Tr-Ce;Ce=Tr,Ge+=lo,!Pt&&Ge-Ce>=It?Ge=Ce+It:Pt&&Ce-Ge>=It?Ge=Ce-It:!Pt&&Ce>Ge?Ge=Ce+(It-(Ce-Ge)%It):Pt&&Ce<Ge&&(Ge=Ce-(It-(Ge-Ce)%It)),be?(Pt=a.Matrix.rotated(be,_,$),be=a.Matrix.rotated(-be,_,$),Ee.transform(be),dt(Ee,_,$,ue,he,Ce,Ge),Ee.transform(Pt)):dt(Ee,_,$,ue,he,Ce,Ge)}}function me(Ee,_,$){y([_,$])&&(Ee.isEmpty()&&Ee.moveTo(_,$),Ee.lineTo(_,$))}function st(Ee){this.Vd=null,this.Vd=typeof Ee=="string"?a.Path.MakeFromSVGString(Ee):Ee&&Ee.bf?Ee.Vd.copy():new a.Path,this.bf=function(){return this.Vd},this.addPath=function(_,$){$||($={a:1,c:0,e:0,b:0,d:1,f:0}),this.Vd.addPath(_.Vd,[$.a,$.c,$.e,$.b,$.d,$.f])},this.arc=function(_,$,ue,he,be,Ce){D(this.Vd,_,$,ue,ue,0,he,be,Ce)},this.arcTo=function(_,$,ue,he,be){Ve(this.Vd,_,$,ue,he,be)},this.bezierCurveTo=function(_,$,ue,he,be,Ce){var Ge=this.Vd;y([_,$,ue,he,be,Ce])&&(Ge.isEmpty()&&Ge.moveTo(_,$),Ge.cubicTo(_,$,ue,he,be,Ce))},this.closePath=function(){pt(this.Vd)},this.ellipse=function(_,$,ue,he,be,Ce,Ge,Pt){D(this.Vd,_,$,ue,he,be,Ce,Ge,Pt)},this.lineTo=function(_,$){me(this.Vd,_,$)},this.moveTo=function(_,$){var ue=this.Vd;y([_,$])&&ue.moveTo(_,$)},this.quadraticCurveTo=function(_,$,ue,he){var be=this.Vd;y([_,$,ue,he])&&(be.isEmpty()&&be.moveTo(_,$),be.quadTo(_,$,ue,he))},this.rect=function(_,$,ue,he){var be=this.Vd;_=a.XYWHRect(_,$,ue,he),y(_)&&be.addRect(_)}}function Tt(Ee,_){switch(this.Xd=null,Ee instanceof de&&(Ee=Ee.uf()),this.Ff=Ee,this._transform=a.Matrix.identity(),_===""&&(_="repeat"),_){case"repeat-x":this.Ae=a.TileMode.Repeat,this.Be=a.TileMode.Decal;break;case"repeat-y":this.Ae=a.TileMode.Decal,this.Be=a.TileMode.Repeat;break;case"repeat":this.Be=this.Ae=a.TileMode.Repeat;break;case"no-repeat":this.Be=this.Ae=a.TileMode.Decal;break;default:throw"invalid repetition mode "+_}this.setTransform=function($){$=[$.a,$.c,$.e,$.b,$.d,$.f,0,0,1],y($)&&(this._transform=$)},this.te=function(){var $=new Tt;return $.Ae=this.Ae,$.Be=this.Be,$},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(){return this.me(),this.Xd=this.Ff.makeShaderCubic(this.Ae,this.Be,1/3,1/3,this._transform)}}function Qt(Ee,_,$,ue,he,be){this.Xd=null,this.de=[],this.$d=[],this.addColorStop=function(Ce,Ge){if(0>Ce||1<Ce||!isFinite(Ce))throw"offset must be between 0 and 1 inclusively";Ge=S(Ge);var Pt=this.$d.indexOf(Ce);if(Pt!==-1)this.de[Pt]=Ge;else{for(Pt=0;Pt<this.$d.length&&!(this.$d[Pt]>Ce);Pt++);this.$d.splice(Pt,0,Ce),this.de.splice(Pt,0,Ge)}},this.te=function(){var Ce=new Qt(Ee,_,$,ue,he,be);return Ce.de=this.de.slice(),Ce.$d=this.$d.slice(),Ce},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(Ce){var Ge=[Ee,_,ue,he];a.Matrix.mapPoints(Ce,Ge);var Pt=Ge[0],It=Ge[1],Tr=Ge[2];Ge=Ge[3];var lo=(Math.abs(Ce[0])+Math.abs(Ce[4]))/2;return Ce=$*lo,lo*=be,this.me(),this.Xd=a.Shader.MakeTwoPointConicalGradient([Pt,It],Ce,[Tr,Ge],lo,this.de,this.$d,a.TileMode.Clamp)}}a._testing={};var Zn={aliceblue:Float32Array.of(.941,.973,1,1),antiquewhite:Float32Array.of(.98,.922,.843,1),aqua:Float32Array.of(0,1,1,1),aquamarine:Float32Array.of(.498,1,.831,1),azure:Float32Array.of(.941,1,1,1),beige:Float32Array.of(.961,.961,.863,1),bisque:Float32Array.of(1,.894,.769,1),black:Float32Array.of(0,0,0,1),blanchedalmond:Float32Array.of(1,.922,.804,1),blue:Float32Array.of(0,0,1,1),blueviolet:Float32Array.of(.541,.169,.886,1),brown:Float32Array.of(.647,.165,.165,1),burlywood:Float32Array.of(.871,.722,.529,1),cadetblue:Float32Array.of(.373,.62,.627,1),chartreuse:Float32Array.of(.498,1,0,1),chocolate:Float32Array.of(.824,.412,.118,1),coral:Float32Array.of(1,.498,.314,1),cornflowerblue:Float32Array.of(.392,.584,.929,1),cornsilk:Float32Array.of(1,.973,.863,1),crimson:Float32Array.of(.863,.078,.235,1),cyan:Float32Array.of(0,1,1,1),darkblue:Float32Array.of(0,0,.545,1),darkcyan:Float32Array.of(0,.545,.545,1),darkgoldenrod:Float32Array.of(.722,.525,.043,1),darkgray:Float32Array.of(.663,.663,.663,1),darkgreen:Float32Array.of(0,.392,0,1),darkgrey:Float32Array.of(.663,.663,.663,1),darkkhaki:Float32Array.of(.741,.718,.42,1),darkmagenta:Float32Array.of(.545,0,.545,1),darkolivegreen:Float32Array.of(.333,.42,.184,1),darkorange:Float32Array.of(1,.549,0,1),darkorchid:Float32Array.of(.6,.196,.8,1),darkred:Float32Array.of(.545,0,0,1),darksalmon:Float32Array.of(.914,.588,.478,1),darkseagreen:Float32Array.of(.561,.737,.561,1),darkslateblue:Float32Array.of(.282,.239,.545,1),darkslategray:Float32Array.of(.184,.31,.31,1),darkslategrey:Float32Array.of(.184,.31,.31,1),darkturquoise:Float32Array.of(0,.808,.82,1),darkviolet:Float32Array.of(.58,0,.827,1),deeppink:Float32Array.of(1,.078,.576,1),deepskyblue:Float32Array.of(0,.749,1,1),dimgray:Float32Array.of(.412,.412,.412,1),dimgrey:Float32Array.of(.412,.412,.412,1),dodgerblue:Float32Array.of(.118,.565,1,1),firebrick:Float32Array.of(.698,.133,.133,1),floralwhite:Float32Array.of(1,.98,.941,1),forestgreen:Float32Array.of(.133,.545,.133,1),fuchsia:Float32Array.of(1,0,1,1),gainsboro:Float32Array.of(.863,.863,.863,1),ghostwhite:Float32Array.of(.973,.973,1,1),gold:Float32Array.of(1,.843,0,1),goldenrod:Float32Array.of(.855,.647,.125,1),gray:Float32Array.of(.502,.502,.502,1),green:Float32Array.of(0,.502,0,1),greenyellow:Float32Array.of(.678,1,.184,1),grey:Float32Array.of(.502,.502,.502,1),honeydew:Float32Array.of(.941,1,.941,1),hotpink:Float32Array.of(1,.412,.706,1),indianred:Float32Array.of(.804,.361,.361,1),indigo:Float32Array.of(.294,0,.51,1),ivory:Float32Array.of(1,1,.941,1),khaki:Float32Array.of(.941,.902,.549,1),lavender:Float32Array.of(.902,.902,.98,1),lavenderblush:Float32Array.of(1,.941,.961,1),lawngreen:Float32Array.of(.486,.988,0,1),lemonchiffon:Float32Array.of(1,.98,.804,1),lightblue:Float32Array.of(.678,.847,.902,1),lightcoral:Float32Array.of(.941,.502,.502,1),lightcyan:Float32Array.of(.878,1,1,1),lightgoldenrodyellow:Float32Array.of(.98,.98,.824,1),lightgray:Float32Array.of(.827,.827,.827,1),lightgreen:Float32Array.of(.565,.933,.565,1),lightgrey:Float32Array.of(.827,.827,.827,1),lightpink:Float32Array.of(1,.714,.757,1),lightsalmon:Float32Array.of(1,.627,.478,1),lightseagreen:Float32Array.of(.125,.698,.667,1),lightskyblue:Float32Array.of(.529,.808,.98,1),lightslategray:Float32Array.of(.467,.533,.6,1),lightslategrey:Float32Array.of(.467,.533,.6,1),lightsteelblue:Float32Array.of(.69,.769,.871,1),lightyellow:Float32Array.of(1,1,.878,1),lime:Float32Array.of(0,1,0,1),limegreen:Float32Array.of(.196,.804,.196,1),linen:Float32Array.of(.98,.941,.902,1),magenta:Float32Array.of(1,0,1,1),maroon:Float32Array.of(.502,0,0,1),mediumaquamarine:Float32Array.of(.4,.804,.667,1),mediumblue:Float32Array.of(0,0,.804,1),mediumorchid:Float32Array.of(.729,.333,.827,1),mediumpurple:Float32Array.of(.576,.439,.859,1),mediumseagreen:Float32Array.of(.235,.702,.443,1),mediumslateblue:Float32Array.of(.482,.408,.933,1),mediumspringgreen:Float32Array.of(0,.98,.604,1),mediumturquoise:Float32Array.of(.282,.82,.8,1),mediumvioletred:Float32Array.of(.78,.082,.522,1),midnightblue:Float32Array.of(.098,.098,.439,1),mintcream:Float32Array.of(.961,1,.98,1),mistyrose:Float32Array.of(1,.894,.882,1),moccasin:Float32Array.of(1,.894,.71,1),navajowhite:Float32Array.of(1,.871,.678,1),navy:Float32Array.of(0,0,.502,1),oldlace:Float32Array.of(.992,.961,.902,1),olive:Float32Array.of(.502,.502,0,1),olivedrab:Float32Array.of(.42,.557,.137,1),orange:Float32Array.of(1,.647,0,1),orangered:Float32Array.of(1,.271,0,1),orchid:Float32Array.of(.855,.439,.839,1),palegoldenrod:Float32Array.of(.933,.91,.667,1),palegreen:Float32Array.of(.596,.984,.596,1),paleturquoise:Float32Array.of(.686,.933,.933,1),palevioletred:Float32Array.of(.859,.439,.576,1),papayawhip:Float32Array.of(1,.937,.835,1),peachpuff:Float32Array.of(1,.855,.725,1),peru:Float32Array.of(.804,.522,.247,1),pink:Float32Array.of(1,.753,.796,1),plum:Float32Array.of(.867,.627,.867,1),powderblue:Float32Array.of(.69,.878,.902,1),purple:Float32Array.of(.502,0,.502,1),rebeccapurple:Float32Array.of(.4,.2,.6,1),red:Float32Array.of(1,0,0,1),rosybrown:Float32Array.of(.737,.561,.561,1),royalblue:Float32Array.of(.255,.412,.882,1),saddlebrown:Float32Array.of(.545,.271,.075,1),salmon:Float32Array.of(.98,.502,.447,1),sandybrown:Float32Array.of(.957,.643,.376,1),seagreen:Float32Array.of(.18,.545,.341,1),seashell:Float32Array.of(1,.961,.933,1),sienna:Float32Array.of(.627,.322,.176,1),silver:Float32Array.of(.753,.753,.753,1),skyblue:Float32Array.of(.529,.808,.922,1),slateblue:Float32Array.of(.416,.353,.804,1),slategray:Float32Array.of(.439,.502,.565,1),slategrey:Float32Array.of(.439,.502,.565,1),snow:Float32Array.of(1,.98,.98,1),springgreen:Float32Array.of(0,1,.498,1),steelblue:Float32Array.of(.275,.51,.706,1),tan:Float32Array.of(.824,.706,.549,1),teal:Float32Array.of(0,.502,.502,1),thistle:Float32Array.of(.847,.749,.847,1),tomato:Float32Array.of(1,.388,.278,1),transparent:Float32Array.of(0,0,0,0),turquoise:Float32Array.of(.251,.878,.816,1),violet:Float32Array.of(.933,.51,.933,1),wheat:Float32Array.of(.961,.871,.702,1),white:Float32Array.of(1,1,1,1),whitesmoke:Float32Array.of(.961,.961,.961,1),yellow:Float32Array.of(1,1,0,1),yellowgreen:Float32Array.of(.604,.804,.196,1)};a._testing.parseColor=S,a._testing.colorToString=g;var er=RegExp("(italic|oblique|normal|)\\s*(small-caps|normal|)\\s*(bold|bolder|lighter|[1-9]00|normal|)\\s*([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q)(.+)"),cn={"Noto Mono":{"*":null},monospace:{"*":null}};a._testing.parseFontString=P,a.MakeCanvas=function(Ee,_){return(Ee=a.MakeSurface(Ee,_))?new Y(Ee):null},a.ImageData=function(){if(arguments.length===2){var Ee=arguments[0],_=arguments[1];return new Le(new Uint8ClampedArray(4*Ee*_),Ee,_)}if(arguments.length===3){var $=arguments[0];if($.prototype.constructor!==Uint8ClampedArray)throw"bytes must be given as a Uint8ClampedArray";if(Ee=arguments[1],_=arguments[2],$%4)throw"bytes must be given in a multiple of 4";if($%Ee)throw"bytes must divide evenly by width";if(_&&_!==$/(4*Ee))throw"invalid height given";return new Le($,Ee,$/(4*Ee))}throw"invalid number of arguments - takes 2 or 3, saw "+arguments.length}}()}(n);var u=Object.assign({},n),c="./this.program",l=(a,f)=>{throw f},h=typeof window=="object",p=typeof importScripts=="function",b=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",w="",E,T,L;b?(w=p?Fa.dirname(w)+"/":__dirname+"/",E=(a,f)=>(a=a.startsWith("file://")?new URL(a):Fa.normalize(a),fs.readFileSync(a,f?void 0:"utf8")),L=a=>(a=E(a,!0),a.buffer||(a=new Uint8Array(a)),a),T=(a,f,m,v=!0)=>{a=a.startsWith("file://")?new URL(a):Fa.normalize(a),fs.readFile(a,v?void 0:"utf8",(A,I)=>{A?m(A):f(v?I.buffer:I)})},!n.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),l=(a,f)=>{throw process.exitCode=a,f},n.inspect=()=>"[Emscripten Module object]"):(h||p)&&(p?w=self.location.href:typeof document<"u"&&document.currentScript&&(w=document.currentScript.src),t&&(w=t),w.indexOf("blob:")!==0?w=w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):w="",E=a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.send(null),f.responseText},p&&(L=a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),T=(a,f,m)=>{var v=new XMLHttpRequest;v.open("GET",a,!0),v.responseType="arraybuffer",v.onload=()=>{v.status==200||v.status==0&&v.response?f(v.response):m()},v.onerror=m,v.send(null)});var F=n.print||console.log.bind(console),B=n.printErr||console.error.bind(console);Object.assign(n,u),u=null,n.thisProgram&&(c=n.thisProgram),n.quit&&(l=n.quit);var H;n.wasmBinary&&(H=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&Pe("no native wasm support detected");var Q,W,se=!1,fe,oe,ye,Te,O,K,V,ie;function ce(){var a=Q.buffer;n.HEAP8=fe=new Int8Array(a),n.HEAP16=ye=new Int16Array(a),n.HEAP32=O=new Int32Array(a),n.HEAPU8=oe=new Uint8Array(a),n.HEAPU16=Te=new Uint16Array(a),n.HEAPU32=K=new Uint32Array(a),n.HEAPF32=V=new Float32Array(a),n.HEAPF64=ie=new Float64Array(a)}var ee,Se=[],j=[],te=[];function ge(){var a=n.preRun.shift();Se.unshift(a)}var Me=0,Fe=null;function Pe(a){throw n.onAbort&&n.onAbort(a),a="Aborted("+a+")",B(a),se=!0,a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info."),o(a),a}function Oe(a){return a.startsWith("data:application/octet-stream;base64,")}var ot;if(ot="canvaskit.wasm",!Oe(ot)){var it=ot;ot=n.locateFile?n.locateFile(it,w):w+it}function Ke(a){if(a==ot&&H)return new Uint8Array(H);if(L)return L(a);throw"both async and sync fetching of the wasm failed"}function yt(a){if(!H&&(h||p)){if(typeof fetch=="function"&&!a.startsWith("file://"))return fetch(a,{credentials:"same-origin"}).then(f=>{if(!f.ok)throw"failed to load wasm binary file at '"+a+"'";return f.arrayBuffer()}).catch(()=>Ke(a));if(T)return new Promise((f,m)=>{T(a,v=>f(new Uint8Array(v)),m)})}return Promise.resolve().then(()=>Ke(a))}function Nt(a,f,m){return yt(a).then(v=>WebAssembly.instantiate(v,f)).then(v=>v).then(m,v=>{B("failed to asynchronously prepare wasm: "+v),Pe(v)})}function In(a,f){var m=ot;return H||typeof WebAssembly.instantiateStreaming!="function"||Oe(m)||m.startsWith("file://")||b||typeof fetch!="function"?Nt(m,a,f):fetch(m,{credentials:"same-origin"}).then(v=>WebAssembly.instantiateStreaming(v,a).then(f,function(A){return B("wasm streaming compile failed: "+A),B("falling back to ArrayBuffer instantiation"),Nt(m,a,f)}))}function an(a){this.name="ExitStatus",this.message=`Program terminated with exit(${a})`,this.status=a}var pn=a=>{for(;0<a.length;)a.shift()(n)},Un=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ut=(a,f,m)=>{var v=f+m;for(m=f;a[m]&&!(m>=v);)++m;if(16<m-f&&a.buffer&&Un)return Un.decode(a.subarray(f,m));for(v="";f<m;){var A=a[f++];if(A&128){var I=a[f++]&63;if((A&224)==192)v+=String.fromCharCode((A&31)<<6|I);else{var z=a[f++]&63;A=(A&240)==224?(A&15)<<12|I<<6|z:(A&7)<<18|I<<12|z<<6|a[f++]&63,65536>A?v+=String.fromCharCode(A):(A-=65536,v+=String.fromCharCode(55296|A>>10,56320|A&1023))}}else v+=String.fromCharCode(A)}return v},wn={};function Wt(a){for(;a.length;){var f=a.pop();a.pop()(f)}}function En(a){return this.fromWireType(O[a>>2])}var Zt={},jt={},Wn={},yr=void 0;function gn(a){throw new yr(a)}function at(a,f,m){function v(R){R=m(R),R.length!==a.length&&gn("Mismatched type converter count");for(var N=0;N<a.length;++N)bn(a[N],R[N])}a.forEach(function(R){Wn[R]=f});var A=Array(f.length),I=[],z=0;f.forEach((R,N)=>{jt.hasOwnProperty(R)?A[N]=jt[R]:(I.push(R),Zt.hasOwnProperty(R)||(Zt[R]=[]),Zt[R].push(()=>{A[N]=jt[R],++z,z===I.length&&v(A)}))}),I.length===0&&v(A)}function Ct(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${a}`)}}var en=void 0;function xt(a){for(var f="";oe[a];)f+=en[oe[a++]];return f}var Dt=void 0;function vt(a){throw new Dt(a)}function vi(a,f,m={}){var v=f.name;if(a||vt(`type "${v}" must have a positive integer typeid pointer`),jt.hasOwnProperty(a)){if(m.Xf)return;vt(`Cannot register type '${v}' twice`)}jt[a]=f,delete Wn[a],Zt.hasOwnProperty(a)&&(f=Zt[a],delete Zt[a],f.forEach(A=>A()))}function bn(a,f,m={}){if(!("argPackAdvance"in f))throw new TypeError("registerType registeredInstance requires argPackAdvance");vi(a,f,m)}function wi(a){vt(a.Kd.Wd.Qd.name+" instance already deleted")}var bi=!1;function Yi(){}function Ki(a){--a.count.value,a.count.value===0&&(a.Zd?a.fe.le(a.Zd):a.Wd.Qd.le(a.Sd))}function Qi(a,f,m){return f===m?a:m.ae===void 0?null:(a=Qi(a,f,m.ae),a===null?null:m.Nf(a))}var qi={},Wr=[];function xi(){for(;Wr.length;){var a=Wr.pop();a.Kd.Fe=!1,a.delete()}}var Hr=void 0,Si={};function ka(a,f){for(f===void 0&&vt("ptr should not be undefined");a.ae;)f=a.Pe(f),a=a.ae;return Si[f]}function Ji(a,f){return f.Wd&&f.Sd||gn("makeClassHandle requires ptr and ptrType"),!!f.fe!=!!f.Zd&&gn("Both smartPtrType and smartPtr must be specified"),f.count={value:1},ni(Object.create(a,{Kd:{value:f}}))}function ni(a){return typeof FinalizationRegistry>"u"?(ni=f=>f,a):(bi=new FinalizationRegistry(f=>{Ki(f.Kd)}),ni=f=>{var m=f.Kd;return m.Zd&&bi.register(f,{Kd:m},f),f},Yi=f=>{bi.unregister(f)},ni(a))}function vr(){}function Qo(a){if(a===void 0)return"_unknown";a=a.replace(/[^a-zA-Z0-9_]/g,"$");var f=a.charCodeAt(0);return 48<=f&&57>=f?`_${a}`:a}function Zi(a,f){return a=Qo(a),{[a]:function(){return f.apply(this,arguments)}}[a]}function ri(a,f,m){if(a[f].Yd===void 0){var v=a[f];a[f]=function(){return a[f].Yd.hasOwnProperty(arguments.length)||vt(`Function '${m}' called with an invalid number of arguments (${arguments.length}) - expects one of (${a[f].Yd})!`),a[f].Yd[arguments.length].apply(this,arguments)},a[f].Yd=[],a[f].Yd[v.De]=v}}function ii(a,f,m){n.hasOwnProperty(a)?((m===void 0||n[a].Yd!==void 0&&n[a].Yd[m]!==void 0)&&vt(`Cannot register public name '${a}' twice`),ri(n,a,a),n.hasOwnProperty(m)&&vt(`Cannot register multiple overloads of a function with the same number of arguments (${m})!`),n[a].Yd[m]=f):(n[a]=f,m!==void 0&&(n[a].xg=m))}function eo(a,f,m,v,A,I,z,R){this.name=a,this.constructor=f,this.Ge=m,this.le=v,this.ae=A,this.Sf=I,this.Pe=z,this.Nf=R,this.dg=[]}function Ei(a,f,m){for(;f!==m;)f.Pe||vt(`Expected null or instance of ${m.name}, got an instance of ${f.name}`),a=f.Pe(a),f=f.ae;return a}function oi(a,f){return f===null?(this.hf&&vt(`null is not a valid ${this.name}`),0):(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),Ei(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd))}function ai(a,f){if(f===null){if(this.hf&&vt(`null is not a valid ${this.name}`),this.We){var m=this.jf();return a!==null&&a.push(this.le,m),m}return 0}if(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.Ve&&f.Kd.Wd.Ve&&vt(`Cannot convert argument of type ${f.Kd.fe?f.Kd.fe.name:f.Kd.Wd.name} to parameter type ${this.name}`),m=Ei(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd),this.We)switch(f.Kd.Zd===void 0&&vt("Passing raw pointer to smart pointer is illegal"),this.ig){case 0:f.Kd.fe===this?m=f.Kd.Zd:vt(`Cannot convert argument of type ${f.Kd.fe?f.Kd.fe.name:f.Kd.Wd.name} to parameter type ${this.name}`);break;case 1:m=f.Kd.Zd;break;case 2:if(f.Kd.fe===this)m=f.Kd.Zd;else{var v=f.clone();m=this.eg(m,Hn(function(){v.delete()})),a!==null&&a.push(this.le,m)}break;default:vt("Unsupporting sharing policy")}return m}function to(a,f){return f===null?(this.hf&&vt(`null is not a valid ${this.name}`),0):(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),f.Kd.Wd.Ve&&vt(`Cannot convert argument of type ${f.Kd.Wd.name} to parameter type ${this.name}`),Ei(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd))}function ar(a,f,m,v,A,I,z,R,N,X,ve){this.name=a,this.Qd=f,this.hf=m,this.Ve=v,this.We=A,this.cg=I,this.ig=z,this.wf=R,this.jf=N,this.eg=X,this.le=ve,A||f.ae!==void 0?this.toWireType=ai:(this.toWireType=v?oi:to,this.ee=null)}function Yt(a,f,m){n.hasOwnProperty(a)||gn("Replacing nonexistant public symbol"),n[a].Yd!==void 0&&m!==void 0?n[a].Yd[m]=f:(n[a]=f,n[a].De=m)}var qo=(a,f)=>{var m=[];return function(){if(m.length=0,Object.assign(m,arguments),a.includes("j")){var v=n["dynCall_"+a];v=m&&m.length?v.apply(null,[f].concat(m)):v.call(null,f)}else v=ee.get(f).apply(null,m);return v}};function mn(a,f){a=xt(a);var m=a.includes("j")?qo(a,f):ee.get(f);return typeof m!="function"&&vt(`unknown function pointer with signature ${a}: ${f}`),m}var Kt=void 0;function tn(a){a=za(a);var f=xt(a);return jr(a),f}function An(a,f){function m(I){A[I]||jt[I]||(Wn[I]?Wn[I].forEach(m):(v.push(I),A[I]=!0))}var v=[],A={};throw f.forEach(m),new Kt(`${a}: `+v.map(tn).join([", "]))}function kn(a,f,m,v,A){var I=f.length;2>I&&vt("argTypes array size mismatch! Must at least get return value and 'this' types!");var z=f[1]!==null&&m!==null,R=!1;for(m=1;m<f.length;++m)if(f[m]!==null&&f[m].ee===void 0){R=!0;break}var N=f[0].name!=="void",X=I-2,ve=Array(X),Ae=[],Ue=[];return function(){if(arguments.length!==X&&vt(`function ${a} called with ${arguments.length} arguments, expected ${X} args!`),Ue.length=0,Ae.length=z?2:1,Ae[0]=A,z){var ae=f[1].toWireType(Ue,this);Ae[1]=ae}for(var He=0;He<X;++He)ve[He]=f[He+2].toWireType(Ue,arguments[He]),Ae.push(ve[He]);if(He=v.apply(null,Ae),R)Wt(Ue);else for(var tt=z?1:2;tt<f.length;tt++){var rt=tt===1?ae:ve[tt-2];f[tt].ee!==null&&f[tt].ee(rt)}return ae=N?f[0].fromWireType(He):void 0,ae}}function zr(a,f){for(var m=[],v=0;v<a;v++)m.push(K[f+4*v>>2]);return m}function Jo(){this.ke=[void 0],this.tf=[]}var _n=new Jo;function Ai(a){a>=_n.He&&--_n.get(a).xf===0&&_n.Cf(a)}var Rn=a=>(a||vt("Cannot use deleted val. handle = "+a),_n.get(a).value),Hn=a=>{switch(a){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return _n.Bf({xf:1,value:a})}};function Ra(a,f,m){switch(f){case 0:return function(v){return this.fromWireType((m?fe:oe)[v])};case 1:return function(v){return this.fromWireType((m?ye:Te)[v>>1])};case 2:return function(v){return this.fromWireType((m?O:K)[v>>2])};default:throw new TypeError("Unknown integer type: "+a)}}function _i(a,f){var m=jt[a];return m===void 0&&vt(f+" has unknown type "+tn(a)),m}function Qn(a){if(a===null)return"null";var f=typeof a;return f==="object"||f==="array"||f==="function"?a.toString():""+a}function Zo(a,f){switch(f){case 2:return function(m){return this.fromWireType(V[m>>2])};case 3:return function(m){return this.fromWireType(ie[m>>3])};default:throw new TypeError("Unknown float type: "+a)}}function Xc(a,f,m){switch(f){case 0:return m?function(v){return fe[v]}:function(v){return oe[v]};case 1:return m?function(v){return ye[v>>1]}:function(v){return Te[v>>1]};case 2:return m?function(v){return O[v>>2]}:function(v){return K[v>>2]};default:throw new TypeError("Unknown integer type: "+a)}}var Fn=(a,f,m,v)=>{if(!(0<v))return 0;var A=m;v=m+v-1;for(var I=0;I<a.length;++I){var z=a.charCodeAt(I);if(55296<=z&&57343>=z){var R=a.charCodeAt(++I);z=65536+((z&1023)<<10)|R&1023}if(127>=z){if(m>=v)break;f[m++]=z}else{if(2047>=z){if(m+1>=v)break;f[m++]=192|z>>6}else{if(65535>=z){if(m+2>=v)break;f[m++]=224|z>>12}else{if(m+3>=v)break;f[m++]=240|z>>18,f[m++]=128|z>>12&63}f[m++]=128|z>>6&63}f[m++]=128|z&63}}return f[m]=0,m-A},sr=a=>{for(var f=0,m=0;m<a.length;++m){var v=a.charCodeAt(m);127>=v?f++:2047>=v?f+=2:55296<=v&&57343>=v?(f+=4,++m):f+=3}return f},Ws=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Yc=(a,f)=>{for(var m=a>>1,v=m+f/2;!(m>=v)&&Te[m];)++m;if(m<<=1,32<m-a&&Ws)return Ws.decode(oe.subarray(a,m));for(m="",v=0;!(v>=f/2);++v){var A=ye[a+2*v>>1];if(A==0)break;m+=String.fromCharCode(A)}return m},Hs=(a,f,m)=>{if(m===void 0&&(m=2147483647),2>m)return 0;m-=2;var v=f;m=m<2*a.length?m/2:a.length;for(var A=0;A<m;++A)ye[f>>1]=a.charCodeAt(A),f+=2;return ye[f>>1]=0,f-v},zs=a=>2*a.length,js=(a,f)=>{for(var m=0,v="";!(m>=f/4);){var A=O[a+4*m>>2];if(A==0)break;++m,65536<=A?(A-=65536,v+=String.fromCharCode(55296|A>>10,56320|A&1023)):v+=String.fromCharCode(A)}return v},Kc=(a,f,m)=>{if(m===void 0&&(m=2147483647),4>m)return 0;var v=f;m=v+m-4;for(var A=0;A<a.length;++A){var I=a.charCodeAt(A);if(55296<=I&&57343>=I){var z=a.charCodeAt(++A);I=65536+((I&1023)<<10)|z&1023}if(O[f>>2]=I,f+=4,f+4>m)break}return O[f>>2]=0,f-v},Qc=a=>{for(var f=0,m=0;m<a.length;++m){var v=a.charCodeAt(m);55296<=v&&57343>=v&&++m,f+=4}return f},qc={};function ea(a){var f=qc[a];return f===void 0?xt(a):f}var Eo=[];function Oa(){function a(f){f.$$$embind_global$$$=f;var m=typeof $$$embind_global$$$=="object"&&f.$$$embind_global$$$==f;return m||delete f.$$$embind_global$$$,m}if(typeof globalThis=="object")return globalThis;if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&a(global)?$$$embind_global$$$=global:typeof self=="object"&&a(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function Vs(a){var f=Eo.length;return Eo.push(a),f}function Na(a,f){for(var m=Array(a),v=0;v<a;++v)m[v]=_i(K[f+4*v>>2],"parameter "+v);return m}var Xs=[];function Ys(a){var f=Array(a+1);return function(m,v,A){f[0]=m;for(var I=0;I<a;++I){var z=_i(K[v+4*I>>2],"parameter "+I);f[I+1]=z.readValueFromPointer(A),A+=z.argPackAdvance}return m=new(m.bind.apply(m,f)),Hn(m)}}var Ao={};function Ks(a){var f=a.getExtension("ANGLE_instanced_arrays");f&&(a.vertexAttribDivisor=function(m,v){f.vertexAttribDivisorANGLE(m,v)},a.drawArraysInstanced=function(m,v,A,I){f.drawArraysInstancedANGLE(m,v,A,I)},a.drawElementsInstanced=function(m,v,A,I,z){f.drawElementsInstancedANGLE(m,v,A,I,z)})}function Jc(a){var f=a.getExtension("OES_vertex_array_object");f&&(a.createVertexArray=function(){return f.createVertexArrayOES()},a.deleteVertexArray=function(m){f.deleteVertexArrayOES(m)},a.bindVertexArray=function(m){f.bindVertexArrayOES(m)},a.isVertexArray=function(m){return f.isVertexArrayOES(m)})}function Qs(a){var f=a.getExtension("WEBGL_draw_buffers");f&&(a.drawBuffers=function(m,v){f.drawBuffersWEBGL(m,v)})}var $a=1,no=[],wr=[],_o=[],Ci=[],zn=[],Cn=[],Co=[],br=[],Ti=[],si=[],Ba={},Da={},Ga=4;function $t(a){ta||(ta=a)}function ro(a){for(var f=$a++,m=a.length;m<f;m++)a[m]=null;return f}function Zc(a,f){a.He||(a.He=a.getContext,a.getContext=function(v,A){return A=a.He(v,A),v=="webgl"==A instanceof WebGLRenderingContext?A:null});var m=1<f.majorVersion?a.getContext("webgl2",f):a.getContext("webgl",f);return m?qs(m,f):0}function qs(a,f){var m=ro(br),v={handle:m,attributes:f,version:f.majorVersion,ge:a};return a.canvas&&(a.canvas.Af=v),br[m]=v,(typeof f.Of>"u"||f.Of)&&el(v),m}function Js(a){return ut=br[a],n.vg=J=ut&&ut.ge,!(a&&!J)}function el(a){if(a||(a=ut),!a.Yf){a.Yf=!0;var f=a.ge;Ks(f),Jc(f),Qs(f),f.qf=f.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),f.vf=f.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"),2<=a.version&&(f.rf=f.getExtension("EXT_disjoint_timer_query_webgl2")),(2>a.version||!f.rf)&&(f.rf=f.getExtension("EXT_disjoint_timer_query")),f.wg=f.getExtension("WEBGL_multi_draw"),(f.getSupportedExtensions()||[]).forEach(function(m){m.includes("lose_context")||m.includes("debug")||f.getExtension(m)})}}var ut,ta,To={},Zs=()=>{if(!Ua){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"},f;for(f in To)To[f]===void 0?delete a[f]:a[f]=To[f];var m=[];for(f in a)m.push(`${f}=${a[f]}`);Ua=m}return Ua},Ua,tl=[null,[],[]];function eu(a){J.bindVertexArray(Co[a])}function tu(a,f){for(var m=0;m<a;m++){var v=O[f+4*m>>2];J.deleteVertexArray(Co[v]),Co[v]=null}}var Lt=[];function Rt(a,f,m,v){J.drawElements(a,f,m,v)}function io(a,f,m,v){for(var A=0;A<a;A++){var I=J[m](),z=I&&ro(v);I?(I.name=z,v[z]=I):$t(1282),O[f+4*A>>2]=z}}function nu(a,f){io(a,f,"createVertexArray",Co)}function ru(a,f,m){if(f){var v=void 0;switch(a){case 36346:v=1;break;case 36344:m!=0&&m!=1&&$t(1280);return;case 34814:case 36345:v=0;break;case 34466:var A=J.getParameter(34467);v=A?A.length:0;break;case 33309:if(2>ut.version){$t(1282);return}v=2*(J.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>ut.version){$t(1280);return}v=a==33307?3:0}if(v===void 0)switch(A=J.getParameter(a),typeof A){case"number":v=A;break;case"boolean":v=A?1:0;break;case"string":$t(1280);return;case"object":if(A===null)switch(a){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:v=0;break;default:$t(1280);return}else{if(A instanceof Float32Array||A instanceof Uint32Array||A instanceof Int32Array||A instanceof Array){for(a=0;a<A.length;++a)switch(m){case 0:O[f+4*a>>2]=A[a];break;case 2:V[f+4*a>>2]=A[a];break;case 4:fe[f+a>>0]=A[a]?1:0}return}try{v=A.name|0}catch(I){$t(1280),B("GL_INVALID_ENUM in glGet"+m+"v: Unknown object returned from WebGL getParameter("+a+")! (error: "+I+")");return}}break;default:$t(1280),B("GL_INVALID_ENUM in glGet"+m+"v: Native code calling glGet"+m+"v("+a+") and it returns "+A+" of type "+typeof A+"!");return}switch(m){case 1:m=v,K[f>>2]=m,K[f+4>>2]=(m-K[f>>2])/4294967296;break;case 0:O[f>>2]=v;break;case 2:V[f>>2]=v;break;case 4:fe[f>>0]=v?1:0}}else $t(1281)}var Po=a=>{var f=sr(a)+1,m=On(f);return m&&Fn(a,oe,m,f),m};function iu(a){return a.slice(-1)=="]"&&a.lastIndexOf("[")}function na(a){return a-=5120,a==0?fe:a==1?oe:a==2?ye:a==4?O:a==6?V:a==5||a==28922||a==28520||a==30779||a==30782?K:Te}function ra(a,f,m,v,A){a=na(a);var I=31-Math.clz32(a.BYTES_PER_ELEMENT),z=Ga;return a.subarray(A>>I,A+v*(m*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[f-6402]||1)*(1<<I)+z-1&-z)>>I)}function At(a){var f=J.Lf;if(f){var m=f.Oe[a];return typeof m=="number"&&(f.Oe[a]=m=J.getUniformLocation(f,f.yf[a]+(0<m?"["+m+"]":""))),m}$t(1282)}var Ht=[],Pi=[],Cr=a=>a%4===0&&(a%100!==0||a%400===0),Wa=[31,29,31,30,31,30,31,31,30,31,30,31],ia=[31,28,31,30,31,30,31,31,30,31,30,31];function ur(a){var f=Array(sr(a)+1);return Fn(a,f,0,f.length),f}var ou=(a,f,m,v)=>{function A(ae,He,tt){for(ae=typeof ae=="number"?ae.toString():ae||"";ae.length<He;)ae=tt[0]+ae;return ae}function I(ae,He){return A(ae,He,"0")}function z(ae,He){function tt(Vn){return 0>Vn?-1:0<Vn?1:0}var rt;return(rt=tt(ae.getFullYear()-He.getFullYear()))===0&&(rt=tt(ae.getMonth()-He.getMonth()))===0&&(rt=tt(ae.getDate()-He.getDate())),rt}function R(ae){switch(ae.getDay()){case 0:return new Date(ae.getFullYear()-1,11,29);case 1:return ae;case 2:return new Date(ae.getFullYear(),0,3);case 3:return new Date(ae.getFullYear(),0,2);case 4:return new Date(ae.getFullYear(),0,1);case 5:return new Date(ae.getFullYear()-1,11,31);case 6:return new Date(ae.getFullYear()-1,11,30)}}function N(ae){var He=ae.pe;for(ae=new Date(new Date(ae.qe+1900,0,1).getTime());0<He;){var tt=ae.getMonth(),rt=(Cr(ae.getFullYear())?Wa:ia)[tt];if(He>rt-ae.getDate())He-=rt-ae.getDate()+1,ae.setDate(1),11>tt?ae.setMonth(tt+1):(ae.setMonth(0),ae.setFullYear(ae.getFullYear()+1));else{ae.setDate(ae.getDate()+He);break}}return tt=new Date(ae.getFullYear()+1,0,4),He=R(new Date(ae.getFullYear(),0,4)),tt=R(tt),0>=z(He,ae)?0>=z(tt,ae)?ae.getFullYear()+1:ae.getFullYear():ae.getFullYear()-1}var X=O[v+40>>2];v={qg:O[v>>2],pg:O[v+4>>2],$e:O[v+8>>2],kf:O[v+12>>2],af:O[v+16>>2],qe:O[v+20>>2],ie:O[v+24>>2],pe:O[v+28>>2],zg:O[v+32>>2],og:O[v+36>>2],rg:X&&X?Ut(oe,X):""},m=m?Ut(oe,m):"",X={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ve in X)m=m.replace(new RegExp(ve,"g"),X[ve]);var Ae="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ue="January February March April May June July August September October November December".split(" ");X={"%a":ae=>Ae[ae.ie].substring(0,3),"%A":ae=>Ae[ae.ie],"%b":ae=>Ue[ae.af].substring(0,3),"%B":ae=>Ue[ae.af],"%C":ae=>I((ae.qe+1900)/100|0,2),"%d":ae=>I(ae.kf,2),"%e":ae=>A(ae.kf,2," "),"%g":ae=>N(ae).toString().substring(2),"%G":ae=>N(ae),"%H":ae=>I(ae.$e,2),"%I":ae=>(ae=ae.$e,ae==0?ae=12:12<ae&&(ae-=12),I(ae,2)),"%j":ae=>{for(var He=0,tt=0;tt<=ae.af-1;He+=(Cr(ae.qe+1900)?Wa:ia)[tt++]);return I(ae.kf+He,3)},"%m":ae=>I(ae.af+1,2),"%M":ae=>I(ae.pg,2),"%n":()=>`
`,"%p":ae=>0<=ae.$e&&12>ae.$e?"AM":"PM","%S":ae=>I(ae.qg,2),"%t":()=>"	","%u":ae=>ae.ie||7,"%U":ae=>I(Math.floor((ae.pe+7-ae.ie)/7),2),"%V":ae=>{var He=Math.floor((ae.pe+7-(ae.ie+6)%7)/7);if(2>=(ae.ie+371-ae.pe-2)%7&&He++,He)He==53&&(tt=(ae.ie+371-ae.pe)%7,tt==4||tt==3&&Cr(ae.qe)||(He=1));else{He=52;var tt=(ae.ie+7-ae.pe-1)%7;(tt==4||tt==5&&Cr(ae.qe%400-1))&&He++}return I(He,2)},"%w":ae=>ae.ie,"%W":ae=>I(Math.floor((ae.pe+7-(ae.ie+6)%7)/7),2),"%y":ae=>(ae.qe+1900).toString().substring(2),"%Y":ae=>ae.qe+1900,"%z":ae=>{ae=ae.og;var He=0<=ae;return ae=Math.abs(ae)/60,(He?"+":"-")+("0000"+(ae/60*100+ae%60)).slice(-4)},"%Z":ae=>ae.rg,"%%":()=>"%"},m=m.replace(/%%/g,"\0\0");for(ve in X)m.includes(ve)&&(m=m.replace(new RegExp(ve,"g"),X[ve](v)));return m=m.replace(/\0\0/g,"%"),ve=ur(m),ve.length>f?0:(fe.set(ve,a),ve.length-1)};yr=n.InternalError=class extends Error{constructor(a){super(a),this.name="InternalError"}};for(var Ha=Array(256),Lo=0;256>Lo;++Lo)Ha[Lo]=String.fromCharCode(Lo);en=Ha,Dt=n.BindingError=class extends Error{constructor(a){super(a),this.name="BindingError"}},vr.prototype.isAliasOf=function(a){if(!(this instanceof vr&&a instanceof vr))return!1;var f=this.Kd.Wd.Qd,m=this.Kd.Sd,v=a.Kd.Wd.Qd;for(a=a.Kd.Sd;f.ae;)m=f.Pe(m),f=f.ae;for(;v.ae;)a=v.Pe(a),v=v.ae;return f===v&&m===a},vr.prototype.clone=function(){if(this.Kd.Sd||wi(this),this.Kd.Ne)return this.Kd.count.value+=1,this;var a=ni,f=Object,m=f.create,v=Object.getPrototypeOf(this),A=this.Kd;return a=a(m.call(f,v,{Kd:{value:{count:A.count,Fe:A.Fe,Ne:A.Ne,Sd:A.Sd,Wd:A.Wd,Zd:A.Zd,fe:A.fe}}})),a.Kd.count.value+=1,a.Kd.Fe=!1,a},vr.prototype.delete=function(){this.Kd.Sd||wi(this),this.Kd.Fe&&!this.Kd.Ne&&vt("Object already scheduled for deletion"),Yi(this),Ki(this.Kd),this.Kd.Ne||(this.Kd.Zd=void 0,this.Kd.Sd=void 0)},vr.prototype.isDeleted=function(){return!this.Kd.Sd},vr.prototype.deleteLater=function(){return this.Kd.Sd||wi(this),this.Kd.Fe&&!this.Kd.Ne&&vt("Object already scheduled for deletion"),Wr.push(this),Wr.length===1&&Hr&&Hr(xi),this.Kd.Fe=!0,this},n.getInheritedInstanceCount=function(){return Object.keys(Si).length},n.getLiveInheritedInstances=function(){var a=[],f;for(f in Si)Si.hasOwnProperty(f)&&a.push(Si[f]);return a},n.flushPendingDeletes=xi,n.setDelayFunction=function(a){Hr=a,Wr.length&&Hr&&Hr(xi)},ar.prototype.Tf=function(a){return this.wf&&(a=this.wf(a)),a},ar.prototype.pf=function(a){this.le&&this.le(a)},ar.prototype.argPackAdvance=8,ar.prototype.readValueFromPointer=En,ar.prototype.deleteObject=function(a){a!==null&&a.delete()},ar.prototype.fromWireType=function(a){function f(){return this.We?Ji(this.Qd.Ge,{Wd:this.cg,Sd:m,fe:this,Zd:a}):Ji(this.Qd.Ge,{Wd:this,Sd:a})}var m=this.Tf(a);if(!m)return this.pf(a),null;var v=ka(this.Qd,m);if(v!==void 0)return v.Kd.count.value===0?(v.Kd.Sd=m,v.Kd.Zd=a,v.clone()):(v=v.clone(),this.pf(a),v);if(v=this.Qd.Sf(m),v=qi[v],!v)return f.call(this);v=this.Ve?v.Jf:v.pointerType;var A=Qi(m,this.Qd,v.Qd);return A===null?f.call(this):this.We?Ji(v.Qd.Ge,{Wd:v,Sd:A,fe:this,Zd:a}):Ji(v.Qd.Ge,{Wd:v,Sd:A})},Kt=n.UnboundTypeError=function(a,f){var m=Zi(f,function(v){this.name=f,this.message=v,v=Error(v).stack,v!==void 0&&(this.stack=this.toString()+`
`+v.replace(/^Error(:[^\n]*)?\n/,""))});return m.prototype=Object.create(a.prototype),m.prototype.constructor=m,m.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},m}(Error,"UnboundTypeError"),Object.assign(Jo.prototype,{get(a){return this.ke[a]},has(a){return this.ke[a]!==void 0},Bf(a){var f=this.tf.pop()||this.ke.length;return this.ke[f]=a,f},Cf(a){this.ke[a]=void 0,this.tf.push(a)}}),_n.ke.push({value:void 0},{value:null},{value:!0},{value:!1}),_n.He=_n.ke.length,n.count_emval_handles=function(){for(var a=0,f=_n.He;f<_n.ke.length;++f)_n.ke[f]!==void 0&&++a;return a};for(var J,jn=0;32>jn;++jn)Lt.push(Array(jn));var au=new Float32Array(288);for(jn=0;288>jn;++jn)Ht[jn]=au.subarray(0,jn+1);var qn=new Int32Array(288);for(jn=0;288>jn;++jn)Pi[jn]=qn.subarray(0,jn+1);var nl={U:function(){return 0},Bb:()=>{},Db:function(){return 0},yb:()=>{},zb:()=>{},V:function(){},Ab:()=>{},E:function(a){var f=wn[a];delete wn[a];var m=f.jf,v=f.le,A=f.sf,I=A.map(z=>z.Wf).concat(A.map(z=>z.gg));at([a],I,z=>{var R={};return A.forEach((N,X)=>{var ve=z[X],Ae=N.Uf,Ue=N.Vf,ae=z[X+A.length],He=N.fg,tt=N.hg;R[N.Pf]={read:rt=>ve.fromWireType(Ae(Ue,rt)),write:(rt,Vn)=>{var un=[];He(tt,rt,ae.toWireType(un,Vn)),Wt(un)}}}),[{name:f.name,fromWireType:function(N){var X={},ve;for(ve in R)X[ve]=R[ve].read(N);return v(N),X},toWireType:function(N,X){for(var ve in R)if(!(ve in X))throw new TypeError(`Missing field: "${ve}"`);var Ae=m();for(ve in R)R[ve].write(Ae,X[ve]);return N!==null&&N.push(v,Ae),Ae},argPackAdvance:8,readValueFromPointer:En,ee:v}]})},qb:function(){},Hb:function(a,f,m,v,A){var I=Ct(m);f=xt(f),bn(a,{name:f,fromWireType:function(z){return!!z},toWireType:function(z,R){return R?v:A},argPackAdvance:8,readValueFromPointer:function(z){if(m===1)var R=fe;else if(m===2)R=ye;else if(m===4)R=O;else throw new TypeError("Unknown boolean type size: "+f);return this.fromWireType(R[z>>I])},ee:null})},p:function(a,f,m,v,A,I,z,R,N,X,ve,Ae,Ue){ve=xt(ve),I=mn(A,I),R&&(R=mn(z,R)),X&&(X=mn(N,X)),Ue=mn(Ae,Ue);var ae=Qo(ve);ii(ae,function(){An(`Cannot construct ${ve} due to unbound types`,[v])}),at([a,f,m],v?[v]:[],function(He){if(He=He[0],v)var tt=He.Qd,rt=tt.Ge;else rt=vr.prototype;He=Zi(ae,function(){if(Object.getPrototypeOf(this)!==Vn)throw new Dt("Use 'new' to construct "+ve);if(un.oe===void 0)throw new Dt(ve+" has no accessible constructor");var cr=un.oe[arguments.length];if(cr===void 0)throw new Dt(`Tried to invoke ctor of ${ve} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(un.oe).toString()}) parameters instead!`);return cr.apply(this,arguments)});var Vn=Object.create(rt,{constructor:{value:He}});He.prototype=Vn;var un=new eo(ve,He,Vn,Ue,tt,I,R,X);un.ae&&(un.ae.Qe===void 0&&(un.ae.Qe=[]),un.ae.Qe.push(un)),tt=new ar(ve,un,!0,!1,!1),rt=new ar(ve+"*",un,!1,!1,!1);var so=new ar(ve+" const*",un,!1,!0,!1);return qi[a]={pointerType:rt,Jf:so},Yt(ae,He),[tt,rt,so]})},i:function(a,f,m,v,A,I,z){var R=zr(m,v);f=xt(f),I=mn(A,I),at([],[a],function(N){function X(){An(`Cannot call ${ve} due to unbound types`,R)}N=N[0];var ve=`${N.name}.${f}`;f.startsWith("@@")&&(f=Symbol[f.substring(2)]);var Ae=N.Qd.constructor;return Ae[f]===void 0?(X.De=m-1,Ae[f]=X):(ri(Ae,f,ve),Ae[f].Yd[m-1]=X),at([],R,function(Ue){if(Ue=[Ue[0],null].concat(Ue.slice(1)),Ue=kn(ve,Ue,null,I,z),Ae[f].Yd===void 0?(Ue.De=m-1,Ae[f]=Ue):Ae[f].Yd[m-1]=Ue,N.Qd.Qe)for(const ae of N.Qd.Qe)ae.constructor.hasOwnProperty(f)||(ae.constructor[f]=Ue);return[]}),[]})},G:function(a,f,m,v,A,I){var z=zr(f,m);A=mn(v,A),at([],[a],function(R){R=R[0];var N=`constructor ${R.name}`;if(R.Qd.oe===void 0&&(R.Qd.oe=[]),R.Qd.oe[f-1]!==void 0)throw new Dt(`Cannot register multiple constructors with identical number of parameters (${f-1}) for class '${R.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return R.Qd.oe[f-1]=()=>{An(`Cannot construct ${R.name} due to unbound types`,z)},at([],z,function(X){return X.splice(1,0,null),R.Qd.oe[f-1]=kn(N,X,null,A,I),[]}),[]})},b:function(a,f,m,v,A,I,z,R){var N=zr(m,v);f=xt(f),I=mn(A,I),at([],[a],function(X){function ve(){An(`Cannot call ${Ae} due to unbound types`,N)}X=X[0];var Ae=`${X.name}.${f}`;f.startsWith("@@")&&(f=Symbol[f.substring(2)]),R&&X.Qd.dg.push(f);var Ue=X.Qd.Ge,ae=Ue[f];return ae===void 0||ae.Yd===void 0&&ae.className!==X.name&&ae.De===m-2?(ve.De=m-2,ve.className=X.name,Ue[f]=ve):(ri(Ue,f,Ae),Ue[f].Yd[m-2]=ve),at([],N,function(He){return He=kn(Ae,He,X,I,z),Ue[f].Yd===void 0?(He.De=m-2,Ue[f]=He):Ue[f].Yd[m-2]=He,[]}),[]})},v:function(a,f,m){a=xt(a),at([],[f],function(v){return v=v[0],n[a]=v.fromWireType(m),[]})},Gb:function(a,f){f=xt(f),bn(a,{name:f,fromWireType:function(m){var v=Rn(m);return Ai(m),v},toWireType:function(m,v){return Hn(v)},argPackAdvance:8,readValueFromPointer:En,ee:null})},l:function(a,f,m,v){function A(){}m=Ct(m),f=xt(f),A.values={},bn(a,{name:f,constructor:A,fromWireType:function(I){return this.constructor.values[I]},toWireType:function(I,z){return z.value},argPackAdvance:8,readValueFromPointer:Ra(f,m,v),ee:null}),ii(f,A)},d:function(a,f,m){var v=_i(a,"enum");f=xt(f),a=v.constructor,v=Object.create(v.constructor.prototype,{value:{value:m},constructor:{value:Zi(`${v.name}_${f}`,function(){})}}),a.values[m]=v,a[f]=v},X:function(a,f,m){m=Ct(m),f=xt(f),bn(a,{name:f,fromWireType:function(v){return v},toWireType:function(v,A){return A},argPackAdvance:8,readValueFromPointer:Zo(f,m),ee:null})},z:function(a,f,m,v,A,I){var z=zr(f,m);a=xt(a),A=mn(v,A),ii(a,function(){An(`Cannot call ${a} due to unbound types`,z)},f-1),at([],z,function(R){return R=[R[0],null].concat(R.slice(1)),Yt(a,kn(a,R,null,A,I),f-1),[]})},I:function(a,f,m,v,A){f=xt(f),A===-1&&(A=4294967295),A=Ct(m);var I=R=>R;if(v===0){var z=32-8*m;I=R=>R<<z>>>z}m=f.includes("unsigned")?function(R,N){return N>>>0}:function(R,N){return N},bn(a,{name:f,fromWireType:I,toWireType:m,argPackAdvance:8,readValueFromPointer:Xc(f,A,v!==0),ee:null})},w:function(a,f,m){function v(I){I>>=2;var z=K;return new A(z.buffer,z[I+1],z[I])}var A=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][f];m=xt(m),bn(a,{name:m,fromWireType:v,argPackAdvance:8,readValueFromPointer:v},{Xf:!0})},s:function(a,f,m,v,A,I,z,R,N,X,ve,Ae){m=xt(m),I=mn(A,I),R=mn(z,R),X=mn(N,X),Ae=mn(ve,Ae),at([a],[f],function(Ue){return Ue=Ue[0],[new ar(m,Ue.Qd,!1,!1,!0,Ue,v,I,R,X,Ae)]})},W:function(a,f){f=xt(f);var m=f==="std::string";bn(a,{name:f,fromWireType:function(v){var A=K[v>>2],I=v+4;if(m)for(var z=I,R=0;R<=A;++R){var N=I+R;if(R==A||oe[N]==0){if(z=z?Ut(oe,z,N-z):"",X===void 0)var X=z;else X+="\0",X+=z;z=N+1}}else{for(X=Array(A),R=0;R<A;++R)X[R]=String.fromCharCode(oe[I+R]);X=X.join("")}return jr(v),X},toWireType:function(v,A){A instanceof ArrayBuffer&&(A=new Uint8Array(A));var I=typeof A=="string";I||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int8Array||vt("Cannot pass non-string to std::string");var z=m&&I?sr(A):A.length,R=On(4+z+1),N=R+4;if(K[R>>2]=z,m&&I)Fn(A,oe,N,z+1);else if(I)for(I=0;I<z;++I){var X=A.charCodeAt(I);255<X&&(jr(N),vt("String has UTF-16 code units that do not fit in 8 bits")),oe[N+I]=X}else for(I=0;I<z;++I)oe[N+I]=A[I];return v!==null&&v.push(jr,R),R},argPackAdvance:8,readValueFromPointer:En,ee:function(v){jr(v)}})},O:function(a,f,m){if(m=xt(m),f===2)var v=Yc,A=Hs,I=zs,z=()=>Te,R=1;else f===4&&(v=js,A=Kc,I=Qc,z=()=>K,R=2);bn(a,{name:m,fromWireType:function(N){for(var X=K[N>>2],ve=z(),Ae,Ue=N+4,ae=0;ae<=X;++ae){var He=N+4+ae*f;(ae==X||ve[He>>R]==0)&&(Ue=v(Ue,He-Ue),Ae===void 0?Ae=Ue:(Ae+="\0",Ae+=Ue),Ue=He+f)}return jr(N),Ae},toWireType:function(N,X){typeof X!="string"&&vt(`Cannot pass non-string to C++ string type ${m}`);var ve=I(X),Ae=On(4+ve+f);return K[Ae>>2]=ve>>R,A(X,Ae+4,ve+f),N!==null&&N.push(jr,Ae),Ae},argPackAdvance:8,readValueFromPointer:En,ee:function(N){jr(N)}})},F:function(a,f,m,v,A,I){wn[a]={name:xt(f),jf:mn(m,v),le:mn(A,I),sf:[]}},f:function(a,f,m,v,A,I,z,R,N,X){wn[a].sf.push({Pf:xt(f),Wf:m,Uf:mn(v,A),Vf:I,gg:z,fg:mn(R,N),hg:X})},Ib:function(a,f){f=xt(f),bn(a,{Zf:!0,name:f,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},Fb:()=>!0,ub:()=>{throw 1/0},C:function(a,f,m){a=Rn(a),f=_i(f,"emval::as");var v=[],A=Hn(v);return K[m>>2]=A,f.toWireType(v,a)},K:function(a,f,m,v,A){a=Eo[a],f=Rn(f),m=ea(m);var I=[];return K[v>>2]=Hn(I),a(f,m,I,A)},r:function(a,f,m,v){a=Eo[a],f=Rn(f),m=ea(m),a(f,m,null,v)},c:Ai,J:function(a){return a===0?Hn(Oa()):(a=ea(a),Hn(Oa()[a]))},q:function(a,f){var m=Na(a,f),v=m[0];f=v.name+"_$"+m.slice(1).map(function(z){return z.name}).join("_")+"$";var A=Xs[f];if(A!==void 0)return A;var I=Array(a-1);return A=Vs((z,R,N,X)=>{for(var ve=0,Ae=0;Ae<a-1;++Ae)I[Ae]=m[Ae+1].readValueFromPointer(X+ve),ve+=m[Ae+1].argPackAdvance;for(z=z[R].apply(z,I),Ae=0;Ae<a-1;++Ae)m[Ae+1].Mf&&m[Ae+1].Mf(I[Ae]);if(!v.Zf)return v.toWireType(N,z)}),Xs[f]=A},B:function(a,f){return a=Rn(a),f=Rn(f),Hn(a[f])},n:function(a){4<a&&(_n.get(a).xf+=1)},L:function(a,f,m,v){a=Rn(a);var A=Ao[f];return A||(A=Ys(f),Ao[f]=A),A(a,m,v)},D:function(){return Hn([])},e:function(a){return Hn(ea(a))},x:function(){return Hn({})},kb:function(a){return a=Rn(a),!a},A:function(a){var f=Rn(a);Wt(f),Ai(a)},g:function(a,f,m){a=Rn(a),f=Rn(f),m=Rn(m),a[f]=m},h:function(a,f){return a=_i(a,"_emval_take_value"),a=a.readValueFromPointer(f),Hn(a)},nb:function(){return-52},ob:function(){},a:()=>{Pe("")},Eb:()=>performance.now(),vb:a=>{var f=oe.length;if(a>>>=0,2147483648<a)return!1;for(var m=1;4>=m;m*=2){var v=f*(1+.2/m);v=Math.min(v,a+100663296);var A=Math;v=Math.max(a,v);e:{A=A.min.call(A,2147483648,v+(65536-v%65536)%65536)-Q.buffer.byteLength+65535>>>16;try{Q.grow(A),ce();var I=1;break e}catch{}I=void 0}if(I)return!0}return!1},lb:function(){return ut?ut.handle:0},wb:(a,f)=>{var m=0;return Zs().forEach(function(v,A){var I=f+m;for(A=K[a+4*A>>2]=I,I=0;I<v.length;++I)fe[A++>>0]=v.charCodeAt(I);fe[A>>0]=0,m+=v.length+1}),0},xb:(a,f)=>{var m=Zs();K[a>>2]=m.length;var v=0;return m.forEach(function(A){v+=A.length+1}),K[f>>2]=v,0},Jb:a=>{l(a,new an(a))},N:()=>52,mb:function(){return 52},Cb:()=>52,pb:function(){return 70},T:(a,f,m,v)=>{for(var A=0,I=0;I<m;I++){var z=K[f>>2],R=K[f+4>>2];f+=8;for(var N=0;N<R;N++){var X=oe[z+N],ve=tl[a];X===0||X===10?((a===1?F:B)(Ut(ve,0)),ve.length=0):ve.push(X)}A+=R}return K[v>>2]=A,0},aa:function(a){J.activeTexture(a)},ba:function(a,f){J.attachShader(wr[a],Cn[f])},ca:function(a,f,m){J.bindAttribLocation(wr[a],f,m?Ut(oe,m):"")},da:function(a,f){a==35051?J.ff=f:a==35052&&(J.Ee=f),J.bindBuffer(a,no[f])},$:function(a,f){J.bindFramebuffer(a,_o[f])},fc:function(a,f){J.bindRenderbuffer(a,Ci[f])},Rb:function(a,f){J.bindSampler(a,Ti[f])},ea:function(a,f){J.bindTexture(a,zn[f])},zc:eu,Cc:eu,fa:function(a,f,m,v){J.blendColor(a,f,m,v)},ga:function(a){J.blendEquation(a)},ha:function(a,f){J.blendFunc(a,f)},$b:function(a,f,m,v,A,I,z,R,N,X){J.blitFramebuffer(a,f,m,v,A,I,z,R,N,X)},ia:function(a,f,m,v){2<=ut.version?m&&f?J.bufferData(a,oe,v,m,f):J.bufferData(a,f,v):J.bufferData(a,m?oe.subarray(m,m+f):f,v)},ja:function(a,f,m,v){2<=ut.version?m&&J.bufferSubData(a,f,oe,v,m):J.bufferSubData(a,f,oe.subarray(v,v+m))},gc:function(a){return J.checkFramebufferStatus(a)},R:function(a){J.clear(a)},_:function(a,f,m,v){J.clearColor(a,f,m,v)},S:function(a){J.clearStencil(a)},sb:function(a,f,m,v){return J.clientWaitSync(si[a],f,(m>>>0)+4294967296*v)},ka:function(a,f,m,v){J.colorMask(!!a,!!f,!!m,!!v)},la:function(a){J.compileShader(Cn[a])},ma:function(a,f,m,v,A,I,z,R){2<=ut.version?J.Ee||!z?J.compressedTexImage2D(a,f,m,v,A,I,z,R):J.compressedTexImage2D(a,f,m,v,A,I,oe,R,z):J.compressedTexImage2D(a,f,m,v,A,I,R?oe.subarray(R,R+z):null)},na:function(a,f,m,v,A,I,z,R,N){2<=ut.version?J.Ee||!R?J.compressedTexSubImage2D(a,f,m,v,A,I,z,R,N):J.compressedTexSubImage2D(a,f,m,v,A,I,z,oe,N,R):J.compressedTexSubImage2D(a,f,m,v,A,I,z,N?oe.subarray(N,N+R):null)},Zb:function(a,f,m,v,A){J.copyBufferSubData(a,f,m,v,A)},oa:function(a,f,m,v,A,I,z,R){J.copyTexSubImage2D(a,f,m,v,A,I,z,R)},pa:function(){var a=ro(wr),f=J.createProgram();return f.name=a,f.Ze=f.Xe=f.Ye=0,f.lf=1,wr[a]=f,a},qa:function(a){var f=ro(Cn);return Cn[f]=J.createShader(a),f},ra:function(a){J.cullFace(a)},sa:function(a,f){for(var m=0;m<a;m++){var v=O[f+4*m>>2],A=no[v];A&&(J.deleteBuffer(A),A.name=0,no[v]=null,v==J.ff&&(J.ff=0),v==J.Ee&&(J.Ee=0))}},hc:function(a,f){for(var m=0;m<a;++m){var v=O[f+4*m>>2],A=_o[v];A&&(J.deleteFramebuffer(A),A.name=0,_o[v]=null)}},ta:function(a){if(a){var f=wr[a];f?(J.deleteProgram(f),f.name=0,wr[a]=null):$t(1281)}},ic:function(a,f){for(var m=0;m<a;m++){var v=O[f+4*m>>2],A=Ci[v];A&&(J.deleteRenderbuffer(A),A.name=0,Ci[v]=null)}},Sb:function(a,f){for(var m=0;m<a;m++){var v=O[f+4*m>>2],A=Ti[v];A&&(J.deleteSampler(A),A.name=0,Ti[v]=null)}},ua:function(a){if(a){var f=Cn[a];f?(J.deleteShader(f),Cn[a]=null):$t(1281)}},_b:function(a){if(a){var f=si[a];f?(J.deleteSync(f),f.name=0,si[a]=null):$t(1281)}},va:function(a,f){for(var m=0;m<a;m++){var v=O[f+4*m>>2],A=zn[v];A&&(J.deleteTexture(A),A.name=0,zn[v]=null)}},Ac:tu,Dc:tu,wa:function(a){J.depthMask(!!a)},xa:function(a){J.disable(a)},ya:function(a){J.disableVertexAttribArray(a)},za:function(a,f,m){J.drawArrays(a,f,m)},xc:function(a,f,m,v){J.drawArraysInstanced(a,f,m,v)},vc:function(a,f,m,v,A){J.qf.drawArraysInstancedBaseInstanceWEBGL(a,f,m,v,A)},tc:function(a,f){for(var m=Lt[a],v=0;v<a;v++)m[v]=O[f+4*v>>2];J.drawBuffers(m)},Aa:Rt,yc:function(a,f,m,v,A){J.drawElementsInstanced(a,f,m,v,A)},wc:function(a,f,m,v,A,I,z){J.qf.drawElementsInstancedBaseVertexBaseInstanceWEBGL(a,f,m,v,A,I,z)},nc:function(a,f,m,v,A,I){Rt(a,v,A,I)},Ba:function(a){J.enable(a)},Ca:function(a){J.enableVertexAttribArray(a)},Xb:function(a,f){return(a=J.fenceSync(a,f))?(f=ro(si),a.name=f,si[f]=a,f):0},Da:function(){J.finish()},Ea:function(){J.flush()},jc:function(a,f,m,v){J.framebufferRenderbuffer(a,f,m,Ci[v])},kc:function(a,f,m,v,A){J.framebufferTexture2D(a,f,m,zn[v],A)},Fa:function(a){J.frontFace(a)},Ga:function(a,f){io(a,f,"createBuffer",no)},lc:function(a,f){io(a,f,"createFramebuffer",_o)},mc:function(a,f){io(a,f,"createRenderbuffer",Ci)},Tb:function(a,f){io(a,f,"createSampler",Ti)},Ha:function(a,f){io(a,f,"createTexture",zn)},Bc:nu,Ec:nu,bc:function(a){J.generateMipmap(a)},Ia:function(a,f,m){m?O[m>>2]=J.getBufferParameter(a,f):$t(1281)},Ja:function(){var a=J.getError()||ta;return ta=0,a},Ka:function(a,f){ru(a,f,2)},cc:function(a,f,m,v){a=J.getFramebufferAttachmentParameter(a,f,m),(a instanceof WebGLRenderbuffer||a instanceof WebGLTexture)&&(a=a.name|0),O[v>>2]=a},M:function(a,f){ru(a,f,0)},La:function(a,f,m,v){a=J.getProgramInfoLog(wr[a]),a===null&&(a="(unknown error)"),f=0<f&&v?Fn(a,oe,v,f):0,m&&(O[m>>2]=f)},Ma:function(a,f,m){if(m)if(a>=$a)$t(1281);else if(a=wr[a],f==35716)a=J.getProgramInfoLog(a),a===null&&(a="(unknown error)"),O[m>>2]=a.length+1;else if(f==35719){if(!a.Ze)for(f=0;f<J.getProgramParameter(a,35718);++f)a.Ze=Math.max(a.Ze,J.getActiveUniform(a,f).name.length+1);O[m>>2]=a.Ze}else if(f==35722){if(!a.Xe)for(f=0;f<J.getProgramParameter(a,35721);++f)a.Xe=Math.max(a.Xe,J.getActiveAttrib(a,f).name.length+1);O[m>>2]=a.Xe}else if(f==35381){if(!a.Ye)for(f=0;f<J.getProgramParameter(a,35382);++f)a.Ye=Math.max(a.Ye,J.getActiveUniformBlockName(a,f).length+1);O[m>>2]=a.Ye}else O[m>>2]=J.getProgramParameter(a,f);else $t(1281)},dc:function(a,f,m){m?O[m>>2]=J.getRenderbufferParameter(a,f):$t(1281)},Na:function(a,f,m,v){a=J.getShaderInfoLog(Cn[a]),a===null&&(a="(unknown error)"),f=0<f&&v?Fn(a,oe,v,f):0,m&&(O[m>>2]=f)},Ob:function(a,f,m,v){a=J.getShaderPrecisionFormat(a,f),O[m>>2]=a.rangeMin,O[m+4>>2]=a.rangeMax,O[v>>2]=a.precision},Oa:function(a,f,m){m?f==35716?(a=J.getShaderInfoLog(Cn[a]),a===null&&(a="(unknown error)"),O[m>>2]=a?a.length+1:0):f==35720?(a=J.getShaderSource(Cn[a]),O[m>>2]=a?a.length+1:0):O[m>>2]=J.getShaderParameter(Cn[a],f):$t(1281)},Q:function(a){var f=Ba[a];if(!f){switch(a){case 7939:f=J.getSupportedExtensions()||[],f=f.concat(f.map(function(v){return"GL_"+v})),f=Po(f.join(" "));break;case 7936:case 7937:case 37445:case 37446:(f=J.getParameter(a))||$t(1280),f=f&&Po(f);break;case 7938:f=J.getParameter(7938),f=2<=ut.version?"OpenGL ES 3.0 ("+f+")":"OpenGL ES 2.0 ("+f+")",f=Po(f);break;case 35724:f=J.getParameter(35724);var m=f.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);m!==null&&(m[1].length==3&&(m[1]+="0"),f="OpenGL ES GLSL ES "+m[1]+" ("+f+")"),f=Po(f);break;default:$t(1280)}Ba[a]=f}return f},jb:function(a,f){if(2>ut.version)return $t(1282),0;var m=Da[a];if(m)return 0>f||f>=m.length?($t(1281),0):m[f];switch(a){case 7939:return m=J.getSupportedExtensions()||[],m=m.concat(m.map(function(v){return"GL_"+v})),m=m.map(function(v){return Po(v)}),m=Da[a]=m,0>f||f>=m.length?($t(1281),0):m[f];default:return $t(1280),0}},Pa:function(a,f){if(f=f?Ut(oe,f):"",a=wr[a]){var m=a,v=m.Oe,A=m.zf,I;if(!v)for(m.Oe=v={},m.yf={},I=0;I<J.getProgramParameter(m,35718);++I){var z=J.getActiveUniform(m,I),R=z.name;z=z.size;var N=iu(R);N=0<N?R.slice(0,N):R;var X=m.lf;for(m.lf+=z,A[N]=[z,X],R=0;R<z;++R)v[X]=R,m.yf[X++]=N}if(m=a.Oe,v=0,A=f,I=iu(f),0<I&&(v=parseInt(f.slice(I+1))>>>0,A=f.slice(0,I)),(A=a.zf[A])&&v<A[0]&&(v+=A[1],m[v]=m[v]||J.getUniformLocation(a,f)))return v}else $t(1281);return-1},Pb:function(a,f,m){for(var v=Lt[f],A=0;A<f;A++)v[A]=O[m+4*A>>2];J.invalidateFramebuffer(a,v)},Qb:function(a,f,m,v,A,I,z){for(var R=Lt[f],N=0;N<f;N++)R[N]=O[m+4*N>>2];J.invalidateSubFramebuffer(a,R,v,A,I,z)},Yb:function(a){return J.isSync(si[a])},Qa:function(a){return(a=zn[a])?J.isTexture(a):0},Ra:function(a){J.lineWidth(a)},Sa:function(a){a=wr[a],J.linkProgram(a),a.Oe=0,a.zf={}},rc:function(a,f,m,v,A,I){J.vf.multiDrawArraysInstancedBaseInstanceWEBGL(a,O,f>>2,O,m>>2,O,v>>2,K,A>>2,I)},sc:function(a,f,m,v,A,I,z,R){J.vf.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(a,O,f>>2,m,O,v>>2,O,A>>2,O,I>>2,K,z>>2,R)},Ta:function(a,f){a==3317&&(Ga=f),J.pixelStorei(a,f)},uc:function(a){J.readBuffer(a)},Ua:function(a,f,m,v,A,I,z){if(2<=ut.version)if(J.ff)J.readPixels(a,f,m,v,A,I,z);else{var R=na(I);J.readPixels(a,f,m,v,A,I,R,z>>31-Math.clz32(R.BYTES_PER_ELEMENT))}else(z=ra(I,A,m,v,z))?J.readPixels(a,f,m,v,A,I,z):$t(1280)},ec:function(a,f,m,v){J.renderbufferStorage(a,f,m,v)},ac:function(a,f,m,v,A){J.renderbufferStorageMultisample(a,f,m,v,A)},Ub:function(a,f,m){J.samplerParameterf(Ti[a],f,m)},Vb:function(a,f,m){J.samplerParameteri(Ti[a],f,m)},Wb:function(a,f,m){J.samplerParameteri(Ti[a],f,O[m>>2])},Va:function(a,f,m,v){J.scissor(a,f,m,v)},Wa:function(a,f,m,v){for(var A="",I=0;I<f;++I){var z=v?O[v+4*I>>2]:-1,R=O[m+4*I>>2];z=R?Ut(oe,R,0>z?void 0:z):"",A+=z}J.shaderSource(Cn[a],A)},Xa:function(a,f,m){J.stencilFunc(a,f,m)},Ya:function(a,f,m,v){J.stencilFuncSeparate(a,f,m,v)},Za:function(a){J.stencilMask(a)},_a:function(a,f){J.stencilMaskSeparate(a,f)},$a:function(a,f,m){J.stencilOp(a,f,m)},ab:function(a,f,m,v){J.stencilOpSeparate(a,f,m,v)},bb:function(a,f,m,v,A,I,z,R,N){if(2<=ut.version)if(J.Ee)J.texImage2D(a,f,m,v,A,I,z,R,N);else if(N){var X=na(R);J.texImage2D(a,f,m,v,A,I,z,R,X,N>>31-Math.clz32(X.BYTES_PER_ELEMENT))}else J.texImage2D(a,f,m,v,A,I,z,R,null);else J.texImage2D(a,f,m,v,A,I,z,R,N?ra(R,z,v,A,N):null)},cb:function(a,f,m){J.texParameterf(a,f,m)},db:function(a,f,m){J.texParameterf(a,f,V[m>>2])},eb:function(a,f,m){J.texParameteri(a,f,m)},fb:function(a,f,m){J.texParameteri(a,f,O[m>>2])},oc:function(a,f,m,v,A){J.texStorage2D(a,f,m,v,A)},gb:function(a,f,m,v,A,I,z,R,N){if(2<=ut.version)if(J.Ee)J.texSubImage2D(a,f,m,v,A,I,z,R,N);else if(N){var X=na(R);J.texSubImage2D(a,f,m,v,A,I,z,R,X,N>>31-Math.clz32(X.BYTES_PER_ELEMENT))}else J.texSubImage2D(a,f,m,v,A,I,z,R,null);else X=null,N&&(X=ra(R,z,A,I,N)),J.texSubImage2D(a,f,m,v,A,I,z,R,X)},hb:function(a,f){J.uniform1f(At(a),f)},ib:function(a,f,m){if(2<=ut.version)f&&J.uniform1fv(At(a),V,m>>2,f);else{if(288>=f)for(var v=Ht[f-1],A=0;A<f;++A)v[A]=V[m+4*A>>2];else v=V.subarray(m>>2,m+4*f>>2);J.uniform1fv(At(a),v)}},Zc:function(a,f){J.uniform1i(At(a),f)},_c:function(a,f,m){if(2<=ut.version)f&&J.uniform1iv(At(a),O,m>>2,f);else{if(288>=f)for(var v=Pi[f-1],A=0;A<f;++A)v[A]=O[m+4*A>>2];else v=O.subarray(m>>2,m+4*f>>2);J.uniform1iv(At(a),v)}},$c:function(a,f,m){J.uniform2f(At(a),f,m)},ad:function(a,f,m){if(2<=ut.version)f&&J.uniform2fv(At(a),V,m>>2,2*f);else{if(144>=f)for(var v=Ht[2*f-1],A=0;A<2*f;A+=2)v[A]=V[m+4*A>>2],v[A+1]=V[m+(4*A+4)>>2];else v=V.subarray(m>>2,m+8*f>>2);J.uniform2fv(At(a),v)}},Yc:function(a,f,m){J.uniform2i(At(a),f,m)},Xc:function(a,f,m){if(2<=ut.version)f&&J.uniform2iv(At(a),O,m>>2,2*f);else{if(144>=f)for(var v=Pi[2*f-1],A=0;A<2*f;A+=2)v[A]=O[m+4*A>>2],v[A+1]=O[m+(4*A+4)>>2];else v=O.subarray(m>>2,m+8*f>>2);J.uniform2iv(At(a),v)}},Wc:function(a,f,m,v){J.uniform3f(At(a),f,m,v)},Vc:function(a,f,m){if(2<=ut.version)f&&J.uniform3fv(At(a),V,m>>2,3*f);else{if(96>=f)for(var v=Ht[3*f-1],A=0;A<3*f;A+=3)v[A]=V[m+4*A>>2],v[A+1]=V[m+(4*A+4)>>2],v[A+2]=V[m+(4*A+8)>>2];else v=V.subarray(m>>2,m+12*f>>2);J.uniform3fv(At(a),v)}},Uc:function(a,f,m,v){J.uniform3i(At(a),f,m,v)},Tc:function(a,f,m){if(2<=ut.version)f&&J.uniform3iv(At(a),O,m>>2,3*f);else{if(96>=f)for(var v=Pi[3*f-1],A=0;A<3*f;A+=3)v[A]=O[m+4*A>>2],v[A+1]=O[m+(4*A+4)>>2],v[A+2]=O[m+(4*A+8)>>2];else v=O.subarray(m>>2,m+12*f>>2);J.uniform3iv(At(a),v)}},Sc:function(a,f,m,v,A){J.uniform4f(At(a),f,m,v,A)},Rc:function(a,f,m){if(2<=ut.version)f&&J.uniform4fv(At(a),V,m>>2,4*f);else{if(72>=f){var v=Ht[4*f-1],A=V;m>>=2;for(var I=0;I<4*f;I+=4){var z=m+I;v[I]=A[z],v[I+1]=A[z+1],v[I+2]=A[z+2],v[I+3]=A[z+3]}}else v=V.subarray(m>>2,m+16*f>>2);J.uniform4fv(At(a),v)}},Fc:function(a,f,m,v,A){J.uniform4i(At(a),f,m,v,A)},Gc:function(a,f,m){if(2<=ut.version)f&&J.uniform4iv(At(a),O,m>>2,4*f);else{if(72>=f)for(var v=Pi[4*f-1],A=0;A<4*f;A+=4)v[A]=O[m+4*A>>2],v[A+1]=O[m+(4*A+4)>>2],v[A+2]=O[m+(4*A+8)>>2],v[A+3]=O[m+(4*A+12)>>2];else v=O.subarray(m>>2,m+16*f>>2);J.uniform4iv(At(a),v)}},Hc:function(a,f,m,v){if(2<=ut.version)f&&J.uniformMatrix2fv(At(a),!!m,V,v>>2,4*f);else{if(72>=f)for(var A=Ht[4*f-1],I=0;I<4*f;I+=4)A[I]=V[v+4*I>>2],A[I+1]=V[v+(4*I+4)>>2],A[I+2]=V[v+(4*I+8)>>2],A[I+3]=V[v+(4*I+12)>>2];else A=V.subarray(v>>2,v+16*f>>2);J.uniformMatrix2fv(At(a),!!m,A)}},Ic:function(a,f,m,v){if(2<=ut.version)f&&J.uniformMatrix3fv(At(a),!!m,V,v>>2,9*f);else{if(32>=f)for(var A=Ht[9*f-1],I=0;I<9*f;I+=9)A[I]=V[v+4*I>>2],A[I+1]=V[v+(4*I+4)>>2],A[I+2]=V[v+(4*I+8)>>2],A[I+3]=V[v+(4*I+12)>>2],A[I+4]=V[v+(4*I+16)>>2],A[I+5]=V[v+(4*I+20)>>2],A[I+6]=V[v+(4*I+24)>>2],A[I+7]=V[v+(4*I+28)>>2],A[I+8]=V[v+(4*I+32)>>2];else A=V.subarray(v>>2,v+36*f>>2);J.uniformMatrix3fv(At(a),!!m,A)}},Jc:function(a,f,m,v){if(2<=ut.version)f&&J.uniformMatrix4fv(At(a),!!m,V,v>>2,16*f);else{if(18>=f){var A=Ht[16*f-1],I=V;v>>=2;for(var z=0;z<16*f;z+=16){var R=v+z;A[z]=I[R],A[z+1]=I[R+1],A[z+2]=I[R+2],A[z+3]=I[R+3],A[z+4]=I[R+4],A[z+5]=I[R+5],A[z+6]=I[R+6],A[z+7]=I[R+7],A[z+8]=I[R+8],A[z+9]=I[R+9],A[z+10]=I[R+10],A[z+11]=I[R+11],A[z+12]=I[R+12],A[z+13]=I[R+13],A[z+14]=I[R+14],A[z+15]=I[R+15]}}else A=V.subarray(v>>2,v+64*f>>2);J.uniformMatrix4fv(At(a),!!m,A)}},Kc:function(a){a=wr[a],J.useProgram(a),J.Lf=a},Lc:function(a,f){J.vertexAttrib1f(a,f)},Mc:function(a,f){J.vertexAttrib2f(a,V[f>>2],V[f+4>>2])},Nc:function(a,f){J.vertexAttrib3f(a,V[f>>2],V[f+4>>2],V[f+8>>2])},Oc:function(a,f){J.vertexAttrib4f(a,V[f>>2],V[f+4>>2],V[f+8>>2],V[f+12>>2])},pc:function(a,f){J.vertexAttribDivisor(a,f)},qc:function(a,f,m,v,A){J.vertexAttribIPointer(a,f,m,v,A)},Pc:function(a,f,m,v,A,I){J.vertexAttribPointer(a,f,m,!!v,A,I)},Qc:function(a,f,m,v){J.viewport(a,f,m,v)},rb:function(a,f,m,v){J.waitSync(si[a],f,(m>>>0)+4294967296*v)},j:Va,m:zt,k:rl,H:ja,Lb:sl,Z:uu,Y:Xa,P:oa,o:il,y:al,u:ol,t:ui,Kb:cu,Mb:oo,Nb:su,tb:(a,f,m,v)=>ou(a,f,m,v)};(function(){function a(m){if(W=m=m.exports,Q=W.bd,ce(),ee=W.ed,j.unshift(W.cd),Me--,n.monitorRunDependencies&&n.monitorRunDependencies(Me),Me==0&&Fe){var v=Fe;Fe=null,v()}return m}var f={a:nl};if(Me++,n.monitorRunDependencies&&n.monitorRunDependencies(Me),n.instantiateWasm)try{return n.instantiateWasm(f,a)}catch(m){B("Module.instantiateWasm callback failed with error: "+m),o(m)}return In(f,function(m){a(m.instance)}).catch(o),{}})();var On=n._malloc=a=>(On=n._malloc=W.dd)(a),jr=n._free=a=>(jr=n._free=W.fd)(a),za=a=>(za=W.gd)(a);n.__embind_initialize_bindings=()=>(n.__embind_initialize_bindings=W.hd)();var Vt=(a,f)=>(Vt=W.id)(a,f),sn=()=>(sn=W.jd)(),yn=a=>(yn=W.kd)(a);n.dynCall_viji=(a,f,m,v,A)=>(n.dynCall_viji=W.ld)(a,f,m,v,A),n.dynCall_vijiii=(a,f,m,v,A,I,z)=>(n.dynCall_vijiii=W.md)(a,f,m,v,A,I,z),n.dynCall_viiiiij=(a,f,m,v,A,I,z,R)=>(n.dynCall_viiiiij=W.nd)(a,f,m,v,A,I,z,R),n.dynCall_jiiiijiiiii=(a,f,m,v,A,I,z,R,N,X,ve,Ae)=>(n.dynCall_jiiiijiiiii=W.od)(a,f,m,v,A,I,z,R,N,X,ve,Ae),n.dynCall_viiij=(a,f,m,v,A,I)=>(n.dynCall_viiij=W.pd)(a,f,m,v,A,I),n.dynCall_jii=(a,f,m)=>(n.dynCall_jii=W.qd)(a,f,m),n.dynCall_vij=(a,f,m,v)=>(n.dynCall_vij=W.rd)(a,f,m,v),n.dynCall_iiij=(a,f,m,v,A)=>(n.dynCall_iiij=W.sd)(a,f,m,v,A),n.dynCall_iiiij=(a,f,m,v,A,I)=>(n.dynCall_iiiij=W.td)(a,f,m,v,A,I),n.dynCall_viij=(a,f,m,v,A)=>(n.dynCall_viij=W.ud)(a,f,m,v,A),n.dynCall_ji=(a,f)=>(n.dynCall_ji=W.vd)(a,f),n.dynCall_iij=(a,f,m,v)=>(n.dynCall_iij=W.wd)(a,f,m,v),n.dynCall_jiiiii=(a,f,m,v,A,I)=>(n.dynCall_jiiiii=W.xd)(a,f,m,v,A,I),n.dynCall_jiiiiii=(a,f,m,v,A,I,z)=>(n.dynCall_jiiiiii=W.yd)(a,f,m,v,A,I,z),n.dynCall_jiiiiji=(a,f,m,v,A,I,z,R)=>(n.dynCall_jiiiiji=W.zd)(a,f,m,v,A,I,z,R),n.dynCall_iijj=(a,f,m,v,A,I)=>(n.dynCall_iijj=W.Ad)(a,f,m,v,A,I),n.dynCall_iiiji=(a,f,m,v,A,I)=>(n.dynCall_iiiji=W.Bd)(a,f,m,v,A,I),n.dynCall_iiji=(a,f,m,v,A)=>(n.dynCall_iiji=W.Cd)(a,f,m,v,A),n.dynCall_iijjiii=(a,f,m,v,A,I,z,R,N)=>(n.dynCall_iijjiii=W.Dd)(a,f,m,v,A,I,z,R,N),n.dynCall_vijjjii=(a,f,m,v,A,I,z,R,N,X)=>(n.dynCall_vijjjii=W.Ed)(a,f,m,v,A,I,z,R,N,X),n.dynCall_jiji=(a,f,m,v,A)=>(n.dynCall_jiji=W.Fd)(a,f,m,v,A),n.dynCall_viijii=(a,f,m,v,A,I,z)=>(n.dynCall_viijii=W.Gd)(a,f,m,v,A,I,z),n.dynCall_iiiiij=(a,f,m,v,A,I,z)=>(n.dynCall_iiiiij=W.Hd)(a,f,m,v,A,I,z),n.dynCall_iiiiijj=(a,f,m,v,A,I,z,R,N)=>(n.dynCall_iiiiijj=W.Id)(a,f,m,v,A,I,z,R,N),n.dynCall_iiiiiijj=(a,f,m,v,A,I,z,R,N,X)=>(n.dynCall_iiiiiijj=W.Jd)(a,f,m,v,A,I,z,R,N,X);function zt(a,f,m){var v=sn();try{return ee.get(a)(f,m)}catch(A){if(yn(v),A!==A+0)throw A;Vt(1,0)}}function ui(a,f,m,v,A){var I=sn();try{ee.get(a)(f,m,v,A)}catch(z){if(yn(I),z!==z+0)throw z;Vt(1,0)}}function ja(a,f,m,v,A){var I=sn();try{return ee.get(a)(f,m,v,A)}catch(z){if(yn(I),z!==z+0)throw z;Vt(1,0)}}function rl(a,f,m,v){var A=sn();try{return ee.get(a)(f,m,v)}catch(I){if(yn(A),I!==I+0)throw I;Vt(1,0)}}function Va(a,f){var m=sn();try{return ee.get(a)(f)}catch(v){if(yn(m),v!==v+0)throw v;Vt(1,0)}}function il(a,f){var m=sn();try{ee.get(a)(f)}catch(v){if(yn(m),v!==v+0)throw v;Vt(1,0)}}function ol(a,f,m,v){var A=sn();try{ee.get(a)(f,m,v)}catch(I){if(yn(A),I!==I+0)throw I;Vt(1,0)}}function al(a,f,m){var v=sn();try{ee.get(a)(f,m)}catch(A){if(yn(v),A!==A+0)throw A;Vt(1,0)}}function su(a,f,m,v,A,I,z,R,N,X){var ve=sn();try{ee.get(a)(f,m,v,A,I,z,R,N,X)}catch(Ae){if(yn(ve),Ae!==Ae+0)throw Ae;Vt(1,0)}}function oa(a){var f=sn();try{ee.get(a)()}catch(m){if(yn(f),m!==m+0)throw m;Vt(1,0)}}function oo(a,f,m,v,A,I,z){var R=sn();try{ee.get(a)(f,m,v,A,I,z)}catch(N){if(yn(R),N!==N+0)throw N;Vt(1,0)}}function sl(a,f,m,v,A,I){var z=sn();try{return ee.get(a)(f,m,v,A,I)}catch(R){if(yn(z),R!==R+0)throw R;Vt(1,0)}}function uu(a,f,m,v,A,I,z){var R=sn();try{return ee.get(a)(f,m,v,A,I,z)}catch(N){if(yn(R),N!==N+0)throw N;Vt(1,0)}}function cu(a,f,m,v,A,I){var z=sn();try{ee.get(a)(f,m,v,A,I)}catch(R){if(yn(z),R!==R+0)throw R;Vt(1,0)}}function Xa(a,f,m,v,A,I,z,R,N,X){var ve=sn();try{return ee.get(a)(f,m,v,A,I,z,R,N,X)}catch(Ae){if(yn(ve),Ae!==Ae+0)throw Ae;Vt(1,0)}}var ao;Fe=function a(){ao||Ya(),ao||(Fe=a)};function Ya(){function a(){if(!ao&&(ao=!0,n.calledRun=!0,!se)){if(pn(j),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;){var f=n.postRun.shift();te.unshift(f)}pn(te)}}if(!(0<Me)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)ge();pn(Se),0<Me||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),a()},1)):a())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return Ya(),e.ready}})();const ws=255,Wp=100,g2=({h:t,s:e,v:n,a:r})=>{const o=t/60,u=e/Wp;let c=n/Wp;const l=Math.floor(o)%6,h=o-Math.floor(o),p=ws*c*(1-u),b=ws*c*(1-u*h),w=ws*c*(1-u*(1-h));c*=ws;const E={};switch(l){case 0:E.r=c,E.g=w,E.b=p;break;case 1:E.r=b,E.g=c,E.b=p;break;case 2:E.r=p,E.g=c,E.b=w;break;case 3:E.r=p,E.g=b,E.b=c;break;case 4:E.r=w,E.g=p,E.b=c;break;case 5:E.r=c,E.g=p,E.b=b;break}return E.r=Math.round(E.r),E.g=Math.round(E.g),E.b=Math.round(E.b),{...E,a:r}};function m2(t){const e=t.replace("#","");let n=t;/^#?/.test(n)&&e.length===3&&(n=`#${e.charAt(0)}${e.charAt(0)}${e.charAt(1)}${e.charAt(1)}${e.charAt(2)}${e.charAt(2)}`);const[r,o,u=0,c]=n.match(/[A-Za-z0-9]{2}/g).map(l=>parseInt(l,16));return{r,g:o,b:u,a:c?c/ws:1}}function im({r:t,g:e,b:n}){const r=t<<16|e<<8|n;return`#${(o=>new Array(7-o.length).join("0")+o)(r.toString(16))}`}function y2(t){return im(g2(t))}function XI(t,e,n){return y2({h:t,s:e,v:n,a:1})}function YI(t,e,n=180){let r=n;if(r>=360&&(r-=360),r<0&&(r+=360),r=Math.round(r),r===0)return{x0:Math.round(t/2),y0:e,x1:Math.round(t/2),y1:0};if(r===180)return{x0:Math.round(t/2),y0:0,x1:Math.round(t/2),y1:e};if(r===90)return{x0:0,y0:Math.round(e/2),x1:t,y1:Math.round(e/2)};if(r===270)return{x0:t,y0:Math.round(e/2),x1:0,y1:Math.round(e/2)};const o=Math.round(Math.asin(t/Math.sqrt(t**2+e**2))*180/Math.PI);if(r===o)return{x0:0,y0:e,x1:t,y1:0};if(r===180-o)return{x0:0,y0:0,x1:t,y1:e};if(r===180+o)return{x0:t,y0:0,x1:0,y1:e};if(r===360-o)return{x0:t,y0:e,x1:0,y1:0};let u=0,c=0,l=0,h=0;if(r<o||r>180-o&&r<180||r>180&&r<180+o||r>360-o){const p=r*Math.PI/180,b=r<o||r>360-o?e/2:-e/2,w=Math.tan(p)*b,E=r<o||r>180-o&&r<180?t/2-w:-t/2-w,T=Math.sin(p)**2*E;l=w+T,h=b+T/Math.tan(p),u=-l,c=-h}if(r>o&&r<90||r>90&&r<180-o||r>180+o&&r<270||r>270&&r<360-o){const p=(90-r)*Math.PI/180,b=r>o&&r<90||r>90&&r<180-o?t/2:-t/2,w=Math.tan(p)*b,E=r>o&&r<90||r>270&&r<360-o?e/2-w:-e/2-w,T=Math.sin(p)**2*E;l=b+T/Math.tan(p),h=w+T,u=-l,c=-h}return u=Math.round(u+t/2),c=Math.round(e/2-c),l=Math.round(l+t/2),h=Math.round(e/2-h),{x0:u,y0:c,x1:l,y1:h}}class Hp{constructor(e){this.r=0,this.g=0,this.b=0,this.a=1,this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}toFigmaArray(){return[this.r/255,this.g/255,this.b/255,this.a]}toFigmaColor(){return{r:this.r/255,g:this.g/255,b:this.b/255,a:this.a}}toHex(){return im({r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b)})}}function hn(t){if(typeof t=="string"){const e=m2(t);return typeof e.a!="number"&&(e.a=1),new Hp(e)}return new Hp({r:t.r*255,g:t.g*255,b:t.b*255,a:t.a})}var $u,v2=new Uint8Array(16);function w2(){if(!$u&&($u=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!$u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $u(v2)}const b2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function x2(t){return typeof t=="string"&&b2.test(t)}var Bn=[];for(var ef=0;ef<256;++ef)Bn.push((ef+256).toString(16).substr(1));function S2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Bn[t[e+0]]+Bn[t[e+1]]+Bn[t[e+2]]+Bn[t[e+3]]+"-"+Bn[t[e+4]]+Bn[t[e+5]]+"-"+Bn[t[e+6]]+Bn[t[e+7]]+"-"+Bn[t[e+8]]+Bn[t[e+9]]+"-"+Bn[t[e+10]]+Bn[t[e+11]]+Bn[t[e+12]]+Bn[t[e+13]]+Bn[t[e+14]]+Bn[t[e+15]]).toLowerCase();if(!x2(n))throw TypeError("Stringified UUID is invalid");return n}function E2(t,e,n){t=t||{};var r=t.random||(t.rng||w2)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,S2(r)}function A2(t,e){throw new Error([t,e.toString()].join(`
`))}function om(){return E2()}const am=om;function tf(t,e,n="color"){let r=1,o="",u=t;if(/^#/.test(t)||(u=""),/^#[0-9a-fA-F]{3}$/.test(t)){const h=t.replace("#","");u=`#${h}${h}`}const c=u.replace("#","").match(/\w{1,2}/g),l=[];return c&&c.forEach((h,p)=>{if(p===3){const w=parseInt(h,16);r=Math.round(w/255*100)/100;return}let b=h;e!=="6hex"&&(b=parseInt(h,16)),l.push(b)}),l.length&&(e==="6hex"&&(o=`#${l.join("")}`),e==="rgb"&&(o=`rgb(${l.join(",")})`),e==="rgba"&&(o=`rgba(${l.join(",")},${r})`)),n==="colorList"?{color:JSON.stringify(l),opacity:r}:{color:o,opacity:r}}function KI(t){if(/xxtool-release\.obs\.cn-north-4\.myhuaweicloud\.com\/pc\/sucai\/parse_xml/.test(t))return`/dev-proxy/xxtool-release${t.split("parse_xml")[1]}`;const e=/data:image\/svg\+xml;charset=utf-8,/;if(e.test(t)){const n=t.replace(e,"");return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`}return t}function _2(){if(typeof window<"u"){const t=navigator.userAgent.toLowerCase();return/msie/.test(t)?"ie":/firefox/.test(t)?"firefox":/chrome/.test(t)?"chrome":/opera/.test(t)?"opera":/safari/.test(t)?"safari":/tencenttraveler/.test(t)||/qqbrowse/.test(t)?"qq":""}return""}function sm(t,e){const n={type:"SOLID",color:hn(t).toFigmaColor(),blendMode:"NORMAL",visible:!0,opacity:1};return e==null||e(n),n}function pd(){return{imageSource:"",naturalWidth:0,naturalHeight:0,imageX:0,imageY:0,width:0,height:0,rotate:0,opacity:1,flipH:!1,flipV:!1,imageScaleMode:"FILL"}}function Yo(t){const e=am();return{id:e,guid:t.generateGUID(),parentId:"",left:0,top:0,width:0,height:0,rotate:0,name:e.slice(0,8),isLocked:!1,visible:!0,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()}}}function um(t){return{...Yo(t),nodeType:"GROUP",shimmerAtApearance:!1}}function QI(t,e){const n={...Yo(t),nodeType:"SECTION",shimmerAtApearance:!1,fillPaints:[],sectionStatusInfo:{status:"BUILD"}};return e==null||e(n),n}function qI(t,e){const n={...Yo(t),nodeType:"FRAME",shimmerAtApearance:!1,frameMaskDisabled:!1,cornerRadius:0,fillGeometry:[],strokeGeometry:[],strokePaints:[],fillPaints:[{type:"SOLID",blendMode:"NORMAL",opacity:1,color:hn("#FFFFFF").toFigmaColor(),visible:!0}],resizeToFit:!1};return e==null||e(n),n}function JI(t,e){const n={...Yo(t),nodeType:"SYMBOL",userFacingVersion:"",sharedSymbolVersion:"",isSymbolPublishable:!0,shimmerAtApearance:!1,frameMaskDisabled:!1,cornerRadius:0,fillGeometry:[],fillPaints:[],strokeGeometry:[],strokePaints:[],resizeToFit:!1};return e==null||e(n),n}function cm(t){return{id:am(),guid:{sessionID:0,localID:0},parentId:"",nodeType:"IMAGE",left:0,top:0,width:0,height:0,rotate:0,name:"",isLocked:!1,visible:!0,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()},shimmerAtApearance:!1,strokePaints:[],extra:{mattingMask:{maskURL:""},minimumScalePercent:100,backgroundColor:"",polygonPointIdList:[],shapeMask:{id:"",maskURL:"",maskType:0},rectList:[],sourceList:[]}}}function C2(t){return{characters:t,characterStyleIDs:t.split("").map(()=>0),styleOverrideTable:[],lines:[]}}const ZI=T2;function T2(t,{width:e,height:n,text:r,fontSize:o,lineHeight$$:u,letterSpacing:c,bold:l,italic:h,textDecoration:p,writingMode:b,fontName:w},E){const T={...Yo(t),shimmerAtApearance:!1,nodeType:"TEXT",fontSize:o,fontName:w||{fullname:"",family:"",style:"",postscript:""},fontStyle:h?"ITALIC":"NORMAL",fontWeight:l?"BOLD":"NORMAL",textData:C2(r),textAutoResize:"NONE",textAlignHorizontal:"LEFT",textDecoration:p||"NONE",letterSpacing:{value:c||0,units:"PERCENT"},lineHeight:{value:u||1.2,units:"PERCENT"},writingMode:b||"horizontal-tb",width:e,height:n||0,strokeWeight:1,strokeAlign:"CENTER",strokeJoin:"MITER",strokeCap:"ROUND",dashPattern:[0,0],miterLimit:0,fillPaints:[sm("#000000")],strokePaints:[],effects:[]};return E==null||E(T),T}function ek(t,e){const n={...Yo(t),nodeType:"vector",...lm(),vectorData:{vectorNetwork:{vertices:[],segments:[],regions:[]},normalizedSize:{x:0,y:0},styleOverrideTable:[]},shimmerAtApearance:!1};return n.strokeAlign="CENTER",e==null||e(n),n}function lm(){return{strokeGeometry:[],strokePaints:[],fillGeometry:[],fillPaints:[],strokeAlign:"INSIDE",strokeCap:"NONE",strokeJoin:"MITER",miterLimit:0,strokeWeight:1,dashPattern:[0,0]}}function tk(t,e){const n={...Yo(t),nodeType:"ROUNDED_RECTANGLE",shimmerAtApearance:!1,cornerRadius:0,...lm()};return e==null||e(n),n}var fm={exports:{}},dm={exports:{}};(function(t){function e(o,u,c,l,h,p){return(o<=h||c<=h)&&(h<=o||h<=c)&&(u<=p||l<=p)&&(p<=u||p<=l)}function n(o,u,c,l,h,p){var b=(h-o)*(l-u),w=(c-o)*(p-u);return b<w?-1:b>w?1:0}function r(o,u,c,l,h,p,b,w){var E=n(h,p,b,w,o,u),T=n(h,p,b,w,c,l),L=n(o,u,c,l,h,p),F=n(o,u,c,l,b,w);return(E>0&&T<0||E<0&&T>0)&&(L>0&&F<0||L<0&&F>0)||E===0&&e(h,p,b,w,o,u)||T===0&&e(h,p,b,w,c,l)||L===0&&e(o,u,c,l,h,p)||F===0&&e(o,u,c,l,b,w)}t.exports&&(t.exports=r)})(dm);var P2=dm.exports,hm={exports:{}};(function(t){function e(n,r){var o,u,c=!1,l=r.length;for(o=0,u=l-1;o<l;u=o++)r[o][1]>n[1]!=r[u][1]>n[1]&&n[0]<(r[u][0]-r[o][0])*(n[1]-r[o][1])/(r[u][1]-r[o][1])+r[o][0]&&(c=!c);return c}t.exports&&(t.exports=e)})(hm);var L2=hm.exports;(function(t){var e=P2,n=L2;function r(c,l){var h;for(h=0;h<c.length;h+=1)if(n(c[h],l))return!0;for(h=0;h<l.length;h+=1)if(n(l[h],c))return!0;return!1}function o(c,l){for(var h=0;h<c.length-1;h+=1)for(var p=0;p<l.length-1;p+=1)if(e(c[h][0],c[h][1],c[h+1][0],c[h+1][1],l[p][0],l[p][1],l[p+1][0],l[p+1][1]))return!0;return!1}function u(c,l){return!!(r(c,l)||o(c,l))}t.exports&&(t.exports=u)})(fm);var M2=fm.exports;const I2=Xo(M2);function k2(t,e){return Math.sqrt(t*t+e*e)}function nk(t,e,n,r,o,u,c,l){if(t===n&&e===r||o===c&&u===l)return null;const h=(l-u)*(n-t)-(c-o)*(r-e);if(h===0)return null;const p=((c-o)*(e-u)-(l-u)*(t-o))/h,b=t+p*(n-t),w=e+p*(r-e);return{x:b,y:w}}function pm({x:t,y:e,width:n,height:r,rotate:o}){const u=gm({leftTop:{x:t,y:e},width:n,height:r,rotate:o});return{left:u.x-n/2,top:u.y-r/2}}function gm({leftTop:t,width:e,height:n,rotate:r}){const o=k2(e,n)/2,u=r,c=Math.atan(n/e)/Math.PI*180,l=u+c;return Xu(t,Vu(o,l))}function R2(t,e,n,r){const{leftTop:o,rightTop:u,leftBottom:c}=Ca(t),l=Math.sqrt(e*e+n*n)/2;let h={x:0,y:0};if(r==="left"||r==="top"){const b=t.rotate,w=Math.atan(n/e)/Math.PI*180,E=b+w;h=Xu(o,Vu(l,E))}else if(r==="right"){const b=90+t.rotate+Math.atan(e/n)/Math.PI*180;h=Xu(u,Vu(l,b))}else if(r==="bottom"){const b=t.rotate,w=-Math.atan(n/e)/Math.PI*180,E=b+w;h=Xu(c,Vu(l,E))}return{x:h.x-e/2,y:h.y-n/2}}function gd(t){return{x:t.left+t.width/2,y:t.top+t.height/2}}function F2(t){let e=Math.round(t);for(;e>180;)e-=360;for(;e<-180;)e+=360;return e}function mm(t,e){const n={x:t.x-e.x,y:t.y-e.y};return Math.atan2(n.y,n.x)*(180/Math.PI)}function Vu(t,e){return{x:t*Math.cos(e/180*Math.PI),y:t*Math.sin(e/180*Math.PI)}}function O2(t,e){return{x:e.x-t.x,y:e.y-t.y}}function Xu(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Ca(t){const e=gd(t),n=Gi("global",{x:-t.width/2,y:-t.height/2},-t.rotate),r=Gi("global",{x:t.width/2,y:-t.height/2},-t.rotate),o=Gi("global",{x:-t.width/2,y:t.height/2},-t.rotate),u=Gi("global",{x:t.width/2,y:t.height/2},-t.rotate);return{center:e,leftTop:{x:n.x+e.x,y:n.y+e.y},rightTop:{x:r.x+e.x,y:r.y+e.y},leftBottom:{x:o.x+e.x,y:o.y+e.y},rightBottom:{x:u.x+e.x,y:u.y+e.y}}}function zo(t){const e=Ca(t);return[e.leftTop,e.leftBottom,e.rightBottom,e.rightTop]}function Gi(t,e,n,r){const o={x:e.x-((r==null?void 0:r.x)||0),y:e.y-((r==null?void 0:r.y)||0)},u=n/360*2*Math.PI,c=Math.cos(u),l=-o.y,h=[o.x*c,o.x*Math.cos(u-.5*Math.PI)],p=[l*Math.cos(.5*Math.PI+u),l*c];return{x:h[0]+p[0],y:-(h[1]+p[1])}}function md(t,e){return I2(t.map(r=>[r.x,r.y]),e.map(r=>[r.x,r.y]))}function yd(t,e){const n=[t.x,t.y],r=e.map(u=>[u.x,u.y]);let o=!1;for(let u=0,c=r.length-1;u<r.length;u+=1)r[u][1]>n[1]!=r[c][1]>n[1]&&n[0]<(r[c][0]-r[u][0])*(n[1]-r[u][1])/(r[c][1]-r[u][1])+r[u][0]&&(o=!o),c=u;return o}function ks(t){const e=Ye.min(t.map(c=>c.x))||0,n=Ye.max(t.map(c=>c.x))||0,r=Ye.min(t.map(c=>c.y))||0,o=Ye.max(t.map(c=>c.y))||0,u={left:0,top:0,width:0,height:0};return u.left=e,u.top=r,u.width=n-e,u.height=o-r,u}function N2(t){return[{x:t.x,y:t.y},{x:t.x,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height},{x:t.x+t.width,y:t.y}]}function nf(t){const e=Ye.min(t.map(u=>u.x))||0,n=Ye.max(t.map(u=>u.x))||0,r=Ye.min(t.map(u=>u.y))||0,o=Ye.max(t.map(u=>u.y))||0;return[{x:e,y:r},{x:e,y:o},{x:n,y:o},{x:n,y:r}]}function $2(t,e){const n=ks(t.map(u=>Gi("rotated",u,e))),r=gm({width:n.width,height:n.height,leftTop:{x:n.left,y:n.top},rotate:0}),o=Gi("global",r,-e);return{left:o.x-n.width/2,top:o.y-n.height/2,width:n.width,height:n.height,rotate:e}}function rk(t){return ks(zo(t))}function ik(t,e){const n=t.width/t.height;return e.height*n<=e.width?{width:e.height*n,height:e.height}:{width:e.width,height:e.width/n}}function zp(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function B2(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function D2(t,e){return t.x>=0&&t.x<=e.width&&t.y>=0&&t.y<=e.height}function ym(t,e,n,r,o,u,c,l){const h=[],p=[t,c],b=[e,l];let w,E,T,L,F,B,H,Q;for(let fe=0;fe<2;++fe){if(fe===0?(E=6*t-12*n+6*o,w=-3*t+9*n-9*o+3*c,T=3*n-3*t):(E=6*e-12*r+6*u,w=-3*e+9*r-9*u+3*l,T=3*r-3*e),Math.abs(w)<1e-12){if(Math.abs(E)<1e-12)continue;L=-T/E,L>0&&L<1&&h.push(L);continue}if(H=E*E-4*T*w,H<0){Math.abs(H)<1e-12&&(L=-E/(2*w),L>0&&L<1&&h.push(L));continue}Q=Math.sqrt(H),F=(-E+Q)/(2*w),F>0&&F<1&&h.push(F),B=(-E-Q)/(2*w),B>0&&B<1&&h.push(B)}let W=h.length,se;for(;W--;)L=h[W],se=1-L,p[W]=se*se*se*t+3*se*se*L*n+3*se*L*L*o+L*L*L*c,b[W]=se*se*se*e+3*se*se*L*r+3*se*L*L*u+L*L*L*l;return{min:{x:Math.min.apply(0,p),y:Math.min.apply(0,b)},max:{x:Math.max.apply(0,p),y:Math.max.apply(0,b)}}}function jp(t,e){return Math.abs(t-e)<1}function xf(t){let e=t[0];return t.forEach(n=>{n>e&&(e=n)}),e}function ok(t){if(t.length===0)throw new Error("");let e=t[0];return t.forEach(n=>{n<e&&(e=n)}),e}function ak(t,e){return Math.atan2(-e,t)*180/Math.PI}function sk(t,e){return Math.sqrt(t*t+e*e)}function G2(t,e){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function vm(t){return t.currentStep===null?vd(t):t.currentStep}function vd(t){return t.currentStep=new bm(""),t.currentStep.getOldState().selectionInfo=Ye.cloneDeep(t.selectionInfo),t.currentStep}function wm(t,e){if(t.currentStep)e&&(t.currentStep.name=e);else throw new Error("Current step does not exist");t.history.record()}function U2(){return new bm("")}class bm{constructor(e){this.name="",this.oldState={selectionInfo:null,nodeMap:{}},this.newState={selectionInfo:null,nodeMap:{}},this.mutatedNodesInThisAction={},this.name=e}getOldState(){return this.oldState}getNewState(){return this.newState}handleChildren(e,n){var u;const r=this.oldState.nodeMap[e.id],o=this.newState.nodeMap[e.id];r.children||(r.children={$value:e.children.map(c=>c.id)}),o.children={$value:(u=n.children)==null?void 0:u.map(c=>c)}}handleLife(e,n){const r=this.oldState.nodeMap[e.id],o=this.newState.nodeMap[e.id];if(n.life){if(n.life.type==="replacePage"){if(e.nodeType!=="DOCUMENT")throw new Error;r.life={$value:{type:"replacePage",newPage:Ye.cloneDeep(e.children[0])}},o.life={$value:{type:"replacePage",newPage:Ye.cloneDeep(n.life.newPage)}}}else if(n.life.type==="createChildren"){const u={};Ye.mapKeys(n.life.newLayers,c=>{u[c.id]=!0}),r.life={$value:{type:"delete",deletedNodes:u,children:e.children.map(c=>c.id),isGrouping:n.life.isGrouping}},o.life={$value:{type:"createChildren",newLayers:Ye.cloneDeep(n.life.newLayers),children:Ye.cloneDeep(n.life.children),isGrouping:n.life.isGrouping}}}else if(n.life.type==="delete"){const{deletedNodes:u}=n.life,c={};e.children.forEach(l=>{u[l.id]&&l.nodeType!=="CANVAS"&&(c[l.id]=Ye.cloneDeep(l))}),r.life={$value:{type:"createChildren",newLayers:c,children:e.children.map(l=>l.id),isGrouping:n.life.isGrouping}},o.life={$value:{type:"delete",deletedNodes:Ye.cloneDeep(n.life.deletedNodes),children:Ye.cloneDeep(n.life.children),isGrouping:n.life.isGrouping}}}}}update(e){if(e.type==="CanvasNode")return;const{layer:n,data:r}=e;this.mutatedNodesInThisAction[n.id]=!0;const{id:o}=n;this.oldState.nodeMap[o]||(this.oldState.nodeMap[o]={editInfo:{$value:{...n.editInfo}}},this.newState.nodeMap[o]={editInfo:{$value:{userId:"",createdAt:n.editInfo.createdAt,lastEditedAt:new Date().getTime()}}});const u=this.oldState.nodeMap[o],c=this.newState.nodeMap[o];Object.keys(r).forEach(l=>{var p;const h=l;if(!(typeof r[h]>"u"&&!(h==="smartShape"||h==="image"))){if(h==="life"){this.handleLife(n,r);return}if(l!=="editInfo"){if(h==="children"){this.handleChildren(n,r);return}if(u[h]||(u[h]={$value:Ye.cloneDeep(n[h])},(h==="effects"||h==="strokeGeometry"||h==="strokePaints"||h==="fillPaints")&&n.nodeType!=="CANVAS"&&typeof n[h]>"u"&&(n[h]=[]),(n.nodeType==="ROUNDED_RECTANGLE"||n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE")&&h==="image"&&!n.image&&(n.image=pd()),c[h]={$value:Ye.cloneDeep(n[h])}),typeof r[h]=="function"){const b=r[h];if(b((p=c[h])==null?void 0:p.$value),b(n[h]),n.nodeType==="TEXT"&&n.textData.characters.length!==n.textData.characterStyleIDs.length)throw new Error("textData mismatch")}else n[h]=Ye.cloneDeep(r[h]),c[h]={$value:Ye.cloneDeep(r[h])}}}})}getNewAction(){const e={};Object.keys(this.mutatedNodesInThisAction).length===0?Object.assign(e,this.newState.nodeMap):Object.keys(this.mutatedNodesInThisAction).forEach(r=>{this.newState.nodeMap[r]&&(e[r]=this.newState.nodeMap[r])});const n={type:"UpdateNodes",payload:{layerMap:e}};return this.mutatedNodesInThisAction={},n}getOldAction(){return{type:"UpdateNodes",payload:{layerMap:this.oldState.nodeMap}}}}const W2=300;function fc(t){return t/180*Math.PI}function dc(t,e,n){const r=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n));return{width:e*o+t*r,height:e*r+t*o}}function xm({frame:t,image:e}){const n=t.width/e.naturalWidth,r=t.height/e.naturalHeight;return Math.max(n,r)}function Sm({frame:t,image:e}){const n=dc(t.width,t.height,fc(e.rotate)),r=2*(n.width/2+Math.abs(e.imageX))/e.naturalWidth,o=2*(n.height/2+Math.abs(e.imageY))/e.naturalHeight;return Math.max(r,o)}function Em(t){if(t.image){const e=Sm({frame:t,image:t.image});if((t.image.width+.5)/t.image.naturalWidth<e||(t.image.height+.5)/t.image.naturalHeight<e)return!1}return!0}function uk(t,e){e.imageX=0,e.imageY=0;let n=t.width,r=e.naturalHeight*(t.width/e.naturalWidth);r<t.height&&(r=t.height,n=e.naturalWidth*(t.height/e.naturalHeight)),e.width=n,e.height=r}function ck({layer:t,step:e}){if(t.image){let n=t.width,r=t.image.naturalHeight*(t.width/t.image.naturalWidth);r<t.height&&(r=t.height,n=t.image.naturalWidth*(t.height/t.image.naturalHeight)),e.update({layer:t,data:{image(o){o.imageX=0,o.imageY=0,o.rotate=0,o.width=n,o.height=r}}})}}function H2(t,e){if(t.image){const n=Gi("rotated",{x:-e.x,y:-e.y},t.rotate+t.image.rotate);t.image.imageX+=n.x,t.image.imageY+=n.y}}function Am(t,e,n){if(t.image){n.resetImagePosition&&e.update({layer:t,data:{image(o){o.imageX=0,o.imageY=0}}});const r=Sm({frame:t,image:t.image});e.update({layer:t,data:{image(o){o.width=o.naturalWidth*r,o.height=o.naturalHeight*r}}})}}function _m(t,e,n){const r=vm(t),{image:o}=e;if(o){const u=dc(e.width,e.height,fc(o.rotate));u.width=2*(u.width/2+Math.abs(o.imageX)),u.height=2*(u.height/2+Math.abs(o.imageY));let c=1;n?c=xf([u.width/o.width,u.height/o.height]):c=xf([1,u.width/o.width,u.height/o.height]);const l=xm({frame:e,image:o});o.width*c/o.naturalWidth/l*100>W2?Am(e,r,{resetImagePosition:!0}):r.update({layer:e,data:{image(p){p.width*=c,p.height*=c,p.imageX*=c,p.imageY*=c}}})}}function lk(t,e,n){Em(e)===!1&&Am(e,n,{resetImagePosition:!0})}function fk({layer:t,step:e}){if(t.image&&Em(t)===!1){const n=dc(t.width,t.height,fc(t.image.rotate)),r=t.image.width<n.width?n.width/t.image.width:1,o=t.image.height<n.height?n.height/t.image.height:1,u=Ye.max([r,o]);u&&(t.image.width*=u,t.image.height*=u,Cm(t,{step:e}))}}function Cm(t,{step:e}){const{image:n}=t;if(n){const r=dc(t.width,t.height,fc(n.rotate)),o=xf([1,r.width/n.width,r.height/n.height]),u={width:n.width,height:n.height,imageX:n.imageX,imageY:n.imageY};u.width*=o,u.height*=o;const c=r.width/2-u.width/2,l=-(r.width/2)+u.width/2,h=r.height/2-u.height/2,p=-(r.height/2)+u.height/2,b={x:Math.min(l,Math.max(c,n.imageX)),y:Math.min(p,Math.max(h,n.imageY))};u.imageX=b.x,u.imageY=b.y,e.update({layer:t,data:{image(w){w.width=u.width,w.height=u.height,w.imageX=u.imageX,w.imageY=u.imageY}}})}}const Vp=6,dk="150ms";async function z2(t){return new Promise((e,n)=>{const r=new Image;r.crossOrigin="anonymous",r.src=t,r.onload=()=>{e(r)},r.onerror=()=>{n()}})}async function Tm(t){const e=await z2(t),{naturalWidth:n,naturalHeight:r}=e,o=pd();return o.width=n,o.height=r,o.naturalWidth=n,o.naturalHeight=r,o.imageSource=t,{imageInfo:o,imageElement:e}}function j2({frame:t,image:e}){e.imageX=0,e.imageY=0;let n=t.width,r=e.naturalHeight*(t.width/e.naturalWidth);r<t.height&&(r=t.height,n=e.naturalWidth*(t.height/e.naturalHeight)),e.width=n,e.height=r}function Pm(t){t.image&&j2({frame:t,image:t.image})}function hk(t){t.image&&(t.image.rotate=0,t.extra.minimumScalePercent=100)}function V2(t){if(t.image){const e=t.image.height/t.image.width;return Ye.max([t.width,t.height/e])||0}return 0}function pk(t,e){t.image&&(t.image.opacity=e/100)}function gk(t){t.image&&(t.image.flipH=!t.image.flipH)}function mk(t){t.image&&(t.image.flipV=!t.image.flipV)}async function yk(t,e){if(!e){t&&t.nodeType==="IMAGE"&&(t.image=void 0);return}const{imageInfo:n}=await Tm(e);t&&t.nodeType==="IMAGE"&&(t.image=n,Pm(t))}function vk(t,e,n,{step:r,autoAdjust:o}){if(t&&t.image){const u=Gi("rotated",{x:e,y:n},t.rotate+t.image.rotate),c=t.image.imageX+u.x,l=t.image.imageY+u.y;r.update({layer:t,data:{image(h){h.imageX=c,h.imageY=l}}}),o&&Cm(t,{step:r})}}function wk(t,e){return Math.min(t.width,t.height)*(.5*e/100)}function bk(t,e=!1){const n=[];function r(o){o.forEach(u=>{u.nodeType==="IMAGE"&&(e||Lm(u))&&n.push(u),u.nodeType==="GROUP"&&r(u.children)})}return r(t),n}function xk(t){const e=[];function n(r){r.forEach(o=>{o.nodeType==="IMAGE"&&Lm(o)&&!o.isLocked&&e.push(o),o.nodeType==="GROUP"&&!o.isLocked&&n(o.children)})}return n(t),e}function Sk(t,{padding:e=0,rotate:n=0,flipV:r=!1,flipH:o=!1}){return new Promise(u=>{const c=document.createElement("canvas"),l=c.getContext("2d");let h=1;const p=Math.max(t.width,t.height);p>1e3&&(h=p/1e3);const b=t.width/h,w=t.height/h,E=G2({x:0,y:0},{x:b,y:w});c.width=E,c.height=E;const T=c.width/2,L=c.height/2,F=document.createElement("canvas"),B=F.getContext("2d");F.width=b,F.height=w,(r||o)&&(B==null||B.translate(o?b:0,r?w:0),B==null||B.scale(o?-1:1,r?-1:1)),B==null||B.drawImage(t,0,0,b,w),l==null||l.translate(T,L),n&&(l==null||l.rotate(n*Math.PI/180)),l==null||l.translate(-T,-L),l==null||l.drawImage(F,T-b/2,L-w/2);const H=l==null?void 0:l.getImageData(0,0,c.width,c.height),{data:Q=[],width:W=0,height:se=0}=H||{},fe=()=>{for(let K=0;K<W;K+=1)for(let V=0;V<se;V+=1){const ie=(V*W+K)*4;if(Q[ie+3]>0)return Promise.resolve(K)}return Promise.resolve(0)},oe=()=>{for(let K=0;K<se;K+=1)for(let V=0;V<W;V+=1){const ie=(K*W+V)*4;if(Q[ie+3]>0)return Promise.resolve(K)}return Promise.resolve(0)},ye=()=>{for(let K=W-1;K>=0;K-=1)for(let V=0;V<se;V+=1){const ie=(V*W+K)*4;if(Q[ie+3]>0)return Promise.resolve(K)}return Promise.resolve(0)},Te=()=>{for(let K=se-1;K>=0;K-=1)for(let V=0;V<W;V+=1){const ie=(K*W+V)*4;if(Q[ie+3]>0)return Promise.resolve(K)}return Promise.resolve(0)},O=[fe(),oe(),ye(),Te()];Promise.all(O).then(K=>{let[V,ie,ce,ee]=K;V-=e,ie-=e,ce+=e,ee+=e;const Se=ce-V,j=ee-ie,te=ie,ge=V;u({contentWidth:Se*h,contentHeight:j*h,top:te*h,left:ge*h,frameSize:E*h})})})}function Lm(t){return t.nodeType==="IMAGE"&&!!t.extra.shapeMask.maskURL}async function Ek(t,e){const n=cm(),{imageInfo:r}=await Tm(e);return n.image=r,n.width=r.naturalWidth,n.height=r.naturalHeight,Pm(n),n.left=0,n.top=0,n}function Xp(t){return`mainLayer-${t}`}function Ak(t){const e=document.querySelectorAll(`#${Xp(t.id)}`);e.length>1&&console.warn("More than one canvas",e);const n=document.getElementById(Xp(t.id));return n||(console.warn("当前图层不存在"),document.createElement("canvas"))}function _k(t){const e=[];function n(r){r.forEach(o=>{o.nodeType!=="GROUP"&&e.push(o),n(o.children)})}return n(t.children),e}function X2(t,e){return t.props.getPanelList().find(r=>r.id===e)||null}function Ck(t,e){return X2(t,e)||Mm(t,e)}function Mm(t,e){return t.normalLayerFlatMap[e]?t.normalLayerFlatMap[e]:null}function Tk(t){return t.image?t.image.width/t.image.naturalWidth:1}function Pk(t,e){return!(t.options.hasTimeline&&e.timeline&&(t.currentTime<e.timeline.start||t.currentTime>e.timeline.end))}function ti(t){const e=t.getFigma();return e?{fileData:e.context.fileData}:t.libra?{fileData:t.libra.fileData}:null}function Y2(t){return t.nodeType==="FRAME"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"||t.nodeType==="SECTION"}function Im(t){return t.nodeType==="FRAME"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"}function Lk(t){return!!(Im(t)||t.nodeType==="GROUP")}function Mk(t,e,n){var u;const r=t.snapshotMap;r[e.id]||(r[e.id]={lastUsedAt:0,image:null,contains:{layerIdMap:{},imageUrlMap:{}}});const o=r[e.id];return o.lastUsedAt=new Date().getTime(),(u=o.image)==null||u.delete(),o.image=n,o}function K2(t,e){var r;const n=t.snapshotMap;n[e.id]&&((r=n[e.id].image)==null||r.delete(),delete n[e.id])}function Q2(t,e){const n=t.snapshotMap;return n[e.id]?(n[e.id].lastUsedAt=new Date().getTime(),n[e.id].image):null}function $r(t,e){return t.localStore.getLayer(e)}function km(t,e){const n=[e];return Rm(t,e,n),n}function Rm(t,e,n){if(e.parentId){const r=t.getLayer(e.parentId);r&&(Y2(r)&&n.unshift(r),Rm(t,r,n))}}function Rs(t,e){if(e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")return!0;const n=t.localStore.getLayer(e.parentId);return n?Rs(t,n):!1}function Ik(t,e){const n=[];return Fm(t,e,n),n}function Fm(t,e,n){if(e.nodeType==="SYMBOL"&&n.unshift(e.id),e.parentId){const r=$r(t,e.parentId);r&&Fm(t,r,n)}}function q2(t,e){if(e.parentId){const n=$r(t,e.parentId);return n?q2(t,n):null}return e}function Om(t,e){delete t.layerAssetsMap[e.id],delete t.layerMap[e.id],K2(t,e),e.nodeType==="FRAME"||e.nodeType==="GROUP"||e.nodeType==="SECTION"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE"?e.children.forEach(n=>{Om(t,n)}):e.nodeType==="IMAGE"||e.nodeType}function kk(t,e){J2(t.localStore.props.getCurrentPage(),e)}function J2(t,e){t.children.forEach(n=>{Nm(n,e)})}function Z2(t){return t.nodeType==="FRAME"||t.nodeType==="GROUP"||t.nodeType==="SECTION"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"?t.children:null}function Nm(t,e){var n;e(t),(n=Z2(t))==null||n.forEach(r=>{Nm(r,e)})}function Fs(t,e){if(e.nodeType==="INSTANCE"){const n=e.symbolData.symbolID.id,r=t.localStore.getLayer(n);if(!r)throw new Error("");return r.children}return e.children}function eE(t,e){return t.layerAssetsMap[e.id]||null}function $m({layer:t,layerInfo:e}){return{width:e.width,height:e.height}}console.log(Kn({left:10,top:10,width:200,height:300,rotate:30}));function Kn({left:t,top:e,width:n,height:r,rotate:o}){const u=-o/180*Math.PI,{leftTop:c}=Ca({left:t,top:e,width:n,height:r,rotate:o}),l=o===90||o===-90?0:Math.cos(u);return[[l,Math.sin(u),c.x],[-Math.sin(u),l,c.y],[0,0,1]]}function hc(t,e){const n=t,r=e,o=[];for(let u=0;u<n.length;u+=1){o[u]=[];for(let c=0;c<r[0].length;c+=1){let l=0;for(let h=0;h<n[0].length;h+=1)l+=n[u][h]*r[h][c];o[u][c]=l}}return o}function Ss(t,e){const n=[...t],r=[[e.x],[e.y],[1]],o=hc(n,r);return{x:o[0][0],y:o[1][0]}}function tE(t,e){return hc(t,e)}function jo(t,e){const n=[...t],r=[[e.x],[e.y],[1]],o=hc(Bm(n),r);return{x:o[0][0],y:o[1][0]}}function nE(t,e){return hc(Bm(t),e)}function pc(t){return-Math.atan2(-t[1][0],t[0][0])*(180/Math.PI)}function gc({width:t,height:e,t:n}){const r=n[0][2],o=n[1][2],u=pc(n),{left:c,top:l}=pm({x:r,y:o,width:t,height:e,rotate:u});return{left:c,top:l,rotate:u}}function Bm(t){if(t.length!==t[0].length)throw new Error("");let e=0,n=0,r=0;const o=t.length;let u=0;const c=[],l=[];for(e=0;e<o;e+=1)for(c[c.length]=[],l[l.length]=[],r=0;r<o;r+=1)e===r?c[e][r]=1:c[e][r]=0,l[e][r]=t[e][r];for(e=0;e<o;e+=1){if(u=l[e][e],u===0){for(n=e+1;n<o;n+=1)if(l[n][e]!==0){for(r=0;r<o;r+=1)u=l[e][r],l[e][r]=l[n][r],l[n][r]=u,u=c[e][r],c[e][r]=c[n][r],c[n][r]=u;break}if(u=l[e][e],u===0)throw new Error}for(r=0;r<o;r+=1)l[e][r]=l[e][r]/u,c[e][r]=c[e][r]/u;for(n=0;n<o;n+=1)if(n!==e)for(u=l[n][e],r=0;r<o;r+=1)l[n][r]-=u*l[e][r],c[n][r]-=u*c[e][r]}return c}function rE(t,e){const n=[t[0],t[1],[0,0,1]],r=[e[0],e[1],[0,0,1]];return iE(n,r)}function iE(t,e){const n=[];for(let r=0;r<t.length;r+=1){n[r]=[];for(let o=0;o<e[0].length;o+=1){let u=0;for(let c=0;c<t[0].length;c+=1)u+=t[r][c]*e[c][o];n[r][o]=u}}return n}function Dm({fileData:t,info:e}){const n=[];if(e.type==="layer"){const r=$r(t,e.layerId);r&&n.push(...km(t.localStore,r).map(o=>Kn({left:o.left,top:o.top,width:o.width,height:o.height,rotate:o.rotate})))}return Gm(n)}function Gm(t){let e=[[1,0,0],[0,1,0],[0,0,1]];return[...t].reverse().forEach(n=>{e=rE(n,e)}),e}function zi(t,e){const n=Dm({fileData:t,info:e});return{absoluteTransform:n,rotate:pc(n)}}function Rk(t){const e=oE({localStore:t})||t.bunchRectangle;return{left:e.left*t.getPageScale(),top:e.top*t.getPageScale(),width:e.width*t.getPageScale(),height:e.height*t.getPageScale(),transform:`rotate(${e.rotate}deg)`}}function oE({localStore:t}){const e=ti(t);if(e){const n=t.selectedSingleLayer;if(n){const r=zi(e.fileData,{type:"layer",layerId:n.id}),o=gc({width:n.width,height:n.height,t:r.absoluteTransform});return{width:n.width,height:n.height,...o}}}return null}function wd(t,e){t.bunchRectangle.left=e.left,t.bunchRectangle.top=e.top,t.bunchRectangle.width=e.width,t.bunchRectangle.height=e.height,t.bunchRectangle.rotate=e.rotate}function aE(t){if(t.selectedSingleLayer){const e=t.selectedSingleLayer;e&&wd(t,e)}else{const e=[];t.selectedLayerList.forEach(n=>{if(n){const r=Ca(n);e.push(r.leftTop),e.push(r.rightTop),e.push(r.leftBottom),e.push(r.rightBottom)}}),Object.assign(t.bunchRectangle,ks(e)),t.bunchRectangle.rotate=0}}function sE({layerList:t}){const e=[];return t.forEach(r=>{if(r){const o=Ca(r);e.push(o.leftTop),e.push(o.rightTop),e.push(o.leftBottom),e.push(o.rightBottom)}}),{...ks(e),rotate:0}}function So(t,e){if(e.parentId){const n=t.getLayer(e.parentId);if(n)return n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="SECTION"?n:So(t,n)}return null}function Um(t,e){if(e.parentId){const n=$r(t,e.parentId);if(n)return n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="SECTION"?n:Um(t,n)}return t.localStore.props.getCurrentPage()}function rf(t,e){return e.map(n=>{const r=t.getLayer(n);if(!r)throw new Error;return r})}function Fk({localStore:t,idList:e}){return e.map(n=>{const r=t.getLayer(n);if(!r)throw new Error(`Layer ${n} does not exist`);return r})}function Mn(t){return!t.stackMode||t.stackMode==="NONE"?"NONE":t.stackMode}function Gn(t,e){const n=[...t];return e.nodeType==="INSTANCE"&&t[t.length-1]!==e&&n.push(e),n}function bd(t,e){const n={};return Ye.forEach(t.layerMap,(r,o)=>{r.nodeType==="INSTANCE"&&r.symbolData.symbolID.id===e.id&&(n[o]=r)}),n}function uE(t,e,n){const r=bd(t.fileData,e);Ye.forEach(r,o=>{n(o)})}function Wm({layer:t,instanceChain:e}){const n=[...e];return n[n.length-1]!==t&&n.push(t),n}const cE={nodeType:"IMAGE",left:0,top:0,width:0,height:0,rotate:0,name:"",stackMode:"NONE",stackPrimarySizing:"FIXED",stackCounterSizing:"FIXED",stackChildAlignSelf:"AUTO",stackChildPrimaryGrow:0,stackPrimaryAlignItems:"MIN",stackCounterAlignItems:"MIN",stackPositioning:"",stackPaddingTop:0,stackPaddingBottom:0,stackPaddingLeft:0,stackPaddingRight:0,stackSpacing:0,strokeAlign:"INSIDE",strokeCap:"NONE",strokeWeight:1,strokeJoin:"MITER",miterLimit:0,fillGeometry:[],fillPaints:void 0,strokeGeometry:[],strokePaints:[],dashPattern:[0,0],frameMaskDisabled:!1,cornerRadius:0,textAutoResize:"NONE",textData:void 0,vectorData:void 0,effects:void 0,visible:!0};function Jt({localStore:t,layer:e,instanceChain:n,debugging:r}){function o(u){if(e.nodeType==="INSTANCE"&&e===n[0]&&(u==="left"||u==="top"))return e[u];if(n.length>0){let c;for(let l=0;l<n.length;l+=1){const h=n.slice(l);if(c=lE(e,u,n[l],h),c)break}if(c!==void 0)return c}if(e[u]!==void 0)return e[u];if(u==="textData"||u==="vectorData")throw new Error;return cE[u]}return new Proxy({},{get:(u,c)=>o(c)})}function lE(t,e,n,r){let o;const u=Wm({layer:t,instanceChain:r});return n.symbolData.symbolOverrides.forEach(c=>{c.guidPath.guids.map(l=>l.id).join("--")===u.map(l=>l.id).join("--")&&c[e]!==void 0&&(o=c[e])}),n.derivedSymbolData.forEach(c=>{c.guidPath.guids.map(l=>l.id).join("--")===u.map(l=>l.id).join("--")&&c[e]!==void 0&&(o=c[e])}),o}const mc=Jt;function xd({localStore:t,layer:e,instanceChain:n,constraintsMap:r}){n=Gn(n,e);const o=mc({localStore:t,layer:e,instanceChain:n});let u=[];const c=t.getFigma();return c&&(u=Fs(c.context.fileData,e)),u.length===0||u.forEach(l=>{const h=Jt({localStore:t,layer:l,instanceChain:Gn(n,l)}),p=h;if(p.stackMode==="NONE"||p.stackPositioning==="ABSOLUTE"){const b={};r[l.id]=b,l.horizontalConstraint==="MIN"&&(b.left=h.left),l.horizontalConstraint==="MAX"&&(b.right=o.width-h.left-h.width),l.horizontalConstraint==="STRETCH"&&(b.left=h.left,b.right=o.width-h.left-h.width),l.verticalConstraint==="MIN"&&(b.top=h.top),l.verticalConstraint==="MAX"&&(b.bottom=o.height-h.top-h.height),l.verticalConstraint==="STRETCH"&&(b.top=h.top,b.bottom=o.height-h.top-h.height)}xd({localStore:t,layer:l,instanceChain:n,constraintsMap:r})}),r}function fE(t,e){const n=So(t,e);return!!(n&&(Mn(n)==="NONE"||e.stackPositioning==="ABSOLUTE"))}function dE(t){return t.horizontalConstraint||"MIN"}function hE(t){return t.verticalConstraint||"MIN"}function pE({localStore:t}){if(t.selectedSingleLayer)return{type:"entity",id:t.selectedSingleLayer.id,completeChain:km(t,t.selectedSingleLayer).map(n=>({id:n.id,nodeType:n.nodeType}))};const{phantom:e}=t.props.getSelectionInfo();return e?{...e}:null}function Sd({fileData:t,target:e}){const n=[...e.completeChain],r=[],o=[];n.forEach(l=>{l.nodeType==="INSTANCE"&&o.push($r(t,l.id));const h=$r(t,l.id);if(!h)throw new Error("");const p=Jt({localStore:t.localStore,layer:h,instanceChain:o});r.push(Kn(p))});const u=Gm(r),c=$r(t,e.id);if(!c)throw new Error("");return{layer:c,instanceChain:o,absoluteTransform:u,rotate:pc(u)}}function gE(t,e,n){const r=Hm(t,n,t.selectedNormalLayerList);return ir(t,{type:"$selectActiveGroupChild",layerId:r}),r}function mE(t,e,n){ir(t,{type:"$selectGroupLeafLayer",layerId:n.id}),wd(t,n),console.log(Ye.cloneDeep(t.selectedSingleLayer))}function yE(t,e,n){if(ir(t,{type:"replace",idList:[e.id]}),e.nodeType==="GROUP"){if(e.isLocked)return;gE(t,e,n)}}function Ok(t,e){t.layerResolvedFrameMap={},t.getNormalLayerList().forEach(r=>{t.layerResolvedFrameMap[r.id]=Ca(r)});const n=t.getPointInPage(e);t.selectionRectStartPoint=n}function Nk(t,e){t.selectionRectStartPoint=null;const n=t.getPointInPage(e);t.selectionRectEndPoint=n,ir(t,{type:t.controlKeyUnderPress?"add":"replace",idList:Object.keys(t.overlappedLayerIdMap)}),t.overlappedLayerIdMap={},t.selectionRectExists=!1,t.currentStatus=""}const vE=Ye.throttle((t,e)=>{if(t.overlappedLayerIdMap={},t.getFigma()){wE(t);return}Ye.forEach(t.layerResolvedFrameMap,(n,r)=>{var u;if(t.getLayer(r)&&((u=t.getLayer(r))!=null&&u.isLocked))return;md([{x:t.selectionRectangle.left,y:t.selectionRectangle.top},{x:t.selectionRectangle.left,y:t.selectionRectangle.top+t.selectionRectangle.height},{x:t.selectionRectangle.left+t.selectionRectangle.width,y:t.selectionRectangle.top+t.selectionRectangle.height},{x:t.selectionRectangle.left+t.selectionRectangle.width,y:t.selectionRectangle.top}],[n.leftTop,n.leftBottom,n.rightBottom,n.rightTop])&&(t.overlappedLayerIdMap[r]=!0)})},100);function wE(t){var r;const e={},n=[...((r=t.figma)==null?void 0:r.topLevelLayerList)||[]].reverse();n==null||n.forEach(o=>{const u=zo({...t.selectionRectangle,rotate:0}),c=zo(o);md(u,c)&&(e[o.id]=!0)}),t.overlappedLayerIdMap=e}function $k(t,e){t.selectionRectExists=!0;const n=t.getPointInPage(e);t.selectionRectEndPoint=n,vE(t,e)}function bE(t,e,n){for(let r=n.length-1;r>=0;r-=1){const o=n[r],u=t.getPointInPage(e),c=zo(o);if(yd(u,c))return o.id}return""}function Hm(t,e,n){for(let r=n.length-1;r>=0;r-=1){const o=n[r],u=t.getPointInPage(e),c=zo(o);if(yd(u,c))return o.children.length>0?Hm(t,e,o.children):o.id}return""}function xE(t,e){return bE(t,e,t.getNormalLayerList().filter(r=>t.getSelectedLayerIdList().includes(r.id)===!1))}function Bk(t,e){const n=xE(t,e);return n&&(t.controlKeyUnderPress?ir(t,{type:"add",idList:[n]}):ir(t,{type:"replace",idList:[n]})),n}function SE(t,e){return t.getSelectedLayerIdList().indexOf(e.id)>-1}function Dk(t,e,n){const r=t.getLayer(e.parentId);r&&r.nodeType==="GROUP"?mE(t,r,e):e.nodeType==="FRAME"?ir(t,{type:"replace",idList:[e.id]}):t.controlKeyUnderPress?EE({localStore:t,layer:e}):yE(t,e,n)}function EE({localStore:t,layer:e}){var r,o;if(t.selectedNormalLayerList.find(u=>u.parentId!=="")){(o=(r=t.props).showMessageForUser)==null||o.call(r,{type:"warn",message:"只能多选同级的图层"});return}SE(t,e)?ir(t,{type:"remove",idList:[e.id]}):ir(t,{type:"add",idList:[e.id]})}function AE(t){const e={layer:null,instanceChain:[]},n=ti(t);if(n){const r=pE({localStore:t});if(r){const{layer:o,instanceChain:u}=Sd({fileData:n.fileData,target:r});e.layer=o,e.instanceChain=u}}return e}function Gk(){return{currentPageIndex:0,selectedLayerIdList:[],phantom:null,activeLayerInGroupId:"",activeGroupLayerId:"",selectedLeafLayerId:"",bunchRectangle:{nodeType:"GROUP",parentId:"",id:"bunchRectangle",name:"",guid:{sessionID:0,localID:0},left:0,top:0,width:0,height:0,rotate:0,isLocked:!1,children:[],editInfo:{userId:"",createdAt:0,lastEditedAt:0},shimmerAtApearance:!1,visible:!0},textRange$:{start:0,end:0}}}function ir(t,e){var r,o;const{selectionInfo:n}=t;if(e.type==="$selectActiveGroupChild")n.activeLayerInGroupId=e.layerId;else if(e.type==="$selectGroupLeafLayer")n.selectedLeafLayerId=e.layerId;else if(e.type==="$startEdittingGroupLayer")n.selectedLayerIdList=[],n.activeLayerInGroupId="",n.activeGroupLayerId=e.layerId;else if(e.type==="$target")n.activeLayerInGroupId="",n.activeGroupLayerId="",n.selectedLeafLayerId="",e.target.type==="entity"?(n.phantom=null,n.selectedLayerIdList=[e.target.id]):(t.selectionInfo.phantom=e.target,n.selectedLayerIdList=[]);else{t.selectionInfo.phantom=null,n.activeLayerInGroupId="",n.activeGroupLayerId="",n.selectedLeafLayerId="";let u=[];e.type==="replace"?u.push(...e.idList):e.type==="add"?(u.push(...t.getSelectedLayerIdList()),u.push(...e.idList)):e.type==="remove"?u.push(...t.getSelectedLayerIdList().filter(c=>!Ye.includes(e.idList,c))):e.type,u=Ye.uniq(u).filter(c=>c),u.length>1&&(u=u.filter(c=>t.getLayer(c)).filter(c=>!t.rootNormalLayerMap[c].isLocked)),t.selectionInfo.selectedLayerIdList.length=0,t.getSelectedLayerIdList().push(...u)}(o=(r=t.props).doAction)==null||o.call(r,{type:"UpdateNodes",payload:{layerMap:{}}})}function Uk(t){var o,u,c,l;const e=(u=(o=t.props).getCurrentPage)==null?void 0:u.call(o);if(!e)return;const n=vd(t),r=_E({localStore:t,candidate:t.bunchRectangle,groupedLayerIdList:t.getSelectedLayerIdList(),parentNode:e,step:n});(l=(c=t.props).doAction)==null||l.call(c,n.getNewAction()),wm(t),ir(t,{type:"replace",idList:[r.id]})}function Wk({localStore:t}){var r,o,u,c;const e=(o=(r=t.props).getCurrentPage)==null?void 0:o.call(r);if(!e)throw new Error("Page not found");const n=t.selectedSingleLayer;if(n&&n.nodeType==="GROUP"){const l=vd(t),h=e.children,p=[];h.forEach(b=>{b.id===n.id?b.children.forEach(w=>{w.parentId="",p.push(w)}):p.push(b)}),l.update({layer:e,data:{life:{type:"delete",deletedNodes:{[n.id]:!0},children:p.map(b=>b.id)}}}),h.length=0,h.push(...p),(c=(u=t.props).doAction)==null||c.call(u,l.getNewAction()),wm(t),ir(t,{type:"replace",idList:n.children.map(b=>b.id)}),n.children=[],t.selectionInfo.bunchRectangle.left=n.left,t.selectionInfo.bunchRectangle.top=n.top,t.selectionInfo.bunchRectangle.width=n.width,t.selectionInfo.bunchRectangle.height=n.height,t.selectionInfo.bunchRectangle.rotate=n.rotate}}function Hk(t){if(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="GROUP"){const{id:e}=t.selectedSingleLayer;ir(t,{type:"$startEdittingGroupLayer",layerId:e})}}function zm(t,e,{step:n}){if(e.parentId){const r=Mm(t,e.parentId);if(r&&r.nodeType==="GROUP"){const o=[];r.children.forEach(c=>{o.push(...zo(c))});const u=$2(o,r.rotate);n.update({layer:r,data:u}),zm(t,r,{step:n})}}}function zk({localStore:t,layerList:e}){const n=sE({layerList:e}),r=um(t);return Object.assign(r,n),e.forEach(o=>{o.parentId=r.id}),r.children=[...e],r}function _E({localStore:t,candidate:e,groupedLayerIdList:n,parentNode:r,step:o}){const u=um(t);u.left=e.left,u.top=e.top,u.width=e.width,u.height=e.height,u.rotate=e.rotate;const c=[...r.children],l=[];return c.forEach(h=>{n.indexOf(h.id)>-1?(u.children.push(h),h.parentId=u.id,u.children.length===n.length&&l.push(u)):l.push(h)}),o.update({layer:r,data:{life:{type:"createChildren",isGrouping:!0,newLayers:{[u.id]:Ye.cloneDeep(u)},children:l.map(h=>h.id)}}}),r.children.length=0,r.children.push(...l),u}function jm(t){return t.selectedNormalLayerList.length===1?So(t,t.selectedNormalLayerList[0]):null}function jk({context:t,localStore:e,singleLayer:n,step:r,pointInContainer:o}){if(e.options.enableEnterAndLeaveRoom===!1)return;const u=jm(e);if(u&&D2(o,u)===!1)CE({localStore:e,context:t,currentRoom:u,singleLayer:n,step:r});else{const c=Um(t.fileData,n);let l=null;[...c.children].reverse().forEach(h=>{if(h.id!==n.id&&(h.nodeType==="FRAME"||h.nodeType==="SECTION"||h.nodeType==="SYMBOL")&&yd(o,zo(h))&&l===null&&h.width>=n.width&&h.height>=n.height){if(n.nodeType==="SYMBOL"&&h.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"&&n.symbolData.symbolID.id===h.id)return;l=h}}),l&&l.children&&TE({fileData:t.fileData,room:c,nextRoom:l,singleLayer:n,step:r})}}function CE({localStore:t,context:e,currentRoom:n,singleLayer:r,step:o}){if(t.isFullyFunctional===!1)return;const u=So(t,n)||t.props.getCurrentPage(),c=[];u.children.forEach(w=>{w.id===n.id?(c.push(w.id),c.push(r.id)):w.id!==r.id&&c.push(w.id)}),o.update({layer:u,data:{children:c}}),u.children=c.map(w=>$r(e.fileData,w)),o.update({layer:n,data:{children:n.children.map(w=>w.id).filter(w=>w!==r.id)}}),n.children=n.children.filter(w=>w.id!==r.id);const l=Kn(n),h=Kn(r),p=tE(l,h),b=gc({width:r.width,height:r.height,t:p});o.update({layer:r,data:{parentId:u.nodeType==="CANVAS"?"":u.id,left:b.left,top:b.top,rotate:b.rotate}})}function TE({fileData:t,room:e,nextRoom:n,singleLayer:r,step:o}){const u=e.children.map(w=>w.id).filter(w=>w!==r.id);o.update({layer:e,data:{children:u}}),e.children=u.map(w=>$r(t,w)).filter(w=>w);const c=n.children.map(w=>w.id).concat([r.id]);o.update({layer:n,data:{children:c}}),n.children.push(r);const l=Kn(r),h=Kn(n),p=nE(h,l),b=gc({width:r.width,height:r.height,t:p});o.update({layer:r,data:{parentId:n.id,left:b.left,top:b.top,rotate:b.rotate}})}function Os(t){var n;if(!t)throw new Error("element is missing!");return Number((n=document==null?void 0:document.defaultView)==null?void 0:n.getComputedStyle(t).height.replace(/px/,""))}function Ns(t){var n;if(!t)throw new Error("element is missing!");return Number((n=document==null?void 0:document.defaultView)==null?void 0:n.getComputedStyle(t).width.replace(/px/,""))}function yc(t){if(!t)throw new Error("element is missing!");let e=0;return e+=t.offsetTop,t.offsetParent&&(e+=yc(t.offsetParent)),e}function vc(t){if(!t)throw new Error("element is missing!");let e=0;return e+=t.offsetLeft,t.offsetParent&&(e+=vc(t.offsetParent)),e}function Vk(t,e){if(!t)throw new Error("element is missing!");let n=0,r=0;return e&&e.paddingTop&&(n=e.paddingTop),e&&e.paddingBottom&&(r=e.paddingBottom),!(t.getBoundingClientRect().top>=window.innerHeight-r||t.getBoundingClientRect().bottom<=n)}function Xk(t,e,n){let r=(e.pageX-t.appliedPointX)/t.getPageScale(),o=(e.pageY-t.appliedPointY)/t.getPageScale();if(n){const u=jo(n,{x:r,y:o});r=u.x,o=u.y}return t.bunchRectangleXFixed?Math.abs(r)>Vp/t.getPageScale()?(t.bunchRectangleXFixed=!1,t.appliedPointX=e.pageX):r=0:t.appliedPointX=e.pageX,t.bunchRectangleYFixed?Math.abs(o)>Vp/t.getPageScale()?(t.bunchRectangleYFixed=!1,t.appliedPointY=e.pageY):o=0:t.appliedPointY=e.pageY,{x:r,y:o}}function Vm(t,e){const n=vc(e),r=yc(e);return{x:t.pageX-n,y:t.pageY-r}}function PE(t,e){t.pointerDownX=e.pageX,t.pointerDownY=e.pageY,t.pointerX=e.pageX,t.pointerY=e.pageY,t.appliedPointX=e.pageX,t.appliedPointY=e.pageY,t.pointerMoved=!1,t.pointerCurrentAngle=F2(mm(t.getPointInContainer(e),t.bunchRectangleCenter)),t.pointerAppliedAngle=t.pointerCurrentAngle,t.bunchRectangleRotationFixed=!1}function Xm(t,e){t.pointerX=e.pageX,t.pointerY=e.pageY}function Yk(t,e){return jp(t.pointerDownX,e.pageX)&&jp(t.pointerDownY,e.pageY)}function Kk(t,e){t.pointerRayLengthInPage=e}function Qk(t){var e;return(e=t.changedTouches)!=null&&e[0]&&(t.pageX=t.changedTouches[0].pageX,t.pageY=t.changedTouches[0].pageY),t}const LE={name:"",isLocked:!1,width:0,height:0,frameMaskDisabled:!1,stackMode:"NONE",stackPrimarySizing:"FIXED",stackCounterSizing:"FIXED",stackChildAlignSelf:"AUTO",stackChildPrimaryGrow:0,stackPrimaryAlignItems:"MIN",stackCounterAlignItems:"MIN",stackPositioning:"",stackPaddingTop:0,stackPaddingBottom:0,stackPaddingLeft:0,stackPaddingRight:0,stackSpacing:0,visible:!0,effects:[]},ME=Object.keys(LE),IE=["left","top","width","height"];function on({localStore:t,node:e,instanceChain:n,nodeSize:r,data:o,step:u,isResizingInstanceManually:c}){r&&(typeof r.width=="number"||typeof r.height=="number")&&FE({localStore:t,layer:e,step:u,width:r.width,height:r.height}),o&&(e.nodeType==="CANVAS"?u.update({layer:e,data:o}):RE({localStore:t,layer:e,instanceChain:n,data:o,step:u,isResizingInstanceManually:c}))}function kE({localStore:t,layer:e,instanceChain:n,data:r,step:o,topInstance:u,isResizingInstanceManually:c}){const l=Wm({layer:e,instanceChain:n}),h={symbolData(p){let b=!1,w=null,E=-1;if(p.symbolOverrides.forEach((T,L)=>{T.guidPath.guids.map(F=>F.id).join("-")===l.map(F=>F.id).join("-")&&(b=!0,E=L,w=T)}),b===!1&&(w={guidPath:{guids:l.map(T=>({...T.guid,id:T.id}))}},p.symbolOverrides.push(w),E=p.symbolOverrides.length-1),w)ME.forEach(T=>{if(w&&r[T]!==void 0)if(T==="width"||T==="height")c&&e===u&&(w[T]=r[T]);else if(T==="effects"){if(!w.effects){const{effects:L}=Jt({localStore:t,layer:e,instanceChain:n});w.effects=Ye.cloneDeep(L||[])}typeof r.effects=="function"&&r.effects(w.effects)}else w[T]=r[T]});else throw new Error;Object.keys(w).filter(T=>T!=="guidPath").length===0&&p.symbolOverrides.splice(E,1)},derivedSymbolData(p){let b=null;p.forEach(w=>{w.guidPath.guids.map(E=>E.id).join("-")===l.map(E=>E.id).join("-")&&(b=w)}),b===null&&(b={guidPath:{guids:l.map(w=>({...w.guid,id:w.id}))}},p.push(b)),IE.forEach(w=>{const E=r[w];b&&typeof E<"u"&&(b[w]=E)})}};o.update({layer:u,data:h})}function RE({localStore:t,layer:e,instanceChain:n,data:r,step:o,isResizingInstanceManually:u}){const c=n[0];t.options.enableSymbolAndInstance&&c&&kE({localStore:t,layer:e,instanceChain:n,isResizingInstanceManually:u,topInstance:c,step:o,data:r}),(!c||e===c)&&o.update({layer:e,data:r})}function FE({localStore:t,layer:e,width:n,height:r,step:o}){if(typeof n=="number"||typeof r=="number"){let u=1,c=1;typeof n=="number"&&(u=n/e.width),typeof r=="number"&&(c=r/e.height);let l=!1;u.toFixed(3)===c.toFixed(3)&&(l=!0),o.update({layer:e,data:{width:n,height:r}}),e.nodeType==="FRAME"&&e.image&&(l?o.update({layer:e,data:{image(h){h.width*=u,h.height*=u,h.imageX*=u,h.imageY*=u}}}):e.image.imageScaleMode==="FILL"?_m(t,e,!0):e.image.imageScaleMode==="STRETCH"&&e.image&&o.update({layer:e,data:{image(h){h.width*=u,h.imageX*=u,h.height*=c,h.imageY*=c}}}))}}var Ym={exports:{}};(function(t){(function(){function e(F,B){document.addEventListener?F.addEventListener("scroll",B,!1):F.attachEvent("scroll",B)}function n(F){document.body?F():document.addEventListener?document.addEventListener("DOMContentLoaded",function B(){document.removeEventListener("DOMContentLoaded",B),F()}):document.attachEvent("onreadystatechange",function B(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",B),F())})}function r(F){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(F)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function o(F,B){F.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+B+";"}function u(F){var B=F.g.offsetWidth,H=B+100;return F.j.style.width=H+"px",F.i.scrollLeft=H,F.h.scrollLeft=F.h.scrollWidth+100,F.l!==B?(F.l=B,!0):!1}function c(F,B){function H(){var W=Q;u(W)&&W.g.parentNode!==null&&B(W.l)}var Q=F;e(F.h,H),e(F.i,H),u(F)}function l(F,B,H){B=B||{},H=H||window,this.family=F,this.style=B.style||"normal",this.weight=B.weight||"normal",this.stretch=B.stretch||"normal",this.context=H}var h=null,p=null,b=null,w=null;function E(F){return p===null&&(T(F)&&/Apple/.test(window.navigator.vendor)?(F=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),p=!!F&&603>parseInt(F[1],10)):p=!1),p}function T(F){return w===null&&(w=!!F.document.fonts),w}function L(F,B){var H=F.style,Q=F.weight;if(b===null){var W=document.createElement("div");try{W.style.font="condensed 100px sans-serif"}catch{}b=W.style.font!==""}return[H,Q,b?F.stretch:"","100px",B].join(" ")}l.prototype.load=function(F,B){var H=this,Q=F||"BESbswy",W=0,se=B||3e3,fe=new Date().getTime();return new Promise(function(oe,ye){if(T(H.context)&&!E(H.context)){var Te=new Promise(function(K,V){function ie(){new Date().getTime()-fe>=se?V(Error(""+se+"ms timeout exceeded")):H.context.document.fonts.load(L(H,'"'+H.family+'"'),Q).then(function(ce){1<=ce.length?K():setTimeout(ie,25)},V)}ie()}),O=new Promise(function(K,V){W=setTimeout(function(){V(Error(""+se+"ms timeout exceeded"))},se)});Promise.race([O,Te]).then(function(){clearTimeout(W),oe(H)},ye)}else n(function(){function K(){var Oe;(Oe=Se!=-1&&j!=-1||Se!=-1&&te!=-1||j!=-1&&te!=-1)&&((Oe=Se!=j&&Se!=te&&j!=te)||(h===null&&(Oe=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),h=!!Oe&&(536>parseInt(Oe[1],10)||parseInt(Oe[1],10)===536&&11>=parseInt(Oe[2],10))),Oe=h&&(Se==ge&&j==ge&&te==ge||Se==Me&&j==Me&&te==Me||Se==Fe&&j==Fe&&te==Fe)),Oe=!Oe),Oe&&(Pe.parentNode!==null&&Pe.parentNode.removeChild(Pe),clearTimeout(W),oe(H))}function V(){if(new Date().getTime()-fe>=se)Pe.parentNode!==null&&Pe.parentNode.removeChild(Pe),ye(Error(""+se+"ms timeout exceeded"));else{var Oe=H.context.document.hidden;(Oe===!0||Oe===void 0)&&(Se=ie.g.offsetWidth,j=ce.g.offsetWidth,te=ee.g.offsetWidth,K()),W=setTimeout(V,50)}}var ie=new r(Q),ce=new r(Q),ee=new r(Q),Se=-1,j=-1,te=-1,ge=-1,Me=-1,Fe=-1,Pe=document.createElement("div");Pe.dir="ltr",o(ie,L(H,"sans-serif")),o(ce,L(H,"serif")),o(ee,L(H,"monospace")),Pe.appendChild(ie.g),Pe.appendChild(ce.g),Pe.appendChild(ee.g),H.context.document.body.appendChild(Pe),ge=ie.g.offsetWidth,Me=ce.g.offsetWidth,Fe=ee.g.offsetWidth,V(),c(ie,function(Oe){Se=Oe,K()}),o(ie,L(H,'"'+H.family+'",sans-serif')),c(ce,function(Oe){j=Oe,K()}),o(ce,L(H,'"'+H.family+'",serif')),c(ee,function(Oe){te=Oe,K()}),o(ee,L(H,'"'+H.family+'",monospace'))})})},t.exports=l})()})(Ym);var OE=Ym.exports;const NE=Xo(OE);function Ed(t){console.log("[dev]",...t)}function $E(t){return new Promise(e=>{const n=new FileReader;t instanceof Blob?n.readAsDataURL(t):n.readAsDataURL(new Blob([t])),n.onload=function(){e(this.result)},n.onerror=r=>{A2("Failed to get base64","")}})}function BE(t,e){Ye.forEach(e,r=>{r.subset.charCodeList=[],r.subset.charMap={}});const n={};return Ye.forEach(t,r=>{const{characters:o}=r.textData,u=r.fontName.fullname;n[u]=!0;const c=e[u];if(c)for(let l=0;l<o.length;l+=1){const h=o.charCodeAt(l);c.subset.charMap[h]={char:o[l],unicode:h,glyph:null},c.subset.charCodeList.push(h)}}),Ye.forEach(n,(r,o)=>{const u=e[o];if(u){const c=Km(u);u.subset.currentText!==c&&(u.subset.subsetBase64=""),u.subset.currentText=c}}),n}function Km(t){return Ye.sortBy(Ye.uniq(t.subset.charCodeList)).map(e=>t.subset.charMap[e].char).filter(e=>e!==`
`).join("")}function DE(t,e,n){return Promise.all(Object.keys(e).map(r=>new Promise(o=>{const u=n[r];u?u.subset.subsetBase64?o(""):GE(t,r,n).then(()=>{o("")}):o("")})))}function GE(t,e,n){const r=t.props.getRootStore().fontMap[e],o=n[r.fontName],u=Km(o);return t.props.getRootStore().getFontSubsetFileFromBackend({src:r.woff2FileUrl||r.ttfURL,chars:u}).then(c=>(o.subset.subsetBase64=c,c))}const Ui={};function UE(t,e){return t.props.getRootStore().fontMap[e]||null}function WE(t){return Ui[t]||null}async function HE(t,e){const n=UE(t,e);if(WE(e)||(Ui[e]={styleTagReady:!1,parsed:null,newFont:null,subset:{charMap:{},charCodeList:[],currentText:"",subsetBase64:""},base64String:"",fontkitFont:null,fontkitString:""}),n.fontFaceReady===!0)return"";n.fontFaceReady=!0;const r=o=>{n.fontFaceReady=!1};return VE(n).then(()=>(Ed([`Loading ${e}`]),Qm(n),"")).catch(o=>{throw r(),new Error(`Failed to ensure font ${n.fontName}`)})}async function Qm(t){const{fontName:e}=t,n=t.woff2FileUrl||t.ttfURL;return zE(n).then(r=>{Ui[e].base64String=r})}function zE(t){return jE(t).then(e=>e.blob()).then(e=>$E(e))}function jE(t){return fetch(t,{method:"GET"})}async function VE(t,e){const{fontName:n}=t,r=Ui[n];if(r.styleTagReady)return"";const o=document.createElement("style");let u=t.woff2FileUrl||t.ttfURL;const c=new NE(Ad(n));return o.setAttribute("data-font-name",n),o.setAttribute("id",n),o.innerHTML=Sf(n,u),document.getElementsByTagName("head")[0].appendChild(o),c.load(null,60*60*1e3).then(()=>(r.styleTagReady=!0,"")).catch(l=>{throw new Error(l.message)})}function Ad(t){return t.replace(/\./g,"")}async function qk(t,e){const n=BE(e,Ui);await DE(t,n,Ui),Ed([Ui,n])}function Sf(t,e){return`@font-face {
    font-family: "${Ad(t)}";
    font-display: swap;
    src:url('${e}') format('truetype');
  }`}async function Jk(t,e,n){if(n==="")return"";const r=Ui[n];if(r.subset.subsetBase64)return Sf(n,r.subset.subsetBase64);r||(Ed([`${n} is not initialized yet.`,Ui]),await HE(t,n));{if(!r.base64String){const o=t.props.getRootStore().fontMap[n];await Qm(o)}return Sf(n,r.base64String)}}const XE="break-word";let di=1;function YE(){return di}const Nr={textContainer:null,divElement:null};typeof window<"u"&&(Nr.textContainer=document.createElement("div"),Nr.textContainer.style.cssText+=["position: fixed;","left: 0;","top: 0;","overflow: hidden;"].join(""),document.body.appendChild(Nr.textContainer),Nr.divElement=document.createElement("div"),Nr.divElement.style.cssText+=["position: fixed;","left: 0;","top: 0;","visibility: hidden;","pointer-events: none;","z-index: 1000;"].join(""),Nr.textContainer.appendChild(Nr.divElement));function KE(t){const e=_2()==="safari"?1:4;return t<12*e?12/t:1/e}function QE(t){di=KE(t.fontSize);const e=t.fontSize*di,n={position:"absolute",left:"0",top:"0",transformOrigin:"0 0",width:`${t.width*di}px`,lineHeight:`${t.lineHeight.value}`,fontFamily:`${Ad(t.fontName.fullname)}`,fontSize:`${e}px`,wordWrap:`${XE}`,fontWeight:`${t.fontWeight==="BOLD"?"bold":"normal"}`,whiteSpace:"pre-wrap",textAlign:t.textAlignHorizontal.toLowerCase(),writingMode:t.writingMode,fontStyle:t.fontStyle==="ITALIC"?"italic":"normal",textDecoration:`${t.textDecoration==="STRIKE_THROUGH"?"line-through":""} ${t.textDecoration==="UNDERLINE"?"underline":""}`,letterSpacing:`${t.letterSpacing.value*di}px`};return n.transform=`scale(${1/di})`,t.writingMode==="horizontal-tb"?(n.width=`${t.width*di}px`,n.height="auto"):(n.width="auto",n.height=`${t.height*di}px`),n}function qm(t){const e=QE(t);return qE(e)}function qE(t){return Object.keys(t).map(n=>`${Ye.kebabCase(n).replace("webkit","-webkit")}: ${t[n]}`).join(";")}function JE(t){if(!Nr.divElement)return{nextWidth:0,nextHeight:0};Nr.divElement.style.cssText+=qm(t),Nr.divElement.innerText=t.textData.characters;let e=t.width,n=t.height;if(t.writingMode==="horizontal-tb"){const r=Os(Nr.divElement);e=t.width,n=r/di}else e=Ns(Nr.divElement)/di,n=t.height;return{nextWidth:e,nextHeight:n}}function ZE(t){const e=[];if(t.textData){const{textData:n}=t;let r=-1e3,o={styleID:-1e3,start:0,end:0};n.characterStyleIDs.forEach((u,c)=>{u!==r?(r=u,o={styleID:u,start:c,end:c},e.push(o)):o.end=c})}return e}function eA({start:t,end:e,textData:n}){const r=[];let o=null;for(let u=t;u<e;u+=1){const c=n.characterStyleIDs[u-1],l=n.characterStyleIDs[u+1],h=n.characterStyleIDs[u];(u===t||h!==c)&&(o={styleID:h,start:u,end:u,prevOne:c,nextOne:void 0}),(u===e-1||h!==l)&&(o.nextOne=l,o.end=u+1,r.push(o))}return r}function Zk({localStore:t,layer:e}){const{start:n,end:r}=t.selectionInfo.textRange$,o={fontName:new Set,fontSize:new Set,fontStyle:new Set,textDecoration:new Set};function u({styleID:c}){var l;if(c!==0){const h=e.textData.styleOverrideTable.find(p=>p.styleID===c);o.fontName.add(((l=h==null?void 0:h.fontName)==null?void 0:l.fullname)||e.fontName.fullname),o.fontSize.add((h==null?void 0:h.fontSize)||e.fontSize),o.fontStyle.add((h==null?void 0:h.fontStyle)||e.fontStyle),o.textDecoration.add((h==null?void 0:h.textDecoration)||e.textDecoration)}else o.fontName.add(e.fontName.fullname),o.fontSize.add(e.fontSize),o.fontStyle.add(e.fontStyle),o.textDecoration.add(e.textDecoration)}if(t.editingText)if(n!==r)eA({start:n,end:r,textData:e.textData}).forEach(l=>{u({styleID:l.styleID})});else{const c=e.textData.characterStyleIDs[n-1]||0;u({styleID:c})}else u({styleID:0});return o}function Ef({Raptor:t,value:e}){return e==="ROUND"?t.StrokeJoin.Round:e==="BEVEL"?t.StrokeJoin.Bevel:t.StrokeJoin.Miter}function Jm({paint:t,Raptor:e,leftTop:n,bottomRight:r}){const o=e.Shader.MakeLinearGradient([.5,n[1]],[.5,r[1]],t.stops.map(u=>new Float32Array(hn(u.color).toFigmaArray())),t.stops.map(u=>u.position),e.TileMode.Decal);return o.deleteLater(),o}function tA({Raptor:t,fileData:e,layer:n}){const r=new t.ParagraphStyle({textStyle:{color:t.BLACK,fontFamilies:[n.fontName.fullname],fontSize:n.fontSize},textAlign:t.TextAlign.Left}),{textStyle:o}=r;if(n.textAlignHorizontal==="LEFT"?r.textAlign=t.TextAlign.Left:n.textAlignHorizontal==="RIGHT"?r.textAlign=t.TextAlign.Right:n.textAlignHorizontal==="CENTER"&&(r.textAlign=t.TextAlign.Center),o&&Zm({Raptor:t,styleData:{...n,fillPaints:[],effects:[]},fileData:e,textStyle:o}),o){const{strutStyle:u}=r;u&&(u.strutEnabled=!0,u.fontFamilies=[n.fontName.fullname],u.fontSize=o.fontSize,u.heightMultiplier=n.lineHeight.value,u.fontStyle&&(n.fontStyle==="ITALIC"?u.fontStyle.slant=t.FontSlant.Italic:u.fontStyle.slant=t.FontSlant.Oblique))}return r}function Zm({Raptor:t,fileData:e,styleData:n,textStyle:r}){var o,u;r!=null&&r.fontStyle&&(n.fontStyle==="ITALIC"?r.fontStyle.slant=t.FontSlant.Italic:r.fontStyle.slant=t.FontSlant.Oblique,n.fontWeight==="BOLD"?r.fontStyle.weight=t.FontWeight.Bold:r.fontStyle.weight=t.FontWeight.Normal,n.textDecoration==="UNDERLINE"?(r.decoration=1,r.decorationStyle=t.DecorationStyle.Solid):r.decoration=0),(o=n.fillPaints)!=null&&o[0]?n.fillPaints[0].type==="SOLID"&&(r.color=[n.fillPaints[0].color.r,n.fillPaints[0].color.g,n.fillPaints[0].color.b,n.fillPaints[0].color.a]):r.color=t.TRANSPARENT,r.halfLeading=!0,n.lineHeight&&(r.heightMultiplier=n.lineHeight.value),(u=n.effects)==null||u.forEach(c=>{if(c.visible&&c.type==="DROP_SHADOW"){const l={blurRadius:e.doScale(c.radius),offset:[e.doScale(c.offset.x),e.doScale(c.offset.y)],color:hn(c.color).toFigmaArray()};r.shadows=[l]}}),r&&(n.fontName&&(r.fontFamilies=[n.fontName.fullname]),n.fontSize&&(r.fontSize=e.doScale(n.fontSize)))}function Af(t){return t.fontSize/5}function ds({Raptor:t,layer:e,paragraph:n,scale:r}){e.textAutoResize==="WIDTH_AND_HEIGHT"&&n.layout((e.width+Af(e))*r),e.textAutoResize==="HEIGHT"&&n.layout(e.width*r)}function nA({Raptor:t,fileData:e,layer:n,persistNewParagraph:r}){var h,p;const o={newParagraph:null,strokeList:[],shadowList:[],fillList:[]},u=ZE(n),c=tA({Raptor:t,fileData:e,layer:n}),l=t.ParagraphBuilder.MakeFromFontProvider(c,e.fontProvider);if(l.deleteLater(),n.textData&&u.length>0){const b=u.map(L=>{const F=n.textData.characters.slice(L.start,L.end+1),B=n.textData.styleOverrideTable.find(Q=>Q.styleID===L.styleID),H=new t.TextStyle({});return Zm({Raptor:t,fileData:e,styleData:{...n,...B},textStyle:H}),{start:L.start,end:L.end,blockStyle:H,text:F,fillPaints:(B==null?void 0:B.fillPaints)||n.fillPaints||[]}});l.reset(),b.forEach(L=>{L.blockStyle.shadows=void 0,l.pushStyle(L.blockStyle),l.addText(L.text)});const w=l.build();ds({Raptor:t,layer:n,paragraph:w,scale:e.scale}),r||w.deleteLater(),o.newParagraph=w;let E=0;n.fillPaints.length>E&&(E=n.fillPaints.length),n.textData.styleOverrideTable.forEach(L=>{L.fillPaints&&L.fillPaints.length>E&&(E=L.fillPaints.length)});for(let L=0;L<E;L+=1){l.reset(),b.forEach(B=>{const H=B.fillPaints[L],Q=new t.Paint;if(Q.deleteLater(),Q.setAntiAlias(!0),H&&H.visible){if(H.type==="SOLID"&&Q.setColor(hn(H.color).toFigmaArray()),H.type==="GRADIENT_LINEAR"){const se=w.getHeight(),fe=w.getMaxWidth(),oe=Jm({Raptor:t,leftTop:[0,0],bottomRight:[fe,se],paint:H});Q.setShader(oe)}}else Q.setColor(t.TRANSPARENT);const W=new t.Paint;W.deleteLater(),W.setStyle(t.PaintStyle.Fill),W.setColor(t.TRANSPARENT),l.pushPaintStyle(B.blockStyle,Q,W),l.addText(B.text)});const F=l.build();F.deleteLater(),ds({Raptor:t,layer:n,paragraph:F,scale:e.scale}),o.fillList.push({paragraph:F})}const T=n.strokePaints.length>0?n.strokeWeight:0;(h=n.strokePaints)==null||h.forEach(L=>{if(L.visible){l.reset(),b.forEach(B=>{B.blockStyle.shadows=void 0;const H=new t.Paint;H.deleteLater(),L.type==="SOLID"?H.setColor([L.color.r,L.color.g,L.color.b,L.color.a]):L.type==="GRADIENT_LINEAR"&&H.setColor(hn(L.stops[0].color).toFigmaArray()),H.setAntiAlias(!0),H.setStyle(t.PaintStyle.Stroke),H.setStrokeJoin(Ef({Raptor:t,value:n.strokeJoin})),n.strokeAlign==="CENTER"?H.setStrokeWidth(e.doScale(T)):n.strokeAlign==="INSIDE"?(H.setStrokeWidth(e.doScale(T*2)),H.setBlendMode(t.BlendMode.SrcATop)):n.strokeAlign==="OUTSIDE"&&(H.setStrokeWidth(e.doScale(T*2)),H.setBlendMode(t.BlendMode.DstATop));const Q=new t.Paint;Q.deleteLater(),Q.setStyle(t.PaintStyle.Fill),Q.setColor(t.TRANSPARENT),l.pushPaintStyle(B.blockStyle,H,Q),l.addText(B.text)});const F=l.build();ds({Raptor:t,layer:n,paragraph:F,scale:e.scale}),F.deleteLater(),o.strokeList.push({paragraph:F})}}),(p=n.effects)==null||p.forEach(L=>{if(L&&L.visible===!0&&L.type==="DROP_SHADOW"){l.reset(),b.forEach(H=>{H.blockStyle.shadows=void 0;const Q=new t.Paint;Q.deleteLater(),Q.setColor([L.color.r,L.color.g,L.color.b,L.color.a]),Q.setAntiAlias(!0),Q.setStyle(t.PaintStyle.Fill);const W=new t.Paint;W.deleteLater(),W.setStyle(t.PaintStyle.Fill),W.setColor(t.TRANSPARENT),l.pushPaintStyle(H.blockStyle,Q,W),l.addText(H.text)});const F=l.build();ds({Raptor:t,layer:n,paragraph:F,scale:e.scale}),F.deleteLater(),l.reset(),b.forEach(H=>{H.blockStyle.shadows=void 0;const Q=new t.Paint;Q.deleteLater(),Q.setColor([L.color.r,L.color.g,L.color.b,L.color.a]),Q.setAntiAlias(!0),Q.setStrokeJoin(Ef({Raptor:t,value:n.strokeJoin})),Q.setStyle(t.PaintStyle.Stroke);let W=0;n.strokeAlign==="CENTER"?W=T+L.spread:n.strokeAlign==="OUTSIDE"&&(W=(T+L.spread)*2),Q.setStrokeWidth(e.doScale(W));const se=new t.Paint;se.deleteLater(),se.setStyle(t.PaintStyle.Fill),se.setColor(t.TRANSPARENT),l.pushPaintStyle(H.blockStyle,Q,se),l.addText(H.text)});const B=l.build();ds({Raptor:t,layer:n,paragraph:B,scale:e.scale}),B.deleteLater(),o.shadowList.push({paragraph:F,strokedParagraph:B,offset:{x:L.offset.x,y:L.offset.y},radius:L.radius})}})}return o}function _d({Raptor:t,fileData:e,layer:n,src:r,persistNewParagraph:o}){var p;if(!r)return nA({Raptor:t,fileData:e,layer:n,persistNewParagraph:o});const u={newParagraph:null,strokeList:[],shadowList:[],fillList:[]},{text:c}=r,l=new t.ParagraphStyle({textStyle:{color:t.BLACK}});(p=l.textStyle)!=null&&p.fontStyle&&(n.fontStyle==="ITALIC"?l.textStyle.fontStyle.slant=t.FontSlant.Italic:l.textStyle.fontStyle.slant=t.FontSlant.Oblique,n.fontWeight==="BOLD"?l.textStyle.fontStyle.weight=t.FontWeight.Bold:l.textStyle.fontStyle.weight=t.FontWeight.Normal);const h=e.fontStore.getFontInfo(n.fontName.fullname);if(h&&l.textStyle){l.textStyle.fontFamilies=[h.name],l.textStyle.fontSize=e.doScale(n.fontSize);const{strutStyle:b}=l;if(b&&(b.strutEnabled=!0,b.forceStrutHeight=!0,b.fontFamilies=[h.name],b.fontSize=l.textStyle.fontSize,b.heightMultiplier=n.lineHeight.value,b.fontStyle&&(n.fontStyle==="ITALIC"?b.fontStyle.slant=t.FontSlant.Italic:b.fontStyle.slant=t.FontSlant.Oblique)),h.fontMgr){const w=t.ParagraphBuilder.Make(l,h.fontMgr);w.deleteLater(),w.addText(c);const E=w.build();E.deleteLater(),u.newParagraph=E}}return u}function rA({fileData:t,layer:e,instanceChain:n}){const r=Jt({localStore:t.localStore,layer:e,instanceChain:n}),o={left:0,top:0,width:r.width,height:r.height};if(r.textAutoResize==="NONE")return o;const c=_d({Raptor:t.Raptor,fileData:t,layer:e}).newParagraph;if(c){if(r.textAutoResize==="HEIGHT"){let l=0;c.getLineMetrics().forEach(p=>{l+=p.height}),o.width=r.width,o.height=l/t.scale}else if(r.textAutoResize==="WIDTH_AND_HEIGHT"){c.layout(t.doScale(1e5));let l=0;c.getLineMetrics().forEach(h=>{h.width>l&&(l=h.width)}),o.width=l/t.scale,o.height=c.getHeight()/t.scale}}return o}let e0=null;function e3(t){e0=t}function iA(t,e){return t/1e3*e}function oA(t){return t/1e3+1.2}function aA(t,e){return t==null?void 0:t.map(n=>{const r=n.width*e/128*5;return{...n,width:r}})}function sA(t,e){return t==null?void 0:t.map(n=>({...n,width:n.width*25/512*e}))}function uA(t,e){return t==null?void 0:t.map(n=>({...n,blur:n.blur*e/128*5}))}function t3(t){const e=t,{fontSize:n,lineSpacing:r,letterSpacing:o,textGlow:u=[],textShadow:c=[],textStroke:l=[]}=t;return e.letterSpacing=iA(o,n),e.lineSpacing=oA(r),e.textGlow=sA(u,n),e.textShadow=uA(c,n),e.textStroke=aA(l,n),e}function n3(t,e,n,r=!0){const o={},u=r?YE():1;n.forEach(l=>{if(l.hidden)return;const{color:h}=tf(l.color,"rgba");o.WebkitTextStroke=`${l.width*2*u}px ${h}`});const c=[];return t.forEach(l=>{const{width:h,color:p,hidden:b}=l;b||c.push(`0 0 ${h*u}px ${tf(p,"rgba").color}`)}),e.forEach(l=>{const{color:h,x:p,y:b,blur:w,hidden:E}=l;E||c.push(`${p*u}px ${b*u}px ${w*u}px ${tf(h,"rgba").color}`)}),o.textShadow=c.join(","),o.color="transparent",o}function r3(t){return{color:"transparent"}}function i3(t){const e=e0;e&&e.getEditor()&&(e.getEditor().root.style.cssText=qm(t))}const cA=wc;function wc({localStore:t,layer:e,instanceChain:n,step:r}){let o=0,u=0;const c=ti(t);if(c){const h=rA({fileData:c.fileData,layer:e,instanceChain:n});o=h.width,u=h.height}else{const h=JE(e);o=h.nextWidth,u=h.nextHeight}const l=R2(e,o,u,e.writingMode==="horizontal-tb"?"left":"right");on({localStore:t,node:e,instanceChain:n,nodeSize:{width:o,height:u},data:{left:l.x,top:l.y},step:r})}function lA({localStore:t,layer:e,size:n,containerStackMode:r,instanceChain:o,step:u}){const c={};n==="Fill"?(r==="VERTICAL"?c.stackChildAlignSelf="STRETCH":r==="HORIZONTAL"&&(c.stackChildPrimaryGrow=1),e.nodeType==="TEXT"&&(c.textAutoResize="HEIGHT")):(r==="VERTICAL"?c.stackChildAlignSelf="AUTO":r==="HORIZONTAL"&&(c.stackChildPrimaryGrow=0),n==="Fixed"?(e.nodeType==="TEXT"&&(c.textAutoResize="HEIGHT"),Mn(e)==="HORIZONTAL"?c.stackPrimarySizing="FIXED":Mn(e)==="VERTICAL"&&(c.stackCounterSizing="FIXED")):n==="Hug"&&(e.nodeType==="TEXT"&&(c.textAutoResize="WIDTH_AND_HEIGHT"),Mn(e)==="HORIZONTAL"?c.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE":Mn(e)==="VERTICAL"&&(c.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"))),on({localStore:t,node:e,instanceChain:o,data:c,step:u}),e.nodeType==="TEXT"&&wc({localStore:t,layer:e,step:u,instanceChain:o})}function fA({localStore:t,layer:e,size:n,containerStackMode:r,instanceChain:o,step:u}){const c={};n==="Fill"?r==="HORIZONTAL"?c.stackChildAlignSelf="STRETCH":r==="VERTICAL"&&(c.stackChildPrimaryGrow=1):(r==="VERTICAL"?c.stackChildPrimaryGrow=0:r==="HORIZONTAL"&&(c.stackChildAlignSelf="AUTO"),n==="Fixed"?Mn(e)==="VERTICAL"?c.stackPrimarySizing="FIXED":Mn(e)==="HORIZONTAL"&&(c.stackCounterSizing="FIXED"):n==="Hug"&&(Mn(e)==="VERTICAL"?c.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE":Mn(e)==="HORIZONTAL"&&(c.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"))),on({localStore:t,node:e,instanceChain:o,data:c,step:u})}function dA({localStore:t,layer:e,instanceChain:n}){const r=Jt({localStore:t,layer:e,instanceChain:n});if(e.nodeType==="TEXT"&&r.textAutoResize==="WIDTH_AND_HEIGHT")return"Hug";const o=So(t,e);if(o&&Mn(o)==="VERTICAL"&&r.stackChildAlignSelf==="STRETCH"||o&&Mn(o)==="HORIZONTAL"&&r.stackChildPrimaryGrow===1)return"Fill";if(r.stackMode==="HORIZONTAL"){if(r.stackPrimarySizing==="FIXED")return"Fixed";if(r.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}if(r.stackMode==="VERTICAL"){if(r.stackCounterSizing==="FIXED")return"Fixed";if(r.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}return"Fixed"}function hA({localStore:t,layer:e,instanceChain:n}){const r=Jt({localStore:t,layer:e,instanceChain:n}),o=So(t,e);if(o&&Mn(o)==="HORIZONTAL"&&r.stackChildAlignSelf==="STRETCH"||o&&Mn(o)==="VERTICAL"&&r.stackChildPrimaryGrow===1)return"Fill";if(r.stackMode==="VERTICAL"){if(r.stackPrimarySizing==="FIXED")return"Fixed";if(r.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}if(r.stackMode==="HORIZONTAL"){if(r.stackCounterSizing==="FIXED")return"Fixed";if(r.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}return"Fixed"}function o3(t,e,n){const r={Fill:!1,Hug:!1,Fixed:!0},o=So(t,e),u=Jt({localStore:t,layer:e,instanceChain:n});return o&&Mn(o)!=="NONE"&&u.stackPositioning!=="ABSOLUTE"&&(r.Fill=!0),Mn(e)!=="NONE"&&(r.Hug=!0),e.nodeType==="TEXT"&&(r.Hug=!0),r}function Yp(t){return t.stackMode==="HORIZONTAL"?{start:"left",size:"width",paddingStart:"stackPaddingLeft",paddtinEnd:"stackPaddingRight"}:{start:"top",size:"height",paddingStart:"stackPaddingTop",paddtinEnd:"stackPaddingBottom"}}function Kp(t){return t.stackMode==="HORIZONTAL"?{start:"top",size:"height",paddingStart:"stackPaddingTop",paddtinEnd:"stackPaddingBottom"}:{start:"left",size:"width",paddingStart:"stackPaddingLeft",paddtinEnd:"stackPaddingRight"}}function Cd({localStore:t,layer:e,instanceChain:n,options:r}){const o=[...n];if(e.nodeType==="INSTANCE"&&o[o.length-1]===e&&o.pop(),e.parentId){let u=t.getLayer(e.parentId);if(u&&u.stackMode){if(u.nodeType==="SYMBOL"){let c=o.length-1;for(;c>=0;)o[c].symbolData.symbolID.id===u.id&&(u=o[c]),c-=1}return Cd({localStore:t,layer:u,instanceChain:o,options:r})}}return(e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&e.stackMode?(e.nodeType==="INSTANCE"&&o[o.length-1]!==e&&o.push(e),{layer:e,instanceChain:o}):null}function bc({localStore:t,layer:e,instanceChain:n,step:r,options:o}){n=Gn(n,e);const u=Cd({localStore:t,layer:e,instanceChain:n,options:o});u&&xc({localStore:t,layer:u.layer,parent:null,instanceChain:u.instanceChain,data:{},constraintsMap:{},step:r,options:o})}function _f({fileData:t,localStore:e,layer:n,instanceChain:r}){return Fs(t,n).filter(o=>{const u=Jt({localStore:e,layer:o,instanceChain:Gn(r,o)});return!(!u.visible||u.stackPositioning==="ABSOLUTE")}).map(o=>({child:o,childInstanceChain:Gn(r,o),childInfo:Jt({localStore:e,layer:o,instanceChain:Gn(r,o)})}))}function pA({context:t,localStore:e,instanceChain:n,parentInstanceChain:r,parent:o,layer:u,constraintsMap:c,step:l,options:h}){n=Gn(n,u);const p=Jt({localStore:e,layer:u,instanceChain:n});let b=!1,w=!1;p.stackPrimarySizing==="FIXED"&&(b=!0),p.stackCounterSizing==="FIXED"&&(w=!0);const E=Yp(p),T=Kp(p);if(o){const L=Jt({localStore:e,layer:o,instanceChain:r});if(p.stackChildPrimaryGrow===1&&L.stackMode!=="NONE"&&L.stackPrimarySizing!=="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"){const F=Yp(L);let B=L[F.size]-L[F.paddingStart]-L[F.paddtinEnd],H=0;_f({fileData:t.fileData,localStore:e,layer:o,instanceChain:r}).forEach(({childInfo:Q})=>{Q.stackChildPrimaryGrow!==1?B-=Q[F.size]:H+=1,B-=L.stackSpacing}),B+=L.stackSpacing,on({localStore:e,node:u,instanceChain:n,nodeSize:{[F.size]:B/H},step:l}),F.start===E.start?b=!0:w=!0}if(p.stackChildAlignSelf==="STRETCH"){const F=Kp(L);L.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"||(on({localStore:e,node:u,instanceChain:n,nodeSize:{[F.size]:L[F.size]-L[F.paddingStart]-L[F.paddtinEnd]},step:l}),F.start===E.start?b=!0:w=!0)}}if(p.stackMode!=="NONE"){if(u.nodeType==="FRAME"||u.nodeType==="SYMBOL"||u.nodeType==="INSTANCE"){const L=_f({localStore:e,fileData:t.fileData,layer:u,instanceChain:n});let F=0,B=0,H=0;const Q=(L.length-1)*p.stackSpacing;if(L.forEach(({child:W,childInfo:se,childInstanceChain:fe})=>{xc({localStore:e,parent:u,layer:W,instanceChain:fe,data:{},constraintsMap:c,step:l,options:h}),se[T.size]>F&&(F=se[T.size]),H+=se[E.size]}),b===!1&&p.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&p.stackPrimaryAlignItems!=="SPACE_EVENLY"&&(on({localStore:e,node:u,instanceChain:n,nodeSize:{[E.size]:p[E.paddingStart]+p[E.paddtinEnd]+H+Q},step:l}),b=!0),w===!1&&p.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&(on({localStore:e,node:u,instanceChain:n,nodeSize:{[T.size]:F+p[T.paddingStart]+p[T.paddtinEnd]},step:l}),w=!0),p.stackPrimaryAlignItems==="SPACE_EVENLY"){let W=p[E.paddingStart];B=p[E.size]-p[E.paddingStart]-p[E.paddtinEnd],L.forEach(({childInfo:se})=>{B-=se[E.size]}),L.length>=2&&(B/=L.length-1),L.forEach(({child:se,childInfo:fe,childInstanceChain:oe},ye)=>{on({localStore:e,node:se,instanceChain:oe,data:{[E.start]:W},step:l}),W+=fe[E.size],ye<L.length-1&&(W+=B)})}else if(p.stackPrimaryAlignItems==="CENTER"&&b){let W=p[E.paddingStart];W+=(p[E.size]-p[E.paddingStart]-p[E.paddtinEnd]-H-Q)/2,L.forEach(({child:se,childInfo:fe,childInstanceChain:oe})=>{on({localStore:e,node:se,instanceChain:oe,data:{[E.start]:W},step:l}),W+=fe[E.size],W+=p.stackSpacing})}else if(p.stackPrimaryAlignItems==="MAX"){let W=p[E.size]-p[E.paddingStart]-H-Q;L.forEach(({child:se,childInfo:fe,childInstanceChain:oe})=>{on({localStore:e,node:se,instanceChain:n,data:{[E.start]:W},step:l}),W+=fe[E.size],W+=p.stackSpacing})}else{let W=p[E.paddingStart];L.forEach(({child:se,childInfo:fe,childInstanceChain:oe})=>{on({localStore:e,node:se,instanceChain:oe,data:{[E.start]:W},step:l}),W+=fe[E.size],W+=p.stackSpacing})}L.forEach(({child:W,childInfo:se,childInstanceChain:fe})=>{p.stackCounterAlignItems==="CENTER"?on({localStore:e,node:W,instanceChain:fe,data:{[T.start]:(p[T.size]-se[T.size])/2},step:l}):p.stackCounterAlignItems==="MAX"?on({localStore:e,node:W,instanceChain:n,data:{[T.start]:p[T.size]-p[T.paddtinEnd]-se[T.size]},step:l}):on({localStore:e,node:W,instanceChain:n,data:{[T.start]:p[T.paddingStart]},step:l})})}}}function xc({localStore:t,layer:e,parent:n,instanceChain:r,constraintsMap:o,data:u,step:c,options:l}){const h=ti(t);if(!h)return;let p=[...r];n!==null&&(p=Gn(p,n)),r=Gn(r,e);const b=Jt({localStore:t,layer:e,instanceChain:r});if(n===null&&xd({localStore:t,layer:e,instanceChain:r,constraintsMap:o}),r[0]&&r[0]===e&&c.update({layer:r[0],data:{derivedSymbolData(w){w.length=0}}}),e.nodeType==="TEXT"&&b.textAutoResize==="WIDTH_AND_HEIGHT"){cA({localStore:t,layer:e,step:c,instanceChain:r});return}if(on({localStore:t,node:e,instanceChain:r,nodeSize:{width:u.width,height:u.height},data:{left:u.left,top:u.top},step:c}),e.nodeType!=="SECTION"&&(pA({context:h,localStore:t,instanceChain:r,parent:n,parentInstanceChain:p,layer:e,constraintsMap:o,step:c,options:l}),e.nodeType==="TEXT"&&wc({localStore:t,layer:e,step:c,instanceChain:r}),t0({localStore:t,room:e,instanceChain:r,map:o,step:c}),e.nodeType==="SYMBOL")){const w=bd(h.fileData,e),E={};Ye.forEach(w,T=>{const L=Cd({localStore:t,layer:T,instanceChain:[]});L&&(E[L.instanceChain.map(F=>F.id).join("--")]=L)}),Ye.forEach(E,T=>{bc({localStore:t,layer:T.layer,instanceChain:T.instanceChain,step:c})})}}function gA(t,e,n,r){var u,c;const o=ti(t);if(o&&Im(e)){const l=Gn([],e),h={};if(e.stackMode==="HORIZONTAL"&&n==="VERTICAL"||e.stackMode==="VERTICAL"&&n==="HORIZONTAL"){const p=e.stackPrimarySizing,b=e.stackCounterSizing;e.children.forEach(w=>{const E=Gn(l,w),T=dA({localStore:t,layer:w,instanceChain:E}),L=hA({localStore:t,layer:w,instanceChain:E});lA({localStore:t,layer:w,size:T,containerStackMode:n,instanceChain:E,step:r}),fA({localStore:t,layer:w,size:L,containerStackMode:n,step:r,instanceChain:E})}),h.stackPrimarySizing=b,h.stackCounterSizing=p,e.stackPrimaryAlignItems==="SPACE_EVENLY"?(h.stackPrimaryAlignItems="SPACE_EVENLY",h.stackCounterAlignItems="MIN"):(h.stackPrimaryAlignItems=e.stackCounterAlignItems,h.stackCounterAlignItems=e.stackPrimaryAlignItems)}h.stackMode=n,on({localStore:t,node:e,instanceChain:l,data:h,step:r}),bc({localStore:t,layer:e,instanceChain:l,step:r}),(c=(u=t.props).doAction)==null||c.call(u,r.getNewAction()),e.nodeType==="SYMBOL"&&uE(o,e,p=>{gA(t,p,n,r)})}}function a3({localStore:t,layer:e,value:n,instanceChain:r,step:o}){var u,c;if(Mn(e)!=="NONE"){if(n==="SPACE_EVENLY"){const l={stackPrimaryAlignItems:"SPACE_EVENLY"};e.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&(l.stackPrimarySizing="FIXED"),on({localStore:t,node:e,instanceChain:r,step:o,data:l})}else on({localStore:t,node:e,instanceChain:r,step:o,data:{stackPrimaryAlignItems:"MIN",stackSpacing:n}});bc({localStore:t,layer:e,instanceChain:r,step:o}),(c=(u=t.props).doAction)==null||c.call(u,o.getNewAction())}}function t0({localStore:t,room:e,instanceChain:n,map:r,step:o}){const u=t.getFigma();u&&(n=Gn(n,e),Fs(u.context.fileData,e).forEach(c=>{const l=r[c.id];if(c&&l&&e){const h=mc({localStore:t,layer:e,instanceChain:n}),p={};typeof l.left=="number"&&typeof l.right=="number"?(p.left=l.left,p.width=h.width-l.left-l.right):typeof l.right=="number"?p.left=h.width-l.right-c.width:typeof l.left=="number"&&(p.left=l.left),typeof l.top=="number"&&typeof l.bottom=="number"?(p.top=l.top,p.height=h.height-l.top-l.bottom):typeof l.bottom=="number"?p.top=h.height-l.bottom-c.height:typeof l.top=="number"&&(p.top=l.top),xc({localStore:t,layer:c,parent:null,instanceChain:n,data:p,constraintsMap:{},step:o})}}))}function mA({localStore:t,fileData:e,layer:n,step:r,width:o,height:u}){const c=bd(e,n);Ye.forEach(c,l=>{let h=!1;if(n.width.toFixed(1)===l.width.toFixed(1)&&n.height.toFixed(1)===l.height.toFixed(1)?h=!1:h=!0,h){const{left:p,top:b}=gc({width:o,height:u,t:Kn(l)});r.update({layer:l,data:{left:p,top:b,width:o,height:u}})}})}function yA({localStore:t,layer:e,left:n,top:r,width:o,height:u,step:c}){const l=ti(t);if(l){const h=Gn([],e);e.nodeType==="SYMBOL"&&mA({localStore:t,fileData:l.fileData,layer:e,width:o,height:u,step:c}),e.nodeType==="INSTANCE"&&on({localStore:t,node:e,instanceChain:h,nodeSize:{width:e.width,height:e.height},step:c,isResizingInstanceManually:!0}),xc({localStore:t,layer:e,parent:null,instanceChain:h,step:c,constraintsMap:{},data:{left:n,top:r,width:o,height:u}})}else on({localStore:t,node:e,nodeSize:{width:o,height:u},data:{left:n,top:r},step:c,instanceChain:[]})}function vA(t){return t.strokeWidth*10}function s3({localStore:t,type:e}){const n={nodeType:"svg",id:om(),guid:t.generateGUID(),parentId:"",name:"",left:0,top:0,width:200,height:20,rotate:0,data:{type:"line",p1:{x:0,y:0},p2:{x:0,y:0},markerEnd:""},stroke:"red",strokeWidth:20,strokeLineJoin:"miter",fill:"transparent",isLocked:!1,visible:!0,shimmerAtApearance:!1,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()}};return e==="rect"&&(n.width=200,n.height=200,n.data={type:"rect"}),n0(n),n}function n0(t){t.data.type==="line"&&(t.height=vA(t),t.data.p1.x=0,t.data.p1.y=t.height/2,t.data.p2.x=t.width,t.data.p2.y=t.height/2),t.data.type}async function u3(t,e,n){var o,u,c;t.editingText=!1;let r=1;t.selectedSingleLayer?r=Qp(t,t.selectedSingleLayer,e,n):r=Qp(t,t.bunchRectangle,e,n);try{const l=vm(t);if(t.selectedSingleLayer){const h=t.selectedSingleLayer;qp(t,[h],r),wa(t,h,e,r,l),ti(t)&&h.nodeType==="FRAME"&&((o=t.getLayer(h.parentId))==null||o.nodeType),bc({localStore:t,layer:h,instanceChain:[],step:l}),wd(t,h),zm(t,h,{step:l})}else qp(t,t.selectedNormalLayerList,r),wa(t,t.bunchRectangle,e,r,l),t.selectedNormalLayerList.forEach(h=>{h&&wa(t,h,e,r,l)});(c=(u=t.props).doAction)==null||c.call(u,l.getNewAction()),t.layersCanBeScaled=!0}catch(l){t.layersCanBeScaled=!1,console.warn(l)}Xm(t,n)}function Qp(t,e,n,r){const o=t.getPointInContainer(r),u=Gi("rotated",{x:o.x-n.x,y:o.y-n.y},mm(gd(e),n)),{width:c,height:l}=e,h=Math.sqrt(c*c+l*l);return u.x/h}function qp(t,e,n){e.forEach(r=>{r0(t,r,n)})}function r0(t,e,n){if(!(n>1)){if(e.nodeType==="TEXT"){if(e.height*n<5)throw new Error("Incoming text layer height is too small!")}else if(e.width*n<t.options.LAYER_MINIMUN_SIZE||e.height*n<t.options.LAYER_MINIMUN_SIZE)throw new Error("")}e.nodeType==="GROUP"&&e.children&&e.children.forEach(r=>{r0(t,r,n)})}function Td(t,e,n,r,o){const u=gd(e),c={x:u.x-n.x,y:u.y-n.y},l={x:c.x*r+n.x,y:c.y*r+n.y},h=e.width*r,p=e.height*r,b=l.x-h/2,w=l.y-p/2;return e.nodeType==="GROUP"||e.nodeType==="TEXT"?(on({localStore:t,node:e,data:{left:b,top:w},step:o,instanceChain:[]}),on({localStore:t,node:e,step:o,nodeSize:{width:h,height:p},instanceChain:[]})):yA({localStore:t,layer:e,left:b,top:w,width:h,height:p,step:o}),O2(u,l)}function c3(t,e,n,r,o){const u=Td(t,e,n,r,o);(e.nodeType==="IMAGE"||e.nodeType==="ROUNDED_RECTANGLE")&&e.image&&H2(e,u)}function wa(t,e,n,r,o){if(Math.min(e.width*r,e.height*r)>=0){const u=[];e.nodeType==="INSTANCE"&&u.push(e);let c={};if((e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&(c=xd({localStore:t,layer:e,instanceChain:u,constraintsMap:{}})),Td(t,e,n,r,o),e.nodeType==="video"?(e.video.width*=r,e.video.height*=r):e.nodeType==="svg"?n0(e):e.nodeType==="TEXT"&&(o.update({layer:e,data:{fontSize:e.fontSize*r,strokeWeight:e.strokeWeight*r,effects(l){l.forEach(h=>{h.offset.x*=r,h.offset.y*=r,h.spread*=r,h.radius*=r})}}}),wc({localStore:t,layer:e,instanceChain:[],step:o})),e.nodeType==="GROUP"&&e.children.length>0&&e.children.forEach(l=>wa(t,l,n,r,o)),e.nodeType==="IMAGE"&&e.extra.rectList&&e.extra.rectList.length>0&&e.extra.rectList.forEach(l=>wa(t,l,n,r,o)),e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE"){{const l={};e.stackPaddingLeft&&(l.stackPaddingLeft=e.stackPaddingLeft*r),e.stackPaddingRight&&(l.stackPaddingRight=e.stackPaddingRight*r),e.stackPaddingTop&&(l.stackPaddingTop=e.stackPaddingTop*r),e.stackPaddingBottom&&(l.stackPaddingBottom=e.stackPaddingBottom*r),e.stackSpacing&&(l.stackSpacing=e.stackSpacing*r),o.update({layer:e,data:l}),e.children.forEach(h=>{const p=Kn(h),b=jo(p,n),w=h.left*r,E=h.top*r;wa(t,h,b,r,o),o.update({layer:h,data:{left:w,top:E}})})}t0({localStore:t,room:e,map:c,step:o,instanceChain:u})}}}const wA="WorkspaceView";function bA(){return{positionLeft:0,positionTop:0,workspaceScrollLeft:0,workspaceScrollTop:0,pageScale:1,toolsContainerShow:!0,navigatorShow:!1,layerSettingsContent:"main",isPageCenteredAtX:!1,isPageCenteredAtY:!1,scroll:{x:{totalLength:0,viewportLength:0,barStart:0,barLength:0},y:{totalLength:0,viewportLength:0,barStart:0,barLength:0}}}}function l3(t,e){const{workspaceState:n}=t,r=Ns(e),o=Os(e),{width:u,height:c}=t.props.getPageSize(),l=t.getPageScale(),h=r/2+u*l/2-40;n.positionLeft>h?n.positionLeft=h:n.positionLeft<-h&&(n.positionLeft=-h);const p=o/2+c*l/2-40;n.positionTop>p?n.positionTop=p:n.positionTop<-p&&(n.positionTop=-p)}function f3({localStore:t,workspaceState:e,workspaceElement:n,safePadding:r}){const o=n||document.querySelector(`.${wA}`);if(o){const u=t.props.getPageSize(),c=Ns(o),l=Os(o),h=r||60,p=(c-h)/u.width,b=(l-h)/u.height;let w=Math.min(p,b);Number.isNaN(w)&&(w=.3),w<.01&&(w=.01),w>4&&(w=4),e.pageScale=w,e.positionLeft=0,e.positionTop=0}}function xA(t,e,n,r){const o=cm();return o.left=e.left,o.top=e.top,o.width=e.width,o.height=e.height,Td(t,o,n,r,U2()),o}function i0(t,e,n){const{pageMinScale:r,pageMaxScale:o}=t.options;let u=1;return e>0?(u=n*.97,u<r&&(u=r)):e<0&&(u=n*1.03,u>o&&(u=o)),u}function SA(t,e){const n=t.getPageScale(),r=i0(t,e.deltaY,n),{workspaceState:o}=t,u={left:o.positionLeft,top:o.positionTop,width:t.props.getPageSize().width*t.getPageScale(),height:t.props.getPageSize().height*t.getPageScale()},c=e.currentTarget,l=vc(c),h=yc(c),p={x:e.pageX-l-Ns(c)/2,y:e.pageY-h-Os(c)/2},{width:b,height:w}=t.props.getPageSize(),E=o.positionLeft+b*n/2,T=o.positionLeft-b*n/2;p.x>E?p.x=E:p.x<T&&(p.x=T);const L=o.positionTop+w*n/2,F=o.positionTop-w*n/2;p.y>L?p.y=L:p.y<F&&(p.y=F);const B=r*b/(n*b),H=xA(t,u,p,B);o.positionLeft=H.left,o.positionTop=H.top,o.pageScale=r}function d3(t,e){const n=e,{length:r}=Object.keys(t.pointerMap);if(r===1)AA({localStore:t,deltaX:-(n.touches[0].pageX-t.pointerMap[0].current.x),deltaY:-(n.touches[0].pageY-t.pointerMap[0].current.y)});else if(r===2&&n.touches.length===2){const o={x:n.touches[0].pageX,y:n.touches[0].pageY},u={x:n.touches[1].pageX,y:n.touches[1].pageY},c=zp(o,u),l=B2(o,u),h=zp(t.pointerMap[0].current,t.pointerMap[1].current),p=c-h;p!==0&&SA(t,{currentTarget:t.workspaceElement,pageX:l.x,pageY:l.y,deltaY:-p}),t.workspaceElement&&o0({localStore:t,workspace:t.workspaceElement})}for(let o=0;o<n.touches.length;o+=1){const u=n.touches[o];t.pointerMap[o]=t.pointerMap[o]||{start:{x:u.pageX,y:u.pageY},current:{x:0,y:0},deltaX:0,deltaY:0};const c=t.pointerMap[o];c&&(c.deltaX=u.pageX-c.current.x,c.deltaY=u.pageY-c.current.y,c.current={x:u.pageX,y:u.pageY})}}function EA({localStore:t,workspaceState:e,pageWidth:n,pageHeight:r,workspaceWidth:o,workspaceHeight:u}){const{safePadding:c}=t.options,{pageScale:l}=e,h=n*l/2+c-o/2,p=r*l/2+c-u/2;return{minX:-h,maxX:h,minY:-p,maxY:p}}function AA({localStore:t,deltaX:e,deltaY:n}){t.workspaceState.isPageCenteredAtX===!1&&(t.workspaceState.positionLeft-=e),t.workspaceState.isPageCenteredAtY===!1&&(t.workspaceState.positionTop-=n),t.workspaceElement&&o0({localStore:t,workspace:t.workspaceElement})}function o0({localStore:t,workspace:e}){const{workspaceState:n}=t,r=t.getPageScale(),{width:o,height:u}=t.props.getPageSize(),c=Ns(e),l=Os(e),{safePadding:h}=t.options,p=n.positionLeft+c/2-o*r/2,b=c/2-o*r/2-n.positionLeft;p>h&&b>h?(n.positionLeft=0,n.isPageCenteredAtX=!0):(n.isPageCenteredAtX=!1,p>=h?n.positionLeft-=p-h:b>=h&&(n.positionLeft+=b-h));const w=n.positionTop+l/2-u*r/2,E=l/2-u*r/2-n.positionTop;w>h&&E>h?(n.positionTop=0,n.isPageCenteredAtY=!0):(n.isPageCenteredAtY=!1,w>h?n.positionTop-=w-h:E>h&&(n.positionTop+=E-h));const T=EA({localStore:t,workspaceState:n,workspaceWidth:c,workspaceHeight:l,pageWidth:o,pageHeight:u});{n.scroll.x.totalLength=o*r+h*2,n.scroll.x.viewportLength=c;const L=(-n.positionLeft+T.maxX)/(T.maxX*2);n.scroll.x.barLength=n.scroll.x.viewportLength*n.scroll.x.viewportLength/n.scroll.x.totalLength,n.scroll.x.barStart=(n.scroll.x.viewportLength-n.scroll.x.barLength)*L}{n.scroll.y.totalLength=u*r+h*2,n.scroll.y.viewportLength=l;const L=(-n.positionTop+T.maxY)/(T.maxY*2);n.scroll.y.barLength=n.scroll.y.viewportLength*n.scroll.y.viewportLength/n.scroll.y.totalLength,n.scroll.y.barStart=(n.scroll.y.viewportLength-n.scroll.y.barLength)*L}}function h3(t,e,n){const r=t.getPageScale(),o=i0(t,e.deltaY,r),u=e.currentTarget,c=vc(u),l=yc(u),{width:h,height:p}=t.props.getPageSize(),b=e.pageX-c,w=e.pageY-l,E=(b+u.scrollLeft-n)/(h*r),T=(w+u.scrollTop-n)/(p*r),L=o*h*E+n-b,F=o*p*T+n-w;t.workspaceState.pageScale=o,u.scrollLeft=L,u.scrollTop=F}function _A(t,e){let n={x:0,y:0};return t.canvasElement&&(n=Vm(e,t.canvasElement),n.x+=t.viewport.x,n.y+=t.viewport.y,n.x/=t.scale,n.y/=t.scale),n}function a0({localStore:t,canvasElement:e}){const n=t.getPageScale(),r=e.width/window.devicePixelRatio/2+t.workspaceState.positionLeft-t.props.getPageSize().width*n/2,o=e.height/window.devicePixelRatio/2+t.workspaceState.positionTop-t.props.getPageSize().height*n/2;return{left:r,top:o}}function s0(t,e){if(t.libra){let r={x:0,y:0};if(t.libra.canvasElement){const o=a0({localStore:t,canvasElement:t.libra.canvasElement});r=Vm(e,t.libra.canvasElement),r.x-=o.left,r.y-=o.top,r.x/=t.getPageScale(),r.y/=t.getPageScale()}return r}const n=t.getFigma();return n?_A(n.context.fileData,e):t.getPointInPage(e)}function Sc({index:t,textData:e,paragraph:n}){const r=e.characters[t],o=n.getLineMetrics();let u=0;for(let c=0;c<o.length;c+=1){const l=o[c];if(r===`
`){if(l.endIncludingNewline-1===t){u=c;break}if(l.startIndex===t){u=c;break}}else if(t===e.characters.length){u=o.length-1;break}else l.startIndex<=t&&(u=c)}return u}function CA({textData:t,paragraph:e,index:n}){const r={total:t.characters.length,index:n,char:t.characters[n]||"",glyph:e.getGlyphInfoAt(n),lineNumber:0},o=Sc({textData:t,paragraph:e,index:n});return r.lineNumber=o,r}function p3(t,e){var o,u;const n=t.selectedSingleLayer,r=ti(t);if(r&&(n==null?void 0:n.nodeType)==="TEXT"&&n.textData){const c=s0(t,e);if(c){const l=Dm({fileData:r.fileData,info:{type:"layer",layerId:n.id}}),h=jo(l,c);if(r.fileData.paragraphManager.activeParagraph){const p=r.fileData.paragraphManager.activeParagraph;Pd({localStore:t,layer:n,paragraph:p,textData:n.textData,scaledX:r.fileData.doScale(h.x),scaledY:r.fileData.doScale(h.y)});const{start:b}=t.selectionInfo.textRange$,{initialSelectionIndex:w}=t.advancedTextEditor;b>w?(t.selectionInfo.textRange$.start=w,t.selectionInfo.textRange$.end=b+1):b===w?(t.selectionInfo.textRange$.start=b,t.selectionInfo.textRange$.end=b+1):(t.selectionInfo.textRange$.start=b,t.selectionInfo.textRange$.end=w)}(u=(o=t.props).doAction)==null||u.call(o,{type:"RerenderCanvas"})}}}function u0({localStore:t,layer:e,line:n}){let r=n.width;return e.textAlignHorizontal==="RIGHT"?r=e.width*t.getPageScale():e.textAlignHorizontal==="CENTER"&&(r=e.width*t.getPageScale()/2+n.width/2),r}function Pd({localStore:t,layer:e,paragraph:n,scaledX:r,scaledY:o,textData:u}){const c=n.getClosestGlyphInfoAtCoordinate(r,o);if(c){const l=c.graphemeClusterTextRange.start,h=Sc({textData:u,paragraph:n,index:l}),p=n.getLineMetricsAt(h);if(p){const b=u0({layer:e,line:p,localStore:t});if(r>b){let w=p.endIndex;w>=e.textData.characters.length&&e.textData.characters[e.textData.characters.length-1]===`
`&&(w=e.textData.characters.length-1),w<0&&(w=0),t.selectionInfo.textRange$.start=w,t.selectionInfo.textRange$.end=w;return}}t.selectionInfo.textRange$.start=c.graphemeClusterTextRange.start,t.selectionInfo.textRange$.end=c.graphemeClusterTextRange.start}else t.selectionInfo.textRange$.start=u.characters.length,t.selectionInfo.textRange$.end=u.characters.length}function g3({localStore:t,layer:e}){const{start:n}=t.selectionInfo.textRange$,r=ti(t);if(r&&e.textData){const o=r.fileData.paragraphManager.activeParagraph;if(o){const u=Sc({index:n,textData:e.textData,paragraph:o}),c=o.getGlyphInfoAt(n);let l=0;if(c)l=c.graphemeLayoutBounds[0];else{const p=o.getLineMetricsAt(u);p&&(l=p.width)}const h=o.getLineMetricsAt(Math.max(0,u-1));if(h){const p=h.baseline;Pd({localStore:t,layer:e,paragraph:o,textData:e.textData,scaledX:l,scaledY:p})}}}}function m3({localStore:t,layer:e}){const{start:n}=t.selectionInfo.textRange$,r=ti(t);if(r&&e.textData){const o=r.fileData.paragraphManager.activeParagraph;if(o){const u=Sc({index:n,textData:e.textData,paragraph:o});let c=u+1;c>o.getNumberOfLines()-1&&(c=o.getNumberOfLines()-1);const l=o.getGlyphInfoAt(n);if(l){const h=l.graphemeLayoutBounds[0],p=o.getLineMetricsAt(c);if(p){const b=p.baseline;console.log({name:"down",start:n,lineNumber:u,targetLineNumber:c,g:l,line:p,left:h,top:b}),Pd({localStore:t,layer:e,paragraph:o,textData:e.textData,scaledX:h,scaledY:b})}}}}}function Ld({fileData:t,layer:e,Raptor:n,instanceChain:r,options:o}){var l;const u=Jt({localStore:t.localStore,layer:e,instanceChain:r}),c={withStrokes:Jp({layerInfo:u,width:u.width,height:u.height}),withShadow:Jp({layerInfo:u,width:u.width,height:u.height})};return(e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&u.frameMaskDisabled!==!0||Fs(t,e).map(p=>{const b=[...r];p.nodeType==="INSTANCE"&&b.push(p);const w=Jt({localStore:t.localStore,layer:p,instanceChain:b});return{child:p,nextInstanceChain:b,relativeTransform:Kn(w)}}).forEach(({child:p,nextInstanceChain:b,relativeTransform:w})=>{const E=Ld({fileData:t,Raptor:n,layer:p,instanceChain:b,options:o});E.withStrokes=E.withStrokes.map(T=>Ss(w,T)),E.withShadow=E.withShadow.map(T=>Ss(w,T)),c.withStrokes=nf([...c.withStrokes,...E.withStrokes]),c.withShadow=nf([...c.withShadow,...E.withShadow])}),(l=u.effects)==null||l.forEach(h=>{if(h.type==="DROP_SHADOW"&&h.visible&&h.radius>0){const p=h.radius*3,b=Ye.cloneDeep(c.withStrokes);b.forEach((w,E)=>{E===0?(w.x-=p,w.y-=p):E===1?(w.x-=p,w.y+=p):E===2?(w.x+=p,w.y+=p):E===3&&(w.x+=p,w.y-=p),c.withShadow=nf([...c.withShadow,...b])})}}),c}class TA{constructor(e,n){this.lastUpdatedAt=-1,this.pathBoundsList=[],this.instanceMap={},this.relativeTransformDirty=!0,this.relativeTransform=[[1,0,0],[0,1,0],[0,0,1]],this.boundingPointsDirty=!0,this.exportPointsRectDirty=!0,this.fileData=e,this.layer=n}getRelativeTransform(){return this.relativeTransformDirty&&(this.relativeTransform=Kn(this.layer),this.relativeTransformDirty=!1),this.relativeTransform}markDirty(){this.relativeTransformDirty=!0,this.markBoundingPointsDirty(),this.markParentDirty()}markBoundingPointsDirty(){this.boundingPointsDirty=!0,this.exportPointsRectDirty=!0}markParentDirty(){const{parentId:e}=this.layer,n=this.fileData.layerAssetsMap[e];n&&(n.markBoundingPointsDirty(),n.markParentDirty())}}function Jp({width:t,height:e,layerInfo:n}){let r=0,o=0,u=t,c=e;if(n.strokeGeometry.length>0){let h=0;n.strokeAlign==="CENTER"?h=n.strokeWeight/2:n.strokeAlign==="OUTSIDE"&&(h=n.strokeWeight),r=Math.min(r,r-h),o=Math.min(o,o-h),u=Math.max(u,u+h),c=Math.max(c,c+h)}return[{x:r,y:o},{x:r,y:c},{x:u,y:c},{x:u,y:o}]}function c0(t,e){t&&e(t),t.children&&t.children.forEach(n=>{c0(n,e)})}function PA(t,e){c0(e,n=>{t.layerMap[n.id]=n,t.layerAssetsMap[n.id]=new TA(t,n)})}function of(t,e){var o,u;const n=t.getLayer(e);if(n)return n;const r=(u=(o=t.props).getDocumentNode)==null?void 0:u.call(o);return r?r.id===e?r:r.children.find(c=>c.id===e)||null:null}var Md={exports:{}},ba=typeof Reflect=="object"?Reflect:null,Zp=ba&&typeof ba.apply=="function"?ba.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Yu;ba&&typeof ba.ownKeys=="function"?Yu=ba.ownKeys:Object.getOwnPropertySymbols?Yu=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Yu=function(e){return Object.getOwnPropertyNames(e)};function LA(t){console&&console.warn&&console.warn(t)}var l0=Number.isNaN||function(e){return e!==e};function Bt(){Bt.init.call(this)}Md.exports=Bt;Md.exports.once=RA;Bt.EventEmitter=Bt;Bt.prototype._events=void 0;Bt.prototype._eventsCount=0;Bt.prototype._maxListeners=void 0;var eg=10;function Ec(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Bt,"defaultMaxListeners",{enumerable:!0,get:function(){return eg},set:function(t){if(typeof t!="number"||t<0||l0(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");eg=t}});Bt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Bt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||l0(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function f0(t){return t._maxListeners===void 0?Bt.defaultMaxListeners:t._maxListeners}Bt.prototype.getMaxListeners=function(){return f0(this)};Bt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var o=e==="error",u=this._events;if(u!==void 0)o=o&&u.error===void 0;else if(!o)return!1;if(o){var c;if(n.length>0&&(c=n[0]),c instanceof Error)throw c;var l=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw l.context=c,l}var h=u[e];if(h===void 0)return!1;if(typeof h=="function")Zp(h,this,n);else for(var p=h.length,b=m0(h,p),r=0;r<p;++r)Zp(b[r],this,n);return!0};function d0(t,e,n,r){var o,u,c;if(Ec(n),u=t._events,u===void 0?(u=t._events=Object.create(null),t._eventsCount=0):(u.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),u=t._events),c=u[e]),c===void 0)c=u[e]=n,++t._eventsCount;else if(typeof c=="function"?c=u[e]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),o=f0(t),o>0&&c.length>o&&!c.warned){c.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=c.length,LA(l)}return t}Bt.prototype.addListener=function(e,n){return d0(this,e,n,!1)};Bt.prototype.on=Bt.prototype.addListener;Bt.prototype.prependListener=function(e,n){return d0(this,e,n,!0)};function MA(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h0(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=MA.bind(r);return o.listener=n,r.wrapFn=o,o}Bt.prototype.once=function(e,n){return Ec(n),this.on(e,h0(this,e,n)),this};Bt.prototype.prependOnceListener=function(e,n){return Ec(n),this.prependListener(e,h0(this,e,n)),this};Bt.prototype.removeListener=function(e,n){var r,o,u,c,l;if(Ec(n),o=this._events,o===void 0)return this;if(r=o[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(u=-1,c=r.length-1;c>=0;c--)if(r[c]===n||r[c].listener===n){l=r[c].listener,u=c;break}if(u<0)return this;u===0?r.shift():IA(r,u),r.length===1&&(o[e]=r[0]),o.removeListener!==void 0&&this.emit("removeListener",e,l||n)}return this};Bt.prototype.off=Bt.prototype.removeListener;Bt.prototype.removeAllListeners=function(e){var n,r,o;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var u=Object.keys(r),c;for(o=0;o<u.length;++o)c=u[o],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(o=n.length-1;o>=0;o--)this.removeListener(e,n[o]);return this};function p0(t,e,n){var r=t._events;if(r===void 0)return[];var o=r[e];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?kA(o):m0(o,o.length)}Bt.prototype.listeners=function(e){return p0(this,e,!0)};Bt.prototype.rawListeners=function(e){return p0(this,e,!1)};Bt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):g0.call(t,e)};Bt.prototype.listenerCount=g0;function g0(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Bt.prototype.eventNames=function(){return this._eventsCount>0?Yu(this._events):[]};function m0(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function IA(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function kA(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function RA(t,e){return new Promise(function(n,r){function o(c){t.removeListener(e,u),r(c)}function u(){typeof t.removeListener=="function"&&t.removeListener("error",o),n([].slice.call(arguments))}y0(t,e,u,{once:!0}),e!=="error"&&FA(t,o,{once:!0})})}function FA(t,e,n){typeof t.on=="function"&&y0(t,"error",e,n)}function y0(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(u){r.once&&t.removeEventListener(e,o),n(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var OA=Md.exports;function pi(t){if(typeof t!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=t}typeof Symbol<"u"&&(pi.prototype[Symbol.iterator]=function(){return this});pi.of=function(){var t=arguments,e=t.length,n=0;return new pi(function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}})};pi.empty=function(){var t=new pi(function(){return{done:!0}});return t};pi.fromSequence=function(t){var e=0,n=t.length;return new pi(function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}})};pi.is=function(t){return t instanceof pi?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};var Id=pi;const Dr=Xo(Id);var kd={};kd.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";kd.SYMBOL_SUPPORT=typeof Symbol<"u";var NA=Id,v0=kd,$A=v0.ARRAY_BUFFER_SUPPORT,BA=v0.SYMBOL_SUPPORT;function DA(t){return typeof t=="string"||Array.isArray(t)||$A&&ArrayBuffer.isView(t)?NA.fromSequence(t):typeof t!="object"||t===null?null:BA&&typeof t[Symbol.iterator]=="function"?t[Symbol.iterator]():typeof t.next=="function"?t:null}var w0=function(e){var n=DA(e);if(!n)throw new Error("obliterator: target is not iterable nor a valid iterator.");return n},GA=w0,UA=function(e,n){for(var r=arguments.length>1?n:1/0,o=r!==1/0?new Array(r):[],u,c=0,l=GA(e);;){if(c===r)return o;if(u=l.next(),u.done)return c!==n&&(o.length=c),o;o[c++]=u.value}};const b0=Xo(UA);var WA=Id,HA=w0,zA=function(){var e=arguments,n=null,r=-1;return new WA(function(){var u=null;do{if(n===null){if(r++,r>=e.length)return{done:!0};n=HA(e[r])}if(u=n.next(),u.done===!0){n=null;continue}break}while(!0);return u})};const Wi=Xo(zA);function jA(){const t=arguments[0];for(let e=1,n=arguments.length;e<n;e++)if(arguments[e])for(const r in arguments[e])t[r]=arguments[e][r];return t}let Sn=jA;typeof Object.assign=="function"&&(Sn=Object.assign);function Br(t,e,n,r){const o=t._nodes.get(e);let u=null;return o&&(r==="mixed"?u=o.out&&o.out[n]||o.undirected&&o.undirected[n]:r==="directed"?u=o.out&&o.out[n]:u=o.undirected&&o.undirected[n]),u}function Dn(t){return typeof t=="object"&&t!==null}function x0(t){let e;for(e in t)return!1;return!0}function Rr(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function Qr(t,e,n){const r={enumerable:!0,configurable:!0};typeof n=="function"?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function tg(t){return!(!Dn(t)||t.attributes&&!Array.isArray(t.attributes))}function VA(){let t=Math.floor(Math.random()*256)&255;return()=>t++}class Rd extends Error{constructor(e){super(),this.name="GraphError",this.message=e}}class $e extends Rd{constructor(e){super(e),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,$e.prototype.constructor)}}class Re extends Rd{constructor(e){super(e),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Re.prototype.constructor)}}class qe extends Rd{constructor(e){super(e),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,qe.prototype.constructor)}}function S0(t,e){this.key=t,this.attributes=e,this.clear()}S0.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function E0(t,e){this.key=t,this.attributes=e,this.clear()}E0.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function A0(t,e){this.key=t,this.attributes=e,this.clear()}A0.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function Ta(t,e,n,r,o){this.key=e,this.attributes=o,this.undirected=t,this.source=n,this.target=r}Ta.prototype.attach=function(){let t="out",e="in";this.undirected&&(t=e="undirected");const n=this.source.key,r=this.target.key;this.source[t][r]=this,!(this.undirected&&n===r)&&(this.target[e][n]=this)};Ta.prototype.attachMulti=function(){let t="out",e="in";const n=this.source.key,r=this.target.key;this.undirected&&(t=e="undirected");const o=this.source[t],u=o[r];if(typeof u>"u"){o[r]=this,this.undirected&&n===r||(this.target[e][n]=this);return}u.previous=this,this.next=u,o[r]=this,this.target[e][n]=this};Ta.prototype.detach=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][e],delete this.target[r][t]};Ta.prototype.detachMulti=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const _0=0,C0=1,XA=2,T0=3;function ji(t,e,n,r,o,u,c){let l,h,p,b;if(r=""+r,n===_0){if(l=t._nodes.get(r),!l)throw new Re(`Graph.${e}: could not find the "${r}" node in the graph.`);p=o,b=u}else if(n===T0){if(o=""+o,h=t._edges.get(o),!h)throw new Re(`Graph.${e}: could not find the "${o}" edge in the graph.`);const w=h.source.key,E=h.target.key;if(r===w)l=h.target;else if(r===E)l=h.source;else throw new Re(`Graph.${e}: the "${r}" node is not attached to the "${o}" edge (${w}, ${E}).`);p=u,b=c}else{if(h=t._edges.get(r),!h)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`);n===C0?l=h.source:l=h.target,p=o,b=u}return[l,p,b]}function YA(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);return c.attributes[l]}}function KA(t,e,n){t.prototype[e]=function(r,o){const[u]=ji(this,e,n,r,o);return u.attributes}}function QA(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);return c.attributes.hasOwnProperty(l)}}function qA(t,e,n){t.prototype[e]=function(r,o,u,c){const[l,h,p]=ji(this,e,n,r,o,u,c);return l.attributes[h]=p,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:h}),this}}function JA(t,e,n){t.prototype[e]=function(r,o,u,c){const[l,h,p]=ji(this,e,n,r,o,u,c);if(typeof p!="function")throw new $e(`Graph.${e}: updater should be a function.`);const b=l.attributes,w=p(b[h]);return b[h]=w,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:h}),this}}function ZA(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);return delete c.attributes[l],this.emit("nodeAttributesUpdated",{key:c.key,type:"remove",attributes:c.attributes,name:l}),this}}function e_(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);if(!Dn(l))throw new $e(`Graph.${e}: provided attributes are not a plain object.`);return c.attributes=l,this.emit("nodeAttributesUpdated",{key:c.key,type:"replace",attributes:c.attributes}),this}}function t_(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);if(!Dn(l))throw new $e(`Graph.${e}: provided attributes are not a plain object.`);return Sn(c.attributes,l),this.emit("nodeAttributesUpdated",{key:c.key,type:"merge",attributes:c.attributes,data:l}),this}}function n_(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);if(typeof l!="function")throw new $e(`Graph.${e}: provided updater is not a function.`);return c.attributes=l(c.attributes),this.emit("nodeAttributesUpdated",{key:c.key,type:"update",attributes:c.attributes}),this}}const r_=[{name:t=>`get${t}Attribute`,attacher:YA},{name:t=>`get${t}Attributes`,attacher:KA},{name:t=>`has${t}Attribute`,attacher:QA},{name:t=>`set${t}Attribute`,attacher:qA},{name:t=>`update${t}Attribute`,attacher:JA},{name:t=>`remove${t}Attribute`,attacher:ZA},{name:t=>`replace${t}Attributes`,attacher:e_},{name:t=>`merge${t}Attributes`,attacher:t_},{name:t=>`update${t}Attributes`,attacher:n_}];function i_(t){r_.forEach(function({name:e,attacher:n}){n(t,e("Node"),_0),n(t,e("Source"),C0),n(t,e("Target"),XA),n(t,e("Opposite"),T0)})}function o_(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return u.attributes[o]}}function a_(t,e,n){t.prototype[e]=function(r){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+r,c=""+arguments[1];if(o=Br(this,u,c,n),!o)throw new Re(`Graph.${e}: could not find an edge for the given path ("${u}" - "${c}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return o.attributes}}function s_(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return u.attributes.hasOwnProperty(o)}}function u_(t,e,n){t.prototype[e]=function(r,o,u){let c;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+r,h=""+o;if(o=arguments[2],u=arguments[3],c=Br(this,l,h,n),!c)throw new Re(`Graph.${e}: could not find an edge for the given path ("${l}" - "${h}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,c=this._edges.get(r),!c)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return c.attributes[o]=u,this.emit("edgeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:o}),this}}function c_(t,e,n){t.prototype[e]=function(r,o,u){let c;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+r,h=""+o;if(o=arguments[2],u=arguments[3],c=Br(this,l,h,n),!c)throw new Re(`Graph.${e}: could not find an edge for the given path ("${l}" - "${h}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,c=this._edges.get(r),!c)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof u!="function")throw new $e(`Graph.${e}: updater should be a function.`);return c.attributes[o]=u(c.attributes[o]),this.emit("edgeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:o}),this}}function l_(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return delete u.attributes[o],this.emit("edgeAttributesUpdated",{key:u.key,type:"remove",attributes:u.attributes,name:o}),this}}function f_(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Dn(o))throw new $e(`Graph.${e}: provided attributes are not a plain object.`);return u.attributes=o,this.emit("edgeAttributesUpdated",{key:u.key,type:"replace",attributes:u.attributes}),this}}function d_(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Dn(o))throw new $e(`Graph.${e}: provided attributes are not a plain object.`);return Sn(u.attributes,o),this.emit("edgeAttributesUpdated",{key:u.key,type:"merge",attributes:u.attributes,data:o}),this}}function h_(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof o!="function")throw new $e(`Graph.${e}: provided updater is not a function.`);return u.attributes=o(u.attributes),this.emit("edgeAttributesUpdated",{key:u.key,type:"update",attributes:u.attributes}),this}}const p_=[{name:t=>`get${t}Attribute`,attacher:o_},{name:t=>`get${t}Attributes`,attacher:a_},{name:t=>`has${t}Attribute`,attacher:s_},{name:t=>`set${t}Attribute`,attacher:u_},{name:t=>`update${t}Attribute`,attacher:c_},{name:t=>`remove${t}Attribute`,attacher:l_},{name:t=>`replace${t}Attributes`,attacher:f_},{name:t=>`merge${t}Attributes`,attacher:d_},{name:t=>`update${t}Attributes`,attacher:h_}];function g_(t){p_.forEach(function({name:e,attacher:n}){n(t,e("Edge"),"mixed"),n(t,e("DirectedEdge"),"directed"),n(t,e("UndirectedEdge"),"undirected")})}const m_=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function y_(t,e,n,r){let o=!1;for(const u in e){if(u===r)continue;const c=e[u];if(o=n(c.key,c.attributes,c.source.key,c.target.key,c.source.attributes,c.target.attributes,c.undirected),t&&o)return c.key}}function v_(t,e,n,r){let o,u,c,l=!1;for(const h in e)if(h!==r){o=e[h];do{if(u=o.source,c=o.target,l=n(o.key,o.attributes,u.key,c.key,u.attributes,c.attributes,o.undirected),t&&l)return o.key;o=o.next}while(o!==void 0)}}function af(t,e){const n=Object.keys(t),r=n.length;let o,u=0;return new Dr(function(){do if(o)o=o.next;else{if(u>=r)return{done:!0};const l=n[u++];if(l===e){o=void 0;continue}o=t[l]}while(!o);return{done:!1,value:{edge:o.key,attributes:o.attributes,source:o.source.key,target:o.target.key,sourceAttributes:o.source.attributes,targetAttributes:o.target.attributes,undirected:o.undirected}}})}function w_(t,e,n,r){const o=e[n];if(!o)return;const u=o.source,c=o.target;if(r(o.key,o.attributes,u.key,c.key,u.attributes,c.attributes,o.undirected)&&t)return o.key}function b_(t,e,n,r){let o=e[n];if(!o)return;let u=!1;do{if(u=r(o.key,o.attributes,o.source.key,o.target.key,o.source.attributes,o.target.attributes,o.undirected),t&&u)return o.key;o=o.next}while(o!==void 0)}function sf(t,e){let n=t[e];return n.next!==void 0?new Dr(function(){if(!n)return{done:!0};const r={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:r}}):Dr.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function x_(t,e){if(t.size===0)return[];if(e==="mixed"||e===t.type)return typeof Array.from=="function"?Array.from(t._edges.keys()):b0(t._edges.keys(),t._edges.size);const n=e==="undirected"?t.undirectedSize:t.directedSize,r=new Array(n),o=e==="undirected",u=t._edges.values();let c=0,l,h;for(;l=u.next(),l.done!==!0;)h=l.value,h.undirected===o&&(r[c++]=h.key);return r}function P0(t,e,n,r){if(e.size===0)return;const o=n!=="mixed"&&n!==e.type,u=n==="undirected";let c,l,h=!1;const p=e._edges.values();for(;c=p.next(),c.done!==!0;){if(l=c.value,o&&l.undirected!==u)continue;const{key:b,attributes:w,source:E,target:T}=l;if(h=r(b,w,E.key,T.key,E.attributes,T.attributes,l.undirected),t&&h)return b}}function S_(t,e){if(t.size===0)return Dr.empty();const n=e!=="mixed"&&e!==t.type,r=e==="undirected",o=t._edges.values();return new Dr(function(){let c,l;for(;;){if(c=o.next(),c.done)return c;if(l=c.value,!(n&&l.undirected!==r))break}return{value:{edge:l.key,attributes:l.attributes,source:l.source.key,target:l.target.key,sourceAttributes:l.source.attributes,targetAttributes:l.target.attributes,undirected:l.undirected},done:!1}})}function Fd(t,e,n,r,o,u){const c=e?v_:y_;let l;if(n!=="undirected"&&(r!=="out"&&(l=c(t,o.in,u),t&&l)||r!=="in"&&(l=c(t,o.out,u,r?void 0:o.key),t&&l))||n!=="directed"&&(l=c(t,o.undirected,u),t&&l))return l}function E_(t,e,n,r){const o=[];return Fd(!1,t,e,n,r,function(u){o.push(u)}),o}function A_(t,e,n){let r=Dr.empty();return t!=="undirected"&&(e!=="out"&&typeof n.in<"u"&&(r=Wi(r,af(n.in))),e!=="in"&&typeof n.out<"u"&&(r=Wi(r,af(n.out,e?void 0:n.key)))),t!=="directed"&&typeof n.undirected<"u"&&(r=Wi(r,af(n.undirected))),r}function Od(t,e,n,r,o,u,c){const l=n?b_:w_;let h;if(e!=="undirected"&&(typeof o.in<"u"&&r!=="out"&&(h=l(t,o.in,u,c),t&&h)||typeof o.out<"u"&&r!=="in"&&(r||o.key!==u)&&(h=l(t,o.out,u,c),t&&h))||e!=="directed"&&typeof o.undirected<"u"&&(h=l(t,o.undirected,u,c),t&&h))return h}function __(t,e,n,r,o){const u=[];return Od(!1,t,e,n,r,o,function(c){u.push(c)}),u}function C_(t,e,n,r){let o=Dr.empty();return t!=="undirected"&&(typeof n.in<"u"&&e!=="out"&&r in n.in&&(o=Wi(o,sf(n.in,r))),typeof n.out<"u"&&e!=="in"&&r in n.out&&(e||n.key!==r)&&(o=Wi(o,sf(n.out,r)))),t!=="directed"&&typeof n.undirected<"u"&&r in n.undirected&&(o=Wi(o,sf(n.undirected,r))),o}function T_(t,e){const{name:n,type:r,direction:o}=e;t.prototype[n]=function(u,c){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];if(!arguments.length)return x_(this,r);if(arguments.length===1){u=""+u;const l=this._nodes.get(u);if(typeof l>"u")throw new Re(`Graph.${n}: could not find the "${u}" node in the graph.`);return E_(this.multi,r==="mixed"?this.type:r,o,l)}if(arguments.length===2){u=""+u,c=""+c;const l=this._nodes.get(u);if(!l)throw new Re(`Graph.${n}:  could not find the "${u}" source node in the graph.`);if(!this._nodes.has(c))throw new Re(`Graph.${n}:  could not find the "${c}" target node in the graph.`);return __(r,this.multi,o,l,c)}throw new $e(`Graph.${n}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function P_(t,e){const{name:n,type:r,direction:o}=e,u="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(p,b,w){if(!(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)){if(arguments.length===1)return w=p,P0(!1,this,r,w);if(arguments.length===2){p=""+p,w=b;const E=this._nodes.get(p);if(typeof E>"u")throw new Re(`Graph.${u}: could not find the "${p}" node in the graph.`);return Fd(!1,this.multi,r==="mixed"?this.type:r,o,E,w)}if(arguments.length===3){p=""+p,b=""+b;const E=this._nodes.get(p);if(!E)throw new Re(`Graph.${u}:  could not find the "${p}" source node in the graph.`);if(!this._nodes.has(b))throw new Re(`Graph.${u}:  could not find the "${b}" target node in the graph.`);return Od(!1,r,this.multi,o,E,b,w)}throw new $e(`Graph.${u}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const c="map"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){const p=Array.prototype.slice.call(arguments),b=p.pop();let w;if(p.length===0){let E=0;r!=="directed"&&(E+=this.undirectedSize),r!=="undirected"&&(E+=this.directedSize),w=new Array(E);let T=0;p.push((L,F,B,H,Q,W,se)=>{w[T++]=b(L,F,B,H,Q,W,se)})}else w=[],p.push((E,T,L,F,B,H,Q)=>{w.push(b(E,T,L,F,B,H,Q))});return this[u].apply(this,p),w};const l="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[l]=function(){const p=Array.prototype.slice.call(arguments),b=p.pop(),w=[];return p.push((E,T,L,F,B,H,Q)=>{b(E,T,L,F,B,H,Q)&&w.push(E)}),this[u].apply(this,p),w};const h="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[h]=function(){let p=Array.prototype.slice.call(arguments);if(p.length<2||p.length>4)throw new $e(`Graph.${h}: invalid number of arguments (expecting 2, 3 or 4 and got ${p.length}).`);if(typeof p[p.length-1]=="function"&&typeof p[p.length-2]!="function")throw new $e(`Graph.${h}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let b,w;p.length===2?(b=p[0],w=p[1],p=[]):p.length===3?(b=p[1],w=p[2],p=[p[0]]):p.length===4&&(b=p[2],w=p[3],p=[p[0],p[1]]);let E=w;return p.push((T,L,F,B,H,Q,W)=>{E=b(E,T,L,F,B,H,Q,W)}),this[u].apply(this,p),E}}function L_(t,e){const{name:n,type:r,direction:o}=e,u="find"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(h,p,b){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return!1;if(arguments.length===1)return b=h,P0(!0,this,r,b);if(arguments.length===2){h=""+h,b=p;const w=this._nodes.get(h);if(typeof w>"u")throw new Re(`Graph.${u}: could not find the "${h}" node in the graph.`);return Fd(!0,this.multi,r==="mixed"?this.type:r,o,w,b)}if(arguments.length===3){h=""+h,p=""+p;const w=this._nodes.get(h);if(!w)throw new Re(`Graph.${u}:  could not find the "${h}" source node in the graph.`);if(!this._nodes.has(p))throw new Re(`Graph.${u}:  could not find the "${p}" target node in the graph.`);return Od(!0,r,this.multi,o,w,p,b)}throw new $e(`Graph.${u}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const c="some"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[c]=function(){const h=Array.prototype.slice.call(arguments),p=h.pop();return h.push((w,E,T,L,F,B,H)=>p(w,E,T,L,F,B,H)),!!this[u].apply(this,h)};const l="every"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[l]=function(){const h=Array.prototype.slice.call(arguments),p=h.pop();return h.push((w,E,T,L,F,B,H)=>!p(w,E,T,L,F,B,H)),!this[u].apply(this,h)}}function M_(t,e){const{name:n,type:r,direction:o}=e,u=n.slice(0,-1)+"Entries";t.prototype[u]=function(c,l){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return Dr.empty();if(!arguments.length)return S_(this,r);if(arguments.length===1){c=""+c;const h=this._nodes.get(c);if(!h)throw new Re(`Graph.${u}: could not find the "${c}" node in the graph.`);return A_(r,o,h)}if(arguments.length===2){c=""+c,l=""+l;const h=this._nodes.get(c);if(!h)throw new Re(`Graph.${u}:  could not find the "${c}" source node in the graph.`);if(!this._nodes.has(l))throw new Re(`Graph.${u}:  could not find the "${l}" target node in the graph.`);return C_(r,o,h,l)}throw new $e(`Graph.${u}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function I_(t){m_.forEach(e=>{T_(t,e),P_(t,e),L_(t,e),M_(t,e)})}const k_=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Ac(){this.A=null,this.B=null}Ac.prototype.wrap=function(t){this.A===null?this.A=t:this.B===null&&(this.B=t)};Ac.prototype.has=function(t){return this.A!==null&&t in this.A||this.B!==null&&t in this.B};function hs(t,e,n,r,o){for(const u in r){const c=r[u],l=c.source,h=c.target,p=l===n?h:l;if(e&&e.has(p.key))continue;const b=o(p.key,p.attributes);if(t&&b)return p.key}}function Nd(t,e,n,r,o){if(e!=="mixed"){if(e==="undirected")return hs(t,null,r,r.undirected,o);if(typeof n=="string")return hs(t,null,r,r[n],o)}const u=new Ac;let c;if(e!=="undirected"){if(n!=="out"){if(c=hs(t,null,r,r.in,o),t&&c)return c;u.wrap(r.in)}if(n!=="in"){if(c=hs(t,u,r,r.out,o),t&&c)return c;u.wrap(r.out)}}if(e!=="directed"&&(c=hs(t,u,r,r.undirected,o),t&&c))return c}function R_(t,e,n){if(t!=="mixed"){if(t==="undirected")return Object.keys(n.undirected);if(typeof e=="string")return Object.keys(n[e])}const r=[];return Nd(!1,t,e,n,function(o){r.push(o)}),r}function ps(t,e,n){const r=Object.keys(n),o=r.length;let u=0;return new Dr(function(){let l=null;do{if(u>=o)return t&&t.wrap(n),{done:!0};const h=n[r[u++]],p=h.source,b=h.target;if(l=p===e?b:p,t&&t.has(l.key)){l=null;continue}}while(l===null);return{done:!1,value:{neighbor:l.key,attributes:l.attributes}}})}function F_(t,e,n){if(t!=="mixed"){if(t==="undirected")return ps(null,n,n.undirected);if(typeof e=="string")return ps(null,n,n[e])}let r=Dr.empty();const o=new Ac;return t!=="undirected"&&(e!=="out"&&(r=Wi(r,ps(o,n,n.in))),e!=="in"&&(r=Wi(r,ps(o,n,n.out)))),t!=="directed"&&(r=Wi(r,ps(o,n,n.undirected))),r}function O_(t,e){const{name:n,type:r,direction:o}=e;t.prototype[n]=function(u){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];u=""+u;const c=this._nodes.get(u);if(typeof c>"u")throw new Re(`Graph.${n}: could not find the "${u}" node in the graph.`);return R_(r==="mixed"?this.type:r,o,c)}}function N_(t,e){const{name:n,type:r,direction:o}=e,u="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(p,b){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;p=""+p;const w=this._nodes.get(p);if(typeof w>"u")throw new Re(`Graph.${u}: could not find the "${p}" node in the graph.`);Nd(!1,r==="mixed"?this.type:r,o,w,b)};const c="map"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(p,b){const w=[];return this[u](p,(E,T)=>{w.push(b(E,T))}),w};const l="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[l]=function(p,b){const w=[];return this[u](p,(E,T)=>{b(E,T)&&w.push(E)}),w};const h="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[h]=function(p,b,w){if(arguments.length<3)throw new $e(`Graph.${h}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let E=w;return this[u](p,(T,L)=>{E=b(E,T,L)}),E}}function $_(t,e){const{name:n,type:r,direction:o}=e,u=n[0].toUpperCase()+n.slice(1,-1),c="find"+u;t.prototype[c]=function(p,b){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;p=""+p;const w=this._nodes.get(p);if(typeof w>"u")throw new Re(`Graph.${c}: could not find the "${p}" node in the graph.`);return Nd(!0,r==="mixed"?this.type:r,o,w,b)};const l="some"+u;t.prototype[l]=function(p,b){return!!this[c](p,b)};const h="every"+u;t.prototype[h]=function(p,b){return!this[c](p,(E,T)=>!b(E,T))}}function B_(t,e){const{name:n,type:r,direction:o}=e,u=n.slice(0,-1)+"Entries";t.prototype[u]=function(c){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return Dr.empty();c=""+c;const l=this._nodes.get(c);if(typeof l>"u")throw new Re(`Graph.${u}: could not find the "${c}" node in the graph.`);return F_(r==="mixed"?this.type:r,o,l)}}function D_(t){k_.forEach(e=>{O_(t,e),N_(t,e),$_(t,e),B_(t,e)})}function Bu(t,e,n,r,o){const u=r._nodes.values(),c=r.type;let l,h,p,b,w,E;for(;l=u.next(),l.done!==!0;){let T=!1;if(h=l.value,c!=="undirected"){b=h.out;for(p in b){w=b[p];do E=w.target,T=!0,o(h.key,E.key,h.attributes,E.attributes,w.key,w.attributes,w.undirected),w=w.next;while(w)}}if(c!=="directed"){b=h.undirected;for(p in b)if(!(e&&h.key>p)){w=b[p];do E=w.target,E.key!==p&&(E=w.source),T=!0,o(h.key,E.key,h.attributes,E.attributes,w.key,w.attributes,w.undirected),w=w.next;while(w)}}n&&!T&&o(h.key,null,h.attributes,null,null,null,null)}}function G_(t,e){const n={key:t};return x0(e.attributes)||(n.attributes=Sn({},e.attributes)),n}function U_(t,e,n){const r={key:e,source:n.source.key,target:n.target.key};return x0(n.attributes)||(r.attributes=Sn({},n.attributes)),t==="mixed"&&n.undirected&&(r.undirected=!0),r}function W_(t){if(!Dn(t))throw new $e('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in t))throw new $e("Graph.import: serialized node is missing its key.");if("attributes"in t&&(!Dn(t.attributes)||t.attributes===null))throw new $e("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function H_(t){if(!Dn(t))throw new $e('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in t))throw new $e("Graph.import: serialized edge is missing its source.");if(!("target"in t))throw new $e("Graph.import: serialized edge is missing its target.");if("attributes"in t&&(!Dn(t.attributes)||t.attributes===null))throw new $e("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in t&&typeof t.undirected!="boolean")throw new $e("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const z_=VA(),j_=new Set(["directed","undirected","mixed"]),ng=new Set(["domain","_events","_eventsCount","_maxListeners"]),V_=[{name:t=>`${t}Edge`,generateKey:!0},{name:t=>`${t}DirectedEdge`,generateKey:!0,type:"directed"},{name:t=>`${t}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:t=>`${t}EdgeWithKey`},{name:t=>`${t}DirectedEdgeWithKey`,type:"directed"},{name:t=>`${t}UndirectedEdgeWithKey`,type:"undirected"}],X_={allowSelfLoops:!0,multi:!1,type:"mixed"};function Y_(t,e,n){if(n&&!Dn(n))throw new $e(`Graph.addNode: invalid attributes. Expecting an object but got "${n}"`);if(e=""+e,n=n||{},t._nodes.has(e))throw new qe(`Graph.addNode: the "${e}" node already exist in the graph.`);const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function rg(t,e,n){const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function L0(t,e,n,r,o,u,c,l){if(!r&&t.type==="undirected")throw new qe(`Graph.${e}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(r&&t.type==="directed")throw new qe(`Graph.${e}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(l&&!Dn(l))throw new $e(`Graph.${e}: invalid attributes. Expecting an object but got "${l}"`);if(u=""+u,c=""+c,l=l||{},!t.allowSelfLoops&&u===c)throw new qe(`Graph.${e}: source & target are the same ("${u}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const h=t._nodes.get(u),p=t._nodes.get(c);if(!h)throw new Re(`Graph.${e}: source node "${u}" not found.`);if(!p)throw new Re(`Graph.${e}: target node "${c}" not found.`);const b={key:null,undirected:r,source:u,target:c,attributes:l};if(n)o=t._edgeKeyGenerator();else if(o=""+o,t._edges.has(o))throw new qe(`Graph.${e}: the "${o}" edge already exists in the graph.`);if(!t.multi&&(r?typeof h.undirected[c]<"u":typeof h.out[c]<"u"))throw new qe(`Graph.${e}: an edge linking "${u}" to "${c}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const w=new Ta(r,o,h,p,l);t._edges.set(o,w);const E=u===c;return r?(h.undirectedDegree++,p.undirectedDegree++,E&&(h.undirectedLoops++,t._undirectedSelfLoopCount++)):(h.outDegree++,p.inDegree++,E&&(h.directedLoops++,t._directedSelfLoopCount++)),t.multi?w.attachMulti():w.attach(),r?t._undirectedSize++:t._directedSize++,b.key=o,t.emit("edgeAdded",b),o}function K_(t,e,n,r,o,u,c,l,h){if(!r&&t.type==="undirected")throw new qe(`Graph.${e}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(r&&t.type==="directed")throw new qe(`Graph.${e}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(l){if(h){if(typeof l!="function")throw new $e(`Graph.${e}: invalid updater function. Expecting a function but got "${l}"`)}else if(!Dn(l))throw new $e(`Graph.${e}: invalid attributes. Expecting an object but got "${l}"`)}u=""+u,c=""+c;let p;if(h&&(p=l,l=void 0),!t.allowSelfLoops&&u===c)throw new qe(`Graph.${e}: source & target are the same ("${u}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let b=t._nodes.get(u),w=t._nodes.get(c),E,T;if(!n&&(E=t._edges.get(o),E)){if((E.source.key!==u||E.target.key!==c)&&(!r||E.source.key!==c||E.target.key!==u))throw new qe(`Graph.${e}: inconsistency detected when attempting to merge the "${o}" edge with "${u}" source & "${c}" target vs. ("${E.source.key}", "${E.target.key}").`);T=E}if(!T&&!t.multi&&b&&(T=r?b.undirected[c]:b.out[c]),T){const Q=[T.key,!1,!1,!1];if(h?!p:!l)return Q;if(h){const W=T.attributes;T.attributes=p(W),t.emit("edgeAttributesUpdated",{type:"replace",key:T.key,attributes:T.attributes})}else Sn(T.attributes,l),t.emit("edgeAttributesUpdated",{type:"merge",key:T.key,attributes:T.attributes,data:l});return Q}l=l||{},h&&p&&(l=p(l));const L={key:null,undirected:r,source:u,target:c,attributes:l};if(n)o=t._edgeKeyGenerator();else if(o=""+o,t._edges.has(o))throw new qe(`Graph.${e}: the "${o}" edge already exists in the graph.`);let F=!1,B=!1;b||(b=rg(t,u,{}),F=!0,u===c&&(w=b,B=!0)),w||(w=rg(t,c,{}),B=!0),E=new Ta(r,o,b,w,l),t._edges.set(o,E);const H=u===c;return r?(b.undirectedDegree++,w.undirectedDegree++,H&&(b.undirectedLoops++,t._undirectedSelfLoopCount++)):(b.outDegree++,w.inDegree++,H&&(b.directedLoops++,t._directedSelfLoopCount++)),t.multi?E.attachMulti():E.attach(),r?t._undirectedSize++:t._directedSize++,L.key=o,t.emit("edgeAdded",L),[o,!0,F,B]}function pa(t,e){t._edges.delete(e.key);const{source:n,target:r,attributes:o}=e,u=e.undirected,c=n===r;u?(n.undirectedDegree--,r.undirectedDegree--,c&&(n.undirectedLoops--,t._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,c&&(n.directedLoops--,t._directedSelfLoopCount--)),t.multi?e.detachMulti():e.detach(),u?t._undirectedSize--:t._directedSize--,t.emit("edgeDropped",{key:e.key,attributes:o,source:n.key,target:r.key,undirected:u})}class Gt extends OA.EventEmitter{constructor(e){if(super(),e=Sn({},X_,e),typeof e.multi!="boolean")throw new $e(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${e.multi}".`);if(!j_.has(e.type))throw new $e(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${e.type}".`);if(typeof e.allowSelfLoops!="boolean")throw new $e(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${e.allowSelfLoops}".`);const n=e.type==="mixed"?S0:e.type==="directed"?E0:A0;Rr(this,"NodeDataClass",n);const r="geid_"+z_()+"_";let o=0;const u=()=>{let c;do c=r+o++;while(this._edges.has(c));return c};Rr(this,"_attributes",{}),Rr(this,"_nodes",new Map),Rr(this,"_edges",new Map),Rr(this,"_directedSize",0),Rr(this,"_undirectedSize",0),Rr(this,"_directedSelfLoopCount",0),Rr(this,"_undirectedSelfLoopCount",0),Rr(this,"_edgeKeyGenerator",u),Rr(this,"_options",e),ng.forEach(c=>Rr(this,c,this[c])),Qr(this,"order",()=>this._nodes.size),Qr(this,"size",()=>this._edges.size),Qr(this,"directedSize",()=>this._directedSize),Qr(this,"undirectedSize",()=>this._undirectedSize),Qr(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),Qr(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),Qr(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),Qr(this,"multi",this._options.multi),Qr(this,"type",this._options.type),Qr(this,"allowSelfLoops",this._options.allowSelfLoops),Qr(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(e){return this._nodes.has(""+e)}hasDirectedEdge(e,n){if(this.type==="undirected")return!1;if(arguments.length===1){const r=""+e,o=this._edges.get(r);return!!o&&!o.undirected}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?r.out.hasOwnProperty(n):!1}throw new $e(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(e,n){if(this.type==="directed")return!1;if(arguments.length===1){const r=""+e,o=this._edges.get(r);return!!o&&o.undirected}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?r.undirected.hasOwnProperty(n):!1}throw new $e(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(e,n){if(arguments.length===1){const r=""+e;return this._edges.has(r)}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?typeof r.out<"u"&&r.out.hasOwnProperty(n)||typeof r.undirected<"u"&&r.undirected.hasOwnProperty(n):!1}throw new $e(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(e,n){if(this.type==="undirected")return;if(e=""+e,n=""+n,this.multi)throw new qe("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const r=this._nodes.get(e);if(!r)throw new Re(`Graph.directedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Re(`Graph.directedEdge: could not find the "${n}" target node in the graph.`);const o=r.out&&r.out[n]||void 0;if(o)return o.key}undirectedEdge(e,n){if(this.type==="directed")return;if(e=""+e,n=""+n,this.multi)throw new qe("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const r=this._nodes.get(e);if(!r)throw new Re(`Graph.undirectedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Re(`Graph.undirectedEdge: could not find the "${n}" target node in the graph.`);const o=r.undirected&&r.undirected[n]||void 0;if(o)return o.key}edge(e,n){if(this.multi)throw new qe("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.edge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Re(`Graph.edge: could not find the "${n}" target node in the graph.`);const o=r.out&&r.out[n]||r.undirected&&r.undirected[n]||void 0;if(o)return o.key}areDirectedNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areDirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.in||n in r.out}areOutNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areOutNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.out}areInNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areInNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.in}areUndirectedNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areUndirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="directed"?!1:n in r.undirected}areNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&(n in r.in||n in r.out)||this.type!=="directed"&&n in r.undirected}areInboundNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areInboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&n in r.in||this.type!=="directed"&&n in r.undirected}areOutboundNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areOutboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&n in r.out||this.type!=="directed"&&n in r.undirected}inDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.inDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree}outDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.outDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.outDegree}directedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.directedDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree}undirectedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.undirectedDegree: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree}inboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.inboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree),r}outboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.outboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.outDegree),r}degree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.degree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree),r}inDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.inDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree-n.directedLoops}outDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.outDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.outDegree-n.directedLoops}directedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.directedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree-n.directedLoops*2}undirectedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree-n.undirectedLoops*2}inboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,o=0;return this.type!=="directed"&&(r+=n.undirectedDegree,o+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree,o+=n.directedLoops),r-o}outboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,o=0;return this.type!=="directed"&&(r+=n.undirectedDegree,o+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.outDegree,o+=n.directedLoops),r-o}degreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.degreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,o=0;return this.type!=="directed"&&(r+=n.undirectedDegree,o+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree,o+=n.directedLoops*2),r-o}source(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.source: could not find the "${e}" edge in the graph.`);return n.source.key}target(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.target: could not find the "${e}" edge in the graph.`);return n.target.key}extremities(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.extremities: could not find the "${e}" edge in the graph.`);return[n.source.key,n.target.key]}opposite(e,n){e=""+e,n=""+n;const r=this._edges.get(n);if(!r)throw new Re(`Graph.opposite: could not find the "${n}" edge in the graph.`);const o=r.source.key,u=r.target.key;if(e===o)return u;if(e===u)return o;throw new Re(`Graph.opposite: the "${e}" node is not attached to the "${n}" edge (${o}, ${u}).`)}hasExtremity(e,n){e=""+e,n=""+n;const r=this._edges.get(e);if(!r)throw new Re(`Graph.hasExtremity: could not find the "${e}" edge in the graph.`);return r.source.key===n||r.target.key===n}isUndirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.isUndirected: could not find the "${e}" edge in the graph.`);return n.undirected}isDirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.isDirected: could not find the "${e}" edge in the graph.`);return!n.undirected}isSelfLoop(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.isSelfLoop: could not find the "${e}" edge in the graph.`);return n.source===n.target}addNode(e,n){return Y_(this,e,n).key}mergeNode(e,n){if(n&&!Dn(n))throw new $e(`Graph.mergeNode: invalid attributes. Expecting an object but got "${n}"`);e=""+e,n=n||{};let r=this._nodes.get(e);return r?(n&&(Sn(r.attributes,n),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:r.attributes,data:n})),[e,!1]):(r=new this.NodeDataClass(e,n),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:n}),[e,!0])}updateNode(e,n){if(n&&typeof n!="function")throw new $e(`Graph.updateNode: invalid updater function. Expecting a function but got "${n}"`);e=""+e;let r=this._nodes.get(e);if(r){if(n){const u=r.attributes;r.attributes=n(u),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:r.attributes})}return[e,!1]}const o=n?n({}):{};return r=new this.NodeDataClass(e,o),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:o}),[e,!0]}dropNode(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.dropNode: could not find the "${e}" node in the graph.`);let r;if(this.type!=="undirected"){for(const o in n.out){r=n.out[o];do pa(this,r),r=r.next;while(r)}for(const o in n.in){r=n.in[o];do pa(this,r),r=r.next;while(r)}}if(this.type!=="directed")for(const o in n.undirected){r=n.undirected[o];do pa(this,r),r=r.next;while(r)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:n.attributes})}dropEdge(e){let n;if(arguments.length>1){const r=""+arguments[0],o=""+arguments[1];if(n=Br(this,r,o,this.type),!n)throw new Re(`Graph.dropEdge: could not find the "${r}" -> "${o}" edge in the graph.`)}else if(e=""+e,n=this._edges.get(e),!n)throw new Re(`Graph.dropEdge: could not find the "${e}" edge in the graph.`);return pa(this,n),this}dropDirectedEdge(e,n){if(arguments.length<2)throw new qe("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new qe("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");e=""+e,n=""+n;const r=Br(this,e,n,"directed");if(!r)throw new Re(`Graph.dropDirectedEdge: could not find a "${e}" -> "${n}" edge in the graph.`);return pa(this,r),this}dropUndirectedEdge(e,n){if(arguments.length<2)throw new qe("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new qe("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const r=Br(this,e,n,"undirected");if(!r)throw new Re(`Graph.dropUndirectedEdge: could not find a "${e}" -> "${n}" edge in the graph.`);return pa(this,r),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const e=this._nodes.values();let n;for(;n=e.next(),n.done!==!0;)n.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(e){return this._attributes[e]}getAttributes(){return this._attributes}hasAttribute(e){return this._attributes.hasOwnProperty(e)}setAttribute(e,n){return this._attributes[e]=n,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}updateAttribute(e,n){if(typeof n!="function")throw new $e("Graph.updateAttribute: updater should be a function.");const r=this._attributes[e];return this._attributes[e]=n(r),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}removeAttribute(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this}replaceAttributes(e){if(!Dn(e))throw new $e("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(e){if(!Dn(e))throw new $e("Graph.mergeAttributes: provided attributes are not a plain object.");return Sn(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this}updateAttributes(e){if(typeof e!="function")throw new $e("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(e,n){if(typeof e!="function")throw new $e("Graph.updateEachNodeAttributes: expecting an updater function.");if(n&&!tg(n))throw new $e("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._nodes.values();let o,u;for(;o=r.next(),o.done!==!0;)u=o.value,u.attributes=e(u.key,u.attributes);this.emit("eachNodeAttributesUpdated",{hints:n||null})}updateEachEdgeAttributes(e,n){if(typeof e!="function")throw new $e("Graph.updateEachEdgeAttributes: expecting an updater function.");if(n&&!tg(n))throw new $e("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._edges.values();let o,u,c,l;for(;o=r.next(),o.done!==!0;)u=o.value,c=u.source,l=u.target,u.attributes=e(u.key,u.attributes,c.key,l.key,c.attributes,l.attributes,u.undirected);this.emit("eachEdgeAttributesUpdated",{hints:n||null})}forEachAdjacencyEntry(e){if(typeof e!="function")throw new $e("Graph.forEachAdjacencyEntry: expecting a callback.");Bu(!1,!1,!1,this,e)}forEachAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new $e("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");Bu(!1,!1,!0,this,e)}forEachAssymetricAdjacencyEntry(e){if(typeof e!="function")throw new $e("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");Bu(!1,!0,!1,this,e)}forEachAssymetricAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new $e("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");Bu(!1,!0,!0,this,e)}nodes(){return typeof Array.from=="function"?Array.from(this._nodes.keys()):b0(this._nodes.keys(),this._nodes.size)}forEachNode(e){if(typeof e!="function")throw new $e("Graph.forEachNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)o=r.value,e(o.key,o.attributes)}findNode(e){if(typeof e!="function")throw new $e("Graph.findNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)if(o=r.value,e(o.key,o.attributes))return o.key}mapNodes(e){if(typeof e!="function")throw new $e("Graph.mapNode: expecting a callback.");const n=this._nodes.values();let r,o;const u=new Array(this.order);let c=0;for(;r=n.next(),r.done!==!0;)o=r.value,u[c++]=e(o.key,o.attributes);return u}someNode(e){if(typeof e!="function")throw new $e("Graph.someNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)if(o=r.value,e(o.key,o.attributes))return!0;return!1}everyNode(e){if(typeof e!="function")throw new $e("Graph.everyNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)if(o=r.value,!e(o.key,o.attributes))return!1;return!0}filterNodes(e){if(typeof e!="function")throw new $e("Graph.filterNodes: expecting a callback.");const n=this._nodes.values();let r,o;const u=[];for(;r=n.next(),r.done!==!0;)o=r.value,e(o.key,o.attributes)&&u.push(o.key);return u}reduceNodes(e,n){if(typeof e!="function")throw new $e("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new $e("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let r=n;const o=this._nodes.values();let u,c;for(;u=o.next(),u.done!==!0;)c=u.value,r=e(r,c.key,c.attributes);return r}nodeEntries(){const e=this._nodes.values();return new Dr(()=>{const n=e.next();if(n.done)return n;const r=n.value;return{value:{node:r.key,attributes:r.attributes},done:!1}})}export(){const e=new Array(this._nodes.size);let n=0;this._nodes.forEach((o,u)=>{e[n++]=G_(u,o)});const r=new Array(this._edges.size);return n=0,this._edges.forEach((o,u)=>{r[n++]=U_(this.type,u,o)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:r}}import(e,n=!1){if(e instanceof Gt)return e.forEachNode((h,p)=>{n?this.mergeNode(h,p):this.addNode(h,p)}),e.forEachEdge((h,p,b,w,E,T,L)=>{n?L?this.mergeUndirectedEdgeWithKey(h,b,w,p):this.mergeDirectedEdgeWithKey(h,b,w,p):L?this.addUndirectedEdgeWithKey(h,b,w,p):this.addDirectedEdgeWithKey(h,b,w,p)}),this;if(!Dn(e))throw new $e("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!Dn(e.attributes))throw new $e("Graph.import: invalid attributes. Expecting a plain object.");n?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}let r,o,u,c,l;if(e.nodes){if(u=e.nodes,!Array.isArray(u))throw new $e("Graph.import: invalid nodes. Expecting an array.");for(r=0,o=u.length;r<o;r++){c=u[r],W_(c);const{key:h,attributes:p}=c;n?this.mergeNode(h,p):this.addNode(h,p)}}if(e.edges){let h=!1;if(this.type==="undirected"&&(h=!0),u=e.edges,!Array.isArray(u))throw new $e("Graph.import: invalid edges. Expecting an array.");for(r=0,o=u.length;r<o;r++){l=u[r],H_(l);const{source:p,target:b,attributes:w,undirected:E=h}=l;let T;"key"in l?(T=n?E?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:E?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,T.call(this,l.key,p,b,w)):(T=n?E?this.mergeUndirectedEdge:this.mergeDirectedEdge:E?this.addUndirectedEdge:this.addDirectedEdge,T.call(this,p,b,w))}}return this}nullCopy(e){const n=new Gt(Sn({},this._options,e));return n.replaceAttributes(Sn({},this.getAttributes())),n}emptyCopy(e){const n=this.nullCopy(e);return this._nodes.forEach((r,o)=>{const u=Sn({},r.attributes);r=new n.NodeDataClass(o,u),n._nodes.set(o,r)}),n}copy(e){if(e=e||{},typeof e.type=="string"&&e.type!==this.type&&e.type!=="mixed")throw new qe(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${e.type}" because this would mean losing information about the current graph.`);if(typeof e.multi=="boolean"&&e.multi!==this.multi&&e.multi!==!0)throw new qe("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof e.allowSelfLoops=="boolean"&&e.allowSelfLoops!==this.allowSelfLoops&&e.allowSelfLoops!==!0)throw new qe("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const n=this.emptyCopy(e),r=this._edges.values();let o,u;for(;o=r.next(),o.done!==!0;)u=o.value,L0(n,"copy",!1,u.undirected,u.key,u.source.key,u.target.key,Sn({},u.attributes));return n}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const e={};this._nodes.forEach((u,c)=>{e[c]=u.attributes});const n={},r={};this._edges.forEach((u,c)=>{const l=u.undirected?"--":"->";let h="",p=u.source.key,b=u.target.key,w;u.undirected&&p>b&&(w=p,p=b,b=w);const E=`(${p})${l}(${b})`;c.startsWith("geid_")?this.multi&&(typeof r[E]>"u"?r[E]=0:r[E]++,h+=`${r[E]}. `):h+=`[${c}]: `,h+=E,n[h]=u.attributes});const o={};for(const u in this)this.hasOwnProperty(u)&&!ng.has(u)&&typeof this[u]!="function"&&typeof u!="symbol"&&(o[u]=this[u]);return o.attributes=this._attributes,o.nodes=e,o.edges=n,Rr(o,"constructor",this.constructor),o}}typeof Symbol<"u"&&(Gt.prototype[Symbol.for("nodejs.util.inspect.custom")]=Gt.prototype.inspect);V_.forEach(t=>{["add","merge","update"].forEach(e=>{const n=t.name(e),r=e==="add"?L0:K_;t.generateKey?Gt.prototype[n]=function(o,u,c){return r(this,n,!0,(t.type||this.type)==="undirected",null,o,u,c,e==="update")}:Gt.prototype[n]=function(o,u,c,l){return r(this,n,!1,(t.type||this.type)==="undirected",o,u,c,l,e==="update")}})});i_(Gt);g_(Gt);I_(Gt);D_(Gt);class M0 extends Gt{constructor(e){const n=Sn({type:"directed"},e);if("multi"in n&&n.multi!==!1)throw new $e("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="directed")throw new $e('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class I0 extends Gt{constructor(e){const n=Sn({type:"undirected"},e);if("multi"in n&&n.multi!==!1)throw new $e("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="undirected")throw new $e('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class $d extends Gt{constructor(e){const n=Sn({multi:!0},e);if("multi"in n&&n.multi!==!0)throw new $e("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(n)}}class k0 extends Gt{constructor(e){const n=Sn({type:"directed",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new $e("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="directed")throw new $e('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class R0 extends Gt{constructor(e){const n=Sn({type:"undirected",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new $e("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="undirected")throw new $e('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}function Pa(t){t.from=function(e,n){const r=Sn({},e.options,n),o=new t(r);return o.import(e),o}}Pa(Gt);Pa(M0);Pa(I0);Pa($d);Pa(k0);Pa(R0);Gt.Graph=Gt;Gt.DirectedGraph=M0;Gt.UndirectedGraph=I0;Gt.MultiGraph=$d;Gt.MultiDirectedGraph=k0;Gt.MultiUndirectedGraph=R0;Gt.InvalidArgumentsGraphError=$e;Gt.NotFoundGraphError=Re;Gt.UsageGraphError=qe;var Q_=function(e){return e!==null&&typeof e=="object"&&typeof e.addUndirectedEdgeWithKey=="function"&&typeof e.dropNode=="function"&&typeof e.multi=="boolean"};function Ko(t){this.graph=t,this.stack=new Array(t.order),this.seen=new Set,this.size=0}Ko.prototype.hasAlreadySeenEverything=function(){return this.seen.size===this.graph.order};Ko.prototype.countUnseenNodes=function(){return this.graph.order-this.seen.size};Ko.prototype.forEachNodeYetUnseen=function(t){var e=this.seen,n=this.graph;n.someNode(function(r,o){if(e.size===n.order)return!0;if(e.has(r))return!1;var u=t(r,o);return!!u})};Ko.prototype.has=function(t){return this.seen.has(t)};Ko.prototype.push=function(t){var e=this.seen.size;return this.seen.add(t),e===this.seen.size?!1:(this.stack[this.size++]=t,!0)};Ko.prototype.pushWith=function(t,e){var n=this.seen.size;return this.seen.add(t),n===this.seen.size?!1:(this.stack[this.size++]=e,!0)};Ko.prototype.pop=function(){if(this.size!==0)return this.stack[--this.size]};var q_=Q_;function J_(t){if(!q_(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!t.order)return[];if(t.type==="undirected")throw new Error("graphology-components: the given graph is undirected");var e=t.nodes(),n=[],r,o;if(!t.size){for(r=0,o=e.length;r<o;r++)n.push([e[r]]);return n}var u=1,c=[],l=[],h=new Map,p=new Set,b,w,E,T=function(L){var F,B=t.outboundNeighbors(L),H;h.set(L,u++),c.push(L),l.push(L);for(var Q=0,W=B.length;Q<W;Q++)if(F=B[Q],h.has(F)){if(H=h.get(F),!p.has(F))for(;h.get(c[c.length-1])>H;)c.pop()}else T(F);if(h.get(c[c.length-1])===h.get(L)){b=[];do w=l.pop(),b.push(w),p.add(w);while(w!==L);n.push(b),c.pop()}};for(r=0,o=e.length;r<o;r++)E=e[r],p.has(E)||T(E);return n}var Z_=J_;function eC({vectorData:t,localStore:e}){var c;const n=e.getFigma(),r=new $d;t.vectorNetwork.vertices.forEach((l,h)=>{r.addNode(h)}),t.vectorNetwork.segments.forEach((l,h)=>{r.addUndirectedEdge(l.start.vertex,l.end.vertex,{})});const o=Z_(r);if((c=e.vectorEditor)==null||c.closedPathList.forEach(l=>{l.delete()}),e.vectorEditor={graph:r,closedPathList:[]},!n)return;const{Raptor:u}=n.context;console.log({componentList:o}),o.forEach(l=>{var h;if(l.length>1){const p=new u.Path;l.reverse(),l.forEach((b,w)=>{const E=t.vectorNetwork.vertices[b],T=t.vectorNetwork.vertices[l[w+1]];if(w===0&&p.moveTo(E.x,E.y),E&&T){const L=tC({vectorData:t,startVid:b,endVid:l[w+1]});L&&(L.start.dx===0&&L.start.dy===0&&L.end.dx===0&&L.end.dy===0?p.lineTo(L.end.x,L.end.dy):p.cubicTo(L.start.x+L.start.dx,L.start.y+L.start.dy,L.end.x+L.end.dx,L.end.y+L.end.dy,L.end.x,L.end.y))}}),p.close(),(h=e.vectorEditor)==null||h.closedPathList.push(p)}})}function tC({vectorData:t,startVid:e,endVid:n}){let r=null;if(t.vectorNetwork.segments.forEach(o=>{`${o.start.vertex}`===e&&`${o.end.vertex}`===n&&(r=o)}),r!==null){const o=t.vectorNetwork.vertices[e],u=t.vectorNetwork.vertices[n];return{start:{x:o.x,y:o.y,dx:r.start.dx,dy:r.start.dy},end:{x:u.x,y:u.y,dx:r.end.dx,dy:r.end.dy}}}return null}function gs({layer:t,normalizedPoint:e}){return t.width===0?e:{x:e.x/t.vectorData.normalizedSize.x*t.width,y:e.y/t.vectorData.normalizedSize.y*t.height}}function y3({layer:t,localPoint:e}){return t.width===0?e:{x:t.vectorData.normalizedSize.x/t.width*e.x,y:t.vectorData.normalizedSize.y/t.height*e.y}}function nC(t){const{vertices:e,segments:n}=t.vectorNetwork;let r=1/0,o=-1/0,u=1/0,c=-1/0;return e.forEach(l=>{r=Math.min(r,l.x),o=Math.max(o,l.x),u=Math.min(u,l.y),c=Math.max(c,l.y)}),n.forEach(l=>{const h=e[l.start.vertex],p=e[l.end.vertex];if(!(l.start.dx===0&&l.start.dy===0&&l.end.dx===0&&l.end.dy===0)){const b=ym(h.x,h.y,h.x+l.start.dx,h.y+l.start.dy,p.x+l.end.dx,p.y+l.end.dy,p.x,p.y);r=Math.min(r,b.min.x),o=Math.max(o,b.max.x),u=Math.min(u,b.min.y),c=Math.max(c,b.max.y)}}),{left:r,right:o,top:u,bottom:c,x:o-r,y:c-u}}function v3(t){const{vertices:e,segments:n}=t.vectorNetwork;let r=0,o=0,u=0,c=0;return e.forEach(l=>{l.x<0&&(r=Math.min(r,l.x)),l.x>0&&(o=Math.max(o,l.x)),l.y<0&&(u=Math.min(u,l.y)),l.y>0&&(c=Math.max(c,l.y))}),n.forEach(l=>{const h=e[l.start.vertex],p=e[l.end.vertex];if(!(l.start.dx===0&&l.start.dy===0&&l.end.dx===0&&l.end.dy===0)){const b=ym(h.x,h.y,h.x+l.start.dx,h.y+l.start.dy,p.x+l.end.dx,p.y+l.end.dy,p.x,p.y);r=Math.min(r,b.min.x),o=Math.max(o,b.max.x),u=Math.min(u,b.min.y),c=Math.max(c,b.max.y)}}),{left:r,right:o,top:u,bottom:c,x:o-r,y:c-u}}function w3({localStore:t,layer:e,step:n}){if((e==null?void 0:e.nodeType)==="vector"&&e.width&&e.height){const r=nC(e.vectorData),o=e.width/e.vectorData.normalizedSize.x,u=e.height/e.vectorData.normalizedSize.y,c=r.x*o,l=r.y*u,h=r.left,p=r.top,b=Kn(e),w=Ss(b,{x:h*o,y:p*u}),E=pm({x:w.x,y:w.y,width:c,height:l,rotate:e.rotate});t.segmentCandidate&&(t.segmentCandidate.startVertex.x-=h,t.segmentCandidate.startVertex.y-=p,t.segmentCandidate.endVertex.x-=h,t.segmentCandidate.endVertex.y-=p),n.update({layer:e,data:{width:c,height:l,left:E.left,top:E.top,vectorData(T){T.vectorNetwork.vertices.forEach(L=>{L.x-=h,L.y-=p}),T.normalizedSize={...r}}}}),eC({vectorData:e.vectorData,localStore:t})}}const rC=20;function b3(t){t.currentStatus="playingTimeline"}function iC(t){if(t.timelineInterval===null){ir(t,{type:"clear"}),t.currentTime>=t.timelineMax&&(t.currentTime=0);let e=new Date().getTime();t.timelineInterval=setInterval(()=>{const n=new Date().getTime();t.currentTime+=n-e,e=n,t.currentTime>=t.timelineMax&&(t.currentTime=t.timelineMax,oC(t))},10)}}function oC(t){t.currentStatus=""}function aC(t){t.timelineInterval!==null&&clearInterval(t.timelineInterval),t.timelineInterval=null}function x3(t,e){e.stopPropagation(),t.currentStatus="movingTimelineNeedle",PE(t,e)}function S3(t,e){const r=(e.pageX-t.pointerX)/rC*1e3;t.currentTime+=r,t.currentTime<0&&(t.currentTime=0),ir(t,{type:"clear"}),Xm(t,e)}function E3(t){var n;const e=(n=t.timeline)==null?void 0:n.entrance;if(e){if(e.type==="slideIn"){if(e.from==="left")return[{translateX:-t.width,opacity:0,duration:0},{translateX:-t.width,opacity:0,duration:0},{translateX:0,opacity:1}];if(e.from==="right")return[{translateX:t.width,opacity:0,duration:0},{translateX:t.width,opacity:0,duration:0},{translateX:0,opacity:1}]}if(e.type==="zoomIn")return[{opacity:0,scaleX:.3,scaleY:.3,scaleZ:.3,duration:0},{opacity:0,scaleX:.3,scaleY:.3,scaleZ:.3,duration:0},{opacity:1,scaleX:1,scaleY:1,scaleZ:1}]}return[]}function A3(t){var n;const e=(n=t.timeline)==null?void 0:n.exit;return e&&e.type==="rotateOut"?[{rotateZ:0,opacity:1,duration:0},{rotateZ:0,opacity:1,duration:0},{rotateZ:"200deg",opacity:0}]:[]}var sC=Object.defineProperty,uC=Object.getOwnPropertyDescriptor,_c=(t,e,n,r)=>{for(var o=r>1?void 0:r?uC(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&sC(e,n,o),o};class Cc{constructor(e,n){this.stepIdIndex=-1,this.maxStepLength=50,this.stepCursor=-1,this.stepList=[],Is(this),this.getState=e,typeof n=="number"&&(this.maxStepLength=n)}save(e){this.stepIdIndex+=1;const n=this.stepIdIndex;this.stepCursor<this.stepList.length-1&&(this.stepList=this.stepList.slice(0,this.stepCursor+1)),this.stepList.push({id:n,...e,resultSnapshot:Ye.cloneDeep(this.getState())}),this.stepCursor+=1,this.stepList.length>this.maxStepLength&&(this.stepList.shift(),this.stepCursor-=1)}undo(){if(this.canUndo){const e=this.stepList[this.stepCursor-1];Object.assign(this.getState(),Ye.cloneDeep(e.resultSnapshot)),this.stepCursor-=1}}redo(){if(this.canRedo){const e=this.stepList[this.stepCursor+1];e&&Object.assign(this.getState(),Ye.cloneDeep(e.resultSnapshot)),this.stepCursor+=1}}record(e){this.save({name:e,redo:()=>{},undo:()=>{}})}cancelRecordsByCursor(e){const n=this.stepList[e];n&&(Object.assign(this.getState(),Ye.cloneDeep(n.resultSnapshot)),this.stepCursor=e,this.stepList.splice(e+1,this.stepList.length-1))}clearRecords(){this.stepList=[],this.stepCursor=-1}get canUndo(){return this.stepCursor>0}get canRedo(){return this.stepCursor<this.stepList.length-1}}_c([We],Cc.prototype,"stepCursor",2);_c([We],Cc.prototype,"stepList",2);_c([mt],Cc.prototype,"canUndo",1);_c([mt],Cc.prototype,"canRedo",1);var cC=Object.defineProperty,lC=Object.getOwnPropertyDescriptor,Bd=(t,e,n,r)=>{for(var o=r>1?void 0:r?lC(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&cC(e,n,o),o};function _3(t){return`clip-path-${t.id}`}class Dd{constructor({localStore:e,getPage:n,getGridCollageInfo:r}){this.activePointDotKey="",this.localStore=e,this.getPage=n,this.getGridCollageInfo=r,Is(this)}get isActive(){return this.getGridCollageInfo().subType==="POLYGONS"}updateActivePointDot(e){const n=this.getPage().pointPercentMap[this.activePointDotKey];Object.assign(n,e),this.getPage().imageLayerList.forEach(r=>{this.updateLayerSize(r)})}get pointMap(){const e={};return Ye.forEach(this.getPage().pointPercentMap,(n,r)=>{e[r]={x:n.x*this.getPage().width,y:n.y*this.getPage().height}}),e}updateLayerSize(e){const n=ks(this.getPointList(e));Object.assign(e,n),_m(this.localStore,e)}getPointList(e){return e.extra.polygonPointIdList.map(n=>n==="leftTop"?{x:0,y:0}:n==="rightTop"?{x:this.getPage().width,y:0}:n==="leftBottom"?{x:0,y:this.getPage().height}:n==="rightBottom"?{x:this.getPage().width,y:this.getPage().height}:this.pointMap[n])}}Bd([mt],Dd.prototype,"isActive",1);Bd([We],Dd.prototype,"activePointDotKey",2);Bd([mt],Dd.prototype,"pointMap",1);function fC(t){return u2({get hasAnchorPoints(){var n;return!(((n=t.selectedSingleLayer)==null?void 0:n.nodeType)==="svg"&&t.selectedSingleLayer.data.type==="line")},get hasTopBottomBar(){return!(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="TEXT"&&t.selectedSingleLayer.writingMode==="horizontal-tb"||t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="svg"&&t.selectedSingleLayer.data.type==="line")},get hasLeftRightBar(){return!(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="TEXT"&&t.selectedSingleLayer.writingMode==="vertical-rl")}})}var dC=Object.defineProperty,hC=Object.getOwnPropertyDescriptor,Tc=(t,e,n,r)=>{for(var o=r>1?void 0:r?hC(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&dC(e,n,o),o};class $s{constructor(e,n){this.maxStepLength=50,this.stepCursor=-1,this.stepList=[],this.localStore=e,Is(this),typeof n=="number"&&(this.maxStepLength=n)}collectLayerMap({nodeMap:e}){const n={};return Object.keys(e).forEach(r=>{var u;if((u=e[r].children)!=null&&u.$value){const c=of(this.localStore,r);c&&c.children.forEach(l=>{l.nodeType!=="CANVAS"&&(n[l.id]=l)})}}),n}undo(){var e,n;if(this.canUndo){const r=this.stepList[this.stepCursor];this.restoreSelectionInfo(r,r.getOldState().selectionInfo);const o=this.collectLayerMap({nodeMap:r.oldState.nodeMap});Object.keys(r.oldState.nodeMap).forEach(u=>{const c=of(this.localStore,u),l=this.localStore.getFigma();c?ig({localStore:this.localStore,fileData:l==null?void 0:l.context.fileData,layer:c,data:r.oldState.nodeMap[u],layerMap:o}):console.log("Node may already be deleted")}),(n=(e=this.localStore.props).doAction)==null||n.call(e,r.getOldAction()),this.stepCursor-=1}}redo(){var e,n;if(this.canRedo){const r=this.stepList[this.stepCursor+1];if(r){this.restoreSelectionInfo(r,r.getNewState().selectionInfo);const o=this.collectLayerMap({nodeMap:r.oldState.nodeMap});Object.keys(r.newState.nodeMap).forEach(u=>{const c=of(this.localStore,u),l=this.localStore.getFigma();c&&ig({localStore:this.localStore,fileData:l==null?void 0:l.context.fileData,layer:c,data:r.newState.nodeMap[u],layerMap:o})}),(n=(e=this.localStore.props).doAction)==null||n.call(e,r.getNewAction()),this.stepCursor+=1}}}restoreSelectionInfo(e,n){n?Object.assign(this.localStore.selectionInfo,Ye.cloneDeep(n)):ir(this.localStore,{type:"clear"})}record(){this.localStore.currentStep!==null&&(this.stepCursor<this.stepList.length-1&&(this.stepList=this.stepList.slice(0,this.stepCursor+1)),this.localStore.currentStep.getNewState().selectionInfo=Ye.cloneDeep(this.localStore.selectionInfo),this.stepList.push(this.localStore.currentStep),this.stepCursor+=1,this.stepList.length>this.maxStepLength&&(this.stepList.shift(),this.stepCursor-=1),console.log(this.localStore.currentStep),this.localStore.currentStep=null)}resetHistory(){this.stepList=[],this.stepCursor=-1}get canUndo(){return this.stepCursor>=0}get canRedo(){return this.stepCursor<this.stepList.length-1}}Tc([We],$s.prototype,"stepCursor",2);Tc([We],$s.prototype,"stepList",2);Tc([mt],$s.prototype,"canUndo",1);Tc([mt],$s.prototype,"canRedo",1);function ig({localStore:t,fileData:e,layer:n,data:r,layerMap:o}){const u=n;Object.keys(r).forEach(c=>{var h,p;const l=c;if(l==="life"){const b=r[l];if(b!=null&&b.$value){if(u.nodeType==="DOCUMENT")b.$value.type==="replacePage"&&(u.children[0]=Ye.cloneDeep(b.$value.newPage));else if(b.$value.type==="createChildren"){const{newLayers:w,isGrouping:E}=b.$value;if(E&&Object.keys(w).length!==1)throw new Error("Fault");if(e)Ye.forEach(w,T=>{const L=Ye.cloneDeep(T);let F=[];E&&(F=L.children.map(B=>B.id),L.children=[]),PA(e,L),E&&(L.children=rf(t,F),L.children.forEach(B=>{B.parentId=L.id}))}),n.children=rf(t,b.$value.children);else{if(n.nodeType==="DOCUMENT")throw new Error;const T=Ye.keyBy(n.children,"id");n.children=b.$value.children.map(L=>{if(T[L])return T[L];if(w[L])return Ye.cloneDeep(w[L]);throw new Error(`child layer ${L} not found`)})}}else if(b.$value.type==="delete"){const{deletedNodes:w,children:E,isGrouping:T}=b.$value;if(T&&Object.keys(w).length!==1)throw new Error("Fault");if(e)Ye.forEach(w,(L,F)=>{const B=$r(e,F);B&&(T&&(B.children=[]),Om(e,B))}),n.children=rf(t,b.$value.children);else{if(n.nodeType==="DOCUMENT")throw new Error;n.children.forEach(F=>{o[F.id]=F,w[F.id]&&F.nodeType==="GROUP"&&F.children.forEach(B=>{o[B.id]=B})});const L=[];E.forEach(F=>{o[F]&&L.push(o[F])}),n.children=L}n.children.forEach(L=>{L.parentId=n.id})}}}else if(l==="children")(h=r.children)!=null&&h.$value&&(n.children=r.children.$value.map(b=>{const w=t.getLayer(b);if(w)return w;if(o[b])return o[b];throw new Error("Layer does not exist")}));else{const b=r[l];typeof((p=r[l])==null?void 0:p.$value)<"u"?n[l]=b==null?void 0:b.$value:n[l]=void 0}})}var pC=Object.defineProperty,gC=Object.getOwnPropertyDescriptor,Ie=(t,e,n,r)=>{for(var o=r>1?void 0:r?gC(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&pC(e,n,o),o};class ke{constructor({getNormalLayerList:e,props:n}){this.history=new $s(this),this.currentStep=null,this.getSelectedLayerIdList=()=>this.selectionInfo.selectedLayerIdList,this.getFigma=()=>null,this.libra=null,this.interval=null,this.isFullyFunctional=!0,this.eraserPathCanvas=null,this.cursor="",this.currentFontList=[],this.computed=fC(this),this.currentTool="MoveTool",this.currentStatus="",this.currentTime=0,this.timelineInterval=null,this.workspaceState=bA(),this.workspaceExists=!0,this.workspaceElement=null,this.layersShimmering=!1,this.controlKeyUnderPress=!1,this.layerWithMenuId="",this.layerUnderDraggingId="",this.layerUnderCropping=null,this.layersCanBeScaled=!0,this.layerListInClipboard=[],this.editingText=!1,this.advancedTextEditor={initialSelectionIndex:0,inputText:{compositionText:"",start:0},inputElement:null,inputMode:"single"},this.editingVector=null,this.vectorEditor=null,this.pointerDownX=0,this.pointerDownY=0,this.pointerDownOnRightSide=!1,this.pointerMoved=!1,this.pointerX=0,this.pointerY=0,this.pointerCurrentAngle=0,this.pointerAppliedAngle=0,this.pointerDownOnLayerId="",this.pointerMap={},this.pointerTarget$$=null,this.bunchRectangleRotationFixed=!1,this.pointerRayLengthInPage=0,this.appliedPointX=0,this.appliedPointY=0,this.bunchRectangleXFixed=!1,this.bunchRectangleYFixed=!1,this.interceptionInfo={total:0,currentPosition:0,prevID:"",nextID:"",list:[]},this.pointerDownScalePercent=100,this.resizeTransformOrigin={x:0,y:0},this.resizeOriginType="leftTop",this.resizeAndKeepRatio=!0,this.menuShow=!1,this.menuX=0,this.menuY=0,this.operatingOn={vertexIndex:0},this.bunchRectangleInMagneticField=!1,this.selectionRectStartPoint=null,this.selectionRectEndPoint={x:0,y:0},this.selectionRectExists=!1,this.layerResolvedFrameMap={},this.layerImageHasTransition=!1,this.overlappedLayerIdMap={},this.helperLineList=[],this.helperRectList=[],this.textLayerOutOfPage=!1,this.currentToolsContainer=null,this.filterState={candidateFilterId:"",candidateFilterGroupName:"",candidateFilterTypeId:"",candidateFilterInfo:null,filterPercent:0,filterSucceed:!1},this.state={eraserVisualDiam:50,eraserShadowBlurPercent:0,eraserPathColor:"rgba(253, 93, 125)",lastSwappedLayerId:""},this.options={renderer:"dom",safePadding:30,hasBasicOverlays:!0,hasGridPanels:!1,hasActiveOverlay:!0,hasLayerRotator:!0,hasLayerShortBars:!0,showOverlays:!0,canScalePage:!0,pageMaxScale:4,pageMinScale:.15,thumbnailMaxWidth:88,thumbnailMaxHeight:122,layerOutlineColor:"#80A3FF",LAYER_MINIMUN_SIZE:20,strokePathOverflow:"hidden",applyMagneticEffect:!0,helperRectColor:"purple",helperLineColor:"#a569bd",useTextEditor:"QUILL_EDITOR",hasTimeline:!1,ignoreRootFrames:!1,enableSymbolAndInstance:!0,enableEnterAndLeaveRoom:!1,canResizeLayerFrameWhenCroppingImage:!1},this.shortcutMap={"Meta + c":()=>{},"Meta + x":()=>{},"Meta + v":()=>{},"Meta + g":()=>{},"Meta + Z":()=>{},"Shift + Meta + Z":()=>{},"Shift + Meta + g":()=>{},"Alt + Meta + ArrowDown":()=>{},"Alt + Meta + ArrowUp":()=>{},"Shift + Meta + ArrowDown":()=>{},"Shift + Meta + ArrowUp":()=>{},Escape:()=>{},Backspace:()=>{},Delete:()=>{}},this.lastClickedAt=0,this.sessionID=0,this.localID=0,this.renderCount=0,this.focusedOverlay="",this.getNormalLayerList=e,this.props=n,Is(this),Nu(()=>this.getSelectedLayerIdList().join("--")+this.selectionInfo.selectedLeafLayerId,()=>{var r;this.editingText=!1,((r=this.selectedSingleLayer)==null?void 0:r.nodeType)==="vector"||(this.editingVector=null),aE(this)}),Nu(()=>this.currentStatus,(r,o)=>{r==="playingTimeline"?iC(this):o==="playingTimeline"&&aC(this)}),Nu(()=>this.editingText,()=>{this.editingText===!1&&this.textLayerOutOfPage===!0&&(this.workspaceExists=!1,setTimeout(()=>{this.workspaceExists=!0},0),this.textLayerOutOfPage=!1)}),Nu(()=>this.usedFontMap,()=>{this.currentFontList=[]})}getLayer(e){const n=this.getFigma();if(n)return n.layerMap[e]?n.layerMap[e]:null;if(this.normalLayerFlatMap[e])return this.normalLayerFlatMap[e];const r=this.props.getPanelList().find(o=>o.id===e);return r||null}getPageScale(){return this.workspaceState.pageScale}get figma(){return this.getFigma()}get isMobile(){return typeof window<"u"&&window.ontouchstart!==void 0}setCursor(e){this.cursor=e}get timelineMax(){let e=0;return this.getNormalLayerList().forEach(n=>{n.timeline&&n.timeline.end>e&&(e=n.timeline.end)}),e}get isUpdatingLayer(){return this.currentStatus==="movingLayers"||this.currentStatus==="rotatingLayers"||this.currentStatus==="resizingLayersByCorner"||this.currentStatus==="resizingLayersByBorder"}get isCroppingBackground(){const e=this.props.getBackgroundLayer(),{layerUnderCropping:n}=this;return!!(e&&n&&n.id===e.id)}get usedFontMap(){const e={};function n(o){o.forEach(u=>{u.nodeType==="TEXT"&&u.fontName.fullname&&(e[u.fontName.fullname]=!0),n(u.children||[])})}const r=this.getNormalLayerList();return n(r),e}get currentCursor(){var e,n,r,o,u;if(this.currentStatus==="draggingGridLine"||(e=this.props.grid)!=null&&e.getCurrentActiveLine()){if(((r=(n=this.props.grid)==null?void 0:n.getCurrentActiveLine())==null?void 0:r.type)==="horizontal")return"ns-resize";if(((u=(o=this.props.grid)==null?void 0:o.getCurrentActiveLine())==null?void 0:u.type)==="vertical")return"ew-resize"}return this.currentStatus==="rotatingLayers"?"alias":this.currentStatus==="movingLayers"?"move":this.cursor?this.cursor:"auto"}get segmentCandidate(){var e,n;return((n=(e=this.editingVector)==null?void 0:e.currentOperation)==null?void 0:n.type)==="SegmentCandidate"?this.editingVector.currentOperation:null}get editingGroupLayer(){return!!this.activeGroupLayerId}get selectionInfo(){return this.props.getSelectionInfo()}get activeGroupLayerId(){return this.selectionInfo.activeGroupLayerId}get activeLayerInGroupId(){return this.selectionInfo.activeLayerInGroupId}get selectedLeafLayerId(){return this.selectionInfo.selectedLeafLayerId}get activeGroupLayer(){const e=this.rootNormalLayerMap[this.activeGroupLayerId];return e&&e.nodeType==="GROUP"?e:null}get pointerRayLengthInWindow(){return this.pointerRayLengthInPage*this.getPageScale()}get scalePercentDisplayed(){const e=this.imageLayerUnderEditing;if(e&&e.image){if(e.image.imageScaleMode==="FILL"){const o=xm({frame:e,image:e.image}),u=e.image.width/e.image.naturalWidth/o*100;return Math.round(u)}const n=V2(e),r=e.image.width/n*100;return Math.round(r)}return 100}get bunchRectangle(){return this.selectionInfo.bunchRectangle}get selectionStatus(){if(this.selectedNormalLayerList.length>1)return"multipleLayers";if(this.selectedPanel)return"singlePanel";if(this.selectedSingleLayer){const e=this.selectedSingleLayer;if(e.nodeType==="GROUP")return"singleGroupLayer";if(e.nodeType==="IMAGE")return"singleImageLayer";if(e.nodeType==="TEXT")return"singleTextLayer";if(e.nodeType==="FRAME")return"singleFrameLayer";if(e.nodeType==="SECTION")return"singleSectionLayer"}return""}get leafNormalLayerList(){const e=[];function n(r){r.forEach(o=>{o.nodeType!=="GROUP"&&e.push(o),n(o.children)})}return n(this.getNormalLayerList()),e}get selectionRectangle(){const e={left:0,top:0,width:0,height:0};return this.selectionRectStartPoint&&(e.left=Math.min(this.selectionRectStartPoint.x,this.selectionRectEndPoint.x),e.top=Math.min(this.selectionRectStartPoint.y,this.selectionRectEndPoint.y),e.width=Math.abs(this.selectionRectEndPoint.x-this.selectionRectStartPoint.x),e.height=Math.abs(this.selectionRectEndPoint.y-this.selectionRectStartPoint.y)),e}get pointerCurrentPositionInPage(){return this.getPointInPage({pageX:this.pointerX,pageY:this.pointerY})}get bunchRectangleCenter(){return{x:this.bunchRectangle.left+this.bunchRectangle.width/2,y:this.bunchRectangle.top+this.bunchRectangle.height/2}}get rootNormalLayerMap(){return Ye.keyBy(this.getNormalLayerList(),"id")}get normalLayerFlatMap(){var n;if(this.getFigma())return((n=this.getFigma())==null?void 0:n.layerMap)||{};const e={};return this.getNormalLayerList().forEach(r=>{this.processLayer(e,r)}),e}processLayer(e,n){e[n.id]=n,n.children.forEach(r=>{this.processLayer(e,r)})}get selectedLayerList(){return this.getSelectedLayerIdList().map(n=>this.getLayer(n)).filter(n=>n)}get selectedNormalLayerList(){const e=[];return e.push(...this.selectedLayerList),e}get selectedPanel(){const e=Ye.keyBy(this.props.getPanelList(),"id"),n=this.getSelectedLayerIdList().filter(r=>e[r]);return n[0]?e[n[0]]:null}get selectedSingleLayer(){return this.selectedLeafLayerId&&this.normalLayerFlatMap[this.selectedLeafLayerId]?this.normalLayerFlatMap[this.selectedLeafLayerId]:this.selectedNormalLayerList.length===1&&this.selectedNormalLayerList[0]?this.selectedNormalLayerList[0]:null}get selectedSingleImageLayer(){return this.selectedSingleLayer&&this.selectedSingleLayer.nodeType==="IMAGE"?this.selectedSingleLayer:null}get textLayerUnderEditing(){return this.selectedSingleLayer&&this.selectedSingleLayer.nodeType==="TEXT"&&this.editingText?this.selectedSingleLayer:null}get textLayerMap(){const e={};return Object.keys(this.normalLayerFlatMap).forEach(n=>{const r=this.normalLayerFlatMap[n];r&&r.nodeType==="TEXT"&&(e[n]=r)}),e}get imageLayerUnderEditing(){var e;if(this.layerUnderCropping)return this.layerUnderCropping;if(((e=this.selectedSingleLayer)==null?void 0:e.nodeType)==="ROUNDED_RECTANGLE")return this.selectedSingleLayer;if(this.selectedPanel)return this.selectedPanel;if(this.selectedSingleImageLayer)return this.selectedSingleImageLayer;if(this.selectedSingleLayer&&this.activeLayerInGroupId){const n=this.normalLayerFlatMap[this.activeLayerInGroupId];return n.nodeType==="IMAGE"?n:null}return null}setCurrentToolsContainer(e){this.currentToolsContainer=e}getPointInContainer(e){const n=ti(this),r=jm(this);if(n&&r){const o=s0(this,e),{absoluteTransform:u}=zi(n.fileData,{type:"layer",layerId:r.id});return jo(u,o)}return this.getPointInPage(e)}getPointInPage(e){const n=this.currentToolsContainer;if(n){const r=n.getBoundingClientRect();return{x:(e.pageX-r.left)/this.getPageScale(),y:(e.pageY-r.top)/this.getPageScale()}}return console.warn("Failed to find tools container!"),{x:0,y:0}}setOptions(e){Object.assign(this.options,e)}generateGUID(){const e={sessionID:this.sessionID,localID:this.localID};return this.localID+=1,e}}Ie([We],ke.prototype,"getNormalLayerList",2);Ie([We],ke.prototype,"getFigma",2);Ie([mt],ke.prototype,"figma",1);Ie([We],ke.prototype,"props",2);Ie([mt],ke.prototype,"isMobile",1);Ie([We],ke.prototype,"cursor",2);Ie([We],ke.prototype,"currentFontList",2);Ie([We],ke.prototype,"currentTool",2);Ie([We],ke.prototype,"currentStatus",2);Ie([We],ke.prototype,"currentTime",2);Ie([mt],ke.prototype,"timelineMax",1);Ie([We],ke.prototype,"workspaceState",2);Ie([We],ke.prototype,"workspaceExists",2);Ie([mt],ke.prototype,"isUpdatingLayer",1);Ie([mt],ke.prototype,"isCroppingBackground",1);Ie([We],ke.prototype,"layersShimmering",2);Ie([mt],ke.prototype,"usedFontMap",1);Ie([mt],ke.prototype,"currentCursor",1);Ie([We],ke.prototype,"controlKeyUnderPress",2);Ie([We],ke.prototype,"layerWithMenuId",2);Ie([We],ke.prototype,"layerUnderDraggingId",2);Ie([We],ke.prototype,"layerUnderCropping",2);Ie([We],ke.prototype,"layersCanBeScaled",2);Ie([We],ke.prototype,"layerListInClipboard",2);Ie([We],ke.prototype,"editingText",2);Ie([We],ke.prototype,"editingVector",2);Ie([mt],ke.prototype,"segmentCandidate",1);Ie([mt],ke.prototype,"editingGroupLayer",1);Ie([mt],ke.prototype,"selectionInfo",1);Ie([mt],ke.prototype,"activeGroupLayerId",1);Ie([mt],ke.prototype,"activeLayerInGroupId",1);Ie([mt],ke.prototype,"selectedLeafLayerId",1);Ie([mt],ke.prototype,"activeGroupLayer",1);Ie([We],ke.prototype,"pointerDownX",2);Ie([We],ke.prototype,"pointerDownY",2);Ie([We],ke.prototype,"pointerDownOnRightSide",2);Ie([We],ke.prototype,"pointerMoved",2);Ie([We],ke.prototype,"pointerX",2);Ie([We],ke.prototype,"pointerY",2);Ie([We],ke.prototype,"pointerCurrentAngle",2);Ie([We],ke.prototype,"pointerAppliedAngle",2);Ie([We],ke.prototype,"bunchRectangleRotationFixed",2);Ie([We],ke.prototype,"pointerRayLengthInPage",2);Ie([We],ke.prototype,"appliedPointX",2);Ie([We],ke.prototype,"appliedPointY",2);Ie([We],ke.prototype,"bunchRectangleXFixed",2);Ie([We],ke.prototype,"bunchRectangleYFixed",2);Ie([We],ke.prototype,"interceptionInfo",2);Ie([mt],ke.prototype,"pointerRayLengthInWindow",1);Ie([We],ke.prototype,"pointerDownScalePercent",2);Ie([We],ke.prototype,"resizeTransformOrigin",2);Ie([We],ke.prototype,"resizeOriginType",2);Ie([We],ke.prototype,"resizeAndKeepRatio",2);Ie([mt],ke.prototype,"scalePercentDisplayed",1);Ie([We],ke.prototype,"menuShow",2);Ie([We],ke.prototype,"menuX",2);Ie([We],ke.prototype,"menuY",2);Ie([mt],ke.prototype,"bunchRectangle",1);Ie([We],ke.prototype,"bunchRectangleInMagneticField",2);Ie([We],ke.prototype,"selectionRectStartPoint",2);Ie([We],ke.prototype,"selectionRectEndPoint",2);Ie([We],ke.prototype,"selectionRectExists",2);Ie([mt],ke.prototype,"selectionStatus",1);Ie([We],ke.prototype,"layerResolvedFrameMap",2);Ie([We],ke.prototype,"layerImageHasTransition",2);Ie([We],ke.prototype,"overlappedLayerIdMap",2);Ie([We],ke.prototype,"helperLineList",2);Ie([We],ke.prototype,"helperRectList",2);Ie([mt],ke.prototype,"leafNormalLayerList",1);Ie([mt],ke.prototype,"selectionRectangle",1);Ie([mt],ke.prototype,"pointerCurrentPositionInPage",1);Ie([mt],ke.prototype,"bunchRectangleCenter",1);Ie([mt],ke.prototype,"rootNormalLayerMap",1);Ie([mt],ke.prototype,"normalLayerFlatMap",1);Ie([mt],ke.prototype,"selectedLayerList",1);Ie([mt],ke.prototype,"selectedNormalLayerList",1);Ie([mt],ke.prototype,"selectedPanel",1);Ie([mt],ke.prototype,"selectedSingleLayer",1);Ie([mt],ke.prototype,"selectedSingleImageLayer",1);Ie([mt],ke.prototype,"textLayerUnderEditing",1);Ie([mt],ke.prototype,"textLayerMap",1);Ie([We],ke.prototype,"textLayerOutOfPage",2);Ie([mt],ke.prototype,"imageLayerUnderEditing",1);Ie([We],ke.prototype,"filterState",2);Ie([We],ke.prototype,"state",2);Ie([We],ke.prototype,"options",2);Ie([We],ke.prototype,"renderCount",2);Ie([We],ke.prototype,"focusedOverlay",2);class Cf{constructor({path:e,commands:n,type:r,styleID:o}){this.styleID=0,this.path=null,this.commands=[],this.scheduledForDelete=!1,this.path=e,this.commands=n,this.type=r,this.styleID=o}getPath(){return this.path}getVisualPath({Raptor:e,scale:n}){if(this.path){const r=this.path.copy();return r.deleteLater(),r.transform(e.Matrix.scaled(n,n)),r}return null}getCommands(){return this.commands}deleteLater(){var e;this.scheduledForDelete===!1&&(this.scheduledForDelete=!0,(e=this.path)==null||e.deleteLater())}}function mC({Raptor:t,strokeJoin:e}){return e==="BEVEL"?t.StrokeJoin.Bevel:e==="MITER"?t.StrokeJoin.Miter:t.StrokeJoin.Round}function yC({strokeAlign:t,strokeWeight:e,Raptor:n}){const r={strokeWidth:e,blendMode:null};return t==="CENTER"||(t==="INSIDE"?(r.strokeWidth=e*2,r.blendMode=n.BlendMode.SrcATop):t==="OUTSIDE"&&(r.strokeWidth=e*2,r.blendMode=n.BlendMode.DstATop)),r}function Gd({Raptor:t,commands:e}){const n=e.map(o=>o==="M"?t.MOVE_VERB:o==="C"?t.CUBIC_VERB:o==="L"?t.LINE_VERB:o==="Z"?t.CLOSE_VERB:o);return t.Path.MakeFromCmds(n)}function vC({width:t,height:e,cornerRadius:n,Raptor:r}){const o=Sa({width:t,height:e,cornerRadius:n});return Gd({Raptor:r,commands:o})}function Sa({width:t,height:e,cornerRadius:n}){if(n>0){const o=.44777199999999995*n;return["M",0,n,"C",0,o,o,0,n,0,"L",t-n,0,"C",t-o,0,t,o,t,n,"L",t,e-n,"C",t,e-o,t-o,e,t-n,e,"L",n,e,"C",o,e,0,e-o,0,e-n,"Z"]}return["M",0,0,"L",0,e,"L",t,e,"L",t,0,"Z"]}function F0({Raptor:t,layer:e,scale:n}){var b,w,E,T,L,F,B;const{width:r,height:o,cornerRadius:u}=e;let c=Sa({width:r,height:o,cornerRadius:u});((b=e.smartShape)==null?void 0:b.type)==="Parallelogram"?c=["M",o/3,0,"L",r,0,"L",r-o/3,o,"L",0,o,"Z"]:((w=e.smartShape)==null?void 0:w.type)==="Pill"?c=Sa({width:r,height:o,cornerRadius:o/2}):((E=e.smartShape)==null?void 0:E.type)==="Ribbon"?c=["M",0,0,"L",r,0,"L",r-o/4,o/2,"L",r,o,"L",0,o,"L",o/4,o/2,"Z"]:((T=e.smartShape)==null?void 0:T.type)==="SimplePath"?(c=[],e.smartShape.vertexList.forEach((H,Q)=>{const W=H.x/100*e.width,se=H.y/100*e.height;Q===0?c.push("M",W,se):c.push("L",W,se)}),c.push("Z")):((L=e.smartShape)==null?void 0:L.type)==="Path"&&e.smartShape.commands.length>0&&(c=[...e.smartShape.commands]);let l=Gd({Raptor:t,commands:c});if(l==null||l.deleteLater(),((F=e.smartShape)==null?void 0:F.type)==="Path"){const H=l==null?void 0:l.computeTightBounds();if(H){const Q=H[2]-H[0],W=H[3]-H[1];l==null||l.transform(t.Matrix.scaled(e.width/Q,e.height/W))}}((B=e.smartShape)==null?void 0:B.type)==="Ellipse"&&(l=new t.Path,l.deleteLater(),l.addOval(t.XYWHRect(0,0,r,o)));const h=yC({strokeAlign:e.strokeAlign,strokeWeight:e.strokeWeight,Raptor:t}),p=l==null?void 0:l.copy().stroke({width:h.strokeWidth,join:mC({strokeJoin:e.strokeJoin,Raptor:t})});return p==null||p.deleteLater(),{fillScaledPath:(l==null?void 0:l.transform(t.Matrix.scaled(n,n)))||null,strokeScaledPath:(p==null?void 0:p.transform(t.Matrix.scaled(n,n)))||null,strokeInfo:h}}function O0({Raptor:t,commands:e}){const n=Gd({Raptor:t,commands:e});return new Cf({path:n,commands:e,type:"CLOSED",styleID:0})}function wC({Raptor:t,localStore:e,layer:n,instanceChain:r}){const o=Jt({localStore:e,layer:n,instanceChain:r});let u=0,{width:c,height:l,cornerRadius:h}=o;o.strokeAlign==="INSIDE"&&(c-=o.strokeWeight,l-=o.strokeWeight,u=o.strokeWeight/2,h>0&&(h-=o.strokeWeight/2)),o.strokeAlign==="OUTSIDE"&&(c+=o.strokeWeight,l+=o.strokeWeight,u-=o.strokeWeight/2,h>0&&(h+=o.strokeWeight/2));let p=Sa({width:c,height:l,cornerRadius:h});p=p.map(w=>typeof w=="number"?w+u:w);const b=O0({Raptor:t,commands:p});return b==null||b.deleteLater(),[b]}function bC({Raptor:t,localStore:e,layer:n,instanceChain:r}){const o=Jt({localStore:e,layer:n,instanceChain:r});let u=[];const{width:c,height:l}=o;if(n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="ROUNDED_RECTANGLE"){const{cornerRadius:p}=o;p>0&&(u=Sa({width:c,height:l,cornerRadius:p}))}return u.length===0&&(u=Sa({width:c,height:l,cornerRadius:0})),[O0({Raptor:t,commands:u})]}function xC({vectorData:t,Raptor:e}){const{vertices:n,segments:r,regions:o}=t.vectorNetwork,u=[];function c(l,h){let p=-1;l.forEach((b,w)=>{const E=n[b.start.vertex],T=n[b.end.vertex];b.start.vertex!==p&&h.moveTo(E.x,E.y),b.start.dx===0&&b.start.dy===0&&b.end.dx===0&&b.end.dy===0?h.lineTo(T.x,T.y):h.cubicTo(b.start.dx+E.x,b.start.dy+E.y,b.end.dx+T.x,b.end.dy+T.y,T.x,T.y),p=b.end.vertex})}if(o.length>0&&o.forEach(l=>{const h=new e.Path;u.push({type:"region",path:h}),l.loops.forEach(p=>{l.windingRule==="EVENODD"&&h.setFillType(e.FillType.EvenOdd),p.segments.forEach(b=>{}),c(p.segments.map(b=>r[b]),h),h.close()}),h.close()}),u.length===0){const l=new e.Path;u.push({type:"line",path:l}),c(r,l)}return u}function Tf({localStore:t,fileData:e,layer:n,instanceChain:r,Raptor:o}){const u=Jt({localStore:t,layer:n,instanceChain:r}),c={data:{nodeType:u.nodeType,left:u.left,top:u.top,rotate:u.rotate,width:u.width,height:u.height,scaleX:1,scaleY:1,strokeAlign:u.strokeAlign,strokeWeight:u.strokeWeight,dashPattern:[...u.dashPattern]},fillGeometryList:[],strokeGeometryList:[],totalGeometry:null,children:[]};if(n.nodeType==="GROUP"||n.nodeType==="TEXT")return c;if(n.nodeType==="vector"){const p=t.getFigma();if(p){const b=eE(p.context.fileData,n);if(!b)throw new Error;const w=xC({vectorData:n.vectorData,Raptor:o});b.pathBoundsList=w.map(T=>T.path.computeTightBounds());const{vectorData:E}=u;E&&(c.data.scaleX=u.width/E.normalizedSize.x,c.data.scaleY=u.height/E.normalizedSize.y),w.forEach(T=>{if(T.type==="region"){const L=new Cf({path:T.path,commands:[],type:"CLOSED",styleID:0});L.deleteLater(),c.fillGeometryList.push(L),c.strokeGeometryList.push(L)}else if(T.type==="line"){const L=new Cf({path:T.path,commands:[],type:"LINE",styleID:0});L.deleteLater(),c.strokeGeometryList.push(L)}})}return c}const l=bC({Raptor:o,localStore:t,layer:n,instanceChain:r});l.forEach(p=>{p.deleteLater()});const h=wC({Raptor:o,localStore:t,layer:n,instanceChain:r});return u.frameMaskDisabled&&n.children&&n.children.forEach(p=>{const b=Gn(r,p),w=Tf({localStore:t,layer:p,instanceChain:b,Raptor:o,fileData:e});c.children.push(w)}),c.fillGeometryList=l,c.strokeGeometryList=h,c}function og({info:t,styleID:e}){var r;const n=[];if(e===0)n.push(...t.fillPaints||[]);else if(t.nodeType==="vector"){const o=(r=t.vectorData)==null?void 0:r.styleOverrideTable.find(u=>u.styleID===e);o&&n.push(...o.fillPaints)}return{fillPaints:n}}function SC({info:t,styleID:e}){const n=[];return e===0&&n.push(...t.strokePaints||[]),{strokePaints:n}}function ag({Raptor:t,paint:e,path:n}){const r=new t.Paint;if(r.deleteLater(),r.setAntiAlias(!0),e.type==="SOLID"&&(r.setAlphaf(e.opacity),r.setColor(hn(e.color).toFigmaArray())),e.type==="GRADIENT_LINEAR"&&(r.setStyle(t.PaintStyle.Fill),r.setAlphaf(e.opacity),n)){const o=n==null?void 0:n.computeTightBounds(),u=Jm({paint:e,Raptor:t,leftTop:[o[0],o[1]],bottomRight:[o[2],o[3]]});r.setShader(u),r.setAntiAlias(!0)}return r}function EC({normalizedWidth:t,normalizedHeight:e,normalizedSpan:n,color:r,scale:o,Raptor:u,canvas:c}){const l=new u.Paint;l.deleteLater(),l.setColor(hn(r).toFigmaArray()),l.setAlphaf(.3),l.setStyle(u.PaintStyle.Stroke),l.setStrokeWidth(o),l.setAntiAlias(!0),c.save();let h=0,p=0;for(;h<=t;)c.drawLine(h*o,0,h*o,e*o,l),h+=n;for(;p<=e;)c.drawLine(0,p*o,t*o,p*o,l),p+=n;c.restore()}function wo({canvas:t,Raptor:e,fill:n,scale:r,scaledPath:o,paintStyle:u,layerINFO:c,blendMode:l}){if(!n.visible)return;if(n.type==="GRID"){const p=o.getBounds(),b=p[2]-p[0],w=p[3]-p[1];t.save(),t.clipPath(o,e.ClipOp.Intersect,!0),EC({normalizedWidth:b/r,normalizedHeight:w/r,normalizedSpan:50,scale:r,Raptor:e,canvas:t,color:"#ffffff"}),t.restore();return}let h=null;n.type==="SOLID"&&(h=ag({Raptor:e,paint:n,path:null})),n.type==="GRADIENT_LINEAR"&&(h=ag({Raptor:e,paint:n,path:o})),h&&(l&&h.setBlendMode(l),t.drawPath(o,h))}function sg({Raptor:t,fileData:e,canvas:n,layer:r,instanceChain:o,options:u,geometryInfo:c}){const l=Jt({localStore:e.localStore,layer:r,instanceChain:o});n.save(),r.nodeType==="vector"?c.fillGeometryList.forEach(h=>{const p=h.getPath();if(!p)return;const b=p.copy().transform(t.Matrix.scaled(r.width/r.vectorData.normalizedSize.x*e.scale,r.height/r.vectorData.normalizedSize.y*e.scale));b==null||b.deleteLater();const{fillPaints:w}=og({info:l,styleID:h.styleID});w==null||w.forEach(E=>{if(E.type!=="SOLID"||E.visible===!1)return;n.saveLayer();const T=new t.Paint;T.deleteLater(),h.type==="CLOSED"&&(T.setStyle(t.PaintStyle.Fill),T.setColor([E.color.r,E.color.g,E.color.b,E.color.a]),T.setAlphaf(E.opacity),T.setAntiAlias(!0),n.drawPath(b,T)),n.restore()})}):c.fillGeometryList.forEach(h=>{const p=h.getPath();if(!p)return;const b=p.copy().transform(t.Matrix.scaled(e.scale,e.scale));b.deleteLater(),b&&(r.nodeType==="FRAME"||r.nodeType==="SYMBOL"||r.nodeType==="INSTANCE")&&(l.frameMaskDisabled||n.clipPath(b,t.ClipOp.Intersect,!0));const{fillPaints:w}=og({info:l,styleID:h.styleID});w.forEach(E=>{if(E.type==="SOLID"&&E.visible)wo({canvas:n,Raptor:t,fill:E,scaledPath:b,scale:e.scale,layerINFO:l,blendMode:null,paintStyle:null});else if(E.type==="GRADIENT_LINEAR"&&E.visible)wo({Raptor:t,canvas:n,fill:E,scaledPath:b,scale:e.scale,layerINFO:l,blendMode:null,paintStyle:null});else if(E.type==="IMAGE"){u.snapshot&&(u.snapshot.contains.imageUrlMap[E.image.imageSource]=!0);const T=e.assetMap.getAsset(E.image.imageSource);if(T&&T.image){const L=new t.Paint;L.deleteLater(),L.setStyle(t.PaintStyle.Fill),L.setAntiAlias(!0),ic({canvas:n,layer:r,Raptor:t,scale:e.scale,img:T.image,imageInfo:E.image,paint:L})}}})}),n.restore()}function ic({canvas:t,layer:e,Raptor:n,scale:r,img:o,imageInfo:u,paint:c}){t.save(),t.translate(r*(e.width/2),r*(e.height/2)),t.rotate(u.rotate,0,0),t.translate(u.imageX*r,u.imageY*r),c&&(u.opacity<1&&c.setAlphaf(u.opacity),r>0?(e.nodeType,t.drawImageRectCubic(o,n.XYWHRect(0,0,o.width(),o.height()),n.XYWHRect(-u.width/2*r,-u.height/2*r,u.width*r,u.height*r),0,0,c)):(c.setImageFilter(null),t.drawImageRect(o,n.LTRBRect(0,0,o.width(),o.height()),n.LTRBRect(r*(-u.width/2+u.imageX),r*(-u.height/2+u.imageY),r*(u.width/2+u.imageX),r*(u.height/2+u.imageY)),c))),t.restore()}function AC({canvas:t,Raptor:e,fileData:n,layer:r,options:o}){if(t.save(),r.nodeType==="TEXT"){const{strokeList:u,shadowList:c,newParagraph:l,fillList:h}=_d({Raptor:e,fileData:n,layer:r});r.textAutoResize==="WIDTH_AND_HEIGHT"&&(r.textAlignHorizontal==="CENTER"?t.translate(-Af(r)*n.scale/2,0):r.textAlignHorizontal==="RIGHT"&&t.translate(-Af(r)*n.scale,0)),l&&(c.forEach(b=>{const w=new e.Paint;w.deleteLater();const E=e.ImageFilter.MakeBlur(n.doScale(b.radius),n.doScale(b.radius),e.TileMode.Decal,null);E.deleteLater(),w.setImageFilter(E),t.saveLayer(w),t.drawParagraph(b.paragraph,n.doScale(b.offset.x),n.doScale(b.offset.y)),t.drawParagraph(b.strokedParagraph,n.doScale(b.offset.x),n.doScale(b.offset.y)),t.restore()}),t.saveLayer(),h.forEach(b=>{b.paragraph&&t.drawParagraph(b.paragraph,0,0)}),u.forEach(b=>{b.paragraph&&t.drawParagraph(b.paragraph,0,0)}),t.restore())}t.restore()}function _C({fileData:t,Raptor:e,geometryInfo:n,canvas:r,layer:o,layerInfo:u}){n.strokeGeometryList.forEach(c=>{const l=c.getPath();if(!l)return;const{strokePaints:h}=SC({info:u,styleID:c.styleID}),p=l.copy().transform(e.Matrix.scaled(o.width/o.vectorData.normalizedSize.x*t.scale,o.height/o.vectorData.normalizedSize.y*t.scale));p==null||p.deleteLater(),h.forEach(b=>{var E;if(b.visible===!1)return;const w=new e.Paint;if(w.deleteLater(),w.setAntiAlias(!0),w.setColor(hn({type:"FIGMA",...b.color}).toFigmaArray()),w.setAlphaf(b.opacity),w.setStyle(e.PaintStyle.Stroke),n.data.dashPattern[0]>0||n.data.dashPattern[1]>0){const T=e.PathEffect.MakeDash([t.doScale(n.data.dashPattern[0]),t.doScale(n.data.dashPattern[1])]);T.deleteLater(),w.setPathEffect(T)}if(c.type==="CLOSED"){if(o.strokeAlign==="CENTER"){w.setStrokeWidth(t.doScale(o.strokeWeight)),r.drawPath(p,w);return}if(!((E=o.fillPaints)==null?void 0:E[0]))return;r.saveLayer();const L=new e.Paint;L.deleteLater(),L.setColor(e.BLACK),L.setAntiAlias(!0),r.drawPath(p,L);const F=new e.Paint;F.deleteLater(),o.strokeAlign==="INSIDE"?F.setBlendMode(e.BlendMode.SrcIn):o.strokeAlign==="OUTSIDE"&&F.setBlendMode(e.BlendMode.SrcOut),r.saveLayer(F),w.setStrokeWidth(t.doScale(o.strokeWeight*2)),r.drawPath(p,w),r.restore(),r.restore()}else c.type==="LINE"&&(w.setStrokeJoin(Ef({Raptor:e,value:o.strokeJoin})),o.strokeAlign==="CENTER"&&(w.setStrokeWidth(t.doScale(o.strokeWeight)),r.drawPath(p,w)))})})}function CC({canvas:t,Raptor:e,fileData:n,geometryInfo:r,effect:o}){if(o.visible===!1)return;const u=new e.Paint;u.deleteLater();const c=e.ImageFilter.MakeBlur(n.doScale(o.radius/2),n.doScale(o.radius/2),e.TileMode.Decal,null);c.deleteLater(),u.setImageFilter(c),t.saveLayer(u);const l=new e.Paint;l.deleteLater(),l.setAntiAlias(!0),l.setColor(hn({type:"FIGMA",...o.color}).toFigmaArray()),N0({canvas:t,Raptor:e,fileData:n,geometryInfo:r,shadowPaint:l,effect:o}),t.restore()}function N0({canvas:t,Raptor:e,fileData:n,geometryInfo:r,shadowPaint:o,effect:u}){r.fillGeometryList.forEach(c=>{const l=c.getVisualPath({Raptor:e,scale:n.scale});l&&t.drawPath(l,o)}),r.strokeGeometryList.forEach(c=>{const l=c.getVisualPath({Raptor:e,scale:n.scale});if(l){l.transform(e.Matrix.scaled(r.data.scaleX,r.data.scaleY));const h=new e.Paint;h.deleteLater(),h.setAntiAlias(!0),h.setStyle(e.PaintStyle.Stroke),h.setColor(hn({type:"FIGMA",...u.color}).toFigmaArray());const{dashPattern:p}=r.data;if(p[0]>0||p[1]>0){const L=e.PathEffect.MakeDash([n.doScale(p[0]),n.doScale(p[1])]);L.deleteLater(),h.setPathEffect(L)}const{strokeWeight:b,strokeAlign:w,nodeType:E}=r.data;let T=b;E==="vector"&&(w==="INSIDE"?T=0:w==="CENTER"?T=b:w==="OUTSIDE"&&(T*=2)),h.setStrokeWidth(n.doScale(T)),t.drawPath(l,h)}}),r.children.forEach(c=>{t.translate(n.doScale(c.data.left),n.doScale(c.data.top)),t.rotate(c.data.rotate,n.doScale(c.data.width/2),n.doScale(c.data.height/2)),N0({canvas:t,fileData:n,Raptor:e,geometryInfo:c,shadowPaint:o,effect:u})})}function TC({Raptor:t,fileData:e,canvas:n,path:r,effect:o}){n.save();let u=r;const c=new t.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setStyle(t.PaintStyle.Fill),c.setColor(hn(o.color).toFigmaArray());const l=t.ImageFilter.MakeBlur(e.doScale(o.radius/2),e.doScale(o.radius/2),t.TileMode.Decal,null);if(l.deleteLater(),c.setImageFilter(l),o.spread>0){const h=u.copy().stroke({width:e.doScale(o.spread*2)});h==null||h.deleteLater(),h==null||h.op(u,t.PathOp.Union),h&&(u=h)}n.translate(e.doScale(o.offset.x),e.doScale(o.offset.y)),n.drawPath(u,c),n.restore()}function PC(t,e,n,r,o){const u=Gn(o.instanceChain,r);if(r.nodeType!=="FRAME"&&r.nodeType!=="SYMBOL"&&r.nodeType!=="INSTANCE")return;const c=r,l=Jt({localStore:n.localStore,layer:r,instanceChain:u}),h={frameMaskDisabled:l.frameMaskDisabled,relativeTransform:Kn(l),fillPaints:r.fillPaints,strokePaints:r.strokePaints,children:Fs(n,r),snapshot:Q2(n,r),pointsRect:Ld({fileData:n,Raptor:e,layer:r,instanceChain:u,options:{}}).withShadow};if(t.save(),o.useSnapshot&&h.snapshot){const p=new e.Paint;p.deleteLater(),p.setStyle(e.PaintStyle.Fill),p.setAntiAlias(!0),t.save(),t.drawImageRect(h.snapshot,e.LTRBRect(0,0,h.snapshot.width(),h.snapshot.height()),e.LTRBRect(n.doScale(h.pointsRect[0].x),n.doScale(h.pointsRect[0].y),n.doScale(h.pointsRect[2].x),n.doScale(h.pointsRect[2].y)),p),t.restore()}else{const p=F0({Raptor:e,layer:l,scale:n.scale});$0({Raptor:e,canvas:t,info:l,fileData:n,data:p,layer:c}),B0({Raptor:e,canvas:t,info:l,fileData:n,data:p,layer:c}),h.frameMaskDisabled&&Pf({fileData:n,canvas:t,Raptor:e,info:l,layer:c,data:p}),t.save(),h.frameMaskDisabled===!1&&p.fillScaledPath&&t.clipPath(p.fillScaledPath,e.ClipOp.Intersect,!0);const b={bounds:o.bounds.map(w=>jo(h.relativeTransform,w)),useSnapshot:o.useSnapshot,tile:o.tile,snapshot:o.snapshot,instanceChain:u};oc(t,e,n,h.children,b),t.restore(),l.frameMaskDisabled===!1&&Pf({fileData:n,canvas:t,Raptor:e,info:l,layer:c,data:p})}t.restore()}function LC(t,e,n,r,o){var p,b,w,E;const u=Gn(o.instanceChain,r),c=Ld({fileData:n,Raptor:e,layer:r,instanceChain:u,options:{}}).withShadow.map(T=>({x:T.x,y:T.y})),l=Jt({localStore:n.localStore,layer:r,instanceChain:u});if(l.visible===!1||!md(o.bounds.map(T=>jo(Kn(l),T)),c))return;o.tile&&(o.tile.contains.layerIdMap[r.id]=!0),o.snapshot&&(o.snapshot.contains.layerIdMap[r.id]=!0);let h=null;if((p=l.effects)==null||p.forEach(T=>{T.type==="FOREGROUND_BLUR"&&T.visible&&(h=T)}),h){const T=new e.Paint;T.setAntiAlias(!0);const L=e.ImageFilter.MakeBlur(n.doScale(h.radius/2),n.doScale(h.radius/2),e.TileMode.Decal,null);L.deleteLater(),T.setImageFilter(L),t.saveLayer(T)}if(r.nodeType==="FRAME"||r.nodeType==="SYMBOL"||r.nodeType==="INSTANCE")PC(t,e,n,r,o);else if(r.nodeType==="SECTION"){const T=Tf({localStore:n.localStore,fileData:n,layer:r,instanceChain:u,Raptor:e});t.save(),sg({Raptor:e,fileData:n,canvas:t,layer:r,instanceChain:o.instanceChain,options:o,geometryInfo:T});const L={bounds:o.bounds.map(F=>jo(Kn(l),F)),useSnapshot:o.useSnapshot,tile:o.tile,snapshot:o.snapshot,instanceChain:u};oc(t,e,n,r.children,L),t.restore()}else if(r.nodeType==="GROUP")t.save(),oc(t,e,n,r.children,o),t.restore();else if(r.nodeType==="IMAGE"){const T=((b=r.image)==null?void 0:b.imageSource)||"";o.snapshot&&(o.snapshot.contains.imageUrlMap[T]=!0);const L=(w=n.assetMap.getAsset(T))==null?void 0:w.image;if(T&&L){const F=new e.Paint;F.deleteLater(),F.setStyle(e.PaintStyle.Fill),F.setAntiAlias(!0),t.save(),MC(t,e,n,r),r.image&&ic({canvas:t,layer:r,Raptor:e,scale:n.scale,img:L,imageInfo:r.image,paint:F}),t.restore()}}else if(r.nodeType==="vector"){const T=Tf({localStore:n.localStore,fileData:n,layer:r,instanceChain:u,Raptor:e});(E=l.effects)==null||E.forEach(L=>{L.type==="DROP_SHADOW"&&CC({canvas:t,Raptor:e,fileData:n,geometryInfo:T,effect:L})}),sg({Raptor:e,fileData:n,canvas:t,layer:r,instanceChain:o.instanceChain,options:o,geometryInfo:T}),_C({Raptor:e,canvas:t,fileData:n,layer:r,geometryInfo:T,layerInfo:l})}else if(r.nodeType==="ROUNDED_RECTANGLE"){t.save();const T=F0({Raptor:e,layer:r,scale:n.scale});$0({layer:r,info:l,data:T,canvas:t,Raptor:e,fileData:n}),B0({layer:r,info:l,data:T,canvas:t,Raptor:e,fileData:n}),Pf({layer:r,info:l,data:T,canvas:t,Raptor:e,fileData:n}),t.restore()}else r.nodeType==="TEXT"&&AC({canvas:t,Raptor:e,fileData:n,layer:r,options:o});h&&t.restore()}function $0({Raptor:t,canvas:e,info:n,fileData:r,data:o,layer:u}){var c,l;(c=n.effects)!=null&&c.length&&((l=n.effects)==null||l.forEach(h=>{if(h.type==="DROP_SHADOW"&&h.visible){const p=new t.Path;p.deleteLater(),o.fillScaledPath&&p.op(o.fillScaledPath,t.PathOp.Union),n.strokeAlign!=="INSIDE"&&o.strokeScaledPath&&p.op(o.strokeScaledPath,t.PathOp.Union),TC({Raptor:t,fileData:r,canvas:e,path:p,effect:h})}}))}function B0({Raptor:t,canvas:e,info:n,fileData:r,data:o,layer:u}){var l,h,p,b;e.saveLayer(),(l=n.fillPaints)==null||l.forEach(w=>{o.fillScaledPath&&w.visible&&wo({canvas:e,Raptor:t,scaledPath:o.fillScaledPath,scale:r.scale,fill:w,layerINFO:n,blendMode:null,paintStyle:null})});const c=(p=r.assetMap.getAsset(((h=u.image)==null?void 0:h.imageSource)||""))==null?void 0:p.image;if(u.image&&c&&o.fillScaledPath){e.save();const w=new t.Paint;w.deleteLater(),w.setStyle(t.PaintStyle.Fill),w.setAntiAlias(!0),e.clipPath(o.fillScaledPath,t.ClipOp.Intersect,!0),ic({canvas:e,layer:u,Raptor:t,scale:r.scale,img:c,imageInfo:u.image,paint:w}),e.restore()}if(((b=u.smartShape)==null?void 0:b.type)==="Mask"){const w=u.smartShape.url||"https://cdn.jsdelivr.net/gh/assetvoid/images/brush/1.png",E=r.assetMap.getAsset(w);if(E!=null&&E.image){const T=new t.Paint;T.deleteLater(),T.setAntiAlias(!0),T.setColor(t.BLACK),T.setStyle(t.PaintStyle.Stroke),T.setStrokeWidth(r.doScale(3)),T.setBlendMode(t.BlendMode.Clear),e.drawRect(t.XYWHRect(0,0,r.doScale(u.width),r.doScale(u.height)),T),T.setStyle(t.PaintStyle.Fill),T.setStrokeWidth(0),T.setBlendMode(t.BlendMode.DstIn);const L=pd();L.naturalWidth=E.image.width(),L.naturalHeight=E.image.height(),L.width=u.width,L.height=u.height,ic({canvas:e,layer:u,Raptor:t,scale:r.scale,img:E.image,imageInfo:L,paint:T})}}e.restore()}function Pf({Raptor:t,canvas:e,info:n,fileData:r,data:o,layer:u}){n.strokePaints.length>0&&n.strokePaints.forEach(c=>{e.saveLayer(),n.strokeAlign==="OUTSIDE"?(o.strokeScaledPath&&wo({canvas:e,Raptor:t,scaledPath:o.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null}),o.fillScaledPath&&wo({canvas:e,Raptor:t,scaledPath:o.fillScaledPath,scale:r.scale,layerINFO:n,fill:sm("#000000"),blendMode:t.BlendMode.DstOut,paintStyle:null})):n.strokeAlign==="CENTER"?o.strokeScaledPath&&wo({canvas:e,Raptor:t,scaledPath:o.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null}):n.strokeAlign==="INSIDE"&&o.strokeScaledPath&&o.fillScaledPath&&(o.strokeScaledPath.op(o.fillScaledPath,t.PathOp.Intersect),wo({canvas:e,Raptor:t,scaledPath:o.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null})),e.restore()})}function oc(t,e,n,r,o){r.forEach(u=>{const c=Gn(o.instanceChain,u),l=mc({localStore:n.localStore,layer:u,instanceChain:c});t.save(),u.nodeType!=="GROUP"&&(t.translate(n.doScale(l.left),n.doScale(l.top)),t.rotate(l.rotate,n.doScale(l.width/2),n.doScale(l.height/2))),LC(t,e,n,u,{...o,instanceChain:c}),t.restore()})}function MC(t,e,n,r){t.clipRect(e.LTRBRect(0,0,n.doScale(r.width),n.doScale(r.height)),e.ClipOp.Intersect,!0)}var D0={exports:{}};const IC={},kC=Object.freeze(Object.defineProperty({__proto__:null,default:IC},Symbol.toStringTag,{value:"Module"})),ug=c2(kC);/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.7.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",o=r?window:{};o.JS_SHA1_NO_WINDOW&&(r=!1);var u=!r&&typeof self=="object",c=!o.JS_SHA1_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?o=ma:u&&(o=self);var l=!o.JS_SHA1_NO_COMMON_JS&&!0&&t.exports,h=!o.JS_SHA1_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),b=[-2147483648,8388608,32768,128],w=[24,16,8,0],E=["hex","array","digest","arrayBuffer"],T=[],L=Array.isArray;(o.JS_SHA1_NO_NODE_JS||!L)&&(L=function(O){return Object.prototype.toString.call(O)==="[object Array]"});var F=ArrayBuffer.isView;h&&(o.JS_SHA1_NO_ARRAY_BUFFER_IS_VIEW||!F)&&(F=function(O){return typeof O=="object"&&O.buffer&&O.buffer.constructor===ArrayBuffer});var B=function(O){var K=typeof O;if(K==="string")return[O,!0];if(K!=="object"||O===null)throw new Error(e);if(h&&O.constructor===ArrayBuffer)return[new Uint8Array(O),!1];if(!L(O)&&!F(O))throw new Error(e);return[O,!1]},H=function(O){return function(K){return new oe(!0).update(K)[O]()}},Q=function(){var O=H("hex");c&&(O=W(O)),O.create=function(){return new oe},O.update=function(ie){return O.create().update(ie)};for(var K=0;K<E.length;++K){var V=E[K];O[V]=H(V)}return O},W=function(O){var K=ug,V=ug.Buffer,ie;V.from&&!o.JS_SHA1_NO_BUFFER_FROM?ie=V.from:ie=function(ee){return new V(ee)};var ce=function(ee){if(typeof ee=="string")return K.createHash("sha1").update(ee,"utf8").digest("hex");if(ee==null)throw new Error(e);return ee.constructor===ArrayBuffer&&(ee=new Uint8Array(ee)),L(ee)||F(ee)||ee.constructor===V?K.createHash("sha1").update(ie(ee)).digest("hex"):O(ee)};return ce},se=function(O){return function(K,V){return new ye(K,!0).update(V)[O]()}},fe=function(){var O=se("hex");O.create=function(ie){return new ye(ie)},O.update=function(ie,ce){return O.create(ie).update(ce)};for(var K=0;K<E.length;++K){var V=E[K];O[V]=se(V)}return O};function oe(O){O?(T[0]=T[16]=T[1]=T[2]=T[3]=T[4]=T[5]=T[6]=T[7]=T[8]=T[9]=T[10]=T[11]=T[12]=T[13]=T[14]=T[15]=0,this.blocks=T):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}oe.prototype.update=function(O){if(this.finalized)throw new Error(n);var K=B(O);O=K[0];for(var V=K[1],ie,ce=0,ee,Se=O.length||0,j=this.blocks;ce<Se;){if(this.hashed&&(this.hashed=!1,j[0]=this.block,this.block=j[16]=j[1]=j[2]=j[3]=j[4]=j[5]=j[6]=j[7]=j[8]=j[9]=j[10]=j[11]=j[12]=j[13]=j[14]=j[15]=0),V)for(ee=this.start;ce<Se&&ee<64;++ce)ie=O.charCodeAt(ce),ie<128?j[ee>>>2]|=ie<<w[ee++&3]:ie<2048?(j[ee>>>2]|=(192|ie>>>6)<<w[ee++&3],j[ee>>>2]|=(128|ie&63)<<w[ee++&3]):ie<55296||ie>=57344?(j[ee>>>2]|=(224|ie>>>12)<<w[ee++&3],j[ee>>>2]|=(128|ie>>>6&63)<<w[ee++&3],j[ee>>>2]|=(128|ie&63)<<w[ee++&3]):(ie=65536+((ie&1023)<<10|O.charCodeAt(++ce)&1023),j[ee>>>2]|=(240|ie>>>18)<<w[ee++&3],j[ee>>>2]|=(128|ie>>>12&63)<<w[ee++&3],j[ee>>>2]|=(128|ie>>>6&63)<<w[ee++&3],j[ee>>>2]|=(128|ie&63)<<w[ee++&3]);else for(ee=this.start;ce<Se&&ee<64;++ce)j[ee>>>2]|=O[ce]<<w[ee++&3];this.lastByteIndex=ee,this.bytes+=ee-this.start,ee>=64?(this.block=j[16],this.start=ee-64,this.hash(),this.hashed=!0):this.start=ee}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},oe.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var O=this.blocks,K=this.lastByteIndex;O[16]=this.block,O[K>>>2]|=b[K&3],this.block=O[16],K>=56&&(this.hashed||this.hash(),O[0]=this.block,O[16]=O[1]=O[2]=O[3]=O[4]=O[5]=O[6]=O[7]=O[8]=O[9]=O[10]=O[11]=O[12]=O[13]=O[14]=O[15]=0),O[14]=this.hBytes<<3|this.bytes>>>29,O[15]=this.bytes<<3,this.hash()}},oe.prototype.hash=function(){var O=this.h0,K=this.h1,V=this.h2,ie=this.h3,ce=this.h4,ee,Se,j,te=this.blocks;for(Se=16;Se<80;++Se)j=te[Se-3]^te[Se-8]^te[Se-14]^te[Se-16],te[Se]=j<<1|j>>>31;for(Se=0;Se<20;Se+=5)ee=K&V|~K&ie,j=O<<5|O>>>27,ce=j+ee+ce+1518500249+te[Se]<<0,K=K<<30|K>>>2,ee=O&K|~O&V,j=ce<<5|ce>>>27,ie=j+ee+ie+1518500249+te[Se+1]<<0,O=O<<30|O>>>2,ee=ce&O|~ce&K,j=ie<<5|ie>>>27,V=j+ee+V+1518500249+te[Se+2]<<0,ce=ce<<30|ce>>>2,ee=ie&ce|~ie&O,j=V<<5|V>>>27,K=j+ee+K+1518500249+te[Se+3]<<0,ie=ie<<30|ie>>>2,ee=V&ie|~V&ce,j=K<<5|K>>>27,O=j+ee+O+1518500249+te[Se+4]<<0,V=V<<30|V>>>2;for(;Se<40;Se+=5)ee=K^V^ie,j=O<<5|O>>>27,ce=j+ee+ce+1859775393+te[Se]<<0,K=K<<30|K>>>2,ee=O^K^V,j=ce<<5|ce>>>27,ie=j+ee+ie+1859775393+te[Se+1]<<0,O=O<<30|O>>>2,ee=ce^O^K,j=ie<<5|ie>>>27,V=j+ee+V+1859775393+te[Se+2]<<0,ce=ce<<30|ce>>>2,ee=ie^ce^O,j=V<<5|V>>>27,K=j+ee+K+1859775393+te[Se+3]<<0,ie=ie<<30|ie>>>2,ee=V^ie^ce,j=K<<5|K>>>27,O=j+ee+O+1859775393+te[Se+4]<<0,V=V<<30|V>>>2;for(;Se<60;Se+=5)ee=K&V|K&ie|V&ie,j=O<<5|O>>>27,ce=j+ee+ce-1894007588+te[Se]<<0,K=K<<30|K>>>2,ee=O&K|O&V|K&V,j=ce<<5|ce>>>27,ie=j+ee+ie-1894007588+te[Se+1]<<0,O=O<<30|O>>>2,ee=ce&O|ce&K|O&K,j=ie<<5|ie>>>27,V=j+ee+V-1894007588+te[Se+2]<<0,ce=ce<<30|ce>>>2,ee=ie&ce|ie&O|ce&O,j=V<<5|V>>>27,K=j+ee+K-1894007588+te[Se+3]<<0,ie=ie<<30|ie>>>2,ee=V&ie|V&ce|ie&ce,j=K<<5|K>>>27,O=j+ee+O-1894007588+te[Se+4]<<0,V=V<<30|V>>>2;for(;Se<80;Se+=5)ee=K^V^ie,j=O<<5|O>>>27,ce=j+ee+ce-899497514+te[Se]<<0,K=K<<30|K>>>2,ee=O^K^V,j=ce<<5|ce>>>27,ie=j+ee+ie-899497514+te[Se+1]<<0,O=O<<30|O>>>2,ee=ce^O^K,j=ie<<5|ie>>>27,V=j+ee+V-899497514+te[Se+2]<<0,ce=ce<<30|ce>>>2,ee=ie^ce^O,j=V<<5|V>>>27,K=j+ee+K-899497514+te[Se+3]<<0,ie=ie<<30|ie>>>2,ee=V^ie^ce,j=K<<5|K>>>27,O=j+ee+O-899497514+te[Se+4]<<0,V=V<<30|V>>>2;this.h0=this.h0+O<<0,this.h1=this.h1+K<<0,this.h2=this.h2+V<<0,this.h3=this.h3+ie<<0,this.h4=this.h4+ce<<0},oe.prototype.hex=function(){this.finalize();var O=this.h0,K=this.h1,V=this.h2,ie=this.h3,ce=this.h4;return p[O>>>28&15]+p[O>>>24&15]+p[O>>>20&15]+p[O>>>16&15]+p[O>>>12&15]+p[O>>>8&15]+p[O>>>4&15]+p[O&15]+p[K>>>28&15]+p[K>>>24&15]+p[K>>>20&15]+p[K>>>16&15]+p[K>>>12&15]+p[K>>>8&15]+p[K>>>4&15]+p[K&15]+p[V>>>28&15]+p[V>>>24&15]+p[V>>>20&15]+p[V>>>16&15]+p[V>>>12&15]+p[V>>>8&15]+p[V>>>4&15]+p[V&15]+p[ie>>>28&15]+p[ie>>>24&15]+p[ie>>>20&15]+p[ie>>>16&15]+p[ie>>>12&15]+p[ie>>>8&15]+p[ie>>>4&15]+p[ie&15]+p[ce>>>28&15]+p[ce>>>24&15]+p[ce>>>20&15]+p[ce>>>16&15]+p[ce>>>12&15]+p[ce>>>8&15]+p[ce>>>4&15]+p[ce&15]},oe.prototype.toString=oe.prototype.hex,oe.prototype.digest=function(){this.finalize();var O=this.h0,K=this.h1,V=this.h2,ie=this.h3,ce=this.h4;return[O>>>24&255,O>>>16&255,O>>>8&255,O&255,K>>>24&255,K>>>16&255,K>>>8&255,K&255,V>>>24&255,V>>>16&255,V>>>8&255,V&255,ie>>>24&255,ie>>>16&255,ie>>>8&255,ie&255,ce>>>24&255,ce>>>16&255,ce>>>8&255,ce&255]},oe.prototype.array=oe.prototype.digest,oe.prototype.arrayBuffer=function(){this.finalize();var O=new ArrayBuffer(20),K=new DataView(O);return K.setUint32(0,this.h0),K.setUint32(4,this.h1),K.setUint32(8,this.h2),K.setUint32(12,this.h3),K.setUint32(16,this.h4),O};function ye(O,K){var V,ie=B(O);if(O=ie[0],ie[1]){var ce=[],ee=O.length,Se=0,j;for(V=0;V<ee;++V)j=O.charCodeAt(V),j<128?ce[Se++]=j:j<2048?(ce[Se++]=192|j>>>6,ce[Se++]=128|j&63):j<55296||j>=57344?(ce[Se++]=224|j>>>12,ce[Se++]=128|j>>>6&63,ce[Se++]=128|j&63):(j=65536+((j&1023)<<10|O.charCodeAt(++V)&1023),ce[Se++]=240|j>>>18,ce[Se++]=128|j>>>12&63,ce[Se++]=128|j>>>6&63,ce[Se++]=128|j&63);O=ce}O.length>64&&(O=new oe(!0).update(O).array());var te=[],ge=[];for(V=0;V<64;++V){var Me=O[V]||0;te[V]=92^Me,ge[V]=54^Me}oe.call(this,K),this.update(ge),this.oKeyPad=te,this.inner=!0,this.sharedMemory=K}ye.prototype=new oe,ye.prototype.finalize=function(){if(oe.prototype.finalize.call(this),this.inner){this.inner=!1;var O=this.array();oe.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(O),oe.prototype.finalize.call(this)}};var Te=Q();Te.sha1=Te,Te.sha1.hmac=fe(),l?t.exports=Te:o.sha1=Te})()})(D0);var RC=D0.exports;class FC{constructor(e){this.map=new Map,this.Raptor=e}isURL(e){return/^(http:|https:)/.test(e)}getAsset(e){const n=this.map.get(e);return n&&n.status==="done"?n:(this.ensureAsset(e),null)}async ensureAsset(e){let n=this.map.get(e);if(n){if(n.status==="done")return n;if(n.promise)return await n.promise,n}return!n&&this.isURL(e)&&(n={status:"",image:null,arrayBuffer:null,promise:null},this.map.set(e,n)),n&&n.status===""&&n.promise===null&&this.isURL(e)&&(n.promise=fetch(e,{}).then(r=>r.arrayBuffer()).then(r=>{if(n)n.arrayBuffer=r,n.image=this.Raptor.MakeImageFromEncoded(r),n.status="done",n.promise=null;else throw new Error("Asset is null");return r}),await n.promise),n}appendAsset({imageSource:e,buffer:n}){const r=RC.sha1(n),o=e||`${r}.${OC({buffer:n})}`;if(this.map.get(o))return{id:o};const u=this.Raptor.MakeImageFromEncoded(n);return this.map.set(o,{status:"done",image:u,arrayBuffer:n,promise:null}),{id:o}}}function OC({buffer:t}){const e=Uint8Array.from([137,80,78,71,13,10,26,10]),n=Uint8Array.from([255,216]),r=Uint8Array.from([255,217]),o=new Uint8Array(t.slice(0,8));return o.toString()===e.toString()?"png":new Uint8Array(t.slice(0,2)).toString()===n.toString()&&new Uint8Array(t.slice(t.byteLength-2,t.byteLength)).toString()===r.toString()?"jpg":(console.log(`Unknown image format: ${o}`),"png")}const Go={PURPLE:"#8638E5",BLUE:"#0d99ff"};function NC({fileData:t,layer:e,Raptor:n,canvas:r}){var o,u;if(t.localStore.editingText&&((o=t.localStore.selectedSingleLayer)==null?void 0:o.nodeType)==="TEXT"&&t.localStore.selectedSingleLayer.id===e.id&&e.textData){const{newParagraph:c}=_d({Raptor:n,fileData:t,layer:e,persistNewParagraph:!0}),l=c;if(!l)return;(u=t.paragraphManager.activeParagraph)==null||u.delete(),t.paragraphManager.activeParagraph=l;const{start:h,end:p}=t.localStore.selectionInfo.textRange$,b=new n.Paint;if(b.deleteLater(),b.setColor(hn(Go.BLUE).toFigmaArray()),b.setAntiAlias(!0),b.setAlphaf(.5),h===p){const w=CA({textData:e.textData,paragraph:l,index:h});let E=0,T=0,L=0;l.getLineMetrics().forEach((B,H)=>{H<w.lineNumber?T+=B.height:H===w.lineNumber&&(L=B.height,w.glyph?E=w.glyph.graphemeLayoutBounds[0]:E=u0({localStore:t.localStore,layer:e,line:B}))}),r.drawRect([E,T,E+2,T+L],b)}else l.getRectsForRange(h,p,n.RectHeightStyle.Tight,n.RectWidthStyle.Tight).forEach(E=>{r.drawRect(E.rect,b)})}}function G0(t){const e=new t.Raptor.Paint;return e.setAntiAlias(!0),e.setStrokeWidth(1),e.setColor(hn(Go.BLUE).toFigmaArray()),e.setStyle(t.Raptor.PaintStyle.Stroke),e}function Ud(t){const e=new t.Raptor.Paint;e.setAntiAlias(!0),e.setStrokeWidth(1),e.setColor(hn(Go.BLUE).toFigmaArray());const n=t.Raptor.PathEffect.MakeDash([2,2]);return e.setPathEffect(n),n.delete(),e.setStyle(t.Raptor.PaintStyle.Stroke),e}function Hi(t){return t==="BLUE"?hn(Go.BLUE).toFigmaArray():t==="PURPLE"?hn(Go.PURPLE).toFigmaArray():hn(Go.BLUE).toFigmaArray()}function $C({canvas:t,fileData:e,layer:n}){const r=Rs(e,n)?Hi("PURPLE"):Hi("BLUE"),{absoluteTransform:o,rotate:u}=zi(e,{type:"layer",layerId:n.id});t.save(),t.translate(e.doScale(o[0][2]),e.doScale(o[1][2])),t.rotate(u,0,0);const c=Ud(e);c.setColor(r),t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(n.width),e.doScale(n.height)),c),c.delete(),t.restore()}function BC({fileData:t,canvas:e,layer:n,room:r}){if(n&&r&&fE(t.localStore,n)){const{absoluteTransform:o,rotate:u}=zi(t,{type:"layer",layerId:r.id});e.save(),e.translate(t.doScale(o[0][2]),t.doScale(o[1][2])),e.rotate(u,0,0);const c=Ud(t),l=dE(n),h=hE(n);(l==="MIN"||l==="STRETCH")&&e.drawLine(t.doScale(0),t.doScale(n.top+n.height/2),t.doScale(n.left),t.doScale(n.top+n.height/2),c),(l==="MAX"||l==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width),t.doScale(n.top+n.height/2),t.doScale(r.width),t.doScale(n.top+n.height/2),c),(h==="MIN"||h==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width/2),t.doScale(0),t.doScale(n.left+n.width/2),t.doScale(n.top),c),(h==="MAX"||h==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width/2),t.doScale(n.top+n.height),t.doScale(n.left+n.width/2),t.doScale(r.height),c),c.delete(),e.restore()}}function DC(t,e,n,r,o){_f({fileData:t,localStore:t.localStore,layer:n,instanceChain:r}).forEach(({childInfo:u})=>{const c=Kn(u),l=pc(c);e.save(),e.translate(t.doScale(c[0][2]),t.doScale(c[1][2])),e.rotate(l,0,0);const h=Ud(t);h.setColor(o),e.drawRect(t.Raptor.XYWHRect(0,0,t.doScale(u.width),t.doScale(u.height)),h),h.delete(),e.restore()})}function GC({fileData:t,canvas:e,layer:n,path:r}){const{absoluteTransform:o,rotate:u}=zi(t,{type:"layer",layerId:n.id});if(e.save(),e.translate(t.doScale(o[0][2]),t.doScale(o[1][2])),e.rotate(u,0,0),r){const c=new t.Raptor.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setColor(t.Raptor.RED),c.setAlphaf(.2);const l=n.width/n.vectorData.normalizedSize.x*t.scale,h=n.height/n.vectorData.normalizedSize.y*t.scale,p=t.Raptor.Matrix.scaled(l,h),b=r.copy().transform(p);b.deleteLater(),e.drawPath(b,c)}e.restore()}function UC(t,e,n){var E,T,L;const{absoluteTransform:r,rotate:o}=zi(t,{type:"layer",layerId:n.id});e.save(),e.translate(t.doScale(r[0][2]),t.doScale(r[1][2])),e.rotate(o,0,0);const u=new t.Raptor.Paint;u.deleteLater(),u.setAntiAlias(!0),u.setStyle(t.Raptor.PaintStyle.Stroke),u.setColor(hn(Go.BLUE).toFigmaArray()),u.setStrokeWidth(2);const c=new t.Raptor.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setStyle(t.Raptor.PaintStyle.Stroke),c.setColor(hn("#E1E4E5").toFigmaArray()),c.setStrokeWidth(2);const l=new t.Raptor.Paint;l.deleteLater(),l.setAntiAlias(!0),l.setStyle(t.Raptor.PaintStyle.Fill),l.setColor(hn("#FFFFFF").toFigmaArray());const h=[];let p=null;((T=(E=t.localStore.editingVector)==null?void 0:E.currentOperation)==null?void 0:T.type)==="SegmentCandidate"&&(p=(L=t.localStore.editingVector)==null?void 0:L.currentOperation);const b=[];n.vectorData.vectorNetwork.vertices.forEach((F,B)=>{const H=gs({layer:n,normalizedPoint:F}),Q=Ss(r,H);h.push({type:"VectorVertex",vertexIndex:B,localPoint:H,visualPoint:{x:t.doScale(Q.x),y:t.doScale(Q.y)}})});function w({x:F,y:B,dx:H,dy:Q,segmentId:W,kind:se}){if(!(H===0&&Q===0)){const oe=gs({layer:n,normalizedPoint:{x:F,y:B}}),ye=gs({layer:n,normalizedPoint:{x:H,y:Q}}),Te={x:oe.x+ye.x,y:oe.y+ye.y};if(e.drawCircle(t.doScale(Te.x),t.doScale(Te.y),3,c),e.drawLine(t.doScale(oe.x),t.doScale(oe.y),t.doScale(Te.x),t.doScale(Te.y),c),W>-1){const O=Ss(r,Te);t.overlay$$.push({type:"BezierControlPoint",segmentId:W,kind:se,visualPoint:{x:t.doScale(O.x),y:t.doScale(O.y)},radius:3})}}}if(n.vectorData.vectorNetwork.segments.forEach((F,B)=>{const{start:H,end:Q}=F,W=n.vectorData.vectorNetwork.vertices[H.vertex],se=n.vectorData.vectorNetwork.vertices[Q.vertex];W&&w({x:W.x,y:W.y,dx:H.dx,dy:H.dy,segmentId:B,kind:"start"}),se&&w({x:se.x,y:se.y,dx:Q.dx,dy:Q.dy,segmentId:B,kind:"end"})}),p){const{startVertex:F,endVertex:B}=p;F.vid&&(F.vid===-1&&b.push({type:"VectorVertex",vertexIndex:-1,localPoint:gs({layer:n,normalizedPoint:{x:F.x,y:F.y}}),visualPoint:{x:0,y:0}}),w({x:F.x,y:F.y,dx:F.dx,dy:F.dy,segmentId:-1,kind:"start"})),B.vid===-1&&(b.push({type:"VectorVertex",vertexIndex:-1,localPoint:gs({layer:n,normalizedPoint:{x:B.x,y:B.y}}),visualPoint:{x:0,y:0}}),w({x:B.x,y:B.y,dx:B.dx,dy:B.dy,segmentId:-1,kind:"end"}))}if(h.forEach((F,B)=>{const H=t.doScale(F.localPoint.x),Q=t.doScale(F.localPoint.y);e.drawCircle(H,Q,3,u),e.drawCircle(H,Q,3,l),t.overlayFont&&e.drawText(`${F.vertexIndex}`,H,Q,l,t.overlayFont)}),b.forEach((F,B)=>{const H=t.doScale(F.localPoint.x),Q=t.doScale(F.localPoint.y);e.drawCircle(H,Q,3,u),e.drawCircle(H,Q,3,l)}),t.overlay$$.push(...h),p&&t.localStore.currentStatus!=="bendingSegment"){const{startVertex:F,endVertex:B}=p;if(F&&t.localStore.currentTool==="VectorPenTool"&&!(F.x===B.x&&F.y===B.y)){const H={x:F.x+F.dx,y:F.y+F.dy},Q={x:B.x+B.dx,y:B.y+B.dy},W=new t.Raptor.Path;if(W.deleteLater(),W.moveTo(F.x,F.y),W.cubicTo(H.x,H.y,Q.x,Q.y,B.x,B.y),n.width>0&&n.height>0){const se=t.Raptor.Matrix.scaled(n.width/n.vectorData.normalizedSize.x*t.scale,n.height/n.vectorData.normalizedSize.y*t.scale);W.transform(se)}e.drawPath(W,u)}}e.restore()}function WC({canvas:t,fileData:e,Raptor:n}){const{hoveredTarget:r}=e,o=(r==null?void 0:r.id)||"",u=e.localStore.getLayer(o);if(u&&r){const{instanceChain:c,absoluteTransform:l,rotate:h}=Sd({fileData:e,target:r}),p=Rs(e,u)||c.length>0?Hi("PURPLE"):Hi("BLUE");{const b=Jt({localStore:e.localStore,layer:u,instanceChain:c});t.save(),t.translate(e.doScale(l[0][2]),e.doScale(l[1][2])),t.rotate(h,0,0);const w=new n.Paint;w.setAntiAlias(!0),w.setColor(p),w.setStrokeWidth(2),w.setStyle(n.PaintStyle.Stroke);const E=$m({layer:u,layerInfo:b});t.drawRect(n.XYWHRect(0,0,e.doScale(E.width),e.doScale(E.height)),w),w.delete(),Mn(u)!=="NONE"&&DC(e,t,u,c,p),t.restore()}}}function HC({canvas:t,fileData:e,layer:n,instanceChain:r}){const o=Jt({localStore:e.localStore,layer:n,instanceChain:r}),{absoluteTransform:u,rotate:c}=zi(e,{type:"layer",layerId:n.id});t.save(),t.translate(e.doScale(u[0][2]),e.doScale(u[1][2])),t.rotate(c,0,0);const l=G0(e);l.deleteLater(),l.setStrokeWidth(1.5),Rs(e,n)?l.setColor(Hi("PURPLE")):l.setColor(Hi("BLUE"));const h=$m({layer:n,layerInfo:o});t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(h.width),e.doScale(h.height)),l);const p=new e.Raptor.Paint;p.deleteLater(),p.setColor(e.Raptor.WHITE),p.setStyle(e.Raptor.PaintStyle.Fill),p.setAntiAlias(!0),[[0,0],[h.width,0],[0,h.height],[h.width,h.height]].forEach(b=>{t.save(),t.translate(e.doScale(b[0]),e.doScale(b[1])),zC({canvas:t,fillPaint:p,linePaint:l,fileData:e}),t.restore()}),t.restore()}function zC({canvas:t,linePaint:e,fillPaint:n,fileData:r}){t.drawRect(r.Raptor.XYWHRect(-4,-4,8,8),e),t.drawRect(r.Raptor.XYWHRect(-4,-4,8,8),n)}function jC({canvas:t,fileData:e,options:n}){const{localStore:r}=e;e.overlay$$=[],WC({canvas:t,fileData:e,Raptor:e.Raptor});const o=e.localStore.props.getSelectionInfo();if(o.phantom===null){const c=AE(e.localStore).layer;if(c){if(c.nodeType==="TEXT"){const l=c,{absoluteTransform:h,rotate:p}=zi(e,{type:"layer",layerId:l.id});t.save(),t.translate(e.doScale(h[0][2]),e.doScale(h[1][2])),t.rotate(p,0,0),NC({fileData:e,Raptor:e.Raptor,canvas:t,layer:c}),t.restore()}if(c.nodeType==="vector"){const l=c,{absoluteTransform:h,rotate:p}=zi(e,{type:"layer",layerId:l.id});t.save(),t.translate(e.doScale(h[0][2]),e.doScale(h[1][2])),t.rotate(p,0,0);const b=new e.Raptor.Paint;b.deleteLater(),b.setColor(Hi("BLUE")),b.setStyle(e.Raptor.PaintStyle.Stroke),b.setStrokeWidth(2),b.setAntiAlias(!0),l.vectorData.vectorNetwork.segments.forEach(w=>{const E=l.vectorData.vectorNetwork.vertices[w.start.vertex],T=l.vectorData.vectorNetwork.vertices[w.end.vertex];if(E&&T){const L=new e.Raptor.Path;L.deleteLater(),L.moveTo(E.x,E.y),w.start.dx===0&&w.start.dy===0&&w.end.dx===0&&w.end.dy===0?L.lineTo(T.x,T.y):L.cubicTo(E.x+w.start.dx,E.y+w.start.dy,T.x+w.end.dx,T.y+w.end.dy,T.x,T.y),L.transform(e.Raptor.Matrix.scaled(l.width/l.vectorData.normalizedSize.x*e.scale,l.height/l.vectorData.normalizedSize.y*e.scale)),t.drawPath(L,b)}}),t.restore()}if(c.nodeType==="vector"&&e.localStore.editingVector){const l=c;if(r.vectorEditor&&r.pointerTarget$$&&r.pointerTarget$$.type==="VectorRegion"){const h=r.pointerTarget$$.regionId,p=r.vectorEditor.closedPathList[h];p&&GC({fileData:e,canvas:t,layer:l,path:p})}UC(e,t,l)}else{const l=$r(e,c.parentId);l&&Mn(l)!=="NONE"&&$C({canvas:t,fileData:e,layer:l}),n.enableDrawResizer&&HC({fileData:e,canvas:t,layer:c,instanceChain:[]});const h=So(e.localStore,c);h&&BC({fileData:e,canvas:t,layer:c,room:h})}}}if(o.phantom){const{phantom:u}=o,{absoluteTransform:c,instanceChain:l,rotate:h}=Sd({fileData:e,target:u}),{id:p}=u,b=$r(e,p);if(b){const w=mc({localStore:e.localStore,layer:b,instanceChain:l});t.save(),t.translate(e.doScale(c[0][2]),e.doScale(c[1][2])),t.rotate(h,0,0);const E=G0(e);E.setColor(Rs(e,b)?Hi("PURPLE"):Hi("BLUE")),t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(w.width),e.doScale(w.height)),E),E.delete(),t.restore()}}}function VC({libra:t,width:e,height:n}){var r;t.canvasElement.width=e*window.devicePixelRatio,t.canvasElement.height=n*window.devicePixelRatio,(r=t.surface)==null||r.deleteLater(),t.surface=t.Raptor.MakeOnScreenGLSurface(t.gr,t.canvasElement.width,t.canvasElement.height,t.Raptor.ColorSpace.SRGB),t.canvasDirty=!0}function C3({path:t,localStore:e,elem:n,width:r,height:o,fontStore:u}){return p2({locateFile:l=>`${t}${l}`}).then(l=>{var E;const h=l.GetWebGLContext(n,{preserveDrawingBuffer:1}),b={gr:l.MakeWebGLContext(h),Raptor:l,canvasElement:n,surface:null,canvasDirty:!1,fileData:{localStore:e,layerAssetsMap:{},layerMap:{},fontProvider:l.TypefaceFontProvider.Make(),fontStore:u,snapshotMap:{},doScale(T){return T*e.getPageScale()},get scale(){return e.getPageScale()},assetMap:new FC(l),paragraphManager:{activeParagraph:null},Raptor:l,hoveredTarget:null,overlay$$:[],overlayFont:null}};VC({libra:b,width:r,height:o}),e.props.doAction=()=>{b.canvasDirty=!0};function w(T){var L;if(b.canvasDirty){b.canvasDirty=!1;try{const F=[...e.getNormalLayerList()],B=e.getPageScale();KC({libra:b,canvas:T,layerList:F,scale:B,page:e.props.getCurrentPage(),...a0({localStore:e,canvasElement:n})})}catch(F){console.error(F)}}(L=b.surface)==null||L.requestAnimationFrame(w)}return(E=b.surface)==null||E.requestAnimationFrame(w),b})}const Di=typeof window<"u"?document.createElement("canvas"):null;let uf=!1;function XC({libra:t,page:e,layerList:n,isThumbnail:r}){if(uf)throw new Error("Offscreen canvas is busy");return uf=!0,new Promise(o=>{if(!Di)throw new Error("Offscreen canvas does not exist");let u=1;Di.width=e.width,Di.height=e.height,r?(Di.width=300,u=300/e.width,Di.height=e.height*u):(u=Math.min(4e3/e.width,4e3/e.height,2),Di.width=e.width*u,Di.height=e.height*u);const c=t.Raptor.MakeWebGLCanvasSurface(Di);c==null||c.drawOnce(l=>{l.clear(t.Raptor.TRANSPARENT),l.save();const h={...t.fileData,scale:u,doScale:p=>p*u};U0({fileData:h,Raptor:t.Raptor,canvas:l,page:e,layerList:n,scale:u}),l.restore()}),setTimeout(()=>{Di.toBlob(l=>{l&&(uf=!1,o(l))},"image/png",1)},1e3)})}async function T3({libra:t,page:e,layerList:n,filename:r}){const o=await XC({libra:t,page:e,layerList:n,isThumbnail:!1});o&&YC({blob:o,filename:r})}function YC({blob:t,filename:e}){const n=window.URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.href=n,r.download=e,r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)}function U0({Raptor:t,fileData:e,canvas:n,page:r,layerList:o,scale:u}){const c=vC({Raptor:t,width:r.width*u,height:r.height*u,cornerRadius:0});c&&(c==null||c.deleteLater(),r.fillPaints.forEach(l=>{wo({fill:l,Raptor:t,canvas:n,scaledPath:c,scale:u,paintStyle:null,blendMode:null,layerINFO:{}})})),oc(n,t,e,o,{bounds:N2({x:-9e5/e.scale,y:-9e5/e.scale,width:18e5/e.scale,height:18e5/e.scale}),useSnapshot:!1,tile:null,instanceChain:[]})}function KC({left:t,top:e,libra:n,canvas:r,page:o,layerList:u,scale:c}){r.clear(n.Raptor.TRANSPARENT),r.save(),r.scale(window.devicePixelRatio,window.devicePixelRatio),r.translate(t,e),r.save(),r.clipRect(n.Raptor.XYWHRect(0,0,o.width*c,o.height*c),n.Raptor.ClipOp.Intersect,!0),U0({Raptor:n.Raptor,canvas:r,page:o,layerList:u,scale:c,fileData:n.fileData}),r.restore(),jC({fileData:n.fileData,canvas:r,options:{enableDrawResizer:!1}}),r.restore()}var QC=Object.defineProperty,qC=Object.getOwnPropertyDescriptor,W0=(t,e,n,r)=>{for(var o=r>1?void 0:r?qC(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&QC(e,n,o),o};class H0{constructor(e){this.containerAbsoluteTransform=null,this.layerToBeCreated={startWorldPoint:null,endWorldPoint:null},Is(this),this.context=e,this.fileData=e.fileData}get currentPage(){return this.fileData.localStore.props.getCurrentPage()}get topLevelLayerList(){return this.currentPage.children}get layerMap(){return this.fileData.layerMap}get layerToBeCreatedRect(){const e=this,n={left:0,top:0,width:0,height:0};return e&&e.layerToBeCreated.startWorldPoint&&e.layerToBeCreated.endWorldPoint&&(n.left=Math.min(e.layerToBeCreated.startWorldPoint.x,e.layerToBeCreated.endWorldPoint.x),n.top=Math.min(e.layerToBeCreated.startWorldPoint.y,e.layerToBeCreated.endWorldPoint.y),n.width=Math.abs(e.layerToBeCreated.startWorldPoint.x-e.layerToBeCreated.endWorldPoint.x),n.height=Math.abs(e.layerToBeCreated.startWorldPoint.y-e.layerToBeCreated.endWorldPoint.y)),n}}W0([We],H0.prototype,"layerToBeCreated",2);W0([mt],H0.prototype,"layerToBeCreatedRect",1);const JC={PIXI:{}};typeof window<"u"&&rm(()=>import("./pixi-legacy-DLpdb3YW.js"),__vite__mapDeps([0,1,2,3])).then(t=>{JC.PIXI=t});const ZC={};typeof window<"u"&&rm(()=>import("./index-Ctga1AvS.js").then(t=>t.i),__vite__mapDeps([4,2,1,5])).then(t=>{ZC.ReactQuill=t.default});var z0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var u="",c=0;c<arguments.length;c++){var l=arguments[c];l&&(u=o(u,r(l)))}return u}function r(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var c="";for(var l in u)e.call(u,l)&&u[l]&&(c=o(c,l));return c}function o(u,c){return c?u?u+" "+c:u+c:u}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(z0);var eT=z0.exports;const Jr=Xo(eT);function or(){return or=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},or.apply(null,arguments)}function _t(t){"@babel/helpers - typeof";return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(t)}var tT=Symbol.for("react.element"),nT=Symbol.for("react.transitional.element"),rT=Symbol.for("react.fragment");function iT(t){return t&&_t(t)==="object"&&(t.$$typeof===tT||t.$$typeof===nT)&&t.type===rT}var Lf={},oT=function(e){};function aT(t,e){}function sT(t,e){}function uT(){Lf={}}function j0(t,e,n){!e&&!Lf[n]&&(t(!1,n),Lf[n]=!0)}function Bs(t,e){j0(aT,t,e)}function cT(t,e){j0(sT,t,e)}Bs.preMessage=oT;Bs.resetWarned=uT;Bs.noteOnce=cT;function lT(t,e){if(_t(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_t(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V0(t){var e=lT(t,"string");return _t(e)=="symbol"?e:e+""}function je(t,e,n){return(e=V0(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cg(Object(n),!0).forEach(function(r){je(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lg(t){return t instanceof HTMLElement||t instanceof SVGElement}function fT(t){return t&&_t(t)==="object"&&lg(t.nativeElement)?t.nativeElement:lg(t)?t:null}function dT(t){var e=fT(t);if(e)return e;if(t instanceof Xt.Component){var n;return(n=Gp.findDOMNode)===null||n===void 0?void 0:n.call(Gp,t)}return null}var X0={exports:{}},Ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd=Symbol.for("react.element"),Hd=Symbol.for("react.portal"),Pc=Symbol.for("react.fragment"),Lc=Symbol.for("react.strict_mode"),Mc=Symbol.for("react.profiler"),Ic=Symbol.for("react.provider"),kc=Symbol.for("react.context"),hT=Symbol.for("react.server_context"),Rc=Symbol.for("react.forward_ref"),Fc=Symbol.for("react.suspense"),Oc=Symbol.for("react.suspense_list"),Nc=Symbol.for("react.memo"),$c=Symbol.for("react.lazy"),pT=Symbol.for("react.offscreen"),Y0;Y0=Symbol.for("react.module.reference");function Ur(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Wd:switch(t=t.type,t){case Pc:case Mc:case Lc:case Fc:case Oc:return t;default:switch(t=t&&t.$$typeof,t){case hT:case kc:case Rc:case $c:case Nc:case Ic:return t;default:return e}}case Hd:return e}}}Ot.ContextConsumer=kc;Ot.ContextProvider=Ic;Ot.Element=Wd;Ot.ForwardRef=Rc;Ot.Fragment=Pc;Ot.Lazy=$c;Ot.Memo=Nc;Ot.Portal=Hd;Ot.Profiler=Mc;Ot.StrictMode=Lc;Ot.Suspense=Fc;Ot.SuspenseList=Oc;Ot.isAsyncMode=function(){return!1};Ot.isConcurrentMode=function(){return!1};Ot.isContextConsumer=function(t){return Ur(t)===kc};Ot.isContextProvider=function(t){return Ur(t)===Ic};Ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wd};Ot.isForwardRef=function(t){return Ur(t)===Rc};Ot.isFragment=function(t){return Ur(t)===Pc};Ot.isLazy=function(t){return Ur(t)===$c};Ot.isMemo=function(t){return Ur(t)===Nc};Ot.isPortal=function(t){return Ur(t)===Hd};Ot.isProfiler=function(t){return Ur(t)===Mc};Ot.isStrictMode=function(t){return Ur(t)===Lc};Ot.isSuspense=function(t){return Ur(t)===Fc};Ot.isSuspenseList=function(t){return Ur(t)===Oc};Ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Pc||t===Mc||t===Lc||t===Fc||t===Oc||t===pT||typeof t=="object"&&t!==null&&(t.$$typeof===$c||t.$$typeof===Nc||t.$$typeof===Ic||t.$$typeof===kc||t.$$typeof===Rc||t.$$typeof===Y0||t.getModuleId!==void 0)};Ot.typeOf=Ur;X0.exports=Ot;var cf=X0.exports;function zd(t,e,n){var r=re.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var gT=Number(re.version.split(".")[0]),K0=function(e,n){typeof e=="function"?e(n):_t(e)==="object"&&e&&"current"in e&&(e.current=n)},mT=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.filter(Boolean);return o.length<=1?o[0]:function(u){n.forEach(function(c){K0(c,u)})}},P3=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return zd(function(){return mT.apply(void 0,n)},n,function(o,u){return o.length!==u.length||o.every(function(c,l){return c!==u[l]})})},Q0=function(e){var n,r;if(!e)return!1;if(jd(e)&&gT>=19)return!0;var o=cf.isMemo(e)?e.type.type:e.type;return!(typeof o=="function"&&!((n=o.prototype)!==null&&n!==void 0&&n.render)&&o.$$typeof!==cf.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==cf.ForwardRef)};function jd(t){return re.isValidElement(t)&&!iT(t)}var L3=function(e){return jd(e)&&Q0(e)},yT=function(e){if(e&&jd(e)){var n=e;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null};function mi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V0(r.key),r)}}function yi(t,e,n){return e&&fg(t.prototype,e),n&&fg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mf(t,e){return Mf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Mf(t,e)}function Bc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mf(t,e)}function ac(t){return ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ac(t)}function q0(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q0=function(){return!!t})()}function Uo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vT(t,e){if(e&&(_t(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uo(t)}function Dc(t){var e=q0();return function(){var n,r=ac(t);if(e){var o=ac(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vT(this,n)}}function If(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wT(t){if(Array.isArray(t))return If(t)}function J0(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vd(t,e){if(t){if(typeof t=="string")return If(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?If(t,e):void 0}}function bT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mr(t){return wT(t)||J0(t)||Vd(t)||bT()}var Z0=function(e){return+setTimeout(e,16)},ey=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(Z0=function(e){return window.requestAnimationFrame(e)},ey=function(e){return window.cancelAnimationFrame(e)});var dg=0,Xd=new Map;function ty(t){Xd.delete(t)}var kf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;dg+=1;var r=dg;function o(u){if(u===0)ty(r),e();else{var c=Z0(function(){o(u-1)});Xd.set(r,c)}}return o(n),r};kf.cancel=function(t){var e=Xd.get(t);return ty(t),ey(e)};function ny(t){if(Array.isArray(t))return t}function xT(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,u,c,l=[],h=!0,p=!1;try{if(u=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=u.call(n)).done)&&(l.push(r.value),l.length!==e);h=!0);}catch(b){p=!0,o=b}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(p)throw o}}return l}}function ry(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function et(t,e){return ny(t)||xT(t,e)||Vd(t,e)||ry()}function Es(t){for(var e=0,n,r=0,o=t.length;o>=4;++r,o-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Vi(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function ST(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var hg="data-rc-order",pg="data-rc-priority",ET="rc-util-key",Rf=new Map;function iy(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):ET}function Gc(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function AT(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function Yd(t){return Array.from((Rf.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function oy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Vi())return null;var n=e.csp,r=e.prepend,o=e.priority,u=o===void 0?0:o,c=AT(r),l=c==="prependQueue",h=document.createElement("style");h.setAttribute(hg,c),l&&u&&h.setAttribute(pg,"".concat(u)),n!=null&&n.nonce&&(h.nonce=n==null?void 0:n.nonce),h.innerHTML=t;var p=Gc(e),b=p.firstChild;if(r){if(l){var w=(e.styles||Yd(p)).filter(function(E){if(!["prepend","prependQueue"].includes(E.getAttribute(hg)))return!1;var T=Number(E.getAttribute(pg)||0);return u>=T});if(w.length)return p.insertBefore(h,w[w.length-1].nextSibling),h}p.insertBefore(h,b)}else p.appendChild(h);return h}function ay(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Gc(e);return(e.styles||Yd(n)).find(function(r){return r.getAttribute(iy(e))===t})}function sy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=ay(t,e);if(n){var r=Gc(e);r.removeChild(n)}}function _T(t,e){var n=Rf.get(t);if(!n||!ST(document,n)){var r=oy("",e),o=r.parentNode;Rf.set(t,o),t.removeChild(r)}}function Wo(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Gc(n),o=Yd(r),u=De(De({},n),{},{styles:o});_T(r,u);var c=ay(e,u);if(c){var l,h;if((l=u.csp)!==null&&l!==void 0&&l.nonce&&c.nonce!==((h=u.csp)===null||h===void 0?void 0:h.nonce)){var p;c.nonce=(p=u.csp)===null||p===void 0?void 0:p.nonce}return c.innerHTML!==t&&(c.innerHTML=t),c}var b=oy(t,u);return b.setAttribute(iy(u),e),b}function CT(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vo(t,e){if(t==null)return{};var n,r,o=CT(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(r=0;r<u.length;r++)n=u[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function TT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function o(u,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=r.has(u);if(Bs(!h,"Warning: There may be circular references"),h)return!1;if(u===c)return!0;if(n&&l>1)return!1;r.add(u);var p=l+1;if(Array.isArray(u)){if(!Array.isArray(c)||u.length!==c.length)return!1;for(var b=0;b<u.length;b++)if(!o(u[b],c[b],p))return!1;return!0}if(u&&c&&_t(u)==="object"&&_t(c)==="object"){var w=Object.keys(u);return w.length!==Object.keys(c).length?!1:w.every(function(E){return o(u[E],c[E],p)})}return!1}return o(t,e)}var PT="%";function Ff(t){return t.join(PT)}var LT=function(){function t(e){mi(this,t),je(this,"instanceId",void 0),je(this,"cache",new Map),this.instanceId=e}return yi(t,[{key:"get",value:function(n){return this.opGet(Ff(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(Ff(n),r)}},{key:"opUpdate",value:function(n,r){var o=this.cache.get(n),u=r(o);u===null?this.cache.delete(n):this.cache.set(n,u)}}]),t}(),Ea="data-token-hash",Zr="data-css-hash",bo="__cssinjs_instance__";function MT(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Zr,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(o){o[bo]=o[bo]||t,o[bo]===t&&document.head.insertBefore(o,n)});var r={};Array.from(document.querySelectorAll("style[".concat(Zr,"]"))).forEach(function(o){var u=o.getAttribute(Zr);if(r[u]){if(o[bo]===t){var c;(c=o.parentNode)===null||c===void 0||c.removeChild(o)}}else r[u]=!0})}return new LT(t)}var Ds=re.createContext({hashPriority:"low",cache:MT(),defaultCache:!0});function IT(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var Kd=function(){function t(){mi(this,t),je(this,"cache",void 0),je(this,"keys",void 0),je(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return yi(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,o,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c={map:this.cache};return n.forEach(function(l){if(!c)c=void 0;else{var h;c=(h=c)===null||h===void 0||(h=h.map)===null||h===void 0?void 0:h.get(l)}}),(r=c)!==null&&r!==void 0&&r.value&&u&&(c.value[1]=this.cacheCallTimes++),(o=c)===null||o===void 0?void 0:o.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var o=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var u=this.keys.reduce(function(p,b){var w=et(p,2),E=w[1];return o.internalGet(b)[1]<E?[b,o.internalGet(b)[1]]:p},[this.keys[0],this.cacheCallTimes]),c=et(u,1),l=c[0];this.delete(l)}this.keys.push(n)}var h=this.cache;n.forEach(function(p,b){if(b===n.length-1)h.set(p,{value:[r,o.cacheCallTimes++]});else{var w=h.get(p);w?w.map||(w.map=new Map):h.set(p,{map:new Map}),h=h.get(p).map}})}},{key:"deleteByPath",value:function(n,r){var o=n.get(r[0]);if(r.length===1){var u;return o.map?n.set(r[0],{map:o.map}):n.delete(r[0]),(u=o.value)===null||u===void 0?void 0:u[0]}var c=this.deleteByPath(o.map,r.slice(1));return(!o.map||o.map.size===0)&&!o.value&&n.delete(r[0]),c}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!IT(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();je(Kd,"MAX_CACHE_SIZE",20);je(Kd,"MAX_CACHE_OFFSET",5);var gg=0,uy=function(){function t(e){mi(this,t),je(this,"derivatives",void 0),je(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=gg,e.length===0&&(e.length>0,void 0),gg+=1}return yi(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,o){return o(n,r)},void 0)}}]),t}(),lf=new Kd;function Of(t){var e=Array.isArray(t)?t:[t];return lf.has(e)||lf.set(e,new uy(e)),lf.get(e)}var kT=new WeakMap,ff={};function RT(t,e){for(var n=kT,r=0;r<e.length;r+=1){var o=e[r];n.has(o)||n.set(o,new WeakMap),n=n.get(o)}return n.has(ff)||n.set(ff,t()),n.get(ff)}var mg=new WeakMap;function bs(t){var e=mg.get(t)||"";return e||(Object.keys(t).forEach(function(n){var r=t[n];e+=n,r instanceof uy?e+=r.id:r&&_t(r)==="object"?e+=bs(r):e+=r}),e=Es(e),mg.set(t,e)),e}function yg(t,e){return Es("".concat(e,"_").concat(bs(t)))}var Nf=Vi();function $f(t){return typeof t=="number"?"".concat(t,"px"):t}function sc(t,e,n){var r,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(u)return t;var c=De(De({},o),{},(r={},je(r,Ea,e),je(r,Zr,n),r)),l=Object.keys(c).map(function(h){var p=c[h];return p?"".concat(h,'="').concat(p,'"'):null}).filter(function(h){return h}).join(" ");return"<style ".concat(l,">").concat(t,"</style>")}var Ku=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},FT=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(o){var u=et(o,2),c=u[0],l=u[1];return"".concat(c,":").concat(l,";")}).join(""),"}"):""},cy=function(e,n,r){var o={},u={};return Object.entries(e).forEach(function(c){var l,h,p=et(c,2),b=p[0],w=p[1];if(r!=null&&(l=r.preserve)!==null&&l!==void 0&&l[b])u[b]=w;else if((typeof w=="string"||typeof w=="number")&&!(r!=null&&(h=r.ignore)!==null&&h!==void 0&&h[b])){var E,T=Ku(b,r==null?void 0:r.prefix);o[T]=typeof w=="number"&&!(r!=null&&(E=r.unitless)!==null&&E!==void 0&&E[b])?"".concat(w,"px"):String(w),u[b]="var(".concat(T,")")}}),[u,FT(o,n,{scope:r==null?void 0:r.scope})]},vg=Vi()?re.useLayoutEffect:re.useEffect,ly=function(e,n){var r=re.useRef(!0);vg(function(){return e(r.current)},n),vg(function(){return r.current=!1,function(){r.current=!0}},[])},M3=function(e,n){ly(function(r){if(!r)return e()},n)},OT=De({},hd),wg=OT.useInsertionEffect,NT=function(e,n,r){re.useMemo(e,r),ly(function(){return n(!0)},r)},$T=wg?function(t,e,n){return wg(function(){return t(),e()},n)}:NT,BT=De({},hd),DT=BT.useInsertionEffect,GT=function(e){var n=[],r=!1;function o(u){r||n.push(u)}return re.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(u){return u()})}},e),o},UT=function(){return function(e){e()}},WT=typeof DT<"u"?GT:UT;function Qd(t,e,n,r,o){var u=re.useContext(Ds),c=u.cache,l=[t].concat(mr(e)),h=Ff(l),p=WT([h]),b=function(L){c.opUpdate(h,function(F){var B=F||[void 0,void 0],H=et(B,2),Q=H[0],W=Q===void 0?0:Q,se=H[1],fe=se,oe=fe||n(),ye=[W,oe];return L?L(ye):ye})};re.useMemo(function(){b()},[h]);var w=c.opGet(h),E=w[1];return $T(function(){o==null||o(E)},function(T){return b(function(L){var F=et(L,2),B=F[0],H=F[1];return T&&B===0&&(o==null||o(E)),[B+1,H]}),function(){c.opUpdate(h,function(L){var F=L||[],B=et(F,2),H=B[0],Q=H===void 0?0:H,W=B[1],se=Q-1;return se===0?(p(function(){(T||!c.opGet(h))&&(r==null||r(W,!1))}),null):[Q-1,W]})}},[h]),E}var HT={},zT="css",Bo=new Map;function jT(t){Bo.set(t,(Bo.get(t)||0)+1)}function VT(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Ea,'="').concat(t,'"]'));n.forEach(function(r){if(r[bo]===e){var o;(o=r.parentNode)===null||o===void 0||o.removeChild(r)}})}}var XT=0;function YT(t,e){Bo.set(t,(Bo.get(t)||0)-1);var n=Array.from(Bo.keys()),r=n.filter(function(o){var u=Bo.get(o)||0;return u<=0});n.length-r.length>XT&&r.forEach(function(o){VT(o,e),Bo.delete(o)})}var KT=function(e,n,r,o){var u=r.getDerivativeToken(e),c=De(De({},u),n);return o&&(c=o(c)),c},fy="token";function QT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=re.useContext(Ds),o=r.cache.instanceId,u=r.container,c=n.salt,l=c===void 0?"":c,h=n.override,p=h===void 0?HT:h,b=n.formatToken,w=n.getComputedToken,E=n.cssVar,T=RT(function(){return Object.assign.apply(Object,[{}].concat(mr(e)))},e),L=bs(T),F=bs(p),B=E?bs(E):"",H=Qd(fy,[l,t.id,L,F,B],function(){var Q,W=w?w(T,p,t):KT(T,p,t,b),se=De({},W),fe="";if(E){var oe=cy(W,E.key,{prefix:E.prefix,ignore:E.ignore,unitless:E.unitless,preserve:E.preserve}),ye=et(oe,2);W=ye[0],fe=ye[1]}var Te=yg(W,l);W._tokenKey=Te,se._tokenKey=yg(se,l);var O=(Q=E==null?void 0:E.key)!==null&&Q!==void 0?Q:Te;W._themeKey=O,jT(O);var K="".concat(zT,"-").concat(Es(Te));return W._hashId=K,[W,K,se,fe,(E==null?void 0:E.key)||""]},function(Q){YT(Q[0]._themeKey,o)},function(Q){var W=et(Q,4),se=W[0],fe=W[3];if(E&&fe){var oe=Wo(fe,Es("css-variables-".concat(se._themeKey)),{mark:Zr,prepend:"queue",attachTo:u,priority:-999});oe[bo]=o,oe.setAttribute(Ea,se._themeKey)}});return H}var qT=function(e,n,r){var o=et(e,5),u=o[2],c=o[3],l=o[4],h=r||{},p=h.plain;if(!c)return null;var b=u._tokenKey,w=-999,E={"data-rc-order":"prependQueue","data-rc-priority":"".concat(w)},T=sc(c,l,b,E,p);return[w,b,T]},JT={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dy="comm",hy="rule",py="decl",ZT="@import",eP="@namespace",tP="@keyframes",nP="@layer",gy=Math.abs,qd=String.fromCharCode;function my(t){return t.trim()}function Qu(t,e,n){return t.replace(e,n)}function rP(t,e,n){return t.indexOf(e,n)}function xa(t,e){return t.charCodeAt(e)|0}function Aa(t,e,n){return t.slice(e,n)}function hi(t){return t.length}function iP(t){return t.length}function Du(t,e){return e.push(t),t}var Uc=1,_a=1,yy=0,Gr=0,vn=0,La="";function Jd(t,e,n,r,o,u,c,l){return{value:t,root:e,parent:n,type:r,props:o,children:u,line:Uc,column:_a,length:c,return:"",siblings:l}}function oP(){return vn}function aP(){return vn=Gr>0?xa(La,--Gr):0,_a--,vn===10&&(_a=1,Uc--),vn}function ei(){return vn=Gr<yy?xa(La,Gr++):0,_a++,vn===10&&(_a=1,Uc++),vn}function xo(){return xa(La,Gr)}function qu(){return Gr}function Wc(t,e){return Aa(La,t,e)}function As(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sP(t){return Uc=_a=1,yy=hi(La=t),Gr=0,[]}function uP(t){return La="",t}function df(t){return my(Wc(Gr-1,Bf(t===91?t+2:t===40?t+1:t)))}function cP(t){for(;(vn=xo())&&vn<33;)ei();return As(t)>2||As(vn)>3?"":" "}function lP(t,e){for(;--e&&ei()&&!(vn<48||vn>102||vn>57&&vn<65||vn>70&&vn<97););return Wc(t,qu()+(e<6&&xo()==32&&ei()==32))}function Bf(t){for(;ei();)switch(vn){case t:return Gr;case 34:case 39:t!==34&&t!==39&&Bf(vn);break;case 40:t===41&&Bf(t);break;case 92:ei();break}return Gr}function fP(t,e){for(;ei()&&t+vn!==57;)if(t+vn===84&&xo()===47)break;return"/*"+Wc(e,Gr-1)+"*"+qd(t===47?t:ei())}function dP(t){for(;!As(xo());)ei();return Wc(t,Gr)}function hP(t){return uP(Ju("",null,null,null,[""],t=sP(t),0,[0],t))}function Ju(t,e,n,r,o,u,c,l,h){for(var p=0,b=0,w=c,E=0,T=0,L=0,F=1,B=1,H=1,Q=0,W="",se=o,fe=u,oe=r,ye=W;B;)switch(L=Q,Q=ei()){case 40:if(L!=108&&xa(ye,w-1)==58){rP(ye+=Qu(df(Q),"&","&\f"),"&\f",gy(p?l[p-1]:0))!=-1&&(H=-1);break}case 34:case 39:case 91:ye+=df(Q);break;case 9:case 10:case 13:case 32:ye+=cP(L);break;case 92:ye+=lP(qu()-1,7);continue;case 47:switch(xo()){case 42:case 47:Du(pP(fP(ei(),qu()),e,n,h),h),(As(L||1)==5||As(xo()||1)==5)&&hi(ye)&&Aa(ye,-1,void 0)!==" "&&(ye+=" ");break;default:ye+="/"}break;case 123*F:l[p++]=hi(ye)*H;case 125*F:case 59:case 0:switch(Q){case 0:case 125:B=0;case 59+b:H==-1&&(ye=Qu(ye,/\f/g,"")),T>0&&(hi(ye)-w||F===0&&L===47)&&Du(T>32?xg(ye+";",r,n,w-1,h):xg(Qu(ye," ","")+";",r,n,w-2,h),h);break;case 59:ye+=";";default:if(Du(oe=bg(ye,e,n,p,b,o,l,W,se=[],fe=[],w,u),u),Q===123)if(b===0)Ju(ye,e,oe,oe,se,u,w,l,fe);else{switch(E){case 99:if(xa(ye,3)===110)break;case 108:if(xa(ye,2)===97)break;default:b=0;case 100:case 109:case 115:}b?Ju(t,oe,oe,r&&Du(bg(t,oe,oe,0,0,o,l,W,o,se=[],w,fe),fe),o,fe,w,l,r?se:fe):Ju(ye,oe,oe,oe,[""],fe,0,l,fe)}}p=b=T=0,F=H=1,W=ye="",w=c;break;case 58:w=1+hi(ye),T=L;default:if(F<1){if(Q==123)--F;else if(Q==125&&F++==0&&aP()==125)continue}switch(ye+=qd(Q),Q*F){case 38:H=b>0?1:(ye+="\f",-1);break;case 44:l[p++]=(hi(ye)-1)*H,H=1;break;case 64:xo()===45&&(ye+=df(ei())),E=xo(),b=w=hi(W=ye+=dP(qu())),Q++;break;case 45:L===45&&hi(ye)==2&&(F=0)}}return u}function bg(t,e,n,r,o,u,c,l,h,p,b,w){for(var E=o-1,T=o===0?u:[""],L=iP(T),F=0,B=0,H=0;F<r;++F)for(var Q=0,W=Aa(t,E+1,E=gy(B=c[F])),se=t;Q<L;++Q)(se=my(B>0?T[Q]+" "+W:Qu(W,/&\f/g,T[Q])))&&(h[H++]=se);return Jd(t,e,n,o===0?hy:l,h,p,b,w)}function pP(t,e,n,r){return Jd(t,e,n,dy,qd(oP()),Aa(t,2,-2),0,r)}function xg(t,e,n,r,o){return Jd(t,e,n,py,Aa(t,0,r),Aa(t,r+1,-1),r,o)}function Df(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function gP(t,e,n,r){switch(t.type){case nP:if(t.children.length)break;case ZT:case eP:case py:return t.return=t.return||t.value;case dy:return"";case tP:return t.return=t.value+"{"+Df(t.children,r)+"}";case hy:if(!hi(t.value=t.props.join(",")))return""}return hi(n=Df(t.children,r))?t.return=t.value+"{"+n+"}":""}var Sg="data-ant-cssinjs-cache-path",vy="_FILE_STYLE__",Ho,wy=!0;function mP(){if(!Ho&&(Ho={},Vi())){var t=document.createElement("div");t.className=Sg,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(o){var u=o.split(":"),c=et(u,2),l=c[0],h=c[1];Ho[l]=h});var n=document.querySelector("style[".concat(Sg,"]"));if(n){var r;wy=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function yP(t){return mP(),!!Ho[t]}function vP(t){var e=Ho[t],n=null;if(e&&Vi())if(wy)n=vy;else{var r=document.querySelector("style[".concat(Zr,'="').concat(Ho[t],'"]'));r?n=r.innerHTML:delete Ho[t]}return[n,e]}var wP="_skip_check_",by="_multi_value_";function Zu(t){var e=Df(hP(t),gP);return e.replace(/\{%%%\:[^;];}/g,";")}function bP(t){return _t(t)==="object"&&t&&(wP in t||by in t)}function Eg(t,e,n){if(!e)return t;var r=".".concat(e),o=n==="low"?":where(".concat(r,")"):r,u=t.split(",").map(function(c){var l,h=c.trim().split(/\s+/),p=h[0]||"",b=((l=p.match(/^\w+/))===null||l===void 0?void 0:l[0])||"";return p="".concat(b).concat(o).concat(p.slice(b.length)),[p].concat(mr(h.slice(1))).join(" ")});return u.join(",")}var xP=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},o=r.root,u=r.injectHash,c=r.parentSelectors,l=n.hashId,h=n.layer;n.path;var p=n.hashPriority,b=n.transformers,w=b===void 0?[]:b;n.linters;var E="",T={};function L(H){var Q=H.getName(l);if(!T[Q]){var W=t(H.style,n,{root:!1,parentSelectors:c}),se=et(W,1),fe=se[0];T[Q]="@keyframes ".concat(H.getName(l)).concat(fe)}}function F(H){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return H.forEach(function(W){Array.isArray(W)?F(W,Q):W&&Q.push(W)}),Q}var B=F(Array.isArray(e)?e:[e]);return B.forEach(function(H){var Q=typeof H=="string"&&!o?{}:H;if(typeof Q=="string")E+="".concat(Q,`
`);else if(Q._keyframe)L(Q);else{var W=w.reduce(function(se,fe){var oe;return(fe==null||(oe=fe.visit)===null||oe===void 0?void 0:oe.call(fe,se))||se},Q);Object.keys(W).forEach(function(se){var fe=W[se];if(_t(fe)==="object"&&fe&&(se!=="animationName"||!fe._keyframe)&&!bP(fe)){var oe=!1,ye=se.trim(),Te=!1;(o||u)&&l?ye.startsWith("@")?oe=!0:ye==="&"?ye=Eg("",l,p):ye=Eg(se,l,p):o&&!l&&(ye==="&"||ye==="")&&(ye="",Te=!0);var O=t(fe,n,{root:Te,injectHash:oe,parentSelectors:[].concat(mr(c),[ye])}),K=et(O,2),V=K[0],ie=K[1];T=De(De({},T),ie),E+="".concat(ye).concat(V)}else{let Se=function(j,te){var ge=j.replace(/[A-Z]/g,function(Fe){return"-".concat(Fe.toLowerCase())}),Me=te;!JT[j]&&typeof Me=="number"&&Me!==0&&(Me="".concat(Me,"px")),j==="animationName"&&te!==null&&te!==void 0&&te._keyframe&&(L(te),Me=te.getName(l)),E+="".concat(ge,":").concat(Me,";")};var ce,ee=(ce=fe==null?void 0:fe.value)!==null&&ce!==void 0?ce:fe;_t(fe)==="object"&&fe!==null&&fe!==void 0&&fe[by]&&Array.isArray(ee)?ee.forEach(function(j){Se(se,j)}):Se(se,ee)}})}}),o?h&&(E&&(E="@layer ".concat(h.name," {").concat(E,"}")),h.dependencies&&(T["@layer ".concat(h.name)]=h.dependencies.map(function(H){return"@layer ".concat(H,", ").concat(h.name,";")}).join(`
`))):E="{".concat(E,"}"),[E,T]};function xy(t,e){return Es("".concat(t.join("%")).concat(e))}function SP(){return null}var Sy="style";function Gf(t,e){var n=t.token,r=t.path,o=t.hashId,u=t.layer,c=t.nonce,l=t.clientOnly,h=t.order,p=h===void 0?0:h,b=re.useContext(Ds),w=b.autoClear;b.mock;var E=b.defaultCache,T=b.hashPriority,L=b.container,F=b.ssrInline,B=b.transformers,H=b.linters,Q=b.cache,W=b.layer,se=n._tokenKey,fe=[se];W&&fe.push("layer"),fe.push.apply(fe,mr(r));var oe=Nf,ye=Qd(Sy,fe,function(){var ie=fe.join("|");if(yP(ie)){var ce=vP(ie),ee=et(ce,2),Se=ee[0],j=ee[1];if(Se)return[Se,se,j,{},l,p]}var te=e(),ge=xP(te,{hashId:o,hashPriority:T,layer:W?u:void 0,path:r.join("-"),transformers:B,linters:H}),Me=et(ge,2),Fe=Me[0],Pe=Me[1],Oe=Zu(Fe),ot=xy(fe,Oe);return[Oe,se,ot,Pe,l,p]},function(ie,ce){var ee=et(ie,3),Se=ee[2];(ce||w)&&Nf&&sy(Se,{mark:Zr})},function(ie){var ce=et(ie,4),ee=ce[0];ce[1];var Se=ce[2],j=ce[3];if(oe&&ee!==vy){var te={mark:Zr,prepend:W?!1:"queue",attachTo:L,priority:p},ge=typeof c=="function"?c():c;ge&&(te.csp={nonce:ge});var Me=[],Fe=[];Object.keys(j).forEach(function(Oe){Oe.startsWith("@layer")?Me.push(Oe):Fe.push(Oe)}),Me.forEach(function(Oe){Wo(Zu(j[Oe]),"_layer-".concat(Oe),De(De({},te),{},{prepend:!0}))});var Pe=Wo(ee,Se,te);Pe[bo]=Q.instanceId,Pe.setAttribute(Ea,se),Fe.forEach(function(Oe){Wo(Zu(j[Oe]),"_effect-".concat(Oe),te)})}}),Te=et(ye,3),O=Te[0],K=Te[1],V=Te[2];return function(ie){var ce;if(!F||oe||!E)ce=re.createElement(SP,null);else{var ee;ce=re.createElement("style",or({},(ee={},je(ee,Ea,K),je(ee,Zr,V),ee),{dangerouslySetInnerHTML:{__html:O}}))}return re.createElement(re.Fragment,null,ce,ie)}}var EP=function(e,n,r){var o=et(e,6),u=o[0],c=o[1],l=o[2],h=o[3],p=o[4],b=o[5],w=r||{},E=w.plain;if(p)return null;var T=u,L={"data-rc-order":"prependQueue","data-rc-priority":"".concat(b)};return T=sc(u,c,l,L,E),h&&Object.keys(h).forEach(function(F){if(!n[F]){n[F]=!0;var B=Zu(h[F]),H=sc(B,c,"_effect-".concat(F),L,E);F.startsWith("@layer")?T=H+T:T+=H}}),[b,l,T]},Ey="cssVar",AP=function(e,n){var r=e.key,o=e.prefix,u=e.unitless,c=e.ignore,l=e.token,h=e.scope,p=h===void 0?"":h,b=re.useContext(Ds),w=b.cache.instanceId,E=b.container,T=l._tokenKey,L=[].concat(mr(e.path),[r,p,T]),F=Qd(Ey,L,function(){var B=n(),H=cy(B,r,{prefix:o,unitless:u,ignore:c,scope:p}),Q=et(H,2),W=Q[0],se=Q[1],fe=xy(L,se);return[W,se,fe,r]},function(B){var H=et(B,3),Q=H[2];Nf&&sy(Q,{mark:Zr})},function(B){var H=et(B,3),Q=H[1],W=H[2];if(Q){var se=Wo(Q,W,{mark:Zr,prepend:"queue",attachTo:E,priority:-999});se[bo]=w,se.setAttribute(Ea,r)}});return F},_P=function(e,n,r){var o=et(e,4),u=o[1],c=o[2],l=o[3],h=r||{},p=h.plain;if(!u)return null;var b=-999,w={"data-rc-order":"prependQueue","data-rc-priority":"".concat(b)},E=sc(u,l,c,w,p);return[b,c,E]},ms;ms={},je(ms,Sy,EP),je(ms,fy,qT),je(ms,Ey,_P);var Ag=function(){function t(e,n){mi(this,t),je(this,"name",void 0),je(this,"style",void 0),je(this,"_keyframe",!0),this.name=e,this.style=n}return yi(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function ga(t){return t.notSplit=!0,t}ga(["borderTop","borderBottom"]),ga(["borderTop"]),ga(["borderBottom"]),ga(["borderLeft","borderRight"]),ga(["borderLeft"]),ga(["borderRight"]);var Zd=re.createContext({});function CP(t){return ny(t)||J0(t)||Vd(t)||ry()}function Uf(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function Ay(t,e,n,r){if(!e.length)return n;var o=CP(e),u=o[0],c=o.slice(1),l;return!t&&typeof u=="number"?l=[]:Array.isArray(t)?l=mr(t):l=De({},t),r&&n===void 0&&c.length===1?delete l[u][c[0]]:l[u]=Ay(l[u],c,n,r),l}function hf(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!Uf(t,e.slice(0,-1))?t:Ay(t,e,n,r)}function TP(t){return _t(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function _g(t){return Array.isArray(t)?[]:{}}var PP=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function LP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=_g(e[0]);return e.forEach(function(o){function u(c,l){var h=new Set(l),p=Uf(o,c),b=Array.isArray(p);if(b||TP(p)){if(!h.has(p)){h.add(p);var w=Uf(r,c);b?r=hf(r,c,[]):(!w||_t(w)!=="object")&&(r=hf(r,c,_g(p))),PP(p).forEach(function(E){u([].concat(mr(c),[E]),h)})}}else r=hf(r,c,p)}u([])}),r}function MP(){}const IP=re.createContext({}),_y=()=>{const t=()=>{};return t.deprecated=MP,t},kP=re.createContext(void 0);var RP={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},FP={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},OP=De(De({},FP),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const Cy={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Cg={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},OP),timePickerLocale:Object.assign({},Cy)},_r="${label} is not a valid ${type}",Hc={locale:"en",Pagination:RP,DatePicker:Cg,TimePicker:Cy,Calendar:Cg,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:_r,method:_r,array:_r,object:_r,number:_r,date:_r,boolean:_r,integer:_r,float:_r,regexp:_r,email:_r,url:_r,hex:_r},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let ec=Object.assign({},Hc.Modal),tc=[];const Tg=()=>tc.reduce((t,e)=>Object.assign(Object.assign({},t),e),Hc.Modal);function NP(t){if(t){const e=Object.assign({},t);return tc.push(e),ec=Tg(),()=>{tc=tc.filter(n=>n!==e),ec=Tg()}}ec=Object.assign({},Hc.Modal)}function I3(){return ec}const Ty=re.createContext(void 0),$P="internalMark",BP=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;re.useEffect(()=>NP(e==null?void 0:e.Modal),[e]);const o=re.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return re.createElement(Ty.Provider,{value:o},n)},Py={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},_s=Object.assign(Object.assign({},Py),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Ln=Math.round;function pf(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(o=>parseFloat(o));for(let o=0;o<3;o+=1)r[o]=e(r[o]||0,n[o]||"",o);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Pg=(t,e,n)=>n===0?t:t/100;function ys(t,e){const n=e||255;return t>n?n:t<0?0:t}class dn{constructor(e){je(this,"isValid",!0),je(this,"r",0),je(this,"g",0),je(this,"b",0),je(this,"a",1),je(this,"_h",void 0),je(this,"_s",void 0),je(this,"_l",void 0),je(this,"_v",void 0),je(this,"_max",void 0),je(this,"_min",void 0),je(this,"_brightness",void 0);function n(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let o=function(u){return r.startsWith(u)};const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):o("rgb")?this.fromRgbString(r):o("hsl")?this.fromHslString(r):(o("hsv")||o("hsb"))&&this.fromHsvString(r)}else if(e instanceof dn)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=ys(e.r),this.g=ys(e.g),this.b=ys(e.b),this.a=typeof e.a=="number"?ys(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(u){const c=u/255;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),o=e(this.b);return .2126*n+.7152*r+.0722*o}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Ln(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let o=this.getLightness()-e/100;return o<0&&(o=0),this._c({h:n,s:r,l:o,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let o=this.getLightness()+e/100;return o>1&&(o=1),this._c({h:n,s:r,l:o,a:this.a})}mix(e,n=50){const r=this._c(e),o=n/100,u=l=>(r[l]-this[l])*o+this[l],c={r:Ln(u("r")),g:Ln(u("g")),b:Ln(u("b")),a:Ln(u("a")*100)/100};return this._c(c)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),o=u=>Ln((this[u]*this.a+n[u]*n.a*(1-this.a))/r);return this._c({r:o("r"),g:o("g"),b:o("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const o=(this.b||0).toString(16);if(e+=o.length===2?o:"0"+o,typeof this.a=="number"&&this.a>=0&&this.a<1){const u=Ln(this.a*255).toString(16);e+=u.length===2?u:"0"+u}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=Ln(this.getSaturation()*100),r=Ln(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const o=this.clone();return o[e]=ys(n,r),o}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(o,u){return parseInt(n[o]+n[u||o],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:o}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof o=="number"?o:1,n<=0){const E=Ln(r*255);this.r=E,this.g=E,this.b=E}let u=0,c=0,l=0;const h=e/60,p=(1-Math.abs(2*r-1))*n,b=p*(1-Math.abs(h%2-1));h>=0&&h<1?(u=p,c=b):h>=1&&h<2?(u=b,c=p):h>=2&&h<3?(c=p,l=b):h>=3&&h<4?(c=b,l=p):h>=4&&h<5?(u=b,l=p):h>=5&&h<6&&(u=p,l=b);const w=r-p/2;this.r=Ln((u+w)*255),this.g=Ln((c+w)*255),this.b=Ln((l+w)*255)}fromHsv({h:e,s:n,v:r,a:o}){this._h=e%360,this._s=n,this._v=r,this.a=typeof o=="number"?o:1;const u=Ln(r*255);if(this.r=u,this.g=u,this.b=u,n<=0)return;const c=e/60,l=Math.floor(c),h=c-l,p=Ln(r*(1-n)*255),b=Ln(r*(1-n*h)*255),w=Ln(r*(1-n*(1-h))*255);switch(l){case 0:this.g=w,this.b=p;break;case 1:this.r=b,this.b=p;break;case 2:this.r=p,this.b=w;break;case 3:this.r=p,this.g=b;break;case 4:this.r=w,this.g=p;break;case 5:default:this.g=p,this.b=b;break}}fromHsvString(e){const n=pf(e,Pg);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=pf(e,Pg);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=pf(e,(r,o)=>o.includes("%")?Ln(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var Gu=2,Lg=.16,DP=.05,GP=.05,UP=.15,Ly=5,My=4,WP=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Mg(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-Gu*e:Math.round(t.h)+Gu*e:r=n?Math.round(t.h)+Gu*e:Math.round(t.h)-Gu*e,r<0?r+=360:r>=360&&(r-=360),r}function Ig(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-Lg*e:e===My?r=t.s+Lg:r=t.s+DP*e,r>1&&(r=1),n&&e===Ly&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function kg(t,e,n){var r;return n?r=t.v+GP*e:r=t.v-UP*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Cs(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new dn(t),o=r.toHsv(),u=Ly;u>0;u-=1){var c=new dn({h:Mg(o,u,!0),s:Ig(o,u,!0),v:kg(o,u,!0)});n.push(c)}n.push(r);for(var l=1;l<=My;l+=1){var h=new dn({h:Mg(o,l),s:Ig(o,l),v:kg(o,l)});n.push(h)}return e.theme==="dark"?WP.map(function(p){var b=p.index,w=p.amount;return new dn(e.backgroundColor||"#141414").mix(n[b],w).toHexString()}):n.map(function(p){return p.toHexString()})}var gf={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Wf=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Wf.primary=Wf[5];var Hf=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Hf.primary=Hf[5];var zf=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];zf.primary=zf[5];var jf=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];jf.primary=jf[5];var Vf=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Vf.primary=Vf[5];var Xf=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Xf.primary=Xf[5];var Yf=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Yf.primary=Yf[5];var Kf=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Kf.primary=Kf[5];var uc=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];uc.primary=uc[5];var Qf=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Qf.primary=Qf[5];var qf=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];qf.primary=qf[5];var Jf=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Jf.primary=Jf[5];var Zf=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Zf.primary=Zf[5];var mf={red:Wf,volcano:Hf,orange:zf,gold:jf,yellow:Vf,lime:Xf,green:Yf,cyan:Kf,blue:uc,geekblue:Qf,purple:qf,magenta:Jf,grey:Zf};function HP(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:o,colorWarning:u,colorError:c,colorInfo:l,colorPrimary:h,colorBgBase:p,colorTextBase:b}=t,w=n(h),E=n(o),T=n(u),L=n(c),F=n(l),B=r(p,b),H=t.colorLink||t.colorInfo,Q=n(H),W=new dn(L[1]).mix(new dn(L[3]),50).toHexString();return Object.assign(Object.assign({},B),{colorPrimaryBg:w[1],colorPrimaryBgHover:w[2],colorPrimaryBorder:w[3],colorPrimaryBorderHover:w[4],colorPrimaryHover:w[5],colorPrimary:w[6],colorPrimaryActive:w[7],colorPrimaryTextHover:w[8],colorPrimaryText:w[9],colorPrimaryTextActive:w[10],colorSuccessBg:E[1],colorSuccessBgHover:E[2],colorSuccessBorder:E[3],colorSuccessBorderHover:E[4],colorSuccessHover:E[4],colorSuccess:E[6],colorSuccessActive:E[7],colorSuccessTextHover:E[8],colorSuccessText:E[9],colorSuccessTextActive:E[10],colorErrorBg:L[1],colorErrorBgHover:L[2],colorErrorBgFilledHover:W,colorErrorBgActive:L[3],colorErrorBorder:L[3],colorErrorBorderHover:L[4],colorErrorHover:L[5],colorError:L[6],colorErrorActive:L[7],colorErrorTextHover:L[8],colorErrorText:L[9],colorErrorTextActive:L[10],colorWarningBg:T[1],colorWarningBgHover:T[2],colorWarningBorder:T[3],colorWarningBorderHover:T[4],colorWarningHover:T[4],colorWarning:T[6],colorWarningActive:T[7],colorWarningTextHover:T[8],colorWarningText:T[9],colorWarningTextActive:T[10],colorInfoBg:F[1],colorInfoBgHover:F[2],colorInfoBorder:F[3],colorInfoBorderHover:F[4],colorInfoHover:F[4],colorInfo:F[6],colorInfoActive:F[7],colorInfoTextHover:F[8],colorInfoText:F[9],colorInfoTextActive:F[10],colorLinkHover:Q[4],colorLink:Q[6],colorLinkActive:Q[7],colorBgMask:new dn("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const zP=t=>{let e=t,n=t,r=t,o=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?o=4:t>=8&&(o=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:o}};function jP(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:o}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:o+1},zP(r))}const VP=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function XP(t){return(t+8)/t}function YP(t){const e=Array.from({length:10}).map((n,r)=>{const o=r-1,u=t*Math.pow(Math.E,o/5),c=r>1?Math.floor(u):Math.ceil(u);return Math.floor(c/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:XP(n)}))}const KP=t=>{const e=YP(t),n=e.map(b=>b.size),r=e.map(b=>b.lineHeight),o=n[1],u=n[0],c=n[2],l=r[1],h=r[0],p=r[2];return{fontSizeSM:u,fontSize:o,fontSizeLG:c,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:l,lineHeightLG:p,lineHeightSM:h,fontHeight:Math.round(l*o),fontHeightLG:Math.round(p*c),fontHeightSM:Math.round(h*u),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function QP(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const Fr=(t,e)=>new dn(t).setA(e).toRgbString(),vs=(t,e)=>new dn(t).darken(e).toHexString(),qP=t=>{const e=Cs(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},JP=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Fr(r,.88),colorTextSecondary:Fr(r,.65),colorTextTertiary:Fr(r,.45),colorTextQuaternary:Fr(r,.25),colorFill:Fr(r,.15),colorFillSecondary:Fr(r,.06),colorFillTertiary:Fr(r,.04),colorFillQuaternary:Fr(r,.02),colorBgSolid:Fr(r,1),colorBgSolidHover:Fr(r,.75),colorBgSolidActive:Fr(r,.95),colorBgLayout:vs(n,4),colorBgContainer:vs(n,0),colorBgElevated:vs(n,0),colorBgSpotlight:Fr(r,.85),colorBgBlur:"transparent",colorBorder:vs(n,15),colorBorderSecondary:vs(n,6)}};function ZP(t){gf.pink=gf.magenta,mf.pink=mf.magenta;const e=Object.keys(Py).map(n=>{const r=t[n]===gf[n]?mf[n]:Cs(t[n]);return Array.from({length:10},()=>1).reduce((o,u,c)=>(o[`${n}-${c+1}`]=r[c],o[`${n}${c+1}`]=r[c],o),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),HP(t,{generateColorPalettes:qP,generateNeutralColorPalettes:JP})),KP(t.fontSize)),QP(t)),VP(t)),jP(t))}const Iy=Of(ZP),ed={token:_s,override:{override:_s},hashed:!0},ky=Xt.createContext(ed),td="ant",zc="anticon",k3=["outlined","borderless","filled","underlined"],eL=(t,e)=>e||(t?`${td}-${t}`:td),gi=re.createContext({getPrefixCls:eL,iconPrefixCls:zc}),{Consumer:R3}=gi,Rg={};function F3(t){const e=re.useContext(gi),{getPrefixCls:n,direction:r,getPopupContainer:o}=e,u=e[t];return Object.assign(Object.assign({classNames:Rg,styles:Rg},u),{getPrefixCls:n,direction:r,getPopupContainer:o})}const tL=`-ant-${Date.now()}-${Math.random()}`;function nL(t,e){const n={},r=(c,l)=>{let h=c.clone();return h=(l==null?void 0:l(h))||h,h.toRgbString()},o=(c,l)=>{const h=new dn(c),p=Cs(h.toRgbString());n[`${l}-color`]=r(h),n[`${l}-color-disabled`]=p[1],n[`${l}-color-hover`]=p[4],n[`${l}-color-active`]=p[6],n[`${l}-color-outline`]=h.clone().setA(.2).toRgbString(),n[`${l}-color-deprecated-bg`]=p[0],n[`${l}-color-deprecated-border`]=p[2]};if(e.primaryColor){o(e.primaryColor,"primary");const c=new dn(e.primaryColor),l=Cs(c.toRgbString());l.forEach((p,b)=>{n[`primary-${b+1}`]=p}),n["primary-color-deprecated-l-35"]=r(c,p=>p.lighten(35)),n["primary-color-deprecated-l-20"]=r(c,p=>p.lighten(20)),n["primary-color-deprecated-t-20"]=r(c,p=>p.tint(20)),n["primary-color-deprecated-t-50"]=r(c,p=>p.tint(50)),n["primary-color-deprecated-f-12"]=r(c,p=>p.setA(p.a*.12));const h=new dn(l[0]);n["primary-color-active-deprecated-f-30"]=r(h,p=>p.setA(p.a*.3)),n["primary-color-active-deprecated-d-02"]=r(h,p=>p.darken(2))}return e.successColor&&o(e.successColor,"success"),e.warningColor&&o(e.warningColor,"warning"),e.errorColor&&o(e.errorColor,"error"),e.infoColor&&o(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(c=>`--${t}-${c}: ${n[c]};`).join(`
`)}
  }
  `.trim()}function rL(t,e){const n=nL(t,e);Vi()&&Wo(n,`${tL}-dynamic-theme`)}const nd=re.createContext(!1),iL=t=>{let{children:e,disabled:n}=t;const r=re.useContext(nd);return re.createElement(nd.Provider,{value:n??r},e)},Ts=re.createContext(void 0),oL=t=>{let{children:e,size:n}=t;const r=re.useContext(Ts);return re.createElement(Ts.Provider,{value:n||r},e)};function aL(){const t=re.useContext(nd),e=re.useContext(Ts);return{componentDisabled:t,componentSize:e}}var Ry=yi(function t(){mi(this,t)}),Fy="CALC_UNIT",sL=new RegExp(Fy,"g");function yf(t){return typeof t=="number"?"".concat(t).concat(Fy):t}var uL=function(t){Bc(n,t);var e=Dc(n);function n(r,o){var u;mi(this,n),u=e.call(this),je(Uo(u),"result",""),je(Uo(u),"unitlessCssVar",void 0),je(Uo(u),"lowPriority",void 0);var c=_t(r);return u.unitlessCssVar=o,r instanceof n?u.result="(".concat(r.result,")"):c==="number"?u.result=yf(r):c==="string"&&(u.result=r),u}return yi(n,[{key:"add",value:function(o){return o instanceof n?this.result="".concat(this.result," + ").concat(o.getResult()):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," + ").concat(yf(o))),this.lowPriority=!0,this}},{key:"sub",value:function(o){return o instanceof n?this.result="".concat(this.result," - ").concat(o.getResult()):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," - ").concat(yf(o))),this.lowPriority=!0,this}},{key:"mul",value:function(o){return this.lowPriority&&(this.result="(".concat(this.result,")")),o instanceof n?this.result="".concat(this.result," * ").concat(o.getResult(!0)):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," * ").concat(o)),this.lowPriority=!1,this}},{key:"div",value:function(o){return this.lowPriority&&(this.result="(".concat(this.result,")")),o instanceof n?this.result="".concat(this.result," / ").concat(o.getResult(!0)):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," / ").concat(o)),this.lowPriority=!1,this}},{key:"getResult",value:function(o){return this.lowPriority||o?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(o){var u=this,c=o||{},l=c.unit,h=!0;return typeof l=="boolean"?h=l:Array.from(this.unitlessCssVar).some(function(p){return u.result.includes(p)})&&(h=!1),this.result=this.result.replace(sL,h?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(Ry),cL=function(t){Bc(n,t);var e=Dc(n);function n(r){var o;return mi(this,n),o=e.call(this),je(Uo(o),"result",0),r instanceof n?o.result=r.result:typeof r=="number"&&(o.result=r),o}return yi(n,[{key:"add",value:function(o){return o instanceof n?this.result+=o.result:typeof o=="number"&&(this.result+=o),this}},{key:"sub",value:function(o){return o instanceof n?this.result-=o.result:typeof o=="number"&&(this.result-=o),this}},{key:"mul",value:function(o){return o instanceof n?this.result*=o.result:typeof o=="number"&&(this.result*=o),this}},{key:"div",value:function(o){return o instanceof n?this.result/=o.result:typeof o=="number"&&(this.result/=o),this}},{key:"equal",value:function(){return this.result}}]),n}(Ry),lL=function(e,n){var r=e==="css"?uL:cL;return function(o){return new r(o,n)}},Fg=function(e,n){return"".concat([n,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function rd(t){var e=re.useRef();e.current=t;var n=re.useCallback(function(){for(var r,o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(u))},[]);return n}function id(t){var e=re.useRef(!1),n=re.useState(t),r=et(n,2),o=r[0],u=r[1];re.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function c(l,h){h&&e.current||u(l)}return[o,c]}function Og(t,e,n,r){var o=De({},e[t]);if(r!=null&&r.deprecatedTokens){var u=r.deprecatedTokens;u.forEach(function(l){var h=et(l,2),p=h[0],b=h[1];if(o!=null&&o[p]||o!=null&&o[b]){var w;(w=o[b])!==null&&w!==void 0||(o[b]=o==null?void 0:o[p])}})}var c=De(De({},n),o);return Object.keys(c).forEach(function(l){c[l]===e[l]&&delete c[l]}),c}var Oy=typeof CSSINJS_STATISTIC<"u",od=!0;function eh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!Oy)return Object.assign.apply(Object,[{}].concat(e));od=!1;var r={};return e.forEach(function(o){if(_t(o)==="object"){var u=Object.keys(o);u.forEach(function(c){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:function(){return o[c]}})})}}),od=!0,r}var Ng={};function fL(){}var dL=function(e){var n,r=e,o=fL;return Oy&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(e,{get:function(c,l){if(od){var h;(h=n)===null||h===void 0||h.add(l)}return c[l]}}),o=function(c,l){var h;Ng[c]={global:Array.from(n),component:De(De({},(h=Ng[c])===null||h===void 0?void 0:h.component),l)}}),{token:r,keys:n,flush:o}};function $g(t,e,n){if(typeof n=="function"){var r;return n(eh(e,(r=e[t])!==null&&r!==void 0?r:{}))}return n??{}}function hL(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return"max(".concat(r.map(function(u){return $f(u)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return"min(".concat(r.map(function(u){return $f(u)}).join(","),")")}}}var pL=1e3*60*10,gL=function(){function t(){mi(this,t),je(this,"map",new Map),je(this,"objectIDMap",new WeakMap),je(this,"nextID",0),je(this,"lastAccessBeat",new Map),je(this,"accessBeat",0)}return yi(t,[{key:"set",value:function(n,r){this.clear();var o=this.getCompositeKey(n);this.map.set(o,r),this.lastAccessBeat.set(o,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),o=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,o}},{key:"getCompositeKey",value:function(n){var r=this,o=n.map(function(u){return u&&_t(u)==="object"?"obj_".concat(r.getObjectID(u)):"".concat(_t(u),"_").concat(u)});return o.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(o,u){r-o>pL&&(n.map.delete(u),n.lastAccessBeat.delete(u))}),this.accessBeat=0}}}]),t}(),Bg=new gL;function mL(t,e){return Xt.useMemo(function(){var n=Bg.get(e);if(n)return n;var r=t();return Bg.set(e,r),r},e)}var yL=function(){return{}};function vL(t){var e=t.useCSP,n=e===void 0?yL:e,r=t.useToken,o=t.usePrefix,u=t.getResetStyles,c=t.getCommonStyle,l=t.getCompUnitless;function h(E,T,L,F){var B=Array.isArray(E)?E[0]:E;function H(Te){return"".concat(String(B)).concat(Te.slice(0,1).toUpperCase()).concat(Te.slice(1))}var Q=(F==null?void 0:F.unitless)||{},W=typeof l=="function"?l(E):{},se=De(De({},W),{},je({},H("zIndexPopup"),!0));Object.keys(Q).forEach(function(Te){se[H(Te)]=Q[Te]});var fe=De(De({},F),{},{unitless:se,prefixToken:H}),oe=b(E,T,L,fe),ye=p(B,L,fe);return function(Te){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Te,K=oe(Te,O),V=et(K,2),ie=V[1],ce=ye(O),ee=et(ce,2),Se=ee[0],j=ee[1];return[Se,ie,j]}}function p(E,T,L){var F=L.unitless,B=L.injectStyle,H=B===void 0?!0:B,Q=L.prefixToken,W=L.ignore,se=function(ye){var Te=ye.rootCls,O=ye.cssVar,K=O===void 0?{}:O,V=r(),ie=V.realToken;return AP({path:[E],prefix:K.prefix,key:K.key,unitless:F,ignore:W,token:ie,scope:Te},function(){var ce=$g(E,ie,T),ee=Og(E,ie,ce,{deprecatedTokens:L==null?void 0:L.deprecatedTokens});return Object.keys(ce).forEach(function(Se){ee[Q(Se)]=ee[Se],delete ee[Se]}),ee}),null},fe=function(ye){var Te=r(),O=Te.cssVar;return[function(K){return H&&O?Xt.createElement(Xt.Fragment,null,Xt.createElement(se,{rootCls:ye,cssVar:O,component:E}),K):K},O==null?void 0:O.key]};return fe}function b(E,T,L){var F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},B=Array.isArray(E)?E:[E,E],H=et(B,1),Q=H[0],W=B.join("-"),se=t.layer||{name:"antd"};return function(fe){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fe,ye=r(),Te=ye.theme,O=ye.realToken,K=ye.hashId,V=ye.token,ie=ye.cssVar,ce=o(),ee=ce.rootPrefixCls,Se=ce.iconPrefixCls,j=n(),te=ie?"css":"js",ge=mL(function(){var it=new Set;return ie&&Object.keys(F.unitless||{}).forEach(function(Ke){it.add(Ku(Ke,ie.prefix)),it.add(Ku(Ke,Fg(Q,ie.prefix)))}),lL(te,it)},[te,Q,ie==null?void 0:ie.prefix]),Me=hL(te),Fe=Me.max,Pe=Me.min,Oe={theme:Te,token:V,hashId:K,nonce:function(){return j.nonce},clientOnly:F.clientOnly,layer:se,order:F.order||-999};typeof u=="function"&&Gf(De(De({},Oe),{},{clientOnly:!1,path:["Shared",ee]}),function(){return u(V,{prefix:{rootPrefixCls:ee,iconPrefixCls:Se},csp:j})});var ot=Gf(De(De({},Oe),{},{path:[W,fe,Se]}),function(){if(F.injectStyle===!1)return[];var it=dL(V),Ke=it.token,yt=it.flush,Nt=$g(Q,O,L),In=".".concat(fe),an=Og(Q,O,Nt,{deprecatedTokens:F.deprecatedTokens});ie&&Nt&&_t(Nt)==="object"&&Object.keys(Nt).forEach(function(wn){Nt[wn]="var(".concat(Ku(wn,Fg(Q,ie.prefix)),")")});var pn=eh(Ke,{componentCls:In,prefixCls:fe,iconCls:".".concat(Se),antCls:".".concat(ee),calc:ge,max:Fe,min:Pe},ie?Nt:an),Un=T(pn,{hashId:K,prefixCls:fe,rootPrefixCls:ee,iconPrefixCls:Se});yt(Q,an);var Ut=typeof c=="function"?c(pn,fe,oe,F.resetFont):null;return[F.resetStyle===!1?null:Ut,Un]});return[ot,K]}}function w(E,T,L){var F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},B=b(E,T,L,De({resetStyle:!1,order:-998},F)),H=function(W){var se=W.prefixCls,fe=W.rootCls,oe=fe===void 0?se:fe;return B(se,oe),null};return H}return{genStyleHooks:h,genSubStyleComponent:w,genComponentStyleHook:b}}const wL="5.24.5";function vf(t){return t>=0&&t<=255}function Uu(t,e){const{r:n,g:r,b:o,a:u}=new dn(t).toRgb();if(u<1)return t;const{r:c,g:l,b:h}=new dn(e).toRgb();for(let p=.01;p<=1;p+=.01){const b=Math.round((n-c*(1-p))/p),w=Math.round((r-l*(1-p))/p),E=Math.round((o-h*(1-p))/p);if(vf(b)&&vf(w)&&vf(E))return new dn({r:b,g:w,b:E,a:Math.round(p*100)/100}).toRgbString()}return new dn({r:n,g:r,b:o,a:1}).toRgbString()}var bL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function Ny(t){const{override:e}=t,n=bL(t,["override"]),r=Object.assign({},e);Object.keys(_s).forEach(E=>{delete r[E]});const o=Object.assign(Object.assign({},n),r),u=480,c=576,l=768,h=992,p=1200,b=1600;if(o.motion===!1){const E="0s";o.motionDurationFast=E,o.motionDurationMid=E,o.motionDurationSlow=E}return Object.assign(Object.assign(Object.assign({},o),{colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:Uu(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:Uu(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:Uu(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidthFocus:o.lineWidth*3,lineWidth:o.lineWidth,controlOutlineWidth:o.lineWidth*2,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:Uu(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:u,screenXSMin:u,screenXSMax:c-1,screenSM:c,screenSMMin:c,screenSMMax:l-1,screenMD:l,screenMDMin:l,screenMDMax:h-1,screenLG:h,screenLGMin:h,screenLGMax:p-1,screenXL:p,screenXLMin:p,screenXLMax:b-1,screenXXL:b,screenXXLMin:b,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new dn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new dn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new dn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var Dg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const $y={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},xL={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},SL={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},By=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:o}=e,u=Dg(e,["override"]);let c=Object.assign(Object.assign({},r),{override:o});return c=Ny(c),u&&Object.entries(u).forEach(l=>{let[h,p]=l;const{theme:b}=p,w=Dg(p,["theme"]);let E=w;b&&(E=By(Object.assign(Object.assign({},c),w),{override:w},b)),c[h]=E}),c};function Gs(){const{token:t,hashed:e,theme:n,override:r,cssVar:o}=Xt.useContext(ky),u=`${wL}-${e||""}`,c=n||Iy,[l,h,p]=QT(c,[_s,t],{salt:u,override:r,getComputedToken:By,formatToken:Ny,cssVar:o&&{prefix:o.prefix,key:o.key,unitless:$y,ignore:xL,preserve:SL}});return[c,p,e?h:"",l,o]}const O3={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},EL=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},AL=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),N3=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),_L=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),CL=(t,e,n,r)=>{const o=`[class^="${e}"], [class*=" ${e}"]`,u=n?`.${n}`:o,c={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let l={};return r!==!1&&(l={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[u]:Object.assign(Object.assign(Object.assign({},l),c),{[o]:c})}},TL=(t,e)=>({outline:`${$f(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),$3=(t,e)=>({"&:focus-visible":Object.assign({},TL(t,e))}),Dy=t=>({[`.${t}`]:Object.assign(Object.assign({},AL()),{[`.${t} .${t}-icon`]:{display:"block"}})}),{genStyleHooks:PL,genComponentStyleHook:B3,genSubStyleComponent:D3}=vL({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=re.useContext(gi);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,o]=Gs();return{theme:t,realToken:e,hashId:n,token:r,cssVar:o}},useCSP:()=>{const{csp:t}=re.useContext(gi);return t??{}},getResetStyles:(t,e)=>{var n;const r=_L(t);return[r,{"&":r},Dy((n=e==null?void 0:e.prefix.iconPrefixCls)!==null&&n!==void 0?n:zc)]},getCommonStyle:CL,getCompUnitless:()=>$y}),LL=(t,e)=>{const[n,r]=Gs();return Gf({token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[Dy(t)])},ML=Object.assign({},hd),{useId:Gg}=ML,IL=()=>"",kL=typeof Gg>"u"?IL:Gg;function RL(t,e,n){var r;_y();const o=t||{},u=o.inherit===!1||!e?Object.assign(Object.assign({},ed),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:ed.hashed,cssVar:e==null?void 0:e.cssVar}):e,c=kL();return zd(()=>{var l,h;if(!t)return e;const p=Object.assign({},u.components);Object.keys(t.components||{}).forEach(E=>{p[E]=Object.assign(Object.assign({},p[E]),t.components[E])});const b=`css-var-${c.replace(/:/g,"")}`,w=((l=o.cssVar)!==null&&l!==void 0?l:u.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof u.cssVar=="object"?u.cssVar:{}),typeof o.cssVar=="object"?o.cssVar:{}),{key:typeof o.cssVar=="object"&&((h=o.cssVar)===null||h===void 0?void 0:h.key)||b});return Object.assign(Object.assign(Object.assign({},u),o),{token:Object.assign(Object.assign({},u.token),o.token),components:p,cssVar:w})},[o,u],(l,h)=>l.some((p,b)=>{const w=h[b];return!TT(p,w,!0)}))}var FL=["children"],Gy=re.createContext({});function OL(t){var e=t.children,n=Vo(t,FL);return re.createElement(Gy.Provider,{value:n},e)}var NL=function(t){Bc(n,t);var e=Dc(n);function n(){return mi(this,n),e.apply(this,arguments)}return yi(n,[{key:"render",value:function(){return this.props.children}}]),n}(re.Component);function $L(t){var e=re.useReducer(function(l){return l+1},0),n=et(e,2),r=n[1],o=re.useRef(t),u=rd(function(){return o.current}),c=rd(function(l){o.current=typeof l=="function"?l(o.current):l,r()});return[u,c]}var yo="none",Wu="appear",Hu="enter",zu="leave",Ug="none",qr="prepare",ya="start",va="active",th="end",Uy="prepared";function Wg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function BL(t,e){var n={animationend:Wg("Animation","AnimationEnd"),transitionend:Wg("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var DL=BL(Vi(),typeof window<"u"?window:{}),Wy={};if(Vi()){var GL=document.createElement("div");Wy=GL.style}var ju={};function Hy(t){if(ju[t])return ju[t];var e=DL[t];if(e)for(var n=Object.keys(e),r=n.length,o=0;o<r;o+=1){var u=n[o];if(Object.prototype.hasOwnProperty.call(e,u)&&u in Wy)return ju[t]=e[u],ju[t]}return""}var zy=Hy("animationend"),jy=Hy("transitionend"),Vy=!!(zy&&jy),Hg=zy||"animationend",zg=jy||"transitionend";function jg(t,e){if(!t)return null;if(_t(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const UL=function(t){var e=re.useRef();function n(o){o&&(o.removeEventListener(zg,t),o.removeEventListener(Hg,t))}function r(o){e.current&&e.current!==o&&n(e.current),o&&o!==e.current&&(o.addEventListener(zg,t),o.addEventListener(Hg,t),e.current=o)}return re.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var Xy=Vi()?re.useLayoutEffect:re.useEffect;const WL=function(){var t=re.useRef(null);function e(){kf.cancel(t.current)}function n(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var u=kf(function(){o<=1?r({isCanceled:function(){return u!==t.current}}):n(r,o-1)});t.current=u}return re.useEffect(function(){return function(){e()}},[]),[n,e]};var HL=[qr,ya,va,th],zL=[qr,Uy],Yy=!1,jL=!0;function Ky(t){return t===va||t===th}const VL=function(t,e,n){var r=id(Ug),o=et(r,2),u=o[0],c=o[1],l=WL(),h=et(l,2),p=h[0],b=h[1];function w(){c(qr,!0)}var E=e?zL:HL;return Xy(function(){if(u!==Ug&&u!==th){var T=E.indexOf(u),L=E[T+1],F=n(u);F===Yy?c(L,!0):L&&p(function(B){function H(){B.isCanceled()||c(L,!0)}F===!0?H():Promise.resolve(F).then(H)})}},[t,u]),re.useEffect(function(){return function(){b()}},[]),[w,u]};function XL(t,e,n,r){var o=r.motionEnter,u=o===void 0?!0:o,c=r.motionAppear,l=c===void 0?!0:c,h=r.motionLeave,p=h===void 0?!0:h,b=r.motionDeadline,w=r.motionLeaveImmediately,E=r.onAppearPrepare,T=r.onEnterPrepare,L=r.onLeavePrepare,F=r.onAppearStart,B=r.onEnterStart,H=r.onLeaveStart,Q=r.onAppearActive,W=r.onEnterActive,se=r.onLeaveActive,fe=r.onAppearEnd,oe=r.onEnterEnd,ye=r.onLeaveEnd,Te=r.onVisibleChanged,O=id(),K=et(O,2),V=K[0],ie=K[1],ce=$L(yo),ee=et(ce,2),Se=ee[0],j=ee[1],te=id(null),ge=et(te,2),Me=ge[0],Fe=ge[1],Pe=Se(),Oe=re.useRef(!1),ot=re.useRef(null);function it(){return n()}var Ke=re.useRef(!1);function yt(){j(yo),Fe(null,!0)}var Nt=rd(function(at){var Ct=Se();if(Ct!==yo){var en=it();if(!(at&&!at.deadline&&at.target!==en)){var xt=Ke.current,Dt;Ct===Wu&&xt?Dt=fe==null?void 0:fe(en,at):Ct===Hu&&xt?Dt=oe==null?void 0:oe(en,at):Ct===zu&&xt&&(Dt=ye==null?void 0:ye(en,at)),xt&&Dt!==!1&&yt()}}}),In=UL(Nt),an=et(In,1),pn=an[0],Un=function(Ct){switch(Ct){case Wu:return je(je(je({},qr,E),ya,F),va,Q);case Hu:return je(je(je({},qr,T),ya,B),va,W);case zu:return je(je(je({},qr,L),ya,H),va,se);default:return{}}},Ut=re.useMemo(function(){return Un(Pe)},[Pe]),wn=VL(Pe,!t,function(at){if(at===qr){var Ct=Ut[qr];return Ct?Ct(it()):Yy}if(Zt in Ut){var en;Fe(((en=Ut[Zt])===null||en===void 0?void 0:en.call(Ut,it(),null))||null)}return Zt===va&&Pe!==yo&&(pn(it()),b>0&&(clearTimeout(ot.current),ot.current=setTimeout(function(){Nt({deadline:!0})},b))),Zt===Uy&&yt(),jL}),Wt=et(wn,2),En=Wt[0],Zt=Wt[1],jt=Ky(Zt);Ke.current=jt;var Wn=re.useRef(null);Xy(function(){if(!(Oe.current&&Wn.current===e)){ie(e);var at=Oe.current;Oe.current=!0;var Ct;!at&&e&&l&&(Ct=Wu),at&&e&&u&&(Ct=Hu),(at&&!e&&p||!at&&w&&!e&&p)&&(Ct=zu);var en=Un(Ct);Ct&&(t||en[qr])?(j(Ct),En()):j(yo),Wn.current=e}},[e]),re.useEffect(function(){(Pe===Wu&&!l||Pe===Hu&&!u||Pe===zu&&!p)&&j(yo)},[l,u,p]),re.useEffect(function(){return function(){Oe.current=!1,clearTimeout(ot.current)}},[]);var yr=re.useRef(!1);re.useEffect(function(){V&&(yr.current=!0),V!==void 0&&Pe===yo&&((yr.current||V)&&(Te==null||Te(V)),yr.current=!0)},[V,Pe]);var gn=Me;return Ut[qr]&&Zt===ya&&(gn=De({transition:"none"},gn)),[Pe,Zt,gn,V??e]}function YL(t){var e=t;_t(t)==="object"&&(e=t.transitionSupport);function n(o,u){return!!(o.motionName&&e&&u!==!1)}var r=re.forwardRef(function(o,u){var c=o.visible,l=c===void 0?!0:c,h=o.removeOnLeave,p=h===void 0?!0:h,b=o.forceRender,w=o.children,E=o.motionName,T=o.leavedClassName,L=o.eventProps,F=re.useContext(Gy),B=F.motion,H=n(o,B),Q=re.useRef(),W=re.useRef();function se(){try{return Q.current instanceof HTMLElement?Q.current:dT(W.current)}catch{return null}}var fe=XL(H,l,se,o),oe=et(fe,4),ye=oe[0],Te=oe[1],O=oe[2],K=oe[3],V=re.useRef(K);K&&(V.current=!0);var ie=re.useCallback(function(ge){Q.current=ge,K0(u,ge)},[u]),ce,ee=De(De({},L),{},{visible:l});if(!w)ce=null;else if(ye===yo)K?ce=w(De({},ee),ie):!p&&V.current&&T?ce=w(De(De({},ee),{},{className:T}),ie):b||!p&&!T?ce=w(De(De({},ee),{},{style:{display:"none"}}),ie):ce=null;else{var Se;Te===qr?Se="prepare":Ky(Te)?Se="active":Te===ya&&(Se="start");var j=jg(E,"".concat(ye,"-").concat(Se));ce=w(De(De({},ee),{},{className:Jr(jg(E,ye),je(je({},j,j&&Se),E,typeof E=="string")),style:O}),ie)}if(re.isValidElement(ce)&&Q0(ce)){var te=yT(ce);te||(ce=re.cloneElement(ce,{ref:ie}))}return re.createElement(NL,{ref:W},ce)});return r.displayName="CSSMotion",r}const KL=YL(Vy);var ad="add",sd="keep",ud="remove",wf="removed";function QL(t){var e;return t&&_t(t)==="object"&&"key"in t?e=t:e={key:t},De(De({},e),{},{key:String(e.key)})}function cd(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(QL)}function qL(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,o=e.length,u=cd(t),c=cd(e);u.forEach(function(p){for(var b=!1,w=r;w<o;w+=1){var E=c[w];if(E.key===p.key){r<w&&(n=n.concat(c.slice(r,w).map(function(T){return De(De({},T),{},{status:ad})})),r=w),n.push(De(De({},E),{},{status:sd})),r+=1,b=!0;break}}b||n.push(De(De({},p),{},{status:ud}))}),r<o&&(n=n.concat(c.slice(r).map(function(p){return De(De({},p),{},{status:ad})})));var l={};n.forEach(function(p){var b=p.key;l[b]=(l[b]||0)+1});var h=Object.keys(l).filter(function(p){return l[p]>1});return h.forEach(function(p){n=n.filter(function(b){var w=b.key,E=b.status;return w!==p||E!==ud}),n.forEach(function(b){b.key===p&&(b.status=sd)})}),n}var JL=["component","children","onVisibleChanged","onAllRemoved"],ZL=["status"],eM=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function tM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:KL,n=function(r){Bc(u,r);var o=Dc(u);function u(){var c;mi(this,u);for(var l=arguments.length,h=new Array(l),p=0;p<l;p++)h[p]=arguments[p];return c=o.call.apply(o,[this].concat(h)),je(Uo(c),"state",{keyEntities:[]}),je(Uo(c),"removeKey",function(b){c.setState(function(w){var E=w.keyEntities.map(function(T){return T.key!==b?T:De(De({},T),{},{status:wf})});return{keyEntities:E}},function(){var w=c.state.keyEntities,E=w.filter(function(T){var L=T.status;return L!==wf}).length;E===0&&c.props.onAllRemoved&&c.props.onAllRemoved()})}),c}return yi(u,[{key:"render",value:function(){var l=this,h=this.state.keyEntities,p=this.props,b=p.component,w=p.children,E=p.onVisibleChanged;p.onAllRemoved;var T=Vo(p,JL),L=b||re.Fragment,F={};return eM.forEach(function(B){F[B]=T[B],delete T[B]}),delete T.keys,re.createElement(L,T,h.map(function(B,H){var Q=B.status,W=Vo(B,ZL),se=Q===ad||Q===sd;return re.createElement(e,or({},F,{key:W.key,visible:se,eventProps:W,onVisibleChanged:function(oe){E==null||E(oe,{key:W.key}),oe||l.removeKey(W.key)}}),function(fe,oe){return w(De(De({},fe),{},{index:H}),oe)})}))}}],[{key:"getDerivedStateFromProps",value:function(l,h){var p=l.keys,b=h.keyEntities,w=cd(p),E=qL(b,w);return{keyEntities:E.filter(function(T){var L=b.find(function(F){var B=F.key;return T.key===B});return!(L&&L.status===wf&&T.status===ud)})}}}]),u}(re.Component);return je(n,"defaultProps",{component:"div"}),n}const nM=tM(Vy);function rM(t){const{children:e}=t,[,n]=Gs(),{motion:r}=n,o=re.useRef(!1);return o.current=o.current||r===!1,o.current?re.createElement(OL,{motion:r},e):e}const iM=()=>null;var oM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const aM=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let cc,Qy,qy,Jy;function nc(){return cc||td}function sM(){return Qy||zc}function uM(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const cM=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:o}=t;e!==void 0&&(cc=e),n!==void 0&&(Qy=n),"holderRender"in t&&(Jy=o),r&&(uM(r)?rL(nc(),r):qy=r)},lM=()=>({getPrefixCls:(t,e)=>e||(t?`${nc()}-${t}`:nc()),getIconPrefixCls:sM,getRootPrefixCls:()=>cc||nc(),getTheme:()=>qy,holderRender:Jy}),fM=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:o,anchor:u,form:c,locale:l,componentSize:h,direction:p,space:b,splitter:w,virtual:E,dropdownMatchSelectWidth:T,popupMatchSelectWidth:L,popupOverflow:F,legacyLocale:B,parentContext:H,iconPrefixCls:Q,theme:W,componentDisabled:se,segmented:fe,statistic:oe,spin:ye,calendar:Te,carousel:O,cascader:K,collapse:V,typography:ie,checkbox:ce,descriptions:ee,divider:Se,drawer:j,skeleton:te,steps:ge,image:Me,layout:Fe,list:Pe,mentions:Oe,modal:ot,progress:it,result:Ke,slider:yt,breadcrumb:Nt,menu:In,pagination:an,input:pn,textArea:Un,empty:Ut,badge:wn,radio:Wt,rate:En,switch:Zt,transfer:jt,avatar:Wn,message:yr,tag:gn,table:at,card:Ct,tabs:en,timeline:xt,timePicker:Dt,upload:vt,notification:vi,tree:bn,colorPicker:wi,datePicker:bi,rangePicker:Yi,flex:Ki,wave:Qi,dropdown:qi,warning:Wr,tour:xi,tooltip:Hr,popover:Si,popconfirm:ka,floatButtonGroup:Ji,variant:ni,inputNumber:vr,treeSelect:Qo}=t,Zi=re.useCallback((Kt,tn)=>{const{prefixCls:An}=t;if(tn)return tn;const kn=An||H.getPrefixCls("");return Kt?`${kn}-${Kt}`:kn},[H.getPrefixCls,t.prefixCls]),ri=Q||H.iconPrefixCls||zc,ii=n||H.csp;LL(ri,ii);const eo=RL(W,H.theme,{prefixCls:Zi("")}),Ei={csp:ii,autoInsertSpaceInButton:r,alert:o,anchor:u,locale:l||B,direction:p,space:b,splitter:w,virtual:E,popupMatchSelectWidth:L??T,popupOverflow:F,getPrefixCls:Zi,iconPrefixCls:ri,theme:eo,segmented:fe,statistic:oe,spin:ye,calendar:Te,carousel:O,cascader:K,collapse:V,typography:ie,checkbox:ce,descriptions:ee,divider:Se,drawer:j,skeleton:te,steps:ge,image:Me,input:pn,textArea:Un,layout:Fe,list:Pe,mentions:Oe,modal:ot,progress:it,result:Ke,slider:yt,breadcrumb:Nt,menu:In,pagination:an,empty:Ut,badge:wn,radio:Wt,rate:En,switch:Zt,transfer:jt,avatar:Wn,message:yr,tag:gn,table:at,card:Ct,tabs:en,timeline:xt,timePicker:Dt,upload:vt,notification:vi,tree:bn,colorPicker:wi,datePicker:bi,rangePicker:Yi,flex:Ki,wave:Qi,dropdown:qi,warning:Wr,tour:xi,tooltip:Hr,popover:Si,popconfirm:ka,floatButtonGroup:Ji,variant:ni,inputNumber:vr,treeSelect:Qo},oi=Object.assign({},H);Object.keys(Ei).forEach(Kt=>{Ei[Kt]!==void 0&&(oi[Kt]=Ei[Kt])}),aM.forEach(Kt=>{const tn=t[Kt];tn&&(oi[Kt]=tn)}),typeof r<"u"&&(oi.button=Object.assign({autoInsertSpace:r},oi.button));const ai=zd(()=>oi,oi,(Kt,tn)=>{const An=Object.keys(Kt),kn=Object.keys(tn);return An.length!==kn.length||An.some(zr=>Kt[zr]!==tn[zr])}),{layer:to}=re.useContext(Ds),ar=re.useMemo(()=>({prefixCls:ri,csp:ii,layer:to?"antd":void 0}),[ri,ii,to]);let Yt=re.createElement(re.Fragment,null,re.createElement(iM,{dropdownMatchSelectWidth:T}),e);const qo=re.useMemo(()=>{var Kt,tn,An,kn;return LP(((Kt=Hc.Form)===null||Kt===void 0?void 0:Kt.defaultValidateMessages)||{},((An=(tn=ai.locale)===null||tn===void 0?void 0:tn.Form)===null||An===void 0?void 0:An.defaultValidateMessages)||{},((kn=ai.form)===null||kn===void 0?void 0:kn.validateMessages)||{},(c==null?void 0:c.validateMessages)||{})},[ai,c==null?void 0:c.validateMessages]);Object.keys(qo).length>0&&(Yt=re.createElement(kP.Provider,{value:qo},Yt)),l&&(Yt=re.createElement(BP,{locale:l,_ANT_MARK__:$P},Yt)),Yt=re.createElement(Zd.Provider,{value:ar},Yt),h&&(Yt=re.createElement(oL,{size:h},Yt)),Yt=re.createElement(rM,null,Yt);const mn=re.useMemo(()=>{const Kt=eo||{},{algorithm:tn,token:An,components:kn,cssVar:zr}=Kt,Jo=oM(Kt,["algorithm","token","components","cssVar"]),_n=tn&&(!Array.isArray(tn)||tn.length>0)?Of(tn):Iy,Ai={};Object.entries(kn||{}).forEach(Hn=>{let[Ra,_i]=Hn;const Qn=Object.assign({},_i);"algorithm"in Qn&&(Qn.algorithm===!0?Qn.theme=_n:(Array.isArray(Qn.algorithm)||typeof Qn.algorithm=="function")&&(Qn.theme=Of(Qn.algorithm)),delete Qn.algorithm),Ai[Ra]=Qn});const Rn=Object.assign(Object.assign({},_s),An);return Object.assign(Object.assign({},Jo),{theme:_n,token:Rn,components:Ai,override:Object.assign({override:Rn},Ai),cssVar:zr})},[eo]);return W&&(Yt=re.createElement(ky.Provider,{value:mn},Yt)),ai.warning&&(Yt=re.createElement(IP.Provider,{value:ai.warning},Yt)),se!==void 0&&(Yt=re.createElement(iL,{disabled:se},Yt)),re.createElement(gi.Provider,{value:ai},Yt)},Ma=t=>{const e=re.useContext(gi),n=re.useContext(Ty);return re.createElement(fM,Object.assign({parentContext:e,legacyLocale:n},t))};Ma.ConfigContext=gi;Ma.SizeContext=Ts;Ma.config=cM;Ma.useConfig=aL;Object.defineProperty(Ma,"SizeContext",{get:()=>Ts});var dM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function Zy(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function hM(t){return Zy(t)instanceof ShadowRoot}function pM(t){return hM(t)?Zy(t):null}function gM(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function mM(t,e){Bs(t,"[@ant-design/icons] ".concat(e))}function Vg(t){return _t(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(_t(t.icon)==="object"||typeof t.icon=="function")}function Xg(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[gM(n)]=r}return e},{})}function ld(t,e,n){return n?Xt.createElement(t.tag,De(De({key:e},Xg(t.attrs)),n),(t.children||[]).map(function(r,o){return ld(r,"".concat(e,"-").concat(t.tag,"-").concat(o))})):Xt.createElement(t.tag,De({key:e},Xg(t.attrs)),(t.children||[]).map(function(r,o){return ld(r,"".concat(e,"-").concat(t.tag,"-").concat(o))}))}function ev(t){return Cs(t)[0]}function tv(t){return t?Array.isArray(t)?t:[t]:[]}var yM=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,vM=function(e){var n=re.useContext(Zd),r=n.csp,o=n.prefixCls,u=n.layer,c=yM;o&&(c=c.replace(/anticon/g,o)),u&&(c="@layer ".concat(u,` {
`).concat(c,`
}`)),re.useEffect(function(){var l=e.current,h=pM(l);Wo(c,"@ant-design-icons",{prepend:!u,csp:r,attachTo:h})},[])},wM=["icon","className","onClick","style","primaryColor","secondaryColor"],xs={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function bM(t){var e=t.primaryColor,n=t.secondaryColor;xs.primaryColor=e,xs.secondaryColor=n||ev(e),xs.calculated=!!n}function xM(){return De({},xs)}var Ia=function(e){var n=e.icon,r=e.className,o=e.onClick,u=e.style,c=e.primaryColor,l=e.secondaryColor,h=Vo(e,wM),p=re.useRef(),b=xs;if(c&&(b={primaryColor:c,secondaryColor:l||ev(c)}),vM(p),mM(Vg(n),"icon should be icon definiton, but got ".concat(n)),!Vg(n))return null;var w=n;return w&&typeof w.icon=="function"&&(w=De(De({},w),{},{icon:w.icon(b.primaryColor,b.secondaryColor)})),ld(w.icon,"svg-".concat(w.name),De(De({className:r,onClick:o,style:u,"data-icon":w.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},h),{},{ref:p}))};Ia.displayName="IconReact";Ia.getTwoToneColors=xM;Ia.setTwoToneColors=bM;function nv(t){var e=tv(t),n=et(e,2),r=n[0],o=n[1];return Ia.setTwoToneColors({primaryColor:r,secondaryColor:o})}function SM(){var t=Ia.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var EM=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];nv(uc.primary);var Xi=re.forwardRef(function(t,e){var n=t.className,r=t.icon,o=t.spin,u=t.rotate,c=t.tabIndex,l=t.onClick,h=t.twoToneColor,p=Vo(t,EM),b=re.useContext(Zd),w=b.prefixCls,E=w===void 0?"anticon":w,T=b.rootClassName,L=Jr(T,E,je(je({},"".concat(E,"-").concat(r.name),!!r.name),"".concat(E,"-spin"),!!o||r.name==="loading"),n),F=c;F===void 0&&l&&(F=-1);var B=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,H=tv(h),Q=et(H,2),W=Q[0],se=Q[1];return re.createElement("span",or({role:"img","aria-label":r.name},p,{ref:e,tabIndex:F,onClick:l,className:L}),re.createElement(Ia,{icon:r,primaryColor:W,secondaryColor:se,style:B}))});Xi.displayName="AntdIcon";Xi.getTwoToneColor=SM;Xi.setTwoToneColor=nv;var AM=function(e,n){return re.createElement(Xi,or({},e,{ref:n,icon:dM}))},_M=re.forwardRef(AM),CM={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},TM=function(e,n){return re.createElement(Xi,or({},e,{ref:n,icon:CM}))},PM=re.forwardRef(TM),LM={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},MM=function(e,n){return re.createElement(Xi,or({},e,{ref:n,icon:LM}))},IM=re.forwardRef(MM),kM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},RM=function(e,n){return re.createElement(Xi,or({},e,{ref:n,icon:kM}))},FM=re.forwardRef(RM),OM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},NM=function(e,n){return re.createElement(Xi,or({},e,{ref:n,icon:OM}))},$M=re.forwardRef(NM),BM=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,DM=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,GM="".concat(BM," ").concat(DM).split(/[\s\n]+/),UM="aria-",WM="data-";function Yg(t,e){return t.indexOf(e)===0}function HM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=De({},e);var r={};return Object.keys(t).forEach(function(o){(n.aria&&(o==="role"||Yg(o,UM))||n.data&&Yg(o,WM)||n.attr&&GM.includes(o))&&(r[o]=t[o])}),r}const rv=t=>{const[,,,,e]=Gs();return e?`${t}-css-var`:""};var zM={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},iv=re.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,o=t.className,u=t.duration,c=u===void 0?4.5:u,l=t.showProgress,h=t.pauseOnHover,p=h===void 0?!0:h,b=t.eventKey,w=t.content,E=t.closable,T=t.closeIcon,L=T===void 0?"x":T,F=t.props,B=t.onClick,H=t.onNoticeClose,Q=t.times,W=t.hovering,se=re.useState(!1),fe=et(se,2),oe=fe[0],ye=fe[1],Te=re.useState(0),O=et(Te,2),K=O[0],V=O[1],ie=re.useState(0),ce=et(ie,2),ee=ce[0],Se=ce[1],j=W||oe,te=c>0&&l,ge=function(){H(b)},Me=function(Ke){(Ke.key==="Enter"||Ke.code==="Enter"||Ke.keyCode===zM.ENTER)&&ge()};re.useEffect(function(){if(!j&&c>0){var it=Date.now()-ee,Ke=setTimeout(function(){ge()},c*1e3-ee);return function(){p&&clearTimeout(Ke),Se(Date.now()-it)}}},[c,j,Q]),re.useEffect(function(){if(!j&&te&&(p||ee===0)){var it=performance.now(),Ke,yt=function Nt(){cancelAnimationFrame(Ke),Ke=requestAnimationFrame(function(In){var an=In+ee-it,pn=Math.min(an/(c*1e3),1);V(pn*100),pn<1&&Nt()})};return yt(),function(){p&&cancelAnimationFrame(Ke)}}},[c,ee,j,te,Q]);var Fe=re.useMemo(function(){return _t(E)==="object"&&E!==null?E:E?{closeIcon:L}:{}},[E,L]),Pe=HM(Fe,!0),Oe=100-(!K||K<0?0:K>100?100:K),ot="".concat(n,"-notice");return re.createElement("div",or({},F,{ref:e,className:Jr(ot,o,je({},"".concat(ot,"-closable"),E)),style:r,onMouseEnter:function(Ke){var yt;ye(!0),F==null||(yt=F.onMouseEnter)===null||yt===void 0||yt.call(F,Ke)},onMouseLeave:function(Ke){var yt;ye(!1),F==null||(yt=F.onMouseLeave)===null||yt===void 0||yt.call(F,Ke)},onClick:B}),re.createElement("div",{className:"".concat(ot,"-content")},w),E&&re.createElement("a",or({tabIndex:0,className:"".concat(ot,"-close"),onKeyDown:Me,"aria-label":"Close"},Pe,{onClick:function(Ke){Ke.preventDefault(),Ke.stopPropagation(),ge()}}),Fe.closeIcon),te&&re.createElement("progress",{className:"".concat(ot,"-progress"),max:"100",value:Oe},Oe+"%"))}),ov=Xt.createContext({}),jM=function(e){var n=e.children,r=e.classNames;return Xt.createElement(ov.Provider,{value:{classNames:r}},n)},Kg=8,Qg=3,qg=16,VM=function(e){var n={offset:Kg,threshold:Qg,gap:qg};if(e&&_t(e)==="object"){var r,o,u;n.offset=(r=e.offset)!==null&&r!==void 0?r:Kg,n.threshold=(o=e.threshold)!==null&&o!==void 0?o:Qg,n.gap=(u=e.gap)!==null&&u!==void 0?u:qg}return[!!e,n]},XM=["className","style","classNames","styles"],YM=function(e){var n=e.configList,r=e.placement,o=e.prefixCls,u=e.className,c=e.style,l=e.motion,h=e.onAllNoticeRemoved,p=e.onNoticeClose,b=e.stack,w=re.useContext(ov),E=w.classNames,T=re.useRef({}),L=re.useState(null),F=et(L,2),B=F[0],H=F[1],Q=re.useState([]),W=et(Q,2),se=W[0],fe=W[1],oe=n.map(function(j){return{config:j,key:String(j.key)}}),ye=VM(b),Te=et(ye,2),O=Te[0],K=Te[1],V=K.offset,ie=K.threshold,ce=K.gap,ee=O&&(se.length>0||oe.length<=ie),Se=typeof l=="function"?l(r):l;return re.useEffect(function(){O&&se.length>1&&fe(function(j){return j.filter(function(te){return oe.some(function(ge){var Me=ge.key;return te===Me})})})},[se,oe,O]),re.useEffect(function(){var j;if(O&&T.current[(j=oe[oe.length-1])===null||j===void 0?void 0:j.key]){var te;H(T.current[(te=oe[oe.length-1])===null||te===void 0?void 0:te.key])}},[oe,O]),Xt.createElement(nM,or({key:r,className:Jr(o,"".concat(o,"-").concat(r),E==null?void 0:E.list,u,je(je({},"".concat(o,"-stack"),!!O),"".concat(o,"-stack-expanded"),ee)),style:c,keys:oe,motionAppear:!0},Se,{onAllRemoved:function(){h(r)}}),function(j,te){var ge=j.config,Me=j.className,Fe=j.style,Pe=j.index,Oe=ge,ot=Oe.key,it=Oe.times,Ke=String(ot),yt=ge,Nt=yt.className,In=yt.style,an=yt.classNames,pn=yt.styles,Un=Vo(yt,XM),Ut=oe.findIndex(function(xt){return xt.key===Ke}),wn={};if(O){var Wt=oe.length-1-(Ut>-1?Ut:Pe-1),En=r==="top"||r==="bottom"?"-50%":"0";if(Wt>0){var Zt,jt,Wn;wn.height=ee?(Zt=T.current[Ke])===null||Zt===void 0?void 0:Zt.offsetHeight:B==null?void 0:B.offsetHeight;for(var yr=0,gn=0;gn<Wt;gn++){var at;yr+=((at=T.current[oe[oe.length-1-gn].key])===null||at===void 0?void 0:at.offsetHeight)+ce}var Ct=(ee?yr:Wt*V)*(r.startsWith("top")?1:-1),en=!ee&&B!==null&&B!==void 0&&B.offsetWidth&&(jt=T.current[Ke])!==null&&jt!==void 0&&jt.offsetWidth?((B==null?void 0:B.offsetWidth)-V*2*(Wt<3?Wt:3))/((Wn=T.current[Ke])===null||Wn===void 0?void 0:Wn.offsetWidth):1;wn.transform="translate3d(".concat(En,", ").concat(Ct,"px, 0) scaleX(").concat(en,")")}else wn.transform="translate3d(".concat(En,", 0, 0)")}return Xt.createElement("div",{ref:te,className:Jr("".concat(o,"-notice-wrapper"),Me,an==null?void 0:an.wrapper),style:De(De(De({},Fe),wn),pn==null?void 0:pn.wrapper),onMouseEnter:function(){return fe(function(Dt){return Dt.includes(Ke)?Dt:[].concat(mr(Dt),[Ke])})},onMouseLeave:function(){return fe(function(Dt){return Dt.filter(function(vt){return vt!==Ke})})}},Xt.createElement(iv,or({},Un,{ref:function(Dt){Ut>-1?T.current[Ke]=Dt:delete T.current[Ke]},prefixCls:o,classNames:an,styles:pn,className:Jr(Nt,E==null?void 0:E.notice),style:In,times:it,key:ot,eventKey:ot,onNoticeClose:p,hovering:O&&se.length>0})))})},KM=re.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-notification":n,o=t.container,u=t.motion,c=t.maxCount,l=t.className,h=t.style,p=t.onAllRemoved,b=t.stack,w=t.renderNotifications,E=re.useState([]),T=et(E,2),L=T[0],F=T[1],B=function(O){var K,V=L.find(function(ie){return ie.key===O});V==null||(K=V.onClose)===null||K===void 0||K.call(V),F(function(ie){return ie.filter(function(ce){return ce.key!==O})})};re.useImperativeHandle(e,function(){return{open:function(O){F(function(K){var V=mr(K),ie=V.findIndex(function(Se){return Se.key===O.key}),ce=De({},O);if(ie>=0){var ee;ce.times=(((ee=K[ie])===null||ee===void 0?void 0:ee.times)||0)+1,V[ie]=ce}else ce.times=0,V.push(ce);return c>0&&V.length>c&&(V=V.slice(-c)),V})},close:function(O){B(O)},destroy:function(){F([])}}});var H=re.useState({}),Q=et(H,2),W=Q[0],se=Q[1];re.useEffect(function(){var Te={};L.forEach(function(O){var K=O.placement,V=K===void 0?"topRight":K;V&&(Te[V]=Te[V]||[],Te[V].push(O))}),Object.keys(W).forEach(function(O){Te[O]=Te[O]||[]}),se(Te)},[L]);var fe=function(O){se(function(K){var V=De({},K),ie=V[O]||[];return ie.length||delete V[O],V})},oe=re.useRef(!1);if(re.useEffect(function(){Object.keys(W).length>0?oe.current=!0:oe.current&&(p==null||p(),oe.current=!1)},[W]),!o)return null;var ye=Object.keys(W);return l2.createPortal(re.createElement(re.Fragment,null,ye.map(function(Te){var O=W[Te],K=re.createElement(YM,{key:Te,configList:O,placement:Te,prefixCls:r,className:l==null?void 0:l(Te),style:h==null?void 0:h(Te),motion:u,onNoticeClose:B,onAllNoticeRemoved:fe,stack:b});return w?w(K,{prefixCls:r,key:Te}):K})),o)}),QM=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],qM=function(){return document.body},Jg=0;function JM(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(o){o&&Object.keys(o).forEach(function(u){var c=o[u];c!==void 0&&(t[u]=c)})}),t}function ZM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,n=e===void 0?qM:e,r=t.motion,o=t.prefixCls,u=t.maxCount,c=t.className,l=t.style,h=t.onAllRemoved,p=t.stack,b=t.renderNotifications,w=Vo(t,QM),E=re.useState(),T=et(E,2),L=T[0],F=T[1],B=re.useRef(),H=re.createElement(KM,{container:L,ref:B,prefixCls:o,motion:r,maxCount:u,className:c,style:l,onAllRemoved:h,stack:p,renderNotifications:b}),Q=re.useState([]),W=et(Q,2),se=W[0],fe=W[1],oe=re.useMemo(function(){return{open:function(Te){var O=JM(w,Te);(O.key===null||O.key===void 0)&&(O.key="rc-notification-".concat(Jg),Jg+=1),fe(function(K){return[].concat(mr(K),[{type:"open",config:O}])})},close:function(Te){fe(function(O){return[].concat(mr(O),[{type:"close",key:Te}])})},destroy:function(){fe(function(Te){return[].concat(mr(Te),[{type:"destroy"}])})}}},[]);return re.useEffect(function(){F(n())}),re.useEffect(function(){if(B.current&&se.length){se.forEach(function(O){switch(O.type){case"open":B.current.open(O.config);break;case"close":B.current.close(O.key);break;case"destroy":B.current.destroy();break}});var ye,Te;fe(function(O){return(ye!==O||!Te)&&(ye=O,Te=O.filter(function(K){return!se.includes(K)})),Te})}},[se]),[oe,H]}var eI={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},tI=function(e,n){return re.createElement(Xi,or({},e,{ref:n,icon:eI}))},nI=re.forwardRef(tI);const rI=Xt.createContext(void 0),vo=100,iI=10,oI=vo*iI,av={Modal:vo,Drawer:vo,Popover:vo,Popconfirm:vo,Tooltip:vo,Tour:vo,FloatButton:vo},aI={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function sI(t){return t in av}const G3=(t,e)=>{const[,n]=Gs(),r=Xt.useContext(rI),o=sI(t);let u;if(e!==void 0)u=[e,e];else{let c=r??0;o?c+=(r?0:n.zIndexPopupBase)+av[t]:c+=aI[t],u=[r===void 0?e:c,c]}return u},uI=t=>{const{componentCls:e,iconCls:n,boxShadow:r,colorText:o,colorSuccess:u,colorError:c,colorWarning:l,colorInfo:h,fontSizeLG:p,motionEaseInOutCirc:b,motionDurationSlow:w,marginXS:E,paddingXS:T,borderRadiusLG:L,zIndexPopup:F,contentPadding:B,contentBg:H}=t,Q=`${e}-notice`,W=new Ag("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:T,transform:"translateY(0)",opacity:1}}),se=new Ag("MessageMoveOut",{"0%":{maxHeight:t.height,padding:T,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),fe={padding:T,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${n}`]:{marginInlineEnd:E,fontSize:p},[`${Q}-content`]:{display:"inline-block",padding:B,background:H,borderRadius:L,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${n}`]:{color:u},[`${e}-error > ${n}`]:{color:c},[`${e}-warning > ${n}`]:{color:l},[`${e}-info > ${n},
      ${e}-loading > ${n}`]:{color:h}};return[{[e]:Object.assign(Object.assign({},EL(t)),{color:o,position:"fixed",top:E,width:"100%",pointerEvents:"none",zIndex:F,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:W,animationDuration:w,animationPlayState:"paused",animationTimingFunction:b},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:se,animationDuration:w,animationPlayState:"paused",animationTimingFunction:b},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${Q}-wrapper`]:Object.assign({},fe)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},fe),{padding:0,textAlign:"start"})}]},cI=t=>({zIndexPopup:t.zIndexPopupBase+oI+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),sv=PL("Message",t=>{const e=eh(t,{height:150});return[uI(e)]},cI);var lI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const fI={info:re.createElement($M,null),success:re.createElement(_M,null),error:re.createElement(PM,null),warning:re.createElement(FM,null),loading:re.createElement(nI,null)},uv=t=>{let{prefixCls:e,type:n,icon:r,children:o}=t;return re.createElement("div",{className:Jr(`${e}-custom-content`,`${e}-${n}`)},r||fI[n],re.createElement("span",null,o))},dI=t=>{const{prefixCls:e,className:n,type:r,icon:o,content:u}=t,c=lI(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=re.useContext(gi),h=e||l("message"),p=rv(h),[b,w,E]=sv(h,p);return b(re.createElement(iv,Object.assign({},c,{prefixCls:h,className:Jr(n,w,`${h}-notice-pure-panel`,E,p),eventKey:"pure",duration:null,content:re.createElement(uv,{prefixCls:h,type:r,icon:o},u)})))};function hI(t,e){return{motionName:e??`${t}-move-up`}}function nh(t){let e;const n=new Promise(o=>{e=t(()=>{o(!0)})}),r=()=>{e==null||e()};return r.then=(o,u)=>n.then(o,u),r.promise=n,r}var pI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const gI=8,mI=3,yI=t=>{let{children:e,prefixCls:n}=t;const r=rv(n),[o,u,c]=sv(n,r);return o(re.createElement(jM,{classNames:{list:Jr(u,c,r)}},e))},vI=(t,e)=>{let{prefixCls:n,key:r}=e;return re.createElement(yI,{prefixCls:n,key:r},t)},wI=re.forwardRef((t,e)=>{const{top:n,prefixCls:r,getContainer:o,maxCount:u,duration:c=mI,rtl:l,transitionName:h,onAllRemoved:p}=t,{getPrefixCls:b,getPopupContainer:w,message:E,direction:T}=re.useContext(gi),L=r||b("message"),F=()=>({left:"50%",transform:"translateX(-50%)",top:n??gI}),B=()=>Jr({[`${L}-rtl`]:l??T==="rtl"}),H=()=>hI(L,h),Q=re.createElement("span",{className:`${L}-close-x`},re.createElement(IM,{className:`${L}-close-icon`})),[W,se]=ZM({prefixCls:L,style:F,className:B,motion:H,closable:!1,closeIcon:Q,duration:c,getContainer:()=>(o==null?void 0:o())||(w==null?void 0:w())||document.body,maxCount:u,onAllRemoved:p,renderNotifications:vI});return re.useImperativeHandle(e,()=>Object.assign(Object.assign({},W),{prefixCls:L,message:E})),se});let Zg=0;function cv(t){const e=re.useRef(null);return _y(),[re.useMemo(()=>{const r=h=>{var p;(p=e.current)===null||p===void 0||p.close(h)},o=h=>{if(!e.current){const oe=()=>{};return oe.then=()=>{},oe}const{open:p,prefixCls:b,message:w}=e.current,E=`${b}-notice`,{content:T,icon:L,type:F,key:B,className:H,style:Q,onClose:W}=h,se=pI(h,["content","icon","type","key","className","style","onClose"]);let fe=B;return fe==null&&(Zg+=1,fe=`antd-message-${Zg}`),nh(oe=>(p(Object.assign(Object.assign({},se),{key:fe,content:re.createElement(uv,{prefixCls:b,type:F,icon:L},T),placement:"top",className:Jr(F&&`${E}-${F}`,H,w==null?void 0:w.className),style:Object.assign(Object.assign({},w==null?void 0:w.style),Q),onClose:()=>{W==null||W(),oe()}})),()=>{r(fe)}))},c={open:o,destroy:h=>{var p;h!==void 0?r(h):(p=e.current)===null||p===void 0||p.destroy()}};return["info","success","warning","error","loading"].forEach(h=>{const p=(b,w,E)=>{let T;b&&typeof b=="object"&&"content"in b?T=b:T={content:b};let L,F;typeof w=="function"?F=w:(L=w,F=E);const B=Object.assign(Object.assign({onClose:F,duration:L},T),{type:h});return o(B)};c[h]=p}),c},[]),re.createElement(wI,Object.assign({key:"message-holder"},t,{ref:e}))]}function bI(t){return cv(t)}function Ps(){Ps=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(j,te,ge){j[te]=ge.value},u=typeof Symbol=="function"?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function p(j,te,ge){return Object.defineProperty(j,te,{value:ge,enumerable:!0,configurable:!0,writable:!0}),j[te]}try{p({},"")}catch{p=function(ge,Me,Fe){return ge[Me]=Fe}}function b(j,te,ge,Me){var Fe=te&&te.prototype instanceof H?te:H,Pe=Object.create(Fe.prototype),Oe=new ee(Me||[]);return o(Pe,"_invoke",{value:K(j,ge,Oe)}),Pe}function w(j,te,ge){try{return{type:"normal",arg:j.call(te,ge)}}catch(Me){return{type:"throw",arg:Me}}}e.wrap=b;var E="suspendedStart",T="suspendedYield",L="executing",F="completed",B={};function H(){}function Q(){}function W(){}var se={};p(se,c,function(){return this});var fe=Object.getPrototypeOf,oe=fe&&fe(fe(Se([])));oe&&oe!==n&&r.call(oe,c)&&(se=oe);var ye=W.prototype=H.prototype=Object.create(se);function Te(j){["next","throw","return"].forEach(function(te){p(j,te,function(ge){return this._invoke(te,ge)})})}function O(j,te){function ge(Fe,Pe,Oe,ot){var it=w(j[Fe],j,Pe);if(it.type!=="throw"){var Ke=it.arg,yt=Ke.value;return yt&&_t(yt)=="object"&&r.call(yt,"__await")?te.resolve(yt.__await).then(function(Nt){ge("next",Nt,Oe,ot)},function(Nt){ge("throw",Nt,Oe,ot)}):te.resolve(yt).then(function(Nt){Ke.value=Nt,Oe(Ke)},function(Nt){return ge("throw",Nt,Oe,ot)})}ot(it.arg)}var Me;o(this,"_invoke",{value:function(Pe,Oe){function ot(){return new te(function(it,Ke){ge(Pe,Oe,it,Ke)})}return Me=Me?Me.then(ot,ot):ot()}})}function K(j,te,ge){var Me=E;return function(Fe,Pe){if(Me===L)throw Error("Generator is already running");if(Me===F){if(Fe==="throw")throw Pe;return{value:t,done:!0}}for(ge.method=Fe,ge.arg=Pe;;){var Oe=ge.delegate;if(Oe){var ot=V(Oe,ge);if(ot){if(ot===B)continue;return ot}}if(ge.method==="next")ge.sent=ge._sent=ge.arg;else if(ge.method==="throw"){if(Me===E)throw Me=F,ge.arg;ge.dispatchException(ge.arg)}else ge.method==="return"&&ge.abrupt("return",ge.arg);Me=L;var it=w(j,te,ge);if(it.type==="normal"){if(Me=ge.done?F:T,it.arg===B)continue;return{value:it.arg,done:ge.done}}it.type==="throw"&&(Me=F,ge.method="throw",ge.arg=it.arg)}}}function V(j,te){var ge=te.method,Me=j.iterator[ge];if(Me===t)return te.delegate=null,ge==="throw"&&j.iterator.return&&(te.method="return",te.arg=t,V(j,te),te.method==="throw")||ge!=="return"&&(te.method="throw",te.arg=new TypeError("The iterator does not provide a '"+ge+"' method")),B;var Fe=w(Me,j.iterator,te.arg);if(Fe.type==="throw")return te.method="throw",te.arg=Fe.arg,te.delegate=null,B;var Pe=Fe.arg;return Pe?Pe.done?(te[j.resultName]=Pe.value,te.next=j.nextLoc,te.method!=="return"&&(te.method="next",te.arg=t),te.delegate=null,B):Pe:(te.method="throw",te.arg=new TypeError("iterator result is not an object"),te.delegate=null,B)}function ie(j){var te={tryLoc:j[0]};1 in j&&(te.catchLoc=j[1]),2 in j&&(te.finallyLoc=j[2],te.afterLoc=j[3]),this.tryEntries.push(te)}function ce(j){var te=j.completion||{};te.type="normal",delete te.arg,j.completion=te}function ee(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(ie,this),this.reset(!0)}function Se(j){if(j||j===""){var te=j[c];if(te)return te.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var ge=-1,Me=function Fe(){for(;++ge<j.length;)if(r.call(j,ge))return Fe.value=j[ge],Fe.done=!1,Fe;return Fe.value=t,Fe.done=!0,Fe};return Me.next=Me}}throw new TypeError(_t(j)+" is not iterable")}return Q.prototype=W,o(ye,"constructor",{value:W,configurable:!0}),o(W,"constructor",{value:Q,configurable:!0}),Q.displayName=p(W,h,"GeneratorFunction"),e.isGeneratorFunction=function(j){var te=typeof j=="function"&&j.constructor;return!!te&&(te===Q||(te.displayName||te.name)==="GeneratorFunction")},e.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,W):(j.__proto__=W,p(j,h,"GeneratorFunction")),j.prototype=Object.create(ye),j},e.awrap=function(j){return{__await:j}},Te(O.prototype),p(O.prototype,l,function(){return this}),e.AsyncIterator=O,e.async=function(j,te,ge,Me,Fe){Fe===void 0&&(Fe=Promise);var Pe=new O(b(j,te,ge,Me),Fe);return e.isGeneratorFunction(te)?Pe:Pe.next().then(function(Oe){return Oe.done?Oe.value:Pe.next()})},Te(ye),p(ye,h,"Generator"),p(ye,c,function(){return this}),p(ye,"toString",function(){return"[object Generator]"}),e.keys=function(j){var te=Object(j),ge=[];for(var Me in te)ge.push(Me);return ge.reverse(),function Fe(){for(;ge.length;){var Pe=ge.pop();if(Pe in te)return Fe.value=Pe,Fe.done=!1,Fe}return Fe.done=!0,Fe}},e.values=Se,ee.prototype={constructor:ee,reset:function(te){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(ce),!te)for(var ge in this)ge.charAt(0)==="t"&&r.call(this,ge)&&!isNaN(+ge.slice(1))&&(this[ge]=t)},stop:function(){this.done=!0;var te=this.tryEntries[0].completion;if(te.type==="throw")throw te.arg;return this.rval},dispatchException:function(te){if(this.done)throw te;var ge=this;function Me(Ke,yt){return Oe.type="throw",Oe.arg=te,ge.next=Ke,yt&&(ge.method="next",ge.arg=t),!!yt}for(var Fe=this.tryEntries.length-1;Fe>=0;--Fe){var Pe=this.tryEntries[Fe],Oe=Pe.completion;if(Pe.tryLoc==="root")return Me("end");if(Pe.tryLoc<=this.prev){var ot=r.call(Pe,"catchLoc"),it=r.call(Pe,"finallyLoc");if(ot&&it){if(this.prev<Pe.catchLoc)return Me(Pe.catchLoc,!0);if(this.prev<Pe.finallyLoc)return Me(Pe.finallyLoc)}else if(ot){if(this.prev<Pe.catchLoc)return Me(Pe.catchLoc,!0)}else{if(!it)throw Error("try statement without catch or finally");if(this.prev<Pe.finallyLoc)return Me(Pe.finallyLoc)}}}},abrupt:function(te,ge){for(var Me=this.tryEntries.length-1;Me>=0;--Me){var Fe=this.tryEntries[Me];if(Fe.tryLoc<=this.prev&&r.call(Fe,"finallyLoc")&&this.prev<Fe.finallyLoc){var Pe=Fe;break}}Pe&&(te==="break"||te==="continue")&&Pe.tryLoc<=ge&&ge<=Pe.finallyLoc&&(Pe=null);var Oe=Pe?Pe.completion:{};return Oe.type=te,Oe.arg=ge,Pe?(this.method="next",this.next=Pe.finallyLoc,B):this.complete(Oe)},complete:function(te,ge){if(te.type==="throw")throw te.arg;return te.type==="break"||te.type==="continue"?this.next=te.arg:te.type==="return"?(this.rval=this.arg=te.arg,this.method="return",this.next="end"):te.type==="normal"&&ge&&(this.next=ge),B},finish:function(te){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var Me=this.tryEntries[ge];if(Me.finallyLoc===te)return this.complete(Me.completion,Me.afterLoc),ce(Me),B}},catch:function(te){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var Me=this.tryEntries[ge];if(Me.tryLoc===te){var Fe=Me.completion;if(Fe.type==="throw"){var Pe=Fe.arg;ce(Me)}return Pe}}throw Error("illegal catch attempt")},delegateYield:function(te,ge,Me){return this.delegate={iterator:Se(te),resultName:ge,nextLoc:Me},this.method==="next"&&(this.arg=t),B}},e}function em(t,e,n,r,o,u,c){try{var l=t[u](c),h=l.value}catch(p){return void n(p)}l.done?e(h):Promise.resolve(h).then(r,o)}function lv(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var u=t.apply(e,n);function c(h){em(u,r,o,c,l,"next",h)}function l(h){em(u,r,o,c,l,"throw",h)}c(void 0)})}}var Us=De({},f2),xI=Us.version,bf=Us.render,SI=Us.unmountComponentAtNode,jc;try{var EI=Number((xI||"").split(".")[0]);EI>=18&&(jc=Us.createRoot)}catch{}function tm(t){var e=Us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&_t(e)==="object"&&(e.usingClientEntryPoint=t)}var lc="__rc_react_root__";function AI(t,e){tm(!0);var n=e[lc]||jc(e);tm(!1),n.render(t),e[lc]=n}function _I(t,e){bf==null||bf(t,e)}function CI(t,e){if(jc){AI(t,e);return}_I(t,e)}function TI(t){return fd.apply(this,arguments)}function fd(){return fd=lv(Ps().mark(function t(e){return Ps().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var o;(o=e[lc])===null||o===void 0||o.unmount(),delete e[lc]}));case 1:case"end":return r.stop()}},t)})),fd.apply(this,arguments)}function PI(t){SI(t)}function LI(t){return dd.apply(this,arguments)}function dd(){return dd=lv(Ps().mark(function t(e){return Ps().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(jc===void 0){r.next=2;break}return r.abrupt("return",TI(e));case 2:PI(e);case 3:case"end":return r.stop()}},t)})),dd.apply(this,arguments)}const MI=(t,e)=>(CI(t,e),()=>LI(e));let II=MI;function kI(){return II}const RI=Xt.createContext({});let Or=null,Do=t=>t(),Ls=[],Ms={};function nm(){const{getContainer:t,duration:e,rtl:n,maxCount:r,top:o}=Ms,u=(t==null?void 0:t())||document.body;return{getContainer:()=>u,duration:e,rtl:n,maxCount:r,top:o}}const FI=Xt.forwardRef((t,e)=>{const{messageConfig:n,sync:r}=t,{getPrefixCls:o}=re.useContext(gi),u=Ms.prefixCls||o("message"),c=re.useContext(RI),[l,h]=cv(Object.assign(Object.assign(Object.assign({},n),{prefixCls:u}),c.message));return Xt.useImperativeHandle(e,()=>{const p=Object.assign({},l);return Object.keys(p).forEach(b=>{p[b]=function(){return r(),l[b].apply(l,arguments)}}),{instance:p,sync:r}}),h}),OI=Xt.forwardRef((t,e)=>{const[n,r]=Xt.useState(nm),o=()=>{r(nm)};Xt.useEffect(o,[]);const u=lM(),c=u.getRootPrefixCls(),l=u.getIconPrefixCls(),h=u.getTheme(),p=Xt.createElement(FI,{ref:e,sync:o,messageConfig:n});return Xt.createElement(Ma,{prefixCls:c,iconPrefixCls:l,theme:h},u.holderRender?u.holderRender(p):p)});function Vc(){if(!Or){const t=document.createDocumentFragment(),e={fragment:t};Or=e,Do(()=>{kI()(Xt.createElement(OI,{ref:r=>{const{instance:o,sync:u}=r||{};Promise.resolve().then(()=>{!e.instance&&o&&(e.instance=o,e.sync=u,Vc())})}}),t)});return}Or.instance&&(Ls.forEach(t=>{const{type:e,skipped:n}=t;if(!n)switch(e){case"open":{Do(()=>{const r=Or.instance.open(Object.assign(Object.assign({},Ms),t.config));r==null||r.then(t.resolve),t.setCloseFn(r)});break}case"destroy":Do(()=>{Or==null||Or.instance.destroy(t.key)});break;default:Do(()=>{var r;const o=(r=Or.instance)[e].apply(r,mr(t.args));o==null||o.then(t.resolve),t.setCloseFn(o)})}}),Ls=[])}function NI(t){Ms=Object.assign(Object.assign({},Ms),t),Do(()=>{var e;(e=Or==null?void 0:Or.sync)===null||e===void 0||e.call(Or)})}function $I(t){const e=nh(n=>{let r;const o={type:"open",config:t,resolve:n,setCloseFn:u=>{r=u}};return Ls.push(o),()=>{r?Do(()=>{r()}):o.skipped=!0}});return Vc(),e}function BI(t,e){const n=nh(r=>{let o;const u={type:t,args:e,resolve:r,setCloseFn:c=>{o=c}};return Ls.push(u),()=>{o?Do(()=>{o()}):u.skipped=!0}});return Vc(),n}const DI=t=>{Ls.push({type:"destroy",key:t}),Vc()},GI=["success","info","warning","error","loading"],UI={open:$I,destroy:DI,config:NI,useMessage:bI,_InternalPanelDoNotUseOrYouWillBeFired:dI},WI=UI;GI.forEach(t=>{WI[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return BI(t,n)}});export{mr as $,Sk as A,Cc as B,Ak as C,Xm as D,PL as E,EL as F,$f as G,F3 as H,Jr as I,HM as J,KL as K,ke as L,mT as M,PM as N,$M as O,Dd as P,_M as Q,FM as R,bm as S,IM as T,vT as U,ac as V,q0 as W,Bc as X,yi as Y,mi as Z,VI as _,cm as a,$r as a$,Ag as a0,id as a1,P3 as a2,De as a3,_t as a4,or as a5,et as a6,ST as a7,zM as a8,Vi as a9,j2 as aA,on as aB,qI as aC,T2 as aD,wc as aE,U2 as aF,sm as aG,ti as aH,ZI as aI,Ca as aJ,Mn as aK,ck as aL,T3 as aM,WI as aN,XC as aO,J2 as aP,hn as aQ,C3 as aR,E2 as aS,YC as aT,zk as aU,tk as aV,nI as aW,Ns as aX,Os as aY,VC as aZ,HE as a_,eh as aa,gi as ab,rd as ac,I3 as ad,iL as ae,$3 as af,rv as ag,G3 as ah,rI as ai,D3 as aj,N3 as ak,Ma as al,Gs as am,oI as an,lM as ao,kI as ap,Hc as aq,Xi as ar,Vo as as,Bs as at,je as au,ly as av,Zk as aw,wm as ax,bc as ay,pd as az,Gk as b,Ik as b$,eE as b0,Ld as b1,LC as b2,N2 as b3,kf as b4,yT as b5,Q0 as b6,zd as b7,TT as b8,Dc as b9,JI as bA,QI as bB,pE as bC,Fk as bD,im as bE,PA as bF,rf as bG,nd as bH,XI as bI,eA as bJ,dA as bK,hA as bL,o3 as bM,gA as bN,a3 as bO,Uk as bP,Wk as bQ,CE as bR,wA as bS,Yk as bT,Ok as bU,vc as bV,yc as bW,q2 as bX,Ss as bY,zo as bZ,md as b_,L3 as ba,TL as bb,O3 as bc,dn as bd,AL as be,_y as bf,uk as bg,Gi as bh,t3 as bi,jm as bj,zi as bk,i0 as bl,Vm as bm,lA as bn,wd as bo,fA as bp,Lk as bq,Jt as br,fE as bs,dE as bt,hE as bu,So as bv,AE as bw,ek as bx,xc as by,C2 as bz,bk as c,lk as c$,K2 as c0,kk as c1,Im as c2,Om as c3,oc as c4,jC as c5,Q2 as c6,Mk as c7,p2 as c8,H0 as c9,Gn as cA,Fs as cB,s3 as cC,Hk as cD,b3 as cE,oC as cF,x3 as cG,Vp as cH,nk as cI,zp as cJ,rk as cK,ok as cL,xf as cM,zm as cN,Xk as cO,l3 as cP,s0 as cQ,jo as cR,jk as cS,pm as cT,Tk as cU,F2 as cV,Mm as cW,R2 as cX,yA as cY,n0 as cZ,fk as c_,FC as ca,qk as cb,Ed as cc,qE as cd,r3 as ce,QE as cf,Jk as cg,KI as ch,Cm as ci,Tm as cj,Vk as ck,hk as cl,pk as cm,gk as cn,mk as co,Ck as cp,n3 as cq,aT as cr,CP as cs,Ty as ct,B3 as cu,td as cv,XP as cw,Uu as cx,k3 as cy,M3 as cz,am as d,A3 as d$,H2 as d0,O2 as d1,cA as d2,bd as d3,Qp as d4,c3 as d5,i3 as d6,Kk as d7,W2 as d8,xm as d9,Hm as dA,Nk as dB,Dk as dC,o0 as dD,w3 as dE,bE as dF,Bk as dG,iT as dH,dT as dI,Ts as dJ,Wo as dK,sy as dL,Mf as dM,Uo as dN,lv as dO,Ps as dP,LP as dQ,Uf as dR,hf as dS,K0 as dT,lg as dU,pM as dV,_3 as dW,wk as dX,Xp as dY,ik as dZ,E3 as d_,Sm as da,V2 as db,g3 as dc,m3 as dd,of as de,eC as df,_A as dg,v3 as dh,Dm as di,y3 as dj,Sd as dk,D2 as dl,Kn as dm,hc as dn,km as dp,yd as dq,mc as dr,Pd as ds,vk as dt,u3 as du,$k as dv,AA as dw,S3 as dx,d3 as dy,p3 as dz,Lm as e,Pk as e0,Qk as e1,SA as e2,h3 as e3,dk as e4,e3 as e5,ZC as e6,Rk as e7,SE as e8,_k as e9,TE as ea,gc as eb,ug as ec,IC as ed,kC as ee,_2 as ef,JC as eg,YI as eh,Ad as ei,xk as f,om as g,rm as h,Pm as i,jI as j,PE as k,Ye as l,gd as m,ak as n,tf as o,ir as p,wa as q,z2 as r,_m as s,sk as t,yk as u,vd as v,f3 as w,vm as x,Ek as y,mm as z};
