const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UPNG-B-vF_xeq.js","assets/index-BpkY95s5.js","assets/_commonjs-dynamic-modules-TDtrdbi3.js","assets/pixi-legacy-CtyQ6ECi.js","assets/index-B0I6uHAu.js","assets/index-CsSXPTiX.js","assets/index-Ctga1AvS.js","assets/index-BKNjMPK8.js"])))=>i.map(i=>d[i]);
import{o as We,m as Na,a as mt,f as g2,r as Wu}from"./index-CsSXPTiX.js";import{r as se,c as xs,g as Ko,f as m2,R as Yt,b as qp,d as Sd,a as y2,e as v2}from"./index-BpkY95s5.js";function rk(t,e){return se.useState(function(){return We(t(),e,{autoBind:!0})})[0]}const w2="modulepreload",x2=function(t){return"https://cdn.jsdelivr.net/gh/assetvoid/static-0/1748944048/"+t},Jp={},Ed=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=Promise.allSettled(n.map(d=>{if(d=x2(d),d in Jp)return;Jp[d]=!0;const p=d.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":w2,p||(v.as="script"),v.crossOrigin="",v.href=d,l&&v.setAttribute("nonce",l),document.head.appendChild(v),p)return new Promise((E,C)=>{v.addEventListener("load",E),v.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${d}`)))})}))}function u(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return i.then(c=>{for(const l of c||[])l.status==="rejected"&&u(l.reason);return e().catch(u)})};var cc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */cc.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",l="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",p=500,w="__lodash_placeholder__",v=1,E=2,C=4,L=1,k=2,N=1,W=2,Q=4,H=8,ie=16,le=32,ne=64,de=128,we=256,R=512,X=30,V="...",re=800,ue=16,ee=1,Ee=2,j=3,te=1/0,me=9007199254740991,Me=17976931348623157e292,Oe=NaN,Le=4294967295,Fe=Le-1,ot=Le>>>1,it=[["ary",de],["bind",N],["bindKey",W],["curry",H],["curryRight",ie],["flip",R],["partial",le],["partialRight",ne],["rearg",we]],Ke="[object Arguments]",yt="[object Array]",Nt="[object AsyncFunction]",kn="[object Boolean]",an="[object Date]",pn="[object DOMException]",Wn="[object Error]",Wt="[object Function]",wn="[object GeneratorFunction]",Ht="[object Map]",An="[object Number]",tn="[object Null]",Vt="[object Object]",Hn="[object Promise]",yr="[object Proxy]",gn="[object RegExp]",st="[object Set]",_t="[object String]",nn="[object Symbol]",bt="[object Undefined]",Bt="[object WeakMap]",vt="[object WeakSet]",wi="[object ArrayBuffer]",xn="[object DataView]",xi="[object Float32Array]",bi="[object Float64Array]",Yi="[object Int8Array]",Ki="[object Int16Array]",Qi="[object Int32Array]",qi="[object Uint8Array]",Wr="[object Uint8ClampedArray]",Si="[object Uint16Array]",Hr="[object Uint32Array]",Ei=/\b__p \+= '';/g,$s=/\b(__p \+=) '' \+/g,Ji=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ri=/&(?:amp|lt|gt|quot|#39);/g,vr=/[&<>"']/g,Zo=RegExp(ri.source),Zi=RegExp(vr.source),ii=/<%-([\s\S]+?)%>/g,oi=/<%([\s\S]+?)%>/g,eo=/<%=([\s\S]+?)%>/g,Ai=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,si=/^\w*$/,ai=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,to=/[\\^$.*+?()[\]{}|]/g,sr=RegExp(to.source),Kt=/^\s+/,es=/\s/,mn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Qt=/\{\n\/\* \[wrapped with (.+)\] \*/,rn=/,? & /,Cn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Rn=/[()=,{}\[\]\/\s]/,zr=/\\(\\)?/g,ts=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_n=/\w*$/,Ci=/^[-+]0x[0-9a-f]+$/i,On=/^0b[01]+$/i,zn=/^\[object .+?Constructor\]$/,Ds=/^0o[0-7]+$/i,_i=/^(?:0|[1-9]\d*)$/,Qn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ns=/($^)/,el=/['\n\r\u2028\u2029\\]/g,Fn="\\ud800-\\udfff",ar="\\u0300-\\u036f",Ya="\\ufe20-\\ufe2f",tl="\\u20d0-\\u20ff",Ka=ar+Ya+tl,Qa="\\u2700-\\u27bf",qa="a-z\\xdf-\\xf6\\xf8-\\xff",nl="\\xac\\xb1\\xd7\\xf7",rl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",il="\\u2000-\\u206f",rs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_o="A-Z\\xc0-\\xd6\\xd8-\\xde",Bs="\\ufe0e\\ufe0f",Ja=nl+rl+il+rs,Gs="['’]",Za="["+Fn+"]",eu="["+Ja+"]",To="["+Ka+"]",tu="\\d+",ol="["+Qa+"]",nu="["+qa+"]",Us="[^"+Fn+Ja+tu+Qa+qa+_o+"]",no="\\ud83c[\\udffb-\\udfff]",wr="(?:"+To+"|"+no+")",Lo="[^"+Fn+"]",Ti="(?:\\ud83c[\\udde6-\\uddff]){2}",jn="[\\ud800-\\udbff][\\udc00-\\udfff]",Tn="["+_o+"]",Po="\\u200d",xr="(?:"+nu+"|"+Us+")",Li="(?:"+Tn+"|"+Us+")",ui="(?:"+Gs+"(?:d|ll|m|re|s|t|ve))?",Ws="(?:"+Gs+"(?:D|LL|M|RE|S|T|VE))?",Hs=wr+"?",zs="["+Bs+"]?",$t="(?:"+Po+"(?:"+[Lo,Ti,jn].join("|")+")"+zs+Hs+")*",ro="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ru=zs+Hs+$t,iu="(?:"+[ol,Ti,jn].join("|")+")"+ru,al="(?:"+[Lo+To+"?",To,Ti,jn,Za].join("|")+")",ut=RegExp(Gs,"g"),is=RegExp(To,"g"),Mo=RegExp(no+"(?="+no+")|"+al+ru,"g"),ou=RegExp([Tn+"?"+nu+"+"+ui+"(?="+[eu,Tn,"$"].join("|")+")",Li+"+"+Ws+"(?="+[eu,Tn+xr,"$"].join("|")+")",Tn+"?"+xr+"+"+ui,Tn+"+"+Ws,sl,ro,tu,iu].join("|"),"g"),js=RegExp("["+Po+Fn+Ka+Bs+"]"),ul=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,su=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],au=-1,Pt={};Pt[xi]=Pt[bi]=Pt[Yi]=Pt[Ki]=Pt[Qi]=Pt[qi]=Pt[Wr]=Pt[Si]=Pt[Hr]=!0,Pt[Ke]=Pt[yt]=Pt[wi]=Pt[kn]=Pt[xn]=Pt[an]=Pt[Wn]=Pt[Wt]=Pt[Ht]=Pt[An]=Pt[Vt]=Pt[gn]=Pt[st]=Pt[_t]=Pt[Bt]=!1;var Rt={};Rt[Ke]=Rt[yt]=Rt[wi]=Rt[xn]=Rt[kn]=Rt[an]=Rt[xi]=Rt[bi]=Rt[Yi]=Rt[Ki]=Rt[Qi]=Rt[Ht]=Rt[An]=Rt[Vt]=Rt[gn]=Rt[st]=Rt[_t]=Rt[nn]=Rt[qi]=Rt[Wr]=Rt[Si]=Rt[Hr]=!0,Rt[Wn]=Rt[Wt]=Rt[Bt]=!1;var io={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},uu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Io={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lu=parseFloat,os=parseInt,ss=typeof xs=="object"&&xs&&xs.Object===Object&&xs,At=typeof self=="object"&&self&&self.Object===Object&&self,zt=ss||At||Function("return this")(),Pi=e&&!e.nodeType&&e,_r=Pi&&!0&&t&&!t.nodeType&&t,Vs=_r&&_r.exports===Pi,as=Vs&&ss.process,ur=function(){try{var Z=_r&&_r.require&&_r.require("util").types;return Z||as&&as.binding&&as.binding("util")}catch{}}(),fu=ur&&ur.isArrayBuffer,Xs=ur&&ur.isDate,ko=ur&&ur.isMap,J=ur&&ur.isRegExp,Vn=ur&&ur.isSet,du=ur&&ur.isTypedArray;function qn(Z,ge,fe){switch(fe.length){case 0:return Z.call(ge);case 1:return Z.call(ge,fe[0]);case 2:return Z.call(ge,fe[0],fe[1]);case 3:return Z.call(ge,fe[0],fe[1],fe[2])}return Z.apply(ge,fe)}function cl(Z,ge,fe,De){for(var nt=-1,Et=Z==null?0:Z.length;++nt<Et;){var on=Z[nt];ge(De,on,fe(on),Z)}return De}function Nn(Z,ge){for(var fe=-1,De=Z==null?0:Z.length;++fe<De&&ge(Z[fe],fe,Z)!==!1;);return Z}function jr(Z,ge){for(var fe=Z==null?0:Z.length;fe--&&ge(Z[fe],fe,Z)!==!1;);return Z}function Ys(Z,ge){for(var fe=-1,De=Z==null?0:Z.length;++fe<De;)if(!ge(Z[fe],fe,Z))return!1;return!0}function Xt(Z,ge){for(var fe=-1,De=Z==null?0:Z.length,nt=0,Et=[];++fe<De;){var on=Z[fe];ge(on,fe,Z)&&(Et[nt++]=on)}return Et}function un(Z,ge){var fe=Z==null?0:Z.length;return!!fe&&oo(Z,ge,0)>-1}function yn(Z,ge,fe){for(var De=-1,nt=Z==null?0:Z.length;++De<nt;)if(fe(ge,Z[De]))return!0;return!1}function jt(Z,ge){for(var fe=-1,De=Z==null?0:Z.length,nt=Array(De);++fe<De;)nt[fe]=ge(Z[fe],fe,Z);return nt}function ci(Z,ge){for(var fe=-1,De=ge.length,nt=Z.length;++fe<De;)Z[nt+fe]=ge[fe];return Z}function Ks(Z,ge,fe,De){var nt=-1,Et=Z==null?0:Z.length;for(De&&Et&&(fe=Z[++nt]);++nt<Et;)fe=ge(fe,Z[nt],nt,Z);return fe}function ll(Z,ge,fe,De){var nt=Z==null?0:Z.length;for(De&&nt&&(fe=Z[--nt]);nt--;)fe=ge(fe,Z[nt],nt,Z);return fe}function Qs(Z,ge){for(var fe=-1,De=Z==null?0:Z.length;++fe<De;)if(ge(Z[fe],fe,Z))return!0;return!1}var fl=qs("length");function dl(Z){return Z.split("")}function hl(Z){return Z.match(Cn)||[]}function hu(Z,ge,fe){var De;return fe(Z,function(nt,Et,on){if(ge(nt,Et,on))return De=Et,!1}),De}function us(Z,ge,fe,De){for(var nt=Z.length,Et=fe+(De?1:-1);De?Et--:++Et<nt;)if(ge(Z[Et],Et,Z))return Et;return-1}function oo(Z,ge,fe){return ge===ge?uo(Z,ge,fe):us(Z,pu,fe)}function pl(Z,ge,fe,De){for(var nt=fe-1,Et=Z.length;++nt<Et;)if(De(Z[nt],ge))return nt;return-1}function pu(Z){return Z!==Z}function gu(Z,ge){var fe=Z==null?0:Z.length;return fe?f(Z,ge)/fe:Oe}function qs(Z){return function(ge){return ge==null?n:ge[Z]}}function so(Z){return function(ge){return Z==null?n:Z[ge]}}function Js(Z,ge,fe,De,nt){return nt(Z,function(Et,on,Ot){fe=De?(De=!1,Et):ge(fe,Et,on,Ot)}),fe}function s(Z,ge){var fe=Z.length;for(Z.sort(ge);fe--;)Z[fe]=Z[fe].value;return Z}function f(Z,ge){for(var fe,De=-1,nt=Z.length;++De<nt;){var Et=ge(Z[De]);Et!==n&&(fe=fe===n?Et:fe+Et)}return fe}function m(Z,ge){for(var fe=-1,De=Array(Z);++fe<Z;)De[fe]=ge(fe);return De}function x(Z,ge){return jt(ge,function(fe){return[fe,Z[fe]]})}function A(Z){return Z&&Z.slice(0,Ln(Z)+1).replace(Kt,"")}function I(Z){return function(ge){return Z(ge)}}function z(Z,ge){return jt(ge,function(fe){return Z[fe]})}function F(Z,ge){return Z.has(ge)}function $(Z,ge){for(var fe=-1,De=Z.length;++fe<De&&oo(ge,Z[fe],0)>-1;);return fe}function Y(Z,ge){for(var fe=Z.length;fe--&&oo(ge,Z[fe],0)>-1;);return fe}function ve(Z,ge){for(var fe=Z.length,De=0;fe--;)Z[fe]===ge&&++De;return De}var Ce=so(io),Ue=so(uu);function ae(Z){return"\\"+Io[Z]}function He(Z,ge){return Z==null?n:Z[ge]}function tt(Z){return js.test(Z)}function rt(Z){return ul.test(Z)}function Xn(Z){for(var ge,fe=[];!(ge=Z.next()).done;)fe.push(ge.value);return fe}function cn(Z){var ge=-1,fe=Array(Z.size);return Z.forEach(function(De,nt){fe[++ge]=[nt,De]}),fe}function ao(Z,ge){return function(fe){return Z(ge(fe))}}function cr(Z,ge){for(var fe=-1,De=Z.length,nt=0,Et=[];++fe<De;){var on=Z[fe];(on===ge||on===w)&&(Z[fe]=w,Et[nt++]=fe)}return Et}function lr(Z){var ge=-1,fe=Array(Z.size);return Z.forEach(function(De){fe[++ge]=De}),fe}function Zs(Z){var ge=-1,fe=Array(Z.size);return Z.forEach(function(De){fe[++ge]=[De,De]}),fe}function uo(Z,ge,fe){for(var De=fe-1,nt=Z.length;++De<nt;)if(Z[De]===ge)return De;return-1}function ea(Z,ge,fe){for(var De=fe+1;De--;)if(Z[De]===ge)return De;return De}function $n(Z){return tt(Z)?mu(Z):fl(Z)}function Jn(Z){return tt(Z)?Vr(Z):dl(Z)}function Ln(Z){for(var ge=Z.length;ge--&&es.test(Z.charAt(ge)););return ge}var Mt=so(cu);function mu(Z){for(var ge=Mo.lastIndex=0;Mo.test(Z);)++ge;return ge}function Vr(Z){return Z.match(Mo)||[]}function ta(Z){return Z.match(ou)||[]}var co=function Z(ge){ge=ge==null?zt:Mi.defaults(zt.Object(),ge,Mi.pick(zt,su));var fe=ge.Array,De=ge.Date,nt=ge.Error,Et=ge.Function,on=ge.Math,Ot=ge.Object,lt=ge.RegExp,Ro=ge.String,fr=ge.TypeError,y=fe.prototype,g=Et.prototype,S=Ot.prototype,P=ge["__core-js_shared__"],G=g.toString,K=S.hasOwnProperty,he=0,Pe=function(){var o=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),je=S.toString,Xe=G.call(Ot),pt=zt._,dt=lt("^"+G.call(K).replace(to,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=Vs?ge.Buffer:n,ye=ge.Symbol,at=ge.Uint8Array,Tt=B?B.allocUnsafe:n,qt=ao(Ot.getPrototypeOf,Ot),Zn=Ot.create,er=S.propertyIsEnumerable,ln=y.splice,Ae=ye?ye.isConcatSpreadable:n,_=ye?ye.iterator:n,D=ye?ye.toStringTag:n,ce=function(){try{var o=Do(Ot,"defineProperty");return o({},"",{}),o}catch{}}(),pe=ge.clearTimeout!==zt.clearTimeout&&ge.clearTimeout,be=De&&De.now!==zt.Date.now&&De.now,Te=ge.setTimeout!==zt.setTimeout&&ge.setTimeout,Ge=on.ceil,Lt=on.floor,It=Ot.getOwnPropertySymbols,Tr=B?B.isBuffer:n,lo=ge.isFinite,vv=y.join,wv=ao(Ot.keys,Ot),bn=on.max,Yn=on.min,xv=De.now,bv=ge.parseInt,ph=on.random,Sv=y.reverse,gl=Do(ge,"DataView"),na=Do(ge,"Map"),ml=Do(ge,"Promise"),cs=Do(ge,"Set"),ra=Do(ge,"WeakMap"),ia=Do(Ot,"create"),yu=ra&&new ra,ls={},Ev=Bo(gl),Av=Bo(na),Cv=Bo(ml),_v=Bo(cs),Tv=Bo(ra),vu=ye?ye.prototype:n,oa=vu?vu.valueOf:n,gh=vu?vu.toString:n;function M(o){if(sn(o)&&!ct(o)&&!(o instanceof xt)){if(o instanceof Lr)return o;if(K.call(o,"__wrapped__"))return mp(o)}return new Lr(o)}var ds=function(){function o(){}return function(a){if(!Jt(a))return{};if(Zn)return Zn(a);o.prototype=a;var h=new o;return o.prototype=n,h}}();function wu(){}function Lr(o,a){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}M.templateSettings={escape:ii,evaluate:oi,interpolate:eo,variable:"",imports:{_:M}},M.prototype=wu.prototype,M.prototype.constructor=M,Lr.prototype=ds(wu.prototype),Lr.prototype.constructor=Lr;function xt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Le,this.__views__=[]}function Lv(){var o=new xt(this.__wrapped__);return o.__actions__=dr(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=dr(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=dr(this.__views__),o}function Pv(){if(this.__filtered__){var o=new xt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Mv(){var o=this.__wrapped__.value(),a=this.__dir__,h=ct(o),b=a<0,T=h?o.length:0,O=W1(0,T,this.__views__),U=O.start,q=O.end,oe=q-U,xe=b?q:U-1,Se=this.__iteratees__,_e=Se.length,Ne=0,Ye=Yn(oe,this.__takeCount__);if(!h||!b&&T==oe&&Ye==oe)return Bh(o,this.__actions__);var Je=[];e:for(;oe--&&Ne<Ye;){xe+=a;for(var ht=-1,Ze=o[xe];++ht<_e;){var wt=Se[ht],St=wt.iteratee,Er=wt.type,rr=St(Ze);if(Er==Ee)Ze=rr;else if(!rr){if(Er==ee)continue e;break e}}Je[Ne++]=Ze}return Je}xt.prototype=ds(wu.prototype),xt.prototype.constructor=xt;function Oo(o){var a=-1,h=o==null?0:o.length;for(this.clear();++a<h;){var b=o[a];this.set(b[0],b[1])}}function Iv(){this.__data__=ia?ia(null):{},this.size=0}function kv(o){var a=this.has(o)&&delete this.__data__[o];return this.size-=a?1:0,a}function Rv(o){var a=this.__data__;if(ia){var h=a[o];return h===d?n:h}return K.call(a,o)?a[o]:n}function Ov(o){var a=this.__data__;return ia?a[o]!==n:K.call(a,o)}function Fv(o,a){var h=this.__data__;return this.size+=this.has(o)?0:1,h[o]=ia&&a===n?d:a,this}Oo.prototype.clear=Iv,Oo.prototype.delete=kv,Oo.prototype.get=Rv,Oo.prototype.has=Ov,Oo.prototype.set=Fv;function Ii(o){var a=-1,h=o==null?0:o.length;for(this.clear();++a<h;){var b=o[a];this.set(b[0],b[1])}}function Nv(){this.__data__=[],this.size=0}function $v(o){var a=this.__data__,h=xu(a,o);if(h<0)return!1;var b=a.length-1;return h==b?a.pop():ln.call(a,h,1),--this.size,!0}function Dv(o){var a=this.__data__,h=xu(a,o);return h<0?n:a[h][1]}function Bv(o){return xu(this.__data__,o)>-1}function Gv(o,a){var h=this.__data__,b=xu(h,o);return b<0?(++this.size,h.push([o,a])):h[b][1]=a,this}Ii.prototype.clear=Nv,Ii.prototype.delete=$v,Ii.prototype.get=Dv,Ii.prototype.has=Bv,Ii.prototype.set=Gv;function ki(o){var a=-1,h=o==null?0:o.length;for(this.clear();++a<h;){var b=o[a];this.set(b[0],b[1])}}function Uv(){this.size=0,this.__data__={hash:new Oo,map:new(na||Ii),string:new Oo}}function Wv(o){var a=ku(this,o).delete(o);return this.size-=a?1:0,a}function Hv(o){return ku(this,o).get(o)}function zv(o){return ku(this,o).has(o)}function jv(o,a){var h=ku(this,o),b=h.size;return h.set(o,a),this.size+=h.size==b?0:1,this}ki.prototype.clear=Uv,ki.prototype.delete=Wv,ki.prototype.get=Hv,ki.prototype.has=zv,ki.prototype.set=jv;function Fo(o){var a=-1,h=o==null?0:o.length;for(this.__data__=new ki;++a<h;)this.add(o[a])}function Vv(o){return this.__data__.set(o,d),this}function Xv(o){return this.__data__.has(o)}Fo.prototype.add=Fo.prototype.push=Vv,Fo.prototype.has=Xv;function Xr(o){var a=this.__data__=new Ii(o);this.size=a.size}function Yv(){this.__data__=new Ii,this.size=0}function Kv(o){var a=this.__data__,h=a.delete(o);return this.size=a.size,h}function Qv(o){return this.__data__.get(o)}function qv(o){return this.__data__.has(o)}function Jv(o,a){var h=this.__data__;if(h instanceof Ii){var b=h.__data__;if(!na||b.length<i-1)return b.push([o,a]),this.size=++h.size,this;h=this.__data__=new ki(b)}return h.set(o,a),this.size=h.size,this}Xr.prototype.clear=Yv,Xr.prototype.delete=Kv,Xr.prototype.get=Qv,Xr.prototype.has=qv,Xr.prototype.set=Jv;function mh(o,a){var h=ct(o),b=!h&&Go(o),T=!h&&!b&&mo(o),O=!h&&!b&&!T&&ms(o),U=h||b||T||O,q=U?m(o.length,Ro):[],oe=q.length;for(var xe in o)(a||K.call(o,xe))&&!(U&&(xe=="length"||T&&(xe=="offset"||xe=="parent")||O&&(xe=="buffer"||xe=="byteLength"||xe=="byteOffset")||Ni(xe,oe)))&&q.push(xe);return q}function yh(o){var a=o.length;return a?o[Tl(0,a-1)]:n}function Zv(o,a){return Ru(dr(o),No(a,0,o.length))}function e1(o){return Ru(dr(o))}function yl(o,a,h){(h!==n&&!Yr(o[a],h)||h===n&&!(a in o))&&Ri(o,a,h)}function sa(o,a,h){var b=o[a];(!(K.call(o,a)&&Yr(b,h))||h===n&&!(a in o))&&Ri(o,a,h)}function xu(o,a){for(var h=o.length;h--;)if(Yr(o[h][0],a))return h;return-1}function t1(o,a,h,b){return fo(o,function(T,O,U){a(b,T,h(T),U)}),b}function vh(o,a){return o&&fi(a,Pn(a),o)}function n1(o,a){return o&&fi(a,pr(a),o)}function Ri(o,a,h){a=="__proto__"&&ce?ce(o,a,{configurable:!0,enumerable:!0,value:h,writable:!0}):o[a]=h}function vl(o,a){for(var h=-1,b=a.length,T=fe(b),O=o==null;++h<b;)T[h]=O?n:Jl(o,a[h]);return T}function No(o,a,h){return o===o&&(h!==n&&(o=o<=h?o:h),a!==n&&(o=o>=a?o:a)),o}function Pr(o,a,h,b,T,O){var U,q=a&v,oe=a&E,xe=a&C;if(h&&(U=T?h(o,b,T,O):h(o)),U!==n)return U;if(!Jt(o))return o;var Se=ct(o);if(Se){if(U=z1(o),!q)return dr(o,U)}else{var _e=Kn(o),Ne=_e==Wt||_e==wn;if(mo(o))return Wh(o,q);if(_e==Vt||_e==Ke||Ne&&!T){if(U=oe||Ne?{}:ap(o),!q)return oe?R1(o,n1(U,o)):k1(o,vh(U,o))}else{if(!Rt[_e])return T?o:{};U=j1(o,_e,q)}}O||(O=new Xr);var Ye=O.get(o);if(Ye)return Ye;O.set(o,U),Np(o)?o.forEach(function(Ze){U.add(Pr(Ze,a,h,Ze,o,O))}):Op(o)&&o.forEach(function(Ze,wt){U.set(wt,Pr(Ze,a,h,wt,o,O))});var Je=xe?oe?Dl:$l:oe?pr:Pn,ht=Se?n:Je(o);return Nn(ht||o,function(Ze,wt){ht&&(wt=Ze,Ze=o[wt]),sa(U,wt,Pr(Ze,a,h,wt,o,O))}),U}function r1(o){var a=Pn(o);return function(h){return wh(h,o,a)}}function wh(o,a,h){var b=h.length;if(o==null)return!b;for(o=Ot(o);b--;){var T=h[b],O=a[T],U=o[T];if(U===n&&!(T in o)||!O(U))return!1}return!0}function xh(o,a,h){if(typeof o!="function")throw new fr(c);return ha(function(){o.apply(n,h)},a)}function aa(o,a,h,b){var T=-1,O=un,U=!0,q=o.length,oe=[],xe=a.length;if(!q)return oe;h&&(a=jt(a,I(h))),b?(O=yn,U=!1):a.length>=i&&(O=F,U=!1,a=new Fo(a));e:for(;++T<q;){var Se=o[T],_e=h==null?Se:h(Se);if(Se=b||Se!==0?Se:0,U&&_e===_e){for(var Ne=xe;Ne--;)if(a[Ne]===_e)continue e;oe.push(Se)}else O(a,_e,b)||oe.push(Se)}return oe}var fo=Xh(li),bh=Xh(xl,!0);function i1(o,a){var h=!0;return fo(o,function(b,T,O){return h=!!a(b,T,O),h}),h}function bu(o,a,h){for(var b=-1,T=o.length;++b<T;){var O=o[b],U=a(O);if(U!=null&&(q===n?U===U&&!Sr(U):h(U,q)))var q=U,oe=O}return oe}function o1(o,a,h,b){var T=o.length;for(h=ft(h),h<0&&(h=-h>T?0:T+h),b=b===n||b>T?T:ft(b),b<0&&(b+=T),b=h>b?0:Dp(b);h<b;)o[h++]=a;return o}function Sh(o,a){var h=[];return fo(o,function(b,T,O){a(b,T,O)&&h.push(b)}),h}function Dn(o,a,h,b,T){var O=-1,U=o.length;for(h||(h=X1),T||(T=[]);++O<U;){var q=o[O];a>0&&h(q)?a>1?Dn(q,a-1,h,b,T):ci(T,q):b||(T[T.length]=q)}return T}var wl=Yh(),Eh=Yh(!0);function li(o,a){return o&&wl(o,a,Pn)}function xl(o,a){return o&&Eh(o,a,Pn)}function Su(o,a){return Xt(a,function(h){return $i(o[h])})}function $o(o,a){a=po(a,o);for(var h=0,b=a.length;o!=null&&h<b;)o=o[di(a[h++])];return h&&h==b?o:n}function Ah(o,a,h){var b=a(o);return ct(o)?b:ci(b,h(o))}function tr(o){return o==null?o===n?bt:tn:D&&D in Ot(o)?U1(o):ew(o)}function bl(o,a){return o>a}function s1(o,a){return o!=null&&K.call(o,a)}function a1(o,a){return o!=null&&a in Ot(o)}function u1(o,a,h){return o>=Yn(a,h)&&o<bn(a,h)}function Sl(o,a,h){for(var b=h?yn:un,T=o[0].length,O=o.length,U=O,q=fe(O),oe=1/0,xe=[];U--;){var Se=o[U];U&&a&&(Se=jt(Se,I(a))),oe=Yn(Se.length,oe),q[U]=!h&&(a||T>=120&&Se.length>=120)?new Fo(U&&Se):n}Se=o[0];var _e=-1,Ne=q[0];e:for(;++_e<T&&xe.length<oe;){var Ye=Se[_e],Je=a?a(Ye):Ye;if(Ye=h||Ye!==0?Ye:0,!(Ne?F(Ne,Je):b(xe,Je,h))){for(U=O;--U;){var ht=q[U];if(!(ht?F(ht,Je):b(o[U],Je,h)))continue e}Ne&&Ne.push(Je),xe.push(Ye)}}return xe}function c1(o,a,h,b){return li(o,function(T,O,U){a(b,h(T),O,U)}),b}function ua(o,a,h){a=po(a,o),o=fp(o,a);var b=o==null?o:o[di(Ir(a))];return b==null?n:qn(b,o,h)}function Ch(o){return sn(o)&&tr(o)==Ke}function l1(o){return sn(o)&&tr(o)==wi}function f1(o){return sn(o)&&tr(o)==an}function ca(o,a,h,b,T){return o===a?!0:o==null||a==null||!sn(o)&&!sn(a)?o!==o&&a!==a:d1(o,a,h,b,ca,T)}function d1(o,a,h,b,T,O){var U=ct(o),q=ct(a),oe=U?yt:Kn(o),xe=q?yt:Kn(a);oe=oe==Ke?Vt:oe,xe=xe==Ke?Vt:xe;var Se=oe==Vt,_e=xe==Vt,Ne=oe==xe;if(Ne&&mo(o)){if(!mo(a))return!1;U=!0,Se=!1}if(Ne&&!Se)return O||(O=new Xr),U||ms(o)?ip(o,a,h,b,T,O):B1(o,a,oe,h,b,T,O);if(!(h&L)){var Ye=Se&&K.call(o,"__wrapped__"),Je=_e&&K.call(a,"__wrapped__");if(Ye||Je){var ht=Ye?o.value():o,Ze=Je?a.value():a;return O||(O=new Xr),T(ht,Ze,h,b,O)}}return Ne?(O||(O=new Xr),G1(o,a,h,b,T,O)):!1}function h1(o){return sn(o)&&Kn(o)==Ht}function El(o,a,h,b){var T=h.length,O=T,U=!b;if(o==null)return!O;for(o=Ot(o);T--;){var q=h[T];if(U&&q[2]?q[1]!==o[q[0]]:!(q[0]in o))return!1}for(;++T<O;){q=h[T];var oe=q[0],xe=o[oe],Se=q[1];if(U&&q[2]){if(xe===n&&!(oe in o))return!1}else{var _e=new Xr;if(b)var Ne=b(xe,Se,oe,o,a,_e);if(!(Ne===n?ca(Se,xe,L|k,b,_e):Ne))return!1}}return!0}function _h(o){if(!Jt(o)||K1(o))return!1;var a=$i(o)?dt:zn;return a.test(Bo(o))}function p1(o){return sn(o)&&tr(o)==gn}function g1(o){return sn(o)&&Kn(o)==st}function m1(o){return sn(o)&&Bu(o.length)&&!!Pt[tr(o)]}function Th(o){return typeof o=="function"?o:o==null?gr:typeof o=="object"?ct(o)?Mh(o[0],o[1]):Ph(o):Kp(o)}function Al(o){if(!da(o))return wv(o);var a=[];for(var h in Ot(o))K.call(o,h)&&h!="constructor"&&a.push(h);return a}function y1(o){if(!Jt(o))return Z1(o);var a=da(o),h=[];for(var b in o)b=="constructor"&&(a||!K.call(o,b))||h.push(b);return h}function Cl(o,a){return o<a}function Lh(o,a){var h=-1,b=hr(o)?fe(o.length):[];return fo(o,function(T,O,U){b[++h]=a(T,O,U)}),b}function Ph(o){var a=Gl(o);return a.length==1&&a[0][2]?cp(a[0][0],a[0][1]):function(h){return h===o||El(h,o,a)}}function Mh(o,a){return Wl(o)&&up(a)?cp(di(o),a):function(h){var b=Jl(h,o);return b===n&&b===a?Zl(h,o):ca(a,b,L|k)}}function Eu(o,a,h,b,T){o!==a&&wl(a,function(O,U){if(T||(T=new Xr),Jt(O))v1(o,a,U,h,Eu,b,T);else{var q=b?b(zl(o,U),O,U+"",o,a,T):n;q===n&&(q=O),yl(o,U,q)}},pr)}function v1(o,a,h,b,T,O,U){var q=zl(o,h),oe=zl(a,h),xe=U.get(oe);if(xe){yl(o,h,xe);return}var Se=O?O(q,oe,h+"",o,a,U):n,_e=Se===n;if(_e){var Ne=ct(oe),Ye=!Ne&&mo(oe),Je=!Ne&&!Ye&&ms(oe);Se=oe,Ne||Ye||Je?ct(q)?Se=q:fn(q)?Se=dr(q):Ye?(_e=!1,Se=Wh(oe,!0)):Je?(_e=!1,Se=Hh(oe,!0)):Se=[]:pa(oe)||Go(oe)?(Se=q,Go(q)?Se=Bp(q):(!Jt(q)||$i(q))&&(Se=ap(oe))):_e=!1}_e&&(U.set(oe,Se),T(Se,oe,b,O,U),U.delete(oe)),yl(o,h,Se)}function Ih(o,a){var h=o.length;if(h)return a+=a<0?h:0,Ni(a,h)?o[a]:n}function kh(o,a,h){a.length?a=jt(a,function(O){return ct(O)?function(U){return $o(U,O.length===1?O[0]:O)}:O}):a=[gr];var b=-1;a=jt(a,I(Qe()));var T=Lh(o,function(O,U,q){var oe=jt(a,function(xe){return xe(O)});return{criteria:oe,index:++b,value:O}});return s(T,function(O,U){return I1(O,U,h)})}function w1(o,a){return Rh(o,a,function(h,b){return Zl(o,b)})}function Rh(o,a,h){for(var b=-1,T=a.length,O={};++b<T;){var U=a[b],q=$o(o,U);h(q,U)&&la(O,po(U,o),q)}return O}function x1(o){return function(a){return $o(a,o)}}function _l(o,a,h,b){var T=b?pl:oo,O=-1,U=a.length,q=o;for(o===a&&(a=dr(a)),h&&(q=jt(o,I(h)));++O<U;)for(var oe=0,xe=a[O],Se=h?h(xe):xe;(oe=T(q,Se,oe,b))>-1;)q!==o&&ln.call(q,oe,1),ln.call(o,oe,1);return o}function Oh(o,a){for(var h=o?a.length:0,b=h-1;h--;){var T=a[h];if(h==b||T!==O){var O=T;Ni(T)?ln.call(o,T,1):Ml(o,T)}}return o}function Tl(o,a){return o+Lt(ph()*(a-o+1))}function b1(o,a,h,b){for(var T=-1,O=bn(Ge((a-o)/(h||1)),0),U=fe(O);O--;)U[b?O:++T]=o,o+=h;return U}function Ll(o,a){var h="";if(!o||a<1||a>me)return h;do a%2&&(h+=o),a=Lt(a/2),a&&(o+=o);while(a);return h}function gt(o,a){return jl(lp(o,a,gr),o+"")}function S1(o){return yh(ys(o))}function E1(o,a){var h=ys(o);return Ru(h,No(a,0,h.length))}function la(o,a,h,b){if(!Jt(o))return o;a=po(a,o);for(var T=-1,O=a.length,U=O-1,q=o;q!=null&&++T<O;){var oe=di(a[T]),xe=h;if(oe==="__proto__"||oe==="constructor"||oe==="prototype")return o;if(T!=U){var Se=q[oe];xe=b?b(Se,oe,q):n,xe===n&&(xe=Jt(Se)?Se:Ni(a[T+1])?[]:{})}sa(q,oe,xe),q=q[oe]}return o}var Fh=yu?function(o,a){return yu.set(o,a),o}:gr,A1=ce?function(o,a){return ce(o,"toString",{configurable:!0,enumerable:!1,value:tf(a),writable:!0})}:gr;function C1(o){return Ru(ys(o))}function Mr(o,a,h){var b=-1,T=o.length;a<0&&(a=-a>T?0:T+a),h=h>T?T:h,h<0&&(h+=T),T=a>h?0:h-a>>>0,a>>>=0;for(var O=fe(T);++b<T;)O[b]=o[b+a];return O}function _1(o,a){var h;return fo(o,function(b,T,O){return h=a(b,T,O),!h}),!!h}function Au(o,a,h){var b=0,T=o==null?b:o.length;if(typeof a=="number"&&a===a&&T<=ot){for(;b<T;){var O=b+T>>>1,U=o[O];U!==null&&!Sr(U)&&(h?U<=a:U<a)?b=O+1:T=O}return T}return Pl(o,a,gr,h)}function Pl(o,a,h,b){var T=0,O=o==null?0:o.length;if(O===0)return 0;a=h(a);for(var U=a!==a,q=a===null,oe=Sr(a),xe=a===n;T<O;){var Se=Lt((T+O)/2),_e=h(o[Se]),Ne=_e!==n,Ye=_e===null,Je=_e===_e,ht=Sr(_e);if(U)var Ze=b||Je;else xe?Ze=Je&&(b||Ne):q?Ze=Je&&Ne&&(b||!Ye):oe?Ze=Je&&Ne&&!Ye&&(b||!ht):Ye||ht?Ze=!1:Ze=b?_e<=a:_e<a;Ze?T=Se+1:O=Se}return Yn(O,Fe)}function Nh(o,a){for(var h=-1,b=o.length,T=0,O=[];++h<b;){var U=o[h],q=a?a(U):U;if(!h||!Yr(q,oe)){var oe=q;O[T++]=U===0?0:U}}return O}function $h(o){return typeof o=="number"?o:Sr(o)?Oe:+o}function br(o){if(typeof o=="string")return o;if(ct(o))return jt(o,br)+"";if(Sr(o))return gh?gh.call(o):"";var a=o+"";return a=="0"&&1/o==-1/0?"-0":a}function ho(o,a,h){var b=-1,T=un,O=o.length,U=!0,q=[],oe=q;if(h)U=!1,T=yn;else if(O>=i){var xe=a?null:$1(o);if(xe)return lr(xe);U=!1,T=F,oe=new Fo}else oe=a?[]:q;e:for(;++b<O;){var Se=o[b],_e=a?a(Se):Se;if(Se=h||Se!==0?Se:0,U&&_e===_e){for(var Ne=oe.length;Ne--;)if(oe[Ne]===_e)continue e;a&&oe.push(_e),q.push(Se)}else T(oe,_e,h)||(oe!==q&&oe.push(_e),q.push(Se))}return q}function Ml(o,a){return a=po(a,o),o=fp(o,a),o==null||delete o[di(Ir(a))]}function Dh(o,a,h,b){return la(o,a,h($o(o,a)),b)}function Cu(o,a,h,b){for(var T=o.length,O=b?T:-1;(b?O--:++O<T)&&a(o[O],O,o););return h?Mr(o,b?0:O,b?O+1:T):Mr(o,b?O+1:0,b?T:O)}function Bh(o,a){var h=o;return h instanceof xt&&(h=h.value()),Ks(a,function(b,T){return T.func.apply(T.thisArg,ci([b],T.args))},h)}function Il(o,a,h){var b=o.length;if(b<2)return b?ho(o[0]):[];for(var T=-1,O=fe(b);++T<b;)for(var U=o[T],q=-1;++q<b;)q!=T&&(O[T]=aa(O[T]||U,o[q],a,h));return ho(Dn(O,1),a,h)}function Gh(o,a,h){for(var b=-1,T=o.length,O=a.length,U={};++b<T;){var q=b<O?a[b]:n;h(U,o[b],q)}return U}function kl(o){return fn(o)?o:[]}function Rl(o){return typeof o=="function"?o:gr}function po(o,a){return ct(o)?o:Wl(o,a)?[o]:gp(kt(o))}var T1=gt;function go(o,a,h){var b=o.length;return h=h===n?b:h,!a&&h>=b?o:Mr(o,a,h)}var Uh=pe||function(o){return zt.clearTimeout(o)};function Wh(o,a){if(a)return o.slice();var h=o.length,b=Tt?Tt(h):new o.constructor(h);return o.copy(b),b}function Ol(o){var a=new o.constructor(o.byteLength);return new at(a).set(new at(o)),a}function L1(o,a){var h=a?Ol(o.buffer):o.buffer;return new o.constructor(h,o.byteOffset,o.byteLength)}function P1(o){var a=new o.constructor(o.source,_n.exec(o));return a.lastIndex=o.lastIndex,a}function M1(o){return oa?Ot(oa.call(o)):{}}function Hh(o,a){var h=a?Ol(o.buffer):o.buffer;return new o.constructor(h,o.byteOffset,o.length)}function zh(o,a){if(o!==a){var h=o!==n,b=o===null,T=o===o,O=Sr(o),U=a!==n,q=a===null,oe=a===a,xe=Sr(a);if(!q&&!xe&&!O&&o>a||O&&U&&oe&&!q&&!xe||b&&U&&oe||!h&&oe||!T)return 1;if(!b&&!O&&!xe&&o<a||xe&&h&&T&&!b&&!O||q&&h&&T||!U&&T||!oe)return-1}return 0}function I1(o,a,h){for(var b=-1,T=o.criteria,O=a.criteria,U=T.length,q=h.length;++b<U;){var oe=zh(T[b],O[b]);if(oe){if(b>=q)return oe;var xe=h[b];return oe*(xe=="desc"?-1:1)}}return o.index-a.index}function jh(o,a,h,b){for(var T=-1,O=o.length,U=h.length,q=-1,oe=a.length,xe=bn(O-U,0),Se=fe(oe+xe),_e=!b;++q<oe;)Se[q]=a[q];for(;++T<U;)(_e||T<O)&&(Se[h[T]]=o[T]);for(;xe--;)Se[q++]=o[T++];return Se}function Vh(o,a,h,b){for(var T=-1,O=o.length,U=-1,q=h.length,oe=-1,xe=a.length,Se=bn(O-q,0),_e=fe(Se+xe),Ne=!b;++T<Se;)_e[T]=o[T];for(var Ye=T;++oe<xe;)_e[Ye+oe]=a[oe];for(;++U<q;)(Ne||T<O)&&(_e[Ye+h[U]]=o[T++]);return _e}function dr(o,a){var h=-1,b=o.length;for(a||(a=fe(b));++h<b;)a[h]=o[h];return a}function fi(o,a,h,b){var T=!h;h||(h={});for(var O=-1,U=a.length;++O<U;){var q=a[O],oe=b?b(h[q],o[q],q,h,o):n;oe===n&&(oe=o[q]),T?Ri(h,q,oe):sa(h,q,oe)}return h}function k1(o,a){return fi(o,Ul(o),a)}function R1(o,a){return fi(o,op(o),a)}function _u(o,a){return function(h,b){var T=ct(h)?cl:t1,O=a?a():{};return T(h,o,Qe(b,2),O)}}function hs(o){return gt(function(a,h){var b=-1,T=h.length,O=T>1?h[T-1]:n,U=T>2?h[2]:n;for(O=o.length>3&&typeof O=="function"?(T--,O):n,U&&nr(h[0],h[1],U)&&(O=T<3?n:O,T=1),a=Ot(a);++b<T;){var q=h[b];q&&o(a,q,b,O)}return a})}function Xh(o,a){return function(h,b){if(h==null)return h;if(!hr(h))return o(h,b);for(var T=h.length,O=a?T:-1,U=Ot(h);(a?O--:++O<T)&&b(U[O],O,U)!==!1;);return h}}function Yh(o){return function(a,h,b){for(var T=-1,O=Ot(a),U=b(a),q=U.length;q--;){var oe=U[o?q:++T];if(h(O[oe],oe,O)===!1)break}return a}}function O1(o,a,h){var b=a&N,T=fa(o);function O(){var U=this&&this!==zt&&this instanceof O?T:o;return U.apply(b?h:this,arguments)}return O}function Kh(o){return function(a){a=kt(a);var h=tt(a)?Jn(a):n,b=h?h[0]:a.charAt(0),T=h?go(h,1).join(""):a.slice(1);return b[o]()+T}}function ps(o){return function(a){return Ks(Xp(Vp(a).replace(ut,"")),o,"")}}function fa(o){return function(){var a=arguments;switch(a.length){case 0:return new o;case 1:return new o(a[0]);case 2:return new o(a[0],a[1]);case 3:return new o(a[0],a[1],a[2]);case 4:return new o(a[0],a[1],a[2],a[3]);case 5:return new o(a[0],a[1],a[2],a[3],a[4]);case 6:return new o(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new o(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var h=ds(o.prototype),b=o.apply(h,a);return Jt(b)?b:h}}function F1(o,a,h){var b=fa(o);function T(){for(var O=arguments.length,U=fe(O),q=O,oe=gs(T);q--;)U[q]=arguments[q];var xe=O<3&&U[0]!==oe&&U[O-1]!==oe?[]:cr(U,oe);if(O-=xe.length,O<h)return ep(o,a,Tu,T.placeholder,n,U,xe,n,n,h-O);var Se=this&&this!==zt&&this instanceof T?b:o;return qn(Se,this,U)}return T}function Qh(o){return function(a,h,b){var T=Ot(a);if(!hr(a)){var O=Qe(h,3);a=Pn(a),h=function(q){return O(T[q],q,T)}}var U=o(a,h,b);return U>-1?T[O?a[U]:U]:n}}function qh(o){return Fi(function(a){var h=a.length,b=h,T=Lr.prototype.thru;for(o&&a.reverse();b--;){var O=a[b];if(typeof O!="function")throw new fr(c);if(T&&!U&&Iu(O)=="wrapper")var U=new Lr([],!0)}for(b=U?b:h;++b<h;){O=a[b];var q=Iu(O),oe=q=="wrapper"?Bl(O):n;oe&&Hl(oe[0])&&oe[1]==(de|H|le|we)&&!oe[4].length&&oe[9]==1?U=U[Iu(oe[0])].apply(U,oe[3]):U=O.length==1&&Hl(O)?U[q]():U.thru(O)}return function(){var xe=arguments,Se=xe[0];if(U&&xe.length==1&&ct(Se))return U.plant(Se).value();for(var _e=0,Ne=h?a[_e].apply(this,xe):Se;++_e<h;)Ne=a[_e].call(this,Ne);return Ne}})}function Tu(o,a,h,b,T,O,U,q,oe,xe){var Se=a&de,_e=a&N,Ne=a&W,Ye=a&(H|ie),Je=a&R,ht=Ne?n:fa(o);function Ze(){for(var wt=arguments.length,St=fe(wt),Er=wt;Er--;)St[Er]=arguments[Er];if(Ye)var rr=gs(Ze),Ar=ve(St,rr);if(b&&(St=jh(St,b,T,Ye)),O&&(St=Vh(St,O,U,Ye)),wt-=Ar,Ye&&wt<xe){var dn=cr(St,rr);return ep(o,a,Tu,Ze.placeholder,h,St,dn,q,oe,xe-wt)}var Kr=_e?h:this,Bi=Ne?Kr[o]:o;return wt=St.length,q?St=tw(St,q):Je&&wt>1&&St.reverse(),Se&&oe<wt&&(St.length=oe),this&&this!==zt&&this instanceof Ze&&(Bi=ht||fa(Bi)),Bi.apply(Kr,St)}return Ze}function Jh(o,a){return function(h,b){return c1(h,o,a(b),{})}}function Lu(o,a){return function(h,b){var T;if(h===n&&b===n)return a;if(h!==n&&(T=h),b!==n){if(T===n)return b;typeof h=="string"||typeof b=="string"?(h=br(h),b=br(b)):(h=$h(h),b=$h(b)),T=o(h,b)}return T}}function Fl(o){return Fi(function(a){return a=jt(a,I(Qe())),gt(function(h){var b=this;return o(a,function(T){return qn(T,b,h)})})})}function Pu(o,a){a=a===n?" ":br(a);var h=a.length;if(h<2)return h?Ll(a,o):a;var b=Ll(a,Ge(o/$n(a)));return tt(a)?go(Jn(b),0,o).join(""):b.slice(0,o)}function N1(o,a,h,b){var T=a&N,O=fa(o);function U(){for(var q=-1,oe=arguments.length,xe=-1,Se=b.length,_e=fe(Se+oe),Ne=this&&this!==zt&&this instanceof U?O:o;++xe<Se;)_e[xe]=b[xe];for(;oe--;)_e[xe++]=arguments[++q];return qn(Ne,T?h:this,_e)}return U}function Zh(o){return function(a,h,b){return b&&typeof b!="number"&&nr(a,h,b)&&(h=b=n),a=Di(a),h===n?(h=a,a=0):h=Di(h),b=b===n?a<h?1:-1:Di(b),b1(a,h,b,o)}}function Mu(o){return function(a,h){return typeof a=="string"&&typeof h=="string"||(a=kr(a),h=kr(h)),o(a,h)}}function ep(o,a,h,b,T,O,U,q,oe,xe){var Se=a&H,_e=Se?U:n,Ne=Se?n:U,Ye=Se?O:n,Je=Se?n:O;a|=Se?le:ne,a&=~(Se?ne:le),a&Q||(a&=-4);var ht=[o,a,T,Ye,_e,Je,Ne,q,oe,xe],Ze=h.apply(n,ht);return Hl(o)&&dp(Ze,ht),Ze.placeholder=b,hp(Ze,o,a)}function Nl(o){var a=on[o];return function(h,b){if(h=kr(h),b=b==null?0:Yn(ft(b),292),b&&lo(h)){var T=(kt(h)+"e").split("e"),O=a(T[0]+"e"+(+T[1]+b));return T=(kt(O)+"e").split("e"),+(T[0]+"e"+(+T[1]-b))}return a(h)}}var $1=cs&&1/lr(new cs([,-0]))[1]==te?function(o){return new cs(o)}:of;function tp(o){return function(a){var h=Kn(a);return h==Ht?cn(a):h==st?Zs(a):x(a,o(a))}}function Oi(o,a,h,b,T,O,U,q){var oe=a&W;if(!oe&&typeof o!="function")throw new fr(c);var xe=b?b.length:0;if(xe||(a&=-97,b=T=n),U=U===n?U:bn(ft(U),0),q=q===n?q:ft(q),xe-=T?T.length:0,a&ne){var Se=b,_e=T;b=T=n}var Ne=oe?n:Bl(o),Ye=[o,a,h,b,T,Se,_e,O,U,q];if(Ne&&J1(Ye,Ne),o=Ye[0],a=Ye[1],h=Ye[2],b=Ye[3],T=Ye[4],q=Ye[9]=Ye[9]===n?oe?0:o.length:bn(Ye[9]-xe,0),!q&&a&(H|ie)&&(a&=-25),!a||a==N)var Je=O1(o,a,h);else a==H||a==ie?Je=F1(o,a,q):(a==le||a==(N|le))&&!T.length?Je=N1(o,a,h,b):Je=Tu.apply(n,Ye);var ht=Ne?Fh:dp;return hp(ht(Je,Ye),o,a)}function np(o,a,h,b){return o===n||Yr(o,S[h])&&!K.call(b,h)?a:o}function rp(o,a,h,b,T,O){return Jt(o)&&Jt(a)&&(O.set(a,o),Eu(o,a,n,rp,O),O.delete(a)),o}function D1(o){return pa(o)?n:o}function ip(o,a,h,b,T,O){var U=h&L,q=o.length,oe=a.length;if(q!=oe&&!(U&&oe>q))return!1;var xe=O.get(o),Se=O.get(a);if(xe&&Se)return xe==a&&Se==o;var _e=-1,Ne=!0,Ye=h&k?new Fo:n;for(O.set(o,a),O.set(a,o);++_e<q;){var Je=o[_e],ht=a[_e];if(b)var Ze=U?b(ht,Je,_e,a,o,O):b(Je,ht,_e,o,a,O);if(Ze!==n){if(Ze)continue;Ne=!1;break}if(Ye){if(!Qs(a,function(wt,St){if(!F(Ye,St)&&(Je===wt||T(Je,wt,h,b,O)))return Ye.push(St)})){Ne=!1;break}}else if(!(Je===ht||T(Je,ht,h,b,O))){Ne=!1;break}}return O.delete(o),O.delete(a),Ne}function B1(o,a,h,b,T,O,U){switch(h){case xn:if(o.byteLength!=a.byteLength||o.byteOffset!=a.byteOffset)return!1;o=o.buffer,a=a.buffer;case wi:return!(o.byteLength!=a.byteLength||!O(new at(o),new at(a)));case kn:case an:case An:return Yr(+o,+a);case Wn:return o.name==a.name&&o.message==a.message;case gn:case _t:return o==a+"";case Ht:var q=cn;case st:var oe=b&L;if(q||(q=lr),o.size!=a.size&&!oe)return!1;var xe=U.get(o);if(xe)return xe==a;b|=k,U.set(o,a);var Se=ip(q(o),q(a),b,T,O,U);return U.delete(o),Se;case nn:if(oa)return oa.call(o)==oa.call(a)}return!1}function G1(o,a,h,b,T,O){var U=h&L,q=$l(o),oe=q.length,xe=$l(a),Se=xe.length;if(oe!=Se&&!U)return!1;for(var _e=oe;_e--;){var Ne=q[_e];if(!(U?Ne in a:K.call(a,Ne)))return!1}var Ye=O.get(o),Je=O.get(a);if(Ye&&Je)return Ye==a&&Je==o;var ht=!0;O.set(o,a),O.set(a,o);for(var Ze=U;++_e<oe;){Ne=q[_e];var wt=o[Ne],St=a[Ne];if(b)var Er=U?b(St,wt,Ne,a,o,O):b(wt,St,Ne,o,a,O);if(!(Er===n?wt===St||T(wt,St,h,b,O):Er)){ht=!1;break}Ze||(Ze=Ne=="constructor")}if(ht&&!Ze){var rr=o.constructor,Ar=a.constructor;rr!=Ar&&"constructor"in o&&"constructor"in a&&!(typeof rr=="function"&&rr instanceof rr&&typeof Ar=="function"&&Ar instanceof Ar)&&(ht=!1)}return O.delete(o),O.delete(a),ht}function Fi(o){return jl(lp(o,n,wp),o+"")}function $l(o){return Ah(o,Pn,Ul)}function Dl(o){return Ah(o,pr,op)}var Bl=yu?function(o){return yu.get(o)}:of;function Iu(o){for(var a=o.name+"",h=ls[a],b=K.call(ls,a)?h.length:0;b--;){var T=h[b],O=T.func;if(O==null||O==o)return T.name}return a}function gs(o){var a=K.call(M,"placeholder")?M:o;return a.placeholder}function Qe(){var o=M.iteratee||nf;return o=o===nf?Th:o,arguments.length?o(arguments[0],arguments[1]):o}function ku(o,a){var h=o.__data__;return Y1(a)?h[typeof a=="string"?"string":"hash"]:h.map}function Gl(o){for(var a=Pn(o),h=a.length;h--;){var b=a[h],T=o[b];a[h]=[b,T,up(T)]}return a}function Do(o,a){var h=He(o,a);return _h(h)?h:n}function U1(o){var a=K.call(o,D),h=o[D];try{o[D]=n;var b=!0}catch{}var T=je.call(o);return b&&(a?o[D]=h:delete o[D]),T}var Ul=It?function(o){return o==null?[]:(o=Ot(o),Xt(It(o),function(a){return er.call(o,a)}))}:sf,op=It?function(o){for(var a=[];o;)ci(a,Ul(o)),o=qt(o);return a}:sf,Kn=tr;(gl&&Kn(new gl(new ArrayBuffer(1)))!=xn||na&&Kn(new na)!=Ht||ml&&Kn(ml.resolve())!=Hn||cs&&Kn(new cs)!=st||ra&&Kn(new ra)!=Bt)&&(Kn=function(o){var a=tr(o),h=a==Vt?o.constructor:n,b=h?Bo(h):"";if(b)switch(b){case Ev:return xn;case Av:return Ht;case Cv:return Hn;case _v:return st;case Tv:return Bt}return a});function W1(o,a,h){for(var b=-1,T=h.length;++b<T;){var O=h[b],U=O.size;switch(O.type){case"drop":o+=U;break;case"dropRight":a-=U;break;case"take":a=Yn(a,o+U);break;case"takeRight":o=bn(o,a-U);break}}return{start:o,end:a}}function H1(o){var a=o.match(Qt);return a?a[1].split(rn):[]}function sp(o,a,h){a=po(a,o);for(var b=-1,T=a.length,O=!1;++b<T;){var U=di(a[b]);if(!(O=o!=null&&h(o,U)))break;o=o[U]}return O||++b!=T?O:(T=o==null?0:o.length,!!T&&Bu(T)&&Ni(U,T)&&(ct(o)||Go(o)))}function z1(o){var a=o.length,h=new o.constructor(a);return a&&typeof o[0]=="string"&&K.call(o,"index")&&(h.index=o.index,h.input=o.input),h}function ap(o){return typeof o.constructor=="function"&&!da(o)?ds(qt(o)):{}}function j1(o,a,h){var b=o.constructor;switch(a){case wi:return Ol(o);case kn:case an:return new b(+o);case xn:return L1(o,h);case xi:case bi:case Yi:case Ki:case Qi:case qi:case Wr:case Si:case Hr:return Hh(o,h);case Ht:return new b;case An:case _t:return new b(o);case gn:return P1(o);case st:return new b;case nn:return M1(o)}}function V1(o,a){var h=a.length;if(!h)return o;var b=h-1;return a[b]=(h>1?"& ":"")+a[b],a=a.join(h>2?", ":" "),o.replace(mn,`{
/* [wrapped with `+a+`] */
`)}function X1(o){return ct(o)||Go(o)||!!(Ae&&o&&o[Ae])}function Ni(o,a){var h=typeof o;return a=a??me,!!a&&(h=="number"||h!="symbol"&&_i.test(o))&&o>-1&&o%1==0&&o<a}function nr(o,a,h){if(!Jt(h))return!1;var b=typeof a;return(b=="number"?hr(h)&&Ni(a,h.length):b=="string"&&a in h)?Yr(h[a],o):!1}function Wl(o,a){if(ct(o))return!1;var h=typeof o;return h=="number"||h=="symbol"||h=="boolean"||o==null||Sr(o)?!0:si.test(o)||!Ai.test(o)||a!=null&&o in Ot(a)}function Y1(o){var a=typeof o;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?o!=="__proto__":o===null}function Hl(o){var a=Iu(o),h=M[a];if(typeof h!="function"||!(a in xt.prototype))return!1;if(o===h)return!0;var b=Bl(h);return!!b&&o===b[0]}function K1(o){return!!Pe&&Pe in o}var Q1=P?$i:af;function da(o){var a=o&&o.constructor,h=typeof a=="function"&&a.prototype||S;return o===h}function up(o){return o===o&&!Jt(o)}function cp(o,a){return function(h){return h==null?!1:h[o]===a&&(a!==n||o in Ot(h))}}function q1(o){var a=$u(o,function(b){return h.size===p&&h.clear(),b}),h=a.cache;return a}function J1(o,a){var h=o[1],b=a[1],T=h|b,O=T<(N|W|de),U=b==de&&h==H||b==de&&h==we&&o[7].length<=a[8]||b==(de|we)&&a[7].length<=a[8]&&h==H;if(!(O||U))return o;b&N&&(o[2]=a[2],T|=h&N?0:Q);var q=a[3];if(q){var oe=o[3];o[3]=oe?jh(oe,q,a[4]):q,o[4]=oe?cr(o[3],w):a[4]}return q=a[5],q&&(oe=o[5],o[5]=oe?Vh(oe,q,a[6]):q,o[6]=oe?cr(o[5],w):a[6]),q=a[7],q&&(o[7]=q),b&de&&(o[8]=o[8]==null?a[8]:Yn(o[8],a[8])),o[9]==null&&(o[9]=a[9]),o[0]=a[0],o[1]=T,o}function Z1(o){var a=[];if(o!=null)for(var h in Ot(o))a.push(h);return a}function ew(o){return je.call(o)}function lp(o,a,h){return a=bn(a===n?o.length-1:a,0),function(){for(var b=arguments,T=-1,O=bn(b.length-a,0),U=fe(O);++T<O;)U[T]=b[a+T];T=-1;for(var q=fe(a+1);++T<a;)q[T]=b[T];return q[a]=h(U),qn(o,this,q)}}function fp(o,a){return a.length<2?o:$o(o,Mr(a,0,-1))}function tw(o,a){for(var h=o.length,b=Yn(a.length,h),T=dr(o);b--;){var O=a[b];o[b]=Ni(O,h)?T[O]:n}return o}function zl(o,a){if(!(a==="constructor"&&typeof o[a]=="function")&&a!="__proto__")return o[a]}var dp=pp(Fh),ha=Te||function(o,a){return zt.setTimeout(o,a)},jl=pp(A1);function hp(o,a,h){var b=a+"";return jl(o,V1(b,nw(H1(b),h)))}function pp(o){var a=0,h=0;return function(){var b=xv(),T=ue-(b-h);if(h=b,T>0){if(++a>=re)return arguments[0]}else a=0;return o.apply(n,arguments)}}function Ru(o,a){var h=-1,b=o.length,T=b-1;for(a=a===n?b:a;++h<a;){var O=Tl(h,T),U=o[O];o[O]=o[h],o[h]=U}return o.length=a,o}var gp=q1(function(o){var a=[];return o.charCodeAt(0)===46&&a.push(""),o.replace(ai,function(h,b,T,O){a.push(T?O.replace(zr,"$1"):b||h)}),a});function di(o){if(typeof o=="string"||Sr(o))return o;var a=o+"";return a=="0"&&1/o==-1/0?"-0":a}function Bo(o){if(o!=null){try{return G.call(o)}catch{}try{return o+""}catch{}}return""}function nw(o,a){return Nn(it,function(h){var b="_."+h[0];a&h[1]&&!un(o,b)&&o.push(b)}),o.sort()}function mp(o){if(o instanceof xt)return o.clone();var a=new Lr(o.__wrapped__,o.__chain__);return a.__actions__=dr(o.__actions__),a.__index__=o.__index__,a.__values__=o.__values__,a}function rw(o,a,h){(h?nr(o,a,h):a===n)?a=1:a=bn(ft(a),0);var b=o==null?0:o.length;if(!b||a<1)return[];for(var T=0,O=0,U=fe(Ge(b/a));T<b;)U[O++]=Mr(o,T,T+=a);return U}function iw(o){for(var a=-1,h=o==null?0:o.length,b=0,T=[];++a<h;){var O=o[a];O&&(T[b++]=O)}return T}function ow(){var o=arguments.length;if(!o)return[];for(var a=fe(o-1),h=arguments[0],b=o;b--;)a[b-1]=arguments[b];return ci(ct(h)?dr(h):[h],Dn(a,1))}var sw=gt(function(o,a){return fn(o)?aa(o,Dn(a,1,fn,!0)):[]}),aw=gt(function(o,a){var h=Ir(a);return fn(h)&&(h=n),fn(o)?aa(o,Dn(a,1,fn,!0),Qe(h,2)):[]}),uw=gt(function(o,a){var h=Ir(a);return fn(h)&&(h=n),fn(o)?aa(o,Dn(a,1,fn,!0),n,h):[]});function cw(o,a,h){var b=o==null?0:o.length;return b?(a=h||a===n?1:ft(a),Mr(o,a<0?0:a,b)):[]}function lw(o,a,h){var b=o==null?0:o.length;return b?(a=h||a===n?1:ft(a),a=b-a,Mr(o,0,a<0?0:a)):[]}function fw(o,a){return o&&o.length?Cu(o,Qe(a,3),!0,!0):[]}function dw(o,a){return o&&o.length?Cu(o,Qe(a,3),!0):[]}function hw(o,a,h,b){var T=o==null?0:o.length;return T?(h&&typeof h!="number"&&nr(o,a,h)&&(h=0,b=T),o1(o,a,h,b)):[]}function yp(o,a,h){var b=o==null?0:o.length;if(!b)return-1;var T=h==null?0:ft(h);return T<0&&(T=bn(b+T,0)),us(o,Qe(a,3),T)}function vp(o,a,h){var b=o==null?0:o.length;if(!b)return-1;var T=b-1;return h!==n&&(T=ft(h),T=h<0?bn(b+T,0):Yn(T,b-1)),us(o,Qe(a,3),T,!0)}function wp(o){var a=o==null?0:o.length;return a?Dn(o,1):[]}function pw(o){var a=o==null?0:o.length;return a?Dn(o,te):[]}function gw(o,a){var h=o==null?0:o.length;return h?(a=a===n?1:ft(a),Dn(o,a)):[]}function mw(o){for(var a=-1,h=o==null?0:o.length,b={};++a<h;){var T=o[a];b[T[0]]=T[1]}return b}function xp(o){return o&&o.length?o[0]:n}function yw(o,a,h){var b=o==null?0:o.length;if(!b)return-1;var T=h==null?0:ft(h);return T<0&&(T=bn(b+T,0)),oo(o,a,T)}function vw(o){var a=o==null?0:o.length;return a?Mr(o,0,-1):[]}var ww=gt(function(o){var a=jt(o,kl);return a.length&&a[0]===o[0]?Sl(a):[]}),xw=gt(function(o){var a=Ir(o),h=jt(o,kl);return a===Ir(h)?a=n:h.pop(),h.length&&h[0]===o[0]?Sl(h,Qe(a,2)):[]}),bw=gt(function(o){var a=Ir(o),h=jt(o,kl);return a=typeof a=="function"?a:n,a&&h.pop(),h.length&&h[0]===o[0]?Sl(h,n,a):[]});function Sw(o,a){return o==null?"":vv.call(o,a)}function Ir(o){var a=o==null?0:o.length;return a?o[a-1]:n}function Ew(o,a,h){var b=o==null?0:o.length;if(!b)return-1;var T=b;return h!==n&&(T=ft(h),T=T<0?bn(b+T,0):Yn(T,b-1)),a===a?ea(o,a,T):us(o,pu,T,!0)}function Aw(o,a){return o&&o.length?Ih(o,ft(a)):n}var Cw=gt(bp);function bp(o,a){return o&&o.length&&a&&a.length?_l(o,a):o}function _w(o,a,h){return o&&o.length&&a&&a.length?_l(o,a,Qe(h,2)):o}function Tw(o,a,h){return o&&o.length&&a&&a.length?_l(o,a,n,h):o}var Lw=Fi(function(o,a){var h=o==null?0:o.length,b=vl(o,a);return Oh(o,jt(a,function(T){return Ni(T,h)?+T:T}).sort(zh)),b});function Pw(o,a){var h=[];if(!(o&&o.length))return h;var b=-1,T=[],O=o.length;for(a=Qe(a,3);++b<O;){var U=o[b];a(U,b,o)&&(h.push(U),T.push(b))}return Oh(o,T),h}function Vl(o){return o==null?o:Sv.call(o)}function Mw(o,a,h){var b=o==null?0:o.length;return b?(h&&typeof h!="number"&&nr(o,a,h)?(a=0,h=b):(a=a==null?0:ft(a),h=h===n?b:ft(h)),Mr(o,a,h)):[]}function Iw(o,a){return Au(o,a)}function kw(o,a,h){return Pl(o,a,Qe(h,2))}function Rw(o,a){var h=o==null?0:o.length;if(h){var b=Au(o,a);if(b<h&&Yr(o[b],a))return b}return-1}function Ow(o,a){return Au(o,a,!0)}function Fw(o,a,h){return Pl(o,a,Qe(h,2),!0)}function Nw(o,a){var h=o==null?0:o.length;if(h){var b=Au(o,a,!0)-1;if(Yr(o[b],a))return b}return-1}function $w(o){return o&&o.length?Nh(o):[]}function Dw(o,a){return o&&o.length?Nh(o,Qe(a,2)):[]}function Bw(o){var a=o==null?0:o.length;return a?Mr(o,1,a):[]}function Gw(o,a,h){return o&&o.length?(a=h||a===n?1:ft(a),Mr(o,0,a<0?0:a)):[]}function Uw(o,a,h){var b=o==null?0:o.length;return b?(a=h||a===n?1:ft(a),a=b-a,Mr(o,a<0?0:a,b)):[]}function Ww(o,a){return o&&o.length?Cu(o,Qe(a,3),!1,!0):[]}function Hw(o,a){return o&&o.length?Cu(o,Qe(a,3)):[]}var zw=gt(function(o){return ho(Dn(o,1,fn,!0))}),jw=gt(function(o){var a=Ir(o);return fn(a)&&(a=n),ho(Dn(o,1,fn,!0),Qe(a,2))}),Vw=gt(function(o){var a=Ir(o);return a=typeof a=="function"?a:n,ho(Dn(o,1,fn,!0),n,a)});function Xw(o){return o&&o.length?ho(o):[]}function Yw(o,a){return o&&o.length?ho(o,Qe(a,2)):[]}function Kw(o,a){return a=typeof a=="function"?a:n,o&&o.length?ho(o,n,a):[]}function Xl(o){if(!(o&&o.length))return[];var a=0;return o=Xt(o,function(h){if(fn(h))return a=bn(h.length,a),!0}),m(a,function(h){return jt(o,qs(h))})}function Sp(o,a){if(!(o&&o.length))return[];var h=Xl(o);return a==null?h:jt(h,function(b){return qn(a,n,b)})}var Qw=gt(function(o,a){return fn(o)?aa(o,a):[]}),qw=gt(function(o){return Il(Xt(o,fn))}),Jw=gt(function(o){var a=Ir(o);return fn(a)&&(a=n),Il(Xt(o,fn),Qe(a,2))}),Zw=gt(function(o){var a=Ir(o);return a=typeof a=="function"?a:n,Il(Xt(o,fn),n,a)}),ex=gt(Xl);function tx(o,a){return Gh(o||[],a||[],sa)}function nx(o,a){return Gh(o||[],a||[],la)}var rx=gt(function(o){var a=o.length,h=a>1?o[a-1]:n;return h=typeof h=="function"?(o.pop(),h):n,Sp(o,h)});function Ep(o){var a=M(o);return a.__chain__=!0,a}function ix(o,a){return a(o),o}function Ou(o,a){return a(o)}var ox=Fi(function(o){var a=o.length,h=a?o[0]:0,b=this.__wrapped__,T=function(O){return vl(O,o)};return a>1||this.__actions__.length||!(b instanceof xt)||!Ni(h)?this.thru(T):(b=b.slice(h,+h+(a?1:0)),b.__actions__.push({func:Ou,args:[T],thisArg:n}),new Lr(b,this.__chain__).thru(function(O){return a&&!O.length&&O.push(n),O}))});function sx(){return Ep(this)}function ax(){return new Lr(this.value(),this.__chain__)}function ux(){this.__values__===n&&(this.__values__=$p(this.value()));var o=this.__index__>=this.__values__.length,a=o?n:this.__values__[this.__index__++];return{done:o,value:a}}function cx(){return this}function lx(o){for(var a,h=this;h instanceof wu;){var b=mp(h);b.__index__=0,b.__values__=n,a?T.__wrapped__=b:a=b;var T=b;h=h.__wrapped__}return T.__wrapped__=o,a}function fx(){var o=this.__wrapped__;if(o instanceof xt){var a=o;return this.__actions__.length&&(a=new xt(this)),a=a.reverse(),a.__actions__.push({func:Ou,args:[Vl],thisArg:n}),new Lr(a,this.__chain__)}return this.thru(Vl)}function dx(){return Bh(this.__wrapped__,this.__actions__)}var hx=_u(function(o,a,h){K.call(o,h)?++o[h]:Ri(o,h,1)});function px(o,a,h){var b=ct(o)?Ys:i1;return h&&nr(o,a,h)&&(a=n),b(o,Qe(a,3))}function gx(o,a){var h=ct(o)?Xt:Sh;return h(o,Qe(a,3))}var mx=Qh(yp),yx=Qh(vp);function vx(o,a){return Dn(Fu(o,a),1)}function wx(o,a){return Dn(Fu(o,a),te)}function xx(o,a,h){return h=h===n?1:ft(h),Dn(Fu(o,a),h)}function Ap(o,a){var h=ct(o)?Nn:fo;return h(o,Qe(a,3))}function Cp(o,a){var h=ct(o)?jr:bh;return h(o,Qe(a,3))}var bx=_u(function(o,a,h){K.call(o,h)?o[h].push(a):Ri(o,h,[a])});function Sx(o,a,h,b){o=hr(o)?o:ys(o),h=h&&!b?ft(h):0;var T=o.length;return h<0&&(h=bn(T+h,0)),Gu(o)?h<=T&&o.indexOf(a,h)>-1:!!T&&oo(o,a,h)>-1}var Ex=gt(function(o,a,h){var b=-1,T=typeof a=="function",O=hr(o)?fe(o.length):[];return fo(o,function(U){O[++b]=T?qn(a,U,h):ua(U,a,h)}),O}),Ax=_u(function(o,a,h){Ri(o,h,a)});function Fu(o,a){var h=ct(o)?jt:Lh;return h(o,Qe(a,3))}function Cx(o,a,h,b){return o==null?[]:(ct(a)||(a=a==null?[]:[a]),h=b?n:h,ct(h)||(h=h==null?[]:[h]),kh(o,a,h))}var _x=_u(function(o,a,h){o[h?0:1].push(a)},function(){return[[],[]]});function Tx(o,a,h){var b=ct(o)?Ks:Js,T=arguments.length<3;return b(o,Qe(a,4),h,T,fo)}function Lx(o,a,h){var b=ct(o)?ll:Js,T=arguments.length<3;return b(o,Qe(a,4),h,T,bh)}function Px(o,a){var h=ct(o)?Xt:Sh;return h(o,Du(Qe(a,3)))}function Mx(o){var a=ct(o)?yh:S1;return a(o)}function Ix(o,a,h){(h?nr(o,a,h):a===n)?a=1:a=ft(a);var b=ct(o)?Zv:E1;return b(o,a)}function kx(o){var a=ct(o)?e1:C1;return a(o)}function Rx(o){if(o==null)return 0;if(hr(o))return Gu(o)?$n(o):o.length;var a=Kn(o);return a==Ht||a==st?o.size:Al(o).length}function Ox(o,a,h){var b=ct(o)?Qs:_1;return h&&nr(o,a,h)&&(a=n),b(o,Qe(a,3))}var Fx=gt(function(o,a){if(o==null)return[];var h=a.length;return h>1&&nr(o,a[0],a[1])?a=[]:h>2&&nr(a[0],a[1],a[2])&&(a=[a[0]]),kh(o,Dn(a,1),[])}),Nu=be||function(){return zt.Date.now()};function Nx(o,a){if(typeof a!="function")throw new fr(c);return o=ft(o),function(){if(--o<1)return a.apply(this,arguments)}}function _p(o,a,h){return a=h?n:a,a=o&&a==null?o.length:a,Oi(o,de,n,n,n,n,a)}function Tp(o,a){var h;if(typeof a!="function")throw new fr(c);return o=ft(o),function(){return--o>0&&(h=a.apply(this,arguments)),o<=1&&(a=n),h}}var Yl=gt(function(o,a,h){var b=N;if(h.length){var T=cr(h,gs(Yl));b|=le}return Oi(o,b,a,h,T)}),Lp=gt(function(o,a,h){var b=N|W;if(h.length){var T=cr(h,gs(Lp));b|=le}return Oi(a,b,o,h,T)});function Pp(o,a,h){a=h?n:a;var b=Oi(o,H,n,n,n,n,n,a);return b.placeholder=Pp.placeholder,b}function Mp(o,a,h){a=h?n:a;var b=Oi(o,ie,n,n,n,n,n,a);return b.placeholder=Mp.placeholder,b}function Ip(o,a,h){var b,T,O,U,q,oe,xe=0,Se=!1,_e=!1,Ne=!0;if(typeof o!="function")throw new fr(c);a=kr(a)||0,Jt(h)&&(Se=!!h.leading,_e="maxWait"in h,O=_e?bn(kr(h.maxWait)||0,a):O,Ne="trailing"in h?!!h.trailing:Ne);function Ye(dn){var Kr=b,Bi=T;return b=T=n,xe=dn,U=o.apply(Bi,Kr),U}function Je(dn){return xe=dn,q=ha(wt,a),Se?Ye(dn):U}function ht(dn){var Kr=dn-oe,Bi=dn-xe,Qp=a-Kr;return _e?Yn(Qp,O-Bi):Qp}function Ze(dn){var Kr=dn-oe,Bi=dn-xe;return oe===n||Kr>=a||Kr<0||_e&&Bi>=O}function wt(){var dn=Nu();if(Ze(dn))return St(dn);q=ha(wt,ht(dn))}function St(dn){return q=n,Ne&&b?Ye(dn):(b=T=n,U)}function Er(){q!==n&&Uh(q),xe=0,b=oe=T=q=n}function rr(){return q===n?U:St(Nu())}function Ar(){var dn=Nu(),Kr=Ze(dn);if(b=arguments,T=this,oe=dn,Kr){if(q===n)return Je(oe);if(_e)return Uh(q),q=ha(wt,a),Ye(oe)}return q===n&&(q=ha(wt,a)),U}return Ar.cancel=Er,Ar.flush=rr,Ar}var $x=gt(function(o,a){return xh(o,1,a)}),Dx=gt(function(o,a,h){return xh(o,kr(a)||0,h)});function Bx(o){return Oi(o,R)}function $u(o,a){if(typeof o!="function"||a!=null&&typeof a!="function")throw new fr(c);var h=function(){var b=arguments,T=a?a.apply(this,b):b[0],O=h.cache;if(O.has(T))return O.get(T);var U=o.apply(this,b);return h.cache=O.set(T,U)||O,U};return h.cache=new($u.Cache||ki),h}$u.Cache=ki;function Du(o){if(typeof o!="function")throw new fr(c);return function(){var a=arguments;switch(a.length){case 0:return!o.call(this);case 1:return!o.call(this,a[0]);case 2:return!o.call(this,a[0],a[1]);case 3:return!o.call(this,a[0],a[1],a[2])}return!o.apply(this,a)}}function Gx(o){return Tp(2,o)}var Ux=T1(function(o,a){a=a.length==1&&ct(a[0])?jt(a[0],I(Qe())):jt(Dn(a,1),I(Qe()));var h=a.length;return gt(function(b){for(var T=-1,O=Yn(b.length,h);++T<O;)b[T]=a[T].call(this,b[T]);return qn(o,this,b)})}),Kl=gt(function(o,a){var h=cr(a,gs(Kl));return Oi(o,le,n,a,h)}),kp=gt(function(o,a){var h=cr(a,gs(kp));return Oi(o,ne,n,a,h)}),Wx=Fi(function(o,a){return Oi(o,we,n,n,n,a)});function Hx(o,a){if(typeof o!="function")throw new fr(c);return a=a===n?a:ft(a),gt(o,a)}function zx(o,a){if(typeof o!="function")throw new fr(c);return a=a==null?0:bn(ft(a),0),gt(function(h){var b=h[a],T=go(h,0,a);return b&&ci(T,b),qn(o,this,T)})}function jx(o,a,h){var b=!0,T=!0;if(typeof o!="function")throw new fr(c);return Jt(h)&&(b="leading"in h?!!h.leading:b,T="trailing"in h?!!h.trailing:T),Ip(o,a,{leading:b,maxWait:a,trailing:T})}function Vx(o){return _p(o,1)}function Xx(o,a){return Kl(Rl(a),o)}function Yx(){if(!arguments.length)return[];var o=arguments[0];return ct(o)?o:[o]}function Kx(o){return Pr(o,C)}function Qx(o,a){return a=typeof a=="function"?a:n,Pr(o,C,a)}function qx(o){return Pr(o,v|C)}function Jx(o,a){return a=typeof a=="function"?a:n,Pr(o,v|C,a)}function Zx(o,a){return a==null||wh(o,a,Pn(a))}function Yr(o,a){return o===a||o!==o&&a!==a}var eb=Mu(bl),tb=Mu(function(o,a){return o>=a}),Go=Ch(function(){return arguments}())?Ch:function(o){return sn(o)&&K.call(o,"callee")&&!er.call(o,"callee")},ct=fe.isArray,nb=fu?I(fu):l1;function hr(o){return o!=null&&Bu(o.length)&&!$i(o)}function fn(o){return sn(o)&&hr(o)}function rb(o){return o===!0||o===!1||sn(o)&&tr(o)==kn}var mo=Tr||af,ib=Xs?I(Xs):f1;function ob(o){return sn(o)&&o.nodeType===1&&!pa(o)}function sb(o){if(o==null)return!0;if(hr(o)&&(ct(o)||typeof o=="string"||typeof o.splice=="function"||mo(o)||ms(o)||Go(o)))return!o.length;var a=Kn(o);if(a==Ht||a==st)return!o.size;if(da(o))return!Al(o).length;for(var h in o)if(K.call(o,h))return!1;return!0}function ab(o,a){return ca(o,a)}function ub(o,a,h){h=typeof h=="function"?h:n;var b=h?h(o,a):n;return b===n?ca(o,a,n,h):!!b}function Ql(o){if(!sn(o))return!1;var a=tr(o);return a==Wn||a==pn||typeof o.message=="string"&&typeof o.name=="string"&&!pa(o)}function cb(o){return typeof o=="number"&&lo(o)}function $i(o){if(!Jt(o))return!1;var a=tr(o);return a==Wt||a==wn||a==Nt||a==yr}function Rp(o){return typeof o=="number"&&o==ft(o)}function Bu(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=me}function Jt(o){var a=typeof o;return o!=null&&(a=="object"||a=="function")}function sn(o){return o!=null&&typeof o=="object"}var Op=ko?I(ko):h1;function lb(o,a){return o===a||El(o,a,Gl(a))}function fb(o,a,h){return h=typeof h=="function"?h:n,El(o,a,Gl(a),h)}function db(o){return Fp(o)&&o!=+o}function hb(o){if(Q1(o))throw new nt(u);return _h(o)}function pb(o){return o===null}function gb(o){return o==null}function Fp(o){return typeof o=="number"||sn(o)&&tr(o)==An}function pa(o){if(!sn(o)||tr(o)!=Vt)return!1;var a=qt(o);if(a===null)return!0;var h=K.call(a,"constructor")&&a.constructor;return typeof h=="function"&&h instanceof h&&G.call(h)==Xe}var ql=J?I(J):p1;function mb(o){return Rp(o)&&o>=-9007199254740991&&o<=me}var Np=Vn?I(Vn):g1;function Gu(o){return typeof o=="string"||!ct(o)&&sn(o)&&tr(o)==_t}function Sr(o){return typeof o=="symbol"||sn(o)&&tr(o)==nn}var ms=du?I(du):m1;function yb(o){return o===n}function vb(o){return sn(o)&&Kn(o)==Bt}function wb(o){return sn(o)&&tr(o)==vt}var xb=Mu(Cl),bb=Mu(function(o,a){return o<=a});function $p(o){if(!o)return[];if(hr(o))return Gu(o)?Jn(o):dr(o);if(_&&o[_])return Xn(o[_]());var a=Kn(o),h=a==Ht?cn:a==st?lr:ys;return h(o)}function Di(o){if(!o)return o===0?o:0;if(o=kr(o),o===te||o===-1/0){var a=o<0?-1:1;return a*Me}return o===o?o:0}function ft(o){var a=Di(o),h=a%1;return a===a?h?a-h:a:0}function Dp(o){return o?No(ft(o),0,Le):0}function kr(o){if(typeof o=="number")return o;if(Sr(o))return Oe;if(Jt(o)){var a=typeof o.valueOf=="function"?o.valueOf():o;o=Jt(a)?a+"":a}if(typeof o!="string")return o===0?o:+o;o=A(o);var h=On.test(o);return h||Ds.test(o)?os(o.slice(2),h?2:8):Ci.test(o)?Oe:+o}function Bp(o){return fi(o,pr(o))}function Sb(o){return o?No(ft(o),-9007199254740991,me):o===0?o:0}function kt(o){return o==null?"":br(o)}var Eb=hs(function(o,a){if(da(a)||hr(a)){fi(a,Pn(a),o);return}for(var h in a)K.call(a,h)&&sa(o,h,a[h])}),Gp=hs(function(o,a){fi(a,pr(a),o)}),Uu=hs(function(o,a,h,b){fi(a,pr(a),o,b)}),Ab=hs(function(o,a,h,b){fi(a,Pn(a),o,b)}),Cb=Fi(vl);function _b(o,a){var h=ds(o);return a==null?h:vh(h,a)}var Tb=gt(function(o,a){o=Ot(o);var h=-1,b=a.length,T=b>2?a[2]:n;for(T&&nr(a[0],a[1],T)&&(b=1);++h<b;)for(var O=a[h],U=pr(O),q=-1,oe=U.length;++q<oe;){var xe=U[q],Se=o[xe];(Se===n||Yr(Se,S[xe])&&!K.call(o,xe))&&(o[xe]=O[xe])}return o}),Lb=gt(function(o){return o.push(n,rp),qn(Up,n,o)});function Pb(o,a){return hu(o,Qe(a,3),li)}function Mb(o,a){return hu(o,Qe(a,3),xl)}function Ib(o,a){return o==null?o:wl(o,Qe(a,3),pr)}function kb(o,a){return o==null?o:Eh(o,Qe(a,3),pr)}function Rb(o,a){return o&&li(o,Qe(a,3))}function Ob(o,a){return o&&xl(o,Qe(a,3))}function Fb(o){return o==null?[]:Su(o,Pn(o))}function Nb(o){return o==null?[]:Su(o,pr(o))}function Jl(o,a,h){var b=o==null?n:$o(o,a);return b===n?h:b}function $b(o,a){return o!=null&&sp(o,a,s1)}function Zl(o,a){return o!=null&&sp(o,a,a1)}var Db=Jh(function(o,a,h){a!=null&&typeof a.toString!="function"&&(a=je.call(a)),o[a]=h},tf(gr)),Bb=Jh(function(o,a,h){a!=null&&typeof a.toString!="function"&&(a=je.call(a)),K.call(o,a)?o[a].push(h):o[a]=[h]},Qe),Gb=gt(ua);function Pn(o){return hr(o)?mh(o):Al(o)}function pr(o){return hr(o)?mh(o,!0):y1(o)}function Ub(o,a){var h={};return a=Qe(a,3),li(o,function(b,T,O){Ri(h,a(b,T,O),b)}),h}function Wb(o,a){var h={};return a=Qe(a,3),li(o,function(b,T,O){Ri(h,T,a(b,T,O))}),h}var Hb=hs(function(o,a,h){Eu(o,a,h)}),Up=hs(function(o,a,h,b){Eu(o,a,h,b)}),zb=Fi(function(o,a){var h={};if(o==null)return h;var b=!1;a=jt(a,function(O){return O=po(O,o),b||(b=O.length>1),O}),fi(o,Dl(o),h),b&&(h=Pr(h,v|E|C,D1));for(var T=a.length;T--;)Ml(h,a[T]);return h});function jb(o,a){return Wp(o,Du(Qe(a)))}var Vb=Fi(function(o,a){return o==null?{}:w1(o,a)});function Wp(o,a){if(o==null)return{};var h=jt(Dl(o),function(b){return[b]});return a=Qe(a),Rh(o,h,function(b,T){return a(b,T[0])})}function Xb(o,a,h){a=po(a,o);var b=-1,T=a.length;for(T||(T=1,o=n);++b<T;){var O=o==null?n:o[di(a[b])];O===n&&(b=T,O=h),o=$i(O)?O.call(o):O}return o}function Yb(o,a,h){return o==null?o:la(o,a,h)}function Kb(o,a,h,b){return b=typeof b=="function"?b:n,o==null?o:la(o,a,h,b)}var Hp=tp(Pn),zp=tp(pr);function Qb(o,a,h){var b=ct(o),T=b||mo(o)||ms(o);if(a=Qe(a,4),h==null){var O=o&&o.constructor;T?h=b?new O:[]:Jt(o)?h=$i(O)?ds(qt(o)):{}:h={}}return(T?Nn:li)(o,function(U,q,oe){return a(h,U,q,oe)}),h}function qb(o,a){return o==null?!0:Ml(o,a)}function Jb(o,a,h){return o==null?o:Dh(o,a,Rl(h))}function Zb(o,a,h,b){return b=typeof b=="function"?b:n,o==null?o:Dh(o,a,Rl(h),b)}function ys(o){return o==null?[]:z(o,Pn(o))}function eS(o){return o==null?[]:z(o,pr(o))}function tS(o,a,h){return h===n&&(h=a,a=n),h!==n&&(h=kr(h),h=h===h?h:0),a!==n&&(a=kr(a),a=a===a?a:0),No(kr(o),a,h)}function nS(o,a,h){return a=Di(a),h===n?(h=a,a=0):h=Di(h),o=kr(o),u1(o,a,h)}function rS(o,a,h){if(h&&typeof h!="boolean"&&nr(o,a,h)&&(a=h=n),h===n&&(typeof a=="boolean"?(h=a,a=n):typeof o=="boolean"&&(h=o,o=n)),o===n&&a===n?(o=0,a=1):(o=Di(o),a===n?(a=o,o=0):a=Di(a)),o>a){var b=o;o=a,a=b}if(h||o%1||a%1){var T=ph();return Yn(o+T*(a-o+lu("1e-"+((T+"").length-1))),a)}return Tl(o,a)}var iS=ps(function(o,a,h){return a=a.toLowerCase(),o+(h?jp(a):a)});function jp(o){return ef(kt(o).toLowerCase())}function Vp(o){return o=kt(o),o&&o.replace(Qn,Ce).replace(is,"")}function oS(o,a,h){o=kt(o),a=br(a);var b=o.length;h=h===n?b:No(ft(h),0,b);var T=h;return h-=a.length,h>=0&&o.slice(h,T)==a}function sS(o){return o=kt(o),o&&Zi.test(o)?o.replace(vr,Ue):o}function aS(o){return o=kt(o),o&&sr.test(o)?o.replace(to,"\\$&"):o}var uS=ps(function(o,a,h){return o+(h?"-":"")+a.toLowerCase()}),cS=ps(function(o,a,h){return o+(h?" ":"")+a.toLowerCase()}),lS=Kh("toLowerCase");function fS(o,a,h){o=kt(o),a=ft(a);var b=a?$n(o):0;if(!a||b>=a)return o;var T=(a-b)/2;return Pu(Lt(T),h)+o+Pu(Ge(T),h)}function dS(o,a,h){o=kt(o),a=ft(a);var b=a?$n(o):0;return a&&b<a?o+Pu(a-b,h):o}function hS(o,a,h){o=kt(o),a=ft(a);var b=a?$n(o):0;return a&&b<a?Pu(a-b,h)+o:o}function pS(o,a,h){return h||a==null?a=0:a&&(a=+a),bv(kt(o).replace(Kt,""),a||0)}function gS(o,a,h){return(h?nr(o,a,h):a===n)?a=1:a=ft(a),Ll(kt(o),a)}function mS(){var o=arguments,a=kt(o[0]);return o.length<3?a:a.replace(o[1],o[2])}var yS=ps(function(o,a,h){return o+(h?"_":"")+a.toLowerCase()});function vS(o,a,h){return h&&typeof h!="number"&&nr(o,a,h)&&(a=h=n),h=h===n?Le:h>>>0,h?(o=kt(o),o&&(typeof a=="string"||a!=null&&!ql(a))&&(a=br(a),!a&&tt(o))?go(Jn(o),0,h):o.split(a,h)):[]}var wS=ps(function(o,a,h){return o+(h?" ":"")+ef(a)});function xS(o,a,h){return o=kt(o),h=h==null?0:No(ft(h),0,o.length),a=br(a),o.slice(h,h+a.length)==a}function bS(o,a,h){var b=M.templateSettings;h&&nr(o,a,h)&&(a=n),o=kt(o),a=Uu({},a,b,np);var T=Uu({},a.imports,b.imports,np),O=Pn(T),U=z(T,O),q,oe,xe=0,Se=a.interpolate||ns,_e="__p += '",Ne=lt((a.escape||ns).source+"|"+Se.source+"|"+(Se===eo?ts:ns).source+"|"+(a.evaluate||ns).source+"|$","g"),Ye="//# sourceURL="+(K.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++au+"]")+`
`;o.replace(Ne,function(Ze,wt,St,Er,rr,Ar){return St||(St=Er),_e+=o.slice(xe,Ar).replace(el,ae),wt&&(q=!0,_e+=`' +
__e(`+wt+`) +
'`),rr&&(oe=!0,_e+=`';
`+rr+`;
__p += '`),St&&(_e+=`' +
((__t = (`+St+`)) == null ? '' : __t) +
'`),xe=Ar+Ze.length,Ze}),_e+=`';
`;var Je=K.call(a,"variable")&&a.variable;if(!Je)_e=`with (obj) {
`+_e+`
}
`;else if(Rn.test(Je))throw new nt(l);_e=(oe?_e.replace(Ei,""):_e).replace($s,"$1").replace(Ji,"$1;"),_e="function("+(Je||"obj")+`) {
`+(Je?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(oe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var ht=Yp(function(){return Et(O,Ye+"return "+_e).apply(n,U)});if(ht.source=_e,Ql(ht))throw ht;return ht}function SS(o){return kt(o).toLowerCase()}function ES(o){return kt(o).toUpperCase()}function AS(o,a,h){if(o=kt(o),o&&(h||a===n))return A(o);if(!o||!(a=br(a)))return o;var b=Jn(o),T=Jn(a),O=$(b,T),U=Y(b,T)+1;return go(b,O,U).join("")}function CS(o,a,h){if(o=kt(o),o&&(h||a===n))return o.slice(0,Ln(o)+1);if(!o||!(a=br(a)))return o;var b=Jn(o),T=Y(b,Jn(a))+1;return go(b,0,T).join("")}function _S(o,a,h){if(o=kt(o),o&&(h||a===n))return o.replace(Kt,"");if(!o||!(a=br(a)))return o;var b=Jn(o),T=$(b,Jn(a));return go(b,T).join("")}function TS(o,a){var h=X,b=V;if(Jt(a)){var T="separator"in a?a.separator:T;h="length"in a?ft(a.length):h,b="omission"in a?br(a.omission):b}o=kt(o);var O=o.length;if(tt(o)){var U=Jn(o);O=U.length}if(h>=O)return o;var q=h-$n(b);if(q<1)return b;var oe=U?go(U,0,q).join(""):o.slice(0,q);if(T===n)return oe+b;if(U&&(q+=oe.length-q),ql(T)){if(o.slice(q).search(T)){var xe,Se=oe;for(T.global||(T=lt(T.source,kt(_n.exec(T))+"g")),T.lastIndex=0;xe=T.exec(Se);)var _e=xe.index;oe=oe.slice(0,_e===n?q:_e)}}else if(o.indexOf(br(T),q)!=q){var Ne=oe.lastIndexOf(T);Ne>-1&&(oe=oe.slice(0,Ne))}return oe+b}function LS(o){return o=kt(o),o&&Zo.test(o)?o.replace(ri,Mt):o}var PS=ps(function(o,a,h){return o+(h?" ":"")+a.toUpperCase()}),ef=Kh("toUpperCase");function Xp(o,a,h){return o=kt(o),a=h?n:a,a===n?rt(o)?ta(o):hl(o):o.match(a)||[]}var Yp=gt(function(o,a){try{return qn(o,n,a)}catch(h){return Ql(h)?h:new nt(h)}}),MS=Fi(function(o,a){return Nn(a,function(h){h=di(h),Ri(o,h,Yl(o[h],o))}),o});function IS(o){var a=o==null?0:o.length,h=Qe();return o=a?jt(o,function(b){if(typeof b[1]!="function")throw new fr(c);return[h(b[0]),b[1]]}):[],gt(function(b){for(var T=-1;++T<a;){var O=o[T];if(qn(O[0],this,b))return qn(O[1],this,b)}})}function kS(o){return r1(Pr(o,v))}function tf(o){return function(){return o}}function RS(o,a){return o==null||o!==o?a:o}var OS=qh(),FS=qh(!0);function gr(o){return o}function nf(o){return Th(typeof o=="function"?o:Pr(o,v))}function NS(o){return Ph(Pr(o,v))}function $S(o,a){return Mh(o,Pr(a,v))}var DS=gt(function(o,a){return function(h){return ua(h,o,a)}}),BS=gt(function(o,a){return function(h){return ua(o,h,a)}});function rf(o,a,h){var b=Pn(a),T=Su(a,b);h==null&&!(Jt(a)&&(T.length||!b.length))&&(h=a,a=o,o=this,T=Su(a,Pn(a)));var O=!(Jt(h)&&"chain"in h)||!!h.chain,U=$i(o);return Nn(T,function(q){var oe=a[q];o[q]=oe,U&&(o.prototype[q]=function(){var xe=this.__chain__;if(O||xe){var Se=o(this.__wrapped__),_e=Se.__actions__=dr(this.__actions__);return _e.push({func:oe,args:arguments,thisArg:o}),Se.__chain__=xe,Se}return oe.apply(o,ci([this.value()],arguments))})}),o}function GS(){return zt._===this&&(zt._=pt),this}function of(){}function US(o){return o=ft(o),gt(function(a){return Ih(a,o)})}var WS=Fl(jt),HS=Fl(Ys),zS=Fl(Qs);function Kp(o){return Wl(o)?qs(di(o)):x1(o)}function jS(o){return function(a){return o==null?n:$o(o,a)}}var VS=Zh(),XS=Zh(!0);function sf(){return[]}function af(){return!1}function YS(){return{}}function KS(){return""}function QS(){return!0}function qS(o,a){if(o=ft(o),o<1||o>me)return[];var h=Le,b=Yn(o,Le);a=Qe(a),o-=Le;for(var T=m(b,a);++h<o;)a(h);return T}function JS(o){return ct(o)?jt(o,di):Sr(o)?[o]:dr(gp(kt(o)))}function ZS(o){var a=++he;return kt(o)+a}var e2=Lu(function(o,a){return o+a},0),t2=Nl("ceil"),n2=Lu(function(o,a){return o/a},1),r2=Nl("floor");function i2(o){return o&&o.length?bu(o,gr,bl):n}function o2(o,a){return o&&o.length?bu(o,Qe(a,2),bl):n}function s2(o){return gu(o,gr)}function a2(o,a){return gu(o,Qe(a,2))}function u2(o){return o&&o.length?bu(o,gr,Cl):n}function c2(o,a){return o&&o.length?bu(o,Qe(a,2),Cl):n}var l2=Lu(function(o,a){return o*a},1),f2=Nl("round"),d2=Lu(function(o,a){return o-a},0);function h2(o){return o&&o.length?f(o,gr):0}function p2(o,a){return o&&o.length?f(o,Qe(a,2)):0}return M.after=Nx,M.ary=_p,M.assign=Eb,M.assignIn=Gp,M.assignInWith=Uu,M.assignWith=Ab,M.at=Cb,M.before=Tp,M.bind=Yl,M.bindAll=MS,M.bindKey=Lp,M.castArray=Yx,M.chain=Ep,M.chunk=rw,M.compact=iw,M.concat=ow,M.cond=IS,M.conforms=kS,M.constant=tf,M.countBy=hx,M.create=_b,M.curry=Pp,M.curryRight=Mp,M.debounce=Ip,M.defaults=Tb,M.defaultsDeep=Lb,M.defer=$x,M.delay=Dx,M.difference=sw,M.differenceBy=aw,M.differenceWith=uw,M.drop=cw,M.dropRight=lw,M.dropRightWhile=fw,M.dropWhile=dw,M.fill=hw,M.filter=gx,M.flatMap=vx,M.flatMapDeep=wx,M.flatMapDepth=xx,M.flatten=wp,M.flattenDeep=pw,M.flattenDepth=gw,M.flip=Bx,M.flow=OS,M.flowRight=FS,M.fromPairs=mw,M.functions=Fb,M.functionsIn=Nb,M.groupBy=bx,M.initial=vw,M.intersection=ww,M.intersectionBy=xw,M.intersectionWith=bw,M.invert=Db,M.invertBy=Bb,M.invokeMap=Ex,M.iteratee=nf,M.keyBy=Ax,M.keys=Pn,M.keysIn=pr,M.map=Fu,M.mapKeys=Ub,M.mapValues=Wb,M.matches=NS,M.matchesProperty=$S,M.memoize=$u,M.merge=Hb,M.mergeWith=Up,M.method=DS,M.methodOf=BS,M.mixin=rf,M.negate=Du,M.nthArg=US,M.omit=zb,M.omitBy=jb,M.once=Gx,M.orderBy=Cx,M.over=WS,M.overArgs=Ux,M.overEvery=HS,M.overSome=zS,M.partial=Kl,M.partialRight=kp,M.partition=_x,M.pick=Vb,M.pickBy=Wp,M.property=Kp,M.propertyOf=jS,M.pull=Cw,M.pullAll=bp,M.pullAllBy=_w,M.pullAllWith=Tw,M.pullAt=Lw,M.range=VS,M.rangeRight=XS,M.rearg=Wx,M.reject=Px,M.remove=Pw,M.rest=Hx,M.reverse=Vl,M.sampleSize=Ix,M.set=Yb,M.setWith=Kb,M.shuffle=kx,M.slice=Mw,M.sortBy=Fx,M.sortedUniq=$w,M.sortedUniqBy=Dw,M.split=vS,M.spread=zx,M.tail=Bw,M.take=Gw,M.takeRight=Uw,M.takeRightWhile=Ww,M.takeWhile=Hw,M.tap=ix,M.throttle=jx,M.thru=Ou,M.toArray=$p,M.toPairs=Hp,M.toPairsIn=zp,M.toPath=JS,M.toPlainObject=Bp,M.transform=Qb,M.unary=Vx,M.union=zw,M.unionBy=jw,M.unionWith=Vw,M.uniq=Xw,M.uniqBy=Yw,M.uniqWith=Kw,M.unset=qb,M.unzip=Xl,M.unzipWith=Sp,M.update=Jb,M.updateWith=Zb,M.values=ys,M.valuesIn=eS,M.without=Qw,M.words=Xp,M.wrap=Xx,M.xor=qw,M.xorBy=Jw,M.xorWith=Zw,M.zip=ex,M.zipObject=tx,M.zipObjectDeep=nx,M.zipWith=rx,M.entries=Hp,M.entriesIn=zp,M.extend=Gp,M.extendWith=Uu,rf(M,M),M.add=e2,M.attempt=Yp,M.camelCase=iS,M.capitalize=jp,M.ceil=t2,M.clamp=tS,M.clone=Kx,M.cloneDeep=qx,M.cloneDeepWith=Jx,M.cloneWith=Qx,M.conformsTo=Zx,M.deburr=Vp,M.defaultTo=RS,M.divide=n2,M.endsWith=oS,M.eq=Yr,M.escape=sS,M.escapeRegExp=aS,M.every=px,M.find=mx,M.findIndex=yp,M.findKey=Pb,M.findLast=yx,M.findLastIndex=vp,M.findLastKey=Mb,M.floor=r2,M.forEach=Ap,M.forEachRight=Cp,M.forIn=Ib,M.forInRight=kb,M.forOwn=Rb,M.forOwnRight=Ob,M.get=Jl,M.gt=eb,M.gte=tb,M.has=$b,M.hasIn=Zl,M.head=xp,M.identity=gr,M.includes=Sx,M.indexOf=yw,M.inRange=nS,M.invoke=Gb,M.isArguments=Go,M.isArray=ct,M.isArrayBuffer=nb,M.isArrayLike=hr,M.isArrayLikeObject=fn,M.isBoolean=rb,M.isBuffer=mo,M.isDate=ib,M.isElement=ob,M.isEmpty=sb,M.isEqual=ab,M.isEqualWith=ub,M.isError=Ql,M.isFinite=cb,M.isFunction=$i,M.isInteger=Rp,M.isLength=Bu,M.isMap=Op,M.isMatch=lb,M.isMatchWith=fb,M.isNaN=db,M.isNative=hb,M.isNil=gb,M.isNull=pb,M.isNumber=Fp,M.isObject=Jt,M.isObjectLike=sn,M.isPlainObject=pa,M.isRegExp=ql,M.isSafeInteger=mb,M.isSet=Np,M.isString=Gu,M.isSymbol=Sr,M.isTypedArray=ms,M.isUndefined=yb,M.isWeakMap=vb,M.isWeakSet=wb,M.join=Sw,M.kebabCase=uS,M.last=Ir,M.lastIndexOf=Ew,M.lowerCase=cS,M.lowerFirst=lS,M.lt=xb,M.lte=bb,M.max=i2,M.maxBy=o2,M.mean=s2,M.meanBy=a2,M.min=u2,M.minBy=c2,M.stubArray=sf,M.stubFalse=af,M.stubObject=YS,M.stubString=KS,M.stubTrue=QS,M.multiply=l2,M.nth=Aw,M.noConflict=GS,M.noop=of,M.now=Nu,M.pad=fS,M.padEnd=dS,M.padStart=hS,M.parseInt=pS,M.random=rS,M.reduce=Tx,M.reduceRight=Lx,M.repeat=gS,M.replace=mS,M.result=Xb,M.round=f2,M.runInContext=Z,M.sample=Mx,M.size=Rx,M.snakeCase=yS,M.some=Ox,M.sortedIndex=Iw,M.sortedIndexBy=kw,M.sortedIndexOf=Rw,M.sortedLastIndex=Ow,M.sortedLastIndexBy=Fw,M.sortedLastIndexOf=Nw,M.startCase=wS,M.startsWith=xS,M.subtract=d2,M.sum=h2,M.sumBy=p2,M.template=bS,M.times=qS,M.toFinite=Di,M.toInteger=ft,M.toLength=Dp,M.toLower=SS,M.toNumber=kr,M.toSafeInteger=Sb,M.toString=kt,M.toUpper=ES,M.trim=AS,M.trimEnd=CS,M.trimStart=_S,M.truncate=TS,M.unescape=LS,M.uniqueId=ZS,M.upperCase=PS,M.upperFirst=ef,M.each=Ap,M.eachRight=Cp,M.first=xp,rf(M,function(){var o={};return li(M,function(a,h){K.call(M.prototype,h)||(o[h]=a)}),o}(),{chain:!1}),M.VERSION=r,Nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){M[o].placeholder=M}),Nn(["drop","take"],function(o,a){xt.prototype[o]=function(h){h=h===n?1:bn(ft(h),0);var b=this.__filtered__&&!a?new xt(this):this.clone();return b.__filtered__?b.__takeCount__=Yn(h,b.__takeCount__):b.__views__.push({size:Yn(h,Le),type:o+(b.__dir__<0?"Right":"")}),b},xt.prototype[o+"Right"]=function(h){return this.reverse()[o](h).reverse()}}),Nn(["filter","map","takeWhile"],function(o,a){var h=a+1,b=h==ee||h==j;xt.prototype[o]=function(T){var O=this.clone();return O.__iteratees__.push({iteratee:Qe(T,3),type:h}),O.__filtered__=O.__filtered__||b,O}}),Nn(["head","last"],function(o,a){var h="take"+(a?"Right":"");xt.prototype[o]=function(){return this[h](1).value()[0]}}),Nn(["initial","tail"],function(o,a){var h="drop"+(a?"":"Right");xt.prototype[o]=function(){return this.__filtered__?new xt(this):this[h](1)}}),xt.prototype.compact=function(){return this.filter(gr)},xt.prototype.find=function(o){return this.filter(o).head()},xt.prototype.findLast=function(o){return this.reverse().find(o)},xt.prototype.invokeMap=gt(function(o,a){return typeof o=="function"?new xt(this):this.map(function(h){return ua(h,o,a)})}),xt.prototype.reject=function(o){return this.filter(Du(Qe(o)))},xt.prototype.slice=function(o,a){o=ft(o);var h=this;return h.__filtered__&&(o>0||a<0)?new xt(h):(o<0?h=h.takeRight(-o):o&&(h=h.drop(o)),a!==n&&(a=ft(a),h=a<0?h.dropRight(-a):h.take(a-o)),h)},xt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},xt.prototype.toArray=function(){return this.take(Le)},li(xt.prototype,function(o,a){var h=/^(?:filter|find|map|reject)|While$/.test(a),b=/^(?:head|last)$/.test(a),T=M[b?"take"+(a=="last"?"Right":""):a],O=b||/^find/.test(a);T&&(M.prototype[a]=function(){var U=this.__wrapped__,q=b?[1]:arguments,oe=U instanceof xt,xe=q[0],Se=oe||ct(U),_e=function(wt){var St=T.apply(M,ci([wt],q));return b&&Ne?St[0]:St};Se&&h&&typeof xe=="function"&&xe.length!=1&&(oe=Se=!1);var Ne=this.__chain__,Ye=!!this.__actions__.length,Je=O&&!Ne,ht=oe&&!Ye;if(!O&&Se){U=ht?U:new xt(this);var Ze=o.apply(U,q);return Ze.__actions__.push({func:Ou,args:[_e],thisArg:n}),new Lr(Ze,Ne)}return Je&&ht?o.apply(this,q):(Ze=this.thru(_e),Je?b?Ze.value()[0]:Ze.value():Ze)})}),Nn(["pop","push","shift","sort","splice","unshift"],function(o){var a=y[o],h=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",b=/^(?:pop|shift)$/.test(o);M.prototype[o]=function(){var T=arguments;if(b&&!this.__chain__){var O=this.value();return a.apply(ct(O)?O:[],T)}return this[h](function(U){return a.apply(ct(U)?U:[],T)})}}),li(xt.prototype,function(o,a){var h=M[a];if(h){var b=h.name+"";K.call(ls,b)||(ls[b]=[]),ls[b].push({name:a,func:h})}}),ls[Tu(n,W).name]=[{name:"wrapper",func:n}],xt.prototype.clone=Lv,xt.prototype.reverse=Pv,xt.prototype.value=Mv,M.prototype.at=ox,M.prototype.chain=sx,M.prototype.commit=ax,M.prototype.next=ux,M.prototype.plant=lx,M.prototype.reverse=fx,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=dx,M.prototype.first=M.prototype.head,_&&(M.prototype[_]=cx),M},Mi=co();_r?((_r.exports=Mi)._=Mi,Pi._=Mi):zt._=Mi}).call(xs)})(cc,cc.exports);var ze=cc.exports;const ik=Ko(ze);var b2=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(e={}){var n=e,r,i;n.ready=new Promise((s,f)=>{r=s,i=f}),function(s){s.Td=s.Td||[],s.Td.push(function(){s.MakeSWCanvasSurface=function(f){var m=f,x=typeof OffscreenCanvas<"u"&&m instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&m instanceof HTMLCanvasElement||x||(m=document.getElementById(f),m)))throw"Canvas with id "+f+" was not found";return(f=s.MakeSurface(m.width,m.height))&&(f.Md=m),f},s.MakeCanvasSurface||(s.MakeCanvasSurface=s.MakeSWCanvasSurface),s.MakeSurface=function(f,m){var x={width:f,height:m,colorType:s.ColorType.RGBA_8888,alphaType:s.AlphaType.Unpremul,colorSpace:s.ColorSpace.SRGB},A=f*m*4,I=s._malloc(A);return(x=s.Surface._makeRasterDirect(x,I,4*f))&&(x.Md=null,x.If=f,x.Ef=m,x.Gf=A,x.cf=I,x.getCanvas().clear(s.TRANSPARENT)),x},s.MakeRasterDirectSurface=function(f,m,x){return s.Surface._makeRasterDirect(f,m.byteOffset,x)},s.Surface.prototype.flush=function(f){if(s.Nd(this.Ld),this._flush(),this.Md){var m=new Uint8ClampedArray(s.HEAPU8.buffer,this.cf,this.Gf);m=new ImageData(m,this.If,this.Ef),f?this.Md.getContext("2d").putImageData(m,0,0,f[0],f[1],f[2]-f[0],f[3]-f[1]):this.Md.getContext("2d").putImageData(m,0,0)}},s.Surface.prototype.dispose=function(){this.cf&&s._free(this.cf),this.delete()},s.Nd=s.Nd||function(){},s.Ue=s.Ue||function(){return null}})}(n),function(s){s.Td=s.Td||[],s.Td.push(function(){function f(F,$,Y){return F&&F.hasOwnProperty($)?F[$]:Y}function m(F){var $=ro(jn);return jn[$]=F,$}function x(F){return F.naturalHeight||F.videoHeight||F.displayHeight||F.height}function A(F){return F.naturalWidth||F.videoWidth||F.displayWidth||F.width}function I(F,$,Y,ve){return F.bindTexture(F.TEXTURE_2D,$),ve||Y.alphaType!==s.AlphaType.Premul||F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),$}function z(F,$,Y){Y||$.alphaType!==s.AlphaType.Premul||F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),F.bindTexture(F.TEXTURE_2D,null)}s.GetWebGLContext=function(F,$){if(!F)throw"null canvas passed into makeWebGLContext";var Y={alpha:f($,"alpha",1),depth:f($,"depth",1),stencil:f($,"stencil",8),antialias:f($,"antialias",0),premultipliedAlpha:f($,"premultipliedAlpha",1),preserveDrawingBuffer:f($,"preserveDrawingBuffer",0),preferLowPowerToHighPerformance:f($,"preferLowPowerToHighPerformance",0),failIfMajorPerformanceCaveat:f($,"failIfMajorPerformanceCaveat",0),enableExtensionsByDefault:f($,"enableExtensionsByDefault",1),explicitSwapControl:f($,"explicitSwapControl",0),renderViaOffscreenBackBuffer:f($,"renderViaOffscreenBackBuffer",0)};if(Y.majorVersion=$&&$.majorVersion?$.majorVersion:typeof WebGL2RenderingContext<"u"?2:1,Y.explicitSwapControl)throw"explicitSwapControl is not supported";return F=sl(F,Y),F?(iu(F),ut.ge.getExtension("WEBGL_debug_renderer_info"),F):0},s.deleteContext=function(F){ut===xr[F]&&(ut=null),typeof JSEvents=="object"&&JSEvents.yg(xr[F].ge.canvas),xr[F]&&xr[F].ge.canvas&&(xr[F].ge.canvas.Af=void 0),xr[F]=null},s._setTextureCleanup({deleteTexture:function(F,$){var Y=jn[$];Y&&xr[F].ge.deleteTexture(Y),jn[$]=null}}),s.MakeWebGLContext=function(F){if(!this.Nd(F))return null;var $=this._MakeGrContext();if(!$)return null;$.Ld=F;var Y=$.delete.bind($);return $.delete=(function(){s.Nd(this.Ld),Y()}).bind($),ut.gf=$},s.MakeGrContext=s.MakeWebGLContext,s.GrDirectContext.prototype.getResourceCacheLimitBytes=function(){s.Nd(this.Ld),this._getResourceCacheLimitBytes()},s.GrDirectContext.prototype.getResourceCacheUsageBytes=function(){s.Nd(this.Ld),this._getResourceCacheUsageBytes()},s.GrDirectContext.prototype.releaseResourcesAndAbandonContext=function(){s.Nd(this.Ld),this._releaseResourcesAndAbandonContext()},s.GrDirectContext.prototype.setResourceCacheLimitBytes=function(F){s.Nd(this.Ld),this._setResourceCacheLimitBytes(F)},s.MakeOnScreenGLSurface=function(F,$,Y,ve,Ce,Ue){return!this.Nd(F.Ld)||($=Ce===void 0||Ue===void 0?this._MakeOnScreenGLSurface(F,$,Y,ve):this._MakeOnScreenGLSurface(F,$,Y,ve,Ce,Ue),!$)?null:($.Ld=F.Ld,$)},s.MakeRenderTarget=function(){var F=arguments[0];if(!this.Nd(F.Ld))return null;if(arguments.length===3){var $=this._MakeRenderTargetWH(F,arguments[1],arguments[2]);if(!$)return null}else if(arguments.length===2){if($=this._MakeRenderTargetII(F,arguments[1]),!$)return null}else return null;return $.Ld=F.Ld,$},s.MakeWebGLCanvasSurface=function(F,$,Y){$=$||null;var ve=F,Ce=typeof OffscreenCanvas<"u"&&ve instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&ve instanceof HTMLCanvasElement||Ce||(ve=document.getElementById(F),ve)))throw"Canvas with id "+F+" was not found";if(F=this.GetWebGLContext(ve,Y),!F||0>F)throw"failed to create webgl context: err "+F;return F=this.MakeWebGLContext(F),$=this.MakeOnScreenGLSurface(F,ve.width,ve.height,$),$||($=ve.cloneNode(!0),ve.parentNode.replaceChild($,ve),$.classList.add("ck-replaced"),s.MakeSWCanvasSurface($))},s.MakeCanvasSurface=s.MakeWebGLCanvasSurface,s.Surface.prototype.makeImageFromTexture=function(F,$){return s.Nd(this.Ld),F=m(F),($=this._makeImageFromTexture(this.Ld,F,$))&&($.Me=F),$},s.Surface.prototype.makeImageFromTextureSource=function(F,$,Y){$||($={height:x(F),width:A(F),colorType:s.ColorType.RGBA_8888,alphaType:Y?s.AlphaType.Premul:s.AlphaType.Unpremul}),$.colorSpace||($.colorSpace=s.ColorSpace.SRGB),s.Nd(this.Ld);var ve=ut.ge;return Y=I(ve,ve.createTexture(),$,Y),ut.version===2?ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,$.width,$.height,0,ve.RGBA,ve.UNSIGNED_BYTE,F):ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,ve.RGBA,ve.UNSIGNED_BYTE,F),z(ve,$),this._resetContext(),this.makeImageFromTexture(Y,$)},s.Surface.prototype.updateTextureFromSource=function(F,$,Y){if(F.Me){s.Nd(this.Ld);var ve=F.getImageInfo(),Ce=ut.ge,Ue=I(Ce,jn[F.Me],ve,Y);ut.version===2?Ce.texImage2D(Ce.TEXTURE_2D,0,Ce.RGBA,A($),x($),0,Ce.RGBA,Ce.UNSIGNED_BYTE,$):Ce.texImage2D(Ce.TEXTURE_2D,0,Ce.RGBA,Ce.RGBA,Ce.UNSIGNED_BYTE,$),z(Ce,ve,Y),this._resetContext(),jn[F.Me]=null,F.Me=m(Ue),ve.colorSpace=F.getColorSpace(),$=this._makeImageFromTexture(this.Ld,F.Me,ve),Y=F.Kd.Sd,Ce=F.Kd.Zd,F.Kd.Sd=$.Kd.Sd,F.Kd.Zd=$.Kd.Zd,$.Kd.Sd=Y,$.Kd.Zd=Ce,$.delete(),ve.colorSpace.delete()}},s.MakeLazyImageFromTextureSource=function(F,$,Y){$||($={height:x(F),width:A(F),colorType:s.ColorType.RGBA_8888,alphaType:Y?s.AlphaType.Premul:s.AlphaType.Unpremul}),$.colorSpace||($.colorSpace=s.ColorSpace.SRGB);var ve={makeTexture:function(){var Ce=ut,Ue=Ce.ge,ae=I(Ue,Ue.createTexture(),$,Y);return Ce.version===2?Ue.texImage2D(Ue.TEXTURE_2D,0,Ue.RGBA,$.width,$.height,0,Ue.RGBA,Ue.UNSIGNED_BYTE,F):Ue.texImage2D(Ue.TEXTURE_2D,0,Ue.RGBA,Ue.RGBA,Ue.UNSIGNED_BYTE,F),z(Ue,$,Y),m(ae)},freeSrc:function(){}};return F.constructor.name==="VideoFrame"&&(ve.freeSrc=function(){F.close()}),s.Image._makeFromGenerator($,ve)},s.Nd=function(F){return F?iu(F):!1},s.Ue=function(){return ut&&ut.gf&&!ut.gf.isDeleted()?ut.gf:null}})}(n),function(s){function f(y,g,S,P,G){for(var K=0;K<y.length;K++)g[K*S+(K*G+P+S)%S]=y[K];return g}function m(y){for(var g=y*y,S=Array(g);g--;)S[g]=g%(y+1)===0?1:0;return S}function x(y){return y?y.constructor===Float32Array&&y.length===4:!1}function A(y){return(F(255*y[3])<<24|F(255*y[0])<<16|F(255*y[1])<<8|F(255*y[2])<<0)>>>0}function I(y){if(y&&y._ck)return y;if(y instanceof Float32Array){for(var g=Math.floor(y.length/4),S=new Uint32Array(g),P=0;P<g;P++)S[P]=A(y.slice(4*P,4*(P+1)));return S}if(y instanceof Uint32Array)return y;if(y instanceof Array&&y[0]instanceof Float32Array)return y.map(A)}function z(y){if(y===void 0)return 1;var g=parseFloat(y);return y&&y.indexOf("%")!==-1?g/100:g}function F(y){return Math.round(Math.max(0,Math.min(y||0,255)))}function $(y,g){g&&g._ck||s._free(y)}function Y(y,g,S){if(!y||!y.length)return lt;if(y&&y._ck)return y.byteOffset;var P=s[g].BYTES_PER_ELEMENT;return S||(S=s._malloc(y.length*P)),s[g].set(y,S/P),S}function ve(y){var g={ce:lt,count:y.length,colorType:s.ColorType.RGBA_F32};if(y instanceof Float32Array)g.ce=Y(y,"HEAPF32"),g.count=y.length/4;else if(y instanceof Uint32Array)g.ce=Y(y,"HEAPU32"),g.colorType=s.ColorType.RGBA_8888;else if(y instanceof Array){if(y&&y.length){for(var S=s._malloc(16*y.length),P=0,G=S/4,K=0;K<y.length;K++)for(var he=0;4>he;he++)s.HEAPF32[G+P]=y[K][he],P++;y=S}else y=lt;g.ce=y}else throw"Invalid argument to copyFlexibleColorArray, Not a color array "+typeof y;return g}function Ce(y){if(!y)return lt;var g=Zs.toTypedArray();if(y.length){if(y.length===6||y.length===9)return Y(y,"HEAPF32",lr),y.length===6&&s.HEAPF32.set(Ot,6+lr/4),lr;if(y.length===16)return g[0]=y[0],g[1]=y[1],g[2]=y[3],g[3]=y[4],g[4]=y[5],g[5]=y[7],g[6]=y[12],g[7]=y[13],g[8]=y[15],lr;throw"invalid matrix size"}if(y.m11===void 0)throw"invalid matrix argument";return g[0]=y.m11,g[1]=y.m21,g[2]=y.m41,g[3]=y.m12,g[4]=y.m22,g[5]=y.m42,g[6]=y.m14,g[7]=y.m24,g[8]=y.m44,lr}function Ue(y){if(!y)return lt;var g=ea.toTypedArray();if(y.length){if(y.length!==16&&y.length!==6&&y.length!==9)throw"invalid matrix size";return y.length===16?Y(y,"HEAPF32",uo):(g.fill(0),g[0]=y[0],g[1]=y[1],g[3]=y[2],g[4]=y[3],g[5]=y[4],g[7]=y[5],g[10]=1,g[12]=y[6],g[13]=y[7],g[15]=y[8],y.length===6&&(g[12]=0,g[13]=0,g[15]=1),uo)}if(y.m11===void 0)throw"invalid matrix argument";return g[0]=y.m11,g[1]=y.m21,g[2]=y.m31,g[3]=y.m41,g[4]=y.m12,g[5]=y.m22,g[6]=y.m32,g[7]=y.m42,g[8]=y.m13,g[9]=y.m23,g[10]=y.m33,g[11]=y.m43,g[12]=y.m14,g[13]=y.m24,g[14]=y.m34,g[15]=y.m44,uo}function ae(y,g){return Y(y,"HEAPF32",g||$n)}function He(y,g,S,P){var G=Jn.toTypedArray();return G[0]=y,G[1]=g,G[2]=S,G[3]=P,$n}function tt(y){for(var g=new Float32Array(4),S=0;4>S;S++)g[S]=s.HEAPF32[y/4+S];return g}function rt(y,g){return Y(y,"HEAPF32",g||Mt)}function Xn(y,g){return Y(y,"HEAPF32",g||nt)}function cn(){for(var y=0,g=0;g<arguments.length-1;g+=2)y+=arguments[g]*arguments[g+1];return y}function ao(y,g,S){for(var P=Array(y.length),G=0;G<S;G++)for(var K=0;K<S;K++){for(var he=0,Pe=0;Pe<S;Pe++)he+=y[S*G+Pe]*g[S*Pe+K];P[G*S+K]=he}return P}function cr(y,g){for(var S=ao(g[0],g[1],y),P=2;P<g.length;)S=ao(S,g[P],y),P++;return S}s.Color=function(y,g,S,P){return P===void 0&&(P=1),s.Color4f(F(y)/255,F(g)/255,F(S)/255,P)},s.ColorAsInt=function(y,g,S,P){return P===void 0&&(P=255),(F(P)<<24|F(y)<<16|F(g)<<8|F(S)<<0&268435455)>>>0},s.Color4f=function(y,g,S,P){return P===void 0&&(P=1),Float32Array.of(y,g,S,P)},Object.defineProperty(s,"TRANSPARENT",{get:function(){return s.Color4f(0,0,0,0)}}),Object.defineProperty(s,"BLACK",{get:function(){return s.Color4f(0,0,0,1)}}),Object.defineProperty(s,"WHITE",{get:function(){return s.Color4f(1,1,1,1)}}),Object.defineProperty(s,"RED",{get:function(){return s.Color4f(1,0,0,1)}}),Object.defineProperty(s,"GREEN",{get:function(){return s.Color4f(0,1,0,1)}}),Object.defineProperty(s,"BLUE",{get:function(){return s.Color4f(0,0,1,1)}}),Object.defineProperty(s,"YELLOW",{get:function(){return s.Color4f(1,1,0,1)}}),Object.defineProperty(s,"CYAN",{get:function(){return s.Color4f(0,1,1,1)}}),Object.defineProperty(s,"MAGENTA",{get:function(){return s.Color4f(1,0,1,1)}}),s.getColorComponents=function(y){return[Math.floor(255*y[0]),Math.floor(255*y[1]),Math.floor(255*y[2]),y[3]]},s.parseColorString=function(y,g){if(y=y.toLowerCase(),y.startsWith("#")){switch(g=255,y.length){case 9:g=parseInt(y.slice(7,9),16);case 7:var S=parseInt(y.slice(1,3),16),P=parseInt(y.slice(3,5),16),G=parseInt(y.slice(5,7),16);break;case 5:g=17*parseInt(y.slice(4,5),16);case 4:S=17*parseInt(y.slice(1,2),16),P=17*parseInt(y.slice(2,3),16),G=17*parseInt(y.slice(3,4),16)}return s.Color(S,P,G,g/255)}return y.startsWith("rgba")?(y=y.slice(5,-1),y=y.split(","),s.Color(+y[0],+y[1],+y[2],z(y[3]))):y.startsWith("rgb")?(y=y.slice(4,-1),y=y.split(","),s.Color(+y[0],+y[1],+y[2],z(y[3]))):y.startsWith("gray(")||y.startsWith("hsl")||!g||(y=g[y],y===void 0)?s.BLACK:y},s.multiplyByAlpha=function(y,g){return y=y.slice(),y[3]=Math.max(0,Math.min(y[3]*g,1)),y},s.Malloc=function(y,g){var S=s._malloc(g*y.BYTES_PER_ELEMENT);return{_ck:!0,length:g,byteOffset:S,re:null,subarray:function(P,G){return P=this.toTypedArray().subarray(P,G),P._ck=!0,P},toTypedArray:function(){return this.re&&this.re.length?this.re:(this.re=new y(s.HEAPU8.buffer,S,g),this.re._ck=!0,this.re)}}},s.Free=function(y){s._free(y.byteOffset),y.byteOffset=lt,y.toTypedArray=null,y.re=null};var lr=lt,Zs,uo=lt,ea,$n=lt,Jn,Ln,Mt=lt,mu,Vr=lt,ta,co=lt,Mi,Z=lt,ge,fe=lt,De,nt=lt,Et,on=lt,Ot=Float32Array.of(0,0,1),lt=0;s.onRuntimeInitialized=function(){function y(g,S,P,G,K,he,Pe){he||(he=4*G.width,G.colorType===s.ColorType.RGBA_F16?he*=2:G.colorType===s.ColorType.RGBA_F32&&(he*=4));var je=he*G.height,Xe=K?K.byteOffset:s._malloc(je);if(Pe?!g._readPixels(G,Xe,he,S,P,Pe):!g._readPixels(G,Xe,he,S,P))return K||s._free(Xe),null;if(K)return K.toTypedArray();switch(G.colorType){case s.ColorType.RGBA_8888:case s.ColorType.RGBA_F16:g=new Uint8Array(s.HEAPU8.buffer,Xe,je).slice();break;case s.ColorType.RGBA_F32:g=new Float32Array(s.HEAPU8.buffer,Xe,je).slice();break;default:return null}return s._free(Xe),g}Jn=s.Malloc(Float32Array,4),$n=Jn.byteOffset,ea=s.Malloc(Float32Array,16),uo=ea.byteOffset,Zs=s.Malloc(Float32Array,9),lr=Zs.byteOffset,De=s.Malloc(Float32Array,12),nt=De.byteOffset,Et=s.Malloc(Float32Array,12),on=Et.byteOffset,Ln=s.Malloc(Float32Array,4),Mt=Ln.byteOffset,mu=s.Malloc(Float32Array,4),Vr=mu.byteOffset,ta=s.Malloc(Float32Array,3),co=ta.byteOffset,Mi=s.Malloc(Float32Array,3),Z=Mi.byteOffset,ge=s.Malloc(Int32Array,4),fe=ge.byteOffset,s.ColorSpace.SRGB=s.ColorSpace._MakeSRGB(),s.ColorSpace.DISPLAY_P3=s.ColorSpace._MakeDisplayP3(),s.ColorSpace.ADOBE_RGB=s.ColorSpace._MakeAdobeRGB(),s.GlyphRunFlags={IsWhiteSpace:s._GlyphRunFlags_isWhiteSpace},s.Path.MakeFromCmds=function(g){var S=Y(g,"HEAPF32"),P=s.Path._MakeFromCmds(S,g.length);return $(S,g),P},s.Path.MakeFromVerbsPointsWeights=function(g,S,P){var G=Y(g,"HEAPU8"),K=Y(S,"HEAPF32"),he=Y(P,"HEAPF32"),Pe=s.Path._MakeFromVerbsPointsWeights(G,g.length,K,S.length,he,P&&P.length||0);return $(G,g),$(K,S),$(he,P),Pe},s.Path.prototype.addArc=function(g,S,P){return g=rt(g),this._addArc(g,S,P),this},s.Path.prototype.addCircle=function(g,S,P,G){return this._addCircle(g,S,P,!!G),this},s.Path.prototype.addOval=function(g,S,P){return P===void 0&&(P=1),g=rt(g),this._addOval(g,!!S,P),this},s.Path.prototype.addPath=function(){var g=Array.prototype.slice.call(arguments),S=g[0],P=!1;if(typeof g[g.length-1]=="boolean"&&(P=g.pop()),g.length===1)this._addPath(S,1,0,0,0,1,0,0,0,1,P);else if(g.length===2)g=g[1],this._addPath(S,g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1,P);else if(g.length===7||g.length===10)this._addPath(S,g[1],g[2],g[3],g[4],g[5],g[6],g[7]||0,g[8]||0,g[9]||1,P);else return null;return this},s.Path.prototype.addPoly=function(g,S){var P=Y(g,"HEAPF32");return this._addPoly(P,g.length/2,S),$(P,g),this},s.Path.prototype.addRect=function(g,S){return g=rt(g),this._addRect(g,!!S),this},s.Path.prototype.addRRect=function(g,S){return g=Xn(g),this._addRRect(g,!!S),this},s.Path.prototype.addVerbsPointsWeights=function(g,S,P){var G=Y(g,"HEAPU8"),K=Y(S,"HEAPF32"),he=Y(P,"HEAPF32");this._addVerbsPointsWeights(G,g.length,K,S.length,he,P&&P.length||0),$(G,g),$(K,S),$(he,P)},s.Path.prototype.arc=function(g,S,P,G,K,he){return g=s.LTRBRect(g-P,S-P,g+P,S+P),K=(K-G)/Math.PI*180-360*!!he,he=new s.Path,he.addArc(g,G/Math.PI*180,K),this.addPath(he,!0),he.delete(),this},s.Path.prototype.arcToOval=function(g,S,P,G){return g=rt(g),this._arcToOval(g,S,P,G),this},s.Path.prototype.arcToRotated=function(g,S,P,G,K,he,Pe){return this._arcToRotated(g,S,P,!!G,!!K,he,Pe),this},s.Path.prototype.arcToTangent=function(g,S,P,G,K){return this._arcToTangent(g,S,P,G,K),this},s.Path.prototype.close=function(){return this._close(),this},s.Path.prototype.conicTo=function(g,S,P,G,K){return this._conicTo(g,S,P,G,K),this},s.Path.prototype.computeTightBounds=function(g){this._computeTightBounds(Mt);var S=Ln.toTypedArray();return g?(g.set(S),g):S.slice()},s.Path.prototype.cubicTo=function(g,S,P,G,K,he){return this._cubicTo(g,S,P,G,K,he),this},s.Path.prototype.dash=function(g,S,P){return this._dash(g,S,P)?this:null},s.Path.prototype.getBounds=function(g){this._getBounds(Mt);var S=Ln.toTypedArray();return g?(g.set(S),g):S.slice()},s.Path.prototype.lineTo=function(g,S){return this._lineTo(g,S),this},s.Path.prototype.moveTo=function(g,S){return this._moveTo(g,S),this},s.Path.prototype.offset=function(g,S){return this._transform(1,0,g,0,1,S,0,0,1),this},s.Path.prototype.quadTo=function(g,S,P,G){return this._quadTo(g,S,P,G),this},s.Path.prototype.rArcTo=function(g,S,P,G,K,he,Pe){return this._rArcTo(g,S,P,G,K,he,Pe),this},s.Path.prototype.rConicTo=function(g,S,P,G,K){return this._rConicTo(g,S,P,G,K),this},s.Path.prototype.rCubicTo=function(g,S,P,G,K,he){return this._rCubicTo(g,S,P,G,K,he),this},s.Path.prototype.rLineTo=function(g,S){return this._rLineTo(g,S),this},s.Path.prototype.rMoveTo=function(g,S){return this._rMoveTo(g,S),this},s.Path.prototype.rQuadTo=function(g,S,P,G){return this._rQuadTo(g,S,P,G),this},s.Path.prototype.stroke=function(g){return g=g||{},g.width=g.width||1,g.miter_limit=g.miter_limit||4,g.cap=g.cap||s.StrokeCap.Butt,g.join=g.join||s.StrokeJoin.Miter,g.precision=g.precision||1,this._stroke(g)?this:null},s.Path.prototype.transform=function(){if(arguments.length===1){var g=arguments[0];this._transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1)}else if(arguments.length===6||arguments.length===9)g=arguments,this._transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1);else throw"transform expected to take 1 or 9 arguments. Got "+arguments.length;return this},s.Path.prototype.trim=function(g,S,P){return this._trim(g,S,!!P)?this:null},s.Image.prototype.encodeToBytes=function(g,S){var P=s.Ue();return g=g||s.ImageFormat.PNG,S=S||100,P?this._encodeToBytes(g,S,P):this._encodeToBytes(g,S)},s.Image.prototype.makeShaderCubic=function(g,S,P,G,K){return K=Ce(K),this._makeShaderCubic(g,S,P,G,K)},s.Image.prototype.makeShaderOptions=function(g,S,P,G,K){return K=Ce(K),this._makeShaderOptions(g,S,P,G,K)},s.Image.prototype.readPixels=function(g,S,P,G,K){var he=s.Ue();return y(this,g,S,P,G,K,he)},s.Canvas.prototype.clear=function(g){s.Nd(this.Ld),g=ae(g),this._clear(g)},s.Canvas.prototype.clipRRect=function(g,S,P){s.Nd(this.Ld),g=Xn(g),this._clipRRect(g,S,P)},s.Canvas.prototype.clipRect=function(g,S,P){s.Nd(this.Ld),g=rt(g),this._clipRect(g,S,P)},s.Canvas.prototype.concat=function(g){s.Nd(this.Ld),g=Ue(g),this._concat(g)},s.Canvas.prototype.drawArc=function(g,S,P,G,K){s.Nd(this.Ld),g=rt(g),this._drawArc(g,S,P,G,K)},s.Canvas.prototype.drawAtlas=function(g,S,P,G,K,he,Pe){if(g&&G&&S&&P&&S.length===P.length){s.Nd(this.Ld),K||(K=s.BlendMode.SrcOver);var je=Y(S,"HEAPF32"),Xe=Y(P,"HEAPF32"),pt=P.length/4,dt=Y(I(he),"HEAPU32");if(Pe&&"B"in Pe&&"C"in Pe)this._drawAtlasCubic(g,Xe,je,dt,pt,K,Pe.B,Pe.C,G);else{let B=s.FilterMode.Linear,ye=s.MipmapMode.None;Pe&&(B=Pe.filter,"mipmap"in Pe&&(ye=Pe.mipmap)),this._drawAtlasOptions(g,Xe,je,dt,pt,K,B,ye,G)}$(je,S),$(Xe,P),$(dt,he)}},s.Canvas.prototype.drawCircle=function(g,S,P,G){s.Nd(this.Ld),this._drawCircle(g,S,P,G)},s.Canvas.prototype.drawColor=function(g,S){s.Nd(this.Ld),g=ae(g),S!==void 0?this._drawColor(g,S):this._drawColor(g)},s.Canvas.prototype.drawColorInt=function(g,S){s.Nd(this.Ld),this._drawColorInt(g,S||s.BlendMode.SrcOver)},s.Canvas.prototype.drawColorComponents=function(g,S,P,G,K){s.Nd(this.Ld),g=He(g,S,P,G),K!==void 0?this._drawColor(g,K):this._drawColor(g)},s.Canvas.prototype.drawDRRect=function(g,S,P){s.Nd(this.Ld),g=Xn(g,nt),S=Xn(S,on),this._drawDRRect(g,S,P)},s.Canvas.prototype.drawImage=function(g,S,P,G){s.Nd(this.Ld),this._drawImage(g,S,P,G||null)},s.Canvas.prototype.drawImageCubic=function(g,S,P,G,K,he){s.Nd(this.Ld),this._drawImageCubic(g,S,P,G,K,he||null)},s.Canvas.prototype.drawImageOptions=function(g,S,P,G,K,he){s.Nd(this.Ld),this._drawImageOptions(g,S,P,G,K,he||null)},s.Canvas.prototype.drawImageNine=function(g,S,P,G,K){s.Nd(this.Ld),S=Y(S,"HEAP32",fe),P=rt(P),this._drawImageNine(g,S,P,G,K||null)},s.Canvas.prototype.drawImageRect=function(g,S,P,G,K){s.Nd(this.Ld),rt(S,Mt),rt(P,Vr),this._drawImageRect(g,Mt,Vr,G,!!K)},s.Canvas.prototype.drawImageRectCubic=function(g,S,P,G,K,he){s.Nd(this.Ld),rt(S,Mt),rt(P,Vr),this._drawImageRectCubic(g,Mt,Vr,G,K,he||null)},s.Canvas.prototype.drawImageRectOptions=function(g,S,P,G,K,he){s.Nd(this.Ld),rt(S,Mt),rt(P,Vr),this._drawImageRectOptions(g,Mt,Vr,G,K,he||null)},s.Canvas.prototype.drawLine=function(g,S,P,G,K){s.Nd(this.Ld),this._drawLine(g,S,P,G,K)},s.Canvas.prototype.drawOval=function(g,S){s.Nd(this.Ld),g=rt(g),this._drawOval(g,S)},s.Canvas.prototype.drawPaint=function(g){s.Nd(this.Ld),this._drawPaint(g)},s.Canvas.prototype.drawParagraph=function(g,S,P){s.Nd(this.Ld),this._drawParagraph(g,S,P)},s.Canvas.prototype.drawPatch=function(g,S,P,G,K){if(24>g.length)throw"Need 12 cubic points";if(S&&4>S.length)throw"Need 4 colors";if(P&&8>P.length)throw"Need 4 shader coordinates";s.Nd(this.Ld);const he=Y(g,"HEAPF32"),Pe=S?Y(I(S),"HEAPU32"):lt,je=P?Y(P,"HEAPF32"):lt;G||(G=s.BlendMode.Modulate),this._drawPatch(he,Pe,je,G,K),$(je,P),$(Pe,S),$(he,g)},s.Canvas.prototype.drawPath=function(g,S){s.Nd(this.Ld),this._drawPath(g,S)},s.Canvas.prototype.drawPicture=function(g){s.Nd(this.Ld),this._drawPicture(g)},s.Canvas.prototype.drawPoints=function(g,S,P){s.Nd(this.Ld);var G=Y(S,"HEAPF32");this._drawPoints(g,G,S.length/2,P),$(G,S)},s.Canvas.prototype.drawRRect=function(g,S){s.Nd(this.Ld),g=Xn(g),this._drawRRect(g,S)},s.Canvas.prototype.drawRect=function(g,S){s.Nd(this.Ld),g=rt(g),this._drawRect(g,S)},s.Canvas.prototype.drawRect4f=function(g,S,P,G,K){s.Nd(this.Ld),this._drawRect4f(g,S,P,G,K)},s.Canvas.prototype.drawShadow=function(g,S,P,G,K,he,Pe){s.Nd(this.Ld);var je=Y(K,"HEAPF32"),Xe=Y(he,"HEAPF32");S=Y(S,"HEAPF32",co),P=Y(P,"HEAPF32",Z),this._drawShadow(g,S,P,G,je,Xe,Pe),$(je,K),$(Xe,he)},s.getShadowLocalBounds=function(g,S,P,G,K,he,Pe){return g=Ce(g),P=Y(P,"HEAPF32",co),G=Y(G,"HEAPF32",Z),this._getShadowLocalBounds(g,S,P,G,K,he,Mt)?(S=Ln.toTypedArray(),Pe?(Pe.set(S),Pe):S.slice()):null},s.Canvas.prototype.drawTextBlob=function(g,S,P,G){s.Nd(this.Ld),this._drawTextBlob(g,S,P,G)},s.Canvas.prototype.drawVertices=function(g,S,P){s.Nd(this.Ld),this._drawVertices(g,S,P)},s.Canvas.prototype.getDeviceClipBounds=function(g){this._getDeviceClipBounds(fe);var S=ge.toTypedArray();return g?g.set(S):g=S.slice(),g},s.Canvas.prototype.getLocalToDevice=function(){this._getLocalToDevice(uo);for(var g=uo,S=Array(16),P=0;16>P;P++)S[P]=s.HEAPF32[g/4+P];return S},s.Canvas.prototype.getTotalMatrix=function(){this._getTotalMatrix(lr);for(var g=Array(9),S=0;9>S;S++)g[S]=s.HEAPF32[lr/4+S];return g},s.Canvas.prototype.makeSurface=function(g){return g=this._makeSurface(g),g.Ld=this.Ld,g},s.Canvas.prototype.readPixels=function(g,S,P,G,K){return s.Nd(this.Ld),y(this,g,S,P,G,K)},s.Canvas.prototype.saveLayer=function(g,S,P,G){return S=rt(S),this._saveLayer(g||null,S,P||null,G||0)},s.Canvas.prototype.writePixels=function(g,S,P,G,K,he,Pe,je){if(g.byteLength%(S*P))throw"pixels length must be a multiple of the srcWidth * srcHeight";s.Nd(this.Ld);var Xe=g.byteLength/(S*P);he=he||s.AlphaType.Unpremul,Pe=Pe||s.ColorType.RGBA_8888,je=je||s.ColorSpace.SRGB;var pt=Xe*S;return Xe=Y(g,"HEAPU8"),S=this._writePixels({width:S,height:P,colorType:Pe,alphaType:he,colorSpace:je},Xe,pt,G,K),$(Xe,g),S},s.ColorFilter.MakeBlend=function(g,S,P){return g=ae(g),P=P||s.ColorSpace.SRGB,s.ColorFilter._MakeBlend(g,S,P)},s.ColorFilter.MakeMatrix=function(g){if(!g||g.length!==20)throw"invalid color matrix";var S=Y(g,"HEAPF32"),P=s.ColorFilter._makeMatrix(S);return $(S,g),P},s.ContourMeasure.prototype.getPosTan=function(g,S){return this._getPosTan(g,Mt),g=Ln.toTypedArray(),S?(S.set(g),S):g.slice()},s.ImageFilter.prototype.getOutputBounds=function(g,S,P){return g=rt(g,Mt),S=Ce(S),this._getOutputBounds(g,S,fe),S=ge.toTypedArray(),P?(P.set(S),P):S.slice()},s.ImageFilter.MakeDropShadow=function(g,S,P,G,K,he){return K=ae(K,$n),s.ImageFilter._MakeDropShadow(g,S,P,G,K,he)},s.ImageFilter.MakeDropShadowOnly=function(g,S,P,G,K,he){return K=ae(K,$n),s.ImageFilter._MakeDropShadowOnly(g,S,P,G,K,he)},s.ImageFilter.MakeImage=function(g,S,P,G){if(P=rt(P,Mt),G=rt(G,Vr),"B"in S&&"C"in S)return s.ImageFilter._MakeImageCubic(g,S.B,S.C,P,G);const K=S.filter;let he=s.MipmapMode.None;return"mipmap"in S&&(he=S.mipmap),s.ImageFilter._MakeImageOptions(g,K,he,P,G)},s.ImageFilter.MakeMatrixTransform=function(g,S,P){if(g=Ce(g),"B"in S&&"C"in S)return s.ImageFilter._MakeMatrixTransformCubic(g,S.B,S.C,P);const G=S.filter;let K=s.MipmapMode.None;return"mipmap"in S&&(K=S.mipmap),s.ImageFilter._MakeMatrixTransformOptions(g,G,K,P)},s.Paint.prototype.getColor=function(){return this._getColor($n),tt($n)},s.Paint.prototype.setColor=function(g,S){S=S||null,g=ae(g),this._setColor(g,S)},s.Paint.prototype.setColorComponents=function(g,S,P,G,K){K=K||null,g=He(g,S,P,G),this._setColor(g,K)},s.Path.prototype.getPoint=function(g,S){return this._getPoint(g,Mt),g=Ln.toTypedArray(),S?(S[0]=g[0],S[1]=g[1],S):g.slice(0,2)},s.Picture.prototype.makeShader=function(g,S,P,G,K){return G=Ce(G),K=rt(K),this._makeShader(g,S,P,G,K)},s.Picture.prototype.cullRect=function(g){this._cullRect(Mt);var S=Ln.toTypedArray();return g?(g.set(S),g):S.slice()},s.PictureRecorder.prototype.beginRecording=function(g,S){return g=rt(g),this._beginRecording(g,!!S)},s.Surface.prototype.getCanvas=function(){var g=this._getCanvas();return g.Ld=this.Ld,g},s.Surface.prototype.makeImageSnapshot=function(g){return s.Nd(this.Ld),g=Y(g,"HEAP32",fe),this._makeImageSnapshot(g)},s.Surface.prototype.makeSurface=function(g){return s.Nd(this.Ld),g=this._makeSurface(g),g.Ld=this.Ld,g},s.Surface.prototype.Hf=function(g,S){return this.Ie||(this.Ie=this.getCanvas()),requestAnimationFrame((function(){s.Nd(this.Ld),g(this.Ie),this.flush(S)}).bind(this))},s.Surface.prototype.requestAnimationFrame||(s.Surface.prototype.requestAnimationFrame=s.Surface.prototype.Hf),s.Surface.prototype.Df=function(g,S){this.Ie||(this.Ie=this.getCanvas()),requestAnimationFrame((function(){s.Nd(this.Ld),g(this.Ie),this.flush(S),this.dispose()}).bind(this))},s.Surface.prototype.drawOnce||(s.Surface.prototype.drawOnce=s.Surface.prototype.Df),s.PathEffect.MakeDash=function(g,S){if(S||(S=0),!g.length||g.length%2===1)throw"Intervals array must have even length";var P=Y(g,"HEAPF32");return S=s.PathEffect._MakeDash(P,g.length,S),$(P,g),S},s.PathEffect.MakeLine2D=function(g,S){return S=Ce(S),s.PathEffect._MakeLine2D(g,S)},s.PathEffect.MakePath2D=function(g,S){return g=Ce(g),s.PathEffect._MakePath2D(g,S)},s.Shader.MakeColor=function(g,S){return S=S||null,g=ae(g),s.Shader._MakeColor(g,S)},s.Shader.Blend=s.Shader.MakeBlend,s.Shader.Color=s.Shader.MakeColor,s.Shader.MakeLinearGradient=function(g,S,P,G,K,he,Pe,je){je=je||null;var Xe=ve(P),pt=Y(G,"HEAPF32");Pe=Pe||0,he=Ce(he);var dt=Ln.toTypedArray();return dt.set(g),dt.set(S,2),g=s.Shader._MakeLinearGradient(Mt,Xe.ce,Xe.colorType,pt,Xe.count,K,Pe,he,je),$(Xe.ce,P),G&&$(pt,G),g},s.Shader.MakeRadialGradient=function(g,S,P,G,K,he,Pe,je){je=je||null;var Xe=ve(P),pt=Y(G,"HEAPF32");return Pe=Pe||0,he=Ce(he),g=s.Shader._MakeRadialGradient(g[0],g[1],S,Xe.ce,Xe.colorType,pt,Xe.count,K,Pe,he,je),$(Xe.ce,P),G&&$(pt,G),g},s.Shader.MakeSweepGradient=function(g,S,P,G,K,he,Pe,je,Xe,pt){pt=pt||null;var dt=ve(P),B=Y(G,"HEAPF32");return Pe=Pe||0,je=je||0,Xe=Xe||360,he=Ce(he),g=s.Shader._MakeSweepGradient(g,S,dt.ce,dt.colorType,B,dt.count,K,je,Xe,Pe,he,pt),$(dt.ce,P),G&&$(B,G),g},s.Shader.MakeTwoPointConicalGradient=function(g,S,P,G,K,he,Pe,je,Xe,pt){pt=pt||null;var dt=ve(K),B=Y(he,"HEAPF32");Xe=Xe||0,je=Ce(je);var ye=Ln.toTypedArray();return ye.set(g),ye.set(P,2),g=s.Shader._MakeTwoPointConicalGradient(Mt,S,G,dt.ce,dt.colorType,B,dt.count,Pe,Xe,je,pt),$(dt.ce,K),he&&$(B,he),g},s.Vertices.prototype.bounds=function(g){this._bounds(Mt);var S=Ln.toTypedArray();return g?(g.set(S),g):S.slice()},s.Td&&s.Td.forEach(function(g){g()})},s.computeTonalColors=function(y){var g=Y(y.ambient,"HEAPF32"),S=Y(y.spot,"HEAPF32");this._computeTonalColors(g,S);var P={ambient:tt(g),spot:tt(S)};return $(g,y.ambient),$(S,y.spot),P},s.LTRBRect=function(y,g,S,P){return Float32Array.of(y,g,S,P)},s.XYWHRect=function(y,g,S,P){return Float32Array.of(y,g,y+S,g+P)},s.LTRBiRect=function(y,g,S,P){return Int32Array.of(y,g,S,P)},s.XYWHiRect=function(y,g,S,P){return Int32Array.of(y,g,y+S,g+P)},s.RRectXY=function(y,g,S){return Float32Array.of(y[0],y[1],y[2],y[3],g,S,g,S,g,S,g,S)},s.MakeAnimatedImageFromEncoded=function(y){y=new Uint8Array(y);var g=s._malloc(y.byteLength);return s.HEAPU8.set(y,g),(y=s._decodeAnimatedImage(g,y.byteLength))?y:null},s.MakeImageFromEncoded=function(y){y=new Uint8Array(y);var g=s._malloc(y.byteLength);return s.HEAPU8.set(y,g),(y=s._decodeImage(g,y.byteLength))?y:null};var Ro=null;s.MakeImageFromCanvasImageSource=function(y){var g=y.width,S=y.height;Ro||(Ro=document.createElement("canvas")),Ro.width=g,Ro.height=S;var P=Ro.getContext("2d",{willReadFrequently:!0});return P.drawImage(y,0,0),y=P.getImageData(0,0,g,S),s.MakeImage({width:g,height:S,alphaType:s.AlphaType.Unpremul,colorType:s.ColorType.RGBA_8888,colorSpace:s.ColorSpace.SRGB},y.data,4*g)},s.MakeImage=function(y,g,S){var P=s._malloc(g.length);return s.HEAPU8.set(g,P),s._MakeImage(y,P,g.length,S)},s.MakeVertices=function(y,g,S,P,G,K){var he=G&&G.length||0,Pe=0;return S&&S.length&&(Pe|=1),P&&P.length&&(Pe|=2),K===void 0||K||(Pe|=4),y=new s._VerticesBuilder(y,g.length/2,he,Pe),Y(g,"HEAPF32",y.positions()),y.texCoords()&&Y(S,"HEAPF32",y.texCoords()),y.colors()&&Y(I(P),"HEAPU32",y.colors()),y.indices()&&Y(G,"HEAPU16",y.indices()),y.detach()},s.Matrix={},s.Matrix.identity=function(){return m(3)},s.Matrix.invert=function(y){var g=y[0]*y[4]*y[8]+y[1]*y[5]*y[6]+y[2]*y[3]*y[7]-y[2]*y[4]*y[6]-y[1]*y[3]*y[8]-y[0]*y[5]*y[7];return g?[(y[4]*y[8]-y[5]*y[7])/g,(y[2]*y[7]-y[1]*y[8])/g,(y[1]*y[5]-y[2]*y[4])/g,(y[5]*y[6]-y[3]*y[8])/g,(y[0]*y[8]-y[2]*y[6])/g,(y[2]*y[3]-y[0]*y[5])/g,(y[3]*y[7]-y[4]*y[6])/g,(y[1]*y[6]-y[0]*y[7])/g,(y[0]*y[4]-y[1]*y[3])/g]:null},s.Matrix.mapPoints=function(y,g){for(var S=0;S<g.length;S+=2){var P=g[S],G=g[S+1],K=y[6]*P+y[7]*G+y[8],he=y[3]*P+y[4]*G+y[5];g[S]=(y[0]*P+y[1]*G+y[2])/K,g[S+1]=he/K}return g},s.Matrix.multiply=function(){return cr(3,arguments)},s.Matrix.rotated=function(y,g,S){g=g||0,S=S||0;var P=Math.sin(y);return y=Math.cos(y),[y,-P,cn(P,S,1-y,g),P,y,cn(-P,g,1-y,S),0,0,1]},s.Matrix.scaled=function(y,g,S,P){S=S||0,P=P||0;var G=f([y,g],m(3),3,0,1);return f([S-y*S,P-g*P],G,3,2,0)},s.Matrix.skewed=function(y,g,S,P){S=S||0,P=P||0;var G=f([y,g],m(3),3,1,-1);return f([-y*S,-g*P],G,3,2,0)},s.Matrix.translated=function(y,g){return f(arguments,m(3),3,2,0)},s.Vector={},s.Vector.dot=function(y,g){return y.map(function(S,P){return S*g[P]}).reduce(function(S,P){return S+P})},s.Vector.lengthSquared=function(y){return s.Vector.dot(y,y)},s.Vector.length=function(y){return Math.sqrt(s.Vector.lengthSquared(y))},s.Vector.mulScalar=function(y,g){return y.map(function(S){return S*g})},s.Vector.add=function(y,g){return y.map(function(S,P){return S+g[P]})},s.Vector.sub=function(y,g){return y.map(function(S,P){return S-g[P]})},s.Vector.dist=function(y,g){return s.Vector.length(s.Vector.sub(y,g))},s.Vector.normalize=function(y){return s.Vector.mulScalar(y,1/s.Vector.length(y))},s.Vector.cross=function(y,g){return[y[1]*g[2]-y[2]*g[1],y[2]*g[0]-y[0]*g[2],y[0]*g[1]-y[1]*g[0]]},s.M44={},s.M44.identity=function(){return m(4)},s.M44.translated=function(y){return f(y,m(4),4,3,0)},s.M44.scaled=function(y){return f(y,m(4),4,0,1)},s.M44.rotated=function(y,g){return s.M44.rotatedUnitSinCos(s.Vector.normalize(y),Math.sin(g),Math.cos(g))},s.M44.rotatedUnitSinCos=function(y,g,S){var P=y[0],G=y[1];y=y[2];var K=1-S;return[K*P*P+S,K*P*G-g*y,K*P*y+g*G,0,K*P*G+g*y,K*G*G+S,K*G*y-g*P,0,K*P*y-g*G,K*G*y+g*P,K*y*y+S,0,0,0,0,1]},s.M44.lookat=function(y,g,S){g=s.Vector.normalize(s.Vector.sub(g,y)),S=s.Vector.normalize(S),S=s.Vector.normalize(s.Vector.cross(g,S));var P=s.M44.identity();return f(S,P,4,0,0),f(s.Vector.cross(S,g),P,4,1,0),f(s.Vector.mulScalar(g,-1),P,4,2,0),f(y,P,4,3,0),y=s.M44.invert(P),y===null?s.M44.identity():y},s.M44.perspective=function(y,g,S){var P=1/(g-y);return S/=2,S=Math.cos(S)/Math.sin(S),[S,0,0,0,0,S,0,0,0,0,(g+y)*P,2*g*y*P,0,0,-1,1]},s.M44.rc=function(y,g,S){return y[4*g+S]},s.M44.multiply=function(){return cr(4,arguments)},s.M44.invert=function(y){var g=y[0],S=y[4],P=y[8],G=y[12],K=y[1],he=y[5],Pe=y[9],je=y[13],Xe=y[2],pt=y[6],dt=y[10],B=y[14],ye=y[3],at=y[7],Tt=y[11];y=y[15];var qt=g*he-S*K,Zn=g*Pe-P*K,er=g*je-G*K,ln=S*Pe-P*he,Ae=S*je-G*he,_=P*je-G*Pe,D=Xe*at-pt*ye,ce=Xe*Tt-dt*ye,pe=Xe*y-B*ye,be=pt*Tt-dt*at,Te=pt*y-B*at,Ge=dt*y-B*Tt,Lt=qt*Ge-Zn*Te+er*be+ln*pe-Ae*ce+_*D,It=1/Lt;return Lt===0||It===1/0?null:(qt*=It,Zn*=It,er*=It,ln*=It,Ae*=It,_*=It,D*=It,ce*=It,pe*=It,be*=It,Te*=It,Ge*=It,g=[he*Ge-Pe*Te+je*be,Pe*pe-K*Ge-je*ce,K*Te-he*pe+je*D,he*ce-K*be-Pe*D,P*Te-S*Ge-G*be,g*Ge-P*pe+G*ce,S*pe-g*Te-G*D,g*be-S*ce+P*D,at*_-Tt*Ae+y*ln,Tt*er-ye*_-y*Zn,ye*Ae-at*er+y*qt,at*Zn-ye*ln-Tt*qt,dt*Ae-pt*_-B*ln,Xe*_-dt*er+B*Zn,pt*er-Xe*Ae-B*qt,Xe*ln-pt*Zn+dt*qt],g.every(function(Tr){return!isNaN(Tr)&&Tr!==1/0&&Tr!==-1/0})?g:null)},s.M44.transpose=function(y){return[y[0],y[4],y[8],y[12],y[1],y[5],y[9],y[13],y[2],y[6],y[10],y[14],y[3],y[7],y[11],y[15]]},s.M44.mustInvert=function(y){if(y=s.M44.invert(y),y===null)throw"Matrix not invertible";return y},s.M44.setupCamera=function(y,g,S){var P=s.M44.lookat(S.eye,S.coa,S.up);return S=s.M44.perspective(S.near,S.far,S.angle),g=[(y[2]-y[0])/2,(y[3]-y[1])/2,g],y=s.M44.multiply(s.M44.translated([(y[0]+y[2])/2,(y[1]+y[3])/2,0]),s.M44.scaled(g)),s.M44.multiply(y,S,P,s.M44.mustInvert(y))},s.ColorMatrix={},s.ColorMatrix.identity=function(){var y=new Float32Array(20);return y[0]=1,y[6]=1,y[12]=1,y[18]=1,y},s.ColorMatrix.scaled=function(y,g,S,P){var G=new Float32Array(20);return G[0]=y,G[6]=g,G[12]=S,G[18]=P,G};var fr=[[6,7,11,12],[0,10,2,12],[0,1,5,6]];s.ColorMatrix.rotated=function(y,g,S){var P=s.ColorMatrix.identity();return y=fr[y],P[y[0]]=S,P[y[1]]=g,P[y[2]]=-g,P[y[3]]=S,P},s.ColorMatrix.postTranslate=function(y,g,S,P,G){return y[4]+=g,y[9]+=S,y[14]+=P,y[19]+=G,y},s.ColorMatrix.concat=function(y,g){for(var S=new Float32Array(20),P=0,G=0;20>G;G+=5){for(var K=0;4>K;K++)S[P++]=y[G]*g[K]+y[G+1]*g[K+5]+y[G+2]*g[K+10]+y[G+3]*g[K+15];S[P++]=y[G]*g[4]+y[G+1]*g[9]+y[G+2]*g[14]+y[G+3]*g[19]+y[G+4]}return S},function(y){y.Td=y.Td||[],y.Td.push(function(){function g(B){return B&&(B.dir=B.dir===0?y.TextDirection.RTL:y.TextDirection.LTR),B}function S(B){if(!B||!B.length)return[];for(var ye=[],at=0;at<B.length;at+=5){var Tt=y.LTRBRect(B[at],B[at+1],B[at+2],B[at+3]),qt=y.TextDirection.LTR;B[at+4]===0&&(qt=y.TextDirection.RTL),ye.push({rect:Tt,dir:qt})}return y._free(B.byteOffset),ye}function P(B){return B=B||{},B.weight===void 0&&(B.weight=y.FontWeight.Normal),B.width=B.width||y.FontWidth.Normal,B.slant=B.slant||y.FontSlant.Upright,B}function G(B){if(!B||!B.length)return lt;for(var ye=[],at=0;at<B.length;at++){var Tt=K(B[at]);ye.push(Tt)}return Y(ye,"HEAPU32")}function K(B){if(je[B])return je[B];var ye=ar(B)+1,at=y._malloc(ye);return Fn(B,ne,at,ye),je[B]=at}function he(B){if(B._colorPtr=ae(B.color),B._foregroundColorPtr=lt,B._backgroundColorPtr=lt,B._decorationColorPtr=lt,B.foregroundColor&&(B._foregroundColorPtr=ae(B.foregroundColor,Xe)),B.backgroundColor&&(B._backgroundColorPtr=ae(B.backgroundColor,pt)),B.decorationColor&&(B._decorationColorPtr=ae(B.decorationColor,dt)),Array.isArray(B.fontFamilies)&&B.fontFamilies.length?(B._fontFamiliesPtr=G(B.fontFamilies),B._fontFamiliesLen=B.fontFamilies.length):(B._fontFamiliesPtr=lt,B._fontFamiliesLen=0),B.locale){var ye=B.locale;B._localePtr=K(ye),B._localeLen=ar(ye)+1}else B._localePtr=lt,B._localeLen=0;if(Array.isArray(B.shadows)&&B.shadows.length){ye=B.shadows;var at=ye.map(function(Ae){return Ae.color||y.BLACK}),Tt=ye.map(function(Ae){return Ae.blurRadius||0});B._shadowLen=ye.length;for(var qt=y._malloc(8*ye.length),Zn=qt/4,er=0;er<ye.length;er++){var ln=ye[er].offset||[0,0];y.HEAPF32[Zn]=ln[0],y.HEAPF32[Zn+1]=ln[1],Zn+=2}B._shadowColorsPtr=ve(at).ce,B._shadowOffsetsPtr=qt,B._shadowBlurRadiiPtr=Y(Tt,"HEAPF32")}else B._shadowLen=0,B._shadowColorsPtr=lt,B._shadowOffsetsPtr=lt,B._shadowBlurRadiiPtr=lt;Array.isArray(B.fontFeatures)&&B.fontFeatures.length?(ye=B.fontFeatures,at=ye.map(function(Ae){return Ae.name}),Tt=ye.map(function(Ae){return Ae.value}),B._fontFeatureLen=ye.length,B._fontFeatureNamesPtr=G(at),B._fontFeatureValuesPtr=Y(Tt,"HEAPU32")):(B._fontFeatureLen=0,B._fontFeatureNamesPtr=lt,B._fontFeatureValuesPtr=lt),Array.isArray(B.fontVariations)&&B.fontVariations.length?(ye=B.fontVariations,at=ye.map(function(Ae){return Ae.axis}),Tt=ye.map(function(Ae){return Ae.value}),B._fontVariationLen=ye.length,B._fontVariationAxesPtr=G(at),B._fontVariationValuesPtr=Y(Tt,"HEAPF32")):(B._fontVariationLen=0,B._fontVariationAxesPtr=lt,B._fontVariationValuesPtr=lt)}function Pe(B){y._free(B._fontFamiliesPtr),y._free(B._shadowColorsPtr),y._free(B._shadowOffsetsPtr),y._free(B._shadowBlurRadiiPtr),y._free(B._fontFeatureNamesPtr),y._free(B._fontFeatureValuesPtr),y._free(B._fontVariationAxesPtr),y._free(B._fontVariationValuesPtr)}y.Paragraph.prototype.getRectsForRange=function(B,ye,at,Tt){return B=this._getRectsForRange(B,ye,at,Tt),S(B)},y.Paragraph.prototype.getRectsForPlaceholders=function(){var B=this._getRectsForPlaceholders();return S(B)},y.Paragraph.prototype.getGlyphInfoAt=function(B){return g(this._getGlyphInfoAt(B))},y.Paragraph.prototype.getClosestGlyphInfoAtCoordinate=function(B,ye){return g(this._getClosestGlyphInfoAtCoordinate(B,ye))},y.TypefaceFontProvider.prototype.registerFont=function(B,ye){if(B=y.Typeface.MakeFreeTypeFaceFromData(B),!B)return null;ye=K(ye),this._registerFont(B,ye)},y.ParagraphStyle=function(B){if(B.disableHinting=B.disableHinting||!1,B.ellipsis){var ye=B.ellipsis;B._ellipsisPtr=K(ye),B._ellipsisLen=ar(ye)+1}else B._ellipsisPtr=lt,B._ellipsisLen=0;return B.heightMultiplier==null&&(B.heightMultiplier=-1),B.maxLines=B.maxLines||0,B.replaceTabCharacters=B.replaceTabCharacters||!1,ye=(ye=B.strutStyle)||{},ye.strutEnabled=ye.strutEnabled||!1,ye.strutEnabled&&Array.isArray(ye.fontFamilies)&&ye.fontFamilies.length?(ye._fontFamiliesPtr=G(ye.fontFamilies),ye._fontFamiliesLen=ye.fontFamilies.length):(ye._fontFamiliesPtr=lt,ye._fontFamiliesLen=0),ye.fontStyle=P(ye.fontStyle),ye.fontSize==null&&(ye.fontSize=-1),ye.heightMultiplier==null&&(ye.heightMultiplier=-1),ye.halfLeading=ye.halfLeading||!1,ye.leading=ye.leading||0,ye.forceStrutHeight=ye.forceStrutHeight||!1,B.strutStyle=ye,B.textAlign=B.textAlign||y.TextAlign.Start,B.textDirection=B.textDirection||y.TextDirection.LTR,B.textHeightBehavior=B.textHeightBehavior||y.TextHeightBehavior.All,B.textStyle=y.TextStyle(B.textStyle),B.applyRoundingHack=B.applyRoundingHack!==!1,B},y.TextStyle=function(B){return B.color||(B.color=y.BLACK),B.decoration=B.decoration||0,B.decorationThickness=B.decorationThickness||0,B.decorationStyle=B.decorationStyle||y.DecorationStyle.Solid,B.textBaseline=B.textBaseline||y.TextBaseline.Alphabetic,B.fontSize==null&&(B.fontSize=-1),B.letterSpacing=B.letterSpacing||0,B.wordSpacing=B.wordSpacing||0,B.heightMultiplier==null&&(B.heightMultiplier=-1),B.halfLeading=B.halfLeading||!1,B.fontStyle=P(B.fontStyle),B};var je={},Xe=y._malloc(16),pt=y._malloc(16),dt=y._malloc(16);y.ParagraphBuilder.Make=function(B,ye){return he(B.textStyle),ye=y.ParagraphBuilder._Make(B,ye),Pe(B.textStyle),ye},y.ParagraphBuilder.MakeFromFontProvider=function(B,ye){return he(B.textStyle),ye=y.ParagraphBuilder._MakeFromFontProvider(B,ye),Pe(B.textStyle),ye},y.ParagraphBuilder.MakeFromFontCollection=function(B,ye){return he(B.textStyle),ye=y.ParagraphBuilder._MakeFromFontCollection(B,ye),Pe(B.textStyle),ye},y.ParagraphBuilder.ShapeText=function(B,ye,at){let Tt=0;for(const qt of ye)Tt+=qt.length;if(Tt!==B.length)throw"Accumulated block lengths must equal text.length";return y.ParagraphBuilder._ShapeText(B,ye,at)},y.ParagraphBuilder.prototype.pushStyle=function(B){he(B),this._pushStyle(B),Pe(B)},y.ParagraphBuilder.prototype.pushPaintStyle=function(B,ye,at){he(B),this._pushPaintStyle(B,ye,at),Pe(B)},y.ParagraphBuilder.prototype.addPlaceholder=function(B,ye,at,Tt,qt){at=at||y.PlaceholderAlignment.Baseline,Tt=Tt||y.TextBaseline.Alphabetic,this._addPlaceholder(B||0,ye||0,at,Tt,qt||0)},y.ParagraphBuilder.prototype.setWordsUtf8=function(B){var ye=Y(B,"HEAPU32");this._setWordsUtf8(ye,B&&B.length||0),$(ye,B)},y.ParagraphBuilder.prototype.setWordsUtf16=function(B){var ye=Y(B,"HEAPU32");this._setWordsUtf16(ye,B&&B.length||0),$(ye,B)},y.ParagraphBuilder.prototype.setGraphemeBreaksUtf8=function(B){var ye=Y(B,"HEAPU32");this._setGraphemeBreaksUtf8(ye,B&&B.length||0),$(ye,B)},y.ParagraphBuilder.prototype.setGraphemeBreaksUtf16=function(B){var ye=Y(B,"HEAPU32");this._setGraphemeBreaksUtf16(ye,B&&B.length||0),$(ye,B)},y.ParagraphBuilder.prototype.setLineBreaksUtf8=function(B){var ye=Y(B,"HEAPU32");this._setLineBreaksUtf8(ye,B&&B.length||0),$(ye,B)},y.ParagraphBuilder.prototype.setLineBreaksUtf16=function(B){var ye=Y(B,"HEAPU32");this._setLineBreaksUtf16(ye,B&&B.length||0),$(ye,B)}})}(n),s.MakeManagedAnimation=function(y,g,S,P,G){if(!s._MakeManagedAnimation)throw"Not compiled with MakeManagedAnimation";if(S||(S=""),!g)return s._MakeManagedAnimation(y,0,lt,lt,lt,S,P,G);for(var K=[],he=[],Pe=[],je=Object.keys(g||{}),Xe=0;Xe<je.length;Xe++){var pt=je[Xe],dt=new Uint8Array(g[pt]),B=s._malloc(dt.byteLength);s.HEAPU8.set(dt,B),he.push(B),Pe.push(dt.byteLength),dt=ar(pt)+1,B=s._malloc(dt),Fn(pt,ne,B,dt),K.push(B)}return g=Y(K,"HEAPU32"),he=Y(he,"HEAPU32"),Pe=Y(Pe,"HEAPU32"),y=s._MakeManagedAnimation(y,je.length,g,he,Pe,S,P,G),s._free(g),s._free(he),s._free(Pe),y},s.tg=function(y){return y.text=y.text||"",y.textSize=y.textSize||0,y.minTextSize=y.minTextSize||0,y.maxTextSize=y.maxTextSize||Number.MAX_VALUE,y.strokeWidth=y.strokeWidth||0,y.lineHeight=y.lineHeight||0,y.lineShift=y.lineShift||0,y.ascent=y.ascent||0,y.maxLines=y.maxLines||0,y.horizAlign=y.horizAlign||s.TextAlign.Left,y.vertAlign=y.vertAlign||s.ug.Top,y.strokeJoin=y.strokeJoin||s.StrokeJoin.Miter,y.direction=y.direction||s.TextDirection.LTR,y.linebreak=y.linebreak||s.LineBreakType.HardLineBreak,y.resize=y.resize||s.sg.None,y.fillColor||(y.fillColor=s.TRANSPARENT),y.strokeColor||(y.strokeColor=s.TRANSPARENT),y.boundingBox||(y.boundingBox=[0,0,0,0]),y},function(y){y.Td=y.Td||[],y.Td.push(function(){y.Animation.prototype.render=function(g,S){rt(S,Mt),this._render(g,Mt)},y.Animation.prototype.size=function(g){this._size(Mt);var S=Ln.toTypedArray();return g?(g[0]=S[0],g[1]=S[1],g):S.slice(0,2)},y.ManagedAnimation&&(y.ManagedAnimation.prototype.render=function(g,S){rt(S,Mt),this._render(g,Mt)},y.ManagedAnimation.prototype.seek=function(g,S){return this._seek(g,Mt),g=Ln.toTypedArray(),S?(S.set(g),S):g.slice()},y.ManagedAnimation.prototype.seekFrame=function(g,S){return this._seekFrame(g,Mt),g=Ln.toTypedArray(),S?(S.set(g),S):g.slice()},y.ManagedAnimation.prototype.setColor=function(g,S){return S=ae(S),this._setColor(g,S)},y.ManagedAnimation.prototype.setColorSlot=function(g,S){return S=ae(S),this._setColorSlot(g,S)},y.ManagedAnimation.prototype.getColorSlot=function(g){return this._getColorSlot(g,$n),g=tt($n),g[0]==-1?null:g},y.ManagedAnimation.prototype.setVec2Slot=function(g,S){return Y(S,"HEAPF32",co),this._setVec2Slot(g,co)},y.ManagedAnimation.prototype.getVec2Slot=function(g){return this._getVec2Slot(g,co),g=ta.toTypedArray(),g[2]===-1?null:g.slice(0,2)},y.ManagedAnimation.prototype.setTextSlot=function(g,S){var P=ae(S.fillColor,$n),G=ae(S.strokeColor,Mt),K=rt(S.boundingBox,Vr);return S._fillColorPtr=P,S._strokeColorPtr=G,S._boundingBoxPtr=K,this._setTextSlot(g,S)},y.ManagedAnimation.prototype.setTransform=function(g,S,P,G,K,he,Pe){return S=Y([S[0],S[1],P[0],P[1],G[0],G[1],K,he,Pe],"HEAPF32",lr),this._setTransform(g,S)},y.ManagedAnimation.prototype.size=function(g){this._size(Mt);var S=Ln.toTypedArray();return g?(g[0]=S[0],g[1]=S[1],g):S.slice(0,2)})})}(n),s.Td=s.Td||[],s.Td.push(function(){s.Path.prototype.op=function(y,g){return this._op(y,g)?this:null},s.Path.prototype.simplify=function(){return this._simplify()?this:null}}),s.Td=s.Td||[],s.Td.push(function(){s.Canvas.prototype.drawText=function(y,g,S,P,G){var K=ar(y),he=s._malloc(K+1);Fn(y,ne,he,K+1),this._drawSimpleText(he,K,g,S,G,P),s._free(he)},s.Canvas.prototype.drawGlyphs=function(y,g,S,P,G,K){if(!(2*y.length<=g.length))throw"Not enough positions for the array of gyphs";s.Nd(this.Ld);const he=Y(y,"HEAPU16"),Pe=Y(g,"HEAPF32");this._drawGlyphs(y.length,he,Pe,S,P,G,K),$(Pe,g),$(he,y)},s.Font.prototype.getGlyphBounds=function(y,g,S){var P=Y(y,"HEAPU16"),G=s._malloc(16*y.length);return this._getGlyphWidthBounds(P,y.length,lt,G,g||null),g=new Float32Array(s.HEAPU8.buffer,G,4*y.length),$(P,y),S?(S.set(g),s._free(G),S):(y=Float32Array.from(g),s._free(G),y)},s.Font.prototype.getGlyphIDs=function(y,g,S){g||(g=y.length);var P=ar(y)+1,G=s._malloc(P);return Fn(y,ne,G,P),y=s._malloc(2*g),g=this._getGlyphIDs(G,P-1,g,y),s._free(G),0>g?(s._free(y),null):(G=new Uint16Array(s.HEAPU8.buffer,y,g),S?(S.set(G),s._free(y),S):(S=Uint16Array.from(G),s._free(y),S))},s.Font.prototype.getGlyphIntercepts=function(y,g,S,P){var G=Y(y,"HEAPU16"),K=Y(g,"HEAPF32");return this._getGlyphIntercepts(G,y.length,!(y&&y._ck),K,g.length,!(g&&g._ck),S,P)},s.Font.prototype.getGlyphWidths=function(y,g,S){var P=Y(y,"HEAPU16"),G=s._malloc(4*y.length);return this._getGlyphWidthBounds(P,y.length,G,lt,g||null),g=new Float32Array(s.HEAPU8.buffer,G,y.length),$(P,y),S?(S.set(g),s._free(G),S):(y=Float32Array.from(g),s._free(G),y)},s.FontMgr.FromData=function(){if(!arguments.length)return null;var y=arguments;if(y.length===1&&Array.isArray(y[0])&&(y=arguments[0]),!y.length)return null;for(var g=[],S=[],P=0;P<y.length;P++){var G=new Uint8Array(y[P]),K=Y(G,"HEAPU8");g.push(K),S.push(G.byteLength)}return g=Y(g,"HEAPU32"),S=Y(S,"HEAPU32"),y=s.FontMgr._fromData(g,S,y.length),s._free(g),s._free(S),y},s.Typeface.MakeFreeTypeFaceFromData=function(y){y=new Uint8Array(y);var g=Y(y,"HEAPU8");return(y=s.Typeface._MakeFreeTypeFaceFromData(g,y.byteLength))?y:null},s.Typeface.prototype.getGlyphIDs=function(y,g,S){g||(g=y.length);var P=ar(y)+1,G=s._malloc(P);return Fn(y,ne,G,P),y=s._malloc(2*g),g=this._getGlyphIDs(G,P-1,g,y),s._free(G),0>g?(s._free(y),null):(G=new Uint16Array(s.HEAPU8.buffer,y,g),S?(S.set(G),s._free(y),S):(S=Uint16Array.from(G),s._free(y),S))},s.TextBlob.MakeOnPath=function(y,g,S,P){if(y&&y.length&&g&&g.countPoints()){if(g.countPoints()===1)return this.MakeFromText(y,S);P||(P=0);var G=S.getGlyphIDs(y);G=S.getGlyphWidths(G);var K=[];g=new s.ContourMeasureIter(g,!1,1);for(var he=g.next(),Pe=new Float32Array(4),je=0;je<y.length&&he;je++){var Xe=G[je];if(P+=Xe/2,P>he.length()){if(he.delete(),he=g.next(),!he){y=y.substring(0,je);break}P=Xe/2}he.getPosTan(P,Pe);var pt=Pe[2],dt=Pe[3];K.push(pt,dt,Pe[0]-Xe/2*pt,Pe[1]-Xe/2*dt),P+=Xe/2}return y=this.MakeFromRSXform(y,K,S),he&&he.delete(),g.delete(),y}},s.TextBlob.MakeFromRSXform=function(y,g,S){var P=ar(y)+1,G=s._malloc(P);return Fn(y,ne,G,P),y=Y(g,"HEAPF32"),S=s.TextBlob._MakeFromRSXform(G,P-1,y,S),s._free(G),S||null},s.TextBlob.MakeFromRSXformGlyphs=function(y,g,S){var P=Y(y,"HEAPU16");return g=Y(g,"HEAPF32"),S=s.TextBlob._MakeFromRSXformGlyphs(P,2*y.length,g,S),$(P,y),S||null},s.TextBlob.MakeFromGlyphs=function(y,g){var S=Y(y,"HEAPU16");return g=s.TextBlob._MakeFromGlyphs(S,2*y.length,g),$(S,y),g||null},s.TextBlob.MakeFromText=function(y,g){var S=ar(y)+1,P=s._malloc(S);return Fn(y,ne,P,S),y=s.TextBlob._MakeFromText(P,S-1,g),s._free(P),y||null},s.MallocGlyphIDs=function(y){return s.Malloc(Uint16Array,y)}}),s.Td=s.Td||[],s.Td.push(function(){s.MakePicture=function(y){y=new Uint8Array(y);var g=s._malloc(y.byteLength);return s.HEAPU8.set(y,g),(y=s._MakePicture(g,y.byteLength))?y:null}}),s.Td=s.Td||[],s.Td.push(function(){s.RuntimeEffect.Make=function(y,g){return s.RuntimeEffect._Make(y,{onError:g||function(S){console.log("RuntimeEffect error",S)}})},s.RuntimeEffect.MakeForBlender=function(y,g){return s.RuntimeEffect._MakeForBlender(y,{onError:g||function(S){console.log("RuntimeEffect error",S)}})},s.RuntimeEffect.prototype.makeShader=function(y,g){var S=!y._ck,P=Y(y,"HEAPF32");return g=Ce(g),this._makeShader(P,4*y.length,S,g)},s.RuntimeEffect.prototype.makeShaderWithChildren=function(y,g,S){var P=!y._ck,G=Y(y,"HEAPF32");S=Ce(S);for(var K=[],he=0;he<g.length;he++)K.push(g[he].Kd.Sd);return g=Y(K,"HEAPU32"),this._makeShaderWithChildren(G,4*y.length,P,g,K.length,S)},s.RuntimeEffect.prototype.makeBlender=function(y){var g=!y._ck,S=Y(y,"HEAPF32");return this._makeBlender(S,4*y.length,g)}}),function(){function y(Ae){for(var _=0;_<Ae.length;_++)if(Ae[_]!==void 0&&!Number.isFinite(Ae[_]))return!1;return!0}function g(Ae){var _=s.getColorComponents(Ae);Ae=_[0];var D=_[1],ce=_[2];return _=_[3],_===1?(Ae=Ae.toString(16).toLowerCase(),D=D.toString(16).toLowerCase(),ce=ce.toString(16).toLowerCase(),Ae=Ae.length===1?"0"+Ae:Ae,D=D.length===1?"0"+D:D,ce=ce.length===1?"0"+ce:ce,"#"+Ae+D+ce):(_=_===0||_===1?_:_.toFixed(8),"rgba("+Ae+", "+D+", "+ce+", "+_+")")}function S(Ae){return s.parseColorString(Ae,Zn)}function P(Ae){if(Ae=er.exec(Ae),!Ae)return null;var _=parseFloat(Ae[4]),D=16;switch(Ae[5]){case"em":case"rem":D=16*_;break;case"pt":D=4*_/3;break;case"px":D=_;break;case"pc":D=16*_;break;case"in":D=96*_;break;case"cm":D=96*_/2.54;break;case"mm":D=96/25.4*_;break;case"q":D=96/25.4/4*_;break;case"%":D=16/75*_}return{style:Ae[1],variant:Ae[2],weight:Ae[3],sizePx:D,family:Ae[6].trim()}}function G(Ae){this.Md=Ae,this.Pd=new s.Paint,this.Pd.setAntiAlias(!0),this.Pd.setStrokeMiter(10),this.Pd.setStrokeCap(s.StrokeCap.Butt),this.Pd.setStrokeJoin(s.StrokeJoin.Miter),this.Se="10px monospace",this.ne=new s.Font(null,10),this.ne.setSubpixel(!0),this.be=this.he=s.BLACK,this.we=0,this.Ke=s.TRANSPARENT,this.ye=this.xe=0,this.Le=this.je=1,this.Je=0,this.ve=[],this.Od=s.BlendMode.SrcOver,this.Pd.setStrokeWidth(this.Le),this.Pd.setBlendMode(this.Od),this.Rd=new s.Path,this.Ud=s.Matrix.identity(),this.mf=[],this.Ce=[],this.me=function(){this.Rd.delete(),this.Pd.delete(),this.ne.delete(),this.Ce.forEach(function(_){_.me()})},Object.defineProperty(this,"currentTransform",{enumerable:!0,get:function(){return{a:this.Ud[0],c:this.Ud[1],e:this.Ud[2],b:this.Ud[3],d:this.Ud[4],f:this.Ud[5]}},set:function(_){_.a&&this.setTransform(_.a,_.b,_.c,_.d,_.e,_.f)}}),Object.defineProperty(this,"fillStyle",{enumerable:!0,get:function(){return x(this.be)?g(this.be):this.be},set:function(_){typeof _=="string"?this.be=S(_):_.ue&&(this.be=_)}}),Object.defineProperty(this,"font",{enumerable:!0,get:function(){return this.Se},set:function(_){var D=P(_),ce=D.family;D.typeface=ln[ce]?ln[ce][(D.style||"normal")+"|"+(D.variant||"normal")+"|"+(D.weight||"normal")]||ln[ce]["*"]:null,D&&(this.ne.setSize(D.sizePx),this.ne.setTypeface(D.typeface),this.Se=_)}}),Object.defineProperty(this,"globalAlpha",{enumerable:!0,get:function(){return this.je},set:function(_){!isFinite(_)||0>_||1<_||(this.je=_)}}),Object.defineProperty(this,"globalCompositeOperation",{enumerable:!0,get:function(){switch(this.Od){case s.BlendMode.SrcOver:return"source-over";case s.BlendMode.DstOver:return"destination-over";case s.BlendMode.Src:return"copy";case s.BlendMode.Dst:return"destination";case s.BlendMode.Clear:return"clear";case s.BlendMode.SrcIn:return"source-in";case s.BlendMode.DstIn:return"destination-in";case s.BlendMode.SrcOut:return"source-out";case s.BlendMode.DstOut:return"destination-out";case s.BlendMode.SrcATop:return"source-atop";case s.BlendMode.DstATop:return"destination-atop";case s.BlendMode.Xor:return"xor";case s.BlendMode.Plus:return"lighter";case s.BlendMode.Multiply:return"multiply";case s.BlendMode.Screen:return"screen";case s.BlendMode.Overlay:return"overlay";case s.BlendMode.Darken:return"darken";case s.BlendMode.Lighten:return"lighten";case s.BlendMode.ColorDodge:return"color-dodge";case s.BlendMode.ColorBurn:return"color-burn";case s.BlendMode.HardLight:return"hard-light";case s.BlendMode.SoftLight:return"soft-light";case s.BlendMode.Difference:return"difference";case s.BlendMode.Exclusion:return"exclusion";case s.BlendMode.Hue:return"hue";case s.BlendMode.Saturation:return"saturation";case s.BlendMode.Color:return"color";case s.BlendMode.Luminosity:return"luminosity"}},set:function(_){switch(_){case"source-over":this.Od=s.BlendMode.SrcOver;break;case"destination-over":this.Od=s.BlendMode.DstOver;break;case"copy":this.Od=s.BlendMode.Src;break;case"destination":this.Od=s.BlendMode.Dst;break;case"clear":this.Od=s.BlendMode.Clear;break;case"source-in":this.Od=s.BlendMode.SrcIn;break;case"destination-in":this.Od=s.BlendMode.DstIn;break;case"source-out":this.Od=s.BlendMode.SrcOut;break;case"destination-out":this.Od=s.BlendMode.DstOut;break;case"source-atop":this.Od=s.BlendMode.SrcATop;break;case"destination-atop":this.Od=s.BlendMode.DstATop;break;case"xor":this.Od=s.BlendMode.Xor;break;case"lighter":this.Od=s.BlendMode.Plus;break;case"plus-lighter":this.Od=s.BlendMode.Plus;break;case"plus-darker":throw"plus-darker is not supported";case"multiply":this.Od=s.BlendMode.Multiply;break;case"screen":this.Od=s.BlendMode.Screen;break;case"overlay":this.Od=s.BlendMode.Overlay;break;case"darken":this.Od=s.BlendMode.Darken;break;case"lighten":this.Od=s.BlendMode.Lighten;break;case"color-dodge":this.Od=s.BlendMode.ColorDodge;break;case"color-burn":this.Od=s.BlendMode.ColorBurn;break;case"hard-light":this.Od=s.BlendMode.HardLight;break;case"soft-light":this.Od=s.BlendMode.SoftLight;break;case"difference":this.Od=s.BlendMode.Difference;break;case"exclusion":this.Od=s.BlendMode.Exclusion;break;case"hue":this.Od=s.BlendMode.Hue;break;case"saturation":this.Od=s.BlendMode.Saturation;break;case"color":this.Od=s.BlendMode.Color;break;case"luminosity":this.Od=s.BlendMode.Luminosity;break;default:return}this.Pd.setBlendMode(this.Od)}}),Object.defineProperty(this,"imageSmoothingEnabled",{enumerable:!0,get:function(){return!0},set:function(){}}),Object.defineProperty(this,"imageSmoothingQuality",{enumerable:!0,get:function(){return"high"},set:function(){}}),Object.defineProperty(this,"lineCap",{enumerable:!0,get:function(){switch(this.Pd.getStrokeCap()){case s.StrokeCap.Butt:return"butt";case s.StrokeCap.Round:return"round";case s.StrokeCap.Square:return"square"}},set:function(_){switch(_){case"butt":this.Pd.setStrokeCap(s.StrokeCap.Butt);break;case"round":this.Pd.setStrokeCap(s.StrokeCap.Round);break;case"square":this.Pd.setStrokeCap(s.StrokeCap.Square)}}}),Object.defineProperty(this,"lineDashOffset",{enumerable:!0,get:function(){return this.Je},set:function(_){isFinite(_)&&(this.Je=_)}}),Object.defineProperty(this,"lineJoin",{enumerable:!0,get:function(){switch(this.Pd.getStrokeJoin()){case s.StrokeJoin.Miter:return"miter";case s.StrokeJoin.Round:return"round";case s.StrokeJoin.Bevel:return"bevel"}},set:function(_){switch(_){case"miter":this.Pd.setStrokeJoin(s.StrokeJoin.Miter);break;case"round":this.Pd.setStrokeJoin(s.StrokeJoin.Round);break;case"bevel":this.Pd.setStrokeJoin(s.StrokeJoin.Bevel)}}}),Object.defineProperty(this,"lineWidth",{enumerable:!0,get:function(){return this.Pd.getStrokeWidth()},set:function(_){0>=_||!_||(this.Le=_,this.Pd.setStrokeWidth(_))}}),Object.defineProperty(this,"miterLimit",{enumerable:!0,get:function(){return this.Pd.getStrokeMiter()},set:function(_){0>=_||!_||this.Pd.setStrokeMiter(_)}}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,get:function(){return this.we},set:function(_){0>_||!isFinite(_)||(this.we=_)}}),Object.defineProperty(this,"shadowColor",{enumerable:!0,get:function(){return g(this.Ke)},set:function(_){this.Ke=S(_)}}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,get:function(){return this.xe},set:function(_){isFinite(_)&&(this.xe=_)}}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,get:function(){return this.ye},set:function(_){isFinite(_)&&(this.ye=_)}}),Object.defineProperty(this,"strokeStyle",{enumerable:!0,get:function(){return g(this.he)},set:function(_){typeof _=="string"?this.he=S(_):_.ue&&(this.he=_)}}),this.arc=function(_,D,ce,pe,be,Te){B(this.Rd,_,D,ce,ce,0,pe,be,Te)},this.arcTo=function(_,D,ce,pe,be){Xe(this.Rd,_,D,ce,pe,be)},this.beginPath=function(){this.Rd.delete(),this.Rd=new s.Path},this.bezierCurveTo=function(_,D,ce,pe,be,Te){var Ge=this.Rd;y([_,D,ce,pe,be,Te])&&(Ge.isEmpty()&&Ge.moveTo(_,D),Ge.cubicTo(_,D,ce,pe,be,Te))},this.clearRect=function(_,D,ce,pe){this.Pd.setStyle(s.PaintStyle.Fill),this.Pd.setBlendMode(s.BlendMode.Clear),this.Md.drawRect(s.XYWHRect(_,D,ce,pe),this.Pd),this.Pd.setBlendMode(this.Od)},this.clip=function(_,D){typeof _=="string"?(D=_,_=this.Rd):_&&_.bf&&(_=_.Vd),_||(_=this.Rd),_=_.copy(),D&&D.toLowerCase()==="evenodd"?_.setFillType(s.FillType.EvenOdd):_.setFillType(s.FillType.Winding),this.Md.clipPath(_,s.ClipOp.Intersect,!0),_.delete()},this.closePath=function(){pt(this.Rd)},this.createImageData=function(){if(arguments.length===1){var _=arguments[0];return new Pe(new Uint8ClampedArray(4*_.width*_.height),_.width,_.height)}if(arguments.length===2){_=arguments[0];var D=arguments[1];return new Pe(new Uint8ClampedArray(4*_*D),_,D)}throw"createImageData expects 1 or 2 arguments, got "+arguments.length},this.createLinearGradient=function(_,D,ce,pe){if(y(arguments)){var be=new je(_,D,ce,pe);return this.Ce.push(be),be}},this.createPattern=function(_,D){return _=new Tt(_,D),this.Ce.push(_),_},this.createRadialGradient=function(_,D,ce,pe,be,Te){if(y(arguments)){var Ge=new qt(_,D,ce,pe,be,Te);return this.Ce.push(Ge),Ge}},this.drawImage=function(_){_ instanceof he&&(_=_.uf());var D=this.Re();if(arguments.length===3||arguments.length===5)var ce=s.XYWHRect(arguments[1],arguments[2],arguments[3]||_.width(),arguments[4]||_.height()),pe=s.XYWHRect(0,0,_.width(),_.height());else if(arguments.length===9)ce=s.XYWHRect(arguments[5],arguments[6],arguments[7],arguments[8]),pe=s.XYWHRect(arguments[1],arguments[2],arguments[3],arguments[4]);else throw"invalid number of args for drawImage, need 3, 5, or 9; got "+arguments.length;this.Md.drawImageRect(_,pe,ce,D,!1),D.dispose()},this.ellipse=function(_,D,ce,pe,be,Te,Ge,Lt){B(this.Rd,_,D,ce,pe,be,Te,Ge,Lt)},this.Re=function(){var _=this.Pd.copy();if(_.setStyle(s.PaintStyle.Fill),x(this.be)){var D=s.multiplyByAlpha(this.be,this.je);_.setColor(D)}else D=this.be.ue(this.Ud),_.setColor(s.Color(0,0,0,this.je)),_.setShader(D);return _.dispose=function(){this.delete()},_},this.fill=function(_,D){if(typeof _=="string"?(D=_,_=this.Rd):_&&_.bf&&(_=_.Vd),D==="evenodd")this.Rd.setFillType(s.FillType.EvenOdd);else{if(D!=="nonzero"&&D)throw"invalid fill rule";this.Rd.setFillType(s.FillType.Winding)}_||(_=this.Rd),D=this.Re();var ce=this.ze(D);ce&&(this.Md.save(),this.se(),this.Md.drawPath(_,ce),this.Md.restore(),ce.dispose()),this.Md.drawPath(_,D),D.dispose()},this.fillRect=function(_,D,ce,pe){var be=this.Re(),Te=this.ze(be);Te&&(this.Md.save(),this.se(),this.Md.drawRect(s.XYWHRect(_,D,ce,pe),Te),this.Md.restore(),Te.dispose()),this.Md.drawRect(s.XYWHRect(_,D,ce,pe),be),be.dispose()},this.fillText=function(_,D,ce){var pe=this.Re();_=s.TextBlob.MakeFromText(_,this.ne);var be=this.ze(pe);be&&(this.Md.save(),this.se(),this.Md.drawTextBlob(_,D,ce,be),this.Md.restore(),be.dispose()),this.Md.drawTextBlob(_,D,ce,pe),_.delete(),pe.dispose()},this.getImageData=function(_,D,ce,pe){return(_=this.Md.readPixels(_,D,{width:ce,height:pe,colorType:s.ColorType.RGBA_8888,alphaType:s.AlphaType.Unpremul,colorSpace:s.ColorSpace.SRGB}))?new Pe(new Uint8ClampedArray(_.buffer),ce,pe):null},this.getLineDash=function(){return this.ve.slice()},this.nf=function(_){var D=s.Matrix.invert(this.Ud);return s.Matrix.mapPoints(D,_),_},this.isPointInPath=function(_,D,ce){var pe=arguments;if(pe.length===3)var be=this.Rd;else if(pe.length===4)be=pe[0],_=pe[1],D=pe[2],ce=pe[3];else throw"invalid arg count, need 3 or 4, got "+pe.length;return!isFinite(_)||!isFinite(D)||(ce=ce||"nonzero",ce!=="nonzero"&&ce!=="evenodd")?!1:(pe=this.nf([_,D]),_=pe[0],D=pe[1],be.setFillType(ce==="nonzero"?s.FillType.Winding:s.FillType.EvenOdd),be.contains(_,D))},this.isPointInStroke=function(_,D){var ce=arguments;if(ce.length===2)var pe=this.Rd;else if(ce.length===3)pe=ce[0],_=ce[1],D=ce[2];else throw"invalid arg count, need 2 or 3, got "+ce.length;return!isFinite(_)||!isFinite(D)?!1:(ce=this.nf([_,D]),_=ce[0],D=ce[1],pe=pe.copy(),pe.setFillType(s.FillType.Winding),pe.stroke({width:this.lineWidth,miter_limit:this.miterLimit,cap:this.Pd.getStrokeCap(),join:this.Pd.getStrokeJoin(),precision:.3}),ce=pe.contains(_,D),pe.delete(),ce)},this.lineTo=function(_,D){ye(this.Rd,_,D)},this.measureText=function(_){_=this.ne.getGlyphIDs(_),_=this.ne.getGlyphWidths(_);let D=0;for(const ce of _)D+=ce;return{width:D}},this.moveTo=function(_,D){var ce=this.Rd;y([_,D])&&ce.moveTo(_,D)},this.putImageData=function(_,D,ce,pe,be,Te,Ge){if(y([D,ce,pe,be,Te,Ge])){if(pe===void 0)this.Md.writePixels(_.data,_.width,_.height,D,ce);else if(pe=pe||0,be=be||0,Te=Te||_.width,Ge=Ge||_.height,0>Te&&(pe+=Te,Te=Math.abs(Te)),0>Ge&&(be+=Ge,Ge=Math.abs(Ge)),0>pe&&(Te+=pe,pe=0),0>be&&(Ge+=be,be=0),!(0>=Te||0>=Ge)){_=s.MakeImage({width:_.width,height:_.height,alphaType:s.AlphaType.Unpremul,colorType:s.ColorType.RGBA_8888,colorSpace:s.ColorSpace.SRGB},_.data,4*_.width);var Lt=s.XYWHRect(pe,be,Te,Ge);D=s.XYWHRect(D+pe,ce+be,Te,Ge),ce=s.Matrix.invert(this.Ud),this.Md.save(),this.Md.concat(ce),this.Md.drawImageRect(_,Lt,D,null,!1),this.Md.restore(),_.delete()}}},this.quadraticCurveTo=function(_,D,ce,pe){var be=this.Rd;y([_,D,ce,pe])&&(be.isEmpty()&&be.moveTo(_,D),be.quadTo(_,D,ce,pe))},this.rect=function(_,D,ce,pe){var be=this.Rd;_=s.XYWHRect(_,D,ce,pe),y(_)&&be.addRect(_)},this.resetTransform=function(){this.Rd.transform(this.Ud);var _=s.Matrix.invert(this.Ud);this.Md.concat(_),this.Ud=this.Md.getTotalMatrix()},this.restore=function(){var _=this.mf.pop();if(_){var D=s.Matrix.multiply(this.Ud,s.Matrix.invert(_.Kf));this.Rd.transform(D),this.Pd.delete(),this.Pd=_.bg,this.ve=_.$f,this.Le=_.ng,this.he=_.mg,this.be=_.fs,this.xe=_.kg,this.ye=_.lg,this.we=_.sb,this.Ke=_.jg,this.je=_.ga,this.Od=_.Rf,this.Je=_.ag,this.Se=_.Qf,this.Md.restore(),this.Ud=this.Md.getTotalMatrix()}},this.rotate=function(_){if(isFinite(_)){var D=s.Matrix.rotated(-_);this.Rd.transform(D),this.Md.rotate(_/Math.PI*180,0,0),this.Ud=this.Md.getTotalMatrix()}},this.save=function(){if(this.be.te){var _=this.be.te();this.Ce.push(_)}else _=this.be;if(this.he.te){var D=this.he.te();this.Ce.push(D)}else D=this.he;this.mf.push({Kf:this.Ud.slice(),$f:this.ve.slice(),ng:this.Le,mg:D,fs:_,kg:this.xe,lg:this.ye,sb:this.we,jg:this.Ke,ga:this.je,ag:this.Je,Rf:this.Od,bg:this.Pd.copy(),Qf:this.Se}),this.Md.save()},this.scale=function(_,D){if(y(arguments)){var ce=s.Matrix.scaled(1/_,1/D);this.Rd.transform(ce),this.Md.scale(_,D),this.Ud=this.Md.getTotalMatrix()}},this.setLineDash=function(_){for(var D=0;D<_.length;D++)if(!isFinite(_[D])||0>_[D])return;_.length%2===1&&Array.prototype.push.apply(_,_),this.ve=_},this.setTransform=function(_,D,ce,pe,be,Te){y(arguments)&&(this.resetTransform(),this.transform(_,D,ce,pe,be,Te))},this.se=function(){var _=s.Matrix.invert(this.Ud);this.Md.concat(_),this.Md.concat(s.Matrix.translated(this.xe,this.ye)),this.Md.concat(this.Ud)},this.ze=function(_){var D=s.multiplyByAlpha(this.Ke,this.je);if(!s.getColorComponents(D)[3]||!(this.we||this.ye||this.xe))return null;_=_.copy(),_.setColor(D);var ce=s.MaskFilter.MakeBlur(s.BlurStyle.Normal,this.we/2,!1);return _.setMaskFilter(ce),_.dispose=function(){ce.delete(),this.delete()},_},this.df=function(){var _=this.Pd.copy();if(_.setStyle(s.PaintStyle.Stroke),x(this.he)){var D=s.multiplyByAlpha(this.he,this.je);_.setColor(D)}else D=this.he.ue(this.Ud),_.setColor(s.Color(0,0,0,this.je)),_.setShader(D);if(_.setStrokeWidth(this.Le),this.ve.length){var ce=s.PathEffect.MakeDash(this.ve,this.Je);_.setPathEffect(ce)}return _.dispose=function(){ce&&ce.delete(),this.delete()},_},this.stroke=function(_){_=_?_.Vd:this.Rd;var D=this.df(),ce=this.ze(D);ce&&(this.Md.save(),this.se(),this.Md.drawPath(_,ce),this.Md.restore(),ce.dispose()),this.Md.drawPath(_,D),D.dispose()},this.strokeRect=function(_,D,ce,pe){var be=this.df(),Te=this.ze(be);Te&&(this.Md.save(),this.se(),this.Md.drawRect(s.XYWHRect(_,D,ce,pe),Te),this.Md.restore(),Te.dispose()),this.Md.drawRect(s.XYWHRect(_,D,ce,pe),be),be.dispose()},this.strokeText=function(_,D,ce){var pe=this.df();_=s.TextBlob.MakeFromText(_,this.ne);var be=this.ze(pe);be&&(this.Md.save(),this.se(),this.Md.drawTextBlob(_,D,ce,be),this.Md.restore(),be.dispose()),this.Md.drawTextBlob(_,D,ce,pe),_.delete(),pe.dispose()},this.translate=function(_,D){if(y(arguments)){var ce=s.Matrix.translated(-_,-D);this.Rd.transform(ce),this.Md.translate(_,D),this.Ud=this.Md.getTotalMatrix()}},this.transform=function(_,D,ce,pe,be,Te){_=[_,ce,be,D,pe,Te,0,0,1],D=s.Matrix.invert(_),this.Rd.transform(D),this.Md.concat(_),this.Ud=this.Md.getTotalMatrix()},this.addHitRegion=function(){},this.clearHitRegions=function(){},this.drawFocusIfNeeded=function(){},this.removeHitRegion=function(){},this.scrollPathIntoView=function(){},Object.defineProperty(this,"canvas",{value:null,writable:!1})}function K(Ae){this.ef=Ae,this.Ld=new G(Ae.getCanvas()),this.Te=[],this.decodeImage=function(_){if(_=s.MakeImageFromEncoded(_),!_)throw"Invalid input";return this.Te.push(_),new he(_)},this.loadFont=function(_,D){if(_=s.Typeface.MakeFreeTypeFaceFromData(_),!_)return null;this.Te.push(_);var ce=(D.style||"normal")+"|"+(D.variant||"normal")+"|"+(D.weight||"normal");D=D.family,ln[D]||(ln[D]={"*":_}),ln[D][ce]=_},this.makePath2D=function(_){return _=new at(_),this.Te.push(_.Vd),_},this.getContext=function(_){return _==="2d"?this.Ld:null},this.toDataURL=function(_,D){this.ef.flush();var ce=this.ef.makeImageSnapshot();if(ce){_=_||"image/png";var pe=s.ImageFormat.PNG;if(_==="image/jpeg"&&(pe=s.ImageFormat.JPEG),D=ce.encodeToBytes(pe,D||.92)){if(ce.delete(),_="data:"+_+";base64,",typeof Buffer<"u")D=Buffer.from(D).toString("base64");else{ce=0,pe=D.length;for(var be="",Te;ce<pe;)Te=D.slice(ce,Math.min(ce+32768,pe)),be+=String.fromCharCode.apply(null,Te),ce+=32768;D=btoa(be)}return _+D}}},this.dispose=function(){this.Ld.me(),this.Te.forEach(function(_){_.delete()}),this.ef.dispose()}}function he(Ae){this.width=Ae.width(),this.height=Ae.height(),this.naturalWidth=this.width,this.naturalHeight=this.height,this.uf=function(){return Ae}}function Pe(Ae,_,D){if(!_||D===0)throw"invalid dimensions, width and height must be non-zero";if(Ae.length%4)throw"arr must be a multiple of 4";D=D||Ae.length/(4*_),Object.defineProperty(this,"data",{value:Ae,writable:!1}),Object.defineProperty(this,"height",{value:D,writable:!1}),Object.defineProperty(this,"width",{value:_,writable:!1})}function je(Ae,_,D,ce){this.Xd=null,this.de=[],this.$d=[],this.addColorStop=function(pe,be){if(0>pe||1<pe||!isFinite(pe))throw"offset must be between 0 and 1 inclusively";be=S(be);var Te=this.$d.indexOf(pe);if(Te!==-1)this.de[Te]=be;else{for(Te=0;Te<this.$d.length&&!(this.$d[Te]>pe);Te++);this.$d.splice(Te,0,pe),this.de.splice(Te,0,be)}},this.te=function(){var pe=new je(Ae,_,D,ce);return pe.de=this.de.slice(),pe.$d=this.$d.slice(),pe},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(pe){var be=[Ae,_,D,ce];s.Matrix.mapPoints(pe,be),pe=be[0];var Te=be[1],Ge=be[2];return be=be[3],this.me(),this.Xd=s.Shader.MakeLinearGradient([pe,Te],[Ge,be],this.de,this.$d,s.TileMode.Clamp)}}function Xe(Ae,_,D,ce,pe,be){if(y([_,D,ce,pe,be])){if(0>be)throw"radii cannot be negative";Ae.isEmpty()&&Ae.moveTo(_,D),Ae.arcToTangent(_,D,ce,pe,be)}}function pt(Ae){if(!Ae.isEmpty()){var _=Ae.getBounds();(_[3]-_[1]||_[2]-_[0])&&Ae.close()}}function dt(Ae,_,D,ce,pe,be,Te){Te=(Te-be)/Math.PI*180,be=be/Math.PI*180,_=s.LTRBRect(_-ce,D-pe,_+ce,D+pe),1e-5>Math.abs(Math.abs(Te)-360)?(D=Te/2,Ae.arcToOval(_,be,D,!1),Ae.arcToOval(_,be+D,D,!1)):Ae.arcToOval(_,be,Te,!1)}function B(Ae,_,D,ce,pe,be,Te,Ge,Lt){if(y([_,D,ce,pe,be,Te,Ge])){if(0>ce||0>pe)throw"radii cannot be negative";var It=2*Math.PI,Tr=Te%It;0>Tr&&(Tr+=It);var lo=Tr-Te;Te=Tr,Ge+=lo,!Lt&&Ge-Te>=It?Ge=Te+It:Lt&&Te-Ge>=It?Ge=Te-It:!Lt&&Te>Ge?Ge=Te+(It-(Te-Ge)%It):Lt&&Te<Ge&&(Ge=Te-(It-(Ge-Te)%It)),be?(Lt=s.Matrix.rotated(be,_,D),be=s.Matrix.rotated(-be,_,D),Ae.transform(be),dt(Ae,_,D,ce,pe,Te,Ge),Ae.transform(Lt)):dt(Ae,_,D,ce,pe,Te,Ge)}}function ye(Ae,_,D){y([_,D])&&(Ae.isEmpty()&&Ae.moveTo(_,D),Ae.lineTo(_,D))}function at(Ae){this.Vd=null,this.Vd=typeof Ae=="string"?s.Path.MakeFromSVGString(Ae):Ae&&Ae.bf?Ae.Vd.copy():new s.Path,this.bf=function(){return this.Vd},this.addPath=function(_,D){D||(D={a:1,c:0,e:0,b:0,d:1,f:0}),this.Vd.addPath(_.Vd,[D.a,D.c,D.e,D.b,D.d,D.f])},this.arc=function(_,D,ce,pe,be,Te){B(this.Vd,_,D,ce,ce,0,pe,be,Te)},this.arcTo=function(_,D,ce,pe,be){Xe(this.Vd,_,D,ce,pe,be)},this.bezierCurveTo=function(_,D,ce,pe,be,Te){var Ge=this.Vd;y([_,D,ce,pe,be,Te])&&(Ge.isEmpty()&&Ge.moveTo(_,D),Ge.cubicTo(_,D,ce,pe,be,Te))},this.closePath=function(){pt(this.Vd)},this.ellipse=function(_,D,ce,pe,be,Te,Ge,Lt){B(this.Vd,_,D,ce,pe,be,Te,Ge,Lt)},this.lineTo=function(_,D){ye(this.Vd,_,D)},this.moveTo=function(_,D){var ce=this.Vd;y([_,D])&&ce.moveTo(_,D)},this.quadraticCurveTo=function(_,D,ce,pe){var be=this.Vd;y([_,D,ce,pe])&&(be.isEmpty()&&be.moveTo(_,D),be.quadTo(_,D,ce,pe))},this.rect=function(_,D,ce,pe){var be=this.Vd;_=s.XYWHRect(_,D,ce,pe),y(_)&&be.addRect(_)}}function Tt(Ae,_){switch(this.Xd=null,Ae instanceof he&&(Ae=Ae.uf()),this.Ff=Ae,this._transform=s.Matrix.identity(),_===""&&(_="repeat"),_){case"repeat-x":this.Ae=s.TileMode.Repeat,this.Be=s.TileMode.Decal;break;case"repeat-y":this.Ae=s.TileMode.Decal,this.Be=s.TileMode.Repeat;break;case"repeat":this.Be=this.Ae=s.TileMode.Repeat;break;case"no-repeat":this.Be=this.Ae=s.TileMode.Decal;break;default:throw"invalid repetition mode "+_}this.setTransform=function(D){D=[D.a,D.c,D.e,D.b,D.d,D.f,0,0,1],y(D)&&(this._transform=D)},this.te=function(){var D=new Tt;return D.Ae=this.Ae,D.Be=this.Be,D},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(){return this.me(),this.Xd=this.Ff.makeShaderCubic(this.Ae,this.Be,1/3,1/3,this._transform)}}function qt(Ae,_,D,ce,pe,be){this.Xd=null,this.de=[],this.$d=[],this.addColorStop=function(Te,Ge){if(0>Te||1<Te||!isFinite(Te))throw"offset must be between 0 and 1 inclusively";Ge=S(Ge);var Lt=this.$d.indexOf(Te);if(Lt!==-1)this.de[Lt]=Ge;else{for(Lt=0;Lt<this.$d.length&&!(this.$d[Lt]>Te);Lt++);this.$d.splice(Lt,0,Te),this.de.splice(Lt,0,Ge)}},this.te=function(){var Te=new qt(Ae,_,D,ce,pe,be);return Te.de=this.de.slice(),Te.$d=this.$d.slice(),Te},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(Te){var Ge=[Ae,_,ce,pe];s.Matrix.mapPoints(Te,Ge);var Lt=Ge[0],It=Ge[1],Tr=Ge[2];Ge=Ge[3];var lo=(Math.abs(Te[0])+Math.abs(Te[4]))/2;return Te=D*lo,lo*=be,this.me(),this.Xd=s.Shader.MakeTwoPointConicalGradient([Lt,It],Te,[Tr,Ge],lo,this.de,this.$d,s.TileMode.Clamp)}}s._testing={};var Zn={aliceblue:Float32Array.of(.941,.973,1,1),antiquewhite:Float32Array.of(.98,.922,.843,1),aqua:Float32Array.of(0,1,1,1),aquamarine:Float32Array.of(.498,1,.831,1),azure:Float32Array.of(.941,1,1,1),beige:Float32Array.of(.961,.961,.863,1),bisque:Float32Array.of(1,.894,.769,1),black:Float32Array.of(0,0,0,1),blanchedalmond:Float32Array.of(1,.922,.804,1),blue:Float32Array.of(0,0,1,1),blueviolet:Float32Array.of(.541,.169,.886,1),brown:Float32Array.of(.647,.165,.165,1),burlywood:Float32Array.of(.871,.722,.529,1),cadetblue:Float32Array.of(.373,.62,.627,1),chartreuse:Float32Array.of(.498,1,0,1),chocolate:Float32Array.of(.824,.412,.118,1),coral:Float32Array.of(1,.498,.314,1),cornflowerblue:Float32Array.of(.392,.584,.929,1),cornsilk:Float32Array.of(1,.973,.863,1),crimson:Float32Array.of(.863,.078,.235,1),cyan:Float32Array.of(0,1,1,1),darkblue:Float32Array.of(0,0,.545,1),darkcyan:Float32Array.of(0,.545,.545,1),darkgoldenrod:Float32Array.of(.722,.525,.043,1),darkgray:Float32Array.of(.663,.663,.663,1),darkgreen:Float32Array.of(0,.392,0,1),darkgrey:Float32Array.of(.663,.663,.663,1),darkkhaki:Float32Array.of(.741,.718,.42,1),darkmagenta:Float32Array.of(.545,0,.545,1),darkolivegreen:Float32Array.of(.333,.42,.184,1),darkorange:Float32Array.of(1,.549,0,1),darkorchid:Float32Array.of(.6,.196,.8,1),darkred:Float32Array.of(.545,0,0,1),darksalmon:Float32Array.of(.914,.588,.478,1),darkseagreen:Float32Array.of(.561,.737,.561,1),darkslateblue:Float32Array.of(.282,.239,.545,1),darkslategray:Float32Array.of(.184,.31,.31,1),darkslategrey:Float32Array.of(.184,.31,.31,1),darkturquoise:Float32Array.of(0,.808,.82,1),darkviolet:Float32Array.of(.58,0,.827,1),deeppink:Float32Array.of(1,.078,.576,1),deepskyblue:Float32Array.of(0,.749,1,1),dimgray:Float32Array.of(.412,.412,.412,1),dimgrey:Float32Array.of(.412,.412,.412,1),dodgerblue:Float32Array.of(.118,.565,1,1),firebrick:Float32Array.of(.698,.133,.133,1),floralwhite:Float32Array.of(1,.98,.941,1),forestgreen:Float32Array.of(.133,.545,.133,1),fuchsia:Float32Array.of(1,0,1,1),gainsboro:Float32Array.of(.863,.863,.863,1),ghostwhite:Float32Array.of(.973,.973,1,1),gold:Float32Array.of(1,.843,0,1),goldenrod:Float32Array.of(.855,.647,.125,1),gray:Float32Array.of(.502,.502,.502,1),green:Float32Array.of(0,.502,0,1),greenyellow:Float32Array.of(.678,1,.184,1),grey:Float32Array.of(.502,.502,.502,1),honeydew:Float32Array.of(.941,1,.941,1),hotpink:Float32Array.of(1,.412,.706,1),indianred:Float32Array.of(.804,.361,.361,1),indigo:Float32Array.of(.294,0,.51,1),ivory:Float32Array.of(1,1,.941,1),khaki:Float32Array.of(.941,.902,.549,1),lavender:Float32Array.of(.902,.902,.98,1),lavenderblush:Float32Array.of(1,.941,.961,1),lawngreen:Float32Array.of(.486,.988,0,1),lemonchiffon:Float32Array.of(1,.98,.804,1),lightblue:Float32Array.of(.678,.847,.902,1),lightcoral:Float32Array.of(.941,.502,.502,1),lightcyan:Float32Array.of(.878,1,1,1),lightgoldenrodyellow:Float32Array.of(.98,.98,.824,1),lightgray:Float32Array.of(.827,.827,.827,1),lightgreen:Float32Array.of(.565,.933,.565,1),lightgrey:Float32Array.of(.827,.827,.827,1),lightpink:Float32Array.of(1,.714,.757,1),lightsalmon:Float32Array.of(1,.627,.478,1),lightseagreen:Float32Array.of(.125,.698,.667,1),lightskyblue:Float32Array.of(.529,.808,.98,1),lightslategray:Float32Array.of(.467,.533,.6,1),lightslategrey:Float32Array.of(.467,.533,.6,1),lightsteelblue:Float32Array.of(.69,.769,.871,1),lightyellow:Float32Array.of(1,1,.878,1),lime:Float32Array.of(0,1,0,1),limegreen:Float32Array.of(.196,.804,.196,1),linen:Float32Array.of(.98,.941,.902,1),magenta:Float32Array.of(1,0,1,1),maroon:Float32Array.of(.502,0,0,1),mediumaquamarine:Float32Array.of(.4,.804,.667,1),mediumblue:Float32Array.of(0,0,.804,1),mediumorchid:Float32Array.of(.729,.333,.827,1),mediumpurple:Float32Array.of(.576,.439,.859,1),mediumseagreen:Float32Array.of(.235,.702,.443,1),mediumslateblue:Float32Array.of(.482,.408,.933,1),mediumspringgreen:Float32Array.of(0,.98,.604,1),mediumturquoise:Float32Array.of(.282,.82,.8,1),mediumvioletred:Float32Array.of(.78,.082,.522,1),midnightblue:Float32Array.of(.098,.098,.439,1),mintcream:Float32Array.of(.961,1,.98,1),mistyrose:Float32Array.of(1,.894,.882,1),moccasin:Float32Array.of(1,.894,.71,1),navajowhite:Float32Array.of(1,.871,.678,1),navy:Float32Array.of(0,0,.502,1),oldlace:Float32Array.of(.992,.961,.902,1),olive:Float32Array.of(.502,.502,0,1),olivedrab:Float32Array.of(.42,.557,.137,1),orange:Float32Array.of(1,.647,0,1),orangered:Float32Array.of(1,.271,0,1),orchid:Float32Array.of(.855,.439,.839,1),palegoldenrod:Float32Array.of(.933,.91,.667,1),palegreen:Float32Array.of(.596,.984,.596,1),paleturquoise:Float32Array.of(.686,.933,.933,1),palevioletred:Float32Array.of(.859,.439,.576,1),papayawhip:Float32Array.of(1,.937,.835,1),peachpuff:Float32Array.of(1,.855,.725,1),peru:Float32Array.of(.804,.522,.247,1),pink:Float32Array.of(1,.753,.796,1),plum:Float32Array.of(.867,.627,.867,1),powderblue:Float32Array.of(.69,.878,.902,1),purple:Float32Array.of(.502,0,.502,1),rebeccapurple:Float32Array.of(.4,.2,.6,1),red:Float32Array.of(1,0,0,1),rosybrown:Float32Array.of(.737,.561,.561,1),royalblue:Float32Array.of(.255,.412,.882,1),saddlebrown:Float32Array.of(.545,.271,.075,1),salmon:Float32Array.of(.98,.502,.447,1),sandybrown:Float32Array.of(.957,.643,.376,1),seagreen:Float32Array.of(.18,.545,.341,1),seashell:Float32Array.of(1,.961,.933,1),sienna:Float32Array.of(.627,.322,.176,1),silver:Float32Array.of(.753,.753,.753,1),skyblue:Float32Array.of(.529,.808,.922,1),slateblue:Float32Array.of(.416,.353,.804,1),slategray:Float32Array.of(.439,.502,.565,1),slategrey:Float32Array.of(.439,.502,.565,1),snow:Float32Array.of(1,.98,.98,1),springgreen:Float32Array.of(0,1,.498,1),steelblue:Float32Array.of(.275,.51,.706,1),tan:Float32Array.of(.824,.706,.549,1),teal:Float32Array.of(0,.502,.502,1),thistle:Float32Array.of(.847,.749,.847,1),tomato:Float32Array.of(1,.388,.278,1),transparent:Float32Array.of(0,0,0,0),turquoise:Float32Array.of(.251,.878,.816,1),violet:Float32Array.of(.933,.51,.933,1),wheat:Float32Array.of(.961,.871,.702,1),white:Float32Array.of(1,1,1,1),whitesmoke:Float32Array.of(.961,.961,.961,1),yellow:Float32Array.of(1,1,0,1),yellowgreen:Float32Array.of(.604,.804,.196,1)};s._testing.parseColor=S,s._testing.colorToString=g;var er=RegExp("(italic|oblique|normal|)\\s*(small-caps|normal|)\\s*(bold|bolder|lighter|[1-9]00|normal|)\\s*([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q)(.+)"),ln={"Noto Mono":{"*":null},monospace:{"*":null}};s._testing.parseFontString=P,s.MakeCanvas=function(Ae,_){return(Ae=s.MakeSurface(Ae,_))?new K(Ae):null},s.ImageData=function(){if(arguments.length===2){var Ae=arguments[0],_=arguments[1];return new Pe(new Uint8ClampedArray(4*Ae*_),Ae,_)}if(arguments.length===3){var D=arguments[0];if(D.prototype.constructor!==Uint8ClampedArray)throw"bytes must be given as a Uint8ClampedArray";if(Ae=arguments[1],_=arguments[2],D%4)throw"bytes must be given in a multiple of 4";if(D%Ae)throw"bytes must divide evenly by width";if(_&&_!==D/(4*Ae))throw"invalid height given";return new Pe(D,Ae,D/(4*Ae))}throw"invalid number of arguments - takes 2 or 3, saw "+arguments.length}}()}(n);var u=Object.assign({},n),c="./this.program",l=(s,f)=>{throw f},d=typeof window=="object",p=typeof importScripts=="function",w=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v="",E,C,L;w?(v=p?Fa.dirname(v)+"/":__dirname+"/",E=(s,f)=>(s=s.startsWith("file://")?new URL(s):Fa.normalize(s),fs.readFileSync(s,f?void 0:"utf8")),L=s=>(s=E(s,!0),s.buffer||(s=new Uint8Array(s)),s),C=(s,f,m,x=!0)=>{s=s.startsWith("file://")?new URL(s):Fa.normalize(s),fs.readFile(s,x?void 0:"utf8",(A,I)=>{A?m(A):f(x?I.buffer:I)})},!n.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),l=(s,f)=>{throw process.exitCode=s,f},n.inspect=()=>"[Emscripten Module object]"):(d||p)&&(p?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),t&&(v=t),v.indexOf("blob:")!==0?v=v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):v="",E=s=>{var f=new XMLHttpRequest;return f.open("GET",s,!1),f.send(null),f.responseText},p&&(L=s=>{var f=new XMLHttpRequest;return f.open("GET",s,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),C=(s,f,m)=>{var x=new XMLHttpRequest;x.open("GET",s,!0),x.responseType="arraybuffer",x.onload=()=>{x.status==200||x.status==0&&x.response?f(x.response):m()},x.onerror=m,x.send(null)});var k=n.print||console.log.bind(console),N=n.printErr||console.error.bind(console);Object.assign(n,u),u=null,n.thisProgram&&(c=n.thisProgram),n.quit&&(l=n.quit);var W;n.wasmBinary&&(W=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&Le("no native wasm support detected");var Q,H,ie=!1,le,ne,de,we,R,X,V,re;function ue(){var s=Q.buffer;n.HEAP8=le=new Int8Array(s),n.HEAP16=de=new Int16Array(s),n.HEAP32=R=new Int32Array(s),n.HEAPU8=ne=new Uint8Array(s),n.HEAPU16=we=new Uint16Array(s),n.HEAPU32=X=new Uint32Array(s),n.HEAPF32=V=new Float32Array(s),n.HEAPF64=re=new Float64Array(s)}var ee,Ee=[],j=[],te=[];function me(){var s=n.preRun.shift();Ee.unshift(s)}var Me=0,Oe=null;function Le(s){throw n.onAbort&&n.onAbort(s),s="Aborted("+s+")",N(s),ie=!0,s=new WebAssembly.RuntimeError(s+". Build with -sASSERTIONS for more info."),i(s),s}function Fe(s){return s.startsWith("data:application/octet-stream;base64,")}var ot;if(ot="canvaskit.wasm",!Fe(ot)){var it=ot;ot=n.locateFile?n.locateFile(it,v):v+it}function Ke(s){if(s==ot&&W)return new Uint8Array(W);if(L)return L(s);throw"both async and sync fetching of the wasm failed"}function yt(s){if(!W&&(d||p)){if(typeof fetch=="function"&&!s.startsWith("file://"))return fetch(s,{credentials:"same-origin"}).then(f=>{if(!f.ok)throw"failed to load wasm binary file at '"+s+"'";return f.arrayBuffer()}).catch(()=>Ke(s));if(C)return new Promise((f,m)=>{C(s,x=>f(new Uint8Array(x)),m)})}return Promise.resolve().then(()=>Ke(s))}function Nt(s,f,m){return yt(s).then(x=>WebAssembly.instantiate(x,f)).then(x=>x).then(m,x=>{N("failed to asynchronously prepare wasm: "+x),Le(x)})}function kn(s,f){var m=ot;return W||typeof WebAssembly.instantiateStreaming!="function"||Fe(m)||m.startsWith("file://")||w||typeof fetch!="function"?Nt(m,s,f):fetch(m,{credentials:"same-origin"}).then(x=>WebAssembly.instantiateStreaming(x,s).then(f,function(A){return N("wasm streaming compile failed: "+A),N("falling back to ArrayBuffer instantiation"),Nt(m,s,f)}))}function an(s){this.name="ExitStatus",this.message=`Program terminated with exit(${s})`,this.status=s}var pn=s=>{for(;0<s.length;)s.shift()(n)},Wn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Wt=(s,f,m)=>{var x=f+m;for(m=f;s[m]&&!(m>=x);)++m;if(16<m-f&&s.buffer&&Wn)return Wn.decode(s.subarray(f,m));for(x="";f<m;){var A=s[f++];if(A&128){var I=s[f++]&63;if((A&224)==192)x+=String.fromCharCode((A&31)<<6|I);else{var z=s[f++]&63;A=(A&240)==224?(A&15)<<12|I<<6|z:(A&7)<<18|I<<12|z<<6|s[f++]&63,65536>A?x+=String.fromCharCode(A):(A-=65536,x+=String.fromCharCode(55296|A>>10,56320|A&1023))}}else x+=String.fromCharCode(A)}return x},wn={};function Ht(s){for(;s.length;){var f=s.pop();s.pop()(f)}}function An(s){return this.fromWireType(R[s>>2])}var tn={},Vt={},Hn={},yr=void 0;function gn(s){throw new yr(s)}function st(s,f,m){function x(F){F=m(F),F.length!==s.length&&gn("Mismatched type converter count");for(var $=0;$<s.length;++$)xn(s[$],F[$])}s.forEach(function(F){Hn[F]=f});var A=Array(f.length),I=[],z=0;f.forEach((F,$)=>{Vt.hasOwnProperty(F)?A[$]=Vt[F]:(I.push(F),tn.hasOwnProperty(F)||(tn[F]=[]),tn[F].push(()=>{A[$]=Vt[F],++z,z===I.length&&x(A)}))}),I.length===0&&x(A)}function _t(s){switch(s){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${s}`)}}var nn=void 0;function bt(s){for(var f="";ne[s];)f+=nn[ne[s++]];return f}var Bt=void 0;function vt(s){throw new Bt(s)}function wi(s,f,m={}){var x=f.name;if(s||vt(`type "${x}" must have a positive integer typeid pointer`),Vt.hasOwnProperty(s)){if(m.Xf)return;vt(`Cannot register type '${x}' twice`)}Vt[s]=f,delete Hn[s],tn.hasOwnProperty(s)&&(f=tn[s],delete tn[s],f.forEach(A=>A()))}function xn(s,f,m={}){if(!("argPackAdvance"in f))throw new TypeError("registerType registeredInstance requires argPackAdvance");wi(s,f,m)}function xi(s){vt(s.Kd.Wd.Qd.name+" instance already deleted")}var bi=!1;function Yi(){}function Ki(s){--s.count.value,s.count.value===0&&(s.Zd?s.fe.le(s.Zd):s.Wd.Qd.le(s.Sd))}function Qi(s,f,m){return f===m?s:m.ae===void 0?null:(s=Qi(s,f,m.ae),s===null?null:m.Nf(s))}var qi={},Wr=[];function Si(){for(;Wr.length;){var s=Wr.pop();s.Kd.Fe=!1,s.delete()}}var Hr=void 0,Ei={};function $s(s,f){for(f===void 0&&vt("ptr should not be undefined");s.ae;)f=s.Pe(f),s=s.ae;return Ei[f]}function Ji(s,f){return f.Wd&&f.Sd||gn("makeClassHandle requires ptr and ptrType"),!!f.fe!=!!f.Zd&&gn("Both smartPtrType and smartPtr must be specified"),f.count={value:1},ri(Object.create(s,{Kd:{value:f}}))}function ri(s){return typeof FinalizationRegistry>"u"?(ri=f=>f,s):(bi=new FinalizationRegistry(f=>{Ki(f.Kd)}),ri=f=>{var m=f.Kd;return m.Zd&&bi.register(f,{Kd:m},f),f},Yi=f=>{bi.unregister(f)},ri(s))}function vr(){}function Zo(s){if(s===void 0)return"_unknown";s=s.replace(/[^a-zA-Z0-9_]/g,"$");var f=s.charCodeAt(0);return 48<=f&&57>=f?`_${s}`:s}function Zi(s,f){return s=Zo(s),{[s]:function(){return f.apply(this,arguments)}}[s]}function ii(s,f,m){if(s[f].Yd===void 0){var x=s[f];s[f]=function(){return s[f].Yd.hasOwnProperty(arguments.length)||vt(`Function '${m}' called with an invalid number of arguments (${arguments.length}) - expects one of (${s[f].Yd})!`),s[f].Yd[arguments.length].apply(this,arguments)},s[f].Yd=[],s[f].Yd[x.De]=x}}function oi(s,f,m){n.hasOwnProperty(s)?((m===void 0||n[s].Yd!==void 0&&n[s].Yd[m]!==void 0)&&vt(`Cannot register public name '${s}' twice`),ii(n,s,s),n.hasOwnProperty(m)&&vt(`Cannot register multiple overloads of a function with the same number of arguments (${m})!`),n[s].Yd[m]=f):(n[s]=f,m!==void 0&&(n[s].xg=m))}function eo(s,f,m,x,A,I,z,F){this.name=s,this.constructor=f,this.Ge=m,this.le=x,this.ae=A,this.Sf=I,this.Pe=z,this.Nf=F,this.dg=[]}function Ai(s,f,m){for(;f!==m;)f.Pe||vt(`Expected null or instance of ${m.name}, got an instance of ${f.name}`),s=f.Pe(s),f=f.ae;return s}function si(s,f){return f===null?(this.hf&&vt(`null is not a valid ${this.name}`),0):(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),Ai(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd))}function ai(s,f){if(f===null){if(this.hf&&vt(`null is not a valid ${this.name}`),this.We){var m=this.jf();return s!==null&&s.push(this.le,m),m}return 0}if(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.Ve&&f.Kd.Wd.Ve&&vt(`Cannot convert argument of type ${f.Kd.fe?f.Kd.fe.name:f.Kd.Wd.name} to parameter type ${this.name}`),m=Ai(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd),this.We)switch(f.Kd.Zd===void 0&&vt("Passing raw pointer to smart pointer is illegal"),this.ig){case 0:f.Kd.fe===this?m=f.Kd.Zd:vt(`Cannot convert argument of type ${f.Kd.fe?f.Kd.fe.name:f.Kd.Wd.name} to parameter type ${this.name}`);break;case 1:m=f.Kd.Zd;break;case 2:if(f.Kd.fe===this)m=f.Kd.Zd;else{var x=f.clone();m=this.eg(m,zn(function(){x.delete()})),s!==null&&s.push(this.le,m)}break;default:vt("Unsupporting sharing policy")}return m}function to(s,f){return f===null?(this.hf&&vt(`null is not a valid ${this.name}`),0):(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),f.Kd.Wd.Ve&&vt(`Cannot convert argument of type ${f.Kd.Wd.name} to parameter type ${this.name}`),Ai(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd))}function sr(s,f,m,x,A,I,z,F,$,Y,ve){this.name=s,this.Qd=f,this.hf=m,this.Ve=x,this.We=A,this.cg=I,this.ig=z,this.wf=F,this.jf=$,this.eg=Y,this.le=ve,A||f.ae!==void 0?this.toWireType=ai:(this.toWireType=x?si:to,this.ee=null)}function Kt(s,f,m){n.hasOwnProperty(s)||gn("Replacing nonexistant public symbol"),n[s].Yd!==void 0&&m!==void 0?n[s].Yd[m]=f:(n[s]=f,n[s].De=m)}var es=(s,f)=>{var m=[];return function(){if(m.length=0,Object.assign(m,arguments),s.includes("j")){var x=n["dynCall_"+s];x=m&&m.length?x.apply(null,[f].concat(m)):x.call(null,f)}else x=ee.get(f).apply(null,m);return x}};function mn(s,f){s=bt(s);var m=s.includes("j")?es(s,f):ee.get(f);return typeof m!="function"&&vt(`unknown function pointer with signature ${s}: ${f}`),m}var Qt=void 0;function rn(s){s=Ys(s);var f=bt(s);return jr(s),f}function Cn(s,f){function m(I){A[I]||Vt[I]||(Hn[I]?Hn[I].forEach(m):(x.push(I),A[I]=!0))}var x=[],A={};throw f.forEach(m),new Qt(`${s}: `+x.map(rn).join([", "]))}function Rn(s,f,m,x,A){var I=f.length;2>I&&vt("argTypes array size mismatch! Must at least get return value and 'this' types!");var z=f[1]!==null&&m!==null,F=!1;for(m=1;m<f.length;++m)if(f[m]!==null&&f[m].ee===void 0){F=!0;break}var $=f[0].name!=="void",Y=I-2,ve=Array(Y),Ce=[],Ue=[];return function(){if(arguments.length!==Y&&vt(`function ${s} called with ${arguments.length} arguments, expected ${Y} args!`),Ue.length=0,Ce.length=z?2:1,Ce[0]=A,z){var ae=f[1].toWireType(Ue,this);Ce[1]=ae}for(var He=0;He<Y;++He)ve[He]=f[He+2].toWireType(Ue,arguments[He]),Ce.push(ve[He]);if(He=x.apply(null,Ce),F)Ht(Ue);else for(var tt=z?1:2;tt<f.length;tt++){var rt=tt===1?ae:ve[tt-2];f[tt].ee!==null&&f[tt].ee(rt)}return ae=$?f[0].fromWireType(He):void 0,ae}}function zr(s,f){for(var m=[],x=0;x<s;x++)m.push(X[f+4*x>>2]);return m}function ts(){this.ke=[void 0],this.tf=[]}var _n=new ts;function Ci(s){s>=_n.He&&--_n.get(s).xf===0&&_n.Cf(s)}var On=s=>(s||vt("Cannot use deleted val. handle = "+s),_n.get(s).value),zn=s=>{switch(s){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return _n.Bf({xf:1,value:s})}};function Ds(s,f,m){switch(f){case 0:return function(x){return this.fromWireType((m?le:ne)[x])};case 1:return function(x){return this.fromWireType((m?de:we)[x>>1])};case 2:return function(x){return this.fromWireType((m?R:X)[x>>2])};default:throw new TypeError("Unknown integer type: "+s)}}function _i(s,f){var m=Vt[s];return m===void 0&&vt(f+" has unknown type "+rn(s)),m}function Qn(s){if(s===null)return"null";var f=typeof s;return f==="object"||f==="array"||f==="function"?s.toString():""+s}function ns(s,f){switch(f){case 2:return function(m){return this.fromWireType(V[m>>2])};case 3:return function(m){return this.fromWireType(re[m>>3])};default:throw new TypeError("Unknown float type: "+s)}}function el(s,f,m){switch(f){case 0:return m?function(x){return le[x]}:function(x){return ne[x]};case 1:return m?function(x){return de[x>>1]}:function(x){return we[x>>1]};case 2:return m?function(x){return R[x>>2]}:function(x){return X[x>>2]};default:throw new TypeError("Unknown integer type: "+s)}}var Fn=(s,f,m,x)=>{if(!(0<x))return 0;var A=m;x=m+x-1;for(var I=0;I<s.length;++I){var z=s.charCodeAt(I);if(55296<=z&&57343>=z){var F=s.charCodeAt(++I);z=65536+((z&1023)<<10)|F&1023}if(127>=z){if(m>=x)break;f[m++]=z}else{if(2047>=z){if(m+1>=x)break;f[m++]=192|z>>6}else{if(65535>=z){if(m+2>=x)break;f[m++]=224|z>>12}else{if(m+3>=x)break;f[m++]=240|z>>18,f[m++]=128|z>>12&63}f[m++]=128|z>>6&63}f[m++]=128|z&63}}return f[m]=0,m-A},ar=s=>{for(var f=0,m=0;m<s.length;++m){var x=s.charCodeAt(m);127>=x?f++:2047>=x?f+=2:55296<=x&&57343>=x?(f+=4,++m):f+=3}return f},Ya=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,tl=(s,f)=>{for(var m=s>>1,x=m+f/2;!(m>=x)&&we[m];)++m;if(m<<=1,32<m-s&&Ya)return Ya.decode(ne.subarray(s,m));for(m="",x=0;!(x>=f/2);++x){var A=de[s+2*x>>1];if(A==0)break;m+=String.fromCharCode(A)}return m},Ka=(s,f,m)=>{if(m===void 0&&(m=2147483647),2>m)return 0;m-=2;var x=f;m=m<2*s.length?m/2:s.length;for(var A=0;A<m;++A)de[f>>1]=s.charCodeAt(A),f+=2;return de[f>>1]=0,f-x},Qa=s=>2*s.length,qa=(s,f)=>{for(var m=0,x="";!(m>=f/4);){var A=R[s+4*m>>2];if(A==0)break;++m,65536<=A?(A-=65536,x+=String.fromCharCode(55296|A>>10,56320|A&1023)):x+=String.fromCharCode(A)}return x},nl=(s,f,m)=>{if(m===void 0&&(m=2147483647),4>m)return 0;var x=f;m=x+m-4;for(var A=0;A<s.length;++A){var I=s.charCodeAt(A);if(55296<=I&&57343>=I){var z=s.charCodeAt(++A);I=65536+((I&1023)<<10)|z&1023}if(R[f>>2]=I,f+=4,f+4>m)break}return R[f>>2]=0,f-x},rl=s=>{for(var f=0,m=0;m<s.length;++m){var x=s.charCodeAt(m);55296<=x&&57343>=x&&++m,f+=4}return f},il={};function rs(s){var f=il[s];return f===void 0?bt(s):f}var _o=[];function Bs(){function s(f){f.$$$embind_global$$$=f;var m=typeof $$$embind_global$$$=="object"&&f.$$$embind_global$$$==f;return m||delete f.$$$embind_global$$$,m}if(typeof globalThis=="object")return globalThis;if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&s(global)?$$$embind_global$$$=global:typeof self=="object"&&s(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function Ja(s){var f=_o.length;return _o.push(s),f}function Gs(s,f){for(var m=Array(s),x=0;x<s;++x)m[x]=_i(X[f+4*x>>2],"parameter "+x);return m}var Za=[];function eu(s){var f=Array(s+1);return function(m,x,A){f[0]=m;for(var I=0;I<s;++I){var z=_i(X[x+4*I>>2],"parameter "+I);f[I+1]=z.readValueFromPointer(A),A+=z.argPackAdvance}return m=new(m.bind.apply(m,f)),zn(m)}}var To={};function tu(s){var f=s.getExtension("ANGLE_instanced_arrays");f&&(s.vertexAttribDivisor=function(m,x){f.vertexAttribDivisorANGLE(m,x)},s.drawArraysInstanced=function(m,x,A,I){f.drawArraysInstancedANGLE(m,x,A,I)},s.drawElementsInstanced=function(m,x,A,I,z){f.drawElementsInstancedANGLE(m,x,A,I,z)})}function ol(s){var f=s.getExtension("OES_vertex_array_object");f&&(s.createVertexArray=function(){return f.createVertexArrayOES()},s.deleteVertexArray=function(m){f.deleteVertexArrayOES(m)},s.bindVertexArray=function(m){f.bindVertexArrayOES(m)},s.isVertexArray=function(m){return f.isVertexArrayOES(m)})}function nu(s){var f=s.getExtension("WEBGL_draw_buffers");f&&(s.drawBuffers=function(m,x){f.drawBuffersWEBGL(m,x)})}var Us=1,no=[],wr=[],Lo=[],Ti=[],jn=[],Tn=[],Po=[],xr=[],Li=[],ui=[],Ws={},Hs={},zs=4;function $t(s){is||(is=s)}function ro(s){for(var f=Us++,m=s.length;m<f;m++)s[m]=null;return f}function sl(s,f){s.He||(s.He=s.getContext,s.getContext=function(x,A){return A=s.He(x,A),x=="webgl"==A instanceof WebGLRenderingContext?A:null});var m=1<f.majorVersion?s.getContext("webgl2",f):s.getContext("webgl",f);return m?ru(m,f):0}function ru(s,f){var m=ro(xr),x={handle:m,attributes:f,version:f.majorVersion,ge:s};return s.canvas&&(s.canvas.Af=x),xr[m]=x,(typeof f.Of>"u"||f.Of)&&al(x),m}function iu(s){return ut=xr[s],n.vg=J=ut&&ut.ge,!(s&&!J)}function al(s){if(s||(s=ut),!s.Yf){s.Yf=!0;var f=s.ge;tu(f),ol(f),nu(f),f.qf=f.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),f.vf=f.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"),2<=s.version&&(f.rf=f.getExtension("EXT_disjoint_timer_query_webgl2")),(2>s.version||!f.rf)&&(f.rf=f.getExtension("EXT_disjoint_timer_query")),f.wg=f.getExtension("WEBGL_multi_draw"),(f.getSupportedExtensions()||[]).forEach(function(m){m.includes("lose_context")||m.includes("debug")||f.getExtension(m)})}}var ut,is,Mo={},ou=()=>{if(!js){var s={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"},f;for(f in Mo)Mo[f]===void 0?delete s[f]:s[f]=Mo[f];var m=[];for(f in s)m.push(`${f}=${s[f]}`);js=m}return js},js,ul=[null,[],[]];function su(s){J.bindVertexArray(Po[s])}function au(s,f){for(var m=0;m<s;m++){var x=R[f+4*m>>2];J.deleteVertexArray(Po[x]),Po[x]=null}}var Pt=[];function Rt(s,f,m,x){J.drawElements(s,f,m,x)}function io(s,f,m,x){for(var A=0;A<s;A++){var I=J[m](),z=I&&ro(x);I?(I.name=z,x[z]=I):$t(1282),R[f+4*A>>2]=z}}function uu(s,f){io(s,f,"createVertexArray",Po)}function cu(s,f,m){if(f){var x=void 0;switch(s){case 36346:x=1;break;case 36344:m!=0&&m!=1&&$t(1280);return;case 34814:case 36345:x=0;break;case 34466:var A=J.getParameter(34467);x=A?A.length:0;break;case 33309:if(2>ut.version){$t(1282);return}x=2*(J.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>ut.version){$t(1280);return}x=s==33307?3:0}if(x===void 0)switch(A=J.getParameter(s),typeof A){case"number":x=A;break;case"boolean":x=A?1:0;break;case"string":$t(1280);return;case"object":if(A===null)switch(s){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:x=0;break;default:$t(1280);return}else{if(A instanceof Float32Array||A instanceof Uint32Array||A instanceof Int32Array||A instanceof Array){for(s=0;s<A.length;++s)switch(m){case 0:R[f+4*s>>2]=A[s];break;case 2:V[f+4*s>>2]=A[s];break;case 4:le[f+s>>0]=A[s]?1:0}return}try{x=A.name|0}catch(I){$t(1280),N("GL_INVALID_ENUM in glGet"+m+"v: Unknown object returned from WebGL getParameter("+s+")! (error: "+I+")");return}}break;default:$t(1280),N("GL_INVALID_ENUM in glGet"+m+"v: Native code calling glGet"+m+"v("+s+") and it returns "+A+" of type "+typeof A+"!");return}switch(m){case 1:m=x,X[f>>2]=m,X[f+4>>2]=(m-X[f>>2])/4294967296;break;case 0:R[f>>2]=x;break;case 2:V[f>>2]=x;break;case 4:le[f>>0]=x?1:0}}else $t(1281)}var Io=s=>{var f=ar(s)+1,m=Nn(f);return m&&Fn(s,ne,m,f),m};function lu(s){return s.slice(-1)=="]"&&s.lastIndexOf("[")}function os(s){return s-=5120,s==0?le:s==1?ne:s==2?de:s==4?R:s==6?V:s==5||s==28922||s==28520||s==30779||s==30782?X:we}function ss(s,f,m,x,A){s=os(s);var I=31-Math.clz32(s.BYTES_PER_ELEMENT),z=zs;return s.subarray(A>>I,A+x*(m*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[f-6402]||1)*(1<<I)+z-1&-z)>>I)}function At(s){var f=J.Lf;if(f){var m=f.Oe[s];return typeof m=="number"&&(f.Oe[s]=m=J.getUniformLocation(f,f.yf[s]+(0<m?"["+m+"]":""))),m}$t(1282)}var zt=[],Pi=[],_r=s=>s%4===0&&(s%100!==0||s%400===0),Vs=[31,29,31,30,31,30,31,31,30,31,30,31],as=[31,28,31,30,31,30,31,31,30,31,30,31];function ur(s){var f=Array(ar(s)+1);return Fn(s,f,0,f.length),f}var fu=(s,f,m,x)=>{function A(ae,He,tt){for(ae=typeof ae=="number"?ae.toString():ae||"";ae.length<He;)ae=tt[0]+ae;return ae}function I(ae,He){return A(ae,He,"0")}function z(ae,He){function tt(Xn){return 0>Xn?-1:0<Xn?1:0}var rt;return(rt=tt(ae.getFullYear()-He.getFullYear()))===0&&(rt=tt(ae.getMonth()-He.getMonth()))===0&&(rt=tt(ae.getDate()-He.getDate())),rt}function F(ae){switch(ae.getDay()){case 0:return new Date(ae.getFullYear()-1,11,29);case 1:return ae;case 2:return new Date(ae.getFullYear(),0,3);case 3:return new Date(ae.getFullYear(),0,2);case 4:return new Date(ae.getFullYear(),0,1);case 5:return new Date(ae.getFullYear()-1,11,31);case 6:return new Date(ae.getFullYear()-1,11,30)}}function $(ae){var He=ae.pe;for(ae=new Date(new Date(ae.qe+1900,0,1).getTime());0<He;){var tt=ae.getMonth(),rt=(_r(ae.getFullYear())?Vs:as)[tt];if(He>rt-ae.getDate())He-=rt-ae.getDate()+1,ae.setDate(1),11>tt?ae.setMonth(tt+1):(ae.setMonth(0),ae.setFullYear(ae.getFullYear()+1));else{ae.setDate(ae.getDate()+He);break}}return tt=new Date(ae.getFullYear()+1,0,4),He=F(new Date(ae.getFullYear(),0,4)),tt=F(tt),0>=z(He,ae)?0>=z(tt,ae)?ae.getFullYear()+1:ae.getFullYear():ae.getFullYear()-1}var Y=R[x+40>>2];x={qg:R[x>>2],pg:R[x+4>>2],$e:R[x+8>>2],kf:R[x+12>>2],af:R[x+16>>2],qe:R[x+20>>2],ie:R[x+24>>2],pe:R[x+28>>2],zg:R[x+32>>2],og:R[x+36>>2],rg:Y&&Y?Wt(ne,Y):""},m=m?Wt(ne,m):"",Y={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ve in Y)m=m.replace(new RegExp(ve,"g"),Y[ve]);var Ce="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ue="January February March April May June July August September October November December".split(" ");Y={"%a":ae=>Ce[ae.ie].substring(0,3),"%A":ae=>Ce[ae.ie],"%b":ae=>Ue[ae.af].substring(0,3),"%B":ae=>Ue[ae.af],"%C":ae=>I((ae.qe+1900)/100|0,2),"%d":ae=>I(ae.kf,2),"%e":ae=>A(ae.kf,2," "),"%g":ae=>$(ae).toString().substring(2),"%G":ae=>$(ae),"%H":ae=>I(ae.$e,2),"%I":ae=>(ae=ae.$e,ae==0?ae=12:12<ae&&(ae-=12),I(ae,2)),"%j":ae=>{for(var He=0,tt=0;tt<=ae.af-1;He+=(_r(ae.qe+1900)?Vs:as)[tt++]);return I(ae.kf+He,3)},"%m":ae=>I(ae.af+1,2),"%M":ae=>I(ae.pg,2),"%n":()=>`
`,"%p":ae=>0<=ae.$e&&12>ae.$e?"AM":"PM","%S":ae=>I(ae.qg,2),"%t":()=>"	","%u":ae=>ae.ie||7,"%U":ae=>I(Math.floor((ae.pe+7-ae.ie)/7),2),"%V":ae=>{var He=Math.floor((ae.pe+7-(ae.ie+6)%7)/7);if(2>=(ae.ie+371-ae.pe-2)%7&&He++,He)He==53&&(tt=(ae.ie+371-ae.pe)%7,tt==4||tt==3&&_r(ae.qe)||(He=1));else{He=52;var tt=(ae.ie+7-ae.pe-1)%7;(tt==4||tt==5&&_r(ae.qe%400-1))&&He++}return I(He,2)},"%w":ae=>ae.ie,"%W":ae=>I(Math.floor((ae.pe+7-(ae.ie+6)%7)/7),2),"%y":ae=>(ae.qe+1900).toString().substring(2),"%Y":ae=>ae.qe+1900,"%z":ae=>{ae=ae.og;var He=0<=ae;return ae=Math.abs(ae)/60,(He?"+":"-")+("0000"+(ae/60*100+ae%60)).slice(-4)},"%Z":ae=>ae.rg,"%%":()=>"%"},m=m.replace(/%%/g,"\0\0");for(ve in Y)m.includes(ve)&&(m=m.replace(new RegExp(ve,"g"),Y[ve](x)));return m=m.replace(/\0\0/g,"%"),ve=ur(m),ve.length>f?0:(le.set(ve,s),ve.length-1)};yr=n.InternalError=class extends Error{constructor(s){super(s),this.name="InternalError"}};for(var Xs=Array(256),ko=0;256>ko;++ko)Xs[ko]=String.fromCharCode(ko);nn=Xs,Bt=n.BindingError=class extends Error{constructor(s){super(s),this.name="BindingError"}},vr.prototype.isAliasOf=function(s){if(!(this instanceof vr&&s instanceof vr))return!1;var f=this.Kd.Wd.Qd,m=this.Kd.Sd,x=s.Kd.Wd.Qd;for(s=s.Kd.Sd;f.ae;)m=f.Pe(m),f=f.ae;for(;x.ae;)s=x.Pe(s),x=x.ae;return f===x&&m===s},vr.prototype.clone=function(){if(this.Kd.Sd||xi(this),this.Kd.Ne)return this.Kd.count.value+=1,this;var s=ri,f=Object,m=f.create,x=Object.getPrototypeOf(this),A=this.Kd;return s=s(m.call(f,x,{Kd:{value:{count:A.count,Fe:A.Fe,Ne:A.Ne,Sd:A.Sd,Wd:A.Wd,Zd:A.Zd,fe:A.fe}}})),s.Kd.count.value+=1,s.Kd.Fe=!1,s},vr.prototype.delete=function(){this.Kd.Sd||xi(this),this.Kd.Fe&&!this.Kd.Ne&&vt("Object already scheduled for deletion"),Yi(this),Ki(this.Kd),this.Kd.Ne||(this.Kd.Zd=void 0,this.Kd.Sd=void 0)},vr.prototype.isDeleted=function(){return!this.Kd.Sd},vr.prototype.deleteLater=function(){return this.Kd.Sd||xi(this),this.Kd.Fe&&!this.Kd.Ne&&vt("Object already scheduled for deletion"),Wr.push(this),Wr.length===1&&Hr&&Hr(Si),this.Kd.Fe=!0,this},n.getInheritedInstanceCount=function(){return Object.keys(Ei).length},n.getLiveInheritedInstances=function(){var s=[],f;for(f in Ei)Ei.hasOwnProperty(f)&&s.push(Ei[f]);return s},n.flushPendingDeletes=Si,n.setDelayFunction=function(s){Hr=s,Wr.length&&Hr&&Hr(Si)},sr.prototype.Tf=function(s){return this.wf&&(s=this.wf(s)),s},sr.prototype.pf=function(s){this.le&&this.le(s)},sr.prototype.argPackAdvance=8,sr.prototype.readValueFromPointer=An,sr.prototype.deleteObject=function(s){s!==null&&s.delete()},sr.prototype.fromWireType=function(s){function f(){return this.We?Ji(this.Qd.Ge,{Wd:this.cg,Sd:m,fe:this,Zd:s}):Ji(this.Qd.Ge,{Wd:this,Sd:s})}var m=this.Tf(s);if(!m)return this.pf(s),null;var x=$s(this.Qd,m);if(x!==void 0)return x.Kd.count.value===0?(x.Kd.Sd=m,x.Kd.Zd=s,x.clone()):(x=x.clone(),this.pf(s),x);if(x=this.Qd.Sf(m),x=qi[x],!x)return f.call(this);x=this.Ve?x.Jf:x.pointerType;var A=Qi(m,this.Qd,x.Qd);return A===null?f.call(this):this.We?Ji(x.Qd.Ge,{Wd:x,Sd:A,fe:this,Zd:s}):Ji(x.Qd.Ge,{Wd:x,Sd:A})},Qt=n.UnboundTypeError=function(s,f){var m=Zi(f,function(x){this.name=f,this.message=x,x=Error(x).stack,x!==void 0&&(this.stack=this.toString()+`
`+x.replace(/^Error(:[^\n]*)?\n/,""))});return m.prototype=Object.create(s.prototype),m.prototype.constructor=m,m.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},m}(Error,"UnboundTypeError"),Object.assign(ts.prototype,{get(s){return this.ke[s]},has(s){return this.ke[s]!==void 0},Bf(s){var f=this.tf.pop()||this.ke.length;return this.ke[f]=s,f},Cf(s){this.ke[s]=void 0,this.tf.push(s)}}),_n.ke.push({value:void 0},{value:null},{value:!0},{value:!1}),_n.He=_n.ke.length,n.count_emval_handles=function(){for(var s=0,f=_n.He;f<_n.ke.length;++f)_n.ke[f]!==void 0&&++s;return s};for(var J,Vn=0;32>Vn;++Vn)Pt.push(Array(Vn));var du=new Float32Array(288);for(Vn=0;288>Vn;++Vn)zt[Vn]=du.subarray(0,Vn+1);var qn=new Int32Array(288);for(Vn=0;288>Vn;++Vn)Pi[Vn]=qn.subarray(0,Vn+1);var cl={U:function(){return 0},Bb:()=>{},Db:function(){return 0},yb:()=>{},zb:()=>{},V:function(){},Ab:()=>{},E:function(s){var f=wn[s];delete wn[s];var m=f.jf,x=f.le,A=f.sf,I=A.map(z=>z.Wf).concat(A.map(z=>z.gg));st([s],I,z=>{var F={};return A.forEach(($,Y)=>{var ve=z[Y],Ce=$.Uf,Ue=$.Vf,ae=z[Y+A.length],He=$.fg,tt=$.hg;F[$.Pf]={read:rt=>ve.fromWireType(Ce(Ue,rt)),write:(rt,Xn)=>{var cn=[];He(tt,rt,ae.toWireType(cn,Xn)),Ht(cn)}}}),[{name:f.name,fromWireType:function($){var Y={},ve;for(ve in F)Y[ve]=F[ve].read($);return x($),Y},toWireType:function($,Y){for(var ve in F)if(!(ve in Y))throw new TypeError(`Missing field: "${ve}"`);var Ce=m();for(ve in F)F[ve].write(Ce,Y[ve]);return $!==null&&$.push(x,Ce),Ce},argPackAdvance:8,readValueFromPointer:An,ee:x}]})},qb:function(){},Hb:function(s,f,m,x,A){var I=_t(m);f=bt(f),xn(s,{name:f,fromWireType:function(z){return!!z},toWireType:function(z,F){return F?x:A},argPackAdvance:8,readValueFromPointer:function(z){if(m===1)var F=le;else if(m===2)F=de;else if(m===4)F=R;else throw new TypeError("Unknown boolean type size: "+f);return this.fromWireType(F[z>>I])},ee:null})},p:function(s,f,m,x,A,I,z,F,$,Y,ve,Ce,Ue){ve=bt(ve),I=mn(A,I),F&&(F=mn(z,F)),Y&&(Y=mn($,Y)),Ue=mn(Ce,Ue);var ae=Zo(ve);oi(ae,function(){Cn(`Cannot construct ${ve} due to unbound types`,[x])}),st([s,f,m],x?[x]:[],function(He){if(He=He[0],x)var tt=He.Qd,rt=tt.Ge;else rt=vr.prototype;He=Zi(ae,function(){if(Object.getPrototypeOf(this)!==Xn)throw new Bt("Use 'new' to construct "+ve);if(cn.oe===void 0)throw new Bt(ve+" has no accessible constructor");var cr=cn.oe[arguments.length];if(cr===void 0)throw new Bt(`Tried to invoke ctor of ${ve} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(cn.oe).toString()}) parameters instead!`);return cr.apply(this,arguments)});var Xn=Object.create(rt,{constructor:{value:He}});He.prototype=Xn;var cn=new eo(ve,He,Xn,Ue,tt,I,F,Y);cn.ae&&(cn.ae.Qe===void 0&&(cn.ae.Qe=[]),cn.ae.Qe.push(cn)),tt=new sr(ve,cn,!0,!1,!1),rt=new sr(ve+"*",cn,!1,!1,!1);var ao=new sr(ve+" const*",cn,!1,!0,!1);return qi[s]={pointerType:rt,Jf:ao},Kt(ae,He),[tt,rt,ao]})},i:function(s,f,m,x,A,I,z){var F=zr(m,x);f=bt(f),I=mn(A,I),st([],[s],function($){function Y(){Cn(`Cannot call ${ve} due to unbound types`,F)}$=$[0];var ve=`${$.name}.${f}`;f.startsWith("@@")&&(f=Symbol[f.substring(2)]);var Ce=$.Qd.constructor;return Ce[f]===void 0?(Y.De=m-1,Ce[f]=Y):(ii(Ce,f,ve),Ce[f].Yd[m-1]=Y),st([],F,function(Ue){if(Ue=[Ue[0],null].concat(Ue.slice(1)),Ue=Rn(ve,Ue,null,I,z),Ce[f].Yd===void 0?(Ue.De=m-1,Ce[f]=Ue):Ce[f].Yd[m-1]=Ue,$.Qd.Qe)for(const ae of $.Qd.Qe)ae.constructor.hasOwnProperty(f)||(ae.constructor[f]=Ue);return[]}),[]})},G:function(s,f,m,x,A,I){var z=zr(f,m);A=mn(x,A),st([],[s],function(F){F=F[0];var $=`constructor ${F.name}`;if(F.Qd.oe===void 0&&(F.Qd.oe=[]),F.Qd.oe[f-1]!==void 0)throw new Bt(`Cannot register multiple constructors with identical number of parameters (${f-1}) for class '${F.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return F.Qd.oe[f-1]=()=>{Cn(`Cannot construct ${F.name} due to unbound types`,z)},st([],z,function(Y){return Y.splice(1,0,null),F.Qd.oe[f-1]=Rn($,Y,null,A,I),[]}),[]})},b:function(s,f,m,x,A,I,z,F){var $=zr(m,x);f=bt(f),I=mn(A,I),st([],[s],function(Y){function ve(){Cn(`Cannot call ${Ce} due to unbound types`,$)}Y=Y[0];var Ce=`${Y.name}.${f}`;f.startsWith("@@")&&(f=Symbol[f.substring(2)]),F&&Y.Qd.dg.push(f);var Ue=Y.Qd.Ge,ae=Ue[f];return ae===void 0||ae.Yd===void 0&&ae.className!==Y.name&&ae.De===m-2?(ve.De=m-2,ve.className=Y.name,Ue[f]=ve):(ii(Ue,f,Ce),Ue[f].Yd[m-2]=ve),st([],$,function(He){return He=Rn(Ce,He,Y,I,z),Ue[f].Yd===void 0?(He.De=m-2,Ue[f]=He):Ue[f].Yd[m-2]=He,[]}),[]})},v:function(s,f,m){s=bt(s),st([],[f],function(x){return x=x[0],n[s]=x.fromWireType(m),[]})},Gb:function(s,f){f=bt(f),xn(s,{name:f,fromWireType:function(m){var x=On(m);return Ci(m),x},toWireType:function(m,x){return zn(x)},argPackAdvance:8,readValueFromPointer:An,ee:null})},l:function(s,f,m,x){function A(){}m=_t(m),f=bt(f),A.values={},xn(s,{name:f,constructor:A,fromWireType:function(I){return this.constructor.values[I]},toWireType:function(I,z){return z.value},argPackAdvance:8,readValueFromPointer:Ds(f,m,x),ee:null}),oi(f,A)},d:function(s,f,m){var x=_i(s,"enum");f=bt(f),s=x.constructor,x=Object.create(x.constructor.prototype,{value:{value:m},constructor:{value:Zi(`${x.name}_${f}`,function(){})}}),s.values[m]=x,s[f]=x},X:function(s,f,m){m=_t(m),f=bt(f),xn(s,{name:f,fromWireType:function(x){return x},toWireType:function(x,A){return A},argPackAdvance:8,readValueFromPointer:ns(f,m),ee:null})},z:function(s,f,m,x,A,I){var z=zr(f,m);s=bt(s),A=mn(x,A),oi(s,function(){Cn(`Cannot call ${s} due to unbound types`,z)},f-1),st([],z,function(F){return F=[F[0],null].concat(F.slice(1)),Kt(s,Rn(s,F,null,A,I),f-1),[]})},I:function(s,f,m,x,A){f=bt(f),A===-1&&(A=4294967295),A=_t(m);var I=F=>F;if(x===0){var z=32-8*m;I=F=>F<<z>>>z}m=f.includes("unsigned")?function(F,$){return $>>>0}:function(F,$){return $},xn(s,{name:f,fromWireType:I,toWireType:m,argPackAdvance:8,readValueFromPointer:el(f,A,x!==0),ee:null})},w:function(s,f,m){function x(I){I>>=2;var z=X;return new A(z.buffer,z[I+1],z[I])}var A=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][f];m=bt(m),xn(s,{name:m,fromWireType:x,argPackAdvance:8,readValueFromPointer:x},{Xf:!0})},s:function(s,f,m,x,A,I,z,F,$,Y,ve,Ce){m=bt(m),I=mn(A,I),F=mn(z,F),Y=mn($,Y),Ce=mn(ve,Ce),st([s],[f],function(Ue){return Ue=Ue[0],[new sr(m,Ue.Qd,!1,!1,!0,Ue,x,I,F,Y,Ce)]})},W:function(s,f){f=bt(f);var m=f==="std::string";xn(s,{name:f,fromWireType:function(x){var A=X[x>>2],I=x+4;if(m)for(var z=I,F=0;F<=A;++F){var $=I+F;if(F==A||ne[$]==0){if(z=z?Wt(ne,z,$-z):"",Y===void 0)var Y=z;else Y+="\0",Y+=z;z=$+1}}else{for(Y=Array(A),F=0;F<A;++F)Y[F]=String.fromCharCode(ne[I+F]);Y=Y.join("")}return jr(x),Y},toWireType:function(x,A){A instanceof ArrayBuffer&&(A=new Uint8Array(A));var I=typeof A=="string";I||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int8Array||vt("Cannot pass non-string to std::string");var z=m&&I?ar(A):A.length,F=Nn(4+z+1),$=F+4;if(X[F>>2]=z,m&&I)Fn(A,ne,$,z+1);else if(I)for(I=0;I<z;++I){var Y=A.charCodeAt(I);255<Y&&(jr($),vt("String has UTF-16 code units that do not fit in 8 bits")),ne[$+I]=Y}else for(I=0;I<z;++I)ne[$+I]=A[I];return x!==null&&x.push(jr,F),F},argPackAdvance:8,readValueFromPointer:An,ee:function(x){jr(x)}})},O:function(s,f,m){if(m=bt(m),f===2)var x=tl,A=Ka,I=Qa,z=()=>we,F=1;else f===4&&(x=qa,A=nl,I=rl,z=()=>X,F=2);xn(s,{name:m,fromWireType:function($){for(var Y=X[$>>2],ve=z(),Ce,Ue=$+4,ae=0;ae<=Y;++ae){var He=$+4+ae*f;(ae==Y||ve[He>>F]==0)&&(Ue=x(Ue,He-Ue),Ce===void 0?Ce=Ue:(Ce+="\0",Ce+=Ue),Ue=He+f)}return jr($),Ce},toWireType:function($,Y){typeof Y!="string"&&vt(`Cannot pass non-string to C++ string type ${m}`);var ve=I(Y),Ce=Nn(4+ve+f);return X[Ce>>2]=ve>>F,A(Y,Ce+4,ve+f),$!==null&&$.push(jr,Ce),Ce},argPackAdvance:8,readValueFromPointer:An,ee:function($){jr($)}})},F:function(s,f,m,x,A,I){wn[s]={name:bt(f),jf:mn(m,x),le:mn(A,I),sf:[]}},f:function(s,f,m,x,A,I,z,F,$,Y){wn[s].sf.push({Pf:bt(f),Wf:m,Uf:mn(x,A),Vf:I,gg:z,fg:mn(F,$),hg:Y})},Ib:function(s,f){f=bt(f),xn(s,{Zf:!0,name:f,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},Fb:()=>!0,ub:()=>{throw 1/0},C:function(s,f,m){s=On(s),f=_i(f,"emval::as");var x=[],A=zn(x);return X[m>>2]=A,f.toWireType(x,s)},K:function(s,f,m,x,A){s=_o[s],f=On(f),m=rs(m);var I=[];return X[x>>2]=zn(I),s(f,m,I,A)},r:function(s,f,m,x){s=_o[s],f=On(f),m=rs(m),s(f,m,null,x)},c:Ci,J:function(s){return s===0?zn(Bs()):(s=rs(s),zn(Bs()[s]))},q:function(s,f){var m=Gs(s,f),x=m[0];f=x.name+"_$"+m.slice(1).map(function(z){return z.name}).join("_")+"$";var A=Za[f];if(A!==void 0)return A;var I=Array(s-1);return A=Ja((z,F,$,Y)=>{for(var ve=0,Ce=0;Ce<s-1;++Ce)I[Ce]=m[Ce+1].readValueFromPointer(Y+ve),ve+=m[Ce+1].argPackAdvance;for(z=z[F].apply(z,I),Ce=0;Ce<s-1;++Ce)m[Ce+1].Mf&&m[Ce+1].Mf(I[Ce]);if(!x.Zf)return x.toWireType($,z)}),Za[f]=A},B:function(s,f){return s=On(s),f=On(f),zn(s[f])},n:function(s){4<s&&(_n.get(s).xf+=1)},L:function(s,f,m,x){s=On(s);var A=To[f];return A||(A=eu(f),To[f]=A),A(s,m,x)},D:function(){return zn([])},e:function(s){return zn(rs(s))},x:function(){return zn({})},kb:function(s){return s=On(s),!s},A:function(s){var f=On(s);Ht(f),Ci(s)},g:function(s,f,m){s=On(s),f=On(f),m=On(m),s[f]=m},h:function(s,f){return s=_i(s,"_emval_take_value"),s=s.readValueFromPointer(f),zn(s)},nb:function(){return-52},ob:function(){},a:()=>{Le("")},Eb:()=>performance.now(),vb:s=>{var f=ne.length;if(s>>>=0,2147483648<s)return!1;for(var m=1;4>=m;m*=2){var x=f*(1+.2/m);x=Math.min(x,s+100663296);var A=Math;x=Math.max(s,x);e:{A=A.min.call(A,2147483648,x+(65536-x%65536)%65536)-Q.buffer.byteLength+65535>>>16;try{Q.grow(A),ue();var I=1;break e}catch{}I=void 0}if(I)return!0}return!1},lb:function(){return ut?ut.handle:0},wb:(s,f)=>{var m=0;return ou().forEach(function(x,A){var I=f+m;for(A=X[s+4*A>>2]=I,I=0;I<x.length;++I)le[A++>>0]=x.charCodeAt(I);le[A>>0]=0,m+=x.length+1}),0},xb:(s,f)=>{var m=ou();X[s>>2]=m.length;var x=0;return m.forEach(function(A){x+=A.length+1}),X[f>>2]=x,0},Jb:s=>{l(s,new an(s))},N:()=>52,mb:function(){return 52},Cb:()=>52,pb:function(){return 70},T:(s,f,m,x)=>{for(var A=0,I=0;I<m;I++){var z=X[f>>2],F=X[f+4>>2];f+=8;for(var $=0;$<F;$++){var Y=ne[z+$],ve=ul[s];Y===0||Y===10?((s===1?k:N)(Wt(ve,0)),ve.length=0):ve.push(Y)}A+=F}return X[x>>2]=A,0},aa:function(s){J.activeTexture(s)},ba:function(s,f){J.attachShader(wr[s],Tn[f])},ca:function(s,f,m){J.bindAttribLocation(wr[s],f,m?Wt(ne,m):"")},da:function(s,f){s==35051?J.ff=f:s==35052&&(J.Ee=f),J.bindBuffer(s,no[f])},$:function(s,f){J.bindFramebuffer(s,Lo[f])},fc:function(s,f){J.bindRenderbuffer(s,Ti[f])},Rb:function(s,f){J.bindSampler(s,Li[f])},ea:function(s,f){J.bindTexture(s,jn[f])},zc:su,Cc:su,fa:function(s,f,m,x){J.blendColor(s,f,m,x)},ga:function(s){J.blendEquation(s)},ha:function(s,f){J.blendFunc(s,f)},$b:function(s,f,m,x,A,I,z,F,$,Y){J.blitFramebuffer(s,f,m,x,A,I,z,F,$,Y)},ia:function(s,f,m,x){2<=ut.version?m&&f?J.bufferData(s,ne,x,m,f):J.bufferData(s,f,x):J.bufferData(s,m?ne.subarray(m,m+f):f,x)},ja:function(s,f,m,x){2<=ut.version?m&&J.bufferSubData(s,f,ne,x,m):J.bufferSubData(s,f,ne.subarray(x,x+m))},gc:function(s){return J.checkFramebufferStatus(s)},R:function(s){J.clear(s)},_:function(s,f,m,x){J.clearColor(s,f,m,x)},S:function(s){J.clearStencil(s)},sb:function(s,f,m,x){return J.clientWaitSync(ui[s],f,(m>>>0)+4294967296*x)},ka:function(s,f,m,x){J.colorMask(!!s,!!f,!!m,!!x)},la:function(s){J.compileShader(Tn[s])},ma:function(s,f,m,x,A,I,z,F){2<=ut.version?J.Ee||!z?J.compressedTexImage2D(s,f,m,x,A,I,z,F):J.compressedTexImage2D(s,f,m,x,A,I,ne,F,z):J.compressedTexImage2D(s,f,m,x,A,I,F?ne.subarray(F,F+z):null)},na:function(s,f,m,x,A,I,z,F,$){2<=ut.version?J.Ee||!F?J.compressedTexSubImage2D(s,f,m,x,A,I,z,F,$):J.compressedTexSubImage2D(s,f,m,x,A,I,z,ne,$,F):J.compressedTexSubImage2D(s,f,m,x,A,I,z,$?ne.subarray($,$+F):null)},Zb:function(s,f,m,x,A){J.copyBufferSubData(s,f,m,x,A)},oa:function(s,f,m,x,A,I,z,F){J.copyTexSubImage2D(s,f,m,x,A,I,z,F)},pa:function(){var s=ro(wr),f=J.createProgram();return f.name=s,f.Ze=f.Xe=f.Ye=0,f.lf=1,wr[s]=f,s},qa:function(s){var f=ro(Tn);return Tn[f]=J.createShader(s),f},ra:function(s){J.cullFace(s)},sa:function(s,f){for(var m=0;m<s;m++){var x=R[f+4*m>>2],A=no[x];A&&(J.deleteBuffer(A),A.name=0,no[x]=null,x==J.ff&&(J.ff=0),x==J.Ee&&(J.Ee=0))}},hc:function(s,f){for(var m=0;m<s;++m){var x=R[f+4*m>>2],A=Lo[x];A&&(J.deleteFramebuffer(A),A.name=0,Lo[x]=null)}},ta:function(s){if(s){var f=wr[s];f?(J.deleteProgram(f),f.name=0,wr[s]=null):$t(1281)}},ic:function(s,f){for(var m=0;m<s;m++){var x=R[f+4*m>>2],A=Ti[x];A&&(J.deleteRenderbuffer(A),A.name=0,Ti[x]=null)}},Sb:function(s,f){for(var m=0;m<s;m++){var x=R[f+4*m>>2],A=Li[x];A&&(J.deleteSampler(A),A.name=0,Li[x]=null)}},ua:function(s){if(s){var f=Tn[s];f?(J.deleteShader(f),Tn[s]=null):$t(1281)}},_b:function(s){if(s){var f=ui[s];f?(J.deleteSync(f),f.name=0,ui[s]=null):$t(1281)}},va:function(s,f){for(var m=0;m<s;m++){var x=R[f+4*m>>2],A=jn[x];A&&(J.deleteTexture(A),A.name=0,jn[x]=null)}},Ac:au,Dc:au,wa:function(s){J.depthMask(!!s)},xa:function(s){J.disable(s)},ya:function(s){J.disableVertexAttribArray(s)},za:function(s,f,m){J.drawArrays(s,f,m)},xc:function(s,f,m,x){J.drawArraysInstanced(s,f,m,x)},vc:function(s,f,m,x,A){J.qf.drawArraysInstancedBaseInstanceWEBGL(s,f,m,x,A)},tc:function(s,f){for(var m=Pt[s],x=0;x<s;x++)m[x]=R[f+4*x>>2];J.drawBuffers(m)},Aa:Rt,yc:function(s,f,m,x,A){J.drawElementsInstanced(s,f,m,x,A)},wc:function(s,f,m,x,A,I,z){J.qf.drawElementsInstancedBaseVertexBaseInstanceWEBGL(s,f,m,x,A,I,z)},nc:function(s,f,m,x,A,I){Rt(s,x,A,I)},Ba:function(s){J.enable(s)},Ca:function(s){J.enableVertexAttribArray(s)},Xb:function(s,f){return(s=J.fenceSync(s,f))?(f=ro(ui),s.name=f,ui[f]=s,f):0},Da:function(){J.finish()},Ea:function(){J.flush()},jc:function(s,f,m,x){J.framebufferRenderbuffer(s,f,m,Ti[x])},kc:function(s,f,m,x,A){J.framebufferTexture2D(s,f,m,jn[x],A)},Fa:function(s){J.frontFace(s)},Ga:function(s,f){io(s,f,"createBuffer",no)},lc:function(s,f){io(s,f,"createFramebuffer",Lo)},mc:function(s,f){io(s,f,"createRenderbuffer",Ti)},Tb:function(s,f){io(s,f,"createSampler",Li)},Ha:function(s,f){io(s,f,"createTexture",jn)},Bc:uu,Ec:uu,bc:function(s){J.generateMipmap(s)},Ia:function(s,f,m){m?R[m>>2]=J.getBufferParameter(s,f):$t(1281)},Ja:function(){var s=J.getError()||is;return is=0,s},Ka:function(s,f){cu(s,f,2)},cc:function(s,f,m,x){s=J.getFramebufferAttachmentParameter(s,f,m),(s instanceof WebGLRenderbuffer||s instanceof WebGLTexture)&&(s=s.name|0),R[x>>2]=s},M:function(s,f){cu(s,f,0)},La:function(s,f,m,x){s=J.getProgramInfoLog(wr[s]),s===null&&(s="(unknown error)"),f=0<f&&x?Fn(s,ne,x,f):0,m&&(R[m>>2]=f)},Ma:function(s,f,m){if(m)if(s>=Us)$t(1281);else if(s=wr[s],f==35716)s=J.getProgramInfoLog(s),s===null&&(s="(unknown error)"),R[m>>2]=s.length+1;else if(f==35719){if(!s.Ze)for(f=0;f<J.getProgramParameter(s,35718);++f)s.Ze=Math.max(s.Ze,J.getActiveUniform(s,f).name.length+1);R[m>>2]=s.Ze}else if(f==35722){if(!s.Xe)for(f=0;f<J.getProgramParameter(s,35721);++f)s.Xe=Math.max(s.Xe,J.getActiveAttrib(s,f).name.length+1);R[m>>2]=s.Xe}else if(f==35381){if(!s.Ye)for(f=0;f<J.getProgramParameter(s,35382);++f)s.Ye=Math.max(s.Ye,J.getActiveUniformBlockName(s,f).length+1);R[m>>2]=s.Ye}else R[m>>2]=J.getProgramParameter(s,f);else $t(1281)},dc:function(s,f,m){m?R[m>>2]=J.getRenderbufferParameter(s,f):$t(1281)},Na:function(s,f,m,x){s=J.getShaderInfoLog(Tn[s]),s===null&&(s="(unknown error)"),f=0<f&&x?Fn(s,ne,x,f):0,m&&(R[m>>2]=f)},Ob:function(s,f,m,x){s=J.getShaderPrecisionFormat(s,f),R[m>>2]=s.rangeMin,R[m+4>>2]=s.rangeMax,R[x>>2]=s.precision},Oa:function(s,f,m){m?f==35716?(s=J.getShaderInfoLog(Tn[s]),s===null&&(s="(unknown error)"),R[m>>2]=s?s.length+1:0):f==35720?(s=J.getShaderSource(Tn[s]),R[m>>2]=s?s.length+1:0):R[m>>2]=J.getShaderParameter(Tn[s],f):$t(1281)},Q:function(s){var f=Ws[s];if(!f){switch(s){case 7939:f=J.getSupportedExtensions()||[],f=f.concat(f.map(function(x){return"GL_"+x})),f=Io(f.join(" "));break;case 7936:case 7937:case 37445:case 37446:(f=J.getParameter(s))||$t(1280),f=f&&Io(f);break;case 7938:f=J.getParameter(7938),f=2<=ut.version?"OpenGL ES 3.0 ("+f+")":"OpenGL ES 2.0 ("+f+")",f=Io(f);break;case 35724:f=J.getParameter(35724);var m=f.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);m!==null&&(m[1].length==3&&(m[1]+="0"),f="OpenGL ES GLSL ES "+m[1]+" ("+f+")"),f=Io(f);break;default:$t(1280)}Ws[s]=f}return f},jb:function(s,f){if(2>ut.version)return $t(1282),0;var m=Hs[s];if(m)return 0>f||f>=m.length?($t(1281),0):m[f];switch(s){case 7939:return m=J.getSupportedExtensions()||[],m=m.concat(m.map(function(x){return"GL_"+x})),m=m.map(function(x){return Io(x)}),m=Hs[s]=m,0>f||f>=m.length?($t(1281),0):m[f];default:return $t(1280),0}},Pa:function(s,f){if(f=f?Wt(ne,f):"",s=wr[s]){var m=s,x=m.Oe,A=m.zf,I;if(!x)for(m.Oe=x={},m.yf={},I=0;I<J.getProgramParameter(m,35718);++I){var z=J.getActiveUniform(m,I),F=z.name;z=z.size;var $=lu(F);$=0<$?F.slice(0,$):F;var Y=m.lf;for(m.lf+=z,A[$]=[z,Y],F=0;F<z;++F)x[Y]=F,m.yf[Y++]=$}if(m=s.Oe,x=0,A=f,I=lu(f),0<I&&(x=parseInt(f.slice(I+1))>>>0,A=f.slice(0,I)),(A=s.zf[A])&&x<A[0]&&(x+=A[1],m[x]=m[x]||J.getUniformLocation(s,f)))return x}else $t(1281);return-1},Pb:function(s,f,m){for(var x=Pt[f],A=0;A<f;A++)x[A]=R[m+4*A>>2];J.invalidateFramebuffer(s,x)},Qb:function(s,f,m,x,A,I,z){for(var F=Pt[f],$=0;$<f;$++)F[$]=R[m+4*$>>2];J.invalidateSubFramebuffer(s,F,x,A,I,z)},Yb:function(s){return J.isSync(ui[s])},Qa:function(s){return(s=jn[s])?J.isTexture(s):0},Ra:function(s){J.lineWidth(s)},Sa:function(s){s=wr[s],J.linkProgram(s),s.Oe=0,s.zf={}},rc:function(s,f,m,x,A,I){J.vf.multiDrawArraysInstancedBaseInstanceWEBGL(s,R,f>>2,R,m>>2,R,x>>2,X,A>>2,I)},sc:function(s,f,m,x,A,I,z,F){J.vf.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(s,R,f>>2,m,R,x>>2,R,A>>2,R,I>>2,X,z>>2,F)},Ta:function(s,f){s==3317&&(zs=f),J.pixelStorei(s,f)},uc:function(s){J.readBuffer(s)},Ua:function(s,f,m,x,A,I,z){if(2<=ut.version)if(J.ff)J.readPixels(s,f,m,x,A,I,z);else{var F=os(I);J.readPixels(s,f,m,x,A,I,F,z>>31-Math.clz32(F.BYTES_PER_ELEMENT))}else(z=ss(I,A,m,x,z))?J.readPixels(s,f,m,x,A,I,z):$t(1280)},ec:function(s,f,m,x){J.renderbufferStorage(s,f,m,x)},ac:function(s,f,m,x,A){J.renderbufferStorageMultisample(s,f,m,x,A)},Ub:function(s,f,m){J.samplerParameterf(Li[s],f,m)},Vb:function(s,f,m){J.samplerParameteri(Li[s],f,m)},Wb:function(s,f,m){J.samplerParameteri(Li[s],f,R[m>>2])},Va:function(s,f,m,x){J.scissor(s,f,m,x)},Wa:function(s,f,m,x){for(var A="",I=0;I<f;++I){var z=x?R[x+4*I>>2]:-1,F=R[m+4*I>>2];z=F?Wt(ne,F,0>z?void 0:z):"",A+=z}J.shaderSource(Tn[s],A)},Xa:function(s,f,m){J.stencilFunc(s,f,m)},Ya:function(s,f,m,x){J.stencilFuncSeparate(s,f,m,x)},Za:function(s){J.stencilMask(s)},_a:function(s,f){J.stencilMaskSeparate(s,f)},$a:function(s,f,m){J.stencilOp(s,f,m)},ab:function(s,f,m,x){J.stencilOpSeparate(s,f,m,x)},bb:function(s,f,m,x,A,I,z,F,$){if(2<=ut.version)if(J.Ee)J.texImage2D(s,f,m,x,A,I,z,F,$);else if($){var Y=os(F);J.texImage2D(s,f,m,x,A,I,z,F,Y,$>>31-Math.clz32(Y.BYTES_PER_ELEMENT))}else J.texImage2D(s,f,m,x,A,I,z,F,null);else J.texImage2D(s,f,m,x,A,I,z,F,$?ss(F,z,x,A,$):null)},cb:function(s,f,m){J.texParameterf(s,f,m)},db:function(s,f,m){J.texParameterf(s,f,V[m>>2])},eb:function(s,f,m){J.texParameteri(s,f,m)},fb:function(s,f,m){J.texParameteri(s,f,R[m>>2])},oc:function(s,f,m,x,A){J.texStorage2D(s,f,m,x,A)},gb:function(s,f,m,x,A,I,z,F,$){if(2<=ut.version)if(J.Ee)J.texSubImage2D(s,f,m,x,A,I,z,F,$);else if($){var Y=os(F);J.texSubImage2D(s,f,m,x,A,I,z,F,Y,$>>31-Math.clz32(Y.BYTES_PER_ELEMENT))}else J.texSubImage2D(s,f,m,x,A,I,z,F,null);else Y=null,$&&(Y=ss(F,z,A,I,$)),J.texSubImage2D(s,f,m,x,A,I,z,F,Y)},hb:function(s,f){J.uniform1f(At(s),f)},ib:function(s,f,m){if(2<=ut.version)f&&J.uniform1fv(At(s),V,m>>2,f);else{if(288>=f)for(var x=zt[f-1],A=0;A<f;++A)x[A]=V[m+4*A>>2];else x=V.subarray(m>>2,m+4*f>>2);J.uniform1fv(At(s),x)}},Zc:function(s,f){J.uniform1i(At(s),f)},_c:function(s,f,m){if(2<=ut.version)f&&J.uniform1iv(At(s),R,m>>2,f);else{if(288>=f)for(var x=Pi[f-1],A=0;A<f;++A)x[A]=R[m+4*A>>2];else x=R.subarray(m>>2,m+4*f>>2);J.uniform1iv(At(s),x)}},$c:function(s,f,m){J.uniform2f(At(s),f,m)},ad:function(s,f,m){if(2<=ut.version)f&&J.uniform2fv(At(s),V,m>>2,2*f);else{if(144>=f)for(var x=zt[2*f-1],A=0;A<2*f;A+=2)x[A]=V[m+4*A>>2],x[A+1]=V[m+(4*A+4)>>2];else x=V.subarray(m>>2,m+8*f>>2);J.uniform2fv(At(s),x)}},Yc:function(s,f,m){J.uniform2i(At(s),f,m)},Xc:function(s,f,m){if(2<=ut.version)f&&J.uniform2iv(At(s),R,m>>2,2*f);else{if(144>=f)for(var x=Pi[2*f-1],A=0;A<2*f;A+=2)x[A]=R[m+4*A>>2],x[A+1]=R[m+(4*A+4)>>2];else x=R.subarray(m>>2,m+8*f>>2);J.uniform2iv(At(s),x)}},Wc:function(s,f,m,x){J.uniform3f(At(s),f,m,x)},Vc:function(s,f,m){if(2<=ut.version)f&&J.uniform3fv(At(s),V,m>>2,3*f);else{if(96>=f)for(var x=zt[3*f-1],A=0;A<3*f;A+=3)x[A]=V[m+4*A>>2],x[A+1]=V[m+(4*A+4)>>2],x[A+2]=V[m+(4*A+8)>>2];else x=V.subarray(m>>2,m+12*f>>2);J.uniform3fv(At(s),x)}},Uc:function(s,f,m,x){J.uniform3i(At(s),f,m,x)},Tc:function(s,f,m){if(2<=ut.version)f&&J.uniform3iv(At(s),R,m>>2,3*f);else{if(96>=f)for(var x=Pi[3*f-1],A=0;A<3*f;A+=3)x[A]=R[m+4*A>>2],x[A+1]=R[m+(4*A+4)>>2],x[A+2]=R[m+(4*A+8)>>2];else x=R.subarray(m>>2,m+12*f>>2);J.uniform3iv(At(s),x)}},Sc:function(s,f,m,x,A){J.uniform4f(At(s),f,m,x,A)},Rc:function(s,f,m){if(2<=ut.version)f&&J.uniform4fv(At(s),V,m>>2,4*f);else{if(72>=f){var x=zt[4*f-1],A=V;m>>=2;for(var I=0;I<4*f;I+=4){var z=m+I;x[I]=A[z],x[I+1]=A[z+1],x[I+2]=A[z+2],x[I+3]=A[z+3]}}else x=V.subarray(m>>2,m+16*f>>2);J.uniform4fv(At(s),x)}},Fc:function(s,f,m,x,A){J.uniform4i(At(s),f,m,x,A)},Gc:function(s,f,m){if(2<=ut.version)f&&J.uniform4iv(At(s),R,m>>2,4*f);else{if(72>=f)for(var x=Pi[4*f-1],A=0;A<4*f;A+=4)x[A]=R[m+4*A>>2],x[A+1]=R[m+(4*A+4)>>2],x[A+2]=R[m+(4*A+8)>>2],x[A+3]=R[m+(4*A+12)>>2];else x=R.subarray(m>>2,m+16*f>>2);J.uniform4iv(At(s),x)}},Hc:function(s,f,m,x){if(2<=ut.version)f&&J.uniformMatrix2fv(At(s),!!m,V,x>>2,4*f);else{if(72>=f)for(var A=zt[4*f-1],I=0;I<4*f;I+=4)A[I]=V[x+4*I>>2],A[I+1]=V[x+(4*I+4)>>2],A[I+2]=V[x+(4*I+8)>>2],A[I+3]=V[x+(4*I+12)>>2];else A=V.subarray(x>>2,x+16*f>>2);J.uniformMatrix2fv(At(s),!!m,A)}},Ic:function(s,f,m,x){if(2<=ut.version)f&&J.uniformMatrix3fv(At(s),!!m,V,x>>2,9*f);else{if(32>=f)for(var A=zt[9*f-1],I=0;I<9*f;I+=9)A[I]=V[x+4*I>>2],A[I+1]=V[x+(4*I+4)>>2],A[I+2]=V[x+(4*I+8)>>2],A[I+3]=V[x+(4*I+12)>>2],A[I+4]=V[x+(4*I+16)>>2],A[I+5]=V[x+(4*I+20)>>2],A[I+6]=V[x+(4*I+24)>>2],A[I+7]=V[x+(4*I+28)>>2],A[I+8]=V[x+(4*I+32)>>2];else A=V.subarray(x>>2,x+36*f>>2);J.uniformMatrix3fv(At(s),!!m,A)}},Jc:function(s,f,m,x){if(2<=ut.version)f&&J.uniformMatrix4fv(At(s),!!m,V,x>>2,16*f);else{if(18>=f){var A=zt[16*f-1],I=V;x>>=2;for(var z=0;z<16*f;z+=16){var F=x+z;A[z]=I[F],A[z+1]=I[F+1],A[z+2]=I[F+2],A[z+3]=I[F+3],A[z+4]=I[F+4],A[z+5]=I[F+5],A[z+6]=I[F+6],A[z+7]=I[F+7],A[z+8]=I[F+8],A[z+9]=I[F+9],A[z+10]=I[F+10],A[z+11]=I[F+11],A[z+12]=I[F+12],A[z+13]=I[F+13],A[z+14]=I[F+14],A[z+15]=I[F+15]}}else A=V.subarray(x>>2,x+64*f>>2);J.uniformMatrix4fv(At(s),!!m,A)}},Kc:function(s){s=wr[s],J.useProgram(s),J.Lf=s},Lc:function(s,f){J.vertexAttrib1f(s,f)},Mc:function(s,f){J.vertexAttrib2f(s,V[f>>2],V[f+4>>2])},Nc:function(s,f){J.vertexAttrib3f(s,V[f>>2],V[f+4>>2],V[f+8>>2])},Oc:function(s,f){J.vertexAttrib4f(s,V[f>>2],V[f+4>>2],V[f+8>>2],V[f+12>>2])},pc:function(s,f){J.vertexAttribDivisor(s,f)},qc:function(s,f,m,x,A){J.vertexAttribIPointer(s,f,m,x,A)},Pc:function(s,f,m,x,A,I){J.vertexAttribPointer(s,f,m,!!x,A,I)},Qc:function(s,f,m,x){J.viewport(s,f,m,x)},rb:function(s,f,m,x){J.waitSync(ui[s],f,(m>>>0)+4294967296*x)},j:Qs,m:jt,k:ll,H:Ks,Lb:pl,Z:pu,Y:qs,P:us,o:fl,y:hl,u:dl,t:ci,Kb:gu,Mb:oo,Nb:hu,tb:(s,f,m,x)=>fu(s,f,m,x)};(function(){function s(m){if(H=m=m.exports,Q=H.bd,ue(),ee=H.ed,j.unshift(H.cd),Me--,n.monitorRunDependencies&&n.monitorRunDependencies(Me),Me==0&&Oe){var x=Oe;Oe=null,x()}return m}var f={a:cl};if(Me++,n.monitorRunDependencies&&n.monitorRunDependencies(Me),n.instantiateWasm)try{return n.instantiateWasm(f,s)}catch(m){N("Module.instantiateWasm callback failed with error: "+m),i(m)}return kn(f,function(m){s(m.instance)}).catch(i),{}})();var Nn=n._malloc=s=>(Nn=n._malloc=H.dd)(s),jr=n._free=s=>(jr=n._free=H.fd)(s),Ys=s=>(Ys=H.gd)(s);n.__embind_initialize_bindings=()=>(n.__embind_initialize_bindings=H.hd)();var Xt=(s,f)=>(Xt=H.id)(s,f),un=()=>(un=H.jd)(),yn=s=>(yn=H.kd)(s);n.dynCall_viji=(s,f,m,x,A)=>(n.dynCall_viji=H.ld)(s,f,m,x,A),n.dynCall_vijiii=(s,f,m,x,A,I,z)=>(n.dynCall_vijiii=H.md)(s,f,m,x,A,I,z),n.dynCall_viiiiij=(s,f,m,x,A,I,z,F)=>(n.dynCall_viiiiij=H.nd)(s,f,m,x,A,I,z,F),n.dynCall_jiiiijiiiii=(s,f,m,x,A,I,z,F,$,Y,ve,Ce)=>(n.dynCall_jiiiijiiiii=H.od)(s,f,m,x,A,I,z,F,$,Y,ve,Ce),n.dynCall_viiij=(s,f,m,x,A,I)=>(n.dynCall_viiij=H.pd)(s,f,m,x,A,I),n.dynCall_jii=(s,f,m)=>(n.dynCall_jii=H.qd)(s,f,m),n.dynCall_vij=(s,f,m,x)=>(n.dynCall_vij=H.rd)(s,f,m,x),n.dynCall_iiij=(s,f,m,x,A)=>(n.dynCall_iiij=H.sd)(s,f,m,x,A),n.dynCall_iiiij=(s,f,m,x,A,I)=>(n.dynCall_iiiij=H.td)(s,f,m,x,A,I),n.dynCall_viij=(s,f,m,x,A)=>(n.dynCall_viij=H.ud)(s,f,m,x,A),n.dynCall_ji=(s,f)=>(n.dynCall_ji=H.vd)(s,f),n.dynCall_iij=(s,f,m,x)=>(n.dynCall_iij=H.wd)(s,f,m,x),n.dynCall_jiiiii=(s,f,m,x,A,I)=>(n.dynCall_jiiiii=H.xd)(s,f,m,x,A,I),n.dynCall_jiiiiii=(s,f,m,x,A,I,z)=>(n.dynCall_jiiiiii=H.yd)(s,f,m,x,A,I,z),n.dynCall_jiiiiji=(s,f,m,x,A,I,z,F)=>(n.dynCall_jiiiiji=H.zd)(s,f,m,x,A,I,z,F),n.dynCall_iijj=(s,f,m,x,A,I)=>(n.dynCall_iijj=H.Ad)(s,f,m,x,A,I),n.dynCall_iiiji=(s,f,m,x,A,I)=>(n.dynCall_iiiji=H.Bd)(s,f,m,x,A,I),n.dynCall_iiji=(s,f,m,x,A)=>(n.dynCall_iiji=H.Cd)(s,f,m,x,A),n.dynCall_iijjiii=(s,f,m,x,A,I,z,F,$)=>(n.dynCall_iijjiii=H.Dd)(s,f,m,x,A,I,z,F,$),n.dynCall_vijjjii=(s,f,m,x,A,I,z,F,$,Y)=>(n.dynCall_vijjjii=H.Ed)(s,f,m,x,A,I,z,F,$,Y),n.dynCall_jiji=(s,f,m,x,A)=>(n.dynCall_jiji=H.Fd)(s,f,m,x,A),n.dynCall_viijii=(s,f,m,x,A,I,z)=>(n.dynCall_viijii=H.Gd)(s,f,m,x,A,I,z),n.dynCall_iiiiij=(s,f,m,x,A,I,z)=>(n.dynCall_iiiiij=H.Hd)(s,f,m,x,A,I,z),n.dynCall_iiiiijj=(s,f,m,x,A,I,z,F,$)=>(n.dynCall_iiiiijj=H.Id)(s,f,m,x,A,I,z,F,$),n.dynCall_iiiiiijj=(s,f,m,x,A,I,z,F,$,Y)=>(n.dynCall_iiiiiijj=H.Jd)(s,f,m,x,A,I,z,F,$,Y);function jt(s,f,m){var x=un();try{return ee.get(s)(f,m)}catch(A){if(yn(x),A!==A+0)throw A;Xt(1,0)}}function ci(s,f,m,x,A){var I=un();try{ee.get(s)(f,m,x,A)}catch(z){if(yn(I),z!==z+0)throw z;Xt(1,0)}}function Ks(s,f,m,x,A){var I=un();try{return ee.get(s)(f,m,x,A)}catch(z){if(yn(I),z!==z+0)throw z;Xt(1,0)}}function ll(s,f,m,x){var A=un();try{return ee.get(s)(f,m,x)}catch(I){if(yn(A),I!==I+0)throw I;Xt(1,0)}}function Qs(s,f){var m=un();try{return ee.get(s)(f)}catch(x){if(yn(m),x!==x+0)throw x;Xt(1,0)}}function fl(s,f){var m=un();try{ee.get(s)(f)}catch(x){if(yn(m),x!==x+0)throw x;Xt(1,0)}}function dl(s,f,m,x){var A=un();try{ee.get(s)(f,m,x)}catch(I){if(yn(A),I!==I+0)throw I;Xt(1,0)}}function hl(s,f,m){var x=un();try{ee.get(s)(f,m)}catch(A){if(yn(x),A!==A+0)throw A;Xt(1,0)}}function hu(s,f,m,x,A,I,z,F,$,Y){var ve=un();try{ee.get(s)(f,m,x,A,I,z,F,$,Y)}catch(Ce){if(yn(ve),Ce!==Ce+0)throw Ce;Xt(1,0)}}function us(s){var f=un();try{ee.get(s)()}catch(m){if(yn(f),m!==m+0)throw m;Xt(1,0)}}function oo(s,f,m,x,A,I,z){var F=un();try{ee.get(s)(f,m,x,A,I,z)}catch($){if(yn(F),$!==$+0)throw $;Xt(1,0)}}function pl(s,f,m,x,A,I){var z=un();try{return ee.get(s)(f,m,x,A,I)}catch(F){if(yn(z),F!==F+0)throw F;Xt(1,0)}}function pu(s,f,m,x,A,I,z){var F=un();try{return ee.get(s)(f,m,x,A,I,z)}catch($){if(yn(F),$!==$+0)throw $;Xt(1,0)}}function gu(s,f,m,x,A,I){var z=un();try{ee.get(s)(f,m,x,A,I)}catch(F){if(yn(z),F!==F+0)throw F;Xt(1,0)}}function qs(s,f,m,x,A,I,z,F,$,Y){var ve=un();try{return ee.get(s)(f,m,x,A,I,z,F,$,Y)}catch(Ce){if(yn(ve),Ce!==Ce+0)throw Ce;Xt(1,0)}}var so;Oe=function s(){so||Js(),so||(Oe=s)};function Js(){function s(){if(!so&&(so=!0,n.calledRun=!0,!ie)){if(pn(j),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;){var f=n.postRun.shift();te.unshift(f)}pn(te)}}if(!(0<Me)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)me();pn(Ee),0<Me||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),s()},1)):s())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return Js(),e.ready}})();const Sa=255,Zp=100,S2=({h:t,s:e,v:n,a:r})=>{const i=t/60,u=e/Zp;let c=n/Zp;const l=Math.floor(i)%6,d=i-Math.floor(i),p=Sa*c*(1-u),w=Sa*c*(1-u*d),v=Sa*c*(1-u*(1-d));c*=Sa;const E={};switch(l){case 0:E.r=c,E.g=v,E.b=p;break;case 1:E.r=w,E.g=c,E.b=p;break;case 2:E.r=p,E.g=c,E.b=v;break;case 3:E.r=p,E.g=w,E.b=c;break;case 4:E.r=v,E.g=p,E.b=c;break;case 5:E.r=c,E.g=p,E.b=w;break}return E.r=Math.round(E.r),E.g=Math.round(E.g),E.b=Math.round(E.b),{...E,a:r}};function E2(t){const e=t.replace("#","");let n=t;/^#?/.test(n)&&e.length===3&&(n=`#${e.charAt(0)}${e.charAt(0)}${e.charAt(1)}${e.charAt(1)}${e.charAt(2)}${e.charAt(2)}`);const[r,i,u=0,c]=n.match(/[A-Za-z0-9]{2}/g).map(l=>parseInt(l,16));return{r,g:i,b:u,a:c?c/Sa:1}}function p0({r:t,g:e,b:n}){const r=t<<16|e<<8|n;return`#${(i=>new Array(7-i.length).join("0")+i)(r.toString(16))}`}function A2(t){return p0(S2(t))}function ok(t,e,n){return A2({h:t,s:e,v:n,a:1})}function sk(t,e,n=180){let r=n;if(r>=360&&(r-=360),r<0&&(r+=360),r=Math.round(r),r===0)return{x0:Math.round(t/2),y0:e,x1:Math.round(t/2),y1:0};if(r===180)return{x0:Math.round(t/2),y0:0,x1:Math.round(t/2),y1:e};if(r===90)return{x0:0,y0:Math.round(e/2),x1:t,y1:Math.round(e/2)};if(r===270)return{x0:t,y0:Math.round(e/2),x1:0,y1:Math.round(e/2)};const i=Math.round(Math.asin(t/Math.sqrt(t**2+e**2))*180/Math.PI);if(r===i)return{x0:0,y0:e,x1:t,y1:0};if(r===180-i)return{x0:0,y0:0,x1:t,y1:e};if(r===180+i)return{x0:t,y0:0,x1:0,y1:e};if(r===360-i)return{x0:t,y0:e,x1:0,y1:0};let u=0,c=0,l=0,d=0;if(r<i||r>180-i&&r<180||r>180&&r<180+i||r>360-i){const p=r*Math.PI/180,w=r<i||r>360-i?e/2:-e/2,v=Math.tan(p)*w,E=r<i||r>180-i&&r<180?t/2-v:-t/2-v,C=Math.sin(p)**2*E;l=v+C,d=w+C/Math.tan(p),u=-l,c=-d}if(r>i&&r<90||r>90&&r<180-i||r>180+i&&r<270||r>270&&r<360-i){const p=(90-r)*Math.PI/180,w=r>i&&r<90||r>90&&r<180-i?t/2:-t/2,v=Math.tan(p)*w,E=r>i&&r<90||r>270&&r<360-i?e/2-v:-e/2-v,C=Math.sin(p)**2*E;l=w+C/Math.tan(p),d=v+C,u=-l,c=-d}return u=Math.round(u+t/2),c=Math.round(e/2-c),l=Math.round(l+t/2),d=Math.round(e/2-d),{x0:u,y0:c,x1:l,y1:d}}class eg{constructor(e){this.r=0,this.g=0,this.b=0,this.a=1,this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}toFigmaArray(){return[this.r/255,this.g/255,this.b/255,this.a]}toFigmaColor(){return{r:this.r/255,g:this.g/255,b:this.b/255,a:this.a}}toHex(){return p0({r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b)})}}function Zt(t){if(typeof t=="string"){const e=E2(t);return typeof e.a!="number"&&(e.a=1),new eg(e)}return new eg({r:t.r*255,g:t.g*255,b:t.b*255,a:t.a})}var Hu,C2=new Uint8Array(16);function _2(){if(!Hu&&(Hu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Hu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hu(C2)}const T2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function L2(t){return typeof t=="string"&&T2.test(t)}var Bn=[];for(var uf=0;uf<256;++uf)Bn.push((uf+256).toString(16).substr(1));function P2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Bn[t[e+0]]+Bn[t[e+1]]+Bn[t[e+2]]+Bn[t[e+3]]+"-"+Bn[t[e+4]]+Bn[t[e+5]]+"-"+Bn[t[e+6]]+Bn[t[e+7]]+"-"+Bn[t[e+8]]+Bn[t[e+9]]+"-"+Bn[t[e+10]]+Bn[t[e+11]]+Bn[t[e+12]]+Bn[t[e+13]]+Bn[t[e+14]]+Bn[t[e+15]]).toLowerCase();if(!L2(n))throw TypeError("Stringified UUID is invalid");return n}function M2(t,e,n){t=t||{};var r=t.random||(t.rng||_2)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,P2(r)}function I2(t,e){throw new Error([t,e.toString()].join(`
`))}function g0(){return M2()}const m0=g0;function cf(t,e,n="color"){let r=1,i="",u=t;if(/^#/.test(t)||(u=""),/^#[0-9a-fA-F]{3}$/.test(t)){const d=t.replace("#","");u=`#${d}${d}`}const c=u.replace("#","").match(/\w{1,2}/g),l=[];return c&&c.forEach((d,p)=>{if(p===3){const v=parseInt(d,16);r=Math.round(v/255*100)/100;return}let w=d;e!=="6hex"&&(w=parseInt(d,16)),l.push(w)}),l.length&&(e==="6hex"&&(i=`#${l.join("")}`),e==="rgb"&&(i=`rgb(${l.join(",")})`),e==="rgba"&&(i=`rgba(${l.join(",")},${r})`)),n==="colorList"?{color:JSON.stringify(l),opacity:r}:{color:i,opacity:r}}function ak(t){if(/xxtool-release\.obs\.cn-north-4\.myhuaweicloud\.com\/pc\/sucai\/parse_xml/.test(t))return`/dev-proxy/xxtool-release${t.split("parse_xml")[1]}`;const e=/data:image\/svg\+xml;charset=utf-8,/;if(e.test(t)){const n=t.replace(e,"");return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`}return t}function k2(){if(typeof window<"u"){const t=navigator.userAgent.toLowerCase();return/msie/.test(t)?"ie":/firefox/.test(t)?"firefox":/chrome/.test(t)?"chrome":/opera/.test(t)?"opera":/safari/.test(t)?"safari":/tencenttraveler/.test(t)||/qqbrowse/.test(t)?"qq":""}return""}function y0(t,e){const n={type:"SOLID",color:Zt(t).toFigmaColor(),blendMode:"NORMAL",visible:!0,opacity:1};return e==null||e(n),n}function Ad(){return{imageSource:"",naturalWidth:0,naturalHeight:0,imageX:0,imageY:0,width:0,height:0,rotate:0,opacity:1,flipH:!1,flipV:!1,imageScaleMode:"FILL"}}function Qo(t){const e=m0();return{id:e,guid:t.generateGUID(),parentId:"",left:0,top:0,width:0,height:0,rotate:0,name:e.slice(0,8),isLocked:!1,visible:!0,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()}}}function v0(t){return{...Qo(t),nodeType:"GROUP",shimmerAtApearance:!1}}function uk(t,e){const n={...Qo(t),nodeType:"SECTION",shimmerAtApearance:!1,fillPaints:[],sectionStatusInfo:{status:"BUILD"}};return e==null||e(n),n}function ck(t,e){const n={...Qo(t),nodeType:"FRAME",shimmerAtApearance:!1,frameMaskDisabled:!1,cornerRadius:0,fillGeometry:[],strokeGeometry:[],strokePaints:[],fillPaints:[{type:"SOLID",blendMode:"NORMAL",opacity:1,color:Zt("#FFFFFF").toFigmaColor(),visible:!0}],resizeToFit:!1};return e==null||e(n),n}function lk(t,e){const n={...Qo(t),nodeType:"SYMBOL",userFacingVersion:"",sharedSymbolVersion:"",isSymbolPublishable:!0,shimmerAtApearance:!1,frameMaskDisabled:!1,cornerRadius:0,fillGeometry:[],fillPaints:[],strokeGeometry:[],strokePaints:[],resizeToFit:!1};return e==null||e(n),n}function w0(t){return{id:m0(),guid:{sessionID:0,localID:0},parentId:"",nodeType:"IMAGE",left:0,top:0,width:0,height:0,rotate:0,name:"",isLocked:!1,visible:!0,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()},shimmerAtApearance:!1,strokePaints:[],extra:{mattingMask:{maskURL:""},minimumScalePercent:100,backgroundColor:"",polygonPointIdList:[],shapeMask:{id:"",maskURL:"",maskType:0},rectList:[],sourceList:[]}}}function R2(t){return{characters:t,characterStyleIDs:t.split("").map(()=>0),styleOverrideTable:[],lines:[]}}const fk=O2;function O2(t,{width:e,height:n,text:r,fontSize:i,lineHeight$$:u,letterSpacing:c,bold:l,italic:d,textDecoration:p,writingMode:w,fontName:v},E){const C={...Qo(t),shimmerAtApearance:!1,nodeType:"TEXT",fontSize:i,fontName:v||{fullname:"",family:"",style:"",postscript:""},fontStyle:d?"ITALIC":"NORMAL",fontWeight:l?"BOLD":"NORMAL",textData:R2(r),textAutoResize:"NONE",textAlignHorizontal:"LEFT",textDecoration:p||"NONE",letterSpacing:{value:c||0,units:"PERCENT"},lineHeight:{value:u||1.2,units:"PERCENT"},writingMode:w||"horizontal-tb",width:e,height:n||0,strokeWeight:1,strokeAlign:"CENTER",strokeJoin:"MITER",strokeCap:"ROUND",dashPattern:[0,0],miterLimit:0,fillPaints:[y0("#000000")],strokePaints:[],effects:[]};return E==null||E(C),C}function dk(t,e){const n={...Qo(t),nodeType:"vector",...x0(),vectorData:{vectorNetwork:{vertices:[],segments:[],regions:[]},normalizedSize:{x:0,y:0},styleOverrideTable:[]},shimmerAtApearance:!1};return n.strokeAlign="CENTER",e==null||e(n),n}function x0(){return{strokeGeometry:[],strokePaints:[],fillGeometry:[],fillPaints:[],strokeAlign:"INSIDE",strokeCap:"NONE",strokeJoin:"MITER",miterLimit:0,strokeWeight:1,dashPattern:[0,0]}}function hk(t,e){const n={...Qo(t),nodeType:"ROUNDED_RECTANGLE",shimmerAtApearance:!1,cornerRadius:0,...x0()};return e==null||e(n),n}var b0={exports:{}},S0={exports:{}};(function(t){function e(i,u,c,l,d,p){return(i<=d||c<=d)&&(d<=i||d<=c)&&(u<=p||l<=p)&&(p<=u||p<=l)}function n(i,u,c,l,d,p){var w=(d-i)*(l-u),v=(c-i)*(p-u);return w<v?-1:w>v?1:0}function r(i,u,c,l,d,p,w,v){var E=n(d,p,w,v,i,u),C=n(d,p,w,v,c,l),L=n(i,u,c,l,d,p),k=n(i,u,c,l,w,v);return(E>0&&C<0||E<0&&C>0)&&(L>0&&k<0||L<0&&k>0)||E===0&&e(d,p,w,v,i,u)||C===0&&e(d,p,w,v,c,l)||L===0&&e(i,u,c,l,d,p)||k===0&&e(i,u,c,l,w,v)}t.exports&&(t.exports=r)})(S0);var F2=S0.exports,E0={exports:{}};(function(t){function e(n,r){var i,u,c=!1,l=r.length;for(i=0,u=l-1;i<l;u=i++)r[i][1]>n[1]!=r[u][1]>n[1]&&n[0]<(r[u][0]-r[i][0])*(n[1]-r[i][1])/(r[u][1]-r[i][1])+r[i][0]&&(c=!c);return c}t.exports&&(t.exports=e)})(E0);var N2=E0.exports;(function(t){var e=F2,n=N2;function r(c,l){var d;for(d=0;d<c.length;d+=1)if(n(c[d],l))return!0;for(d=0;d<l.length;d+=1)if(n(l[d],c))return!0;return!1}function i(c,l){for(var d=0;d<c.length-1;d+=1)for(var p=0;p<l.length-1;p+=1)if(e(c[d][0],c[d][1],c[d+1][0],c[d+1][1],l[p][0],l[p][1],l[p+1][0],l[p+1][1]))return!0;return!1}function u(c,l){return!!(r(c,l)||i(c,l))}t.exports&&(t.exports=u)})(b0);var $2=b0.exports;const D2=Ko($2);function B2(t,e){return Math.sqrt(t*t+e*e)}function pk(t,e,n,r,i,u,c,l){if(t===n&&e===r||i===c&&u===l)return null;const d=(l-u)*(n-t)-(c-i)*(r-e);if(d===0)return null;const p=((c-i)*(e-u)-(l-u)*(t-i))/d,w=t+p*(n-t),v=e+p*(r-e);return{x:w,y:v}}function A0({x:t,y:e,width:n,height:r,rotate:i}){const u=C0({leftTop:{x:t,y:e},width:n,height:r,rotate:i});return{left:u.x-n/2,top:u.y-r/2}}function C0({leftTop:t,width:e,height:n,rotate:r}){const i=B2(e,n)/2,u=r,c=Math.atan(n/e)/Math.PI*180,l=u+c;return Zu(t,Ju(i,l))}function G2(t,e,n,r){const{leftTop:i,rightTop:u,leftBottom:c}=qo(t),l=Math.sqrt(e*e+n*n)/2;let d={x:0,y:0};if(r==="left"||r==="top"){const w=t.rotate,v=Math.atan(n/e)/Math.PI*180,E=w+v;d=Zu(i,Ju(l,E))}else if(r==="right"){const w=90+t.rotate+Math.atan(e/n)/Math.PI*180;d=Zu(u,Ju(l,w))}else if(r==="bottom"){const w=t.rotate,v=-Math.atan(n/e)/Math.PI*180,E=w+v;d=Zu(c,Ju(l,E))}return{x:d.x-e/2,y:d.y-n/2}}function Cd(t){return{x:t.left+t.width/2,y:t.top+t.height/2}}function U2(t){let e=Math.round(t);for(;e>180;)e-=360;for(;e<-180;)e+=360;return e}function _0(t,e){const n={x:t.x-e.x,y:t.y-e.y};return Math.atan2(n.y,n.x)*(180/Math.PI)}function Ju(t,e){return{x:t*Math.cos(e/180*Math.PI),y:t*Math.sin(e/180*Math.PI)}}function W2(t,e){return{x:e.x-t.x,y:e.y-t.y}}function Zu(t,e){return{x:t.x+e.x,y:t.y+e.y}}function qo(t){const e=Cd(t),n=Gi("global",{x:-t.width/2,y:-t.height/2},-t.rotate),r=Gi("global",{x:t.width/2,y:-t.height/2},-t.rotate),i=Gi("global",{x:-t.width/2,y:t.height/2},-t.rotate),u=Gi("global",{x:t.width/2,y:t.height/2},-t.rotate);return{center:e,leftTop:{x:n.x+e.x,y:n.y+e.y},rightTop:{x:r.x+e.x,y:r.y+e.y},leftBottom:{x:i.x+e.x,y:i.y+e.y},rightBottom:{x:u.x+e.x,y:u.y+e.y}}}function So(t){const e=qo(t);return[e.leftTop,e.leftBottom,e.rightBottom,e.rightTop]}function Gi(t,e,n,r){const i={x:e.x-((r==null?void 0:r.x)||0),y:e.y-((r==null?void 0:r.y)||0)},u=n/360*2*Math.PI,c=Math.cos(u),l=-i.y,d=[i.x*c,i.x*Math.cos(u-.5*Math.PI)],p=[l*Math.cos(.5*Math.PI+u),l*c];return{x:d[0]+p[0],y:-(d[1]+p[1])}}function _d(t,e){return D2(t.map(r=>[r.x,r.y]),e.map(r=>[r.x,r.y]))}function Td(t,e){const n=[t.x,t.y],r=e.map(u=>[u.x,u.y]);let i=!1;for(let u=0,c=r.length-1;u<r.length;u+=1)r[u][1]>n[1]!=r[c][1]>n[1]&&n[0]<(r[c][0]-r[u][0])*(n[1]-r[u][1])/(r[c][1]-r[u][1])+r[u][0]&&(i=!i),c=u;return i}function $a(t){const e=ze.min(t.map(c=>c.x))||0,n=ze.max(t.map(c=>c.x))||0,r=ze.min(t.map(c=>c.y))||0,i=ze.max(t.map(c=>c.y))||0,u={left:0,top:0,width:0,height:0};return u.left=e,u.top=r,u.width=n-e,u.height=i-r,u}function H2(t){return[{x:t.x,y:t.y},{x:t.x,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height},{x:t.x+t.width,y:t.y}]}function lf(t){const e=ze.min(t.map(u=>u.x))||0,n=ze.max(t.map(u=>u.x))||0,r=ze.min(t.map(u=>u.y))||0,i=ze.max(t.map(u=>u.y))||0;return[{x:e,y:r},{x:e,y:i},{x:n,y:i},{x:n,y:r}]}function Ld(t,e){const n=$a(t.map(u=>Gi("rotated",u,e))),r=C0({width:n.width,height:n.height,leftTop:{x:n.left,y:n.top},rotate:0}),i=Gi("global",r,-e);return{left:i.x-n.width/2,top:i.y-n.height/2,width:n.width,height:n.height,rotate:e}}function z2(t){return $a(So(t))}function gk(t,e){const n=t.width/t.height;return e.height*n<=e.width?{width:e.height*n,height:e.height}:{width:e.width,height:e.width/n}}function j2(t){return t*Math.PI/180}function tg(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function Lf(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function V2(t,e){return t.x>=0&&t.x<=e.width&&t.y>=0&&t.y<=e.height}function T0(t,e,n,r,i,u,c,l){const d=[],p=[t,c],w=[e,l];let v,E,C,L,k,N,W,Q;for(let le=0;le<2;++le){if(le===0?(E=6*t-12*n+6*i,v=-3*t+9*n-9*i+3*c,C=3*n-3*t):(E=6*e-12*r+6*u,v=-3*e+9*r-9*u+3*l,C=3*r-3*e),Math.abs(v)<1e-12){if(Math.abs(E)<1e-12)continue;L=-C/E,L>0&&L<1&&d.push(L);continue}if(W=E*E-4*C*v,W<0){Math.abs(W)<1e-12&&(L=-E/(2*v),L>0&&L<1&&d.push(L));continue}Q=Math.sqrt(W),k=(-E+Q)/(2*v),k>0&&k<1&&d.push(k),N=(-E-Q)/(2*v),N>0&&N<1&&d.push(N)}let H=d.length,ie;for(;H--;)L=d[H],ie=1-L,p[H]=ie*ie*ie*t+3*ie*ie*L*n+3*ie*L*L*i+L*L*L*c,w[H]=ie*ie*ie*e+3*ie*ie*L*r+3*ie*L*L*u+L*L*L*l;return{min:{x:Math.min.apply(0,p),y:Math.min.apply(0,w)},max:{x:Math.max.apply(0,p),y:Math.max.apply(0,w)}}}function ng(t,e){return Math.abs(t-e)<1}function Pf(t){let e=t[0];return t.forEach(n=>{n>e&&(e=n)}),e}function mk(t){if(t.length===0)throw new Error("");let e=t[0];return t.forEach(n=>{n<e&&(e=n)}),e}function yk(t,e){return Math.atan2(-e,t)*180/Math.PI}function vk(t,e){return Math.sqrt(t*t+e*e)}function X2(t,e){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function yc(t){return t.currentStep===null?_s(t):t.currentStep}function _s(t){return t.currentStep=new L0(""),t.currentStep.getOldState().selectionInfo=ze.cloneDeep(t.selectionInfo),t.currentStep}function _a(t,e){if(t.currentStep)e&&(t.currentStep.name=e);else throw new Error("Current step does not exist");t.history.record()}function Y2(){return new L0("")}class L0{constructor(e){this.name="",this.oldState={selectionInfo:null,nodeMap:{}},this.newState={selectionInfo:null,nodeMap:{}},this.mutatedNodesInThisAction={},this.name=e}getOldState(){return this.oldState}getNewState(){return this.newState}handleChildren(e,n){var u;const r=this.oldState.nodeMap[e.id],i=this.newState.nodeMap[e.id];r.children||(r.children={$value:e.children.map(c=>c.id)}),i.children={$value:(u=n.children)==null?void 0:u.map(c=>c)}}handleLife(e,n){const r=this.oldState.nodeMap[e.id],i=this.newState.nodeMap[e.id];if(n.life){if(n.life.type==="replacePage"){if(e.nodeType!=="DOCUMENT")throw new Error;r.life={$value:{type:"replacePage",newPage:ze.cloneDeep(e.children[0])}},i.life={$value:{type:"replacePage",newPage:ze.cloneDeep(n.life.newPage)}}}else if(n.life.type==="createChildren"){const u={};ze.mapKeys(n.life.newLayers,c=>{u[c.id]=!0}),r.life={$value:{type:"delete",deletedNodes:u,children:e.children.map(c=>c.id),isGrouping:n.life.isGrouping}},i.life={$value:{type:"createChildren",newLayers:ze.cloneDeep(n.life.newLayers),children:ze.cloneDeep(n.life.children),isGrouping:n.life.isGrouping}}}else if(n.life.type==="delete"){const{deletedNodes:u}=n.life,c={};e.children.forEach(l=>{u[l.id]&&l.nodeType!=="CANVAS"&&(c[l.id]=ze.cloneDeep(l))}),r.life={$value:{type:"createChildren",newLayers:c,children:e.children.map(l=>l.id),isGrouping:n.life.isGrouping}},i.life={$value:{type:"delete",deletedNodes:ze.cloneDeep(n.life.deletedNodes),children:ze.cloneDeep(n.life.children),isGrouping:n.life.isGrouping}}}}}update(e){if(e.type==="CanvasNode")return;const{layer:n,data:r}=e;this.mutatedNodesInThisAction[n.id]=!0;const{id:i}=n;this.oldState.nodeMap[i]||(this.oldState.nodeMap[i]={editInfo:{$value:{...n.editInfo}}},this.newState.nodeMap[i]={editInfo:{$value:{userId:"",createdAt:n.editInfo.createdAt,lastEditedAt:new Date().getTime()}}});const u=this.oldState.nodeMap[i],c=this.newState.nodeMap[i];Object.keys(r).forEach(l=>{var p;const d=l;if(!(typeof r[d]>"u"&&!(d==="smartShape"||d==="image"))){if(d==="life"){this.handleLife(n,r);return}if(l!=="editInfo"){if(d==="children"){this.handleChildren(n,r);return}if(u[d]||(u[d]={$value:ze.cloneDeep(n[d])},(d==="effects"||d==="strokeGeometry"||d==="strokePaints"||d==="fillPaints")&&n.nodeType!=="CANVAS"&&typeof n[d]>"u"&&(n[d]=[]),(n.nodeType==="ROUNDED_RECTANGLE"||n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE")&&d==="image"&&!n.image&&(n.image=Ad()),c[d]={$value:ze.cloneDeep(n[d])}),typeof r[d]=="function"){const w=r[d];if(w((p=c[d])==null?void 0:p.$value),w(n[d]),n.nodeType==="TEXT"&&n.textData.characters.length!==n.textData.characterStyleIDs.length)throw new Error("textData mismatch")}else n[d]=ze.cloneDeep(r[d]),c[d]={$value:ze.cloneDeep(r[d])}}}})}getNewAction(){const e={};Object.keys(this.mutatedNodesInThisAction).length===0?Object.assign(e,this.newState.nodeMap):Object.keys(this.mutatedNodesInThisAction).forEach(r=>{this.newState.nodeMap[r]&&(e[r]=this.newState.nodeMap[r])});const n={type:"UpdateNodes",payload:{layerMap:e}};return this.mutatedNodesInThisAction={},n}getOldAction(){return{type:"UpdateNodes",payload:{layerMap:this.oldState.nodeMap}}}}const K2=300;function vc(t){return t/180*Math.PI}function wc(t,e,n){const r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n));return{width:e*i+t*r,height:e*r+t*i}}function P0({frame:t,image:e}){const n=t.width/e.naturalWidth,r=t.height/e.naturalHeight;return Math.max(n,r)}function M0({frame:t,image:e}){const n=wc(t.width,t.height,vc(e.rotate)),r=2*(n.width/2+Math.abs(e.imageX))/e.naturalWidth,i=2*(n.height/2+Math.abs(e.imageY))/e.naturalHeight;return Math.max(r,i)}function I0(t){if(t.image){const e=M0({frame:t,image:t.image});if((t.image.width+.5)/t.image.naturalWidth<e||(t.image.height+.5)/t.image.naturalHeight<e)return!1}return!0}function wk(t,e){e.imageX=0,e.imageY=0;let n=t.width,r=e.naturalHeight*(t.width/e.naturalWidth);r<t.height&&(r=t.height,n=e.naturalWidth*(t.height/e.naturalHeight)),e.width=n,e.height=r}function xk({layer:t,step:e}){if(t.image){let n=t.width,r=t.image.naturalHeight*(t.width/t.image.naturalWidth);r<t.height&&(r=t.height,n=t.image.naturalWidth*(t.height/t.image.naturalHeight)),e.update({layer:t,data:{image(i){i.imageX=0,i.imageY=0,i.rotate=0,i.width=n,i.height=r}}})}}function Q2(t,e){if(t.image){const n=Gi("rotated",{x:-e.x,y:-e.y},t.rotate+t.image.rotate);t.image.imageX+=n.x,t.image.imageY+=n.y}}function k0(t,e,n){if(t.image){n.resetImagePosition&&e.update({layer:t,data:{image(i){i.imageX=0,i.imageY=0}}});const r=M0({frame:t,image:t.image});e.update({layer:t,data:{image(i){i.width=i.naturalWidth*r,i.height=i.naturalHeight*r}}})}}function R0(t,e,n){const r=yc(t),{image:i}=e;if(i){const u=wc(e.width,e.height,vc(i.rotate));u.width=2*(u.width/2+Math.abs(i.imageX)),u.height=2*(u.height/2+Math.abs(i.imageY));let c=1;n?c=Pf([u.width/i.width,u.height/i.height]):c=Pf([1,u.width/i.width,u.height/i.height]);const l=P0({frame:e,image:i});i.width*c/i.naturalWidth/l*100>K2?k0(e,r,{resetImagePosition:!0}):r.update({layer:e,data:{image(p){p.width*=c,p.height*=c,p.imageX*=c,p.imageY*=c}}})}}function bk(t,e,n){I0(e)===!1&&k0(e,n,{resetImagePosition:!0})}function Sk({layer:t,step:e}){if(t.image&&I0(t)===!1){const n=wc(t.width,t.height,vc(t.image.rotate)),r=t.image.width<n.width?n.width/t.image.width:1,i=t.image.height<n.height?n.height/t.image.height:1,u=ze.max([r,i]);u&&(t.image.width*=u,t.image.height*=u,O0(t,{step:e}))}}function O0(t,{step:e}){const{image:n}=t;if(n){const r=wc(t.width,t.height,vc(n.rotate)),i=Pf([1,r.width/n.width,r.height/n.height]),u={width:n.width,height:n.height,imageX:n.imageX,imageY:n.imageY};u.width*=i,u.height*=i;const c=r.width/2-u.width/2,l=-(r.width/2)+u.width/2,d=r.height/2-u.height/2,p=-(r.height/2)+u.height/2,w={x:Math.min(l,Math.max(c,n.imageX)),y:Math.min(p,Math.max(d,n.imageY))};u.imageX=w.x,u.imageY=w.y,e.update({layer:t,data:{image(v){v.width=u.width,v.height=u.height,v.imageX=u.imageX,v.imageY=u.imageY}}})}}const rg=6,Ek="150ms";async function q2(t){return new Promise((e,n)=>{const r=new Image;r.crossOrigin="anonymous",r.src=t,r.onload=()=>{e(r)},r.onerror=()=>{n()}})}async function F0(t){const e=await q2(t),{naturalWidth:n,naturalHeight:r}=e,i=Ad();return i.width=n,i.height=r,i.naturalWidth=n,i.naturalHeight=r,i.imageSource=t,{imageInfo:i,imageElement:e}}function J2({frame:t,image:e}){e.imageX=0,e.imageY=0;let n=t.width,r=e.naturalHeight*(t.width/e.naturalWidth);r<t.height&&(r=t.height,n=e.naturalWidth*(t.height/e.naturalHeight)),e.width=n,e.height=r}function N0(t){t.image&&J2({frame:t,image:t.image})}function Ak(t){t.image&&(t.image.rotate=0,t.extra.minimumScalePercent=100)}function Z2(t){if(t.image){const e=t.image.height/t.image.width;return ze.max([t.width,t.height/e])||0}return 0}function Ck(t,e){t.image&&(t.image.opacity=e/100)}function _k(t){t.image&&(t.image.flipH=!t.image.flipH)}function Tk(t){t.image&&(t.image.flipV=!t.image.flipV)}async function Lk(t,e){if(!e){t&&t.nodeType==="IMAGE"&&(t.image=void 0);return}const{imageInfo:n}=await F0(e);t&&t.nodeType==="IMAGE"&&(t.image=n,N0(t))}function Pk(t,e,n,{step:r,autoAdjust:i}){if(t&&t.image){const u=Gi("rotated",{x:e,y:n},t.rotate+t.image.rotate),c=t.image.imageX+u.x,l=t.image.imageY+u.y;r.update({layer:t,data:{image(d){d.imageX=c,d.imageY=l}}}),i&&O0(t,{step:r})}}function Mk(t,e){return Math.min(t.width,t.height)*(.5*e/100)}function Ik(t,e=!1){const n=[];function r(i){i.forEach(u=>{u.nodeType==="IMAGE"&&(e||$0(u))&&n.push(u),u.nodeType==="GROUP"&&r(u.children)})}return r(t),n}function kk(t){const e=[];function n(r){r.forEach(i=>{i.nodeType==="IMAGE"&&$0(i)&&!i.isLocked&&e.push(i),i.nodeType==="GROUP"&&!i.isLocked&&n(i.children)})}return n(t),e}function Rk(t,{padding:e=0,rotate:n=0,flipV:r=!1,flipH:i=!1}){return new Promise(u=>{const c=document.createElement("canvas"),l=c.getContext("2d");let d=1;const p=Math.max(t.width,t.height);p>1e3&&(d=p/1e3);const w=t.width/d,v=t.height/d,E=X2({x:0,y:0},{x:w,y:v});c.width=E,c.height=E;const C=c.width/2,L=c.height/2,k=document.createElement("canvas"),N=k.getContext("2d");k.width=w,k.height=v,(r||i)&&(N==null||N.translate(i?w:0,r?v:0),N==null||N.scale(i?-1:1,r?-1:1)),N==null||N.drawImage(t,0,0,w,v),l==null||l.translate(C,L),n&&(l==null||l.rotate(n*Math.PI/180)),l==null||l.translate(-C,-L),l==null||l.drawImage(k,C-w/2,L-v/2);const W=l==null?void 0:l.getImageData(0,0,c.width,c.height),{data:Q=[],width:H=0,height:ie=0}=W||{},le=()=>{for(let X=0;X<H;X+=1)for(let V=0;V<ie;V+=1){const re=(V*H+X)*4;if(Q[re+3]>0)return Promise.resolve(X)}return Promise.resolve(0)},ne=()=>{for(let X=0;X<ie;X+=1)for(let V=0;V<H;V+=1){const re=(X*H+V)*4;if(Q[re+3]>0)return Promise.resolve(X)}return Promise.resolve(0)},de=()=>{for(let X=H-1;X>=0;X-=1)for(let V=0;V<ie;V+=1){const re=(V*H+X)*4;if(Q[re+3]>0)return Promise.resolve(X)}return Promise.resolve(0)},we=()=>{for(let X=ie-1;X>=0;X-=1)for(let V=0;V<H;V+=1){const re=(X*H+V)*4;if(Q[re+3]>0)return Promise.resolve(X)}return Promise.resolve(0)},R=[le(),ne(),de(),we()];Promise.all(R).then(X=>{let[V,re,ue,ee]=X;V-=e,re-=e,ue+=e,ee+=e;const Ee=ue-V,j=ee-re,te=re,me=V;u({contentWidth:Ee*d,contentHeight:j*d,top:te*d,left:me*d,frameSize:E*d})})})}function $0(t){return t.nodeType==="IMAGE"&&!!t.extra.shapeMask.maskURL}async function Ok(t,e){const n=w0(),{imageInfo:r}=await F0(e);return n.image=r,n.width=r.naturalWidth,n.height=r.naturalHeight,N0(n),n.left=0,n.top=0,n}function ig(t){return`mainLayer-${t}`}function Fk(t){const e=document.querySelectorAll(`#${ig(t.id)}`);e.length>1&&console.warn("More than one canvas",e);const n=document.getElementById(ig(t.id));return n||(console.warn("当前图层不存在"),document.createElement("canvas"))}function Nk(t){const e=[];function n(r){r.forEach(i=>{i.nodeType!=="GROUP"&&e.push(i),n(i.children)})}return n(t.children),e}function eE(t,e){return t.props.getPanelList().find(r=>r.id===e)||null}function $k(t,e){return eE(t,e)||D0(t,e)}function D0(t,e){return t.normalLayerFlatMap[e]?t.normalLayerFlatMap[e]:null}function Dk(t){return t.image?t.image.width/t.image.naturalWidth:1}function Bk(t,e){return!(t.options.hasTimeline&&e.timeline&&(t.currentTime<e.timeline.start||t.currentTime>e.timeline.end))}function ni(t){const e=t.getFigma();return e?{fileData:e.context.fileData}:t.libra?{fileData:t.libra.fileData}:null}function tE(t){return t.nodeType==="FRAME"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"||t.nodeType==="SECTION"}function B0(t){return t.nodeType==="FRAME"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"}function Gk(t){return!!(B0(t)||t.nodeType==="GROUP")}function Uk(t,e,n){var u;const r=t.snapshotMap;r[e.id]||(r[e.id]={lastUsedAt:0,image:null,contains:{layerIdMap:{},imageUrlMap:{}}});const i=r[e.id];return i.lastUsedAt=new Date().getTime(),(u=i.image)==null||u.delete(),i.image=n,i}function nE(t,e){var r;const n=t.snapshotMap;n[e.id]&&((r=n[e.id].image)==null||r.delete(),delete n[e.id])}function rE(t,e){const n=t.snapshotMap;return n[e.id]?(n[e.id].lastUsedAt=new Date().getTime(),n[e.id].image):null}function $r(t,e){return t.localStore.getLayer(e)}function G0(t,e){const n=[e];return U0(t,e,n),n}function U0(t,e,n){if(e.parentId){const r=t.getLayer(e.parentId);r&&(tE(r)&&n.unshift(r),U0(t,r,n))}}function Da(t,e){if(e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")return!0;const n=t.localStore.getLayer(e.parentId);return n?Da(t,n):!1}function Wk(t,e){const n=[];return W0(t,e,n),n}function W0(t,e,n){if(e.nodeType==="SYMBOL"&&n.unshift(e.id),e.parentId){const r=$r(t,e.parentId);r&&W0(t,r,n)}}function iE(t,e){if(e.parentId){const n=$r(t,e.parentId);return n?iE(t,n):null}return e}function H0(t,e){delete t.layerAssetsMap[e.id],delete t.layerMap[e.id],nE(t,e),e.nodeType==="FRAME"||e.nodeType==="GROUP"||e.nodeType==="SECTION"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE"?e.children.forEach(n=>{H0(t,n)}):e.nodeType==="IMAGE"||e.nodeType}function Hk(t,e){oE(t.localStore.props.getCurrentPage(),e)}function oE(t,e){t.children.forEach(n=>{z0(n,e)})}function sE(t){return t.nodeType==="FRAME"||t.nodeType==="GROUP"||t.nodeType==="SECTION"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"?t.children:null}function z0(t,e){var n;e(t),(n=sE(t))==null||n.forEach(r=>{z0(r,e)})}function Ba(t,e){if(e.nodeType==="INSTANCE"){const n=e.symbolData.symbolID.id,r=t.localStore.getLayer(n);if(!r)throw new Error("");return r.children}return e.children}function aE(t,e){return t.layerAssetsMap[e.id]||null}function j0({layer:t,layerInfo:e}){return{width:e.width,height:e.height}}console.log(In({left:10,top:10,width:200,height:300,rotate:30}));function In({left:t,top:e,width:n,height:r,rotate:i}){const u=-i/180*Math.PI,{leftTop:c}=qo({left:t,top:e,width:n,height:r,rotate:i}),l=i===90||i===-90?0:Math.cos(u);return[[l,Math.sin(u),c.x],[-Math.sin(u),l,c.y],[0,0,1]]}function xc(t,e){const n=t,r=e,i=[];for(let u=0;u<n.length;u+=1){i[u]=[];for(let c=0;c<r[0].length;c+=1){let l=0;for(let d=0;d<n[0].length;d+=1)l+=n[u][d]*r[d][c];i[u][c]=l}}return i}function Xo(t,e){const n=[...t],r=[[e.x],[e.y],[1]],i=xc(n,r);return{x:i[0][0],y:i[1][0]}}function uE(t,e){return xc(t,e)}function Eo(t,e){const n=[...t],r=[[e.x],[e.y],[1]],i=xc(V0(n),r);return{x:i[0][0],y:i[1][0]}}function cE(t,e){return xc(V0(t),e)}function bc(t){return-Math.atan2(-t[1][0],t[0][0])*(180/Math.PI)}function Sc({width:t,height:e,t:n}){const r=n[0][2],i=n[1][2],u=bc(n),{left:c,top:l}=A0({x:r,y:i,width:t,height:e,rotate:u});return{left:c,top:l,rotate:u}}function V0(t){if(t.length!==t[0].length)throw new Error("");let e=0,n=0,r=0;const i=t.length;let u=0;const c=[],l=[];for(e=0;e<i;e+=1)for(c[c.length]=[],l[l.length]=[],r=0;r<i;r+=1)e===r?c[e][r]=1:c[e][r]=0,l[e][r]=t[e][r];for(e=0;e<i;e+=1){if(u=l[e][e],u===0){for(n=e+1;n<i;n+=1)if(l[n][e]!==0){for(r=0;r<i;r+=1)u=l[e][r],l[e][r]=l[n][r],l[n][r]=u,u=c[e][r],c[e][r]=c[n][r],c[n][r]=u;break}if(u=l[e][e],u===0)throw new Error}for(r=0;r<i;r+=1)l[e][r]=l[e][r]/u,c[e][r]=c[e][r]/u;for(n=0;n<i;n+=1)if(n!==e)for(u=l[n][e],r=0;r<i;r+=1)l[n][r]-=u*l[e][r],c[n][r]-=u*c[e][r]}return c}function lE(t,e){const n=[t[0],t[1],[0,0,1]],r=[e[0],e[1],[0,0,1]];return fE(n,r)}function fE(t,e){const n=[];for(let r=0;r<t.length;r+=1){n[r]=[];for(let i=0;i<e[0].length;i+=1){let u=0;for(let c=0;c<t[0].length;c+=1)u+=t[r][c]*e[c][i];n[r][i]=u}}return n}function X0({fileData:t,info:e}){const n=[];if(e.type==="layer"){const r=$r(t,e.layerId);r&&n.push(...G0(t.localStore,r).map(i=>In({left:i.left,top:i.top,width:i.width,height:i.height,rotate:i.rotate})))}return Y0(n)}function Y0(t){let e=[[1,0,0],[0,1,0],[0,0,1]];return[...t].reverse().forEach(n=>{e=lE(n,e)}),e}function zi(t,e){const n=X0({fileData:t,info:e});return{absoluteTransform:n,rotate:bc(n)}}function zk(t){const e=dE({localStore:t})||t.bunchRectangle;return{left:e.left*t.getPageScale(),top:e.top*t.getPageScale(),width:e.width*t.getPageScale(),height:e.height*t.getPageScale(),transform:`rotate(${e.rotate}deg)`}}function dE({localStore:t}){const e=ni(t);if(e){const n=t.selectedSingleLayer;if(n){const r=zi(e.fileData,{type:"layer",layerId:n.id}),i=Sc({width:n.width,height:n.height,t:r.absoluteTransform});return{width:n.width,height:n.height,...i}}}return null}function Ec(t,e){t.bunchRectangle.left=e.left,t.bunchRectangle.top=e.top,t.bunchRectangle.width=e.width,t.bunchRectangle.height=e.height,t.bunchRectangle.rotate=e.rotate}function hE(t){if(t.selectedSingleLayer){const e=t.selectedSingleLayer;e&&Ec(t,e)}else{const e=[];t.selectedLayerList.forEach(n=>{if(n){const r=qo(n);e.push(r.leftTop),e.push(r.rightTop),e.push(r.leftBottom),e.push(r.rightBottom)}}),Object.assign(t.bunchRectangle,$a(e)),t.bunchRectangle.rotate=0}}function pE({layerList:t}){const e=[];return t.forEach(r=>{if(r){const i=qo(r);e.push(i.leftTop),e.push(i.rightTop),e.push(i.leftBottom),e.push(i.rightBottom)}}),{...$a(e),rotate:0}}function Ao(t,e){if(e.parentId){const n=t.getLayer(e.parentId);if(n)return n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="SECTION"?n:Ao(t,n)}return null}function K0(t,e){if(e.parentId){const n=$r(t,e.parentId);if(n)return n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="SECTION"?n:K0(t,n)}return t.localStore.props.getCurrentPage()}function ff(t,e){return e.map(n=>{const r=t.getLayer(n);if(!r)throw new Error;return r})}function jk({localStore:t,idList:e}){return e.map(n=>{const r=t.getLayer(n);if(!r)throw new Error(`Layer ${n} does not exist`);return r})}function En(t){return!t.stackMode||t.stackMode==="NONE"?"NONE":t.stackMode}function Un(t,e){const n=[...t];return e.nodeType==="INSTANCE"&&t[t.length-1]!==e&&n.push(e),n}function Pd(t,e){const n={};return ze.forEach(t.layerMap,(r,i)=>{r.nodeType==="INSTANCE"&&r.symbolData.symbolID.id===e.id&&(n[i]=r)}),n}function gE(t,e,n){const r=Pd(t.fileData,e);ze.forEach(r,i=>{n(i)})}function Q0({layer:t,instanceChain:e}){const n=[...e];return n[n.length-1]!==t&&n.push(t),n}const mE={nodeType:"IMAGE",left:0,top:0,width:0,height:0,rotate:0,name:"",stackMode:"NONE",stackPrimarySizing:"FIXED",stackCounterSizing:"FIXED",stackChildAlignSelf:"AUTO",stackChildPrimaryGrow:0,stackPrimaryAlignItems:"MIN",stackCounterAlignItems:"MIN",stackPositioning:"",stackPaddingTop:0,stackPaddingBottom:0,stackPaddingLeft:0,stackPaddingRight:0,stackSpacing:0,strokeAlign:"INSIDE",strokeCap:"NONE",strokeWeight:1,strokeJoin:"MITER",miterLimit:0,fillGeometry:[],fillPaints:void 0,strokeGeometry:[],strokePaints:[],dashPattern:[0,0],frameMaskDisabled:!1,cornerRadius:0,textAutoResize:"NONE",textData:void 0,vectorData:void 0,effects:void 0,visible:!0};function en({localStore:t,layer:e,instanceChain:n,debugging:r}){function i(u){if(e.nodeType==="INSTANCE"&&e===n[0]&&(u==="left"||u==="top"))return e[u];if(n.length>0){let c;for(let l=0;l<n.length;l+=1){const d=n.slice(l);if(c=yE(e,u,n[l],d),c)break}if(c!==void 0)return c}if(e[u]!==void 0)return e[u];if(u==="textData"||u==="vectorData")throw new Error;return mE[u]}return new Proxy({},{get:(u,c)=>i(c)})}function yE(t,e,n,r){let i;const u=Q0({layer:t,instanceChain:r});return n.symbolData.symbolOverrides.forEach(c=>{c.guidPath.guids.map(l=>l.id).join("--")===u.map(l=>l.id).join("--")&&c[e]!==void 0&&(i=c[e])}),n.derivedSymbolData.forEach(c=>{c.guidPath.guids.map(l=>l.id).join("--")===u.map(l=>l.id).join("--")&&c[e]!==void 0&&(i=c[e])}),i}const Ac=en;function Md({localStore:t,layer:e,instanceChain:n,constraintsMap:r}){n=Un(n,e);const i=Ac({localStore:t,layer:e,instanceChain:n});let u=[];const c=t.getFigma();return c&&(u=Ba(c.context.fileData,e)),u.length===0||u.forEach(l=>{const d=en({localStore:t,layer:l,instanceChain:Un(n,l)}),p=d;if(p.stackMode==="NONE"||p.stackPositioning==="ABSOLUTE"){const w={};r[l.id]=w,l.horizontalConstraint==="MIN"&&(w.left=d.left),l.horizontalConstraint==="MAX"&&(w.right=i.width-d.left-d.width),l.horizontalConstraint==="STRETCH"&&(w.left=d.left,w.right=i.width-d.left-d.width),l.verticalConstraint==="MIN"&&(w.top=d.top),l.verticalConstraint==="MAX"&&(w.bottom=i.height-d.top-d.height),l.verticalConstraint==="STRETCH"&&(w.top=d.top,w.bottom=i.height-d.top-d.height)}Md({localStore:t,layer:l,instanceChain:n,constraintsMap:r})}),r}function vE(t,e){const n=Ao(t,e);return!!(n&&(En(n)==="NONE"||e.stackPositioning==="ABSOLUTE"))}function wE(t){return t.horizontalConstraint||"MIN"}function xE(t){return t.verticalConstraint||"MIN"}function bE({localStore:t}){if(t.selectedSingleLayer)return{type:"entity",id:t.selectedSingleLayer.id,completeChain:G0(t,t.selectedSingleLayer).map(n=>({id:n.id,nodeType:n.nodeType}))};const{phantom:e}=t.props.getSelectionInfo();return e?{...e}:null}function Id({fileData:t,target:e}){const n=[...e.completeChain],r=[],i=[];n.forEach(l=>{l.nodeType==="INSTANCE"&&i.push($r(t,l.id));const d=$r(t,l.id);if(!d)throw new Error("");const p=en({localStore:t.localStore,layer:d,instanceChain:i});r.push(In(p))});const u=Y0(r),c=$r(t,e.id);if(!c)throw new Error("");return{layer:c,instanceChain:i,absoluteTransform:u,rotate:bc(u)}}function SE(t,e,n){const r=q0(t,n,t.selectedNormalLayerList);return ir(t,{type:"$selectActiveGroupChild",layerId:r}),r}function EE(t,e,n){ir(t,{type:"$selectGroupLeafLayer",layerId:n.id}),Ec(t,n),console.log(ze.cloneDeep(t.selectedSingleLayer))}function AE(t,e,n){if(ir(t,{type:"replace",idList:[e.id]}),e.nodeType==="GROUP"){if(e.isLocked)return;SE(t,e,n)}}function Vk(t,e){t.layerResolvedFrameMap={},t.getNormalLayerList().forEach(r=>{t.layerResolvedFrameMap[r.id]=qo(r)});const n=t.getPointInPage(e);t.selectionRectStartPoint=n}function Xk(t,e){t.selectionRectStartPoint=null;const n=t.getPointInPage(e);t.selectionRectEndPoint=n,ir(t,{type:t.controlKeyUnderPress?"add":"replace",idList:Object.keys(t.overlappedLayerIdMap)}),t.overlappedLayerIdMap={},t.selectionRectExists=!1,t.currentStatus=""}const CE=ze.throttle((t,e)=>{if(t.overlappedLayerIdMap={},t.getFigma()){_E(t);return}ze.forEach(t.layerResolvedFrameMap,(n,r)=>{var u;if(t.getLayer(r)&&((u=t.getLayer(r))!=null&&u.isLocked))return;_d([{x:t.selectionRectangle.left,y:t.selectionRectangle.top},{x:t.selectionRectangle.left,y:t.selectionRectangle.top+t.selectionRectangle.height},{x:t.selectionRectangle.left+t.selectionRectangle.width,y:t.selectionRectangle.top+t.selectionRectangle.height},{x:t.selectionRectangle.left+t.selectionRectangle.width,y:t.selectionRectangle.top}],[n.leftTop,n.leftBottom,n.rightBottom,n.rightTop])&&(t.overlappedLayerIdMap[r]=!0)})},100);function _E(t){var r;const e={},n=[...((r=t.figma)==null?void 0:r.topLevelLayerList)||[]].reverse();n==null||n.forEach(i=>{const u=So({...t.selectionRectangle,rotate:0}),c=So(i);_d(u,c)&&(e[i.id]=!0)}),t.overlappedLayerIdMap=e}function Yk(t,e){t.selectionRectExists=!0;const n=t.getPointInPage(e);t.selectionRectEndPoint=n,CE(t,e)}function TE(t,e,n){for(let r=n.length-1;r>=0;r-=1){const i=n[r],u=t.getPointInPage(e),c=So(i);if(Td(u,c))return i.id}return""}function q0(t,e,n){for(let r=n.length-1;r>=0;r-=1){const i=n[r],u=t.getPointInPage(e),c=So(i);if(Td(u,c))return i.children.length>0?q0(t,e,i.children):i.id}return""}function LE(t,e){return TE(t,e,t.getNormalLayerList().filter(r=>t.getSelectedLayerIdList().includes(r.id)===!1))}function Kk(t,e){const n=LE(t,e);return n&&(t.controlKeyUnderPress?ir(t,{type:"add",idList:[n]}):ir(t,{type:"replace",idList:[n]})),n}function PE(t,e){return t.getSelectedLayerIdList().indexOf(e.id)>-1}function Qk(t,e,n){const r=t.getLayer(e.parentId);r&&r.nodeType==="GROUP"?EE(t,r,e):e.nodeType==="FRAME"?ir(t,{type:"replace",idList:[e.id]}):t.controlKeyUnderPress?ME({localStore:t,layer:e}):AE(t,e,n)}function ME({localStore:t,layer:e}){var r,i;if(t.selectedNormalLayerList.find(u=>u.parentId!=="")){(i=(r=t.props).showMessageForUser)==null||i.call(r,{type:"warn",message:"只能多选同级的图层"});return}PE(t,e)?ir(t,{type:"remove",idList:[e.id]}):ir(t,{type:"add",idList:[e.id]})}function IE(t){const e={layer:null,instanceChain:[]},n=ni(t);if(n){const r=bE({localStore:t});if(r){const{layer:i,instanceChain:u}=Id({fileData:n.fileData,target:r});e.layer=i,e.instanceChain=u}}return e}function qk(){return{currentPageIndex:0,selectedLayerIdList:[],phantom:null,activeLayerInGroupId:"",activeGroupLayerId:"",selectedLeafLayerId:"",bunchRectangle:{nodeType:"GROUP",parentId:"",id:"bunchRectangle",name:"",guid:{sessionID:0,localID:0},left:0,top:0,width:0,height:0,rotate:0,isLocked:!1,children:[],editInfo:{userId:"",createdAt:0,lastEditedAt:0},shimmerAtApearance:!1,visible:!0},textRange$:{start:0,end:0}}}function ir(t,e){var r,i;const{selectionInfo:n}=t;if(e.type==="$selectActiveGroupChild")n.activeLayerInGroupId=e.layerId;else if(e.type==="$selectGroupLeafLayer")n.selectedLeafLayerId=e.layerId;else if(e.type==="$startEdittingGroupLayer")n.selectedLayerIdList=[],n.activeLayerInGroupId="",n.activeGroupLayerId=e.layerId;else if(e.type==="$target")n.activeLayerInGroupId="",n.activeGroupLayerId="",n.selectedLeafLayerId="",e.target.type==="entity"?(n.phantom=null,n.selectedLayerIdList=[e.target.id]):(t.selectionInfo.phantom=e.target,n.selectedLayerIdList=[]);else{t.selectionInfo.phantom=null,n.activeLayerInGroupId="",n.activeGroupLayerId="",n.selectedLeafLayerId="";let u=[];e.type==="replace"?u.push(...e.idList):e.type==="add"?(u.push(...t.getSelectedLayerIdList()),u.push(...e.idList)):e.type==="remove"?u.push(...t.getSelectedLayerIdList().filter(c=>!ze.includes(e.idList,c))):e.type,u=ze.uniq(u).filter(c=>c),u.length>1&&(u=u.filter(c=>t.getLayer(c)).filter(c=>!t.rootNormalLayerMap[c].isLocked)),t.selectionInfo.selectedLayerIdList.length=0,t.getSelectedLayerIdList().push(...u)}(i=(r=t.props).doAction)==null||i.call(r,{type:"UpdateNodes",payload:{layerMap:{}}})}function Jk(t){var i,u,c,l;const e=(u=(i=t.props).getCurrentPage)==null?void 0:u.call(i);if(!e)return;const n=_s(t),r=kE({localStore:t,candidate:t.bunchRectangle,groupedLayerIdList:t.getSelectedLayerIdList(),parentNode:e,step:n});(l=(c=t.props).doAction)==null||l.call(c,n.getNewAction()),_a(t),ir(t,{type:"replace",idList:[r.id]})}function Zk({localStore:t}){var r,i,u,c;const e=(i=(r=t.props).getCurrentPage)==null?void 0:i.call(r);if(!e)throw new Error("Page not found");const n=t.selectedSingleLayer;if(n&&n.nodeType==="GROUP"){const l=_s(t),d=e.children,p=[];d.forEach(w=>{w.id===n.id?w.children.forEach(v=>{v.parentId="",p.push(v)}):p.push(w)}),l.update({layer:e,data:{life:{type:"delete",deletedNodes:{[n.id]:!0},children:p.map(w=>w.id)}}}),d.length=0,d.push(...p),(c=(u=t.props).doAction)==null||c.call(u,l.getNewAction()),_a(t),ir(t,{type:"replace",idList:n.children.map(w=>w.id)}),n.children=[],t.selectionInfo.bunchRectangle.left=n.left,t.selectionInfo.bunchRectangle.top=n.top,t.selectionInfo.bunchRectangle.width=n.width,t.selectionInfo.bunchRectangle.height=n.height,t.selectionInfo.bunchRectangle.rotate=n.rotate}}function e3(t){if(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="GROUP"){const{id:e}=t.selectedSingleLayer;ir(t,{type:"$startEdittingGroupLayer",layerId:e})}}function kd(t,e,{step:n}){if(e.parentId){const r=D0(t,e.parentId);if(r&&r.nodeType==="GROUP"){const i=[];r.children.forEach(c=>{i.push(...So(c))});const u=Ld(i,r.rotate);n.update({layer:r,data:u}),kd(t,r,{step:n})}}}function t3({localStore:t,layerList:e}){const n=pE({layerList:e}),r=v0(t);return Object.assign(r,n),e.forEach(i=>{i.parentId=r.id}),r.children=[...e],r}function kE({localStore:t,candidate:e,groupedLayerIdList:n,parentNode:r,step:i}){const u=v0(t);u.left=e.left,u.top=e.top,u.width=e.width,u.height=e.height,u.rotate=e.rotate;const c=[...r.children],l=[];return c.forEach(d=>{n.indexOf(d.id)>-1?(u.children.push(d),d.parentId=u.id,u.children.length===n.length&&l.push(u)):l.push(d)}),i.update({layer:r,data:{life:{type:"createChildren",isGrouping:!0,newLayers:{[u.id]:ze.cloneDeep(u)},children:l.map(d=>d.id)}}}),r.children.length=0,r.children.push(...l),u}function J0(t){return t.selectedNormalLayerList.length===1?Ao(t,t.selectedNormalLayerList[0]):null}function n3({context:t,localStore:e,singleLayer:n,step:r,pointInContainer:i}){if(e.options.enableEnterAndLeaveRoom===!1)return;const u=J0(e);if(u&&V2(i,u)===!1)RE({localStore:e,context:t,currentRoom:u,singleLayer:n,step:r});else{const c=K0(t.fileData,n);let l=null;[...c.children].reverse().forEach(d=>{if(d.id!==n.id&&(d.nodeType==="FRAME"||d.nodeType==="SECTION"||d.nodeType==="SYMBOL")&&Td(i,So(d))&&l===null&&d.width>=n.width&&d.height>=n.height){if(n.nodeType==="SYMBOL"&&d.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"&&n.symbolData.symbolID.id===d.id)return;l=d}}),l&&l.children&&OE({fileData:t.fileData,room:c,nextRoom:l,singleLayer:n,step:r})}}function RE({localStore:t,context:e,currentRoom:n,singleLayer:r,step:i}){if(t.isFullyFunctional===!1)return;const u=Ao(t,n)||t.props.getCurrentPage(),c=[];u.children.forEach(v=>{v.id===n.id?(c.push(v.id),c.push(r.id)):v.id!==r.id&&c.push(v.id)}),i.update({layer:u,data:{children:c}}),u.children=c.map(v=>$r(e.fileData,v)),i.update({layer:n,data:{children:n.children.map(v=>v.id).filter(v=>v!==r.id)}}),n.children=n.children.filter(v=>v.id!==r.id);const l=In(n),d=In(r),p=uE(l,d),w=Sc({width:r.width,height:r.height,t:p});i.update({layer:r,data:{parentId:u.nodeType==="CANVAS"?"":u.id,left:w.left,top:w.top,rotate:w.rotate}})}function OE({fileData:t,room:e,nextRoom:n,singleLayer:r,step:i}){const u=e.children.map(v=>v.id).filter(v=>v!==r.id);i.update({layer:e,data:{children:u}}),e.children=u.map(v=>$r(t,v)).filter(v=>v);const c=n.children.map(v=>v.id).concat([r.id]);i.update({layer:n,data:{children:c}}),n.children.push(r);const l=In(r),d=In(n),p=cE(d,l),w=Sc({width:r.width,height:r.height,t:p});i.update({layer:r,data:{parentId:n.id,left:w.left,top:w.top,rotate:w.rotate}})}function Ga(t){var n;if(!t)throw new Error("element is missing!");return Number((n=document==null?void 0:document.defaultView)==null?void 0:n.getComputedStyle(t).height.replace(/px/,""))}function Ua(t){var n;if(!t)throw new Error("element is missing!");return Number((n=document==null?void 0:document.defaultView)==null?void 0:n.getComputedStyle(t).width.replace(/px/,""))}function Cc(t){if(!t)throw new Error("element is missing!");let e=0;return e+=t.offsetTop,t.offsetParent&&(e+=Cc(t.offsetParent)),e}function _c(t){if(!t)throw new Error("element is missing!");let e=0;return e+=t.offsetLeft,t.offsetParent&&(e+=_c(t.offsetParent)),e}function r3(t,e){if(!t)throw new Error("element is missing!");let n=0,r=0;return e&&e.paddingTop&&(n=e.paddingTop),e&&e.paddingBottom&&(r=e.paddingBottom),!(t.getBoundingClientRect().top>=window.innerHeight-r||t.getBoundingClientRect().bottom<=n)}function i3(t,e,n){let r=(e.pageX-t.appliedPointX)/t.getPageScale(),i=(e.pageY-t.appliedPointY)/t.getPageScale();if(n){const u=Eo(n,{x:r,y:i});r=u.x,i=u.y}return t.bunchRectangleXFixed?Math.abs(r)>rg/t.getPageScale()?(t.bunchRectangleXFixed=!1,t.appliedPointX=e.pageX):r=0:t.appliedPointX=e.pageX,t.bunchRectangleYFixed?Math.abs(i)>rg/t.getPageScale()?(t.bunchRectangleYFixed=!1,t.appliedPointY=e.pageY):i=0:t.appliedPointY=e.pageY,{x:r,y:i}}function Z0(t,e){const n=_c(e),r=Cc(e);return{x:t.pageX-n,y:t.pageY-r}}function FE(t,e){t.pointerDownX=e.pageX,t.pointerDownY=e.pageY,t.pointerX=e.pageX,t.pointerY=e.pageY,t.appliedPointX=e.pageX,t.appliedPointY=e.pageY,t.pointerMoved=!1,t.pointerCurrentAngle=U2(_0(t.getPointInContainer(e),t.bunchRectangleCenter)),t.pointerAppliedAngle=t.pointerCurrentAngle,t.bunchRectangleRotationFixed=!1}function em(t,e){t.pointerX=e.pageX,t.pointerY=e.pageY}function o3(t,e){return ng(t.pointerDownX,e.pageX)&&ng(t.pointerDownY,e.pageY)}function s3(t,e){t.pointerRayLengthInPage=e}function a3(t){var e;return(e=t.changedTouches)!=null&&e[0]&&(t.pageX=t.changedTouches[0].pageX,t.pageY=t.changedTouches[0].pageY),t}const NE={name:"",isLocked:!1,width:0,height:0,frameMaskDisabled:!1,stackMode:"NONE",stackPrimarySizing:"FIXED",stackCounterSizing:"FIXED",stackChildAlignSelf:"AUTO",stackChildPrimaryGrow:0,stackPrimaryAlignItems:"MIN",stackCounterAlignItems:"MIN",stackPositioning:"",stackPaddingTop:0,stackPaddingBottom:0,stackPaddingLeft:0,stackPaddingRight:0,stackSpacing:0,visible:!0,effects:[]},$E=Object.keys(NE),DE=["left","top","width","height"];function Gt({localStore:t,node:e,instanceChain:n,nodeSize:r,data:i,step:u,isResizingInstanceManually:c}){r&&(typeof r.width=="number"||typeof r.height=="number")&&UE({localStore:t,layer:e,step:u,width:r.width,height:r.height}),i&&(e.nodeType==="CANVAS"?u.update({layer:e,data:i}):GE({localStore:t,layer:e,instanceChain:n,data:i,step:u,isResizingInstanceManually:c}))}function BE({localStore:t,layer:e,instanceChain:n,data:r,step:i,topInstance:u,isResizingInstanceManually:c}){const l=Q0({layer:e,instanceChain:n}),d={symbolData(p){let w=!1,v=null,E=-1;if(p.symbolOverrides.forEach((C,L)=>{C.guidPath.guids.map(k=>k.id).join("-")===l.map(k=>k.id).join("-")&&(w=!0,E=L,v=C)}),w===!1&&(v={guidPath:{guids:l.map(C=>({...C.guid,id:C.id}))}},p.symbolOverrides.push(v),E=p.symbolOverrides.length-1),v)$E.forEach(C=>{if(v&&r[C]!==void 0)if(C==="width"||C==="height")c&&e===u&&(v[C]=r[C]);else if(C==="effects"){if(!v.effects){const{effects:L}=en({localStore:t,layer:e,instanceChain:n});v.effects=ze.cloneDeep(L||[])}typeof r.effects=="function"&&r.effects(v.effects)}else v[C]=r[C]});else throw new Error;Object.keys(v).filter(C=>C!=="guidPath").length===0&&p.symbolOverrides.splice(E,1)},derivedSymbolData(p){let w=null;p.forEach(v=>{v.guidPath.guids.map(E=>E.id).join("-")===l.map(E=>E.id).join("-")&&(w=v)}),w===null&&(w={guidPath:{guids:l.map(v=>({...v.guid,id:v.id}))}},p.push(w)),DE.forEach(v=>{const E=r[v];w&&typeof E<"u"&&(w[v]=E)})}};i.update({layer:u,data:d})}function GE({localStore:t,layer:e,instanceChain:n,data:r,step:i,isResizingInstanceManually:u}){const c=n[0];t.options.enableSymbolAndInstance&&c&&BE({localStore:t,layer:e,instanceChain:n,isResizingInstanceManually:u,topInstance:c,step:i,data:r}),(!c||e===c)&&i.update({layer:e,data:r})}function UE({localStore:t,layer:e,width:n,height:r,step:i}){if(typeof n=="number"||typeof r=="number"){let u=1,c=1;typeof n=="number"&&(u=n/e.width),typeof r=="number"&&(c=r/e.height);let l=!1;u.toFixed(3)===c.toFixed(3)&&(l=!0),i.update({layer:e,data:{width:n,height:r}}),e.nodeType==="FRAME"&&e.image&&(l?i.update({layer:e,data:{image(d){d.width*=u,d.height*=u,d.imageX*=u,d.imageY*=u}}}):e.image.imageScaleMode==="FILL"?R0(t,e,!0):e.image.imageScaleMode==="STRETCH"&&e.image&&i.update({layer:e,data:{image(d){d.width*=u,d.imageX*=u,d.height*=c,d.imageY*=c}}}))}}var tm={exports:{}};(function(t){(function(){function e(k,N){document.addEventListener?k.addEventListener("scroll",N,!1):k.attachEvent("scroll",N)}function n(k){document.body?k():document.addEventListener?document.addEventListener("DOMContentLoaded",function N(){document.removeEventListener("DOMContentLoaded",N),k()}):document.attachEvent("onreadystatechange",function N(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",N),k())})}function r(k){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(k)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function i(k,N){k.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+N+";"}function u(k){var N=k.g.offsetWidth,W=N+100;return k.j.style.width=W+"px",k.i.scrollLeft=W,k.h.scrollLeft=k.h.scrollWidth+100,k.l!==N?(k.l=N,!0):!1}function c(k,N){function W(){var H=Q;u(H)&&H.g.parentNode!==null&&N(H.l)}var Q=k;e(k.h,W),e(k.i,W),u(k)}function l(k,N,W){N=N||{},W=W||window,this.family=k,this.style=N.style||"normal",this.weight=N.weight||"normal",this.stretch=N.stretch||"normal",this.context=W}var d=null,p=null,w=null,v=null;function E(k){return p===null&&(C(k)&&/Apple/.test(window.navigator.vendor)?(k=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),p=!!k&&603>parseInt(k[1],10)):p=!1),p}function C(k){return v===null&&(v=!!k.document.fonts),v}function L(k,N){var W=k.style,Q=k.weight;if(w===null){var H=document.createElement("div");try{H.style.font="condensed 100px sans-serif"}catch{}w=H.style.font!==""}return[W,Q,w?k.stretch:"","100px",N].join(" ")}l.prototype.load=function(k,N){var W=this,Q=k||"BESbswy",H=0,ie=N||3e3,le=new Date().getTime();return new Promise(function(ne,de){if(C(W.context)&&!E(W.context)){var we=new Promise(function(X,V){function re(){new Date().getTime()-le>=ie?V(Error(""+ie+"ms timeout exceeded")):W.context.document.fonts.load(L(W,'"'+W.family+'"'),Q).then(function(ue){1<=ue.length?X():setTimeout(re,25)},V)}re()}),R=new Promise(function(X,V){H=setTimeout(function(){V(Error(""+ie+"ms timeout exceeded"))},ie)});Promise.race([R,we]).then(function(){clearTimeout(H),ne(W)},de)}else n(function(){function X(){var Fe;(Fe=Ee!=-1&&j!=-1||Ee!=-1&&te!=-1||j!=-1&&te!=-1)&&((Fe=Ee!=j&&Ee!=te&&j!=te)||(d===null&&(Fe=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!Fe&&(536>parseInt(Fe[1],10)||parseInt(Fe[1],10)===536&&11>=parseInt(Fe[2],10))),Fe=d&&(Ee==me&&j==me&&te==me||Ee==Me&&j==Me&&te==Me||Ee==Oe&&j==Oe&&te==Oe)),Fe=!Fe),Fe&&(Le.parentNode!==null&&Le.parentNode.removeChild(Le),clearTimeout(H),ne(W))}function V(){if(new Date().getTime()-le>=ie)Le.parentNode!==null&&Le.parentNode.removeChild(Le),de(Error(""+ie+"ms timeout exceeded"));else{var Fe=W.context.document.hidden;(Fe===!0||Fe===void 0)&&(Ee=re.g.offsetWidth,j=ue.g.offsetWidth,te=ee.g.offsetWidth,X()),H=setTimeout(V,50)}}var re=new r(Q),ue=new r(Q),ee=new r(Q),Ee=-1,j=-1,te=-1,me=-1,Me=-1,Oe=-1,Le=document.createElement("div");Le.dir="ltr",i(re,L(W,"sans-serif")),i(ue,L(W,"serif")),i(ee,L(W,"monospace")),Le.appendChild(re.g),Le.appendChild(ue.g),Le.appendChild(ee.g),W.context.document.body.appendChild(Le),me=re.g.offsetWidth,Me=ue.g.offsetWidth,Oe=ee.g.offsetWidth,V(),c(re,function(Fe){Ee=Fe,X()}),i(re,L(W,'"'+W.family+'",sans-serif')),c(ue,function(Fe){j=Fe,X()}),i(ue,L(W,'"'+W.family+'",serif')),c(ee,function(Fe){te=Fe,X()}),i(ee,L(W,'"'+W.family+'",monospace'))})})},t.exports=l})()})(tm);var WE=tm.exports;const HE=Ko(WE);function Rd(t){console.log("[dev]",...t)}function zE(t){return new Promise(e=>{const n=new FileReader;t instanceof Blob?n.readAsDataURL(t):n.readAsDataURL(new Blob([t])),n.onload=function(){e(this.result)},n.onerror=r=>{I2("Failed to get base64","")}})}function jE(t,e){ze.forEach(e,r=>{r.subset.charCodeList=[],r.subset.charMap={}});const n={};return ze.forEach(t,r=>{const{characters:i}=r.textData,u=r.fontName.fullname;n[u]=!0;const c=e[u];if(c)for(let l=0;l<i.length;l+=1){const d=i.charCodeAt(l);c.subset.charMap[d]={char:i[l],unicode:d,glyph:null},c.subset.charCodeList.push(d)}}),ze.forEach(n,(r,i)=>{const u=e[i];if(u){const c=nm(u);u.subset.currentText!==c&&(u.subset.subsetBase64=""),u.subset.currentText=c}}),n}function nm(t){return ze.sortBy(ze.uniq(t.subset.charCodeList)).map(e=>t.subset.charMap[e].char).filter(e=>e!==`
`).join("")}function VE(t,e,n){return Promise.all(Object.keys(e).map(r=>new Promise(i=>{const u=n[r];u?u.subset.subsetBase64?i(""):XE(t,r,n).then(()=>{i("")}):i("")})))}function XE(t,e,n){const r=t.props.getRootStore().fontMap[e],i=n[r.fontName],u=nm(i);return t.props.getRootStore().getFontSubsetFileFromBackend({src:r.woff2FileUrl||r.ttfURL,chars:u}).then(c=>(i.subset.subsetBase64=c,c))}const Ui={};function YE(t,e){return t.props.getRootStore().fontMap[e]||null}function KE(t){return Ui[t]||null}async function QE(t,e){const n=YE(t,e);if(KE(e)||(Ui[e]={styleTagReady:!1,parsed:null,newFont:null,subset:{charMap:{},charCodeList:[],currentText:"",subsetBase64:""},base64String:"",fontkitFont:null,fontkitString:""}),n.fontFaceReady===!0)return"";n.fontFaceReady=!0;const r=i=>{n.fontFaceReady=!1};return ZE(n).then(()=>(Rd([`Loading ${e}`]),rm(n),"")).catch(i=>{throw r(),new Error(`Failed to ensure font ${n.fontName}`)})}async function rm(t){const{fontName:e}=t,n=t.woff2FileUrl||t.ttfURL;return qE(n).then(r=>{Ui[e].base64String=r})}function qE(t){return JE(t).then(e=>e.blob()).then(e=>zE(e))}function JE(t){return fetch(t,{method:"GET"})}async function ZE(t,e){const{fontName:n}=t,r=Ui[n];if(r.styleTagReady)return"";const i=document.createElement("style");let u=t.woff2FileUrl||t.ttfURL;const c=new HE(Od(n));return i.setAttribute("data-font-name",n),i.setAttribute("id",n),i.innerHTML=Mf(n,u),document.getElementsByTagName("head")[0].appendChild(i),c.load(null,60*60*1e3).then(()=>(r.styleTagReady=!0,"")).catch(l=>{throw new Error(l.message)})}function Od(t){return t.replace(/\./g,"")}async function u3(t,e){const n=jE(e,Ui);await VE(t,n,Ui),Rd([Ui,n])}function Mf(t,e){return`@font-face {
    font-family: "${Od(t)}";
    font-display: swap;
    src:url('${e}') format('truetype');
  }`}async function c3(t,e,n){if(n==="")return"";const r=Ui[n];if(r.subset.subsetBase64)return Mf(n,r.subset.subsetBase64);r||(Rd([`${n} is not initialized yet.`,Ui]),await QE(t,n));{if(!r.base64String){const i=t.props.getRootStore().fontMap[n];await rm(i)}return Mf(n,r.base64String)}}const eA="break-word";let hi=1;function tA(){return hi}const Nr={textContainer:null,divElement:null};typeof window<"u"&&(Nr.textContainer=document.createElement("div"),Nr.textContainer.style.cssText+=["position: fixed;","left: 0;","top: 0;","overflow: hidden;"].join(""),document.body.appendChild(Nr.textContainer),Nr.divElement=document.createElement("div"),Nr.divElement.style.cssText+=["position: fixed;","left: 0;","top: 0;","visibility: hidden;","pointer-events: none;","z-index: 1000;"].join(""),Nr.textContainer.appendChild(Nr.divElement));function nA(t){const e=k2()==="safari"?1:4;return t<12*e?12/t:1/e}function rA(t){hi=nA(t.fontSize);const e=t.fontSize*hi,n={position:"absolute",left:"0",top:"0",transformOrigin:"0 0",width:`${t.width*hi}px`,lineHeight:`${t.lineHeight.value}`,fontFamily:`${Od(t.fontName.fullname)}`,fontSize:`${e}px`,wordWrap:`${eA}`,fontWeight:`${t.fontWeight==="BOLD"?"bold":"normal"}`,whiteSpace:"pre-wrap",textAlign:t.textAlignHorizontal.toLowerCase(),writingMode:t.writingMode,fontStyle:t.fontStyle==="ITALIC"?"italic":"normal",textDecoration:`${t.textDecoration==="STRIKE_THROUGH"?"line-through":""} ${t.textDecoration==="UNDERLINE"?"underline":""}`,letterSpacing:`${t.letterSpacing.value*hi}px`};return n.transform=`scale(${1/hi})`,t.writingMode==="horizontal-tb"?(n.width=`${t.width*hi}px`,n.height="auto"):(n.width="auto",n.height=`${t.height*hi}px`),n}function im(t){const e=rA(t);return iA(e)}function iA(t){return Object.keys(t).map(n=>`${ze.kebabCase(n).replace("webkit","-webkit")}: ${t[n]}`).join(";")}function oA(t){if(!Nr.divElement)return{nextWidth:0,nextHeight:0};Nr.divElement.style.cssText+=im(t),Nr.divElement.innerText=t.textData.characters;let e=t.width,n=t.height;if(t.writingMode==="horizontal-tb"){const r=Ga(Nr.divElement);e=t.width,n=r/hi}else e=Ua(Nr.divElement)/hi,n=t.height;return{nextWidth:e,nextHeight:n}}function sA(t){const e=[];if(t.textData){const{textData:n}=t;let r=-1e3,i={styleID:-1e3,start:0,end:0};n.characterStyleIDs.forEach((u,c)=>{u!==r?(r=u,i={styleID:u,start:c,end:c},e.push(i)):i.end=c})}return e}function Fd({start:t,end:e,textData:n}){const r=[];let i=null;for(let u=t;u<e;u+=1){const c=n.characterStyleIDs[u-1],l=n.characterStyleIDs[u+1],d=n.characterStyleIDs[u];(u===t||d!==c)&&(i={styleID:d,start:u,end:u,prevOne:c,nextOne:void 0}),(u===e-1||d!==l)&&(i.nextOne=l,i.end=u+1,r.push(i))}return r}function l3({localStore:t,layer:e}){const{start:n,end:r}=t.selectionInfo.textRange$,i={fontName:new Set,fontSize:new Set,fontStyle:new Set,textDecoration:new Set};function u({styleID:c}){var l;if(c!==0){const d=e.textData.styleOverrideTable.find(p=>p.styleID===c);i.fontName.add(((l=d==null?void 0:d.fontName)==null?void 0:l.fullname)||e.fontName.fullname),i.fontSize.add((d==null?void 0:d.fontSize)||e.fontSize),i.fontStyle.add((d==null?void 0:d.fontStyle)||e.fontStyle),i.textDecoration.add((d==null?void 0:d.textDecoration)||e.textDecoration)}else i.fontName.add(e.fontName.fullname),i.fontSize.add(e.fontSize),i.fontStyle.add(e.fontStyle),i.textDecoration.add(e.textDecoration)}if(t.editingText)if(n!==r)Fd({start:n,end:r,textData:e.textData}).forEach(l=>{u({styleID:l.styleID})});else{const c=e.textData.characterStyleIDs[n-1]||0;u({styleID:c})}else u({styleID:0});return i}function If({Raptor:t,value:e}){return e==="ROUND"?t.StrokeJoin.Round:e==="BEVEL"?t.StrokeJoin.Bevel:t.StrokeJoin.Miter}function om({paint:t,Raptor:e,leftTop:n,bottomRight:r}){if(t.type==="GRADIENT_LINEAR"){let l=[.5,n[1]],d=[.5,r[1]];if(typeof t.angle=="number"){const[w,v]=n,[E,C]=r,L=Ld([{x:w,y:v},{x:w,y:C},{x:E,y:v},{x:E,y:C}],t.angle),k=qo(L),N=Lf(k.leftBottom,k.rightBottom),W=Lf(k.leftTop,k.rightTop);l=[N.x,N.y],d=[W.x,W.y]}const p=e.Shader.MakeLinearGradient(l,d,t.stops.map(w=>new Float32Array(Zt(w.color).toFigmaArray())),t.stops.map(w=>w.position),e.TileMode.Decal);return p.deleteLater(),p}const i=r[0]-n[0],u=r[1]-n[1],c=e.Shader.MakeRadialGradient([i/2,u/2],Math.max(i/2,u/2),t.stops.map(l=>new Float32Array(Zt(l.color).toFigmaArray())),t.stops.map(l=>l.position),e.TileMode.Clamp);return c.deleteLater(),c}function aA({Raptor:t,fileData:e,layer:n}){const r=new t.ParagraphStyle({textStyle:{color:t.BLACK,fontFamilies:[n.fontName.fullname],fontSize:n.fontSize},textAlign:t.TextAlign.Left}),{textStyle:i}=r;if(n.textAlignHorizontal==="LEFT"?r.textAlign=t.TextAlign.Left:n.textAlignHorizontal==="RIGHT"?r.textAlign=t.TextAlign.Right:n.textAlignHorizontal==="CENTER"&&(r.textAlign=t.TextAlign.Center),i&&sm({Raptor:t,styleData:{...n,fillPaints:[],effects:[]},fileData:e,textStyle:i}),i){const{strutStyle:u}=r;u&&(u.strutEnabled=!0,u.fontFamilies=[n.fontName.fullname],u.fontSize=i.fontSize,u.heightMultiplier=n.lineHeight.value,u.fontStyle&&(n.fontStyle==="ITALIC"?u.fontStyle.slant=t.FontSlant.Italic:u.fontStyle.slant=t.FontSlant.Oblique))}return r}function sm({Raptor:t,fileData:e,styleData:n,textStyle:r}){var i,u;r!=null&&r.fontStyle&&(n.fontStyle==="ITALIC"?r.fontStyle.slant=t.FontSlant.Italic:r.fontStyle.slant=t.FontSlant.Oblique,n.fontWeight==="BOLD"?r.fontStyle.weight=t.FontWeight.Bold:r.fontStyle.weight=t.FontWeight.Normal,n.textDecoration==="UNDERLINE"?(r.decoration=1,r.decorationStyle=t.DecorationStyle.Solid):r.decoration=0),(i=n.fillPaints)!=null&&i[0]?n.fillPaints[0].type==="SOLID"&&(r.color=[n.fillPaints[0].color.r,n.fillPaints[0].color.g,n.fillPaints[0].color.b,n.fillPaints[0].color.a]):r.color=t.TRANSPARENT,r.halfLeading=!0,n.lineHeight&&(r.heightMultiplier=n.lineHeight.value),(u=n.effects)==null||u.forEach(c=>{if(c.visible&&c.type==="DROP_SHADOW"){const l={blurRadius:e.doScale(c.radius),offset:[e.doScale(c.offset.x),e.doScale(c.offset.y)],color:Zt(c.color).toFigmaArray()};r.shadows=[l]}}),r&&(n.fontName&&(r.fontFamilies=[n.fontName.fullname]),n.fontSize&&(r.fontSize=e.doScale(n.fontSize)))}function kf(t){return t.fontSize/5}function ga({Raptor:t,layer:e,paragraph:n,scale:r}){e.textAutoResize==="WIDTH_AND_HEIGHT"&&n.layout((e.width+kf(e))*r),e.textAutoResize==="HEIGHT"&&n.layout(e.width*r)}function uA({Raptor:t,fileData:e,layer:n,persistNewParagraph:r}){var d,p;const i={highlightRectList:[],newParagraph:null,strokeList:[],shadowList:[],fillList:[]},u=sA(n),c=aA({Raptor:t,fileData:e,layer:n}),l=t.ParagraphBuilder.MakeFromFontProvider(c,e.fontProvider);if(l.deleteLater(),n.textData&&u.length>0){const w=u.map(L=>{const k=n.textData.characters.slice(L.start,L.end+1),N=n.textData.styleOverrideTable.find(Q=>Q.styleID===L.styleID),W=new t.TextStyle({});return sm({Raptor:t,fileData:e,styleData:{...n,...N},textStyle:W}),{start:L.start,end:L.end+1,blockStyle:W,text:k,override:N,fillPaints:(N==null?void 0:N.fillPaints)||n.fillPaints||[]}});l.reset(),w.forEach(L=>{L.blockStyle.shadows=void 0,l.pushStyle(L.blockStyle),l.addText(L.text)});const v=l.build();ga({Raptor:t,layer:n,paragraph:v,scale:e.scale}),w.forEach(L=>{var k;if((k=L.override)!=null&&k.highlight){const{start:N,end:W}=L;v.getRectsForRange(N,W,t.RectHeightStyle.Tight,t.RectWidthStyle.Tight).forEach(H=>{var ie,le;(ie=L.override)!=null&&ie.highlight&&i.highlightRectList.push({rect:H,highlight:(le=L.override)==null?void 0:le.highlight})})}}),r||v.deleteLater(),i.newParagraph=v;let E=0;n.fillPaints.length>E&&(E=n.fillPaints.length),n.textData.styleOverrideTable.forEach(L=>{L.fillPaints&&L.fillPaints.length>E&&(E=L.fillPaints.length)});for(let L=0;L<E;L+=1){l.reset(),w.forEach(N=>{const W=N.fillPaints[L],Q=new t.Paint;if(Q.deleteLater(),Q.setAntiAlias(!0),W&&W.visible){if(W.type==="SOLID"&&Q.setColor(Zt(W.color).toFigmaArray()),W.type==="GRADIENT_LINEAR"||W.type==="GRADIENT_RADIAL"){const ie=v.getHeight(),le=v.getMaxWidth(),ne=om({Raptor:t,leftTop:[0,0],bottomRight:[le,ie],paint:W});Q.setShader(ne)}}else Q.setColor(t.TRANSPARENT);const H=new t.Paint;H.deleteLater(),H.setStyle(t.PaintStyle.Fill),H.setColor(t.TRANSPARENT),l.pushPaintStyle(N.blockStyle,Q,H),l.addText(N.text)});const k=l.build();k.deleteLater(),ga({Raptor:t,layer:n,paragraph:k,scale:e.scale}),i.fillList.push({paragraph:k})}const C=n.strokePaints.length>0?n.strokeWeight:0;(d=n.strokePaints)==null||d.forEach(L=>{if(L.visible){l.reset(),w.forEach(N=>{N.blockStyle.shadows=void 0;const W=new t.Paint;W.deleteLater(),L.type==="SOLID"?W.setColor([L.color.r,L.color.g,L.color.b,L.color.a]):L.type==="GRADIENT_LINEAR"&&W.setColor(Zt(L.stops[0].color).toFigmaArray()),W.setAntiAlias(!0),W.setStyle(t.PaintStyle.Stroke),W.setStrokeJoin(If({Raptor:t,value:n.strokeJoin})),n.strokeAlign==="CENTER"?W.setStrokeWidth(e.doScale(C)):n.strokeAlign==="INSIDE"?(W.setStrokeWidth(e.doScale(C*2)),W.setBlendMode(t.BlendMode.SrcATop)):n.strokeAlign==="OUTSIDE"&&(W.setStrokeWidth(e.doScale(C*2)),W.setBlendMode(t.BlendMode.DstATop));const Q=new t.Paint;Q.deleteLater(),Q.setStyle(t.PaintStyle.Fill),Q.setColor(t.TRANSPARENT),l.pushPaintStyle(N.blockStyle,W,Q),l.addText(N.text)});const k=l.build();ga({Raptor:t,layer:n,paragraph:k,scale:e.scale}),k.deleteLater(),i.strokeList.push({paragraph:k})}}),(p=n.effects)==null||p.forEach(L=>{if(L&&L.visible===!0&&L.type==="DROP_SHADOW"){l.reset(),w.forEach(W=>{W.blockStyle.shadows=void 0;const Q=new t.Paint;Q.deleteLater(),Q.setColor([L.color.r,L.color.g,L.color.b,L.color.a]),Q.setAntiAlias(!0),Q.setStyle(t.PaintStyle.Fill);const H=new t.Paint;H.deleteLater(),H.setStyle(t.PaintStyle.Fill),H.setColor(t.TRANSPARENT),l.pushPaintStyle(W.blockStyle,Q,H),l.addText(W.text)});const k=l.build();ga({Raptor:t,layer:n,paragraph:k,scale:e.scale}),k.deleteLater(),l.reset(),w.forEach(W=>{W.blockStyle.shadows=void 0;const Q=new t.Paint;Q.deleteLater(),Q.setColor([L.color.r,L.color.g,L.color.b,L.color.a]),Q.setAntiAlias(!0),Q.setStrokeJoin(If({Raptor:t,value:n.strokeJoin})),Q.setStyle(t.PaintStyle.Stroke);let H=0;n.strokeAlign==="CENTER"?H=C+L.spread:n.strokeAlign==="OUTSIDE"&&(H=(C+L.spread)*2),Q.setStrokeWidth(e.doScale(H));const ie=new t.Paint;ie.deleteLater(),ie.setStyle(t.PaintStyle.Fill),ie.setColor(t.TRANSPARENT),l.pushPaintStyle(W.blockStyle,Q,ie),l.addText(W.text)});const N=l.build();ga({Raptor:t,layer:n,paragraph:N,scale:e.scale}),N.deleteLater(),i.shadowList.push({paragraph:k,strokedParagraph:N,offset:{x:L.offset.x,y:L.offset.y},radius:L.radius})}})}return i}function Nd({Raptor:t,fileData:e,layer:n,src:r,persistNewParagraph:i}){var p;if(!r)return uA({Raptor:t,fileData:e,layer:n,persistNewParagraph:i});const u={highlightRectList:[],newParagraph:null,strokeList:[],shadowList:[],fillList:[]},{text:c}=r,l=new t.ParagraphStyle({textStyle:{color:t.BLACK}});(p=l.textStyle)!=null&&p.fontStyle&&(n.fontStyle==="ITALIC"?l.textStyle.fontStyle.slant=t.FontSlant.Italic:l.textStyle.fontStyle.slant=t.FontSlant.Oblique,n.fontWeight==="BOLD"?l.textStyle.fontStyle.weight=t.FontWeight.Bold:l.textStyle.fontStyle.weight=t.FontWeight.Normal);const d=e.fontStore.getFontInfo(n.fontName.fullname);if(d&&l.textStyle){l.textStyle.fontFamilies=[d.name],l.textStyle.fontSize=e.doScale(n.fontSize);const{strutStyle:w}=l;if(w&&(w.strutEnabled=!0,w.forceStrutHeight=!0,w.fontFamilies=[d.name],w.fontSize=l.textStyle.fontSize,w.heightMultiplier=n.lineHeight.value,w.fontStyle&&(n.fontStyle==="ITALIC"?w.fontStyle.slant=t.FontSlant.Italic:w.fontStyle.slant=t.FontSlant.Oblique)),d.fontMgr){const v=t.ParagraphBuilder.Make(l,d.fontMgr);v.deleteLater(),v.addText(c);const E=v.build();E.deleteLater(),u.newParagraph=E}}return u}function cA({fileData:t,layer:e,instanceChain:n}){const r=en({localStore:t.localStore,layer:e,instanceChain:n}),i={left:0,top:0,width:r.width,height:r.height};if(r.textAutoResize==="NONE")return i;const c=Nd({Raptor:t.Raptor,fileData:t,layer:e}).newParagraph;if(c){if(r.textAutoResize==="HEIGHT"){let l=0;c.getLineMetrics().forEach(p=>{l+=p.height}),i.width=r.width,i.height=l/t.scale}else if(r.textAutoResize==="WIDTH_AND_HEIGHT"){c.layout(t.doScale(1e5));let l=0;c.getLineMetrics().forEach(d=>{d.width>l&&(l=d.width)}),i.width=l/t.scale,i.height=c.getHeight()/t.scale}}return i}let am=null;function f3(t){am=t}function lA(t,e){return t/1e3*e}function fA(t){return t/1e3+1.2}function dA(t,e){return t==null?void 0:t.map(n=>{const r=n.width*e/128*5;return{...n,width:r}})}function hA(t,e){return t==null?void 0:t.map(n=>({...n,width:n.width*25/512*e}))}function pA(t,e){return t==null?void 0:t.map(n=>({...n,blur:n.blur*e/128*5}))}function d3(t){const e=t,{fontSize:n,lineSpacing:r,letterSpacing:i,textGlow:u=[],textShadow:c=[],textStroke:l=[]}=t;return e.letterSpacing=lA(i,n),e.lineSpacing=fA(r),e.textGlow=hA(u,n),e.textShadow=pA(c,n),e.textStroke=dA(l,n),e}function h3(t,e,n,r=!0){const i={},u=r?tA():1;n.forEach(l=>{if(l.hidden)return;const{color:d}=cf(l.color,"rgba");i.WebkitTextStroke=`${l.width*2*u}px ${d}`});const c=[];return t.forEach(l=>{const{width:d,color:p,hidden:w}=l;w||c.push(`0 0 ${d*u}px ${cf(p,"rgba").color}`)}),e.forEach(l=>{const{color:d,x:p,y:w,blur:v,hidden:E}=l;E||c.push(`${p*u}px ${w*u}px ${v*u}px ${cf(d,"rgba").color}`)}),i.textShadow=c.join(","),i.color="transparent",i}function p3(t){return{color:"transparent"}}function gA(t){const e=am;e&&e.getEditor()&&(e.getEditor().root.style.cssText=im(t))}const mA=Wa;function Wa({localStore:t,layer:e,instanceChain:n,step:r}){let i=0,u=0;const c=ni(t);if(c){const d=cA({fileData:c.fileData,layer:e,instanceChain:n});i=d.width,u=d.height}else{const d=oA(e);i=d.nextWidth,u=d.nextHeight}const l=G2(e,i,u,e.writingMode==="horizontal-tb"?"left":"right");Gt({localStore:t,node:e,instanceChain:n,nodeSize:{width:i,height:u},data:{left:l.x,top:l.y},step:r})}function yA({localStore:t,layer:e,size:n,containerStackMode:r,instanceChain:i,step:u}){const c={};n==="Fill"?(r==="VERTICAL"?c.stackChildAlignSelf="STRETCH":r==="HORIZONTAL"&&(c.stackChildPrimaryGrow=1),e.nodeType==="TEXT"&&(c.textAutoResize="HEIGHT")):(r==="VERTICAL"?c.stackChildAlignSelf="AUTO":r==="HORIZONTAL"&&(c.stackChildPrimaryGrow=0),n==="Fixed"?(e.nodeType==="TEXT"&&(c.textAutoResize="HEIGHT"),En(e)==="HORIZONTAL"?c.stackPrimarySizing="FIXED":En(e)==="VERTICAL"&&(c.stackCounterSizing="FIXED")):n==="Hug"&&(e.nodeType==="TEXT"&&(c.textAutoResize="WIDTH_AND_HEIGHT"),En(e)==="HORIZONTAL"?c.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE":En(e)==="VERTICAL"&&(c.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"))),Gt({localStore:t,node:e,instanceChain:i,data:c,step:u}),e.nodeType==="TEXT"&&Wa({localStore:t,layer:e,step:u,instanceChain:i})}function vA({localStore:t,layer:e,size:n,containerStackMode:r,instanceChain:i,step:u}){const c={};n==="Fill"?r==="HORIZONTAL"?c.stackChildAlignSelf="STRETCH":r==="VERTICAL"&&(c.stackChildPrimaryGrow=1):(r==="VERTICAL"?c.stackChildPrimaryGrow=0:r==="HORIZONTAL"&&(c.stackChildAlignSelf="AUTO"),n==="Fixed"?En(e)==="VERTICAL"?c.stackPrimarySizing="FIXED":En(e)==="HORIZONTAL"&&(c.stackCounterSizing="FIXED"):n==="Hug"&&(En(e)==="VERTICAL"?c.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE":En(e)==="HORIZONTAL"&&(c.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"))),Gt({localStore:t,node:e,instanceChain:i,data:c,step:u})}function wA({localStore:t,layer:e,instanceChain:n}){const r=en({localStore:t,layer:e,instanceChain:n});if(e.nodeType==="TEXT"&&r.textAutoResize==="WIDTH_AND_HEIGHT")return"Hug";const i=Ao(t,e);if(i&&En(i)==="VERTICAL"&&r.stackChildAlignSelf==="STRETCH"||i&&En(i)==="HORIZONTAL"&&r.stackChildPrimaryGrow===1)return"Fill";if(r.stackMode==="HORIZONTAL"){if(r.stackPrimarySizing==="FIXED")return"Fixed";if(r.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}if(r.stackMode==="VERTICAL"){if(r.stackCounterSizing==="FIXED")return"Fixed";if(r.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}return"Fixed"}function xA({localStore:t,layer:e,instanceChain:n}){const r=en({localStore:t,layer:e,instanceChain:n}),i=Ao(t,e);if(i&&En(i)==="HORIZONTAL"&&r.stackChildAlignSelf==="STRETCH"||i&&En(i)==="VERTICAL"&&r.stackChildPrimaryGrow===1)return"Fill";if(r.stackMode==="VERTICAL"){if(r.stackPrimarySizing==="FIXED")return"Fixed";if(r.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}if(r.stackMode==="HORIZONTAL"){if(r.stackCounterSizing==="FIXED")return"Fixed";if(r.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}return"Fixed"}function g3(t,e,n){const r={Fill:!1,Hug:!1,Fixed:!0},i=Ao(t,e),u=en({localStore:t,layer:e,instanceChain:n});return i&&En(i)!=="NONE"&&u.stackPositioning!=="ABSOLUTE"&&(r.Fill=!0),En(e)!=="NONE"&&(r.Hug=!0),e.nodeType==="TEXT"&&(r.Hug=!0),r}function og(t){return t.stackMode==="HORIZONTAL"?{start:"left",size:"width",paddingStart:"stackPaddingLeft",paddtinEnd:"stackPaddingRight"}:{start:"top",size:"height",paddingStart:"stackPaddingTop",paddtinEnd:"stackPaddingBottom"}}function sg(t){return t.stackMode==="HORIZONTAL"?{start:"top",size:"height",paddingStart:"stackPaddingTop",paddtinEnd:"stackPaddingBottom"}:{start:"left",size:"width",paddingStart:"stackPaddingLeft",paddtinEnd:"stackPaddingRight"}}function $d({localStore:t,layer:e,instanceChain:n,options:r}){const i=[...n];if(e.nodeType==="INSTANCE"&&i[i.length-1]===e&&i.pop(),e.parentId){let u=t.getLayer(e.parentId);if(u&&u.stackMode){if(u.nodeType==="SYMBOL"){let c=i.length-1;for(;c>=0;)i[c].symbolData.symbolID.id===u.id&&(u=i[c]),c-=1}return $d({localStore:t,layer:u,instanceChain:i,options:r})}}return(e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&e.stackMode?(e.nodeType==="INSTANCE"&&i[i.length-1]!==e&&i.push(e),{layer:e,instanceChain:i}):null}function Co({localStore:t,layer:e,instanceChain:n,step:r,options:i}){n=Un(n,e);const u=$d({localStore:t,layer:e,instanceChain:n,options:i});u&&Tc({localStore:t,layer:u.layer,parent:null,instanceChain:u.instanceChain,data:{},constraintsMap:{},step:r,options:i})}function Rf({fileData:t,localStore:e,layer:n,instanceChain:r}){return Ba(t,n).filter(i=>{const u=en({localStore:e,layer:i,instanceChain:Un(r,i)});return!(!u.visible||u.stackPositioning==="ABSOLUTE")}).map(i=>({child:i,childInstanceChain:Un(r,i),childInfo:en({localStore:e,layer:i,instanceChain:Un(r,i)})}))}function bA({context:t,localStore:e,instanceChain:n,parentInstanceChain:r,parent:i,layer:u,constraintsMap:c,step:l,options:d}){n=Un(n,u);const p=en({localStore:e,layer:u,instanceChain:n});let w=!1,v=!1;p.stackPrimarySizing==="FIXED"&&(w=!0),p.stackCounterSizing==="FIXED"&&(v=!0);const E=og(p),C=sg(p);if(i){const L=en({localStore:e,layer:i,instanceChain:r});if(p.stackChildPrimaryGrow===1&&L.stackMode!=="NONE"&&L.stackPrimarySizing!=="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"){const k=og(L);let N=L[k.size]-L[k.paddingStart]-L[k.paddtinEnd],W=0;Rf({fileData:t.fileData,localStore:e,layer:i,instanceChain:r}).forEach(({childInfo:Q})=>{Q.stackChildPrimaryGrow!==1?N-=Q[k.size]:W+=1,N-=L.stackSpacing}),N+=L.stackSpacing,Gt({localStore:e,node:u,instanceChain:n,nodeSize:{[k.size]:N/W},step:l}),k.start===E.start?w=!0:v=!0}if(p.stackChildAlignSelf==="STRETCH"){const k=sg(L);L.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"||(Gt({localStore:e,node:u,instanceChain:n,nodeSize:{[k.size]:L[k.size]-L[k.paddingStart]-L[k.paddtinEnd]},step:l}),k.start===E.start?w=!0:v=!0)}}if(p.stackMode!=="NONE"){if(u.nodeType==="FRAME"||u.nodeType==="SYMBOL"||u.nodeType==="INSTANCE"){const L=Rf({localStore:e,fileData:t.fileData,layer:u,instanceChain:n});let k=0,N=0,W=0;const Q=(L.length-1)*p.stackSpacing;if(L.forEach(({child:H,childInfo:ie,childInstanceChain:le})=>{Tc({localStore:e,parent:u,layer:H,instanceChain:le,data:{},constraintsMap:c,step:l,options:d}),ie[C.size]>k&&(k=ie[C.size]),W+=ie[E.size]}),w===!1&&p.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&p.stackPrimaryAlignItems!=="SPACE_EVENLY"&&(Gt({localStore:e,node:u,instanceChain:n,nodeSize:{[E.size]:p[E.paddingStart]+p[E.paddtinEnd]+W+Q},step:l}),w=!0),v===!1&&p.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&(Gt({localStore:e,node:u,instanceChain:n,nodeSize:{[C.size]:k+p[C.paddingStart]+p[C.paddtinEnd]},step:l}),v=!0),p.stackPrimaryAlignItems==="SPACE_EVENLY"){let H=p[E.paddingStart];N=p[E.size]-p[E.paddingStart]-p[E.paddtinEnd],L.forEach(({childInfo:ie})=>{N-=ie[E.size]}),L.length>=2&&(N/=L.length-1),L.forEach(({child:ie,childInfo:le,childInstanceChain:ne},de)=>{Gt({localStore:e,node:ie,instanceChain:ne,data:{[E.start]:H},step:l}),H+=le[E.size],de<L.length-1&&(H+=N)})}else if(p.stackPrimaryAlignItems==="CENTER"&&w){let H=p[E.paddingStart];H+=(p[E.size]-p[E.paddingStart]-p[E.paddtinEnd]-W-Q)/2,L.forEach(({child:ie,childInfo:le,childInstanceChain:ne})=>{Gt({localStore:e,node:ie,instanceChain:ne,data:{[E.start]:H},step:l}),H+=le[E.size],H+=p.stackSpacing})}else if(p.stackPrimaryAlignItems==="MAX"){let H=p[E.size]-p[E.paddingStart]-W-Q;L.forEach(({child:ie,childInfo:le,childInstanceChain:ne})=>{Gt({localStore:e,node:ie,instanceChain:n,data:{[E.start]:H},step:l}),H+=le[E.size],H+=p.stackSpacing})}else{let H=p[E.paddingStart];L.forEach(({child:ie,childInfo:le,childInstanceChain:ne})=>{Gt({localStore:e,node:ie,instanceChain:ne,data:{[E.start]:H},step:l}),H+=le[E.size],H+=p.stackSpacing})}L.forEach(({child:H,childInfo:ie,childInstanceChain:le})=>{p.stackCounterAlignItems==="CENTER"?Gt({localStore:e,node:H,instanceChain:le,data:{[C.start]:(p[C.size]-ie[C.size])/2},step:l}):p.stackCounterAlignItems==="MAX"?Gt({localStore:e,node:H,instanceChain:n,data:{[C.start]:p[C.size]-p[C.paddtinEnd]-ie[C.size]},step:l}):Gt({localStore:e,node:H,instanceChain:n,data:{[C.start]:p[C.paddingStart]},step:l})})}}}function Tc({localStore:t,layer:e,parent:n,instanceChain:r,constraintsMap:i,data:u,step:c,options:l}){const d=ni(t);if(!d)return;let p=[...r];n!==null&&(p=Un(p,n)),r=Un(r,e);const w=en({localStore:t,layer:e,instanceChain:r});if(n===null&&Md({localStore:t,layer:e,instanceChain:r,constraintsMap:i}),r[0]&&r[0]===e&&c.update({layer:r[0],data:{derivedSymbolData(v){v.length=0}}}),e.nodeType==="TEXT"&&w.textAutoResize==="WIDTH_AND_HEIGHT"){mA({localStore:t,layer:e,step:c,instanceChain:r});return}if(Gt({localStore:t,node:e,instanceChain:r,nodeSize:{width:u.width,height:u.height},data:{left:u.left,top:u.top},step:c}),e.nodeType!=="SECTION"&&(bA({context:d,localStore:t,instanceChain:r,parent:n,parentInstanceChain:p,layer:e,constraintsMap:i,step:c,options:l}),e.nodeType==="TEXT"&&Wa({localStore:t,layer:e,step:c,instanceChain:r}),um({localStore:t,room:e,instanceChain:r,map:i,step:c}),e.nodeType==="SYMBOL")){const v=Pd(d.fileData,e),E={};ze.forEach(v,C=>{const L=$d({localStore:t,layer:C,instanceChain:[]});L&&(E[L.instanceChain.map(k=>k.id).join("--")]=L)}),ze.forEach(E,C=>{Co({localStore:t,layer:C.layer,instanceChain:C.instanceChain,step:c})})}}function SA(t,e,n,r){var u,c;const i=ni(t);if(i&&B0(e)){const l=Un([],e),d={};if(e.stackMode==="HORIZONTAL"&&n==="VERTICAL"||e.stackMode==="VERTICAL"&&n==="HORIZONTAL"){const p=e.stackPrimarySizing,w=e.stackCounterSizing;e.children.forEach(v=>{const E=Un(l,v),C=wA({localStore:t,layer:v,instanceChain:E}),L=xA({localStore:t,layer:v,instanceChain:E});yA({localStore:t,layer:v,size:C,containerStackMode:n,instanceChain:E,step:r}),vA({localStore:t,layer:v,size:L,containerStackMode:n,step:r,instanceChain:E})}),d.stackPrimarySizing=w,d.stackCounterSizing=p,e.stackPrimaryAlignItems==="SPACE_EVENLY"?(d.stackPrimaryAlignItems="SPACE_EVENLY",d.stackCounterAlignItems="MIN"):(d.stackPrimaryAlignItems=e.stackCounterAlignItems,d.stackCounterAlignItems=e.stackPrimaryAlignItems)}d.stackMode=n,Gt({localStore:t,node:e,instanceChain:l,data:d,step:r}),Co({localStore:t,layer:e,instanceChain:l,step:r}),(c=(u=t.props).doAction)==null||c.call(u,r.getNewAction()),e.nodeType==="SYMBOL"&&gE(i,e,p=>{SA(t,p,n,r)})}}function m3({localStore:t,layer:e,value:n,instanceChain:r,step:i}){var u,c;if(En(e)!=="NONE"){if(n==="SPACE_EVENLY"){const l={stackPrimaryAlignItems:"SPACE_EVENLY"};e.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&(l.stackPrimarySizing="FIXED"),Gt({localStore:t,node:e,instanceChain:r,step:i,data:l})}else Gt({localStore:t,node:e,instanceChain:r,step:i,data:{stackPrimaryAlignItems:"MIN",stackSpacing:n}});Co({localStore:t,layer:e,instanceChain:r,step:i}),(c=(u=t.props).doAction)==null||c.call(u,i.getNewAction())}}function um({localStore:t,room:e,instanceChain:n,map:r,step:i}){const u=t.getFigma();u&&(n=Un(n,e),Ba(u.context.fileData,e).forEach(c=>{const l=r[c.id];if(c&&l&&e){const d=Ac({localStore:t,layer:e,instanceChain:n}),p={};typeof l.left=="number"&&typeof l.right=="number"?(p.left=l.left,p.width=d.width-l.left-l.right):typeof l.right=="number"?p.left=d.width-l.right-c.width:typeof l.left=="number"&&(p.left=l.left),typeof l.top=="number"&&typeof l.bottom=="number"?(p.top=l.top,p.height=d.height-l.top-l.bottom):typeof l.bottom=="number"?p.top=d.height-l.bottom-c.height:typeof l.top=="number"&&(p.top=l.top),Tc({localStore:t,layer:c,parent:null,instanceChain:n,data:p,constraintsMap:{},step:i})}}))}function EA({localStore:t,fileData:e,layer:n,step:r,width:i,height:u}){const c=Pd(e,n);ze.forEach(c,l=>{let d=!1;if(n.width.toFixed(1)===l.width.toFixed(1)&&n.height.toFixed(1)===l.height.toFixed(1)?d=!1:d=!0,d){const{left:p,top:w}=Sc({width:i,height:u,t:In(l)});r.update({layer:l,data:{left:p,top:w,width:i,height:u}})}})}function AA({localStore:t,layer:e,left:n,top:r,width:i,height:u,step:c}){const l=ni(t);if(l){const d=Un([],e);e.nodeType==="SYMBOL"&&EA({localStore:t,fileData:l.fileData,layer:e,width:i,height:u,step:c}),e.nodeType==="INSTANCE"&&Gt({localStore:t,node:e,instanceChain:d,nodeSize:{width:e.width,height:e.height},step:c,isResizingInstanceManually:!0}),Tc({localStore:t,layer:e,parent:null,instanceChain:d,step:c,constraintsMap:{},data:{left:n,top:r,width:i,height:u}})}else Gt({localStore:t,node:e,nodeSize:{width:i,height:u},data:{left:n,top:r},step:c,instanceChain:[]})}function y3({localStore:t,frame:e}){var n,r;if(En(e)==="NONE"){const i=_s(t),u=In(e),c=[],l=[];e.children.forEach(w=>{So(w).forEach(v=>{c.push(Xo(u,v))}),l.push(Xo(u,{x:w.left,y:w.top}))});const d=Ld(c,e.rotate);Gt({localStore:t,node:e,instanceChain:[],nodeSize:{width:d.width,height:d.height},data:{left:d.left,top:d.top},step:i});const p=In(e);e.children.forEach((w,v)=>{const E=Eo(p,l[v]);Gt({localStore:t,node:w,instanceChain:[],data:{left:E.x,top:E.y},step:i})}),(r=(n=t.props).doAction)==null||r.call(n,i.getNewAction()),_a(t)}}function CA(t){return t.strokeWidth*10}function v3({localStore:t,type:e}){const n={nodeType:"svg",id:g0(),guid:t.generateGUID(),parentId:"",name:"",left:0,top:0,width:200,height:20,rotate:0,data:{type:"line",p1:{x:0,y:0},p2:{x:0,y:0},markerEnd:""},stroke:"red",strokeWidth:20,strokeLineJoin:"miter",fill:"transparent",isLocked:!1,visible:!0,shimmerAtApearance:!1,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()}};return e==="rect"&&(n.width=200,n.height=200,n.data={type:"rect"}),cm(n),n}function cm(t){t.data.type==="line"&&(t.height=CA(t),t.data.p1.x=0,t.data.p1.y=t.height/2,t.data.p2.x=t.width,t.data.p2.y=t.height/2),t.data.type}async function w3(t,e,n){var i,u,c;t.editingText=!1;let r=1;t.selectedSingleLayer?r=ag(t,t.selectedSingleLayer,e,n):r=ag(t,t.bunchRectangle,e,n);try{const l=yc(t);if(t.selectedSingleLayer){const d=t.selectedSingleLayer;ug(t,[d],r),Es(t,d,e,r,l),ni(t)&&d.nodeType==="FRAME"&&((i=t.getLayer(d.parentId))==null||i.nodeType),Co({localStore:t,layer:d,instanceChain:[],step:l}),Ec(t,d),kd(t,d,{step:l})}else ug(t,t.selectedNormalLayerList,r),Es(t,t.bunchRectangle,e,r,l),t.selectedNormalLayerList.forEach(d=>{d&&Es(t,d,e,r,l)});(c=(u=t.props).doAction)==null||c.call(u,l.getNewAction()),t.layersCanBeScaled=!0}catch(l){t.layersCanBeScaled=!1,console.warn(l)}em(t,n)}function ag(t,e,n,r){const i=t.getPointInContainer(r),u=Gi("rotated",{x:i.x-n.x,y:i.y-n.y},_0(Cd(e),n)),{width:c,height:l}=e,d=Math.sqrt(c*c+l*l);return u.x/d}function ug(t,e,n){e.forEach(r=>{lm(t,r,n)})}function lm(t,e,n){if(!(n>1)){if(e.nodeType==="TEXT"){if(e.height*n<5)throw new Error("Incoming text layer height is too small!")}else if(e.width*n<t.options.LAYER_MINIMUN_SIZE||e.height*n<t.options.LAYER_MINIMUN_SIZE)throw new Error("")}e.nodeType==="GROUP"&&e.children&&e.children.forEach(r=>{lm(t,r,n)})}function Dd(t,e,n,r,i){const u=Cd(e),c={x:u.x-n.x,y:u.y-n.y},l={x:c.x*r+n.x,y:c.y*r+n.y},d=e.width*r,p=e.height*r,w=l.x-d/2,v=l.y-p/2;return e.nodeType==="GROUP"||e.nodeType==="TEXT"?(Gt({localStore:t,node:e,data:{left:w,top:v},step:i,instanceChain:[]}),Gt({localStore:t,node:e,step:i,nodeSize:{width:d,height:p},instanceChain:[]})):AA({localStore:t,layer:e,left:w,top:v,width:d,height:p,step:i}),W2(u,l)}function x3(t,e,n,r,i){const u=Dd(t,e,n,r,i);(e.nodeType==="IMAGE"||e.nodeType==="ROUNDED_RECTANGLE")&&e.image&&Q2(e,u)}function Es(t,e,n,r,i){if(Math.min(e.width*r,e.height*r)>=0){const u=[];e.nodeType==="INSTANCE"&&u.push(e);let c={};if((e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&(c=Md({localStore:t,layer:e,instanceChain:u,constraintsMap:{}})),Dd(t,e,n,r,i),e.nodeType==="video"?(e.video.width*=r,e.video.height*=r):e.nodeType==="svg"?cm(e):e.nodeType==="TEXT"&&(i.update({layer:e,data:{fontSize:e.fontSize*r,strokeWeight:e.strokeWeight*r,effects(l){l.forEach(d=>{d.offset.x*=r,d.offset.y*=r,d.spread*=r,d.radius*=r})}}}),Wa({localStore:t,layer:e,instanceChain:[],step:i})),e.nodeType==="GROUP"&&e.children.length>0&&e.children.forEach(l=>Es(t,l,n,r,i)),e.nodeType==="IMAGE"&&e.extra.rectList&&e.extra.rectList.length>0&&e.extra.rectList.forEach(l=>Es(t,l,n,r,i)),e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE"){{const l={};e.stackPaddingLeft&&(l.stackPaddingLeft=e.stackPaddingLeft*r),e.stackPaddingRight&&(l.stackPaddingRight=e.stackPaddingRight*r),e.stackPaddingTop&&(l.stackPaddingTop=e.stackPaddingTop*r),e.stackPaddingBottom&&(l.stackPaddingBottom=e.stackPaddingBottom*r),e.stackSpacing&&(l.stackSpacing=e.stackSpacing*r),i.update({layer:e,data:l}),e.children.forEach(d=>{const p=In(d),w=Eo(p,n),v=d.left*r,E=d.top*r;Es(t,d,w,r,i),i.update({layer:d,data:{left:v,top:E}})})}um({localStore:t,room:e,map:c,step:i,instanceChain:u})}}}const _A="WorkspaceView";function TA(){return{positionLeft:0,positionTop:0,workspaceScrollLeft:0,workspaceScrollTop:0,pageScale:1,toolsContainerShow:!0,navigatorShow:!1,layerSettingsContent:"main",isPageCenteredAtX:!1,isPageCenteredAtY:!1,scroll:{x:{totalLength:0,viewportLength:0,barStart:0,barLength:0},y:{totalLength:0,viewportLength:0,barStart:0,barLength:0}}}}function b3(t,e){const{workspaceState:n}=t,r=Ua(e),i=Ga(e),{width:u,height:c}=t.props.getPageSize(),l=t.getPageScale(),d=r/2+u*l/2-40;n.positionLeft>d?n.positionLeft=d:n.positionLeft<-d&&(n.positionLeft=-d);const p=i/2+c*l/2-40;n.positionTop>p?n.positionTop=p:n.positionTop<-p&&(n.positionTop=-p)}function S3({localStore:t,workspaceState:e,workspaceElement:n,safePadding:r}){const i=n||document.querySelector(`.${_A}`);if(i){const u=t.props.getPageSize(),c=Ua(i),l=Ga(i),d=r||60,p=(c-d)/u.width,w=(l-d)/u.height;let v=Math.min(p,w);Number.isNaN(v)&&(v=.3),v<.01&&(v=.01),v>4&&(v=4),e.pageScale=v,e.positionLeft=0,e.positionTop=0}}function LA(t,e,n,r){const i=w0();return i.left=e.left,i.top=e.top,i.width=e.width,i.height=e.height,Dd(t,i,n,r,Y2()),i}function fm(t,e,n){const{pageMinScale:r,pageMaxScale:i}=t.options;let u=1;return e>0?(u=n*.97,u<r&&(u=r)):e<0&&(u=n*1.03,u>i&&(u=i)),u}function PA(t,e){const n=t.getPageScale(),r=fm(t,e.deltaY,n),{workspaceState:i}=t,u={left:i.positionLeft,top:i.positionTop,width:t.props.getPageSize().width*t.getPageScale(),height:t.props.getPageSize().height*t.getPageScale()},c=e.currentTarget,l=_c(c),d=Cc(c),p={x:e.pageX-l-Ua(c)/2,y:e.pageY-d-Ga(c)/2},{width:w,height:v}=t.props.getPageSize(),E=i.positionLeft+w*n/2,C=i.positionLeft-w*n/2;p.x>E?p.x=E:p.x<C&&(p.x=C);const L=i.positionTop+v*n/2,k=i.positionTop-v*n/2;p.y>L?p.y=L:p.y<k&&(p.y=k);const N=r*w/(n*w),W=LA(t,u,p,N);i.positionLeft=W.left,i.positionTop=W.top,i.pageScale=r}function E3(t,e){const n=e,{length:r}=Object.keys(t.pointerMap);if(r===1)IA({localStore:t,deltaX:-(n.touches[0].pageX-t.pointerMap[0].current.x),deltaY:-(n.touches[0].pageY-t.pointerMap[0].current.y)});else if(r===2&&n.touches.length===2){const i={x:n.touches[0].pageX,y:n.touches[0].pageY},u={x:n.touches[1].pageX,y:n.touches[1].pageY},c=tg(i,u),l=Lf(i,u),d=tg(t.pointerMap[0].current,t.pointerMap[1].current),p=c-d;p!==0&&PA(t,{currentTarget:t.workspaceElement,pageX:l.x,pageY:l.y,deltaY:-p}),t.workspaceElement&&dm({localStore:t,workspace:t.workspaceElement})}for(let i=0;i<n.touches.length;i+=1){const u=n.touches[i];t.pointerMap[i]=t.pointerMap[i]||{start:{x:u.pageX,y:u.pageY},current:{x:0,y:0},deltaX:0,deltaY:0};const c=t.pointerMap[i];c&&(c.deltaX=u.pageX-c.current.x,c.deltaY=u.pageY-c.current.y,c.current={x:u.pageX,y:u.pageY})}}function MA({localStore:t,workspaceState:e,pageWidth:n,pageHeight:r,workspaceWidth:i,workspaceHeight:u}){const{safePadding:c}=t.options,{pageScale:l}=e,d=n*l/2+c-i/2,p=r*l/2+c-u/2;return{minX:-d,maxX:d,minY:-p,maxY:p}}function IA({localStore:t,deltaX:e,deltaY:n}){t.workspaceState.isPageCenteredAtX===!1&&(t.workspaceState.positionLeft-=e),t.workspaceState.isPageCenteredAtY===!1&&(t.workspaceState.positionTop-=n),t.workspaceElement&&dm({localStore:t,workspace:t.workspaceElement})}function dm({localStore:t,workspace:e}){const{workspaceState:n}=t,r=t.getPageScale(),{width:i,height:u}=t.props.getPageSize(),c=Ua(e),l=Ga(e),{safePadding:d}=t.options,p=n.positionLeft+c/2-i*r/2,w=c/2-i*r/2-n.positionLeft;p>d&&w>d?(n.positionLeft=0,n.isPageCenteredAtX=!0):(n.isPageCenteredAtX=!1,p>=d?n.positionLeft-=p-d:w>=d&&(n.positionLeft+=w-d));const v=n.positionTop+l/2-u*r/2,E=l/2-u*r/2-n.positionTop;v>d&&E>d?(n.positionTop=0,n.isPageCenteredAtY=!0):(n.isPageCenteredAtY=!1,v>d?n.positionTop-=v-d:E>d&&(n.positionTop+=E-d));const C=MA({localStore:t,workspaceState:n,workspaceWidth:c,workspaceHeight:l,pageWidth:i,pageHeight:u});{n.scroll.x.totalLength=i*r+d*2,n.scroll.x.viewportLength=c;const L=(-n.positionLeft+C.maxX)/(C.maxX*2);n.scroll.x.barLength=n.scroll.x.viewportLength*n.scroll.x.viewportLength/n.scroll.x.totalLength,n.scroll.x.barStart=(n.scroll.x.viewportLength-n.scroll.x.barLength)*L}{n.scroll.y.totalLength=u*r+d*2,n.scroll.y.viewportLength=l;const L=(-n.positionTop+C.maxY)/(C.maxY*2);n.scroll.y.barLength=n.scroll.y.viewportLength*n.scroll.y.viewportLength/n.scroll.y.totalLength,n.scroll.y.barStart=(n.scroll.y.viewportLength-n.scroll.y.barLength)*L}}function A3(t,e,n){const r=t.getPageScale(),i=fm(t,e.deltaY,r),u=e.currentTarget,c=_c(u),l=Cc(u),{width:d,height:p}=t.props.getPageSize(),w=e.pageX-c,v=e.pageY-l,E=(w+u.scrollLeft-n)/(d*r),C=(v+u.scrollTop-n)/(p*r),L=i*d*E+n-w,k=i*p*C+n-v;t.workspaceState.pageScale=i,u.scrollLeft=L,u.scrollTop=k}function kA(t,e){let n={x:0,y:0};return t.canvasElement&&(n=Z0(e,t.canvasElement),n.x+=t.viewport.x,n.y+=t.viewport.y,n.x/=t.scale,n.y/=t.scale),n}function hm({localStore:t,canvasElement:e}){const n=t.getPageScale(),r=e.width/window.devicePixelRatio/2+t.workspaceState.positionLeft-t.props.getPageSize().width*n/2,i=e.height/window.devicePixelRatio/2+t.workspaceState.positionTop-t.props.getPageSize().height*n/2;return{left:r,top:i}}function pm(t,e){if(t.libra){let r={x:0,y:0};if(t.libra.canvasElement){const i=hm({localStore:t,canvasElement:t.libra.canvasElement});r=Z0(e,t.libra.canvasElement),r.x-=i.left,r.y-=i.top,r.x/=t.getPageScale(),r.y/=t.getPageScale()}return r}const n=t.getFigma();return n?kA(n.context.fileData,e):t.getPointInPage(e)}function C3({localStore:t,layer:e,text:n,step:r,instanceChain:i}){var c,l;Gt({localStore:t,node:e,instanceChain:i,step:r,data:{textData(d){d.characters=n}}}),Lc(t,e,i,r);const u=z2(e);t.textLayerOutOfPage===!1&&(u.left>=0&&u.top>=0&&u.left+u.width<=t.props.getPageSize().width&&u.top+u.height<=t.props.getPageSize().height||(t.textLayerOutOfPage=!0)),Co({localStore:t,layer:e,instanceChain:i,step:r}),(l=(c=t.props).doAction)==null||l.call(c,r.getNewAction())}function Lc(t,e,n,r){Wa({localStore:t,layer:e,step:r,instanceChain:n}),e.parentId&&kd(t,e,{step:r}),t.selectedSingleLayer&&Ec(t,t.selectedSingleLayer)}function Ea({localStore:t,textData:e,start:n,end:r}){console.log(e.characters.length,{start:n,end:r}),n<0&&(n=0),r>e.characters.length&&(r=e.characters.length),t.selectionInfo.textRange$.start=n,t.selectionInfo.textRange$.end=r}function Ts(t){if(!t)throw new Error("layer.textData does not exist");if(t.characters.length!==t.characterStyleIDs.length)throw new Error("Characters length does not equal characterStyleIDs length!!");const e={};if(t.styleOverrideTable.forEach(r=>{const{styleID:i}=r;if(e[i])throw new Error(`Duplicated styleID: ${i}`);e[i]=r}),e[0])throw new Error("Unexpected styleID 0");const n=new Set;if(t.characterStyleIDs.forEach(r=>{r!==0&&n.add(r)}),n.forEach(r=>{if(!e[r])throw new Error(`Could not find style override. styleID = ${r}`);delete e[r]}),Object.keys(e).length!==0)throw new Error("Useless style override found")}function Of({textData:t}){const e=new Set;t.characterStyleIDs.forEach(n=>{e.add(n)}),t.styleOverrideTable=t.styleOverrideTable.filter(n=>e.has(n.styleID))}function _3({localStore:t,layer:e}){var i,u,c,l;const{start:n,end:r}=t.selectionInfo.textRange$;if(n!==r){const d=_s(t);Gt({localStore:t,node:e,instanceChain:[],data:{textData(p){p.characterStyleIDs.forEach((w,v)=>{v>=n&&v<r&&(p.characterStyleIDs[v]=0)}),Of({textData:p})}},step:d}),Ts(e.textData),(u=(i=t.props).doAction)==null||u.call(i,d.getNewAction()),_a(t)}else if(n>0){const d=Fd({start:n-1,end:n,textData:e.textData});if(d[0]&&d[0].styleID>0){const p=_s(t);Gt({localStore:t,node:e,instanceChain:[],data:{textData(w){w.characterStyleIDs.forEach((v,E)=>{E>=d[0].start&&E<=d[0].end-1&&(w.characterStyleIDs[E]=0)}),Of({textData:w})}},step:p}),Ts(e.textData),(l=(c=t.props).doAction)==null||l.call(c,p.getNewAction()),_a(t)}}}function T3({localStore:t,start:e,length:n}){const r=yc(t),i=t.selectedSingleLayer;if((i==null?void 0:i.nodeType)==="TEXT"&&i.textData&&e>=0&&n>0){const u=i.textData.characters.substring(0,e)+i.textData.characters.substring(e+n),c=[...i.textData.characterStyleIDs];c.splice(e,n),r.update({layer:i,data:{textData(l){l.characters=u,l.characterStyleIDs=[...c],Of({textData:l})}}}),Ts(i.textData),Ea({localStore:t,textData:i.textData,start:e,end:e}),Lc(t,i,[],r),Co({localStore:t,layer:i,instanceChain:[],step:r})}}function L3({localStore:t,str:e,mode:n}){var u,c;const r=t.selectedSingleLayer,i=yc(t);if((r==null?void 0:r.nodeType)==="TEXT"&&r.textData){Ts(r.textData);const{inputText:l}=t.advancedTextEditor;let{characters:d}=r.textData;const p=[...r.textData.characterStyleIDs];let w=0,v=0,E=0,C=0;if(n==="composition"){const{start:L}=l;l.compositionText&&(E=L,C=l.compositionText.length),v=L,l.compositionText=e}else{const{start:L,end:k}=t.selectionInfo.textRange$;L===k&&(v=L)}{let L=v-1;L<0&&(L=0),typeof p[L]=="number"&&(w=p[L])}C>0&&(d=d.substring(0,E)+d.substring(E+C),p.splice(E,C));{let L="";const k=[];if(v===d.length)p.forEach(N=>{k.push(N)}),k.push(...e.split("").map(()=>w)),L=d+e;else if(v>=0&&v<d.length)p.forEach((N,W)=>{W===v&&k.push(...e.split("").map(()=>w)),k.push(N)}),L=d.substring(0,v)+e+d.substring(v);else throw new Error("");i.update({layer:r,data:{textData(N){N.characters=L,N.characterStyleIDs=[...k]}}}),Ea({localStore:t,textData:r.textData,start:v+e.length,end:v+e.length}),Ts(r.textData)}Lc(t,r,[],i),Co({localStore:t,layer:r,instanceChain:[],step:i}),(c=(u=t.props).doAction)==null||c.call(u,i.getNewAction())}}function RA(t){let e=0;return t.styleOverrideTable.forEach(n=>{n.styleID>e&&(e=n.styleID)}),e+1}function P3({localStore:t,layer:e,step:n,segmentData:r,globalData:i,fillPaints:u}){var d,p;const{start:c,end:l}=t.selectionInfo.textRange$;if(i&&n.update({layer:e,data:i}),console.log("updating text style"),console.log({start:c,end:l,segmentData:r,text:e.textData.characters}),t.editingText&&(r||u))if(c===l){let w=0;c>0?w=e.textData.characterStyleIDs[c-1]:w=e.textData.characterStyleIDs[c]||0,w>0?n.update({layer:e,data:{textData(v){const E=v.styleOverrideTable.find(C=>C.styleID===w);if(E)Object.assign(E,ze.cloneDeep(r)),u&&(E.fillPaints=E.fillPaints||[],u(E.fillPaints));else throw new Error("override not found")}}}):(r&&n.update({layer:e,data:r}),u&&n.update({layer:e,data:{fillPaints:u}}))}else c!==l&&e.textData.characters[c]&&n.update({layer:e,data:{textData(w){Fd({start:c,end:l,textData:w}).forEach(E=>{if(E.styleID!==0&&E.styleID!==E.prevOne&&E.styleID!==E.nextOne){const C=w.styleOverrideTable.find(L=>L.styleID===E.styleID);if(C)Object.assign(C,ze.cloneDeep(r)),u&&(C.fillPaints=C.fillPaints||[],u(C.fillPaints));else throw new Error("override not found")}else{const C=RA(w),L=E.styleID===0?{fillPaints:e.fillPaints}:w.styleOverrideTable.find(N=>N.styleID===E.styleID),k={...ze.cloneDeep(L),styleID:C,...ze.cloneDeep(r)};u&&(k.fillPaints=k.fillPaints||[],u(k.fillPaints)),w.styleOverrideTable.push(k);for(let N=E.start;N<E.end;N+=1)w.characterStyleIDs[N]=C}})}}});else r&&n.update({layer:e,data:r}),u&&n.update({layer:e,data:{fillPaints:u}});Ts(e.textData),gA(e),Lc(t,e,[],n),Co({localStore:t,layer:e,instanceChain:[],step:n}),(p=(d=t.props).doAction)==null||p.call(d,n.getNewAction())}function Pc({index:t,textData:e,paragraph:n}){const r=e.characters[t],i=n.getLineMetrics();let u=0;for(let c=0;c<i.length;c+=1){const l=i[c];if(r===`
`){if(l.endIncludingNewline-1===t){u=c;break}if(l.startIndex===t){u=c;break}}else if(t===e.characters.length){u=i.length-1;break}else l.startIndex<=t&&(u=c)}return u}function OA({textData:t,paragraph:e,index:n}){const r={total:t.characters.length,index:n,char:t.characters[n]||"",glyph:e.getGlyphInfoAt(n),lineNumber:0},i=Pc({textData:t,paragraph:e,index:n});return r.lineNumber=i,r}function M3(t,e){var i,u;const n=t.selectedSingleLayer,r=ni(t);if(r&&(n==null?void 0:n.nodeType)==="TEXT"&&n.textData){const c=pm(t,e);if(c){const l=X0({fileData:r.fileData,info:{type:"layer",layerId:n.id}}),d=Eo(l,c);if(r.fileData.paragraphManager.activeParagraph){const p=r.fileData.paragraphManager.activeParagraph;Bd({localStore:t,layer:n,paragraph:p,textData:n.textData,scaledX:r.fileData.doScale(d.x),scaledY:r.fileData.doScale(d.y)});const{start:w}=t.selectionInfo.textRange$,{initialSelectionIndex:v}=t.advancedTextEditor;w>v?Ea({localStore:t,textData:n.textData,start:v,end:w+1}):Ea(w===v?{localStore:t,textData:n.textData,start:w,end:w+1}:{localStore:t,textData:n.textData,start:w,end:v})}(u=(i=t.props).doAction)==null||u.call(i,{type:"RerenderCanvas"})}}}function gm({localStore:t,layer:e,line:n}){let r=n.width;return e.textAlignHorizontal==="RIGHT"?r=e.width*t.getPageScale():e.textAlignHorizontal==="CENTER"&&(r=e.width*t.getPageScale()/2+n.width/2),r}function Bd({localStore:t,layer:e,paragraph:n,scaledX:r,scaledY:i,textData:u}){const c=n.getClosestGlyphInfoAtCoordinate(r,i);if(c){const l=c.graphemeClusterTextRange.start,d=Pc({textData:u,paragraph:n,index:l}),p=n.getLineMetricsAt(d);if(p){const w=gm({layer:e,line:p,localStore:t});if(r>w){let v=p.endIndex;v>=e.textData.characters.length&&e.textData.characters[e.textData.characters.length-1]===`
`&&(v=e.textData.characters.length-1),v<0&&(v=0),t.selectionInfo.textRange$.start=v,t.selectionInfo.textRange$.end=v;return}}t.selectionInfo.textRange$.start=c.graphemeClusterTextRange.start,t.selectionInfo.textRange$.end=c.graphemeClusterTextRange.start}else t.selectionInfo.textRange$.start=u.characters.length,t.selectionInfo.textRange$.end=u.characters.length}function I3({localStore:t,layer:e}){const{start:n}=t.selectionInfo.textRange$,r=ni(t);if(r&&e.textData){const i=r.fileData.paragraphManager.activeParagraph;if(i){const u=Pc({index:n,textData:e.textData,paragraph:i}),c=i.getGlyphInfoAt(n);let l=0;if(c)l=c.graphemeLayoutBounds[0];else{const p=i.getLineMetricsAt(u);p&&(l=p.width)}const d=i.getLineMetricsAt(Math.max(0,u-1));if(d){const p=d.baseline;Bd({localStore:t,layer:e,paragraph:i,textData:e.textData,scaledX:l,scaledY:p})}}}}function k3({localStore:t,layer:e}){const{start:n}=t.selectionInfo.textRange$,r=ni(t);if(r&&e.textData){const i=r.fileData.paragraphManager.activeParagraph;if(i){const u=Pc({index:n,textData:e.textData,paragraph:i});let c=u+1;c>i.getNumberOfLines()-1&&(c=i.getNumberOfLines()-1);const l=i.getGlyphInfoAt(n);if(l){const d=l.graphemeLayoutBounds[0],p=i.getLineMetricsAt(c);if(p){const w=p.baseline;console.log({name:"down",start:n,lineNumber:u,targetLineNumber:c,g:l,line:p,left:d,top:w}),Bd({localStore:t,layer:e,paragraph:i,textData:e.textData,scaledX:d,scaledY:w})}}}}}function Gd({fileData:t,layer:e,Raptor:n,instanceChain:r,options:i}){var l;const u=en({localStore:t.localStore,layer:e,instanceChain:r}),c={withStrokes:cg({layerInfo:u,width:u.width,height:u.height}),withShadow:cg({layerInfo:u,width:u.width,height:u.height})};return(e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&u.frameMaskDisabled!==!0||Ba(t,e).map(p=>{const w=[...r];p.nodeType==="INSTANCE"&&w.push(p);const v=en({localStore:t.localStore,layer:p,instanceChain:w});return{child:p,nextInstanceChain:w,relativeTransform:In(v)}}).forEach(({child:p,nextInstanceChain:w,relativeTransform:v})=>{const E=Gd({fileData:t,Raptor:n,layer:p,instanceChain:w,options:i});E.withStrokes=E.withStrokes.map(C=>Xo(v,C)),E.withShadow=E.withShadow.map(C=>Xo(v,C)),c.withStrokes=lf([...c.withStrokes,...E.withStrokes]),c.withShadow=lf([...c.withShadow,...E.withShadow])}),(l=u.effects)==null||l.forEach(d=>{if(d.type==="DROP_SHADOW"&&d.visible&&d.radius>0){const p=d.radius*3,w=ze.cloneDeep(c.withStrokes);w.forEach((v,E)=>{E===0?(v.x-=p,v.y-=p):E===1?(v.x-=p,v.y+=p):E===2?(v.x+=p,v.y+=p):E===3&&(v.x+=p,v.y-=p),c.withShadow=lf([...c.withShadow,...w])})}}),c}class FA{constructor(e,n){this.lastUpdatedAt=-1,this.pathBoundsList=[],this.instanceMap={},this.relativeTransformDirty=!0,this.relativeTransform=[[1,0,0],[0,1,0],[0,0,1]],this.boundingPointsDirty=!0,this.exportPointsRectDirty=!0,this.fileData=e,this.layer=n}getRelativeTransform(){return this.relativeTransformDirty&&(this.relativeTransform=In(this.layer),this.relativeTransformDirty=!1),this.relativeTransform}markDirty(){this.relativeTransformDirty=!0,this.markBoundingPointsDirty(),this.markParentDirty()}markBoundingPointsDirty(){this.boundingPointsDirty=!0,this.exportPointsRectDirty=!0}markParentDirty(){const{parentId:e}=this.layer,n=this.fileData.layerAssetsMap[e];n&&(n.markBoundingPointsDirty(),n.markParentDirty())}}function cg({width:t,height:e,layerInfo:n}){let r=0,i=0,u=t,c=e;if(n.strokeGeometry.length>0){let d=0;n.strokeAlign==="CENTER"?d=n.strokeWeight/2:n.strokeAlign==="OUTSIDE"&&(d=n.strokeWeight),r=Math.min(r,r-d),i=Math.min(i,i-d),u=Math.max(u,u+d),c=Math.max(c,c+d)}return[{x:r,y:i},{x:r,y:c},{x:u,y:c},{x:u,y:i}]}function mm(t,e){t&&e(t),t.children&&t.children.forEach(n=>{mm(n,e)})}function NA(t,e){mm(e,n=>{t.layerMap[n.id]=n,t.layerAssetsMap[n.id]=new FA(t,n)})}function df(t,e){var i,u;const n=t.getLayer(e);if(n)return n;const r=(u=(i=t.props).getDocumentNode)==null?void 0:u.call(i);return r?r.id===e?r:r.children.find(c=>c.id===e)||null:null}var Ud={exports:{}},As=typeof Reflect=="object"?Reflect:null,lg=As&&typeof As.apply=="function"?As.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},ec;As&&typeof As.ownKeys=="function"?ec=As.ownKeys:Object.getOwnPropertySymbols?ec=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ec=function(e){return Object.getOwnPropertyNames(e)};function $A(t){console&&console.warn&&console.warn(t)}var ym=Number.isNaN||function(e){return e!==e};function Dt(){Dt.init.call(this)}Ud.exports=Dt;Ud.exports.once=UA;Dt.EventEmitter=Dt;Dt.prototype._events=void 0;Dt.prototype._eventsCount=0;Dt.prototype._maxListeners=void 0;var fg=10;function Mc(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Dt,"defaultMaxListeners",{enumerable:!0,get:function(){return fg},set:function(t){if(typeof t!="number"||t<0||ym(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");fg=t}});Dt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Dt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ym(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function vm(t){return t._maxListeners===void 0?Dt.defaultMaxListeners:t._maxListeners}Dt.prototype.getMaxListeners=function(){return vm(this)};Dt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",u=this._events;if(u!==void 0)i=i&&u.error===void 0;else if(!i)return!1;if(i){var c;if(n.length>0&&(c=n[0]),c instanceof Error)throw c;var l=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw l.context=c,l}var d=u[e];if(d===void 0)return!1;if(typeof d=="function")lg(d,this,n);else for(var p=d.length,w=Em(d,p),r=0;r<p;++r)lg(w[r],this,n);return!0};function wm(t,e,n,r){var i,u,c;if(Mc(n),u=t._events,u===void 0?(u=t._events=Object.create(null),t._eventsCount=0):(u.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),u=t._events),c=u[e]),c===void 0)c=u[e]=n,++t._eventsCount;else if(typeof c=="function"?c=u[e]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),i=vm(t),i>0&&c.length>i&&!c.warned){c.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=c.length,$A(l)}return t}Dt.prototype.addListener=function(e,n){return wm(this,e,n,!1)};Dt.prototype.on=Dt.prototype.addListener;Dt.prototype.prependListener=function(e,n){return wm(this,e,n,!0)};function DA(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xm(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=DA.bind(r);return i.listener=n,r.wrapFn=i,i}Dt.prototype.once=function(e,n){return Mc(n),this.on(e,xm(this,e,n)),this};Dt.prototype.prependOnceListener=function(e,n){return Mc(n),this.prependListener(e,xm(this,e,n)),this};Dt.prototype.removeListener=function(e,n){var r,i,u,c,l;if(Mc(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(u=-1,c=r.length-1;c>=0;c--)if(r[c]===n||r[c].listener===n){l=r[c].listener,u=c;break}if(u<0)return this;u===0?r.shift():BA(r,u),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,l||n)}return this};Dt.prototype.off=Dt.prototype.removeListener;Dt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var u=Object.keys(r),c;for(i=0;i<u.length;++i)c=u[i],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function bm(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?GA(i):Em(i,i.length)}Dt.prototype.listeners=function(e){return bm(this,e,!0)};Dt.prototype.rawListeners=function(e){return bm(this,e,!1)};Dt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Sm.call(t,e)};Dt.prototype.listenerCount=Sm;function Sm(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Dt.prototype.eventNames=function(){return this._eventsCount>0?ec(this._events):[]};function Em(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function BA(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function GA(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function UA(t,e){return new Promise(function(n,r){function i(c){t.removeListener(e,u),r(c)}function u(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}Am(t,e,u,{once:!0}),e!=="error"&&WA(t,i,{once:!0})})}function WA(t,e,n){typeof t.on=="function"&&Am(t,"error",e,n)}function Am(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(u){r.once&&t.removeEventListener(e,i),n(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var HA=Ud.exports;function gi(t){if(typeof t!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=t}typeof Symbol<"u"&&(gi.prototype[Symbol.iterator]=function(){return this});gi.of=function(){var t=arguments,e=t.length,n=0;return new gi(function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}})};gi.empty=function(){var t=new gi(function(){return{done:!0}});return t};gi.fromSequence=function(t){var e=0,n=t.length;return new gi(function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}})};gi.is=function(t){return t instanceof gi?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};var Wd=gi;const Br=Ko(Wd);var Hd={};Hd.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";Hd.SYMBOL_SUPPORT=typeof Symbol<"u";var zA=Wd,Cm=Hd,jA=Cm.ARRAY_BUFFER_SUPPORT,VA=Cm.SYMBOL_SUPPORT;function XA(t){return typeof t=="string"||Array.isArray(t)||jA&&ArrayBuffer.isView(t)?zA.fromSequence(t):typeof t!="object"||t===null?null:VA&&typeof t[Symbol.iterator]=="function"?t[Symbol.iterator]():typeof t.next=="function"?t:null}var _m=function(e){var n=XA(e);if(!n)throw new Error("obliterator: target is not iterable nor a valid iterator.");return n},YA=_m,KA=function(e,n){for(var r=arguments.length>1?n:1/0,i=r!==1/0?new Array(r):[],u,c=0,l=YA(e);;){if(c===r)return i;if(u=l.next(),u.done)return c!==n&&(i.length=c),i;i[c++]=u.value}};const Tm=Ko(KA);var QA=Wd,qA=_m,JA=function(){var e=arguments,n=null,r=-1;return new QA(function(){var u=null;do{if(n===null){if(r++,r>=e.length)return{done:!0};n=qA(e[r])}if(u=n.next(),u.done===!0){n=null;continue}break}while(!0);return u})};const Wi=Ko(JA);function ZA(){const t=arguments[0];for(let e=1,n=arguments.length;e<n;e++)if(arguments[e])for(const r in arguments[e])t[r]=arguments[e][r];return t}let Sn=ZA;typeof Object.assign=="function"&&(Sn=Object.assign);function Dr(t,e,n,r){const i=t._nodes.get(e);let u=null;return i&&(r==="mixed"?u=i.out&&i.out[n]||i.undirected&&i.undirected[n]:r==="directed"?u=i.out&&i.out[n]:u=i.undirected&&i.undirected[n]),u}function Gn(t){return typeof t=="object"&&t!==null}function Lm(t){let e;for(e in t)return!1;return!0}function Rr(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function Qr(t,e,n){const r={enumerable:!0,configurable:!0};typeof n=="function"?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function dg(t){return!(!Gn(t)||t.attributes&&!Array.isArray(t.attributes))}function eC(){let t=Math.floor(Math.random()*256)&255;return()=>t++}class zd extends Error{constructor(e){super(),this.name="GraphError",this.message=e}}class $e extends zd{constructor(e){super(e),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,$e.prototype.constructor)}}class Re extends zd{constructor(e){super(e),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Re.prototype.constructor)}}class qe extends zd{constructor(e){super(e),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,qe.prototype.constructor)}}function Pm(t,e){this.key=t,this.attributes=e,this.clear()}Pm.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function Mm(t,e){this.key=t,this.attributes=e,this.clear()}Mm.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function Im(t,e){this.key=t,this.attributes=e,this.clear()}Im.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function ks(t,e,n,r,i){this.key=e,this.attributes=i,this.undirected=t,this.source=n,this.target=r}ks.prototype.attach=function(){let t="out",e="in";this.undirected&&(t=e="undirected");const n=this.source.key,r=this.target.key;this.source[t][r]=this,!(this.undirected&&n===r)&&(this.target[e][n]=this)};ks.prototype.attachMulti=function(){let t="out",e="in";const n=this.source.key,r=this.target.key;this.undirected&&(t=e="undirected");const i=this.source[t],u=i[r];if(typeof u>"u"){i[r]=this,this.undirected&&n===r||(this.target[e][n]=this);return}u.previous=this,this.next=u,i[r]=this,this.target[e][n]=this};ks.prototype.detach=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][e],delete this.target[r][t]};ks.prototype.detachMulti=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const km=0,Rm=1,tC=2,Om=3;function ji(t,e,n,r,i,u,c){let l,d,p,w;if(r=""+r,n===km){if(l=t._nodes.get(r),!l)throw new Re(`Graph.${e}: could not find the "${r}" node in the graph.`);p=i,w=u}else if(n===Om){if(i=""+i,d=t._edges.get(i),!d)throw new Re(`Graph.${e}: could not find the "${i}" edge in the graph.`);const v=d.source.key,E=d.target.key;if(r===v)l=d.target;else if(r===E)l=d.source;else throw new Re(`Graph.${e}: the "${r}" node is not attached to the "${i}" edge (${v}, ${E}).`);p=u,w=c}else{if(d=t._edges.get(r),!d)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`);n===Rm?l=d.source:l=d.target,p=i,w=u}return[l,p,w]}function nC(t,e,n){t.prototype[e]=function(r,i,u){const[c,l]=ji(this,e,n,r,i,u);return c.attributes[l]}}function rC(t,e,n){t.prototype[e]=function(r,i){const[u]=ji(this,e,n,r,i);return u.attributes}}function iC(t,e,n){t.prototype[e]=function(r,i,u){const[c,l]=ji(this,e,n,r,i,u);return c.attributes.hasOwnProperty(l)}}function oC(t,e,n){t.prototype[e]=function(r,i,u,c){const[l,d,p]=ji(this,e,n,r,i,u,c);return l.attributes[d]=p,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:d}),this}}function sC(t,e,n){t.prototype[e]=function(r,i,u,c){const[l,d,p]=ji(this,e,n,r,i,u,c);if(typeof p!="function")throw new $e(`Graph.${e}: updater should be a function.`);const w=l.attributes,v=p(w[d]);return w[d]=v,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:d}),this}}function aC(t,e,n){t.prototype[e]=function(r,i,u){const[c,l]=ji(this,e,n,r,i,u);return delete c.attributes[l],this.emit("nodeAttributesUpdated",{key:c.key,type:"remove",attributes:c.attributes,name:l}),this}}function uC(t,e,n){t.prototype[e]=function(r,i,u){const[c,l]=ji(this,e,n,r,i,u);if(!Gn(l))throw new $e(`Graph.${e}: provided attributes are not a plain object.`);return c.attributes=l,this.emit("nodeAttributesUpdated",{key:c.key,type:"replace",attributes:c.attributes}),this}}function cC(t,e,n){t.prototype[e]=function(r,i,u){const[c,l]=ji(this,e,n,r,i,u);if(!Gn(l))throw new $e(`Graph.${e}: provided attributes are not a plain object.`);return Sn(c.attributes,l),this.emit("nodeAttributesUpdated",{key:c.key,type:"merge",attributes:c.attributes,data:l}),this}}function lC(t,e,n){t.prototype[e]=function(r,i,u){const[c,l]=ji(this,e,n,r,i,u);if(typeof l!="function")throw new $e(`Graph.${e}: provided updater is not a function.`);return c.attributes=l(c.attributes),this.emit("nodeAttributesUpdated",{key:c.key,type:"update",attributes:c.attributes}),this}}const fC=[{name:t=>`get${t}Attribute`,attacher:nC},{name:t=>`get${t}Attributes`,attacher:rC},{name:t=>`has${t}Attribute`,attacher:iC},{name:t=>`set${t}Attribute`,attacher:oC},{name:t=>`update${t}Attribute`,attacher:sC},{name:t=>`remove${t}Attribute`,attacher:aC},{name:t=>`replace${t}Attributes`,attacher:uC},{name:t=>`merge${t}Attributes`,attacher:cC},{name:t=>`update${t}Attributes`,attacher:lC}];function dC(t){fC.forEach(function({name:e,attacher:n}){n(t,e("Node"),km),n(t,e("Source"),Rm),n(t,e("Target"),tC),n(t,e("Opposite"),Om)})}function hC(t,e,n){t.prototype[e]=function(r,i){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+i;if(i=arguments[2],u=Dr(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return u.attributes[i]}}function pC(t,e,n){t.prototype[e]=function(r){let i;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+r,c=""+arguments[1];if(i=Dr(this,u,c,n),!i)throw new Re(`Graph.${e}: could not find an edge for the given path ("${u}" - "${c}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,i=this._edges.get(r),!i)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return i.attributes}}function gC(t,e,n){t.prototype[e]=function(r,i){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+i;if(i=arguments[2],u=Dr(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return u.attributes.hasOwnProperty(i)}}function mC(t,e,n){t.prototype[e]=function(r,i,u){let c;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+r,d=""+i;if(i=arguments[2],u=arguments[3],c=Dr(this,l,d,n),!c)throw new Re(`Graph.${e}: could not find an edge for the given path ("${l}" - "${d}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,c=this._edges.get(r),!c)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return c.attributes[i]=u,this.emit("edgeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:i}),this}}function yC(t,e,n){t.prototype[e]=function(r,i,u){let c;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+r,d=""+i;if(i=arguments[2],u=arguments[3],c=Dr(this,l,d,n),!c)throw new Re(`Graph.${e}: could not find an edge for the given path ("${l}" - "${d}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,c=this._edges.get(r),!c)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof u!="function")throw new $e(`Graph.${e}: updater should be a function.`);return c.attributes[i]=u(c.attributes[i]),this.emit("edgeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:i}),this}}function vC(t,e,n){t.prototype[e]=function(r,i){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+i;if(i=arguments[2],u=Dr(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return delete u.attributes[i],this.emit("edgeAttributesUpdated",{key:u.key,type:"remove",attributes:u.attributes,name:i}),this}}function wC(t,e,n){t.prototype[e]=function(r,i){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+i;if(i=arguments[2],u=Dr(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Gn(i))throw new $e(`Graph.${e}: provided attributes are not a plain object.`);return u.attributes=i,this.emit("edgeAttributesUpdated",{key:u.key,type:"replace",attributes:u.attributes}),this}}function xC(t,e,n){t.prototype[e]=function(r,i){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+i;if(i=arguments[2],u=Dr(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Gn(i))throw new $e(`Graph.${e}: provided attributes are not a plain object.`);return Sn(u.attributes,i),this.emit("edgeAttributesUpdated",{key:u.key,type:"merge",attributes:u.attributes,data:i}),this}}function bC(t,e,n){t.prototype[e]=function(r,i){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+i;if(i=arguments[2],u=Dr(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof i!="function")throw new $e(`Graph.${e}: provided updater is not a function.`);return u.attributes=i(u.attributes),this.emit("edgeAttributesUpdated",{key:u.key,type:"update",attributes:u.attributes}),this}}const SC=[{name:t=>`get${t}Attribute`,attacher:hC},{name:t=>`get${t}Attributes`,attacher:pC},{name:t=>`has${t}Attribute`,attacher:gC},{name:t=>`set${t}Attribute`,attacher:mC},{name:t=>`update${t}Attribute`,attacher:yC},{name:t=>`remove${t}Attribute`,attacher:vC},{name:t=>`replace${t}Attributes`,attacher:wC},{name:t=>`merge${t}Attributes`,attacher:xC},{name:t=>`update${t}Attributes`,attacher:bC}];function EC(t){SC.forEach(function({name:e,attacher:n}){n(t,e("Edge"),"mixed"),n(t,e("DirectedEdge"),"directed"),n(t,e("UndirectedEdge"),"undirected")})}const AC=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function CC(t,e,n,r){let i=!1;for(const u in e){if(u===r)continue;const c=e[u];if(i=n(c.key,c.attributes,c.source.key,c.target.key,c.source.attributes,c.target.attributes,c.undirected),t&&i)return c.key}}function _C(t,e,n,r){let i,u,c,l=!1;for(const d in e)if(d!==r){i=e[d];do{if(u=i.source,c=i.target,l=n(i.key,i.attributes,u.key,c.key,u.attributes,c.attributes,i.undirected),t&&l)return i.key;i=i.next}while(i!==void 0)}}function hf(t,e){const n=Object.keys(t),r=n.length;let i,u=0;return new Br(function(){do if(i)i=i.next;else{if(u>=r)return{done:!0};const l=n[u++];if(l===e){i=void 0;continue}i=t[l]}while(!i);return{done:!1,value:{edge:i.key,attributes:i.attributes,source:i.source.key,target:i.target.key,sourceAttributes:i.source.attributes,targetAttributes:i.target.attributes,undirected:i.undirected}}})}function TC(t,e,n,r){const i=e[n];if(!i)return;const u=i.source,c=i.target;if(r(i.key,i.attributes,u.key,c.key,u.attributes,c.attributes,i.undirected)&&t)return i.key}function LC(t,e,n,r){let i=e[n];if(!i)return;let u=!1;do{if(u=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),t&&u)return i.key;i=i.next}while(i!==void 0)}function pf(t,e){let n=t[e];return n.next!==void 0?new Br(function(){if(!n)return{done:!0};const r={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:r}}):Br.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function PC(t,e){if(t.size===0)return[];if(e==="mixed"||e===t.type)return typeof Array.from=="function"?Array.from(t._edges.keys()):Tm(t._edges.keys(),t._edges.size);const n=e==="undirected"?t.undirectedSize:t.directedSize,r=new Array(n),i=e==="undirected",u=t._edges.values();let c=0,l,d;for(;l=u.next(),l.done!==!0;)d=l.value,d.undirected===i&&(r[c++]=d.key);return r}function Fm(t,e,n,r){if(e.size===0)return;const i=n!=="mixed"&&n!==e.type,u=n==="undirected";let c,l,d=!1;const p=e._edges.values();for(;c=p.next(),c.done!==!0;){if(l=c.value,i&&l.undirected!==u)continue;const{key:w,attributes:v,source:E,target:C}=l;if(d=r(w,v,E.key,C.key,E.attributes,C.attributes,l.undirected),t&&d)return w}}function MC(t,e){if(t.size===0)return Br.empty();const n=e!=="mixed"&&e!==t.type,r=e==="undirected",i=t._edges.values();return new Br(function(){let c,l;for(;;){if(c=i.next(),c.done)return c;if(l=c.value,!(n&&l.undirected!==r))break}return{value:{edge:l.key,attributes:l.attributes,source:l.source.key,target:l.target.key,sourceAttributes:l.source.attributes,targetAttributes:l.target.attributes,undirected:l.undirected},done:!1}})}function jd(t,e,n,r,i,u){const c=e?_C:CC;let l;if(n!=="undirected"&&(r!=="out"&&(l=c(t,i.in,u),t&&l)||r!=="in"&&(l=c(t,i.out,u,r?void 0:i.key),t&&l))||n!=="directed"&&(l=c(t,i.undirected,u),t&&l))return l}function IC(t,e,n,r){const i=[];return jd(!1,t,e,n,r,function(u){i.push(u)}),i}function kC(t,e,n){let r=Br.empty();return t!=="undirected"&&(e!=="out"&&typeof n.in<"u"&&(r=Wi(r,hf(n.in))),e!=="in"&&typeof n.out<"u"&&(r=Wi(r,hf(n.out,e?void 0:n.key)))),t!=="directed"&&typeof n.undirected<"u"&&(r=Wi(r,hf(n.undirected))),r}function Vd(t,e,n,r,i,u,c){const l=n?LC:TC;let d;if(e!=="undirected"&&(typeof i.in<"u"&&r!=="out"&&(d=l(t,i.in,u,c),t&&d)||typeof i.out<"u"&&r!=="in"&&(r||i.key!==u)&&(d=l(t,i.out,u,c),t&&d))||e!=="directed"&&typeof i.undirected<"u"&&(d=l(t,i.undirected,u,c),t&&d))return d}function RC(t,e,n,r,i){const u=[];return Vd(!1,t,e,n,r,i,function(c){u.push(c)}),u}function OC(t,e,n,r){let i=Br.empty();return t!=="undirected"&&(typeof n.in<"u"&&e!=="out"&&r in n.in&&(i=Wi(i,pf(n.in,r))),typeof n.out<"u"&&e!=="in"&&r in n.out&&(e||n.key!==r)&&(i=Wi(i,pf(n.out,r)))),t!=="directed"&&typeof n.undirected<"u"&&r in n.undirected&&(i=Wi(i,pf(n.undirected,r))),i}function FC(t,e){const{name:n,type:r,direction:i}=e;t.prototype[n]=function(u,c){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];if(!arguments.length)return PC(this,r);if(arguments.length===1){u=""+u;const l=this._nodes.get(u);if(typeof l>"u")throw new Re(`Graph.${n}: could not find the "${u}" node in the graph.`);return IC(this.multi,r==="mixed"?this.type:r,i,l)}if(arguments.length===2){u=""+u,c=""+c;const l=this._nodes.get(u);if(!l)throw new Re(`Graph.${n}:  could not find the "${u}" source node in the graph.`);if(!this._nodes.has(c))throw new Re(`Graph.${n}:  could not find the "${c}" target node in the graph.`);return RC(r,this.multi,i,l,c)}throw new $e(`Graph.${n}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function NC(t,e){const{name:n,type:r,direction:i}=e,u="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(p,w,v){if(!(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)){if(arguments.length===1)return v=p,Fm(!1,this,r,v);if(arguments.length===2){p=""+p,v=w;const E=this._nodes.get(p);if(typeof E>"u")throw new Re(`Graph.${u}: could not find the "${p}" node in the graph.`);return jd(!1,this.multi,r==="mixed"?this.type:r,i,E,v)}if(arguments.length===3){p=""+p,w=""+w;const E=this._nodes.get(p);if(!E)throw new Re(`Graph.${u}:  could not find the "${p}" source node in the graph.`);if(!this._nodes.has(w))throw new Re(`Graph.${u}:  could not find the "${w}" target node in the graph.`);return Vd(!1,r,this.multi,i,E,w,v)}throw new $e(`Graph.${u}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const c="map"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){const p=Array.prototype.slice.call(arguments),w=p.pop();let v;if(p.length===0){let E=0;r!=="directed"&&(E+=this.undirectedSize),r!=="undirected"&&(E+=this.directedSize),v=new Array(E);let C=0;p.push((L,k,N,W,Q,H,ie)=>{v[C++]=w(L,k,N,W,Q,H,ie)})}else v=[],p.push((E,C,L,k,N,W,Q)=>{v.push(w(E,C,L,k,N,W,Q))});return this[u].apply(this,p),v};const l="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[l]=function(){const p=Array.prototype.slice.call(arguments),w=p.pop(),v=[];return p.push((E,C,L,k,N,W,Q)=>{w(E,C,L,k,N,W,Q)&&v.push(E)}),this[u].apply(this,p),v};const d="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[d]=function(){let p=Array.prototype.slice.call(arguments);if(p.length<2||p.length>4)throw new $e(`Graph.${d}: invalid number of arguments (expecting 2, 3 or 4 and got ${p.length}).`);if(typeof p[p.length-1]=="function"&&typeof p[p.length-2]!="function")throw new $e(`Graph.${d}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let w,v;p.length===2?(w=p[0],v=p[1],p=[]):p.length===3?(w=p[1],v=p[2],p=[p[0]]):p.length===4&&(w=p[2],v=p[3],p=[p[0],p[1]]);let E=v;return p.push((C,L,k,N,W,Q,H)=>{E=w(E,C,L,k,N,W,Q,H)}),this[u].apply(this,p),E}}function $C(t,e){const{name:n,type:r,direction:i}=e,u="find"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(d,p,w){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return!1;if(arguments.length===1)return w=d,Fm(!0,this,r,w);if(arguments.length===2){d=""+d,w=p;const v=this._nodes.get(d);if(typeof v>"u")throw new Re(`Graph.${u}: could not find the "${d}" node in the graph.`);return jd(!0,this.multi,r==="mixed"?this.type:r,i,v,w)}if(arguments.length===3){d=""+d,p=""+p;const v=this._nodes.get(d);if(!v)throw new Re(`Graph.${u}:  could not find the "${d}" source node in the graph.`);if(!this._nodes.has(p))throw new Re(`Graph.${u}:  could not find the "${p}" target node in the graph.`);return Vd(!0,r,this.multi,i,v,p,w)}throw new $e(`Graph.${u}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const c="some"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[c]=function(){const d=Array.prototype.slice.call(arguments),p=d.pop();return d.push((v,E,C,L,k,N,W)=>p(v,E,C,L,k,N,W)),!!this[u].apply(this,d)};const l="every"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[l]=function(){const d=Array.prototype.slice.call(arguments),p=d.pop();return d.push((v,E,C,L,k,N,W)=>!p(v,E,C,L,k,N,W)),!this[u].apply(this,d)}}function DC(t,e){const{name:n,type:r,direction:i}=e,u=n.slice(0,-1)+"Entries";t.prototype[u]=function(c,l){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return Br.empty();if(!arguments.length)return MC(this,r);if(arguments.length===1){c=""+c;const d=this._nodes.get(c);if(!d)throw new Re(`Graph.${u}: could not find the "${c}" node in the graph.`);return kC(r,i,d)}if(arguments.length===2){c=""+c,l=""+l;const d=this._nodes.get(c);if(!d)throw new Re(`Graph.${u}:  could not find the "${c}" source node in the graph.`);if(!this._nodes.has(l))throw new Re(`Graph.${u}:  could not find the "${l}" target node in the graph.`);return OC(r,i,d,l)}throw new $e(`Graph.${u}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function BC(t){AC.forEach(e=>{FC(t,e),NC(t,e),$C(t,e),DC(t,e)})}const GC=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Ic(){this.A=null,this.B=null}Ic.prototype.wrap=function(t){this.A===null?this.A=t:this.B===null&&(this.B=t)};Ic.prototype.has=function(t){return this.A!==null&&t in this.A||this.B!==null&&t in this.B};function ma(t,e,n,r,i){for(const u in r){const c=r[u],l=c.source,d=c.target,p=l===n?d:l;if(e&&e.has(p.key))continue;const w=i(p.key,p.attributes);if(t&&w)return p.key}}function Xd(t,e,n,r,i){if(e!=="mixed"){if(e==="undirected")return ma(t,null,r,r.undirected,i);if(typeof n=="string")return ma(t,null,r,r[n],i)}const u=new Ic;let c;if(e!=="undirected"){if(n!=="out"){if(c=ma(t,null,r,r.in,i),t&&c)return c;u.wrap(r.in)}if(n!=="in"){if(c=ma(t,u,r,r.out,i),t&&c)return c;u.wrap(r.out)}}if(e!=="directed"&&(c=ma(t,u,r,r.undirected,i),t&&c))return c}function UC(t,e,n){if(t!=="mixed"){if(t==="undirected")return Object.keys(n.undirected);if(typeof e=="string")return Object.keys(n[e])}const r=[];return Xd(!1,t,e,n,function(i){r.push(i)}),r}function ya(t,e,n){const r=Object.keys(n),i=r.length;let u=0;return new Br(function(){let l=null;do{if(u>=i)return t&&t.wrap(n),{done:!0};const d=n[r[u++]],p=d.source,w=d.target;if(l=p===e?w:p,t&&t.has(l.key)){l=null;continue}}while(l===null);return{done:!1,value:{neighbor:l.key,attributes:l.attributes}}})}function WC(t,e,n){if(t!=="mixed"){if(t==="undirected")return ya(null,n,n.undirected);if(typeof e=="string")return ya(null,n,n[e])}let r=Br.empty();const i=new Ic;return t!=="undirected"&&(e!=="out"&&(r=Wi(r,ya(i,n,n.in))),e!=="in"&&(r=Wi(r,ya(i,n,n.out)))),t!=="directed"&&(r=Wi(r,ya(i,n,n.undirected))),r}function HC(t,e){const{name:n,type:r,direction:i}=e;t.prototype[n]=function(u){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];u=""+u;const c=this._nodes.get(u);if(typeof c>"u")throw new Re(`Graph.${n}: could not find the "${u}" node in the graph.`);return UC(r==="mixed"?this.type:r,i,c)}}function zC(t,e){const{name:n,type:r,direction:i}=e,u="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(p,w){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;p=""+p;const v=this._nodes.get(p);if(typeof v>"u")throw new Re(`Graph.${u}: could not find the "${p}" node in the graph.`);Xd(!1,r==="mixed"?this.type:r,i,v,w)};const c="map"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(p,w){const v=[];return this[u](p,(E,C)=>{v.push(w(E,C))}),v};const l="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[l]=function(p,w){const v=[];return this[u](p,(E,C)=>{w(E,C)&&v.push(E)}),v};const d="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[d]=function(p,w,v){if(arguments.length<3)throw new $e(`Graph.${d}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let E=v;return this[u](p,(C,L)=>{E=w(E,C,L)}),E}}function jC(t,e){const{name:n,type:r,direction:i}=e,u=n[0].toUpperCase()+n.slice(1,-1),c="find"+u;t.prototype[c]=function(p,w){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;p=""+p;const v=this._nodes.get(p);if(typeof v>"u")throw new Re(`Graph.${c}: could not find the "${p}" node in the graph.`);return Xd(!0,r==="mixed"?this.type:r,i,v,w)};const l="some"+u;t.prototype[l]=function(p,w){return!!this[c](p,w)};const d="every"+u;t.prototype[d]=function(p,w){return!this[c](p,(E,C)=>!w(E,C))}}function VC(t,e){const{name:n,type:r,direction:i}=e,u=n.slice(0,-1)+"Entries";t.prototype[u]=function(c){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return Br.empty();c=""+c;const l=this._nodes.get(c);if(typeof l>"u")throw new Re(`Graph.${u}: could not find the "${c}" node in the graph.`);return WC(r==="mixed"?this.type:r,i,l)}}function XC(t){GC.forEach(e=>{HC(t,e),zC(t,e),jC(t,e),VC(t,e)})}function zu(t,e,n,r,i){const u=r._nodes.values(),c=r.type;let l,d,p,w,v,E;for(;l=u.next(),l.done!==!0;){let C=!1;if(d=l.value,c!=="undirected"){w=d.out;for(p in w){v=w[p];do E=v.target,C=!0,i(d.key,E.key,d.attributes,E.attributes,v.key,v.attributes,v.undirected),v=v.next;while(v)}}if(c!=="directed"){w=d.undirected;for(p in w)if(!(e&&d.key>p)){v=w[p];do E=v.target,E.key!==p&&(E=v.source),C=!0,i(d.key,E.key,d.attributes,E.attributes,v.key,v.attributes,v.undirected),v=v.next;while(v)}}n&&!C&&i(d.key,null,d.attributes,null,null,null,null)}}function YC(t,e){const n={key:t};return Lm(e.attributes)||(n.attributes=Sn({},e.attributes)),n}function KC(t,e,n){const r={key:e,source:n.source.key,target:n.target.key};return Lm(n.attributes)||(r.attributes=Sn({},n.attributes)),t==="mixed"&&n.undirected&&(r.undirected=!0),r}function QC(t){if(!Gn(t))throw new $e('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in t))throw new $e("Graph.import: serialized node is missing its key.");if("attributes"in t&&(!Gn(t.attributes)||t.attributes===null))throw new $e("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function qC(t){if(!Gn(t))throw new $e('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in t))throw new $e("Graph.import: serialized edge is missing its source.");if(!("target"in t))throw new $e("Graph.import: serialized edge is missing its target.");if("attributes"in t&&(!Gn(t.attributes)||t.attributes===null))throw new $e("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in t&&typeof t.undirected!="boolean")throw new $e("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const JC=eC(),ZC=new Set(["directed","undirected","mixed"]),hg=new Set(["domain","_events","_eventsCount","_maxListeners"]),e_=[{name:t=>`${t}Edge`,generateKey:!0},{name:t=>`${t}DirectedEdge`,generateKey:!0,type:"directed"},{name:t=>`${t}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:t=>`${t}EdgeWithKey`},{name:t=>`${t}DirectedEdgeWithKey`,type:"directed"},{name:t=>`${t}UndirectedEdgeWithKey`,type:"undirected"}],t_={allowSelfLoops:!0,multi:!1,type:"mixed"};function n_(t,e,n){if(n&&!Gn(n))throw new $e(`Graph.addNode: invalid attributes. Expecting an object but got "${n}"`);if(e=""+e,n=n||{},t._nodes.has(e))throw new qe(`Graph.addNode: the "${e}" node already exist in the graph.`);const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function pg(t,e,n){const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function Nm(t,e,n,r,i,u,c,l){if(!r&&t.type==="undirected")throw new qe(`Graph.${e}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(r&&t.type==="directed")throw new qe(`Graph.${e}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(l&&!Gn(l))throw new $e(`Graph.${e}: invalid attributes. Expecting an object but got "${l}"`);if(u=""+u,c=""+c,l=l||{},!t.allowSelfLoops&&u===c)throw new qe(`Graph.${e}: source & target are the same ("${u}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const d=t._nodes.get(u),p=t._nodes.get(c);if(!d)throw new Re(`Graph.${e}: source node "${u}" not found.`);if(!p)throw new Re(`Graph.${e}: target node "${c}" not found.`);const w={key:null,undirected:r,source:u,target:c,attributes:l};if(n)i=t._edgeKeyGenerator();else if(i=""+i,t._edges.has(i))throw new qe(`Graph.${e}: the "${i}" edge already exists in the graph.`);if(!t.multi&&(r?typeof d.undirected[c]<"u":typeof d.out[c]<"u"))throw new qe(`Graph.${e}: an edge linking "${u}" to "${c}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const v=new ks(r,i,d,p,l);t._edges.set(i,v);const E=u===c;return r?(d.undirectedDegree++,p.undirectedDegree++,E&&(d.undirectedLoops++,t._undirectedSelfLoopCount++)):(d.outDegree++,p.inDegree++,E&&(d.directedLoops++,t._directedSelfLoopCount++)),t.multi?v.attachMulti():v.attach(),r?t._undirectedSize++:t._directedSize++,w.key=i,t.emit("edgeAdded",w),i}function r_(t,e,n,r,i,u,c,l,d){if(!r&&t.type==="undirected")throw new qe(`Graph.${e}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(r&&t.type==="directed")throw new qe(`Graph.${e}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(l){if(d){if(typeof l!="function")throw new $e(`Graph.${e}: invalid updater function. Expecting a function but got "${l}"`)}else if(!Gn(l))throw new $e(`Graph.${e}: invalid attributes. Expecting an object but got "${l}"`)}u=""+u,c=""+c;let p;if(d&&(p=l,l=void 0),!t.allowSelfLoops&&u===c)throw new qe(`Graph.${e}: source & target are the same ("${u}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let w=t._nodes.get(u),v=t._nodes.get(c),E,C;if(!n&&(E=t._edges.get(i),E)){if((E.source.key!==u||E.target.key!==c)&&(!r||E.source.key!==c||E.target.key!==u))throw new qe(`Graph.${e}: inconsistency detected when attempting to merge the "${i}" edge with "${u}" source & "${c}" target vs. ("${E.source.key}", "${E.target.key}").`);C=E}if(!C&&!t.multi&&w&&(C=r?w.undirected[c]:w.out[c]),C){const Q=[C.key,!1,!1,!1];if(d?!p:!l)return Q;if(d){const H=C.attributes;C.attributes=p(H),t.emit("edgeAttributesUpdated",{type:"replace",key:C.key,attributes:C.attributes})}else Sn(C.attributes,l),t.emit("edgeAttributesUpdated",{type:"merge",key:C.key,attributes:C.attributes,data:l});return Q}l=l||{},d&&p&&(l=p(l));const L={key:null,undirected:r,source:u,target:c,attributes:l};if(n)i=t._edgeKeyGenerator();else if(i=""+i,t._edges.has(i))throw new qe(`Graph.${e}: the "${i}" edge already exists in the graph.`);let k=!1,N=!1;w||(w=pg(t,u,{}),k=!0,u===c&&(v=w,N=!0)),v||(v=pg(t,c,{}),N=!0),E=new ks(r,i,w,v,l),t._edges.set(i,E);const W=u===c;return r?(w.undirectedDegree++,v.undirectedDegree++,W&&(w.undirectedLoops++,t._undirectedSelfLoopCount++)):(w.outDegree++,v.inDegree++,W&&(w.directedLoops++,t._directedSelfLoopCount++)),t.multi?E.attachMulti():E.attach(),r?t._undirectedSize++:t._directedSize++,L.key=i,t.emit("edgeAdded",L),[i,!0,k,N]}function vs(t,e){t._edges.delete(e.key);const{source:n,target:r,attributes:i}=e,u=e.undirected,c=n===r;u?(n.undirectedDegree--,r.undirectedDegree--,c&&(n.undirectedLoops--,t._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,c&&(n.directedLoops--,t._directedSelfLoopCount--)),t.multi?e.detachMulti():e.detach(),u?t._undirectedSize--:t._directedSize--,t.emit("edgeDropped",{key:e.key,attributes:i,source:n.key,target:r.key,undirected:u})}class Ut extends HA.EventEmitter{constructor(e){if(super(),e=Sn({},t_,e),typeof e.multi!="boolean")throw new $e(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${e.multi}".`);if(!ZC.has(e.type))throw new $e(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${e.type}".`);if(typeof e.allowSelfLoops!="boolean")throw new $e(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${e.allowSelfLoops}".`);const n=e.type==="mixed"?Pm:e.type==="directed"?Mm:Im;Rr(this,"NodeDataClass",n);const r="geid_"+JC()+"_";let i=0;const u=()=>{let c;do c=r+i++;while(this._edges.has(c));return c};Rr(this,"_attributes",{}),Rr(this,"_nodes",new Map),Rr(this,"_edges",new Map),Rr(this,"_directedSize",0),Rr(this,"_undirectedSize",0),Rr(this,"_directedSelfLoopCount",0),Rr(this,"_undirectedSelfLoopCount",0),Rr(this,"_edgeKeyGenerator",u),Rr(this,"_options",e),hg.forEach(c=>Rr(this,c,this[c])),Qr(this,"order",()=>this._nodes.size),Qr(this,"size",()=>this._edges.size),Qr(this,"directedSize",()=>this._directedSize),Qr(this,"undirectedSize",()=>this._undirectedSize),Qr(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),Qr(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),Qr(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),Qr(this,"multi",this._options.multi),Qr(this,"type",this._options.type),Qr(this,"allowSelfLoops",this._options.allowSelfLoops),Qr(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(e){return this._nodes.has(""+e)}hasDirectedEdge(e,n){if(this.type==="undirected")return!1;if(arguments.length===1){const r=""+e,i=this._edges.get(r);return!!i&&!i.undirected}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?r.out.hasOwnProperty(n):!1}throw new $e(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(e,n){if(this.type==="directed")return!1;if(arguments.length===1){const r=""+e,i=this._edges.get(r);return!!i&&i.undirected}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?r.undirected.hasOwnProperty(n):!1}throw new $e(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(e,n){if(arguments.length===1){const r=""+e;return this._edges.has(r)}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?typeof r.out<"u"&&r.out.hasOwnProperty(n)||typeof r.undirected<"u"&&r.undirected.hasOwnProperty(n):!1}throw new $e(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(e,n){if(this.type==="undirected")return;if(e=""+e,n=""+n,this.multi)throw new qe("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const r=this._nodes.get(e);if(!r)throw new Re(`Graph.directedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Re(`Graph.directedEdge: could not find the "${n}" target node in the graph.`);const i=r.out&&r.out[n]||void 0;if(i)return i.key}undirectedEdge(e,n){if(this.type==="directed")return;if(e=""+e,n=""+n,this.multi)throw new qe("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const r=this._nodes.get(e);if(!r)throw new Re(`Graph.undirectedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Re(`Graph.undirectedEdge: could not find the "${n}" target node in the graph.`);const i=r.undirected&&r.undirected[n]||void 0;if(i)return i.key}edge(e,n){if(this.multi)throw new qe("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.edge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Re(`Graph.edge: could not find the "${n}" target node in the graph.`);const i=r.out&&r.out[n]||r.undirected&&r.undirected[n]||void 0;if(i)return i.key}areDirectedNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areDirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.in||n in r.out}areOutNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areOutNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.out}areInNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areInNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.in}areUndirectedNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areUndirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="directed"?!1:n in r.undirected}areNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&(n in r.in||n in r.out)||this.type!=="directed"&&n in r.undirected}areInboundNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areInboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&n in r.in||this.type!=="directed"&&n in r.undirected}areOutboundNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areOutboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&n in r.out||this.type!=="directed"&&n in r.undirected}inDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.inDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree}outDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.outDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.outDegree}directedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.directedDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree}undirectedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.undirectedDegree: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree}inboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.inboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree),r}outboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.outboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.outDegree),r}degree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.degree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree),r}inDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.inDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree-n.directedLoops}outDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.outDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.outDegree-n.directedLoops}directedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.directedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree-n.directedLoops*2}undirectedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree-n.undirectedLoops*2}inboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=n.undirectedDegree,i+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree,i+=n.directedLoops),r-i}outboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=n.undirectedDegree,i+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.outDegree,i+=n.directedLoops),r-i}degreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.degreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=n.undirectedDegree,i+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree,i+=n.directedLoops*2),r-i}source(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.source: could not find the "${e}" edge in the graph.`);return n.source.key}target(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.target: could not find the "${e}" edge in the graph.`);return n.target.key}extremities(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.extremities: could not find the "${e}" edge in the graph.`);return[n.source.key,n.target.key]}opposite(e,n){e=""+e,n=""+n;const r=this._edges.get(n);if(!r)throw new Re(`Graph.opposite: could not find the "${n}" edge in the graph.`);const i=r.source.key,u=r.target.key;if(e===i)return u;if(e===u)return i;throw new Re(`Graph.opposite: the "${e}" node is not attached to the "${n}" edge (${i}, ${u}).`)}hasExtremity(e,n){e=""+e,n=""+n;const r=this._edges.get(e);if(!r)throw new Re(`Graph.hasExtremity: could not find the "${e}" edge in the graph.`);return r.source.key===n||r.target.key===n}isUndirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.isUndirected: could not find the "${e}" edge in the graph.`);return n.undirected}isDirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.isDirected: could not find the "${e}" edge in the graph.`);return!n.undirected}isSelfLoop(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.isSelfLoop: could not find the "${e}" edge in the graph.`);return n.source===n.target}addNode(e,n){return n_(this,e,n).key}mergeNode(e,n){if(n&&!Gn(n))throw new $e(`Graph.mergeNode: invalid attributes. Expecting an object but got "${n}"`);e=""+e,n=n||{};let r=this._nodes.get(e);return r?(n&&(Sn(r.attributes,n),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:r.attributes,data:n})),[e,!1]):(r=new this.NodeDataClass(e,n),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:n}),[e,!0])}updateNode(e,n){if(n&&typeof n!="function")throw new $e(`Graph.updateNode: invalid updater function. Expecting a function but got "${n}"`);e=""+e;let r=this._nodes.get(e);if(r){if(n){const u=r.attributes;r.attributes=n(u),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:r.attributes})}return[e,!1]}const i=n?n({}):{};return r=new this.NodeDataClass(e,i),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:i}),[e,!0]}dropNode(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.dropNode: could not find the "${e}" node in the graph.`);let r;if(this.type!=="undirected"){for(const i in n.out){r=n.out[i];do vs(this,r),r=r.next;while(r)}for(const i in n.in){r=n.in[i];do vs(this,r),r=r.next;while(r)}}if(this.type!=="directed")for(const i in n.undirected){r=n.undirected[i];do vs(this,r),r=r.next;while(r)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:n.attributes})}dropEdge(e){let n;if(arguments.length>1){const r=""+arguments[0],i=""+arguments[1];if(n=Dr(this,r,i,this.type),!n)throw new Re(`Graph.dropEdge: could not find the "${r}" -> "${i}" edge in the graph.`)}else if(e=""+e,n=this._edges.get(e),!n)throw new Re(`Graph.dropEdge: could not find the "${e}" edge in the graph.`);return vs(this,n),this}dropDirectedEdge(e,n){if(arguments.length<2)throw new qe("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new qe("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");e=""+e,n=""+n;const r=Dr(this,e,n,"directed");if(!r)throw new Re(`Graph.dropDirectedEdge: could not find a "${e}" -> "${n}" edge in the graph.`);return vs(this,r),this}dropUndirectedEdge(e,n){if(arguments.length<2)throw new qe("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new qe("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const r=Dr(this,e,n,"undirected");if(!r)throw new Re(`Graph.dropUndirectedEdge: could not find a "${e}" -> "${n}" edge in the graph.`);return vs(this,r),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const e=this._nodes.values();let n;for(;n=e.next(),n.done!==!0;)n.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(e){return this._attributes[e]}getAttributes(){return this._attributes}hasAttribute(e){return this._attributes.hasOwnProperty(e)}setAttribute(e,n){return this._attributes[e]=n,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}updateAttribute(e,n){if(typeof n!="function")throw new $e("Graph.updateAttribute: updater should be a function.");const r=this._attributes[e];return this._attributes[e]=n(r),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}removeAttribute(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this}replaceAttributes(e){if(!Gn(e))throw new $e("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(e){if(!Gn(e))throw new $e("Graph.mergeAttributes: provided attributes are not a plain object.");return Sn(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this}updateAttributes(e){if(typeof e!="function")throw new $e("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(e,n){if(typeof e!="function")throw new $e("Graph.updateEachNodeAttributes: expecting an updater function.");if(n&&!dg(n))throw new $e("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._nodes.values();let i,u;for(;i=r.next(),i.done!==!0;)u=i.value,u.attributes=e(u.key,u.attributes);this.emit("eachNodeAttributesUpdated",{hints:n||null})}updateEachEdgeAttributes(e,n){if(typeof e!="function")throw new $e("Graph.updateEachEdgeAttributes: expecting an updater function.");if(n&&!dg(n))throw new $e("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._edges.values();let i,u,c,l;for(;i=r.next(),i.done!==!0;)u=i.value,c=u.source,l=u.target,u.attributes=e(u.key,u.attributes,c.key,l.key,c.attributes,l.attributes,u.undirected);this.emit("eachEdgeAttributesUpdated",{hints:n||null})}forEachAdjacencyEntry(e){if(typeof e!="function")throw new $e("Graph.forEachAdjacencyEntry: expecting a callback.");zu(!1,!1,!1,this,e)}forEachAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new $e("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");zu(!1,!1,!0,this,e)}forEachAssymetricAdjacencyEntry(e){if(typeof e!="function")throw new $e("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");zu(!1,!0,!1,this,e)}forEachAssymetricAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new $e("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");zu(!1,!0,!0,this,e)}nodes(){return typeof Array.from=="function"?Array.from(this._nodes.keys()):Tm(this._nodes.keys(),this._nodes.size)}forEachNode(e){if(typeof e!="function")throw new $e("Graph.forEachNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)i=r.value,e(i.key,i.attributes)}findNode(e){if(typeof e!="function")throw new $e("Graph.findNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)if(i=r.value,e(i.key,i.attributes))return i.key}mapNodes(e){if(typeof e!="function")throw new $e("Graph.mapNode: expecting a callback.");const n=this._nodes.values();let r,i;const u=new Array(this.order);let c=0;for(;r=n.next(),r.done!==!0;)i=r.value,u[c++]=e(i.key,i.attributes);return u}someNode(e){if(typeof e!="function")throw new $e("Graph.someNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)if(i=r.value,e(i.key,i.attributes))return!0;return!1}everyNode(e){if(typeof e!="function")throw new $e("Graph.everyNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)if(i=r.value,!e(i.key,i.attributes))return!1;return!0}filterNodes(e){if(typeof e!="function")throw new $e("Graph.filterNodes: expecting a callback.");const n=this._nodes.values();let r,i;const u=[];for(;r=n.next(),r.done!==!0;)i=r.value,e(i.key,i.attributes)&&u.push(i.key);return u}reduceNodes(e,n){if(typeof e!="function")throw new $e("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new $e("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let r=n;const i=this._nodes.values();let u,c;for(;u=i.next(),u.done!==!0;)c=u.value,r=e(r,c.key,c.attributes);return r}nodeEntries(){const e=this._nodes.values();return new Br(()=>{const n=e.next();if(n.done)return n;const r=n.value;return{value:{node:r.key,attributes:r.attributes},done:!1}})}export(){const e=new Array(this._nodes.size);let n=0;this._nodes.forEach((i,u)=>{e[n++]=YC(u,i)});const r=new Array(this._edges.size);return n=0,this._edges.forEach((i,u)=>{r[n++]=KC(this.type,u,i)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:r}}import(e,n=!1){if(e instanceof Ut)return e.forEachNode((d,p)=>{n?this.mergeNode(d,p):this.addNode(d,p)}),e.forEachEdge((d,p,w,v,E,C,L)=>{n?L?this.mergeUndirectedEdgeWithKey(d,w,v,p):this.mergeDirectedEdgeWithKey(d,w,v,p):L?this.addUndirectedEdgeWithKey(d,w,v,p):this.addDirectedEdgeWithKey(d,w,v,p)}),this;if(!Gn(e))throw new $e("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!Gn(e.attributes))throw new $e("Graph.import: invalid attributes. Expecting a plain object.");n?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}let r,i,u,c,l;if(e.nodes){if(u=e.nodes,!Array.isArray(u))throw new $e("Graph.import: invalid nodes. Expecting an array.");for(r=0,i=u.length;r<i;r++){c=u[r],QC(c);const{key:d,attributes:p}=c;n?this.mergeNode(d,p):this.addNode(d,p)}}if(e.edges){let d=!1;if(this.type==="undirected"&&(d=!0),u=e.edges,!Array.isArray(u))throw new $e("Graph.import: invalid edges. Expecting an array.");for(r=0,i=u.length;r<i;r++){l=u[r],qC(l);const{source:p,target:w,attributes:v,undirected:E=d}=l;let C;"key"in l?(C=n?E?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:E?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,C.call(this,l.key,p,w,v)):(C=n?E?this.mergeUndirectedEdge:this.mergeDirectedEdge:E?this.addUndirectedEdge:this.addDirectedEdge,C.call(this,p,w,v))}}return this}nullCopy(e){const n=new Ut(Sn({},this._options,e));return n.replaceAttributes(Sn({},this.getAttributes())),n}emptyCopy(e){const n=this.nullCopy(e);return this._nodes.forEach((r,i)=>{const u=Sn({},r.attributes);r=new n.NodeDataClass(i,u),n._nodes.set(i,r)}),n}copy(e){if(e=e||{},typeof e.type=="string"&&e.type!==this.type&&e.type!=="mixed")throw new qe(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${e.type}" because this would mean losing information about the current graph.`);if(typeof e.multi=="boolean"&&e.multi!==this.multi&&e.multi!==!0)throw new qe("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof e.allowSelfLoops=="boolean"&&e.allowSelfLoops!==this.allowSelfLoops&&e.allowSelfLoops!==!0)throw new qe("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const n=this.emptyCopy(e),r=this._edges.values();let i,u;for(;i=r.next(),i.done!==!0;)u=i.value,Nm(n,"copy",!1,u.undirected,u.key,u.source.key,u.target.key,Sn({},u.attributes));return n}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const e={};this._nodes.forEach((u,c)=>{e[c]=u.attributes});const n={},r={};this._edges.forEach((u,c)=>{const l=u.undirected?"--":"->";let d="",p=u.source.key,w=u.target.key,v;u.undirected&&p>w&&(v=p,p=w,w=v);const E=`(${p})${l}(${w})`;c.startsWith("geid_")?this.multi&&(typeof r[E]>"u"?r[E]=0:r[E]++,d+=`${r[E]}. `):d+=`[${c}]: `,d+=E,n[d]=u.attributes});const i={};for(const u in this)this.hasOwnProperty(u)&&!hg.has(u)&&typeof this[u]!="function"&&typeof u!="symbol"&&(i[u]=this[u]);return i.attributes=this._attributes,i.nodes=e,i.edges=n,Rr(i,"constructor",this.constructor),i}}typeof Symbol<"u"&&(Ut.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ut.prototype.inspect);e_.forEach(t=>{["add","merge","update"].forEach(e=>{const n=t.name(e),r=e==="add"?Nm:r_;t.generateKey?Ut.prototype[n]=function(i,u,c){return r(this,n,!0,(t.type||this.type)==="undirected",null,i,u,c,e==="update")}:Ut.prototype[n]=function(i,u,c,l){return r(this,n,!1,(t.type||this.type)==="undirected",i,u,c,l,e==="update")}})});dC(Ut);EC(Ut);BC(Ut);XC(Ut);class $m extends Ut{constructor(e){const n=Sn({type:"directed"},e);if("multi"in n&&n.multi!==!1)throw new $e("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="directed")throw new $e('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Dm extends Ut{constructor(e){const n=Sn({type:"undirected"},e);if("multi"in n&&n.multi!==!1)throw new $e("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="undirected")throw new $e('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Yd extends Ut{constructor(e){const n=Sn({multi:!0},e);if("multi"in n&&n.multi!==!0)throw new $e("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(n)}}class Bm extends Ut{constructor(e){const n=Sn({type:"directed",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new $e("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="directed")throw new $e('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Gm extends Ut{constructor(e){const n=Sn({type:"undirected",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new $e("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="undirected")throw new $e('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}function Rs(t){t.from=function(e,n){const r=Sn({},e.options,n),i=new t(r);return i.import(e),i}}Rs(Ut);Rs($m);Rs(Dm);Rs(Yd);Rs(Bm);Rs(Gm);Ut.Graph=Ut;Ut.DirectedGraph=$m;Ut.UndirectedGraph=Dm;Ut.MultiGraph=Yd;Ut.MultiDirectedGraph=Bm;Ut.MultiUndirectedGraph=Gm;Ut.InvalidArgumentsGraphError=$e;Ut.NotFoundGraphError=Re;Ut.UsageGraphError=qe;var i_=function(e){return e!==null&&typeof e=="object"&&typeof e.addUndirectedEdgeWithKey=="function"&&typeof e.dropNode=="function"&&typeof e.multi=="boolean"};function Jo(t){this.graph=t,this.stack=new Array(t.order),this.seen=new Set,this.size=0}Jo.prototype.hasAlreadySeenEverything=function(){return this.seen.size===this.graph.order};Jo.prototype.countUnseenNodes=function(){return this.graph.order-this.seen.size};Jo.prototype.forEachNodeYetUnseen=function(t){var e=this.seen,n=this.graph;n.someNode(function(r,i){if(e.size===n.order)return!0;if(e.has(r))return!1;var u=t(r,i);return!!u})};Jo.prototype.has=function(t){return this.seen.has(t)};Jo.prototype.push=function(t){var e=this.seen.size;return this.seen.add(t),e===this.seen.size?!1:(this.stack[this.size++]=t,!0)};Jo.prototype.pushWith=function(t,e){var n=this.seen.size;return this.seen.add(t),n===this.seen.size?!1:(this.stack[this.size++]=e,!0)};Jo.prototype.pop=function(){if(this.size!==0)return this.stack[--this.size]};var o_=i_;function s_(t){if(!o_(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!t.order)return[];if(t.type==="undirected")throw new Error("graphology-components: the given graph is undirected");var e=t.nodes(),n=[],r,i;if(!t.size){for(r=0,i=e.length;r<i;r++)n.push([e[r]]);return n}var u=1,c=[],l=[],d=new Map,p=new Set,w,v,E,C=function(L){var k,N=t.outboundNeighbors(L),W;d.set(L,u++),c.push(L),l.push(L);for(var Q=0,H=N.length;Q<H;Q++)if(k=N[Q],d.has(k)){if(W=d.get(k),!p.has(k))for(;d.get(c[c.length-1])>W;)c.pop()}else C(k);if(d.get(c[c.length-1])===d.get(L)){w=[];do v=l.pop(),w.push(v),p.add(v);while(v!==L);n.push(w),c.pop()}};for(r=0,i=e.length;r<i;r++)E=e[r],p.has(E)||C(E);return n}var a_=s_;function u_({vectorData:t,localStore:e}){var c;const n=e.getFigma(),r=new Yd;t.vectorNetwork.vertices.forEach((l,d)=>{r.addNode(d)}),t.vectorNetwork.segments.forEach((l,d)=>{r.addUndirectedEdge(l.start.vertex,l.end.vertex,{})});const i=a_(r);if((c=e.vectorEditor)==null||c.closedPathList.forEach(l=>{l.delete()}),e.vectorEditor={graph:r,closedPathList:[]},!n)return;const{Raptor:u}=n.context;console.log({componentList:i}),i.forEach(l=>{var d;if(l.length>1){const p=new u.Path;l.reverse(),l.forEach((w,v)=>{const E=t.vectorNetwork.vertices[w],C=t.vectorNetwork.vertices[l[v+1]];if(v===0&&p.moveTo(E.x,E.y),E&&C){const L=c_({vectorData:t,startVid:w,endVid:l[v+1]});L&&(L.start.dx===0&&L.start.dy===0&&L.end.dx===0&&L.end.dy===0?p.lineTo(L.end.x,L.end.dy):p.cubicTo(L.start.x+L.start.dx,L.start.y+L.start.dy,L.end.x+L.end.dx,L.end.y+L.end.dy,L.end.x,L.end.y))}}),p.close(),(d=e.vectorEditor)==null||d.closedPathList.push(p)}})}function c_({vectorData:t,startVid:e,endVid:n}){let r=null;if(t.vectorNetwork.segments.forEach(i=>{`${i.start.vertex}`===e&&`${i.end.vertex}`===n&&(r=i)}),r!==null){const i=t.vectorNetwork.vertices[e],u=t.vectorNetwork.vertices[n];return{start:{x:i.x,y:i.y,dx:r.start.dx,dy:r.start.dy},end:{x:u.x,y:u.y,dx:r.end.dx,dy:r.end.dy}}}return null}function va({layer:t,normalizedPoint:e}){return t.width===0?e:{x:e.x/t.vectorData.normalizedSize.x*t.width,y:e.y/t.vectorData.normalizedSize.y*t.height}}function R3({layer:t,localPoint:e}){return t.width===0?e:{x:t.vectorData.normalizedSize.x/t.width*e.x,y:t.vectorData.normalizedSize.y/t.height*e.y}}function l_(t){const{vertices:e,segments:n}=t.vectorNetwork;let r=1/0,i=-1/0,u=1/0,c=-1/0;return e.forEach(l=>{r=Math.min(r,l.x),i=Math.max(i,l.x),u=Math.min(u,l.y),c=Math.max(c,l.y)}),n.forEach(l=>{const d=e[l.start.vertex],p=e[l.end.vertex];if(!(l.start.dx===0&&l.start.dy===0&&l.end.dx===0&&l.end.dy===0)){const w=T0(d.x,d.y,d.x+l.start.dx,d.y+l.start.dy,p.x+l.end.dx,p.y+l.end.dy,p.x,p.y);r=Math.min(r,w.min.x),i=Math.max(i,w.max.x),u=Math.min(u,w.min.y),c=Math.max(c,w.max.y)}}),{left:r,right:i,top:u,bottom:c,x:i-r,y:c-u}}function O3(t){const{vertices:e,segments:n}=t.vectorNetwork;let r=0,i=0,u=0,c=0;return e.forEach(l=>{l.x<0&&(r=Math.min(r,l.x)),l.x>0&&(i=Math.max(i,l.x)),l.y<0&&(u=Math.min(u,l.y)),l.y>0&&(c=Math.max(c,l.y))}),n.forEach(l=>{const d=e[l.start.vertex],p=e[l.end.vertex];if(!(l.start.dx===0&&l.start.dy===0&&l.end.dx===0&&l.end.dy===0)){const w=T0(d.x,d.y,d.x+l.start.dx,d.y+l.start.dy,p.x+l.end.dx,p.y+l.end.dy,p.x,p.y);r=Math.min(r,w.min.x),i=Math.max(i,w.max.x),u=Math.min(u,w.min.y),c=Math.max(c,w.max.y)}}),{left:r,right:i,top:u,bottom:c,x:i-r,y:c-u}}function F3({localStore:t,layer:e,step:n}){if((e==null?void 0:e.nodeType)==="vector"&&e.width&&e.height){const r=l_(e.vectorData),i=e.width/e.vectorData.normalizedSize.x,u=e.height/e.vectorData.normalizedSize.y,c=r.x*i,l=r.y*u,d=r.left,p=r.top,w=In(e),v=Xo(w,{x:d*i,y:p*u}),E=A0({x:v.x,y:v.y,width:c,height:l,rotate:e.rotate});t.segmentCandidate&&(t.segmentCandidate.startVertex.x-=d,t.segmentCandidate.startVertex.y-=p,t.segmentCandidate.endVertex.x-=d,t.segmentCandidate.endVertex.y-=p),n.update({layer:e,data:{width:c,height:l,left:E.left,top:E.top,vectorData(C){C.vectorNetwork.vertices.forEach(L=>{L.x-=d,L.y-=p}),C.normalizedSize={...r}}}}),u_({vectorData:e.vectorData,localStore:t})}}const f_=20;function N3(t){t.currentStatus="playingTimeline"}function d_(t){if(t.timelineInterval===null){ir(t,{type:"clear"}),t.currentTime>=t.timelineMax&&(t.currentTime=0);let e=new Date().getTime();t.timelineInterval=setInterval(()=>{const n=new Date().getTime();t.currentTime+=n-e,e=n,t.currentTime>=t.timelineMax&&(t.currentTime=t.timelineMax,h_(t))},10)}}function h_(t){t.currentStatus=""}function p_(t){t.timelineInterval!==null&&clearInterval(t.timelineInterval),t.timelineInterval=null}function $3(t,e){e.stopPropagation(),t.currentStatus="movingTimelineNeedle",FE(t,e)}function D3(t,e){const r=(e.pageX-t.pointerX)/f_*1e3;t.currentTime+=r,t.currentTime<0&&(t.currentTime=0),ir(t,{type:"clear"}),em(t,e)}function B3(t){var n;const e=(n=t.timeline)==null?void 0:n.entrance;if(e){if(e.type==="slideIn"){if(e.from==="left")return[{translateX:-t.width,opacity:0,duration:0},{translateX:-t.width,opacity:0,duration:0},{translateX:0,opacity:1}];if(e.from==="right")return[{translateX:t.width,opacity:0,duration:0},{translateX:t.width,opacity:0,duration:0},{translateX:0,opacity:1}]}if(e.type==="zoomIn")return[{opacity:0,scaleX:.3,scaleY:.3,scaleZ:.3,duration:0},{opacity:0,scaleX:.3,scaleY:.3,scaleZ:.3,duration:0},{opacity:1,scaleX:1,scaleY:1,scaleZ:1}]}return[]}function G3(t){var n;const e=(n=t.timeline)==null?void 0:n.exit;return e&&e.type==="rotateOut"?[{rotateZ:0,opacity:1,duration:0},{rotateZ:0,opacity:1,duration:0},{rotateZ:"200deg",opacity:0}]:[]}var g_=Object.defineProperty,m_=Object.getOwnPropertyDescriptor,kc=(t,e,n,r)=>{for(var i=r>1?void 0:r?m_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(i=(r?c(e,n,i):c(i))||i);return r&&i&&g_(e,n,i),i};class Rc{constructor(e,n){this.stepIdIndex=-1,this.maxStepLength=50,this.stepCursor=-1,this.stepList=[],Na(this),this.getState=e,typeof n=="number"&&(this.maxStepLength=n)}save(e){this.stepIdIndex+=1;const n=this.stepIdIndex;this.stepCursor<this.stepList.length-1&&(this.stepList=this.stepList.slice(0,this.stepCursor+1)),this.stepList.push({id:n,...e,resultSnapshot:ze.cloneDeep(this.getState())}),this.stepCursor+=1,this.stepList.length>this.maxStepLength&&(this.stepList.shift(),this.stepCursor-=1)}undo(){if(this.canUndo){const e=this.stepList[this.stepCursor-1];Object.assign(this.getState(),ze.cloneDeep(e.resultSnapshot)),this.stepCursor-=1}}redo(){if(this.canRedo){const e=this.stepList[this.stepCursor+1];e&&Object.assign(this.getState(),ze.cloneDeep(e.resultSnapshot)),this.stepCursor+=1}}record(e){this.save({name:e,redo:()=>{},undo:()=>{}})}cancelRecordsByCursor(e){const n=this.stepList[e];n&&(Object.assign(this.getState(),ze.cloneDeep(n.resultSnapshot)),this.stepCursor=e,this.stepList.splice(e+1,this.stepList.length-1))}clearRecords(){this.stepList=[],this.stepCursor=-1}get canUndo(){return this.stepCursor>0}get canRedo(){return this.stepCursor<this.stepList.length-1}}kc([We],Rc.prototype,"stepCursor",2);kc([We],Rc.prototype,"stepList",2);kc([mt],Rc.prototype,"canUndo",1);kc([mt],Rc.prototype,"canRedo",1);var y_=Object.defineProperty,v_=Object.getOwnPropertyDescriptor,Kd=(t,e,n,r)=>{for(var i=r>1?void 0:r?v_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(i=(r?c(e,n,i):c(i))||i);return r&&i&&y_(e,n,i),i};function U3(t){return`clip-path-${t.id}`}class Qd{constructor({localStore:e,getPage:n,getGridCollageInfo:r}){this.activePointDotKey="",this.localStore=e,this.getPage=n,this.getGridCollageInfo=r,Na(this)}get isActive(){return this.getGridCollageInfo().subType==="POLYGONS"}updateActivePointDot(e){const n=this.getPage().pointPercentMap[this.activePointDotKey];Object.assign(n,e),this.getPage().imageLayerList.forEach(r=>{this.updateLayerSize(r)})}get pointMap(){const e={};return ze.forEach(this.getPage().pointPercentMap,(n,r)=>{e[r]={x:n.x*this.getPage().width,y:n.y*this.getPage().height}}),e}updateLayerSize(e){const n=$a(this.getPointList(e));Object.assign(e,n),R0(this.localStore,e)}getPointList(e){return e.extra.polygonPointIdList.map(n=>n==="leftTop"?{x:0,y:0}:n==="rightTop"?{x:this.getPage().width,y:0}:n==="leftBottom"?{x:0,y:this.getPage().height}:n==="rightBottom"?{x:this.getPage().width,y:this.getPage().height}:this.pointMap[n])}}Kd([mt],Qd.prototype,"isActive",1);Kd([We],Qd.prototype,"activePointDotKey",2);Kd([mt],Qd.prototype,"pointMap",1);function w_(t){return g2({get hasAnchorPoints(){var n;return!(((n=t.selectedSingleLayer)==null?void 0:n.nodeType)==="svg"&&t.selectedSingleLayer.data.type==="line")},get hasTopBottomBar(){return!(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="TEXT"&&t.selectedSingleLayer.writingMode==="horizontal-tb"||t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="svg"&&t.selectedSingleLayer.data.type==="line")},get hasLeftRightBar(){return!(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="TEXT"&&t.selectedSingleLayer.writingMode==="vertical-rl")}})}var x_=Object.defineProperty,b_=Object.getOwnPropertyDescriptor,Oc=(t,e,n,r)=>{for(var i=r>1?void 0:r?b_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(i=(r?c(e,n,i):c(i))||i);return r&&i&&x_(e,n,i),i};class Ha{constructor(e,n){this.maxStepLength=50,this.stepCursor=-1,this.stepList=[],this.localStore=e,Na(this),typeof n=="number"&&(this.maxStepLength=n)}collectLayerMap({nodeMap:e}){const n={};return Object.keys(e).forEach(r=>{var u;if((u=e[r].children)!=null&&u.$value){const c=df(this.localStore,r);c&&c.children.forEach(l=>{l.nodeType!=="CANVAS"&&(n[l.id]=l)})}}),n}undo(){var e,n;if(this.canUndo){const r=this.stepList[this.stepCursor];this.restoreSelectionInfo(r,r.getOldState().selectionInfo);const i=this.collectLayerMap({nodeMap:r.oldState.nodeMap});Object.keys(r.oldState.nodeMap).forEach(u=>{const c=df(this.localStore,u),l=this.localStore.getFigma();c?gg({localStore:this.localStore,fileData:l==null?void 0:l.context.fileData,layer:c,data:r.oldState.nodeMap[u],layerMap:i}):console.log("Node may already be deleted")}),(n=(e=this.localStore.props).doAction)==null||n.call(e,r.getOldAction()),this.stepCursor-=1}}redo(){var e,n;if(this.canRedo){const r=this.stepList[this.stepCursor+1];if(r){this.restoreSelectionInfo(r,r.getNewState().selectionInfo);const i=this.collectLayerMap({nodeMap:r.oldState.nodeMap});Object.keys(r.newState.nodeMap).forEach(u=>{const c=df(this.localStore,u),l=this.localStore.getFigma();c&&gg({localStore:this.localStore,fileData:l==null?void 0:l.context.fileData,layer:c,data:r.newState.nodeMap[u],layerMap:i})}),(n=(e=this.localStore.props).doAction)==null||n.call(e,r.getNewAction()),this.stepCursor+=1}}}restoreSelectionInfo(e,n){n?Object.assign(this.localStore.selectionInfo,ze.cloneDeep(n)):ir(this.localStore,{type:"clear"})}record(){this.localStore.currentStep!==null&&(this.stepCursor<this.stepList.length-1&&(this.stepList=this.stepList.slice(0,this.stepCursor+1)),this.localStore.currentStep.getNewState().selectionInfo=ze.cloneDeep(this.localStore.selectionInfo),this.stepList.push(this.localStore.currentStep),this.stepCursor+=1,this.stepList.length>this.maxStepLength&&(this.stepList.shift(),this.stepCursor-=1),console.log(this.localStore.currentStep),this.localStore.currentStep=null)}resetHistory(){this.stepList=[],this.stepCursor=-1}get canUndo(){return this.stepCursor>=0}get canRedo(){return this.stepCursor<this.stepList.length-1}}Oc([We],Ha.prototype,"stepCursor",2);Oc([We],Ha.prototype,"stepList",2);Oc([mt],Ha.prototype,"canUndo",1);Oc([mt],Ha.prototype,"canRedo",1);function gg({localStore:t,fileData:e,layer:n,data:r,layerMap:i}){const u=n;Object.keys(r).forEach(c=>{var d,p;const l=c;if(l==="life"){const w=r[l];if(w!=null&&w.$value){if(u.nodeType==="DOCUMENT")w.$value.type==="replacePage"&&(u.children[0]=ze.cloneDeep(w.$value.newPage));else if(w.$value.type==="createChildren"){const{newLayers:v,isGrouping:E}=w.$value;if(E&&Object.keys(v).length!==1)throw new Error("Fault");if(e)ze.forEach(v,C=>{const L=ze.cloneDeep(C);let k=[];E&&(k=L.children.map(N=>N.id),L.children=[]),NA(e,L),E&&(L.children=ff(t,k),L.children.forEach(N=>{N.parentId=L.id}))}),n.children=ff(t,w.$value.children);else{if(n.nodeType==="DOCUMENT")throw new Error;const C=ze.keyBy(n.children,"id");n.children=w.$value.children.map(L=>{if(C[L])return C[L];if(v[L])return ze.cloneDeep(v[L]);throw new Error(`child layer ${L} not found`)})}}else if(w.$value.type==="delete"){const{deletedNodes:v,children:E,isGrouping:C}=w.$value;if(C&&Object.keys(v).length!==1)throw new Error("Fault");if(e)ze.forEach(v,(L,k)=>{const N=$r(e,k);N&&(C&&(N.children=[]),H0(e,N))}),n.children=ff(t,w.$value.children);else{if(n.nodeType==="DOCUMENT")throw new Error;n.children.forEach(k=>{i[k.id]=k,v[k.id]&&k.nodeType==="GROUP"&&k.children.forEach(N=>{i[N.id]=N})});const L=[];E.forEach(k=>{i[k]&&L.push(i[k])}),n.children=L}n.children.forEach(L=>{L.parentId=n.id})}}}else if(l==="children")(d=r.children)!=null&&d.$value&&(n.children=r.children.$value.map(w=>{const v=t.getLayer(w);if(v)return v;if(i[w])return i[w];throw new Error("Layer does not exist")}));else{const w=r[l];typeof((p=r[l])==null?void 0:p.$value)<"u"?n[l]=w==null?void 0:w.$value:n[l]=void 0}})}var S_=Object.defineProperty,E_=Object.getOwnPropertyDescriptor,Ie=(t,e,n,r)=>{for(var i=r>1?void 0:r?E_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(i=(r?c(e,n,i):c(i))||i);return r&&i&&S_(e,n,i),i};class ke{constructor({getNormalLayerList:e,props:n}){this.history=new Ha(this),this.currentStep=null,this.getSelectedLayerIdList=()=>this.selectionInfo.selectedLayerIdList,this.getFigma=()=>null,this.libra=null,this.interval=null,this.isFullyFunctional=!0,this.eraserPathCanvas=null,this.cursor="",this.currentFontList=[],this.computed=w_(this),this.currentTool="MoveTool",this.currentStatus="",this.currentTime=0,this.timelineInterval=null,this.workspaceState=TA(),this.workspaceExists=!0,this.workspaceElement=null,this.layersShimmering=!1,this.controlKeyUnderPress=!1,this.layerWithMenuId="",this.layerUnderDraggingId="",this.layerUnderCropping=null,this.layersCanBeScaled=!0,this.layerListInClipboard=[],this.editingText=!1,this.advancedTextEditor={initialSelectionIndex:0,inputText:{compositionText:"",start:0},inputElement:null,inputMode:"single"},this.editingVector=null,this.vectorEditor=null,this.pointerDownX=0,this.pointerDownY=0,this.pointerDownOnRightSide=!1,this.pointerMoved=!1,this.pointerX=0,this.pointerY=0,this.pointerCurrentAngle=0,this.pointerAppliedAngle=0,this.pointerDownOnLayerId="",this.pointerMap={},this.pointerTarget$$=null,this.bunchRectangleRotationFixed=!1,this.pointerRayLengthInPage=0,this.appliedPointX=0,this.appliedPointY=0,this.bunchRectangleXFixed=!1,this.bunchRectangleYFixed=!1,this.interceptionInfo={total:0,currentPosition:0,prevID:"",nextID:"",list:[]},this.pointerDownScalePercent=100,this.resizeTransformOrigin={x:0,y:0},this.resizeOriginType="leftTop",this.resizeAndKeepRatio=!0,this.menuShow=!1,this.menuX=0,this.menuY=0,this.operatingOn={vertexIndex:0},this.bunchRectangleInMagneticField=!1,this.selectionRectStartPoint=null,this.selectionRectEndPoint={x:0,y:0},this.selectionRectExists=!1,this.layerResolvedFrameMap={},this.layerImageHasTransition=!1,this.overlappedLayerIdMap={},this.helperLineList=[],this.helperRectList=[],this.textLayerOutOfPage=!1,this.currentToolsContainer=null,this.filterState={candidateFilterId:"",candidateFilterGroupName:"",candidateFilterTypeId:"",candidateFilterInfo:null,filterPercent:0,filterSucceed:!1},this.state={eraserVisualDiam:50,eraserShadowBlurPercent:0,eraserPathColor:"rgba(253, 93, 125)",lastSwappedLayerId:""},this.options={renderer:"dom",safePadding:30,hasBasicOverlays:!0,hasGridPanels:!1,hasActiveOverlay:!0,hasLayerRotator:!0,hasLayerShortBars:!0,showOverlays:!0,canScalePage:!0,pageMaxScale:4,pageMinScale:.15,thumbnailMaxWidth:88,thumbnailMaxHeight:122,layerOutlineColor:"#80A3FF",LAYER_MINIMUN_SIZE:20,strokePathOverflow:"hidden",applyMagneticEffect:!0,helperRectColor:"purple",helperLineColor:"#a569bd",useTextEditor:"QUILL_EDITOR",hasTimeline:!1,ignoreRootFrames:!1,enableSymbolAndInstance:!0,enableEnterAndLeaveRoom:!1,canResizeLayerFrameWhenCroppingImage:!1},this.shortcutMap={"Meta + c":()=>{},"Meta + x":()=>{},"Meta + v":()=>{},"Meta + g":()=>{},"Meta + Z":()=>{},"Shift + Meta + Z":()=>{},"Shift + Meta + g":()=>{},"Alt + Meta + ArrowDown":()=>{},"Alt + Meta + ArrowUp":()=>{},"Shift + Meta + ArrowDown":()=>{},"Shift + Meta + ArrowUp":()=>{},Escape:()=>{},Backspace:()=>{},Delete:()=>{}},this.lastClickedAt=0,this.sessionID=0,this.localID=0,this.renderCount=0,this.focusedOverlay="",this.getNormalLayerList=e,this.props=n,Na(this),Wu(()=>this.getSelectedLayerIdList().join("--")+this.selectionInfo.selectedLeafLayerId,()=>{var r;this.editingText=!1,((r=this.selectedSingleLayer)==null?void 0:r.nodeType)==="vector"||(this.editingVector=null),hE(this)}),Wu(()=>this.currentStatus,(r,i)=>{r==="playingTimeline"?d_(this):i==="playingTimeline"&&p_(this)}),Wu(()=>this.editingText,()=>{this.editingText===!1&&this.textLayerOutOfPage===!0&&(this.workspaceExists=!1,setTimeout(()=>{this.workspaceExists=!0},0),this.textLayerOutOfPage=!1)}),Wu(()=>this.usedFontMap,()=>{this.currentFontList=[]})}getLayer(e){const n=this.getFigma();if(n)return n.layerMap[e]?n.layerMap[e]:null;if(this.normalLayerFlatMap[e])return this.normalLayerFlatMap[e];const r=this.props.getPanelList().find(i=>i.id===e);return r||null}getPageScale(){return this.workspaceState.pageScale}get figma(){return this.getFigma()}get isMobile(){return typeof window<"u"&&window.ontouchstart!==void 0}setCursor(e){this.cursor=e}get timelineMax(){let e=0;return this.getNormalLayerList().forEach(n=>{n.timeline&&n.timeline.end>e&&(e=n.timeline.end)}),e}get isUpdatingLayer(){return this.currentStatus==="movingLayers"||this.currentStatus==="rotatingLayers"||this.currentStatus==="resizingLayersByCorner"||this.currentStatus==="resizingLayersByBorder"}get isCroppingBackground(){const e=this.props.getBackgroundLayer(),{layerUnderCropping:n}=this;return!!(e&&n&&n.id===e.id)}get usedFontMap(){const e={};function n(i){i.forEach(u=>{u.nodeType==="TEXT"&&u.fontName.fullname&&(e[u.fontName.fullname]=!0),n(u.children||[])})}const r=this.getNormalLayerList();return n(r),e}get currentCursor(){var e,n,r,i,u;if(this.currentStatus==="draggingGridLine"||(e=this.props.grid)!=null&&e.getCurrentActiveLine()){if(((r=(n=this.props.grid)==null?void 0:n.getCurrentActiveLine())==null?void 0:r.type)==="horizontal")return"ns-resize";if(((u=(i=this.props.grid)==null?void 0:i.getCurrentActiveLine())==null?void 0:u.type)==="vertical")return"ew-resize"}return this.currentStatus==="rotatingLayers"?"alias":this.currentStatus==="movingLayers"?"move":this.cursor?this.cursor:"auto"}get segmentCandidate(){var e,n;return((n=(e=this.editingVector)==null?void 0:e.currentOperation)==null?void 0:n.type)==="SegmentCandidate"?this.editingVector.currentOperation:null}get editingGroupLayer(){return!!this.activeGroupLayerId}get selectionInfo(){return this.props.getSelectionInfo()}get activeGroupLayerId(){return this.selectionInfo.activeGroupLayerId}get activeLayerInGroupId(){return this.selectionInfo.activeLayerInGroupId}get selectedLeafLayerId(){return this.selectionInfo.selectedLeafLayerId}get activeGroupLayer(){const e=this.rootNormalLayerMap[this.activeGroupLayerId];return e&&e.nodeType==="GROUP"?e:null}get pointerRayLengthInWindow(){return this.pointerRayLengthInPage*this.getPageScale()}get scalePercentDisplayed(){const e=this.imageLayerUnderEditing;if(e&&e.image){if(e.image.imageScaleMode==="FILL"){const i=P0({frame:e,image:e.image}),u=e.image.width/e.image.naturalWidth/i*100;return Math.round(u)}const n=Z2(e),r=e.image.width/n*100;return Math.round(r)}return 100}get bunchRectangle(){return this.selectionInfo.bunchRectangle}get selectionStatus(){if(this.selectedNormalLayerList.length>1)return"multipleLayers";if(this.selectedPanel)return"singlePanel";if(this.selectedSingleLayer){const e=this.selectedSingleLayer;if(e.nodeType==="GROUP")return"singleGroupLayer";if(e.nodeType==="IMAGE")return"singleImageLayer";if(e.nodeType==="TEXT")return"singleTextLayer";if(e.nodeType==="FRAME")return"singleFrameLayer";if(e.nodeType==="SECTION")return"singleSectionLayer"}return""}get leafNormalLayerList(){const e=[];function n(r){r.forEach(i=>{i.nodeType!=="GROUP"&&e.push(i),n(i.children)})}return n(this.getNormalLayerList()),e}get selectionRectangle(){const e={left:0,top:0,width:0,height:0};return this.selectionRectStartPoint&&(e.left=Math.min(this.selectionRectStartPoint.x,this.selectionRectEndPoint.x),e.top=Math.min(this.selectionRectStartPoint.y,this.selectionRectEndPoint.y),e.width=Math.abs(this.selectionRectEndPoint.x-this.selectionRectStartPoint.x),e.height=Math.abs(this.selectionRectEndPoint.y-this.selectionRectStartPoint.y)),e}get pointerCurrentPositionInPage(){return this.getPointInPage({pageX:this.pointerX,pageY:this.pointerY})}get bunchRectangleCenter(){return{x:this.bunchRectangle.left+this.bunchRectangle.width/2,y:this.bunchRectangle.top+this.bunchRectangle.height/2}}get rootNormalLayerMap(){return ze.keyBy(this.getNormalLayerList(),"id")}get normalLayerFlatMap(){var n;if(this.getFigma())return((n=this.getFigma())==null?void 0:n.layerMap)||{};const e={};return this.getNormalLayerList().forEach(r=>{this.processLayer(e,r)}),e}processLayer(e,n){e[n.id]=n,n.children.forEach(r=>{this.processLayer(e,r)})}get selectedLayerList(){return this.getSelectedLayerIdList().map(n=>this.getLayer(n)).filter(n=>n)}get selectedNormalLayerList(){const e=[];return e.push(...this.selectedLayerList),e}get selectedPanel(){const e=ze.keyBy(this.props.getPanelList(),"id"),n=this.getSelectedLayerIdList().filter(r=>e[r]);return n[0]?e[n[0]]:null}get selectedSingleLayer(){return this.selectedLeafLayerId&&this.normalLayerFlatMap[this.selectedLeafLayerId]?this.normalLayerFlatMap[this.selectedLeafLayerId]:this.selectedNormalLayerList.length===1&&this.selectedNormalLayerList[0]?this.selectedNormalLayerList[0]:null}get selectedSingleImageLayer(){return this.selectedSingleLayer&&this.selectedSingleLayer.nodeType==="IMAGE"?this.selectedSingleLayer:null}get textLayerUnderEditing(){return this.selectedSingleLayer&&this.selectedSingleLayer.nodeType==="TEXT"&&this.editingText?this.selectedSingleLayer:null}get textLayerMap(){const e={};return Object.keys(this.normalLayerFlatMap).forEach(n=>{const r=this.normalLayerFlatMap[n];r&&r.nodeType==="TEXT"&&(e[n]=r)}),e}get imageLayerUnderEditing(){var e;if(this.layerUnderCropping)return this.layerUnderCropping;if(((e=this.selectedSingleLayer)==null?void 0:e.nodeType)==="ROUNDED_RECTANGLE")return this.selectedSingleLayer;if(this.selectedPanel)return this.selectedPanel;if(this.selectedSingleImageLayer)return this.selectedSingleImageLayer;if(this.selectedSingleLayer&&this.activeLayerInGroupId){const n=this.normalLayerFlatMap[this.activeLayerInGroupId];return n.nodeType==="IMAGE"?n:null}return null}setCurrentToolsContainer(e){this.currentToolsContainer=e}getPointInContainer(e){const n=ni(this),r=J0(this);if(n&&r){const i=pm(this,e),{absoluteTransform:u}=zi(n.fileData,{type:"layer",layerId:r.id});return Eo(u,i)}return this.getPointInPage(e)}getPointInPage(e){const n=this.currentToolsContainer;if(n){const r=n.getBoundingClientRect();return{x:(e.pageX-r.left)/this.getPageScale(),y:(e.pageY-r.top)/this.getPageScale()}}return console.warn("Failed to find tools container!"),{x:0,y:0}}setOptions(e){Object.assign(this.options,e)}generateGUID(){const e={sessionID:this.sessionID,localID:this.localID};return this.localID+=1,e}}Ie([We],ke.prototype,"getNormalLayerList",2);Ie([We],ke.prototype,"getFigma",2);Ie([mt],ke.prototype,"figma",1);Ie([We],ke.prototype,"props",2);Ie([mt],ke.prototype,"isMobile",1);Ie([We],ke.prototype,"cursor",2);Ie([We],ke.prototype,"currentFontList",2);Ie([We],ke.prototype,"currentTool",2);Ie([We],ke.prototype,"currentStatus",2);Ie([We],ke.prototype,"currentTime",2);Ie([mt],ke.prototype,"timelineMax",1);Ie([We],ke.prototype,"workspaceState",2);Ie([We],ke.prototype,"workspaceExists",2);Ie([mt],ke.prototype,"isUpdatingLayer",1);Ie([mt],ke.prototype,"isCroppingBackground",1);Ie([We],ke.prototype,"layersShimmering",2);Ie([mt],ke.prototype,"usedFontMap",1);Ie([mt],ke.prototype,"currentCursor",1);Ie([We],ke.prototype,"controlKeyUnderPress",2);Ie([We],ke.prototype,"layerWithMenuId",2);Ie([We],ke.prototype,"layerUnderDraggingId",2);Ie([We],ke.prototype,"layerUnderCropping",2);Ie([We],ke.prototype,"layersCanBeScaled",2);Ie([We],ke.prototype,"layerListInClipboard",2);Ie([We],ke.prototype,"editingText",2);Ie([We],ke.prototype,"editingVector",2);Ie([mt],ke.prototype,"segmentCandidate",1);Ie([mt],ke.prototype,"editingGroupLayer",1);Ie([mt],ke.prototype,"selectionInfo",1);Ie([mt],ke.prototype,"activeGroupLayerId",1);Ie([mt],ke.prototype,"activeLayerInGroupId",1);Ie([mt],ke.prototype,"selectedLeafLayerId",1);Ie([mt],ke.prototype,"activeGroupLayer",1);Ie([We],ke.prototype,"pointerDownX",2);Ie([We],ke.prototype,"pointerDownY",2);Ie([We],ke.prototype,"pointerDownOnRightSide",2);Ie([We],ke.prototype,"pointerMoved",2);Ie([We],ke.prototype,"pointerX",2);Ie([We],ke.prototype,"pointerY",2);Ie([We],ke.prototype,"pointerCurrentAngle",2);Ie([We],ke.prototype,"pointerAppliedAngle",2);Ie([We],ke.prototype,"bunchRectangleRotationFixed",2);Ie([We],ke.prototype,"pointerRayLengthInPage",2);Ie([We],ke.prototype,"appliedPointX",2);Ie([We],ke.prototype,"appliedPointY",2);Ie([We],ke.prototype,"bunchRectangleXFixed",2);Ie([We],ke.prototype,"bunchRectangleYFixed",2);Ie([We],ke.prototype,"interceptionInfo",2);Ie([mt],ke.prototype,"pointerRayLengthInWindow",1);Ie([We],ke.prototype,"pointerDownScalePercent",2);Ie([We],ke.prototype,"resizeTransformOrigin",2);Ie([We],ke.prototype,"resizeOriginType",2);Ie([We],ke.prototype,"resizeAndKeepRatio",2);Ie([mt],ke.prototype,"scalePercentDisplayed",1);Ie([We],ke.prototype,"menuShow",2);Ie([We],ke.prototype,"menuX",2);Ie([We],ke.prototype,"menuY",2);Ie([mt],ke.prototype,"bunchRectangle",1);Ie([We],ke.prototype,"bunchRectangleInMagneticField",2);Ie([We],ke.prototype,"selectionRectStartPoint",2);Ie([We],ke.prototype,"selectionRectEndPoint",2);Ie([We],ke.prototype,"selectionRectExists",2);Ie([mt],ke.prototype,"selectionStatus",1);Ie([We],ke.prototype,"layerResolvedFrameMap",2);Ie([We],ke.prototype,"layerImageHasTransition",2);Ie([We],ke.prototype,"overlappedLayerIdMap",2);Ie([We],ke.prototype,"helperLineList",2);Ie([We],ke.prototype,"helperRectList",2);Ie([mt],ke.prototype,"leafNormalLayerList",1);Ie([mt],ke.prototype,"selectionRectangle",1);Ie([mt],ke.prototype,"pointerCurrentPositionInPage",1);Ie([mt],ke.prototype,"bunchRectangleCenter",1);Ie([mt],ke.prototype,"rootNormalLayerMap",1);Ie([mt],ke.prototype,"normalLayerFlatMap",1);Ie([mt],ke.prototype,"selectedLayerList",1);Ie([mt],ke.prototype,"selectedNormalLayerList",1);Ie([mt],ke.prototype,"selectedPanel",1);Ie([mt],ke.prototype,"selectedSingleLayer",1);Ie([mt],ke.prototype,"selectedSingleImageLayer",1);Ie([mt],ke.prototype,"textLayerUnderEditing",1);Ie([mt],ke.prototype,"textLayerMap",1);Ie([We],ke.prototype,"textLayerOutOfPage",2);Ie([mt],ke.prototype,"imageLayerUnderEditing",1);Ie([We],ke.prototype,"filterState",2);Ie([We],ke.prototype,"state",2);Ie([We],ke.prototype,"options",2);Ie([We],ke.prototype,"renderCount",2);Ie([We],ke.prototype,"focusedOverlay",2);function A_({Raptor:t,image:e}){const r=t.RuntimeEffect.Make(`uniform shader image;
    half4 main(float2 coord) {
      // coord.x += sin(coord.y / 3) * 4;  // Displace each row by up to 4 pixels
      return image.eval(coord).bgra;
    }`);r==null||r.deleteLater();const i=e.makeShaderOptions(t.TileMode.Decal,t.TileMode.Decal,t.FilterMode.Linear,t.MipmapMode.None);i.deleteLater();const u=r==null?void 0:r.makeShaderWithChildren([],[i]);return u==null||u.deleteLater(),u}class Ff{constructor({path:e,commands:n,type:r,styleID:i}){this.styleID=0,this.path=null,this.commands=[],this.scheduledForDelete=!1,this.path=e,this.commands=n,this.type=r,this.styleID=i}getPath(){return this.path}getVisualPath({Raptor:e,scale:n}){if(this.path){const r=this.path.copy();return r.deleteLater(),r.transform(e.Matrix.scaled(n,n)),r}return null}getCommands(){return this.commands}deleteLater(){var e;this.scheduledForDelete===!1&&(this.scheduledForDelete=!0,(e=this.path)==null||e.deleteLater())}}function C_({rayOrigin:t,rayDirection:e,rect:n}){const r=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],i=[[r[0],r[1]],[r[1],r[2]],[r[2],r[3]],[r[3],r[0]]],u=[];i.forEach(d=>{const p=__({rayOrigin:t,rayDirection:e,segmentStart:d[0],segmentEnd:d[1]});p&&u.push(p)});const c=[],l=new Set;return u.forEach(d=>{const p=`${d.x},${d.y}`;l.has(p)||(l.add(p),c.push(d))}),c.sort((d,p)=>{const w=Math.sqrt((d.x-t.x)**2+(d.y-t.y)**2),v=Math.sqrt((p.x-t.x)**2+(p.y-t.y)**2);return w-v}),c}function __({rayOrigin:t,rayDirection:e,segmentStart:n,segmentEnd:r}){const i=t.x,u=t.y,c=e.x,l=e.y,d=n.x,p=n.y,w=r.x-n.x,v=r.y-n.y,E=-w*l+c*v;if(Math.abs(E)<1e-10)return null;const C=(-l*(i-d)+c*(u-p))/E,L=(w*(u-p)-v*(i-d))/E;return C>=0&&C<=1&&L>=0?{x:i+L*c,y:u+L*l}:null}function T_({Raptor:t,strokeJoin:e}){return e==="BEVEL"?t.StrokeJoin.Bevel:e==="MITER"?t.StrokeJoin.Miter:t.StrokeJoin.Round}function L_({strokeAlign:t,strokeWeight:e,Raptor:n}){const r={strokeWidth:e,blendMode:null};return t==="CENTER"||(t==="INSIDE"?(r.strokeWidth=e*2,r.blendMode=n.BlendMode.SrcATop):t==="OUTSIDE"&&(r.strokeWidth=e*2,r.blendMode=n.BlendMode.DstATop)),r}function qd({Raptor:t,commands:e}){const n=e.map(i=>i==="M"?t.MOVE_VERB:i==="C"?t.CUBIC_VERB:i==="L"?t.LINE_VERB:i==="Z"?t.CLOSE_VERB:i);return t.Path.MakeFromCmds(n)}function P_({width:t,height:e,cornerRadius:n,Raptor:r}){const i=Ls({width:t,height:e,cornerRadius:n});return qd({Raptor:r,commands:i})}function Ls({width:t,height:e,cornerRadius:n,frame:r}){{let i=function(w){p.push(...w)};const u=(r==null?void 0:r.rectangleTopLeftCornerRadius)||n||0,c=(r==null?void 0:r.rectangleTopRightCornerRadius)||n||0,l=(r==null?void 0:r.rectangleBottomRightCornerRadius)||n||0,d=(r==null?void 0:r.rectangleBottomLeftCornerRadius)||n||0,p=[];if(u>0){const w=.44777199999999995*u;i(["M",0,u]),i(["C",0,w,w,0,u,0])}else i(["M",0,0]);if(c>0){const w=.44777199999999995*c;i(["L",t-c,0]),i(["C",t-w,0,t,w,t,c])}else i(["L",t,0]);if(l>0){const w=.44777199999999995*l;i(["L",t,e-l]),i(["C",t,e-w,t-w,e,t-l,e])}else i(["L",t,e]);if(d>0){const w=.44777199999999995*d;i(["L",d,e]),i(["C",w,e,0,e-w,0,e-d])}else i(["L",0,e]);return i(["Z"]),p}}function Um({Raptor:t,layer:e,scale:n}){var w,v,E,C,L,k,N,W,Q,H;const{width:r,height:i,cornerRadius:u}=e;let c=Ls({width:r,height:i,cornerRadius:u,frame:e});if(((w=e.smartShape)==null?void 0:w.type)==="Line")c=["M",0,0,"L",r,0];else if(((v=e.smartShape)==null?void 0:v.type)==="Triangle")c=["M",0,0,"L",r,i/2,"L",0,i,"Z"];else if(((E=e.smartShape)==null?void 0:E.type)==="Parallelogram")c=["M",i/3,0,"L",r,0,"L",r-i/3,i,"L",0,i,"Z"];else if(((C=e.smartShape)==null?void 0:C.type)==="Pill")c=Ls({width:r,height:i,cornerRadius:i/2,frame:e});else if(((L=e.smartShape)==null?void 0:L.type)==="Ribbon")c=["M",0,0,"L",r,0,"L",r-i/4,i/2,"L",r,i,"L",0,i,"L",i/4,i/2,"Z"];else if(((k=e.smartShape)==null?void 0:k.type)==="SimplePath"){c=[];const{vertexList:ie}=e.smartShape;ie.forEach((le,ne)=>{var V,re,ue,ee;const de=ne-1>=0?ie[ne-1]:ie[ie.length-1],we=le,R=we.x/100*e.width,X=we.y/100*e.height;if(ne===0)c.push("M",R,X);else if(de.startControl||we.endControl){const Ee=(de.x+(((V=de.startControl)==null?void 0:V.dx)||0))/100*e.width,j=(de.y+(((re=de.startControl)==null?void 0:re.dy)||0))/100*e.height,te=(we.x+(((ue=we.endControl)==null?void 0:ue.dx)||0))/100*e.width,me=(we.y+(((ee=we.endControl)==null?void 0:ee.dy)||0))/100*e.height;c.push("C",Ee,j,te,me,R,X)}else c.push("L",R,X)}),c.push("Z")}let l=null;if(((N=e.smartShape)==null?void 0:N.type)==="SVGPath")e.smartShape.pathString&&(l=t.Path.MakeFromSVGString(e.smartShape.pathString),l==null||l.deleteLater()),l==null||l.transform(t.Matrix.scaled(e.width/e.smartShape.width,e.height/e.smartShape.height));else if(((W=e.smartShape)==null?void 0:W.type)==="Ellipse")l=new t.Path,l.deleteLater(),l.addOval(t.XYWHRect(0,0,r,i));else if(((Q=e.smartShape)==null?void 0:Q.type)==="Check"){l=new t.Path,l.deleteLater();let ie=0;const le=80,ne=Math.ceil(r/40),de=Math.ceil(i/40);for(let R=0;R<ne;R+=1)for(let X=0;X<de;X+=1)R%2===X%2&&ie<le&&(l.addRect(t.XYWHRect(R*40,X*40,40,40)),ie+=1);const we=new t.Path;we.deleteLater(),we.addRect(t.XYWHRect(0,0,r,i)),l.op(we,t.ClipOp.Intersect)}else if(((H=e.smartShape)==null?void 0:H.type)==="RadiantShape"){l=new t.Path,l.deleteLater();const ie=Math.max(r,i)*10,le=[];let ne=0;for(;ne<360;)le.push([ne,ne+10]),ne+=20;le.forEach(we=>{if(l){l.moveTo(r/2,i/2);const R={x:r/2,y:i/2};we.forEach((X,V)=>{if(l){const re=j2(X),ue={x:Math.cos(re),y:Math.sin(re)},ee=C_({rayOrigin:R,rayDirection:ue,rect:{x:R.x-ie,y:R.y-ie,width:ie*2,height:ie*2}});l.lineTo(ee[0].x,ee[0].y)}}),l.close()}});const de=new t.Path;de.deleteLater(),de.addRect(t.XYWHRect(0,0,r,i)),l.op(de,t.ClipOp.Intersect)}else l=qd({Raptor:t,commands:c}),l==null||l.deleteLater();const d=L_({strokeAlign:e.strokeAlign,strokeWeight:e.strokeWeight,Raptor:t}),p=l==null?void 0:l.copy().stroke({width:d.strokeWidth,join:T_({strokeJoin:e.strokeJoin,Raptor:t})});return p==null||p.deleteLater(),{fillScaledPath:(l==null?void 0:l.transform(t.Matrix.scaled(n,n)))||null,strokeScaledPath:(p==null?void 0:p.transform(t.Matrix.scaled(n,n)))||null,strokeInfo:d}}function Wm({Raptor:t,commands:e}){const n=qd({Raptor:t,commands:e});return new Ff({path:n,commands:e,type:"CLOSED",styleID:0})}function M_({Raptor:t,localStore:e,layer:n,instanceChain:r}){const i=en({localStore:e,layer:n,instanceChain:r});let u=0,{width:c,height:l,cornerRadius:d}=i;i.strokeAlign==="INSIDE"&&(c-=i.strokeWeight,l-=i.strokeWeight,u=i.strokeWeight/2,d>0&&(d-=i.strokeWeight/2)),i.strokeAlign==="OUTSIDE"&&(c+=i.strokeWeight,l+=i.strokeWeight,u-=i.strokeWeight/2,d>0&&(d+=i.strokeWeight/2));let p=Ls({width:c,height:l,cornerRadius:d});p=p.map(v=>typeof v=="number"?v+u:v);const w=Wm({Raptor:t,commands:p});return w==null||w.deleteLater(),[w]}function I_({Raptor:t,localStore:e,layer:n,instanceChain:r}){const i=en({localStore:e,layer:n,instanceChain:r});let u=[];const{width:c,height:l}=i;if(n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="ROUNDED_RECTANGLE"){const{cornerRadius:p}=i;p>0&&(u=Ls({width:c,height:l,cornerRadius:p}))}return u.length===0&&(u=Ls({width:c,height:l,cornerRadius:0})),[Wm({Raptor:t,commands:u})]}function k_({vectorData:t,Raptor:e}){const{vertices:n,segments:r,regions:i}=t.vectorNetwork,u=[];function c(l,d){let p=-1;l.forEach((w,v)=>{const E=n[w.start.vertex],C=n[w.end.vertex];w.start.vertex!==p&&d.moveTo(E.x,E.y),w.start.dx===0&&w.start.dy===0&&w.end.dx===0&&w.end.dy===0?d.lineTo(C.x,C.y):d.cubicTo(w.start.dx+E.x,w.start.dy+E.y,w.end.dx+C.x,w.end.dy+C.y,C.x,C.y),p=w.end.vertex})}if(i.length>0&&i.forEach(l=>{const d=new e.Path;u.push({type:"region",path:d}),l.loops.forEach(p=>{l.windingRule==="EVENODD"&&d.setFillType(e.FillType.EvenOdd),p.segments.forEach(w=>{}),c(p.segments.map(w=>r[w]),d),d.close()}),d.close()}),u.length===0){const l=new e.Path;u.push({type:"line",path:l}),c(r,l)}return u}function Nf({localStore:t,fileData:e,layer:n,instanceChain:r,Raptor:i}){const u=en({localStore:t,layer:n,instanceChain:r}),c={data:{nodeType:u.nodeType,left:u.left,top:u.top,rotate:u.rotate,width:u.width,height:u.height,scaleX:1,scaleY:1,strokeAlign:u.strokeAlign,strokeWeight:u.strokeWeight,dashPattern:[...u.dashPattern]},fillGeometryList:[],strokeGeometryList:[],totalGeometry:null,children:[]};if(n.nodeType==="GROUP"||n.nodeType==="TEXT")return c;if(n.nodeType==="vector"){const p=t.getFigma();if(p){const w=aE(p.context.fileData,n);if(!w)throw new Error;const v=k_({vectorData:n.vectorData,Raptor:i});w.pathBoundsList=v.map(C=>C.path.computeTightBounds());const{vectorData:E}=u;E&&(c.data.scaleX=u.width/E.normalizedSize.x,c.data.scaleY=u.height/E.normalizedSize.y),v.forEach(C=>{if(C.type==="region"){const L=new Ff({path:C.path,commands:[],type:"CLOSED",styleID:0});L.deleteLater(),c.fillGeometryList.push(L),c.strokeGeometryList.push(L)}else if(C.type==="line"){const L=new Ff({path:C.path,commands:[],type:"LINE",styleID:0});L.deleteLater(),c.strokeGeometryList.push(L)}})}return c}const l=I_({Raptor:i,localStore:t,layer:n,instanceChain:r});l.forEach(p=>{p.deleteLater()});const d=M_({Raptor:i,localStore:t,layer:n,instanceChain:r});return u.frameMaskDisabled&&n.children&&n.children.forEach(p=>{const w=Un(r,p),v=Nf({localStore:t,layer:p,instanceChain:w,Raptor:i,fileData:e});c.children.push(v)}),c.fillGeometryList=l,c.strokeGeometryList=d,c}function mg({info:t,styleID:e}){var r;const n=[];if(e===0)n.push(...t.fillPaints||[]);else if(t.nodeType==="vector"){const i=(r=t.vectorData)==null?void 0:r.styleOverrideTable.find(u=>u.styleID===e);i&&n.push(...i.fillPaints)}return{fillPaints:n}}function R_({info:t,styleID:e}){const n=[];return e===0&&n.push(...t.strokePaints||[]),{strokePaints:n}}function yg({Raptor:t,paint:e,path:n}){const r=new t.Paint;if(r.deleteLater(),r.setAntiAlias(!0),e.type==="SOLID"&&(r.setAlphaf(e.opacity),r.setColor(Zt(e.color).toFigmaArray())),(e.type==="GRADIENT_LINEAR"||e.type==="GRADIENT_RADIAL")&&(r.setStyle(t.PaintStyle.Fill),r.setAlphaf(e.opacity),n)){const i=n==null?void 0:n.computeTightBounds(),u=om({paint:e,Raptor:t,leftTop:[i[0],i[1]],bottomRight:[i[2],i[3]]});r.setShader(u),r.setAntiAlias(!0)}return r}function O_({normalizedWidth:t,normalizedHeight:e,normalizedSpan:n,color:r,scale:i,Raptor:u,canvas:c}){const l=new u.Paint;l.deleteLater(),l.setColor(Zt(r).toFigmaArray()),l.setAlphaf(.3),l.setStyle(u.PaintStyle.Stroke),l.setStrokeWidth(i),l.setAntiAlias(!0),c.save();let d=0,p=0;for(;d<=t;)c.drawLine(d*i,0,d*i,e*i,l),d+=n;for(;p<=e;)c.drawLine(0,p*i,t*i,p*i,l),p+=n;c.restore()}function wo({canvas:t,Raptor:e,fill:n,scale:r,scaledPath:i,paintStyle:u,layerINFO:c,blendMode:l}){if(!n.visible)return;if(n.type==="GRID"){const p=i.getBounds(),w=p[2]-p[0],v=p[3]-p[1];t.save(),t.clipPath(i,e.ClipOp.Intersect,!0),O_({normalizedWidth:w/r,normalizedHeight:v/r,normalizedSpan:50,scale:r,Raptor:e,canvas:t,color:"#ffffff"}),t.restore();return}let d=null;n.type==="SOLID"&&(d=yg({Raptor:e,paint:n,path:null})),(n.type==="GRADIENT_LINEAR"||n.type==="GRADIENT_RADIAL")&&(d=yg({Raptor:e,paint:n,path:i})),d&&(l&&d.setBlendMode(l),t.drawPath(i,d))}function vg({Raptor:t,fileData:e,canvas:n,layer:r,instanceChain:i,options:u,geometryInfo:c}){const l=en({localStore:e.localStore,layer:r,instanceChain:i});n.save(),r.nodeType==="vector"?c.fillGeometryList.forEach(d=>{const p=d.getPath();if(!p)return;const w=p.copy().transform(t.Matrix.scaled(r.width/r.vectorData.normalizedSize.x*e.scale,r.height/r.vectorData.normalizedSize.y*e.scale));w==null||w.deleteLater();const{fillPaints:v}=mg({info:l,styleID:d.styleID});v==null||v.forEach(E=>{if(E.type!=="SOLID"||E.visible===!1)return;n.saveLayer();const C=new t.Paint;C.deleteLater(),d.type==="CLOSED"&&(C.setStyle(t.PaintStyle.Fill),C.setColor([E.color.r,E.color.g,E.color.b,E.color.a]),C.setAlphaf(E.opacity),C.setAntiAlias(!0),n.drawPath(w,C)),n.restore()})}):c.fillGeometryList.forEach(d=>{const p=d.getPath();if(!p)return;const w=p.copy().transform(t.Matrix.scaled(e.scale,e.scale));w.deleteLater(),w&&(r.nodeType==="FRAME"||r.nodeType==="SYMBOL"||r.nodeType==="INSTANCE")&&(l.frameMaskDisabled||n.clipPath(w,t.ClipOp.Intersect,!0));const{fillPaints:v}=mg({info:l,styleID:d.styleID});v.forEach(E=>{if(E.type==="SOLID"&&E.visible)wo({canvas:n,Raptor:t,fill:E,scaledPath:w,scale:e.scale,layerINFO:l,blendMode:null,paintStyle:null});else if(E.type==="GRADIENT_LINEAR"&&E.visible)wo({Raptor:t,canvas:n,fill:E,scaledPath:w,scale:e.scale,layerINFO:l,blendMode:null,paintStyle:null});else if(E.type==="IMAGE"){u.snapshot&&(u.snapshot.contains.imageUrlMap[E.image.imageSource]=!0);const C=e.assetMap.getAsset(E.image.imageSource);if(C&&C.image){const L=new t.Paint;L.deleteLater(),L.setStyle(t.PaintStyle.Fill),L.setAntiAlias(!0),lc({canvas:n,layer:r,Raptor:t,scale:e.scale,img:C.image,imageInfo:E.image,paint:L})}}})}),n.restore()}function lc({canvas:t,layer:e,Raptor:n,scale:r,img:i,imageInfo:u,paint:c,applyShader:l}){if(t.save(),t.translate(r*(e.width/2),r*(e.height/2)),t.rotate(u.rotate,0,0),t.translate(u.imageX*r,u.imageY*r),c)if(u.opacity<1&&c.setAlphaf(u.opacity),r>0)if(e.nodeType,l){const d=A_({Raptor:n,image:i});if(d){t.saveLayer();const p=u.width/u.naturalWidth*r,w=u.height/u.naturalHeight*r;t.translate(-u.width/2*r,-u.height/2*r),t.scale(p,w);const v=new n.Paint;v.deleteLater(),v.setAntiAlias(!0),v.setShader(d),t.drawRect(n.XYWHRect(0,0,u.naturalWidth,u.naturalHeight),v),t.restore()}}else t.drawImageRectCubic(i,n.XYWHRect(0,0,i.width(),i.height()),n.XYWHRect(-u.width/2*r,-u.height/2*r,u.width*r,u.height*r),0,0,c);else c.setImageFilter(null),t.drawImageRect(i,n.LTRBRect(0,0,i.width(),i.height()),n.LTRBRect(r*(-u.width/2+u.imageX),r*(-u.height/2+u.imageY),r*(u.width/2+u.imageX),r*(u.height/2+u.imageY)),c);t.restore()}function F_({Raptor:t,width:e,height:n,id:r}){let i=new t.Path;if(i.deleteLater(),r==="1"){const d=n/2.5,p=n/14,w=-p,v=e+p;return i.moveTo(w,n/3*2),i.lineTo(v,n/3*2),i.lineTo(v,n/3*2+d),i.lineTo(w,n/3*2+d),i.close(),i}if(r==="2")return i=t.Path.MakeFromSVGString("M36.9999 6.49994C23.4999 6.50006 0.299931 17.0999 3.49993 51.4999C6.69993 85.8999 35.1666 95.1666 48.9999 95.4999C65.3332 95.3333 97.4999 85.5999 95.4999 47.9999C92.9999 0.999939 54.9999 3.49994 48.9999 3.49994C42.9999 3.49994 24 0.500051 15.9999 21.5"),i.deleteLater(),i.transform(t.Matrix.scaled(e/100,n/100)),i.stroke({width:n/8,cap:t.StrokeCap.Round}),i;const u=0,c=-0,l=e+u;return i.moveTo(c,0),i.lineTo(l,0),i.lineTo(l,n),i.lineTo(c,n),i.close(),i}function N_({canvas:t,Raptor:e,fileData:n,layer:r,options:i}){if(t.save(),r.nodeType==="TEXT"){const{highlightRectList:u,strokeList:c,shadowList:l,newParagraph:d,fillList:p}=Nd({Raptor:e,fileData:n,layer:r});r.textAutoResize==="WIDTH_AND_HEIGHT"&&(r.textAlignHorizontal==="CENTER"?t.translate(-kf(r)*n.scale/2,0):r.textAlignHorizontal==="RIGHT"&&t.translate(-kf(r)*n.scale,0)),d&&(u.forEach(v=>{const{rect:E}=v.rect;t.save(),t.translate(E[0],E[1]);const C=E[2]-E[0],L=E[3]-E[1],k=F_({Raptor:e,width:C,height:L,id:v.highlight.id}),N=new e.Paint;N.deleteLater(),N.setAntiAlias(!0),N.setColor(Zt(v.highlight.color).toFigmaArray()),t.drawPath(k,N),t.restore()}),l.forEach(v=>{const E=new e.Paint;E.deleteLater();const C=e.ImageFilter.MakeBlur(n.doScale(v.radius),n.doScale(v.radius),e.TileMode.Decal,null);C.deleteLater(),E.setImageFilter(C),t.saveLayer(E),t.drawParagraph(v.paragraph,n.doScale(v.offset.x),n.doScale(v.offset.y)),t.drawParagraph(v.strokedParagraph,n.doScale(v.offset.x),n.doScale(v.offset.y)),t.restore()}),t.saveLayer(),p.forEach(v=>{v.paragraph&&t.drawParagraph(v.paragraph,0,0)}),c.forEach(v=>{v.paragraph&&t.drawParagraph(v.paragraph,0,0)}),t.restore())}t.restore()}function $_({fileData:t,Raptor:e,geometryInfo:n,canvas:r,layer:i,layerInfo:u}){n.strokeGeometryList.forEach(c=>{const l=c.getPath();if(!l)return;const{strokePaints:d}=R_({info:u,styleID:c.styleID}),p=l.copy().transform(e.Matrix.scaled(i.width/i.vectorData.normalizedSize.x*t.scale,i.height/i.vectorData.normalizedSize.y*t.scale));p==null||p.deleteLater(),d.forEach(w=>{var E;if(w.visible===!1)return;const v=new e.Paint;if(v.deleteLater(),v.setAntiAlias(!0),v.setColor(Zt({type:"FIGMA",...w.color}).toFigmaArray()),v.setAlphaf(w.opacity),v.setStyle(e.PaintStyle.Stroke),n.data.dashPattern[0]>0||n.data.dashPattern[1]>0){const C=e.PathEffect.MakeDash([t.doScale(n.data.dashPattern[0]),t.doScale(n.data.dashPattern[1])]);C.deleteLater(),v.setPathEffect(C)}if(c.type==="CLOSED"){if(i.strokeAlign==="CENTER"){v.setStrokeWidth(t.doScale(i.strokeWeight)),r.drawPath(p,v);return}if(!((E=i.fillPaints)==null?void 0:E[0]))return;r.saveLayer();const L=new e.Paint;L.deleteLater(),L.setColor(e.BLACK),L.setAntiAlias(!0),r.drawPath(p,L);const k=new e.Paint;k.deleteLater(),i.strokeAlign==="INSIDE"?k.setBlendMode(e.BlendMode.SrcIn):i.strokeAlign==="OUTSIDE"&&k.setBlendMode(e.BlendMode.SrcOut),r.saveLayer(k),v.setStrokeWidth(t.doScale(i.strokeWeight*2)),r.drawPath(p,v),r.restore(),r.restore()}else c.type==="LINE"&&(v.setStrokeJoin(If({Raptor:e,value:i.strokeJoin})),i.strokeAlign==="CENTER"&&(v.setStrokeWidth(t.doScale(i.strokeWeight)),r.drawPath(p,v)))})})}function D_({canvas:t,Raptor:e,fileData:n,geometryInfo:r,effect:i}){if(i.visible===!1)return;const u=new e.Paint;u.deleteLater();const c=e.ImageFilter.MakeBlur(n.doScale(i.radius/2),n.doScale(i.radius/2),e.TileMode.Decal,null);c.deleteLater(),u.setImageFilter(c),t.saveLayer(u);const l=new e.Paint;l.deleteLater(),l.setAntiAlias(!0),l.setColor(Zt({type:"FIGMA",...i.color}).toFigmaArray()),Hm({canvas:t,Raptor:e,fileData:n,geometryInfo:r,shadowPaint:l,effect:i}),t.restore()}function Hm({canvas:t,Raptor:e,fileData:n,geometryInfo:r,shadowPaint:i,effect:u}){r.fillGeometryList.forEach(c=>{const l=c.getVisualPath({Raptor:e,scale:n.scale});l&&t.drawPath(l,i)}),r.strokeGeometryList.forEach(c=>{const l=c.getVisualPath({Raptor:e,scale:n.scale});if(l){l.transform(e.Matrix.scaled(r.data.scaleX,r.data.scaleY));const d=new e.Paint;d.deleteLater(),d.setAntiAlias(!0),d.setStyle(e.PaintStyle.Stroke),d.setColor(Zt({type:"FIGMA",...u.color}).toFigmaArray());const{dashPattern:p}=r.data;if(p[0]>0||p[1]>0){const L=e.PathEffect.MakeDash([n.doScale(p[0]),n.doScale(p[1])]);L.deleteLater(),d.setPathEffect(L)}const{strokeWeight:w,strokeAlign:v,nodeType:E}=r.data;let C=w;E==="vector"&&(v==="INSIDE"?C=0:v==="CENTER"?C=w:v==="OUTSIDE"&&(C*=2)),d.setStrokeWidth(n.doScale(C)),t.drawPath(l,d)}}),r.children.forEach(c=>{t.translate(n.doScale(c.data.left),n.doScale(c.data.top)),t.rotate(c.data.rotate,n.doScale(c.data.width/2),n.doScale(c.data.height/2)),Hm({canvas:t,fileData:n,Raptor:e,geometryInfo:c,shadowPaint:i,effect:u})})}function B_({Raptor:t,fileData:e,canvas:n,path:r,effect:i}){n.save();let u=r;const c=new t.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setStyle(t.PaintStyle.Fill),c.setColor(Zt(i.color).toFigmaArray());const l=t.ImageFilter.MakeBlur(e.doScale(i.radius/2),e.doScale(i.radius/2),t.TileMode.Decal,null);if(l.deleteLater(),c.setImageFilter(l),i.spread>0){const d=u.copy().stroke({width:e.doScale(i.spread*2)});d==null||d.deleteLater(),d==null||d.op(u,t.PathOp.Union),d&&(u=d)}n.translate(e.doScale(i.offset.x),e.doScale(i.offset.y)),n.drawPath(u,c),n.restore()}function G_(t,e,n,r,i){const u=Un(i.instanceChain,r);if(r.nodeType!=="FRAME"&&r.nodeType!=="SYMBOL"&&r.nodeType!=="INSTANCE")return;const c=r,l=en({localStore:n.localStore,layer:r,instanceChain:u}),d={frameMaskDisabled:l.frameMaskDisabled,relativeTransform:In(l),fillPaints:r.fillPaints,strokePaints:r.strokePaints,children:Ba(n,r),snapshot:rE(n,r),pointsRect:Gd({fileData:n,Raptor:e,layer:r,instanceChain:u,options:{}}).withShadow};if(t.save(),i.useSnapshot&&d.snapshot){const p=new e.Paint;p.deleteLater(),p.setStyle(e.PaintStyle.Fill),p.setAntiAlias(!0),t.save(),t.drawImageRect(d.snapshot,e.LTRBRect(0,0,d.snapshot.width(),d.snapshot.height()),e.LTRBRect(n.doScale(d.pointsRect[0].x),n.doScale(d.pointsRect[0].y),n.doScale(d.pointsRect[2].x),n.doScale(d.pointsRect[2].y)),p),t.restore()}else{const p=Um({Raptor:e,layer:l,scale:n.scale});zm({Raptor:e,canvas:t,info:l,fileData:n,data:p,layer:c}),jm({Raptor:e,canvas:t,info:l,fileData:n,data:p,layer:c}),d.frameMaskDisabled&&$f({fileData:n,canvas:t,Raptor:e,info:l,layer:c,data:p}),t.save(),d.frameMaskDisabled===!1&&p.fillScaledPath&&t.clipPath(p.fillScaledPath,e.ClipOp.Intersect,!0);const w={bounds:i.bounds.map(v=>Eo(d.relativeTransform,v)),useSnapshot:i.useSnapshot,tile:i.tile,snapshot:i.snapshot,instanceChain:u};fc(t,e,n,d.children,w),t.restore(),l.frameMaskDisabled===!1&&$f({fileData:n,canvas:t,Raptor:e,info:l,layer:c,data:p})}t.restore()}function U_(t,e,n,r,i){var p,w,v,E;const u=Un(i.instanceChain,r),c=Gd({fileData:n,Raptor:e,layer:r,instanceChain:u,options:{}}).withShadow.map(C=>({x:C.x,y:C.y})),l=en({localStore:n.localStore,layer:r,instanceChain:u});if(l.visible===!1||!_d(i.bounds.map(C=>Eo(In(l),C)),c))return;i.tile&&(i.tile.contains.layerIdMap[r.id]=!0),i.snapshot&&(i.snapshot.contains.layerIdMap[r.id]=!0);let d=null;if((p=l.effects)==null||p.forEach(C=>{C.type==="FOREGROUND_BLUR"&&C.visible&&(d=C)}),d){const C=new e.Paint;C.setAntiAlias(!0);const L=e.ImageFilter.MakeBlur(n.doScale(d.radius/2),n.doScale(d.radius/2),e.TileMode.Decal,null);L.deleteLater(),C.setImageFilter(L),t.saveLayer(C)}if(r.nodeType==="FRAME"||r.nodeType==="SYMBOL"||r.nodeType==="INSTANCE")G_(t,e,n,r,i);else if(r.nodeType==="SECTION"){const C=Nf({localStore:n.localStore,fileData:n,layer:r,instanceChain:u,Raptor:e});t.save(),vg({Raptor:e,fileData:n,canvas:t,layer:r,instanceChain:i.instanceChain,options:i,geometryInfo:C});const L={bounds:i.bounds.map(k=>Eo(In(l),k)),useSnapshot:i.useSnapshot,tile:i.tile,snapshot:i.snapshot,instanceChain:u};fc(t,e,n,r.children,L),t.restore()}else if(r.nodeType==="GROUP")t.save(),fc(t,e,n,r.children,i),t.restore();else if(r.nodeType==="IMAGE"){const C=((w=r.image)==null?void 0:w.imageSource)||"";i.snapshot&&(i.snapshot.contains.imageUrlMap[C]=!0);const L=(v=n.assetMap.getAsset(C))==null?void 0:v.image;if(C&&L){const k=new e.Paint;k.deleteLater(),k.setStyle(e.PaintStyle.Fill),k.setAntiAlias(!0),t.save(),W_(t,e,n,r),r.image&&lc({canvas:t,layer:r,Raptor:e,scale:n.scale,img:L,imageInfo:r.image,paint:k}),t.restore()}}else if(r.nodeType==="vector"){const C=Nf({localStore:n.localStore,fileData:n,layer:r,instanceChain:u,Raptor:e});(E=l.effects)==null||E.forEach(L=>{L.type==="DROP_SHADOW"&&D_({canvas:t,Raptor:e,fileData:n,geometryInfo:C,effect:L})}),vg({Raptor:e,fileData:n,canvas:t,layer:r,instanceChain:i.instanceChain,options:i,geometryInfo:C}),$_({Raptor:e,canvas:t,fileData:n,layer:r,geometryInfo:C,layerInfo:l})}else if(r.nodeType==="ROUNDED_RECTANGLE"){t.save();const C=Um({Raptor:e,layer:l,scale:n.scale});zm({layer:r,info:l,data:C,canvas:t,Raptor:e,fileData:n}),jm({layer:r,info:l,data:C,canvas:t,Raptor:e,fileData:n}),$f({layer:r,info:l,data:C,canvas:t,Raptor:e,fileData:n}),t.restore()}else r.nodeType==="TEXT"&&N_({canvas:t,Raptor:e,fileData:n,layer:r,options:i});d&&t.restore()}function zm({Raptor:t,canvas:e,info:n,fileData:r,data:i,layer:u}){var c,l;(c=n.effects)!=null&&c.length&&((l=n.effects)==null||l.forEach(d=>{if(d.type==="DROP_SHADOW"&&d.visible){const p=new t.Path;p.deleteLater(),i.fillScaledPath&&p.op(i.fillScaledPath,t.PathOp.Union),n.strokeAlign!=="INSIDE"&&i.strokeScaledPath&&p.op(i.strokeScaledPath,t.PathOp.Union),B_({Raptor:t,fileData:r,canvas:e,path:p,effect:d})}}))}function jm({Raptor:t,canvas:e,info:n,fileData:r,data:i,layer:u}){var l,d,p,w;e.saveLayer(),(l=n.fillPaints)==null||l.forEach(v=>{i.fillScaledPath&&v.visible&&wo({canvas:e,Raptor:t,scaledPath:i.fillScaledPath,scale:r.scale,fill:v,layerINFO:n,blendMode:null,paintStyle:null})});const c=(p=r.assetMap.getAsset(((d=u.image)==null?void 0:d.imageSource)||""))==null?void 0:p.image;if(u.image&&c&&i.fillScaledPath){e.save();const v=new t.Paint;v.deleteLater(),v.setStyle(t.PaintStyle.Fill),v.setAntiAlias(!0),e.clipPath(i.fillScaledPath,t.ClipOp.Intersect,!0),lc({canvas:e,layer:u,Raptor:t,scale:r.scale,img:c,imageInfo:u.image,paint:v}),e.restore()}if(((w=u.smartShape)==null?void 0:w.type)==="Mask"){const v=u.smartShape.url||"https://cdn.jsdelivr.net/gh/assetvoid/images/brush/1.png",E=r.assetMap.getAsset(v);if(E!=null&&E.image){const C=new t.Paint;C.deleteLater(),C.setAntiAlias(!0),C.setColor(t.BLACK),C.setStyle(t.PaintStyle.Stroke),C.setStrokeWidth(r.doScale(3)),C.setBlendMode(t.BlendMode.Clear),e.drawRect(t.XYWHRect(0,0,r.doScale(u.width),r.doScale(u.height)),C),C.setStyle(t.PaintStyle.Fill),C.setStrokeWidth(0),C.setBlendMode(t.BlendMode.DstIn);const L=Ad();L.naturalWidth=E.image.width(),L.naturalHeight=E.image.height(),L.width=u.width,L.height=u.height,lc({canvas:e,layer:u,Raptor:t,scale:r.scale,img:E.image,imageInfo:L,paint:C})}}e.restore()}function $f({Raptor:t,canvas:e,info:n,fileData:r,data:i,layer:u}){n.strokePaints.length>0&&n.strokePaints.forEach(c=>{e.saveLayer(),n.strokeAlign==="OUTSIDE"?(i.strokeScaledPath&&wo({canvas:e,Raptor:t,scaledPath:i.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null}),i.fillScaledPath&&wo({canvas:e,Raptor:t,scaledPath:i.fillScaledPath,scale:r.scale,layerINFO:n,fill:y0("#000000"),blendMode:t.BlendMode.DstOut,paintStyle:null})):n.strokeAlign==="CENTER"?i.strokeScaledPath&&wo({canvas:e,Raptor:t,scaledPath:i.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null}):n.strokeAlign==="INSIDE"&&i.strokeScaledPath&&i.fillScaledPath&&(i.strokeScaledPath.op(i.fillScaledPath,t.PathOp.Intersect),wo({canvas:e,Raptor:t,scaledPath:i.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null})),e.restore()})}function fc(t,e,n,r,i){r.forEach(u=>{const c=Un(i.instanceChain,u),l=Ac({localStore:n.localStore,layer:u,instanceChain:c});t.save(),u.nodeType!=="GROUP"&&(t.translate(n.doScale(l.left),n.doScale(l.top)),t.rotate(l.rotate,n.doScale(l.width/2),n.doScale(l.height/2))),U_(t,e,n,u,{...i,instanceChain:c}),t.restore()})}function W_(t,e,n,r){t.clipRect(e.LTRBRect(0,0,n.doScale(r.width),n.doScale(r.height)),e.ClipOp.Intersect,!0)}var Vm={exports:{}};const H_={},z_=Object.freeze(Object.defineProperty({__proto__:null,default:H_},Symbol.toStringTag,{value:"Module"})),wg=m2(z_);/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.7.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA1_NO_WINDOW&&(r=!1);var u=!r&&typeof self=="object",c=!i.JS_SHA1_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?i=xs:u&&(i=self);var l=!i.JS_SHA1_NO_COMMON_JS&&!0&&t.exports,d=!i.JS_SHA1_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),w=[-2147483648,8388608,32768,128],v=[24,16,8,0],E=["hex","array","digest","arrayBuffer"],C=[],L=Array.isArray;(i.JS_SHA1_NO_NODE_JS||!L)&&(L=function(R){return Object.prototype.toString.call(R)==="[object Array]"});var k=ArrayBuffer.isView;d&&(i.JS_SHA1_NO_ARRAY_BUFFER_IS_VIEW||!k)&&(k=function(R){return typeof R=="object"&&R.buffer&&R.buffer.constructor===ArrayBuffer});var N=function(R){var X=typeof R;if(X==="string")return[R,!0];if(X!=="object"||R===null)throw new Error(e);if(d&&R.constructor===ArrayBuffer)return[new Uint8Array(R),!1];if(!L(R)&&!k(R))throw new Error(e);return[R,!1]},W=function(R){return function(X){return new ne(!0).update(X)[R]()}},Q=function(){var R=W("hex");c&&(R=H(R)),R.create=function(){return new ne},R.update=function(re){return R.create().update(re)};for(var X=0;X<E.length;++X){var V=E[X];R[V]=W(V)}return R},H=function(R){var X=wg,V=wg.Buffer,re;V.from&&!i.JS_SHA1_NO_BUFFER_FROM?re=V.from:re=function(ee){return new V(ee)};var ue=function(ee){if(typeof ee=="string")return X.createHash("sha1").update(ee,"utf8").digest("hex");if(ee==null)throw new Error(e);return ee.constructor===ArrayBuffer&&(ee=new Uint8Array(ee)),L(ee)||k(ee)||ee.constructor===V?X.createHash("sha1").update(re(ee)).digest("hex"):R(ee)};return ue},ie=function(R){return function(X,V){return new de(X,!0).update(V)[R]()}},le=function(){var R=ie("hex");R.create=function(re){return new de(re)},R.update=function(re,ue){return R.create(re).update(ue)};for(var X=0;X<E.length;++X){var V=E[X];R[V]=ie(V)}return R};function ne(R){R?(C[0]=C[16]=C[1]=C[2]=C[3]=C[4]=C[5]=C[6]=C[7]=C[8]=C[9]=C[10]=C[11]=C[12]=C[13]=C[14]=C[15]=0,this.blocks=C):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}ne.prototype.update=function(R){if(this.finalized)throw new Error(n);var X=N(R);R=X[0];for(var V=X[1],re,ue=0,ee,Ee=R.length||0,j=this.blocks;ue<Ee;){if(this.hashed&&(this.hashed=!1,j[0]=this.block,this.block=j[16]=j[1]=j[2]=j[3]=j[4]=j[5]=j[6]=j[7]=j[8]=j[9]=j[10]=j[11]=j[12]=j[13]=j[14]=j[15]=0),V)for(ee=this.start;ue<Ee&&ee<64;++ue)re=R.charCodeAt(ue),re<128?j[ee>>>2]|=re<<v[ee++&3]:re<2048?(j[ee>>>2]|=(192|re>>>6)<<v[ee++&3],j[ee>>>2]|=(128|re&63)<<v[ee++&3]):re<55296||re>=57344?(j[ee>>>2]|=(224|re>>>12)<<v[ee++&3],j[ee>>>2]|=(128|re>>>6&63)<<v[ee++&3],j[ee>>>2]|=(128|re&63)<<v[ee++&3]):(re=65536+((re&1023)<<10|R.charCodeAt(++ue)&1023),j[ee>>>2]|=(240|re>>>18)<<v[ee++&3],j[ee>>>2]|=(128|re>>>12&63)<<v[ee++&3],j[ee>>>2]|=(128|re>>>6&63)<<v[ee++&3],j[ee>>>2]|=(128|re&63)<<v[ee++&3]);else for(ee=this.start;ue<Ee&&ee<64;++ue)j[ee>>>2]|=R[ue]<<v[ee++&3];this.lastByteIndex=ee,this.bytes+=ee-this.start,ee>=64?(this.block=j[16],this.start=ee-64,this.hash(),this.hashed=!0):this.start=ee}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},ne.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var R=this.blocks,X=this.lastByteIndex;R[16]=this.block,R[X>>>2]|=w[X&3],this.block=R[16],X>=56&&(this.hashed||this.hash(),R[0]=this.block,R[16]=R[1]=R[2]=R[3]=R[4]=R[5]=R[6]=R[7]=R[8]=R[9]=R[10]=R[11]=R[12]=R[13]=R[14]=R[15]=0),R[14]=this.hBytes<<3|this.bytes>>>29,R[15]=this.bytes<<3,this.hash()}},ne.prototype.hash=function(){var R=this.h0,X=this.h1,V=this.h2,re=this.h3,ue=this.h4,ee,Ee,j,te=this.blocks;for(Ee=16;Ee<80;++Ee)j=te[Ee-3]^te[Ee-8]^te[Ee-14]^te[Ee-16],te[Ee]=j<<1|j>>>31;for(Ee=0;Ee<20;Ee+=5)ee=X&V|~X&re,j=R<<5|R>>>27,ue=j+ee+ue+1518500249+te[Ee]<<0,X=X<<30|X>>>2,ee=R&X|~R&V,j=ue<<5|ue>>>27,re=j+ee+re+1518500249+te[Ee+1]<<0,R=R<<30|R>>>2,ee=ue&R|~ue&X,j=re<<5|re>>>27,V=j+ee+V+1518500249+te[Ee+2]<<0,ue=ue<<30|ue>>>2,ee=re&ue|~re&R,j=V<<5|V>>>27,X=j+ee+X+1518500249+te[Ee+3]<<0,re=re<<30|re>>>2,ee=V&re|~V&ue,j=X<<5|X>>>27,R=j+ee+R+1518500249+te[Ee+4]<<0,V=V<<30|V>>>2;for(;Ee<40;Ee+=5)ee=X^V^re,j=R<<5|R>>>27,ue=j+ee+ue+1859775393+te[Ee]<<0,X=X<<30|X>>>2,ee=R^X^V,j=ue<<5|ue>>>27,re=j+ee+re+1859775393+te[Ee+1]<<0,R=R<<30|R>>>2,ee=ue^R^X,j=re<<5|re>>>27,V=j+ee+V+1859775393+te[Ee+2]<<0,ue=ue<<30|ue>>>2,ee=re^ue^R,j=V<<5|V>>>27,X=j+ee+X+1859775393+te[Ee+3]<<0,re=re<<30|re>>>2,ee=V^re^ue,j=X<<5|X>>>27,R=j+ee+R+1859775393+te[Ee+4]<<0,V=V<<30|V>>>2;for(;Ee<60;Ee+=5)ee=X&V|X&re|V&re,j=R<<5|R>>>27,ue=j+ee+ue-1894007588+te[Ee]<<0,X=X<<30|X>>>2,ee=R&X|R&V|X&V,j=ue<<5|ue>>>27,re=j+ee+re-1894007588+te[Ee+1]<<0,R=R<<30|R>>>2,ee=ue&R|ue&X|R&X,j=re<<5|re>>>27,V=j+ee+V-1894007588+te[Ee+2]<<0,ue=ue<<30|ue>>>2,ee=re&ue|re&R|ue&R,j=V<<5|V>>>27,X=j+ee+X-1894007588+te[Ee+3]<<0,re=re<<30|re>>>2,ee=V&re|V&ue|re&ue,j=X<<5|X>>>27,R=j+ee+R-1894007588+te[Ee+4]<<0,V=V<<30|V>>>2;for(;Ee<80;Ee+=5)ee=X^V^re,j=R<<5|R>>>27,ue=j+ee+ue-899497514+te[Ee]<<0,X=X<<30|X>>>2,ee=R^X^V,j=ue<<5|ue>>>27,re=j+ee+re-899497514+te[Ee+1]<<0,R=R<<30|R>>>2,ee=ue^R^X,j=re<<5|re>>>27,V=j+ee+V-899497514+te[Ee+2]<<0,ue=ue<<30|ue>>>2,ee=re^ue^R,j=V<<5|V>>>27,X=j+ee+X-899497514+te[Ee+3]<<0,re=re<<30|re>>>2,ee=V^re^ue,j=X<<5|X>>>27,R=j+ee+R-899497514+te[Ee+4]<<0,V=V<<30|V>>>2;this.h0=this.h0+R<<0,this.h1=this.h1+X<<0,this.h2=this.h2+V<<0,this.h3=this.h3+re<<0,this.h4=this.h4+ue<<0},ne.prototype.hex=function(){this.finalize();var R=this.h0,X=this.h1,V=this.h2,re=this.h3,ue=this.h4;return p[R>>>28&15]+p[R>>>24&15]+p[R>>>20&15]+p[R>>>16&15]+p[R>>>12&15]+p[R>>>8&15]+p[R>>>4&15]+p[R&15]+p[X>>>28&15]+p[X>>>24&15]+p[X>>>20&15]+p[X>>>16&15]+p[X>>>12&15]+p[X>>>8&15]+p[X>>>4&15]+p[X&15]+p[V>>>28&15]+p[V>>>24&15]+p[V>>>20&15]+p[V>>>16&15]+p[V>>>12&15]+p[V>>>8&15]+p[V>>>4&15]+p[V&15]+p[re>>>28&15]+p[re>>>24&15]+p[re>>>20&15]+p[re>>>16&15]+p[re>>>12&15]+p[re>>>8&15]+p[re>>>4&15]+p[re&15]+p[ue>>>28&15]+p[ue>>>24&15]+p[ue>>>20&15]+p[ue>>>16&15]+p[ue>>>12&15]+p[ue>>>8&15]+p[ue>>>4&15]+p[ue&15]},ne.prototype.toString=ne.prototype.hex,ne.prototype.digest=function(){this.finalize();var R=this.h0,X=this.h1,V=this.h2,re=this.h3,ue=this.h4;return[R>>>24&255,R>>>16&255,R>>>8&255,R&255,X>>>24&255,X>>>16&255,X>>>8&255,X&255,V>>>24&255,V>>>16&255,V>>>8&255,V&255,re>>>24&255,re>>>16&255,re>>>8&255,re&255,ue>>>24&255,ue>>>16&255,ue>>>8&255,ue&255]},ne.prototype.array=ne.prototype.digest,ne.prototype.arrayBuffer=function(){this.finalize();var R=new ArrayBuffer(20),X=new DataView(R);return X.setUint32(0,this.h0),X.setUint32(4,this.h1),X.setUint32(8,this.h2),X.setUint32(12,this.h3),X.setUint32(16,this.h4),R};function de(R,X){var V,re=N(R);if(R=re[0],re[1]){var ue=[],ee=R.length,Ee=0,j;for(V=0;V<ee;++V)j=R.charCodeAt(V),j<128?ue[Ee++]=j:j<2048?(ue[Ee++]=192|j>>>6,ue[Ee++]=128|j&63):j<55296||j>=57344?(ue[Ee++]=224|j>>>12,ue[Ee++]=128|j>>>6&63,ue[Ee++]=128|j&63):(j=65536+((j&1023)<<10|R.charCodeAt(++V)&1023),ue[Ee++]=240|j>>>18,ue[Ee++]=128|j>>>12&63,ue[Ee++]=128|j>>>6&63,ue[Ee++]=128|j&63);R=ue}R.length>64&&(R=new ne(!0).update(R).array());var te=[],me=[];for(V=0;V<64;++V){var Me=R[V]||0;te[V]=92^Me,me[V]=54^Me}ne.call(this,X),this.update(me),this.oKeyPad=te,this.inner=!0,this.sharedMemory=X}de.prototype=new ne,de.prototype.finalize=function(){if(ne.prototype.finalize.call(this),this.inner){this.inner=!1;var R=this.array();ne.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(R),ne.prototype.finalize.call(this)}};var we=Q();we.sha1=we,we.sha1.hmac=le(),l?t.exports=we:i.sha1=we})()})(Vm);var j_=Vm.exports;class V_{constructor(e){this.map=new Map,this.Raptor=e}isURL(e){return/^(http:|https:)/.test(e)}getAsset(e){const n=this.map.get(e);return n&&n.status==="done"?n:(this.ensureAsset(e),null)}async ensureAsset(e){let n=this.map.get(e);if(n){if(n.status==="done")return n;if(n.promise)return await n.promise,n}return!n&&this.isURL(e)&&(n={status:"",image:null,arrayBuffer:null,promise:null},this.map.set(e,n)),n&&n.status===""&&n.promise===null&&this.isURL(e)&&(n.promise=fetch(e,{}).then(r=>r.arrayBuffer()).then(r=>{if(n)n.arrayBuffer=r,n.image=this.Raptor.MakeImageFromEncoded(r),n.status="done",n.promise=null;else throw new Error("Asset is null");return r}),await n.promise),n}appendAsset({imageSource:e,buffer:n}){const r=j_.sha1(n),i=e||`${r}.${X_({buffer:n})}`;if(this.map.get(i))return{id:i};const u=this.Raptor.MakeImageFromEncoded(n);return this.map.set(i,{status:"done",image:u,arrayBuffer:n,promise:null}),{id:i}}}function X_({buffer:t}){const e=Uint8Array.from([137,80,78,71,13,10,26,10]),n=Uint8Array.from([255,216]),r=Uint8Array.from([255,217]),i=new Uint8Array(t.slice(0,8));return i.toString()===e.toString()?"png":new Uint8Array(t.slice(0,2)).toString()===n.toString()&&new Uint8Array(t.slice(t.byteLength-2,t.byteLength)).toString()===r.toString()?"jpg":(console.log(`Unknown image format: ${i}`),"png")}const Ho={PURPLE:"#8638E5",BLUE:"#0d99ff"};function Y_({fileData:t,layer:e,Raptor:n,canvas:r}){var i,u;if(t.localStore.editingText&&((i=t.localStore.selectedSingleLayer)==null?void 0:i.nodeType)==="TEXT"&&t.localStore.selectedSingleLayer.id===e.id&&e.textData){const{newParagraph:c}=Nd({Raptor:n,fileData:t,layer:e,persistNewParagraph:!0}),l=c;if(!l)return;(u=t.paragraphManager.activeParagraph)==null||u.delete(),t.paragraphManager.activeParagraph=l;const{start:d,end:p}=t.localStore.selectionInfo.textRange$,w=new n.Paint;if(w.deleteLater(),w.setColor(Zt(Ho.BLUE).toFigmaArray()),w.setAntiAlias(!0),w.setAlphaf(.5),d===p){const v=OA({textData:e.textData,paragraph:l,index:d});let E=0,C=0,L=0;l.getLineMetrics().forEach((N,W)=>{W<v.lineNumber?C+=N.height:W===v.lineNumber&&(L=N.height,v.glyph?E=v.glyph.graphemeLayoutBounds[0]:E=gm({localStore:t.localStore,layer:e,line:N}))}),r.drawRect([E,C,E+2,C+L],w)}else l.getRectsForRange(d,p,n.RectHeightStyle.Tight,n.RectWidthStyle.Tight).forEach(E=>{r.drawRect(E.rect,w)})}}function Xm(t){const e=new t.Raptor.Paint;return e.setAntiAlias(!0),e.setStrokeWidth(1),e.setColor(Zt(Ho.BLUE).toFigmaArray()),e.setStyle(t.Raptor.PaintStyle.Stroke),e}function Jd(t){const e=new t.Raptor.Paint;e.setAntiAlias(!0),e.setStrokeWidth(1),e.setColor(Zt(Ho.BLUE).toFigmaArray());const n=t.Raptor.PathEffect.MakeDash([2,2]);return e.setPathEffect(n),n.delete(),e.setStyle(t.Raptor.PaintStyle.Stroke),e}function Hi(t){return t==="BLUE"?Zt(Ho.BLUE).toFigmaArray():t==="PURPLE"?Zt(Ho.PURPLE).toFigmaArray():Zt(Ho.BLUE).toFigmaArray()}function K_({canvas:t,fileData:e,layer:n}){const r=Da(e,n)?Hi("PURPLE"):Hi("BLUE"),{absoluteTransform:i,rotate:u}=zi(e,{type:"layer",layerId:n.id});t.save(),t.translate(e.doScale(i[0][2]),e.doScale(i[1][2])),t.rotate(u,0,0);const c=Jd(e);c.setColor(r),t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(n.width),e.doScale(n.height)),c),c.delete(),t.restore()}function Q_({fileData:t,canvas:e,layer:n,room:r}){if(n&&r&&vE(t.localStore,n)){const{absoluteTransform:i,rotate:u}=zi(t,{type:"layer",layerId:r.id});e.save(),e.translate(t.doScale(i[0][2]),t.doScale(i[1][2])),e.rotate(u,0,0);const c=Jd(t),l=wE(n),d=xE(n);(l==="MIN"||l==="STRETCH")&&e.drawLine(t.doScale(0),t.doScale(n.top+n.height/2),t.doScale(n.left),t.doScale(n.top+n.height/2),c),(l==="MAX"||l==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width),t.doScale(n.top+n.height/2),t.doScale(r.width),t.doScale(n.top+n.height/2),c),(d==="MIN"||d==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width/2),t.doScale(0),t.doScale(n.left+n.width/2),t.doScale(n.top),c),(d==="MAX"||d==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width/2),t.doScale(n.top+n.height),t.doScale(n.left+n.width/2),t.doScale(r.height),c),c.delete(),e.restore()}}function q_(t,e,n,r,i){Rf({fileData:t,localStore:t.localStore,layer:n,instanceChain:r}).forEach(({childInfo:u})=>{const c=In(u),l=bc(c);e.save(),e.translate(t.doScale(c[0][2]),t.doScale(c[1][2])),e.rotate(l,0,0);const d=Jd(t);d.setColor(i),e.drawRect(t.Raptor.XYWHRect(0,0,t.doScale(u.width),t.doScale(u.height)),d),d.delete(),e.restore()})}function J_({fileData:t,canvas:e,layer:n,path:r}){const{absoluteTransform:i,rotate:u}=zi(t,{type:"layer",layerId:n.id});if(e.save(),e.translate(t.doScale(i[0][2]),t.doScale(i[1][2])),e.rotate(u,0,0),r){const c=new t.Raptor.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setColor(t.Raptor.RED),c.setAlphaf(.2);const l=n.width/n.vectorData.normalizedSize.x*t.scale,d=n.height/n.vectorData.normalizedSize.y*t.scale,p=t.Raptor.Matrix.scaled(l,d),w=r.copy().transform(p);w.deleteLater(),e.drawPath(w,c)}e.restore()}function Z_(t,e,n){var E,C,L;const{absoluteTransform:r,rotate:i}=zi(t,{type:"layer",layerId:n.id});e.save(),e.translate(t.doScale(r[0][2]),t.doScale(r[1][2])),e.rotate(i,0,0);const u=new t.Raptor.Paint;u.deleteLater(),u.setAntiAlias(!0),u.setStyle(t.Raptor.PaintStyle.Stroke),u.setColor(Zt(Ho.BLUE).toFigmaArray()),u.setStrokeWidth(2);const c=new t.Raptor.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setStyle(t.Raptor.PaintStyle.Stroke),c.setColor(Zt("#E1E4E5").toFigmaArray()),c.setStrokeWidth(2);const l=new t.Raptor.Paint;l.deleteLater(),l.setAntiAlias(!0),l.setStyle(t.Raptor.PaintStyle.Fill),l.setColor(Zt("#FFFFFF").toFigmaArray());const d=[];let p=null;((C=(E=t.localStore.editingVector)==null?void 0:E.currentOperation)==null?void 0:C.type)==="SegmentCandidate"&&(p=(L=t.localStore.editingVector)==null?void 0:L.currentOperation);const w=[];n.vectorData.vectorNetwork.vertices.forEach((k,N)=>{const W=va({layer:n,normalizedPoint:k}),Q=Xo(r,W);d.push({type:"VectorVertex",vertexIndex:N,localPoint:W,visualPoint:{x:t.doScale(Q.x),y:t.doScale(Q.y)}})});function v({x:k,y:N,dx:W,dy:Q,segmentId:H,kind:ie}){if(!(W===0&&Q===0)){const ne=va({layer:n,normalizedPoint:{x:k,y:N}}),de=va({layer:n,normalizedPoint:{x:W,y:Q}}),we={x:ne.x+de.x,y:ne.y+de.y};if(e.drawCircle(t.doScale(we.x),t.doScale(we.y),3,c),e.drawLine(t.doScale(ne.x),t.doScale(ne.y),t.doScale(we.x),t.doScale(we.y),c),H>-1){const R=Xo(r,we);t.overlay$$.push({type:"BezierControlPoint",segmentId:H,kind:ie,visualPoint:{x:t.doScale(R.x),y:t.doScale(R.y)},radius:3})}}}if(n.vectorData.vectorNetwork.segments.forEach((k,N)=>{const{start:W,end:Q}=k,H=n.vectorData.vectorNetwork.vertices[W.vertex],ie=n.vectorData.vectorNetwork.vertices[Q.vertex];H&&v({x:H.x,y:H.y,dx:W.dx,dy:W.dy,segmentId:N,kind:"start"}),ie&&v({x:ie.x,y:ie.y,dx:Q.dx,dy:Q.dy,segmentId:N,kind:"end"})}),p){const{startVertex:k,endVertex:N}=p;k.vid&&(k.vid===-1&&w.push({type:"VectorVertex",vertexIndex:-1,localPoint:va({layer:n,normalizedPoint:{x:k.x,y:k.y}}),visualPoint:{x:0,y:0}}),v({x:k.x,y:k.y,dx:k.dx,dy:k.dy,segmentId:-1,kind:"start"})),N.vid===-1&&(w.push({type:"VectorVertex",vertexIndex:-1,localPoint:va({layer:n,normalizedPoint:{x:N.x,y:N.y}}),visualPoint:{x:0,y:0}}),v({x:N.x,y:N.y,dx:N.dx,dy:N.dy,segmentId:-1,kind:"end"}))}if(d.forEach((k,N)=>{const W=t.doScale(k.localPoint.x),Q=t.doScale(k.localPoint.y);e.drawCircle(W,Q,3,u),e.drawCircle(W,Q,3,l),t.overlayFont&&e.drawText(`${k.vertexIndex}`,W,Q,l,t.overlayFont)}),w.forEach((k,N)=>{const W=t.doScale(k.localPoint.x),Q=t.doScale(k.localPoint.y);e.drawCircle(W,Q,3,u),e.drawCircle(W,Q,3,l)}),t.overlay$$.push(...d),p&&t.localStore.currentStatus!=="bendingSegment"){const{startVertex:k,endVertex:N}=p;if(k&&t.localStore.currentTool==="VectorPenTool"&&!(k.x===N.x&&k.y===N.y)){const W={x:k.x+k.dx,y:k.y+k.dy},Q={x:N.x+N.dx,y:N.y+N.dy},H=new t.Raptor.Path;if(H.deleteLater(),H.moveTo(k.x,k.y),H.cubicTo(W.x,W.y,Q.x,Q.y,N.x,N.y),n.width>0&&n.height>0){const ie=t.Raptor.Matrix.scaled(n.width/n.vectorData.normalizedSize.x*t.scale,n.height/n.vectorData.normalizedSize.y*t.scale);H.transform(ie)}e.drawPath(H,u)}}e.restore()}function eT({canvas:t,fileData:e,Raptor:n}){const{hoveredTarget:r}=e,i=(r==null?void 0:r.id)||"",u=e.localStore.getLayer(i);if(u&&r){const{instanceChain:c,absoluteTransform:l,rotate:d}=Id({fileData:e,target:r}),p=Da(e,u)||c.length>0?Hi("PURPLE"):Hi("BLUE");{const w=en({localStore:e.localStore,layer:u,instanceChain:c});t.save(),t.translate(e.doScale(l[0][2]),e.doScale(l[1][2])),t.rotate(d,0,0);const v=new n.Paint;v.setAntiAlias(!0),v.setColor(p),v.setStrokeWidth(2),v.setStyle(n.PaintStyle.Stroke);const E=j0({layer:u,layerInfo:w});t.drawRect(n.XYWHRect(0,0,e.doScale(E.width),e.doScale(E.height)),v),v.delete(),En(u)!=="NONE"&&q_(e,t,u,c,p),t.restore()}}}function tT({canvas:t,fileData:e,layer:n,instanceChain:r}){const i=en({localStore:e.localStore,layer:n,instanceChain:r}),{absoluteTransform:u,rotate:c}=zi(e,{type:"layer",layerId:n.id});t.save(),t.translate(e.doScale(u[0][2]),e.doScale(u[1][2])),t.rotate(c,0,0);const l=Xm(e);l.deleteLater(),l.setStrokeWidth(1.5),Da(e,n)?l.setColor(Hi("PURPLE")):l.setColor(Hi("BLUE"));const d=j0({layer:n,layerInfo:i});t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(d.width),e.doScale(d.height)),l);const p=new e.Raptor.Paint;p.deleteLater(),p.setColor(e.Raptor.WHITE),p.setStyle(e.Raptor.PaintStyle.Fill),p.setAntiAlias(!0),[[0,0],[d.width,0],[0,d.height],[d.width,d.height]].forEach(w=>{t.save(),t.translate(e.doScale(w[0]),e.doScale(w[1])),nT({canvas:t,fillPaint:p,linePaint:l,fileData:e}),t.restore()}),t.restore()}function nT({canvas:t,linePaint:e,fillPaint:n,fileData:r}){t.drawRect(r.Raptor.XYWHRect(-4,-4,8,8),e),t.drawRect(r.Raptor.XYWHRect(-4,-4,8,8),n)}function rT({canvas:t,fileData:e,options:n}){const{localStore:r}=e;e.overlay$$=[],eT({canvas:t,fileData:e,Raptor:e.Raptor});const i=e.localStore.props.getSelectionInfo();if(i.phantom===null){const c=IE(e.localStore).layer;if(c){if(c.nodeType==="TEXT"){const l=c,{absoluteTransform:d,rotate:p}=zi(e,{type:"layer",layerId:l.id});t.save(),t.translate(e.doScale(d[0][2]),e.doScale(d[1][2])),t.rotate(p,0,0),Y_({fileData:e,Raptor:e.Raptor,canvas:t,layer:c}),t.restore()}if(c.nodeType==="vector"){const l=c,{absoluteTransform:d,rotate:p}=zi(e,{type:"layer",layerId:l.id});t.save(),t.translate(e.doScale(d[0][2]),e.doScale(d[1][2])),t.rotate(p,0,0);const w=new e.Raptor.Paint;w.deleteLater(),w.setColor(Hi("BLUE")),w.setStyle(e.Raptor.PaintStyle.Stroke),w.setStrokeWidth(2),w.setAntiAlias(!0),l.vectorData.vectorNetwork.segments.forEach(v=>{const E=l.vectorData.vectorNetwork.vertices[v.start.vertex],C=l.vectorData.vectorNetwork.vertices[v.end.vertex];if(E&&C){const L=new e.Raptor.Path;L.deleteLater(),L.moveTo(E.x,E.y),v.start.dx===0&&v.start.dy===0&&v.end.dx===0&&v.end.dy===0?L.lineTo(C.x,C.y):L.cubicTo(E.x+v.start.dx,E.y+v.start.dy,C.x+v.end.dx,C.y+v.end.dy,C.x,C.y),L.transform(e.Raptor.Matrix.scaled(l.width/l.vectorData.normalizedSize.x*e.scale,l.height/l.vectorData.normalizedSize.y*e.scale)),t.drawPath(L,w)}}),t.restore()}if(c.nodeType==="vector"&&e.localStore.editingVector){const l=c;if(r.vectorEditor&&r.pointerTarget$$&&r.pointerTarget$$.type==="VectorRegion"){const d=r.pointerTarget$$.regionId,p=r.vectorEditor.closedPathList[d];p&&J_({fileData:e,canvas:t,layer:l,path:p})}Z_(e,t,l)}else{const l=$r(e,c.parentId);l&&En(l)!=="NONE"&&K_({canvas:t,fileData:e,layer:l}),n.enableDrawResizer&&tT({fileData:e,canvas:t,layer:c,instanceChain:[]});const d=Ao(e.localStore,c);d&&Q_({fileData:e,canvas:t,layer:c,room:d})}}}if(i.phantom){const{phantom:u}=i,{absoluteTransform:c,instanceChain:l,rotate:d}=Id({fileData:e,target:u}),{id:p}=u,w=$r(e,p);if(w){const v=Ac({localStore:e.localStore,layer:w,instanceChain:l});t.save(),t.translate(e.doScale(c[0][2]),e.doScale(c[1][2])),t.rotate(d,0,0);const E=Xm(e);E.setColor(Da(e,w)?Hi("PURPLE"):Hi("BLUE")),t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(v.width),e.doScale(v.height)),E),E.delete(),t.restore()}}}function iT({libra:t,width:e,height:n}){var r;t.canvasElement.width=e*window.devicePixelRatio,t.canvasElement.height=n*window.devicePixelRatio,(r=t.surface)==null||r.deleteLater(),t.surface=t.Raptor.MakeOnScreenGLSurface(t.gr,t.canvasElement.width,t.canvasElement.height,t.Raptor.ColorSpace.SRGB),t.canvasDirty=!0}function W3({path:t,localStore:e,elem:n,width:r,height:i,fontStore:u}){return b2({locateFile:l=>`${t}${l}`}).then(l=>{var E;const d=l.GetWebGLContext(n,{preserveDrawingBuffer:1}),w={gr:l.MakeWebGLContext(d),Raptor:l,canvasElement:n,surface:null,canvasDirty:!1,fileData:{localStore:e,layerAssetsMap:{},layerMap:{},fontProvider:l.TypefaceFontProvider.Make(),fontStore:u,snapshotMap:{},doScale(C){return C*e.getPageScale()},get scale(){return e.getPageScale()},assetMap:new V_(l),paragraphManager:{activeParagraph:null},Raptor:l,hoveredTarget:null,overlay$$:[],overlayFont:null}};iT({libra:w,width:r,height:i}),e.props.doAction=()=>{w.canvasDirty=!0};function v(C){var L;if(w.canvasDirty){w.canvasDirty=!1;try{const k=[...e.getNormalLayerList()],N=e.getPageScale();aT({libra:w,canvas:C,layerList:k,scale:N,page:e.props.getCurrentPage(),...hm({localStore:e,canvasElement:n})})}catch(k){console.error(k)}}(L=w.surface)==null||L.requestAnimationFrame(v)}return(E=w.surface)==null||E.requestAnimationFrame(v),w})}const qr=typeof window<"u"?document.createElement("canvas"):null;let gf=!1;function oT({libra:t,page:e,layerList:n,isThumbnail:r}){if(gf)throw new Error("Offscreen canvas is busy");return gf=!0,new Promise(i=>{if(!qr)throw new Error("Offscreen canvas does not exist");let u=1;qr.width=e.width,qr.height=e.height,r?(qr.width=400,u=400/e.width,qr.height=e.height*u):(u=Math.min(4e3/e.width,4e3/e.height,2),qr.width=e.width*u,qr.height=e.height*u);const c=t.Raptor.MakeWebGLCanvasSurface(qr);c==null||c.drawOnce(l=>{l.clear(t.Raptor.TRANSPARENT),l.save();const d={...t.fileData,scale:u,doScale:p=>p*u};Ym({fileData:d,Raptor:t.Raptor,canvas:l,page:e,layerList:n,scale:u}),l.restore()}),setTimeout(()=>{qr.toBlob(async l=>{if(l){if(r){const d=(await Ed(async()=>{const{default:C}=await import("./UPNG-B-vF_xeq.js").then(L=>L.U);return{default:C}},__vite__mapDeps([0,1,2]))).default,p=await l.arrayBuffer(),w=await d.decode(p),v=d.toRGBA8(w),E=d.encode(v,qr.width,qr.height,100);l=new Blob([E],{type:"image/png"})}gf=!1,i(l)}},"image/png",1)},1e3)})}async function H3({libra:t,page:e,layerList:n,filename:r}){const i=await oT({libra:t,page:e,layerList:n,isThumbnail:!1});i&&sT({blob:i,filename:r})}function sT({blob:t,filename:e}){const n=window.URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.href=n,r.download=e,r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)}function Ym({Raptor:t,fileData:e,canvas:n,page:r,layerList:i,scale:u}){const c=P_({Raptor:t,width:r.width*u,height:r.height*u,cornerRadius:0});c&&(c==null||c.deleteLater(),r.fillPaints.forEach(l=>{wo({fill:l,Raptor:t,canvas:n,scaledPath:c,scale:u,paintStyle:null,blendMode:null,layerINFO:{}})})),fc(n,t,e,i,{bounds:H2({x:-9e5/e.scale,y:-9e5/e.scale,width:18e5/e.scale,height:18e5/e.scale}),useSnapshot:!1,tile:null,instanceChain:[]})}function aT({left:t,top:e,libra:n,canvas:r,page:i,layerList:u,scale:c}){r.clear(n.Raptor.TRANSPARENT),r.save(),r.scale(window.devicePixelRatio,window.devicePixelRatio),r.translate(t,e),r.save(),r.clipRect(n.Raptor.XYWHRect(0,0,i.width*c,i.height*c),n.Raptor.ClipOp.Intersect,!0),Ym({Raptor:n.Raptor,canvas:r,page:i,layerList:u,scale:c,fileData:n.fileData}),r.restore(),rT({fileData:n.fileData,canvas:r,options:{enableDrawResizer:!1}}),r.restore()}var uT=Object.defineProperty,cT=Object.getOwnPropertyDescriptor,Km=(t,e,n,r)=>{for(var i=r>1?void 0:r?cT(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(i=(r?c(e,n,i):c(i))||i);return r&&i&&uT(e,n,i),i};class Qm{constructor(e){this.containerAbsoluteTransform=null,this.layerToBeCreated={startWorldPoint:null,endWorldPoint:null},Na(this),this.context=e,this.fileData=e.fileData}get currentPage(){return this.fileData.localStore.props.getCurrentPage()}get topLevelLayerList(){return this.currentPage.children}get layerMap(){return this.fileData.layerMap}get layerToBeCreatedRect(){const e=this,n={left:0,top:0,width:0,height:0};return e&&e.layerToBeCreated.startWorldPoint&&e.layerToBeCreated.endWorldPoint&&(n.left=Math.min(e.layerToBeCreated.startWorldPoint.x,e.layerToBeCreated.endWorldPoint.x),n.top=Math.min(e.layerToBeCreated.startWorldPoint.y,e.layerToBeCreated.endWorldPoint.y),n.width=Math.abs(e.layerToBeCreated.startWorldPoint.x-e.layerToBeCreated.endWorldPoint.x),n.height=Math.abs(e.layerToBeCreated.startWorldPoint.y-e.layerToBeCreated.endWorldPoint.y)),n}}Km([We],Qm.prototype,"layerToBeCreated",2);Km([mt],Qm.prototype,"layerToBeCreatedRect",1);const lT={PIXI:{}};typeof window<"u"&&Ed(()=>import("./pixi-legacy-CtyQ6ECi.js"),__vite__mapDeps([3,4,1,5])).then(t=>{lT.PIXI=t});const fT={};typeof window<"u"&&Ed(()=>import("./index-Ctga1AvS.js").then(t=>t.i),__vite__mapDeps([6,1,4,7])).then(t=>{fT.ReactQuill=t.default});var qm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var u="",c=0;c<arguments.length;c++){var l=arguments[c];l&&(u=i(u,r(l)))}return u}function r(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var c="";for(var l in u)e.call(u,l)&&u[l]&&(c=i(c,l));return c}function i(u,c){return c?u?u+" "+c:u+c:u}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(qm);var dT=qm.exports;const Zr=Ko(dT);function or(){return or=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},or.apply(null,arguments)}function Ct(t){"@babel/helpers - typeof";return Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(t)}var hT=Symbol.for("react.element"),pT=Symbol.for("react.transitional.element"),gT=Symbol.for("react.fragment");function mT(t){return t&&Ct(t)==="object"&&(t.$$typeof===hT||t.$$typeof===pT)&&t.type===gT}var Df={},yT=function(e){};function vT(t,e){}function wT(t,e){}function xT(){Df={}}function Jm(t,e,n){!e&&!Df[n]&&(t(!1,n),Df[n]=!0)}function za(t,e){Jm(vT,t,e)}function bT(t,e){Jm(wT,t,e)}za.preMessage=yT;za.resetWarned=xT;za.noteOnce=bT;function ST(t,e){if(Ct(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ct(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zm(t){var e=ST(t,"string");return Ct(e)=="symbol"?e:e+""}function Ve(t,e,n){return(e=Zm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xg(Object(n),!0).forEach(function(r){Ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bg(t){return t instanceof HTMLElement||t instanceof SVGElement}function ET(t){return t&&Ct(t)==="object"&&bg(t.nativeElement)?t.nativeElement:bg(t)?t:null}function AT(t){var e=ET(t);if(e)return e;if(t instanceof Yt.Component){var n;return(n=qp.findDOMNode)===null||n===void 0?void 0:n.call(qp,t)}return null}var ey={exports:{}},Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd=Symbol.for("react.element"),eh=Symbol.for("react.portal"),Fc=Symbol.for("react.fragment"),Nc=Symbol.for("react.strict_mode"),$c=Symbol.for("react.profiler"),Dc=Symbol.for("react.provider"),Bc=Symbol.for("react.context"),CT=Symbol.for("react.server_context"),Gc=Symbol.for("react.forward_ref"),Uc=Symbol.for("react.suspense"),Wc=Symbol.for("react.suspense_list"),Hc=Symbol.for("react.memo"),zc=Symbol.for("react.lazy"),_T=Symbol.for("react.offscreen"),ty;ty=Symbol.for("react.module.reference");function Ur(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Zd:switch(t=t.type,t){case Fc:case $c:case Nc:case Uc:case Wc:return t;default:switch(t=t&&t.$$typeof,t){case CT:case Bc:case Gc:case zc:case Hc:case Dc:return t;default:return e}}case eh:return e}}}Ft.ContextConsumer=Bc;Ft.ContextProvider=Dc;Ft.Element=Zd;Ft.ForwardRef=Gc;Ft.Fragment=Fc;Ft.Lazy=zc;Ft.Memo=Hc;Ft.Portal=eh;Ft.Profiler=$c;Ft.StrictMode=Nc;Ft.Suspense=Uc;Ft.SuspenseList=Wc;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(t){return Ur(t)===Bc};Ft.isContextProvider=function(t){return Ur(t)===Dc};Ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zd};Ft.isForwardRef=function(t){return Ur(t)===Gc};Ft.isFragment=function(t){return Ur(t)===Fc};Ft.isLazy=function(t){return Ur(t)===zc};Ft.isMemo=function(t){return Ur(t)===Hc};Ft.isPortal=function(t){return Ur(t)===eh};Ft.isProfiler=function(t){return Ur(t)===$c};Ft.isStrictMode=function(t){return Ur(t)===Nc};Ft.isSuspense=function(t){return Ur(t)===Uc};Ft.isSuspenseList=function(t){return Ur(t)===Wc};Ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Fc||t===$c||t===Nc||t===Uc||t===Wc||t===_T||typeof t=="object"&&t!==null&&(t.$$typeof===zc||t.$$typeof===Hc||t.$$typeof===Dc||t.$$typeof===Bc||t.$$typeof===Gc||t.$$typeof===ty||t.getModuleId!==void 0)};Ft.typeOf=Ur;ey.exports=Ft;var mf=ey.exports;function th(t,e,n){var r=se.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var TT=Number(se.version.split(".")[0]),ny=function(e,n){typeof e=="function"?e(n):Ct(e)==="object"&&e&&"current"in e&&(e.current=n)},LT=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);return i.length<=1?i[0]:function(u){n.forEach(function(c){ny(c,u)})}},z3=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return th(function(){return LT.apply(void 0,n)},n,function(i,u){return i.length!==u.length||i.every(function(c,l){return c!==u[l]})})},ry=function(e){var n,r;if(!e)return!1;if(nh(e)&&TT>=19)return!0;var i=mf.isMemo(e)?e.type.type:e.type;return!(typeof i=="function"&&!((n=i.prototype)!==null&&n!==void 0&&n.render)&&i.$$typeof!==mf.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==mf.ForwardRef)};function nh(t){return se.isValidElement(t)&&!mT(t)}var j3=function(e){return nh(e)&&ry(e)},PT=function(e){if(e&&nh(e)){var n=e;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null};function yi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zm(r.key),r)}}function vi(t,e,n){return e&&Sg(t.prototype,e),n&&Sg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bf(t,e){return Bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Bf(t,e)}function jc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bf(t,e)}function dc(t){return dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dc(t)}function iy(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iy=function(){return!!t})()}function zo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MT(t,e){if(e&&(Ct(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zo(t)}function Vc(t){var e=iy();return function(){var n,r=dc(t);if(e){var i=dc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return MT(this,n)}}function Gf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function IT(t){if(Array.isArray(t))return Gf(t)}function oy(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rh(t,e){if(t){if(typeof t=="string")return Gf(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gf(t,e):void 0}}function kT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mr(t){return IT(t)||oy(t)||rh(t)||kT()}var sy=function(e){return+setTimeout(e,16)},ay=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(sy=function(e){return window.requestAnimationFrame(e)},ay=function(e){return window.cancelAnimationFrame(e)});var Eg=0,ih=new Map;function uy(t){ih.delete(t)}var Uf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Eg+=1;var r=Eg;function i(u){if(u===0)uy(r),e();else{var c=sy(function(){i(u-1)});ih.set(r,c)}}return i(n),r};Uf.cancel=function(t){var e=ih.get(t);return uy(t),ay(e)};function cy(t){if(Array.isArray(t))return t}function RT(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,u,c,l=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=u.call(n)).done)&&(l.push(r.value),l.length!==e);d=!0);}catch(w){p=!0,i=w}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(p)throw i}}return l}}function ly(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function et(t,e){return cy(t)||RT(t,e)||rh(t,e)||ly()}function Ta(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Vi(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function OT(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var Ag="data-rc-order",Cg="data-rc-priority",FT="rc-util-key",Wf=new Map;function fy(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):FT}function Xc(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function NT(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function oh(t){return Array.from((Wf.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function dy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Vi())return null;var n=e.csp,r=e.prepend,i=e.priority,u=i===void 0?0:i,c=NT(r),l=c==="prependQueue",d=document.createElement("style");d.setAttribute(Ag,c),l&&u&&d.setAttribute(Cg,"".concat(u)),n!=null&&n.nonce&&(d.nonce=n==null?void 0:n.nonce),d.innerHTML=t;var p=Xc(e),w=p.firstChild;if(r){if(l){var v=(e.styles||oh(p)).filter(function(E){if(!["prepend","prependQueue"].includes(E.getAttribute(Ag)))return!1;var C=Number(E.getAttribute(Cg)||0);return u>=C});if(v.length)return p.insertBefore(d,v[v.length-1].nextSibling),d}p.insertBefore(d,w)}else p.appendChild(d);return d}function hy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Xc(e);return(e.styles||oh(n)).find(function(r){return r.getAttribute(fy(e))===t})}function py(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=hy(t,e);if(n){var r=Xc(e);r.removeChild(n)}}function $T(t,e){var n=Wf.get(t);if(!n||!OT(document,n)){var r=dy("",e),i=r.parentNode;Wf.set(t,i),t.removeChild(r)}}function jo(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Xc(n),i=oh(r),u=Be(Be({},n),{},{styles:i});$T(r,u);var c=hy(e,u);if(c){var l,d;if((l=u.csp)!==null&&l!==void 0&&l.nonce&&c.nonce!==((d=u.csp)===null||d===void 0?void 0:d.nonce)){var p;c.nonce=(p=u.csp)===null||p===void 0?void 0:p.nonce}return c.innerHTML!==t&&(c.innerHTML=t),c}var w=dy(t,u);return w.setAttribute(fy(u),e),w}function DT(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yo(t,e){if(t==null)return{};var n,r,i=DT(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(r=0;r<u.length;r++)n=u[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(u,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=r.has(u);if(za(!d,"Warning: There may be circular references"),d)return!1;if(u===c)return!0;if(n&&l>1)return!1;r.add(u);var p=l+1;if(Array.isArray(u)){if(!Array.isArray(c)||u.length!==c.length)return!1;for(var w=0;w<u.length;w++)if(!i(u[w],c[w],p))return!1;return!0}if(u&&c&&Ct(u)==="object"&&Ct(c)==="object"){var v=Object.keys(u);return v.length!==Object.keys(c).length?!1:v.every(function(E){return i(u[E],c[E],p)})}return!1}return i(t,e)}var GT="%";function Hf(t){return t.join(GT)}var UT=function(){function t(e){yi(this,t),Ve(this,"instanceId",void 0),Ve(this,"cache",new Map),this.instanceId=e}return vi(t,[{key:"get",value:function(n){return this.opGet(Hf(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(Hf(n),r)}},{key:"opUpdate",value:function(n,r){var i=this.cache.get(n),u=r(i);u===null?this.cache.delete(n):this.cache.set(n,u)}}]),t}(),Ps="data-token-hash",ei="data-css-hash",xo="__cssinjs_instance__";function WT(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(ei,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(i){i[xo]=i[xo]||t,i[xo]===t&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(ei,"]"))).forEach(function(i){var u=i.getAttribute(ei);if(r[u]){if(i[xo]===t){var c;(c=i.parentNode)===null||c===void 0||c.removeChild(i)}}else r[u]=!0})}return new UT(t)}var ja=se.createContext({hashPriority:"low",cache:WT(),defaultCache:!0});function HT(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var sh=function(){function t(){yi(this,t),Ve(this,"cache",void 0),Ve(this,"keys",void 0),Ve(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return vi(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c={map:this.cache};return n.forEach(function(l){if(!c)c=void 0;else{var d;c=(d=c)===null||d===void 0||(d=d.map)===null||d===void 0?void 0:d.get(l)}}),(r=c)!==null&&r!==void 0&&r.value&&u&&(c.value[1]=this.cacheCallTimes++),(i=c)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var u=this.keys.reduce(function(p,w){var v=et(p,2),E=v[1];return i.internalGet(w)[1]<E?[w,i.internalGet(w)[1]]:p},[this.keys[0],this.cacheCallTimes]),c=et(u,1),l=c[0];this.delete(l)}this.keys.push(n)}var d=this.cache;n.forEach(function(p,w){if(w===n.length-1)d.set(p,{value:[r,i.cacheCallTimes++]});else{var v=d.get(p);v?v.map||(v.map=new Map):d.set(p,{map:new Map}),d=d.get(p).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var u;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(u=i.value)===null||u===void 0?void 0:u[0]}var c=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),c}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!HT(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();Ve(sh,"MAX_CACHE_SIZE",20);Ve(sh,"MAX_CACHE_OFFSET",5);var _g=0,gy=function(){function t(e){yi(this,t),Ve(this,"derivatives",void 0),Ve(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=_g,e.length===0&&(e.length>0,void 0),_g+=1}return vi(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),t}(),yf=new sh;function zf(t){var e=Array.isArray(t)?t:[t];return yf.has(e)||yf.set(e,new gy(e)),yf.get(e)}var zT=new WeakMap,vf={};function jT(t,e){for(var n=zT,r=0;r<e.length;r+=1){var i=e[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(vf)||n.set(vf,t()),n.get(vf)}var Tg=new WeakMap;function Aa(t){var e=Tg.get(t)||"";return e||(Object.keys(t).forEach(function(n){var r=t[n];e+=n,r instanceof gy?e+=r.id:r&&Ct(r)==="object"?e+=Aa(r):e+=r}),e=Ta(e),Tg.set(t,e)),e}function Lg(t,e){return Ta("".concat(e,"_").concat(Aa(t)))}var jf=Vi();function Vf(t){return typeof t=="number"?"".concat(t,"px"):t}function hc(t,e,n){var r,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(u)return t;var c=Be(Be({},i),{},(r={},Ve(r,Ps,e),Ve(r,ei,n),r)),l=Object.keys(c).map(function(d){var p=c[d];return p?"".concat(d,'="').concat(p,'"'):null}).filter(function(d){return d}).join(" ");return"<style ".concat(l,">").concat(t,"</style>")}var tc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},VT=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(i){var u=et(i,2),c=u[0],l=u[1];return"".concat(c,":").concat(l,";")}).join(""),"}"):""},my=function(e,n,r){var i={},u={};return Object.entries(e).forEach(function(c){var l,d,p=et(c,2),w=p[0],v=p[1];if(r!=null&&(l=r.preserve)!==null&&l!==void 0&&l[w])u[w]=v;else if((typeof v=="string"||typeof v=="number")&&!(r!=null&&(d=r.ignore)!==null&&d!==void 0&&d[w])){var E,C=tc(w,r==null?void 0:r.prefix);i[C]=typeof v=="number"&&!(r!=null&&(E=r.unitless)!==null&&E!==void 0&&E[w])?"".concat(v,"px"):String(v),u[w]="var(".concat(C,")")}}),[u,VT(i,n,{scope:r==null?void 0:r.scope})]},Pg=Vi()?se.useLayoutEffect:se.useEffect,yy=function(e,n){var r=se.useRef(!0);Pg(function(){return e(r.current)},n),Pg(function(){return r.current=!1,function(){r.current=!0}},[])},V3=function(e,n){yy(function(r){if(!r)return e()},n)},XT=Be({},Sd),Mg=XT.useInsertionEffect,YT=function(e,n,r){se.useMemo(e,r),yy(function(){return n(!0)},r)},KT=Mg?function(t,e,n){return Mg(function(){return t(),e()},n)}:YT,QT=Be({},Sd),qT=QT.useInsertionEffect,JT=function(e){var n=[],r=!1;function i(u){r||n.push(u)}return se.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(u){return u()})}},e),i},ZT=function(){return function(e){e()}},eL=typeof qT<"u"?JT:ZT;function ah(t,e,n,r,i){var u=se.useContext(ja),c=u.cache,l=[t].concat(mr(e)),d=Hf(l),p=eL([d]),w=function(L){c.opUpdate(d,function(k){var N=k||[void 0,void 0],W=et(N,2),Q=W[0],H=Q===void 0?0:Q,ie=W[1],le=ie,ne=le||n(),de=[H,ne];return L?L(de):de})};se.useMemo(function(){w()},[d]);var v=c.opGet(d),E=v[1];return KT(function(){i==null||i(E)},function(C){return w(function(L){var k=et(L,2),N=k[0],W=k[1];return C&&N===0&&(i==null||i(E)),[N+1,W]}),function(){c.opUpdate(d,function(L){var k=L||[],N=et(k,2),W=N[0],Q=W===void 0?0:W,H=N[1],ie=Q-1;return ie===0?(p(function(){(C||!c.opGet(d))&&(r==null||r(H,!1))}),null):[Q-1,H]})}},[d]),E}var tL={},nL="css",Uo=new Map;function rL(t){Uo.set(t,(Uo.get(t)||0)+1)}function iL(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Ps,'="').concat(t,'"]'));n.forEach(function(r){if(r[xo]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var oL=0;function sL(t,e){Uo.set(t,(Uo.get(t)||0)-1);var n=Array.from(Uo.keys()),r=n.filter(function(i){var u=Uo.get(i)||0;return u<=0});n.length-r.length>oL&&r.forEach(function(i){iL(i,e),Uo.delete(i)})}var aL=function(e,n,r,i){var u=r.getDerivativeToken(e),c=Be(Be({},u),n);return i&&(c=i(c)),c},vy="token";function uL(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=se.useContext(ja),i=r.cache.instanceId,u=r.container,c=n.salt,l=c===void 0?"":c,d=n.override,p=d===void 0?tL:d,w=n.formatToken,v=n.getComputedToken,E=n.cssVar,C=jT(function(){return Object.assign.apply(Object,[{}].concat(mr(e)))},e),L=Aa(C),k=Aa(p),N=E?Aa(E):"",W=ah(vy,[l,t.id,L,k,N],function(){var Q,H=v?v(C,p,t):aL(C,p,t,w),ie=Be({},H),le="";if(E){var ne=my(H,E.key,{prefix:E.prefix,ignore:E.ignore,unitless:E.unitless,preserve:E.preserve}),de=et(ne,2);H=de[0],le=de[1]}var we=Lg(H,l);H._tokenKey=we,ie._tokenKey=Lg(ie,l);var R=(Q=E==null?void 0:E.key)!==null&&Q!==void 0?Q:we;H._themeKey=R,rL(R);var X="".concat(nL,"-").concat(Ta(we));return H._hashId=X,[H,X,ie,le,(E==null?void 0:E.key)||""]},function(Q){sL(Q[0]._themeKey,i)},function(Q){var H=et(Q,4),ie=H[0],le=H[3];if(E&&le){var ne=jo(le,Ta("css-variables-".concat(ie._themeKey)),{mark:ei,prepend:"queue",attachTo:u,priority:-999});ne[xo]=i,ne.setAttribute(Ps,ie._themeKey)}});return W}var cL=function(e,n,r){var i=et(e,5),u=i[2],c=i[3],l=i[4],d=r||{},p=d.plain;if(!c)return null;var w=u._tokenKey,v=-999,E={"data-rc-order":"prependQueue","data-rc-priority":"".concat(v)},C=hc(c,l,w,E,p);return[v,w,C]},lL={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wy="comm",xy="rule",by="decl",fL="@import",dL="@namespace",hL="@keyframes",pL="@layer",Sy=Math.abs,uh=String.fromCharCode;function Ey(t){return t.trim()}function nc(t,e,n){return t.replace(e,n)}function gL(t,e,n){return t.indexOf(e,n)}function Cs(t,e){return t.charCodeAt(e)|0}function Ms(t,e,n){return t.slice(e,n)}function pi(t){return t.length}function mL(t){return t.length}function ju(t,e){return e.push(t),t}var Yc=1,Is=1,Ay=0,Gr=0,vn=0,Os="";function ch(t,e,n,r,i,u,c,l){return{value:t,root:e,parent:n,type:r,props:i,children:u,line:Yc,column:Is,length:c,return:"",siblings:l}}function yL(){return vn}function vL(){return vn=Gr>0?Cs(Os,--Gr):0,Is--,vn===10&&(Is=1,Yc--),vn}function ti(){return vn=Gr<Ay?Cs(Os,Gr++):0,Is++,vn===10&&(Is=1,Yc++),vn}function bo(){return Cs(Os,Gr)}function rc(){return Gr}function Kc(t,e){return Ms(Os,t,e)}function La(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wL(t){return Yc=Is=1,Ay=pi(Os=t),Gr=0,[]}function xL(t){return Os="",t}function wf(t){return Ey(Kc(Gr-1,Xf(t===91?t+2:t===40?t+1:t)))}function bL(t){for(;(vn=bo())&&vn<33;)ti();return La(t)>2||La(vn)>3?"":" "}function SL(t,e){for(;--e&&ti()&&!(vn<48||vn>102||vn>57&&vn<65||vn>70&&vn<97););return Kc(t,rc()+(e<6&&bo()==32&&ti()==32))}function Xf(t){for(;ti();)switch(vn){case t:return Gr;case 34:case 39:t!==34&&t!==39&&Xf(vn);break;case 40:t===41&&Xf(t);break;case 92:ti();break}return Gr}function EL(t,e){for(;ti()&&t+vn!==57;)if(t+vn===84&&bo()===47)break;return"/*"+Kc(e,Gr-1)+"*"+uh(t===47?t:ti())}function AL(t){for(;!La(bo());)ti();return Kc(t,Gr)}function CL(t){return xL(ic("",null,null,null,[""],t=wL(t),0,[0],t))}function ic(t,e,n,r,i,u,c,l,d){for(var p=0,w=0,v=c,E=0,C=0,L=0,k=1,N=1,W=1,Q=0,H="",ie=i,le=u,ne=r,de=H;N;)switch(L=Q,Q=ti()){case 40:if(L!=108&&Cs(de,v-1)==58){gL(de+=nc(wf(Q),"&","&\f"),"&\f",Sy(p?l[p-1]:0))!=-1&&(W=-1);break}case 34:case 39:case 91:de+=wf(Q);break;case 9:case 10:case 13:case 32:de+=bL(L);break;case 92:de+=SL(rc()-1,7);continue;case 47:switch(bo()){case 42:case 47:ju(_L(EL(ti(),rc()),e,n,d),d),(La(L||1)==5||La(bo()||1)==5)&&pi(de)&&Ms(de,-1,void 0)!==" "&&(de+=" ");break;default:de+="/"}break;case 123*k:l[p++]=pi(de)*W;case 125*k:case 59:case 0:switch(Q){case 0:case 125:N=0;case 59+w:W==-1&&(de=nc(de,/\f/g,"")),C>0&&(pi(de)-v||k===0&&L===47)&&ju(C>32?kg(de+";",r,n,v-1,d):kg(nc(de," ","")+";",r,n,v-2,d),d);break;case 59:de+=";";default:if(ju(ne=Ig(de,e,n,p,w,i,l,H,ie=[],le=[],v,u),u),Q===123)if(w===0)ic(de,e,ne,ne,ie,u,v,l,le);else{switch(E){case 99:if(Cs(de,3)===110)break;case 108:if(Cs(de,2)===97)break;default:w=0;case 100:case 109:case 115:}w?ic(t,ne,ne,r&&ju(Ig(t,ne,ne,0,0,i,l,H,i,ie=[],v,le),le),i,le,v,l,r?ie:le):ic(de,ne,ne,ne,[""],le,0,l,le)}}p=w=C=0,k=W=1,H=de="",v=c;break;case 58:v=1+pi(de),C=L;default:if(k<1){if(Q==123)--k;else if(Q==125&&k++==0&&vL()==125)continue}switch(de+=uh(Q),Q*k){case 38:W=w>0?1:(de+="\f",-1);break;case 44:l[p++]=(pi(de)-1)*W,W=1;break;case 64:bo()===45&&(de+=wf(ti())),E=bo(),w=v=pi(H=de+=AL(rc())),Q++;break;case 45:L===45&&pi(de)==2&&(k=0)}}return u}function Ig(t,e,n,r,i,u,c,l,d,p,w,v){for(var E=i-1,C=i===0?u:[""],L=mL(C),k=0,N=0,W=0;k<r;++k)for(var Q=0,H=Ms(t,E+1,E=Sy(N=c[k])),ie=t;Q<L;++Q)(ie=Ey(N>0?C[Q]+" "+H:nc(H,/&\f/g,C[Q])))&&(d[W++]=ie);return ch(t,e,n,i===0?xy:l,d,p,w,v)}function _L(t,e,n,r){return ch(t,e,n,wy,uh(yL()),Ms(t,2,-2),0,r)}function kg(t,e,n,r,i){return ch(t,e,n,by,Ms(t,0,r),Ms(t,r+1,-1),r,i)}function Yf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function TL(t,e,n,r){switch(t.type){case pL:if(t.children.length)break;case fL:case dL:case by:return t.return=t.return||t.value;case wy:return"";case hL:return t.return=t.value+"{"+Yf(t.children,r)+"}";case xy:if(!pi(t.value=t.props.join(",")))return""}return pi(n=Yf(t.children,r))?t.return=t.value+"{"+n+"}":""}var Rg="data-ant-cssinjs-cache-path",Cy="_FILE_STYLE__",Vo,_y=!0;function LL(){if(!Vo&&(Vo={},Vi())){var t=document.createElement("div");t.className=Rg,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var u=i.split(":"),c=et(u,2),l=c[0],d=c[1];Vo[l]=d});var n=document.querySelector("style[".concat(Rg,"]"));if(n){var r;_y=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function PL(t){return LL(),!!Vo[t]}function ML(t){var e=Vo[t],n=null;if(e&&Vi())if(_y)n=Cy;else{var r=document.querySelector("style[".concat(ei,'="').concat(Vo[t],'"]'));r?n=r.innerHTML:delete Vo[t]}return[n,e]}var IL="_skip_check_",Ty="_multi_value_";function oc(t){var e=Yf(CL(t),TL);return e.replace(/\{%%%\:[^;];}/g,";")}function kL(t){return Ct(t)==="object"&&t&&(IL in t||Ty in t)}function Og(t,e,n){if(!e)return t;var r=".".concat(e),i=n==="low"?":where(".concat(r,")"):r,u=t.split(",").map(function(c){var l,d=c.trim().split(/\s+/),p=d[0]||"",w=((l=p.match(/^\w+/))===null||l===void 0?void 0:l[0])||"";return p="".concat(w).concat(i).concat(p.slice(w.length)),[p].concat(mr(d.slice(1))).join(" ")});return u.join(",")}var RL=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,u=r.injectHash,c=r.parentSelectors,l=n.hashId,d=n.layer;n.path;var p=n.hashPriority,w=n.transformers,v=w===void 0?[]:w;n.linters;var E="",C={};function L(W){var Q=W.getName(l);if(!C[Q]){var H=t(W.style,n,{root:!1,parentSelectors:c}),ie=et(H,1),le=ie[0];C[Q]="@keyframes ".concat(W.getName(l)).concat(le)}}function k(W){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return W.forEach(function(H){Array.isArray(H)?k(H,Q):H&&Q.push(H)}),Q}var N=k(Array.isArray(e)?e:[e]);return N.forEach(function(W){var Q=typeof W=="string"&&!i?{}:W;if(typeof Q=="string")E+="".concat(Q,`
`);else if(Q._keyframe)L(Q);else{var H=v.reduce(function(ie,le){var ne;return(le==null||(ne=le.visit)===null||ne===void 0?void 0:ne.call(le,ie))||ie},Q);Object.keys(H).forEach(function(ie){var le=H[ie];if(Ct(le)==="object"&&le&&(ie!=="animationName"||!le._keyframe)&&!kL(le)){var ne=!1,de=ie.trim(),we=!1;(i||u)&&l?de.startsWith("@")?ne=!0:de==="&"?de=Og("",l,p):de=Og(ie,l,p):i&&!l&&(de==="&"||de==="")&&(de="",we=!0);var R=t(le,n,{root:we,injectHash:ne,parentSelectors:[].concat(mr(c),[de])}),X=et(R,2),V=X[0],re=X[1];C=Be(Be({},C),re),E+="".concat(de).concat(V)}else{let Ee=function(j,te){var me=j.replace(/[A-Z]/g,function(Oe){return"-".concat(Oe.toLowerCase())}),Me=te;!lL[j]&&typeof Me=="number"&&Me!==0&&(Me="".concat(Me,"px")),j==="animationName"&&te!==null&&te!==void 0&&te._keyframe&&(L(te),Me=te.getName(l)),E+="".concat(me,":").concat(Me,";")};var ue,ee=(ue=le==null?void 0:le.value)!==null&&ue!==void 0?ue:le;Ct(le)==="object"&&le!==null&&le!==void 0&&le[Ty]&&Array.isArray(ee)?ee.forEach(function(j){Ee(ie,j)}):Ee(ie,ee)}})}}),i?d&&(E&&(E="@layer ".concat(d.name," {").concat(E,"}")),d.dependencies&&(C["@layer ".concat(d.name)]=d.dependencies.map(function(W){return"@layer ".concat(W,", ").concat(d.name,";")}).join(`
`))):E="{".concat(E,"}"),[E,C]};function Ly(t,e){return Ta("".concat(t.join("%")).concat(e))}function OL(){return null}var Py="style";function Kf(t,e){var n=t.token,r=t.path,i=t.hashId,u=t.layer,c=t.nonce,l=t.clientOnly,d=t.order,p=d===void 0?0:d,w=se.useContext(ja),v=w.autoClear;w.mock;var E=w.defaultCache,C=w.hashPriority,L=w.container,k=w.ssrInline,N=w.transformers,W=w.linters,Q=w.cache,H=w.layer,ie=n._tokenKey,le=[ie];H&&le.push("layer"),le.push.apply(le,mr(r));var ne=jf,de=ah(Py,le,function(){var re=le.join("|");if(PL(re)){var ue=ML(re),ee=et(ue,2),Ee=ee[0],j=ee[1];if(Ee)return[Ee,ie,j,{},l,p]}var te=e(),me=RL(te,{hashId:i,hashPriority:C,layer:H?u:void 0,path:r.join("-"),transformers:N,linters:W}),Me=et(me,2),Oe=Me[0],Le=Me[1],Fe=oc(Oe),ot=Ly(le,Fe);return[Fe,ie,ot,Le,l,p]},function(re,ue){var ee=et(re,3),Ee=ee[2];(ue||v)&&jf&&py(Ee,{mark:ei})},function(re){var ue=et(re,4),ee=ue[0];ue[1];var Ee=ue[2],j=ue[3];if(ne&&ee!==Cy){var te={mark:ei,prepend:H?!1:"queue",attachTo:L,priority:p},me=typeof c=="function"?c():c;me&&(te.csp={nonce:me});var Me=[],Oe=[];Object.keys(j).forEach(function(Fe){Fe.startsWith("@layer")?Me.push(Fe):Oe.push(Fe)}),Me.forEach(function(Fe){jo(oc(j[Fe]),"_layer-".concat(Fe),Be(Be({},te),{},{prepend:!0}))});var Le=jo(ee,Ee,te);Le[xo]=Q.instanceId,Le.setAttribute(Ps,ie),Oe.forEach(function(Fe){jo(oc(j[Fe]),"_effect-".concat(Fe),te)})}}),we=et(de,3),R=we[0],X=we[1],V=we[2];return function(re){var ue;if(!k||ne||!E)ue=se.createElement(OL,null);else{var ee;ue=se.createElement("style",or({},(ee={},Ve(ee,Ps,X),Ve(ee,ei,V),ee),{dangerouslySetInnerHTML:{__html:R}}))}return se.createElement(se.Fragment,null,ue,re)}}var FL=function(e,n,r){var i=et(e,6),u=i[0],c=i[1],l=i[2],d=i[3],p=i[4],w=i[5],v=r||{},E=v.plain;if(p)return null;var C=u,L={"data-rc-order":"prependQueue","data-rc-priority":"".concat(w)};return C=hc(u,c,l,L,E),d&&Object.keys(d).forEach(function(k){if(!n[k]){n[k]=!0;var N=oc(d[k]),W=hc(N,c,"_effect-".concat(k),L,E);k.startsWith("@layer")?C=W+C:C+=W}}),[w,l,C]},My="cssVar",NL=function(e,n){var r=e.key,i=e.prefix,u=e.unitless,c=e.ignore,l=e.token,d=e.scope,p=d===void 0?"":d,w=se.useContext(ja),v=w.cache.instanceId,E=w.container,C=l._tokenKey,L=[].concat(mr(e.path),[r,p,C]),k=ah(My,L,function(){var N=n(),W=my(N,r,{prefix:i,unitless:u,ignore:c,scope:p}),Q=et(W,2),H=Q[0],ie=Q[1],le=Ly(L,ie);return[H,ie,le,r]},function(N){var W=et(N,3),Q=W[2];jf&&py(Q,{mark:ei})},function(N){var W=et(N,3),Q=W[1],H=W[2];if(Q){var ie=jo(Q,H,{mark:ei,prepend:"queue",attachTo:E,priority:-999});ie[xo]=v,ie.setAttribute(Ps,r)}});return k},$L=function(e,n,r){var i=et(e,4),u=i[1],c=i[2],l=i[3],d=r||{},p=d.plain;if(!u)return null;var w=-999,v={"data-rc-order":"prependQueue","data-rc-priority":"".concat(w)},E=hc(u,l,c,v,p);return[w,c,E]},wa;wa={},Ve(wa,Py,FL),Ve(wa,vy,cL),Ve(wa,My,$L);var Fg=function(){function t(e,n){yi(this,t),Ve(this,"name",void 0),Ve(this,"style",void 0),Ve(this,"_keyframe",!0),this.name=e,this.style=n}return vi(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function ws(t){return t.notSplit=!0,t}ws(["borderTop","borderBottom"]),ws(["borderTop"]),ws(["borderBottom"]),ws(["borderLeft","borderRight"]),ws(["borderLeft"]),ws(["borderRight"]);var lh=se.createContext({});function DL(t){return cy(t)||oy(t)||rh(t)||ly()}function Qf(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function Iy(t,e,n,r){if(!e.length)return n;var i=DL(e),u=i[0],c=i.slice(1),l;return!t&&typeof u=="number"?l=[]:Array.isArray(t)?l=mr(t):l=Be({},t),r&&n===void 0&&c.length===1?delete l[u][c[0]]:l[u]=Iy(l[u],c,n,r),l}function xf(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!Qf(t,e.slice(0,-1))?t:Iy(t,e,n,r)}function BL(t){return Ct(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function Ng(t){return Array.isArray(t)?[]:{}}var GL=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function UL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Ng(e[0]);return e.forEach(function(i){function u(c,l){var d=new Set(l),p=Qf(i,c),w=Array.isArray(p);if(w||BL(p)){if(!d.has(p)){d.add(p);var v=Qf(r,c);w?r=xf(r,c,[]):(!v||Ct(v)!=="object")&&(r=xf(r,c,Ng(p))),GL(p).forEach(function(E){u([].concat(mr(c),[E]),d)})}}else r=xf(r,c,p)}u([])}),r}function WL(){}const HL=se.createContext({}),ky=()=>{const t=()=>{};return t.deprecated=WL,t},zL=se.createContext(void 0);var jL={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},VL={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},XL=Be(Be({},VL),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const Ry={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},$g={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},XL),timePickerLocale:Object.assign({},Ry)},Cr="${label} is not a valid ${type}",Qc={locale:"en",Pagination:jL,DatePicker:$g,TimePicker:Ry,Calendar:$g,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Cr,method:Cr,array:Cr,object:Cr,number:Cr,date:Cr,boolean:Cr,integer:Cr,float:Cr,regexp:Cr,email:Cr,url:Cr,hex:Cr},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let sc=Object.assign({},Qc.Modal),ac=[];const Dg=()=>ac.reduce((t,e)=>Object.assign(Object.assign({},t),e),Qc.Modal);function YL(t){if(t){const e=Object.assign({},t);return ac.push(e),sc=Dg(),()=>{ac=ac.filter(n=>n!==e),sc=Dg()}}sc=Object.assign({},Qc.Modal)}function X3(){return sc}const Oy=se.createContext(void 0),KL="internalMark",QL=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;se.useEffect(()=>YL(e==null?void 0:e.Modal),[e]);const i=se.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return se.createElement(Oy.Provider,{value:i},n)},Fy={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Pa=Object.assign(Object.assign({},Fy),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Mn=Math.round;function bf(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=e(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Bg=(t,e,n)=>n===0?t:t/100;function xa(t,e){const n=e||255;return t>n?n:t<0?0:t}class hn{constructor(e){Ve(this,"isValid",!0),Ve(this,"r",0),Ve(this,"g",0),Ve(this,"b",0),Ve(this,"a",1),Ve(this,"_h",void 0),Ve(this,"_s",void 0),Ve(this,"_l",void 0),Ve(this,"_v",void 0),Ve(this,"_max",void 0),Ve(this,"_min",void 0),Ve(this,"_brightness",void 0);function n(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let i=function(u){return r.startsWith(u)};const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):i("rgb")?this.fromRgbString(r):i("hsl")?this.fromHslString(r):(i("hsv")||i("hsb"))&&this.fromHsvString(r)}else if(e instanceof hn)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=xa(e.r),this.g=xa(e.g),this.b=xa(e.b),this.a=typeof e.a=="number"?xa(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(u){const c=u/255;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),i=e(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Mn(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(e,n=50){const r=this._c(e),i=n/100,u=l=>(r[l]-this[l])*i+this[l],c={r:Mn(u("r")),g:Mn(u("g")),b:Mn(u("b")),a:Mn(u("a")*100)/100};return this._c(c)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),i=u=>Mn((this[u]*this.a+n[u]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const u=Mn(this.a*255).toString(16);e+=u.length===2?u:"0"+u}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=Mn(this.getSaturation()*100),r=Mn(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const i=this.clone();return i[e]=xa(n,r),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(i,u){return parseInt(n[i]+n[u||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:i}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const E=Mn(r*255);this.r=E,this.g=E,this.b=E}let u=0,c=0,l=0;const d=e/60,p=(1-Math.abs(2*r-1))*n,w=p*(1-Math.abs(d%2-1));d>=0&&d<1?(u=p,c=w):d>=1&&d<2?(u=w,c=p):d>=2&&d<3?(c=p,l=w):d>=3&&d<4?(c=w,l=p):d>=4&&d<5?(u=w,l=p):d>=5&&d<6&&(u=p,l=w);const v=r-p/2;this.r=Mn((u+v)*255),this.g=Mn((c+v)*255),this.b=Mn((l+v)*255)}fromHsv({h:e,s:n,v:r,a:i}){this._h=e%360,this._s=n,this._v=r,this.a=typeof i=="number"?i:1;const u=Mn(r*255);if(this.r=u,this.g=u,this.b=u,n<=0)return;const c=e/60,l=Math.floor(c),d=c-l,p=Mn(r*(1-n)*255),w=Mn(r*(1-n*d)*255),v=Mn(r*(1-n*(1-d))*255);switch(l){case 0:this.g=v,this.b=p;break;case 1:this.r=w,this.b=p;break;case 2:this.r=p,this.b=v;break;case 3:this.r=p,this.g=w;break;case 4:this.r=v,this.g=p;break;case 5:default:this.g=p,this.b=w;break}}fromHsvString(e){const n=bf(e,Bg);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=bf(e,Bg);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=bf(e,(r,i)=>i.includes("%")?Mn(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var Vu=2,Gg=.16,qL=.05,JL=.05,ZL=.15,Ny=5,$y=4,eP=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Ug(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-Vu*e:Math.round(t.h)+Vu*e:r=n?Math.round(t.h)+Vu*e:Math.round(t.h)-Vu*e,r<0?r+=360:r>=360&&(r-=360),r}function Wg(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-Gg*e:e===$y?r=t.s+Gg:r=t.s+qL*e,r>1&&(r=1),n&&e===Ny&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function Hg(t,e,n){var r;return n?r=t.v+JL*e:r=t.v-ZL*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Ma(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new hn(t),i=r.toHsv(),u=Ny;u>0;u-=1){var c=new hn({h:Ug(i,u,!0),s:Wg(i,u,!0),v:Hg(i,u,!0)});n.push(c)}n.push(r);for(var l=1;l<=$y;l+=1){var d=new hn({h:Ug(i,l),s:Wg(i,l),v:Hg(i,l)});n.push(d)}return e.theme==="dark"?eP.map(function(p){var w=p.index,v=p.amount;return new hn(e.backgroundColor||"#141414").mix(n[w],v).toHexString()}):n.map(function(p){return p.toHexString()})}var Sf={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},qf=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];qf.primary=qf[5];var Jf=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Jf.primary=Jf[5];var Zf=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Zf.primary=Zf[5];var ed=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];ed.primary=ed[5];var td=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];td.primary=td[5];var nd=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];nd.primary=nd[5];var rd=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];rd.primary=rd[5];var id=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];id.primary=id[5];var pc=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];pc.primary=pc[5];var od=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];od.primary=od[5];var sd=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];sd.primary=sd[5];var ad=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];ad.primary=ad[5];var ud=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];ud.primary=ud[5];var Ef={red:qf,volcano:Jf,orange:Zf,gold:ed,yellow:td,lime:nd,green:rd,cyan:id,blue:pc,geekblue:od,purple:sd,magenta:ad,grey:ud};function tP(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:u,colorError:c,colorInfo:l,colorPrimary:d,colorBgBase:p,colorTextBase:w}=t,v=n(d),E=n(i),C=n(u),L=n(c),k=n(l),N=r(p,w),W=t.colorLink||t.colorInfo,Q=n(W),H=new hn(L[1]).mix(new hn(L[3]),50).toHexString();return Object.assign(Object.assign({},N),{colorPrimaryBg:v[1],colorPrimaryBgHover:v[2],colorPrimaryBorder:v[3],colorPrimaryBorderHover:v[4],colorPrimaryHover:v[5],colorPrimary:v[6],colorPrimaryActive:v[7],colorPrimaryTextHover:v[8],colorPrimaryText:v[9],colorPrimaryTextActive:v[10],colorSuccessBg:E[1],colorSuccessBgHover:E[2],colorSuccessBorder:E[3],colorSuccessBorderHover:E[4],colorSuccessHover:E[4],colorSuccess:E[6],colorSuccessActive:E[7],colorSuccessTextHover:E[8],colorSuccessText:E[9],colorSuccessTextActive:E[10],colorErrorBg:L[1],colorErrorBgHover:L[2],colorErrorBgFilledHover:H,colorErrorBgActive:L[3],colorErrorBorder:L[3],colorErrorBorderHover:L[4],colorErrorHover:L[5],colorError:L[6],colorErrorActive:L[7],colorErrorTextHover:L[8],colorErrorText:L[9],colorErrorTextActive:L[10],colorWarningBg:C[1],colorWarningBgHover:C[2],colorWarningBorder:C[3],colorWarningBorderHover:C[4],colorWarningHover:C[4],colorWarning:C[6],colorWarningActive:C[7],colorWarningTextHover:C[8],colorWarningText:C[9],colorWarningTextActive:C[10],colorInfoBg:k[1],colorInfoBgHover:k[2],colorInfoBorder:k[3],colorInfoBorderHover:k[4],colorInfoHover:k[4],colorInfo:k[6],colorInfoActive:k[7],colorInfoTextHover:k[8],colorInfoText:k[9],colorInfoTextActive:k[10],colorLinkHover:Q[4],colorLink:Q[6],colorLinkActive:Q[7],colorBgMask:new hn("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const nP=t=>{let e=t,n=t,r=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:i}};function rP(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:i}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:i+1},nP(r))}const iP=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function oP(t){return(t+8)/t}function sP(t){const e=Array.from({length:10}).map((n,r)=>{const i=r-1,u=t*Math.pow(Math.E,i/5),c=r>1?Math.floor(u):Math.ceil(u);return Math.floor(c/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:oP(n)}))}const aP=t=>{const e=sP(t),n=e.map(w=>w.size),r=e.map(w=>w.lineHeight),i=n[1],u=n[0],c=n[2],l=r[1],d=r[0],p=r[2];return{fontSizeSM:u,fontSize:i,fontSizeLG:c,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:l,lineHeightLG:p,lineHeightSM:d,fontHeight:Math.round(l*i),fontHeightLG:Math.round(p*c),fontHeightSM:Math.round(d*u),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function uP(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const Or=(t,e)=>new hn(t).setA(e).toRgbString(),ba=(t,e)=>new hn(t).darken(e).toHexString(),cP=t=>{const e=Ma(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},lP=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Or(r,.88),colorTextSecondary:Or(r,.65),colorTextTertiary:Or(r,.45),colorTextQuaternary:Or(r,.25),colorFill:Or(r,.15),colorFillSecondary:Or(r,.06),colorFillTertiary:Or(r,.04),colorFillQuaternary:Or(r,.02),colorBgSolid:Or(r,1),colorBgSolidHover:Or(r,.75),colorBgSolidActive:Or(r,.95),colorBgLayout:ba(n,4),colorBgContainer:ba(n,0),colorBgElevated:ba(n,0),colorBgSpotlight:Or(r,.85),colorBgBlur:"transparent",colorBorder:ba(n,15),colorBorderSecondary:ba(n,6)}};function fP(t){Sf.pink=Sf.magenta,Ef.pink=Ef.magenta;const e=Object.keys(Fy).map(n=>{const r=t[n]===Sf[n]?Ef[n]:Ma(t[n]);return Array.from({length:10},()=>1).reduce((i,u,c)=>(i[`${n}-${c+1}`]=r[c],i[`${n}${c+1}`]=r[c],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),tP(t,{generateColorPalettes:cP,generateNeutralColorPalettes:lP})),aP(t.fontSize)),uP(t)),iP(t)),rP(t))}const Dy=zf(fP),cd={token:Pa,override:{override:Pa},hashed:!0},By=Yt.createContext(cd),ld="ant",qc="anticon",Y3=["outlined","borderless","filled","underlined"],dP=(t,e)=>e||(t?`${ld}-${t}`:ld),mi=se.createContext({getPrefixCls:dP,iconPrefixCls:qc}),{Consumer:K3}=mi,zg={};function Q3(t){const e=se.useContext(mi),{getPrefixCls:n,direction:r,getPopupContainer:i}=e,u=e[t];return Object.assign(Object.assign({classNames:zg,styles:zg},u),{getPrefixCls:n,direction:r,getPopupContainer:i})}const hP=`-ant-${Date.now()}-${Math.random()}`;function pP(t,e){const n={},r=(c,l)=>{let d=c.clone();return d=(l==null?void 0:l(d))||d,d.toRgbString()},i=(c,l)=>{const d=new hn(c),p=Ma(d.toRgbString());n[`${l}-color`]=r(d),n[`${l}-color-disabled`]=p[1],n[`${l}-color-hover`]=p[4],n[`${l}-color-active`]=p[6],n[`${l}-color-outline`]=d.clone().setA(.2).toRgbString(),n[`${l}-color-deprecated-bg`]=p[0],n[`${l}-color-deprecated-border`]=p[2]};if(e.primaryColor){i(e.primaryColor,"primary");const c=new hn(e.primaryColor),l=Ma(c.toRgbString());l.forEach((p,w)=>{n[`primary-${w+1}`]=p}),n["primary-color-deprecated-l-35"]=r(c,p=>p.lighten(35)),n["primary-color-deprecated-l-20"]=r(c,p=>p.lighten(20)),n["primary-color-deprecated-t-20"]=r(c,p=>p.tint(20)),n["primary-color-deprecated-t-50"]=r(c,p=>p.tint(50)),n["primary-color-deprecated-f-12"]=r(c,p=>p.setA(p.a*.12));const d=new hn(l[0]);n["primary-color-active-deprecated-f-30"]=r(d,p=>p.setA(p.a*.3)),n["primary-color-active-deprecated-d-02"]=r(d,p=>p.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(c=>`--${t}-${c}: ${n[c]};`).join(`
`)}
  }
  `.trim()}function gP(t,e){const n=pP(t,e);Vi()&&jo(n,`${hP}-dynamic-theme`)}const fd=se.createContext(!1),mP=t=>{let{children:e,disabled:n}=t;const r=se.useContext(fd);return se.createElement(fd.Provider,{value:n??r},e)},Ia=se.createContext(void 0),yP=t=>{let{children:e,size:n}=t;const r=se.useContext(Ia);return se.createElement(Ia.Provider,{value:n||r},e)};function vP(){const t=se.useContext(fd),e=se.useContext(Ia);return{componentDisabled:t,componentSize:e}}var Gy=vi(function t(){yi(this,t)}),Uy="CALC_UNIT",wP=new RegExp(Uy,"g");function Af(t){return typeof t=="number"?"".concat(t).concat(Uy):t}var xP=function(t){jc(n,t);var e=Vc(n);function n(r,i){var u;yi(this,n),u=e.call(this),Ve(zo(u),"result",""),Ve(zo(u),"unitlessCssVar",void 0),Ve(zo(u),"lowPriority",void 0);var c=Ct(r);return u.unitlessCssVar=i,r instanceof n?u.result="(".concat(r.result,")"):c==="number"?u.result=Af(r):c==="string"&&(u.result=r),u}return vi(n,[{key:"add",value:function(i){return i instanceof n?this.result="".concat(this.result," + ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," + ").concat(Af(i))),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof n?this.result="".concat(this.result," - ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," - ").concat(Af(i))),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," * ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," * ").concat(i)),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," / ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," / ").concat(i)),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(i){var u=this,c=i||{},l=c.unit,d=!0;return typeof l=="boolean"?d=l:Array.from(this.unitlessCssVar).some(function(p){return u.result.includes(p)})&&(d=!1),this.result=this.result.replace(wP,d?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(Gy),bP=function(t){jc(n,t);var e=Vc(n);function n(r){var i;return yi(this,n),i=e.call(this),Ve(zo(i),"result",0),r instanceof n?i.result=r.result:typeof r=="number"&&(i.result=r),i}return vi(n,[{key:"add",value:function(i){return i instanceof n?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof n?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof n?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof n?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),n}(Gy),SP=function(e,n){var r=e==="css"?xP:bP;return function(i){return new r(i,n)}},jg=function(e,n){return"".concat([n,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function dd(t){var e=se.useRef();e.current=t;var n=se.useCallback(function(){for(var r,i=arguments.length,u=new Array(i),c=0;c<i;c++)u[c]=arguments[c];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(u))},[]);return n}function hd(t){var e=se.useRef(!1),n=se.useState(t),r=et(n,2),i=r[0],u=r[1];se.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function c(l,d){d&&e.current||u(l)}return[i,c]}function Vg(t,e,n,r){var i=Be({},e[t]);if(r!=null&&r.deprecatedTokens){var u=r.deprecatedTokens;u.forEach(function(l){var d=et(l,2),p=d[0],w=d[1];if(i!=null&&i[p]||i!=null&&i[w]){var v;(v=i[w])!==null&&v!==void 0||(i[w]=i==null?void 0:i[p])}})}var c=Be(Be({},n),i);return Object.keys(c).forEach(function(l){c[l]===e[l]&&delete c[l]}),c}var Wy=typeof CSSINJS_STATISTIC<"u",pd=!0;function fh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!Wy)return Object.assign.apply(Object,[{}].concat(e));pd=!1;var r={};return e.forEach(function(i){if(Ct(i)==="object"){var u=Object.keys(i);u.forEach(function(c){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:function(){return i[c]}})})}}),pd=!0,r}var Xg={};function EP(){}var AP=function(e){var n,r=e,i=EP;return Wy&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(e,{get:function(c,l){if(pd){var d;(d=n)===null||d===void 0||d.add(l)}return c[l]}}),i=function(c,l){var d;Xg[c]={global:Array.from(n),component:Be(Be({},(d=Xg[c])===null||d===void 0?void 0:d.component),l)}}),{token:r,keys:n,flush:i}};function Yg(t,e,n){if(typeof n=="function"){var r;return n(fh(e,(r=e[t])!==null&&r!==void 0?r:{}))}return n??{}}function CP(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"max(".concat(r.map(function(u){return Vf(u)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"min(".concat(r.map(function(u){return Vf(u)}).join(","),")")}}}var _P=1e3*60*10,TP=function(){function t(){yi(this,t),Ve(this,"map",new Map),Ve(this,"objectIDMap",new WeakMap),Ve(this,"nextID",0),Ve(this,"lastAccessBeat",new Map),Ve(this,"accessBeat",0)}return vi(t,[{key:"set",value:function(n,r){this.clear();var i=this.getCompositeKey(n);this.map.set(i,r),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),i=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(n){var r=this,i=n.map(function(u){return u&&Ct(u)==="object"?"obj_".concat(r.getObjectID(u)):"".concat(Ct(u),"_").concat(u)});return i.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(i,u){r-i>_P&&(n.map.delete(u),n.lastAccessBeat.delete(u))}),this.accessBeat=0}}}]),t}(),Kg=new TP;function LP(t,e){return Yt.useMemo(function(){var n=Kg.get(e);if(n)return n;var r=t();return Kg.set(e,r),r},e)}var PP=function(){return{}};function MP(t){var e=t.useCSP,n=e===void 0?PP:e,r=t.useToken,i=t.usePrefix,u=t.getResetStyles,c=t.getCommonStyle,l=t.getCompUnitless;function d(E,C,L,k){var N=Array.isArray(E)?E[0]:E;function W(we){return"".concat(String(N)).concat(we.slice(0,1).toUpperCase()).concat(we.slice(1))}var Q=(k==null?void 0:k.unitless)||{},H=typeof l=="function"?l(E):{},ie=Be(Be({},H),{},Ve({},W("zIndexPopup"),!0));Object.keys(Q).forEach(function(we){ie[W(we)]=Q[we]});var le=Be(Be({},k),{},{unitless:ie,prefixToken:W}),ne=w(E,C,L,le),de=p(N,L,le);return function(we){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we,X=ne(we,R),V=et(X,2),re=V[1],ue=de(R),ee=et(ue,2),Ee=ee[0],j=ee[1];return[Ee,re,j]}}function p(E,C,L){var k=L.unitless,N=L.injectStyle,W=N===void 0?!0:N,Q=L.prefixToken,H=L.ignore,ie=function(de){var we=de.rootCls,R=de.cssVar,X=R===void 0?{}:R,V=r(),re=V.realToken;return NL({path:[E],prefix:X.prefix,key:X.key,unitless:k,ignore:H,token:re,scope:we},function(){var ue=Yg(E,re,C),ee=Vg(E,re,ue,{deprecatedTokens:L==null?void 0:L.deprecatedTokens});return Object.keys(ue).forEach(function(Ee){ee[Q(Ee)]=ee[Ee],delete ee[Ee]}),ee}),null},le=function(de){var we=r(),R=we.cssVar;return[function(X){return W&&R?Yt.createElement(Yt.Fragment,null,Yt.createElement(ie,{rootCls:de,cssVar:R,component:E}),X):X},R==null?void 0:R.key]};return le}function w(E,C,L){var k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=Array.isArray(E)?E:[E,E],W=et(N,1),Q=W[0],H=N.join("-"),ie=t.layer||{name:"antd"};return function(le){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le,de=r(),we=de.theme,R=de.realToken,X=de.hashId,V=de.token,re=de.cssVar,ue=i(),ee=ue.rootPrefixCls,Ee=ue.iconPrefixCls,j=n(),te=re?"css":"js",me=LP(function(){var it=new Set;return re&&Object.keys(k.unitless||{}).forEach(function(Ke){it.add(tc(Ke,re.prefix)),it.add(tc(Ke,jg(Q,re.prefix)))}),SP(te,it)},[te,Q,re==null?void 0:re.prefix]),Me=CP(te),Oe=Me.max,Le=Me.min,Fe={theme:we,token:V,hashId:X,nonce:function(){return j.nonce},clientOnly:k.clientOnly,layer:ie,order:k.order||-999};typeof u=="function"&&Kf(Be(Be({},Fe),{},{clientOnly:!1,path:["Shared",ee]}),function(){return u(V,{prefix:{rootPrefixCls:ee,iconPrefixCls:Ee},csp:j})});var ot=Kf(Be(Be({},Fe),{},{path:[H,le,Ee]}),function(){if(k.injectStyle===!1)return[];var it=AP(V),Ke=it.token,yt=it.flush,Nt=Yg(Q,R,L),kn=".".concat(le),an=Vg(Q,R,Nt,{deprecatedTokens:k.deprecatedTokens});re&&Nt&&Ct(Nt)==="object"&&Object.keys(Nt).forEach(function(wn){Nt[wn]="var(".concat(tc(wn,jg(Q,re.prefix)),")")});var pn=fh(Ke,{componentCls:kn,prefixCls:le,iconCls:".".concat(Ee),antCls:".".concat(ee),calc:me,max:Oe,min:Le},re?Nt:an),Wn=C(pn,{hashId:X,prefixCls:le,rootPrefixCls:ee,iconPrefixCls:Ee});yt(Q,an);var Wt=typeof c=="function"?c(pn,le,ne,k.resetFont):null;return[k.resetStyle===!1?null:Wt,Wn]});return[ot,X]}}function v(E,C,L){var k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=w(E,C,L,Be({resetStyle:!1,order:-998},k)),W=function(H){var ie=H.prefixCls,le=H.rootCls,ne=le===void 0?ie:le;return N(ie,ne),null};return W}return{genStyleHooks:d,genSubStyleComponent:v,genComponentStyleHook:w}}const IP="5.24.5";function Cf(t){return t>=0&&t<=255}function Xu(t,e){const{r:n,g:r,b:i,a:u}=new hn(t).toRgb();if(u<1)return t;const{r:c,g:l,b:d}=new hn(e).toRgb();for(let p=.01;p<=1;p+=.01){const w=Math.round((n-c*(1-p))/p),v=Math.round((r-l*(1-p))/p),E=Math.round((i-d*(1-p))/p);if(Cf(w)&&Cf(v)&&Cf(E))return new hn({r:w,g:v,b:E,a:Math.round(p*100)/100}).toRgbString()}return new hn({r:n,g:r,b:i,a:1}).toRgbString()}var kP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Hy(t){const{override:e}=t,n=kP(t,["override"]),r=Object.assign({},e);Object.keys(Pa).forEach(E=>{delete r[E]});const i=Object.assign(Object.assign({},n),r),u=480,c=576,l=768,d=992,p=1200,w=1600;if(i.motion===!1){const E="0s";i.motionDurationFast=E,i.motionDurationMid=E,i.motionDurationSlow=E}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:Xu(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:Xu(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:Xu(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*3,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:Xu(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:u,screenXSMin:u,screenXSMax:c-1,screenSM:c,screenSMMin:c,screenSMMax:l-1,screenMD:l,screenMDMin:l,screenMDMax:d-1,screenLG:d,screenLGMin:d,screenLGMax:p-1,screenXL:p,screenXLMin:p,screenXLMax:w-1,screenXXL:w,screenXXLMin:w,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new hn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new hn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new hn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var Qg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const zy={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},RP={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},OP={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},jy=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:i}=e,u=Qg(e,["override"]);let c=Object.assign(Object.assign({},r),{override:i});return c=Hy(c),u&&Object.entries(u).forEach(l=>{let[d,p]=l;const{theme:w}=p,v=Qg(p,["theme"]);let E=v;w&&(E=jy(Object.assign(Object.assign({},c),v),{override:v},w)),c[d]=E}),c};function Va(){const{token:t,hashed:e,theme:n,override:r,cssVar:i}=Yt.useContext(By),u=`${IP}-${e||""}`,c=n||Dy,[l,d,p]=uL(c,[Pa,t],{salt:u,override:r,getComputedToken:jy,formatToken:Hy,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:zy,ignore:RP,preserve:OP}});return[c,p,e?d:"",l,i]}const q3={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},FP=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},NP=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),J3=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),$P=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),DP=(t,e,n,r)=>{const i=`[class^="${e}"], [class*=" ${e}"]`,u=n?`.${n}`:i,c={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let l={};return r!==!1&&(l={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[u]:Object.assign(Object.assign(Object.assign({},l),c),{[i]:c})}},BP=(t,e)=>({outline:`${Vf(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),Z3=(t,e)=>({"&:focus-visible":Object.assign({},BP(t,e))}),Vy=t=>({[`.${t}`]:Object.assign(Object.assign({},NP()),{[`.${t} .${t}-icon`]:{display:"block"}})}),{genStyleHooks:GP,genComponentStyleHook:eR,genSubStyleComponent:tR}=MP({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=se.useContext(mi);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,i]=Va();return{theme:t,realToken:e,hashId:n,token:r,cssVar:i}},useCSP:()=>{const{csp:t}=se.useContext(mi);return t??{}},getResetStyles:(t,e)=>{var n;const r=$P(t);return[r,{"&":r},Vy((n=e==null?void 0:e.prefix.iconPrefixCls)!==null&&n!==void 0?n:qc)]},getCommonStyle:DP,getCompUnitless:()=>zy}),UP=(t,e)=>{const[n,r]=Va();return Kf({token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[Vy(t)])},WP=Object.assign({},Sd),{useId:qg}=WP,HP=()=>"",zP=typeof qg>"u"?HP:qg;function jP(t,e,n){var r;ky();const i=t||{},u=i.inherit===!1||!e?Object.assign(Object.assign({},cd),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:cd.hashed,cssVar:e==null?void 0:e.cssVar}):e,c=zP();return th(()=>{var l,d;if(!t)return e;const p=Object.assign({},u.components);Object.keys(t.components||{}).forEach(E=>{p[E]=Object.assign(Object.assign({},p[E]),t.components[E])});const w=`css-var-${c.replace(/:/g,"")}`,v=((l=i.cssVar)!==null&&l!==void 0?l:u.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof u.cssVar=="object"?u.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((d=i.cssVar)===null||d===void 0?void 0:d.key)||w});return Object.assign(Object.assign(Object.assign({},u),i),{token:Object.assign(Object.assign({},u.token),i.token),components:p,cssVar:v})},[i,u],(l,d)=>l.some((p,w)=>{const v=d[w];return!BT(p,v,!0)}))}var VP=["children"],Xy=se.createContext({});function XP(t){var e=t.children,n=Yo(t,VP);return se.createElement(Xy.Provider,{value:n},e)}var YP=function(t){jc(n,t);var e=Vc(n);function n(){return yi(this,n),e.apply(this,arguments)}return vi(n,[{key:"render",value:function(){return this.props.children}}]),n}(se.Component);function KP(t){var e=se.useReducer(function(l){return l+1},0),n=et(e,2),r=n[1],i=se.useRef(t),u=dd(function(){return i.current}),c=dd(function(l){i.current=typeof l=="function"?l(i.current):l,r()});return[u,c]}var yo="none",Yu="appear",Ku="enter",Qu="leave",Jg="none",Jr="prepare",bs="start",Ss="active",dh="end",Yy="prepared";function Zg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function QP(t,e){var n={animationend:Zg("Animation","AnimationEnd"),transitionend:Zg("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var qP=QP(Vi(),typeof window<"u"?window:{}),Ky={};if(Vi()){var JP=document.createElement("div");Ky=JP.style}var qu={};function Qy(t){if(qu[t])return qu[t];var e=qP[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var u=n[i];if(Object.prototype.hasOwnProperty.call(e,u)&&u in Ky)return qu[t]=e[u],qu[t]}return""}var qy=Qy("animationend"),Jy=Qy("transitionend"),Zy=!!(qy&&Jy),e0=qy||"animationend",t0=Jy||"transitionend";function n0(t,e){if(!t)return null;if(Ct(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const ZP=function(t){var e=se.useRef();function n(i){i&&(i.removeEventListener(t0,t),i.removeEventListener(e0,t))}function r(i){e.current&&e.current!==i&&n(e.current),i&&i!==e.current&&(i.addEventListener(t0,t),i.addEventListener(e0,t),e.current=i)}return se.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var ev=Vi()?se.useLayoutEffect:se.useEffect;const eM=function(){var t=se.useRef(null);function e(){Uf.cancel(t.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var u=Uf(function(){i<=1?r({isCanceled:function(){return u!==t.current}}):n(r,i-1)});t.current=u}return se.useEffect(function(){return function(){e()}},[]),[n,e]};var tM=[Jr,bs,Ss,dh],nM=[Jr,Yy],tv=!1,rM=!0;function nv(t){return t===Ss||t===dh}const iM=function(t,e,n){var r=hd(Jg),i=et(r,2),u=i[0],c=i[1],l=eM(),d=et(l,2),p=d[0],w=d[1];function v(){c(Jr,!0)}var E=e?nM:tM;return ev(function(){if(u!==Jg&&u!==dh){var C=E.indexOf(u),L=E[C+1],k=n(u);k===tv?c(L,!0):L&&p(function(N){function W(){N.isCanceled()||c(L,!0)}k===!0?W():Promise.resolve(k).then(W)})}},[t,u]),se.useEffect(function(){return function(){w()}},[]),[v,u]};function oM(t,e,n,r){var i=r.motionEnter,u=i===void 0?!0:i,c=r.motionAppear,l=c===void 0?!0:c,d=r.motionLeave,p=d===void 0?!0:d,w=r.motionDeadline,v=r.motionLeaveImmediately,E=r.onAppearPrepare,C=r.onEnterPrepare,L=r.onLeavePrepare,k=r.onAppearStart,N=r.onEnterStart,W=r.onLeaveStart,Q=r.onAppearActive,H=r.onEnterActive,ie=r.onLeaveActive,le=r.onAppearEnd,ne=r.onEnterEnd,de=r.onLeaveEnd,we=r.onVisibleChanged,R=hd(),X=et(R,2),V=X[0],re=X[1],ue=KP(yo),ee=et(ue,2),Ee=ee[0],j=ee[1],te=hd(null),me=et(te,2),Me=me[0],Oe=me[1],Le=Ee(),Fe=se.useRef(!1),ot=se.useRef(null);function it(){return n()}var Ke=se.useRef(!1);function yt(){j(yo),Oe(null,!0)}var Nt=dd(function(st){var _t=Ee();if(_t!==yo){var nn=it();if(!(st&&!st.deadline&&st.target!==nn)){var bt=Ke.current,Bt;_t===Yu&&bt?Bt=le==null?void 0:le(nn,st):_t===Ku&&bt?Bt=ne==null?void 0:ne(nn,st):_t===Qu&&bt&&(Bt=de==null?void 0:de(nn,st)),bt&&Bt!==!1&&yt()}}}),kn=ZP(Nt),an=et(kn,1),pn=an[0],Wn=function(_t){switch(_t){case Yu:return Ve(Ve(Ve({},Jr,E),bs,k),Ss,Q);case Ku:return Ve(Ve(Ve({},Jr,C),bs,N),Ss,H);case Qu:return Ve(Ve(Ve({},Jr,L),bs,W),Ss,ie);default:return{}}},Wt=se.useMemo(function(){return Wn(Le)},[Le]),wn=iM(Le,!t,function(st){if(st===Jr){var _t=Wt[Jr];return _t?_t(it()):tv}if(tn in Wt){var nn;Oe(((nn=Wt[tn])===null||nn===void 0?void 0:nn.call(Wt,it(),null))||null)}return tn===Ss&&Le!==yo&&(pn(it()),w>0&&(clearTimeout(ot.current),ot.current=setTimeout(function(){Nt({deadline:!0})},w))),tn===Yy&&yt(),rM}),Ht=et(wn,2),An=Ht[0],tn=Ht[1],Vt=nv(tn);Ke.current=Vt;var Hn=se.useRef(null);ev(function(){if(!(Fe.current&&Hn.current===e)){re(e);var st=Fe.current;Fe.current=!0;var _t;!st&&e&&l&&(_t=Yu),st&&e&&u&&(_t=Ku),(st&&!e&&p||!st&&v&&!e&&p)&&(_t=Qu);var nn=Wn(_t);_t&&(t||nn[Jr])?(j(_t),An()):j(yo),Hn.current=e}},[e]),se.useEffect(function(){(Le===Yu&&!l||Le===Ku&&!u||Le===Qu&&!p)&&j(yo)},[l,u,p]),se.useEffect(function(){return function(){Fe.current=!1,clearTimeout(ot.current)}},[]);var yr=se.useRef(!1);se.useEffect(function(){V&&(yr.current=!0),V!==void 0&&Le===yo&&((yr.current||V)&&(we==null||we(V)),yr.current=!0)},[V,Le]);var gn=Me;return Wt[Jr]&&tn===bs&&(gn=Be({transition:"none"},gn)),[Le,tn,gn,V??e]}function sM(t){var e=t;Ct(t)==="object"&&(e=t.transitionSupport);function n(i,u){return!!(i.motionName&&e&&u!==!1)}var r=se.forwardRef(function(i,u){var c=i.visible,l=c===void 0?!0:c,d=i.removeOnLeave,p=d===void 0?!0:d,w=i.forceRender,v=i.children,E=i.motionName,C=i.leavedClassName,L=i.eventProps,k=se.useContext(Xy),N=k.motion,W=n(i,N),Q=se.useRef(),H=se.useRef();function ie(){try{return Q.current instanceof HTMLElement?Q.current:AT(H.current)}catch{return null}}var le=oM(W,l,ie,i),ne=et(le,4),de=ne[0],we=ne[1],R=ne[2],X=ne[3],V=se.useRef(X);X&&(V.current=!0);var re=se.useCallback(function(me){Q.current=me,ny(u,me)},[u]),ue,ee=Be(Be({},L),{},{visible:l});if(!v)ue=null;else if(de===yo)X?ue=v(Be({},ee),re):!p&&V.current&&C?ue=v(Be(Be({},ee),{},{className:C}),re):w||!p&&!C?ue=v(Be(Be({},ee),{},{style:{display:"none"}}),re):ue=null;else{var Ee;we===Jr?Ee="prepare":nv(we)?Ee="active":we===bs&&(Ee="start");var j=n0(E,"".concat(de,"-").concat(Ee));ue=v(Be(Be({},ee),{},{className:Zr(n0(E,de),Ve(Ve({},j,j&&Ee),E,typeof E=="string")),style:R}),re)}if(se.isValidElement(ue)&&ry(ue)){var te=PT(ue);te||(ue=se.cloneElement(ue,{ref:re}))}return se.createElement(YP,{ref:H},ue)});return r.displayName="CSSMotion",r}const aM=sM(Zy);var gd="add",md="keep",yd="remove",_f="removed";function uM(t){var e;return t&&Ct(t)==="object"&&"key"in t?e=t:e={key:t},Be(Be({},e),{},{key:String(e.key)})}function vd(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(uM)}function cM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=e.length,u=vd(t),c=vd(e);u.forEach(function(p){for(var w=!1,v=r;v<i;v+=1){var E=c[v];if(E.key===p.key){r<v&&(n=n.concat(c.slice(r,v).map(function(C){return Be(Be({},C),{},{status:gd})})),r=v),n.push(Be(Be({},E),{},{status:md})),r+=1,w=!0;break}}w||n.push(Be(Be({},p),{},{status:yd}))}),r<i&&(n=n.concat(c.slice(r).map(function(p){return Be(Be({},p),{},{status:gd})})));var l={};n.forEach(function(p){var w=p.key;l[w]=(l[w]||0)+1});var d=Object.keys(l).filter(function(p){return l[p]>1});return d.forEach(function(p){n=n.filter(function(w){var v=w.key,E=w.status;return v!==p||E!==yd}),n.forEach(function(w){w.key===p&&(w.status=md)})}),n}var lM=["component","children","onVisibleChanged","onAllRemoved"],fM=["status"],dM=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function hM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aM,n=function(r){jc(u,r);var i=Vc(u);function u(){var c;yi(this,u);for(var l=arguments.length,d=new Array(l),p=0;p<l;p++)d[p]=arguments[p];return c=i.call.apply(i,[this].concat(d)),Ve(zo(c),"state",{keyEntities:[]}),Ve(zo(c),"removeKey",function(w){c.setState(function(v){var E=v.keyEntities.map(function(C){return C.key!==w?C:Be(Be({},C),{},{status:_f})});return{keyEntities:E}},function(){var v=c.state.keyEntities,E=v.filter(function(C){var L=C.status;return L!==_f}).length;E===0&&c.props.onAllRemoved&&c.props.onAllRemoved()})}),c}return vi(u,[{key:"render",value:function(){var l=this,d=this.state.keyEntities,p=this.props,w=p.component,v=p.children,E=p.onVisibleChanged;p.onAllRemoved;var C=Yo(p,lM),L=w||se.Fragment,k={};return dM.forEach(function(N){k[N]=C[N],delete C[N]}),delete C.keys,se.createElement(L,C,d.map(function(N,W){var Q=N.status,H=Yo(N,fM),ie=Q===gd||Q===md;return se.createElement(e,or({},k,{key:H.key,visible:ie,eventProps:H,onVisibleChanged:function(ne){E==null||E(ne,{key:H.key}),ne||l.removeKey(H.key)}}),function(le,ne){return v(Be(Be({},le),{},{index:W}),ne)})}))}}],[{key:"getDerivedStateFromProps",value:function(l,d){var p=l.keys,w=d.keyEntities,v=vd(p),E=cM(w,v);return{keyEntities:E.filter(function(C){var L=w.find(function(k){var N=k.key;return C.key===N});return!(L&&L.status===_f&&C.status===yd)})}}}]),u}(se.Component);return Ve(n,"defaultProps",{component:"div"}),n}const pM=hM(Zy);function gM(t){const{children:e}=t,[,n]=Va(),{motion:r}=n,i=se.useRef(!1);return i.current=i.current||r===!1,i.current?se.createElement(XP,{motion:r},e):e}const mM=()=>null;var yM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const vM=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let gc,rv,iv,ov;function uc(){return gc||ld}function wM(){return rv||qc}function xM(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const bM=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:i}=t;e!==void 0&&(gc=e),n!==void 0&&(rv=n),"holderRender"in t&&(ov=i),r&&(xM(r)?gP(uc(),r):iv=r)},SM=()=>({getPrefixCls:(t,e)=>e||(t?`${uc()}-${t}`:uc()),getIconPrefixCls:wM,getRootPrefixCls:()=>gc||uc(),getTheme:()=>iv,holderRender:ov}),EM=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:u,form:c,locale:l,componentSize:d,direction:p,space:w,splitter:v,virtual:E,dropdownMatchSelectWidth:C,popupMatchSelectWidth:L,popupOverflow:k,legacyLocale:N,parentContext:W,iconPrefixCls:Q,theme:H,componentDisabled:ie,segmented:le,statistic:ne,spin:de,calendar:we,carousel:R,cascader:X,collapse:V,typography:re,checkbox:ue,descriptions:ee,divider:Ee,drawer:j,skeleton:te,steps:me,image:Me,layout:Oe,list:Le,mentions:Fe,modal:ot,progress:it,result:Ke,slider:yt,breadcrumb:Nt,menu:kn,pagination:an,input:pn,textArea:Wn,empty:Wt,badge:wn,radio:Ht,rate:An,switch:tn,transfer:Vt,avatar:Hn,message:yr,tag:gn,table:st,card:_t,tabs:nn,timeline:bt,timePicker:Bt,upload:vt,notification:wi,tree:xn,colorPicker:xi,datePicker:bi,rangePicker:Yi,flex:Ki,wave:Qi,dropdown:qi,warning:Wr,tour:Si,tooltip:Hr,popover:Ei,popconfirm:$s,floatButtonGroup:Ji,variant:ri,inputNumber:vr,treeSelect:Zo}=t,Zi=se.useCallback((Qt,rn)=>{const{prefixCls:Cn}=t;if(rn)return rn;const Rn=Cn||W.getPrefixCls("");return Qt?`${Rn}-${Qt}`:Rn},[W.getPrefixCls,t.prefixCls]),ii=Q||W.iconPrefixCls||qc,oi=n||W.csp;UP(ii,oi);const eo=jP(H,W.theme,{prefixCls:Zi("")}),Ai={csp:oi,autoInsertSpaceInButton:r,alert:i,anchor:u,locale:l||N,direction:p,space:w,splitter:v,virtual:E,popupMatchSelectWidth:L??C,popupOverflow:k,getPrefixCls:Zi,iconPrefixCls:ii,theme:eo,segmented:le,statistic:ne,spin:de,calendar:we,carousel:R,cascader:X,collapse:V,typography:re,checkbox:ue,descriptions:ee,divider:Ee,drawer:j,skeleton:te,steps:me,image:Me,input:pn,textArea:Wn,layout:Oe,list:Le,mentions:Fe,modal:ot,progress:it,result:Ke,slider:yt,breadcrumb:Nt,menu:kn,pagination:an,empty:Wt,badge:wn,radio:Ht,rate:An,switch:tn,transfer:Vt,avatar:Hn,message:yr,tag:gn,table:st,card:_t,tabs:nn,timeline:bt,timePicker:Bt,upload:vt,notification:wi,tree:xn,colorPicker:xi,datePicker:bi,rangePicker:Yi,flex:Ki,wave:Qi,dropdown:qi,warning:Wr,tour:Si,tooltip:Hr,popover:Ei,popconfirm:$s,floatButtonGroup:Ji,variant:ri,inputNumber:vr,treeSelect:Zo},si=Object.assign({},W);Object.keys(Ai).forEach(Qt=>{Ai[Qt]!==void 0&&(si[Qt]=Ai[Qt])}),vM.forEach(Qt=>{const rn=t[Qt];rn&&(si[Qt]=rn)}),typeof r<"u"&&(si.button=Object.assign({autoInsertSpace:r},si.button));const ai=th(()=>si,si,(Qt,rn)=>{const Cn=Object.keys(Qt),Rn=Object.keys(rn);return Cn.length!==Rn.length||Cn.some(zr=>Qt[zr]!==rn[zr])}),{layer:to}=se.useContext(ja),sr=se.useMemo(()=>({prefixCls:ii,csp:oi,layer:to?"antd":void 0}),[ii,oi,to]);let Kt=se.createElement(se.Fragment,null,se.createElement(mM,{dropdownMatchSelectWidth:C}),e);const es=se.useMemo(()=>{var Qt,rn,Cn,Rn;return UL(((Qt=Qc.Form)===null||Qt===void 0?void 0:Qt.defaultValidateMessages)||{},((Cn=(rn=ai.locale)===null||rn===void 0?void 0:rn.Form)===null||Cn===void 0?void 0:Cn.defaultValidateMessages)||{},((Rn=ai.form)===null||Rn===void 0?void 0:Rn.validateMessages)||{},(c==null?void 0:c.validateMessages)||{})},[ai,c==null?void 0:c.validateMessages]);Object.keys(es).length>0&&(Kt=se.createElement(zL.Provider,{value:es},Kt)),l&&(Kt=se.createElement(QL,{locale:l,_ANT_MARK__:KL},Kt)),Kt=se.createElement(lh.Provider,{value:sr},Kt),d&&(Kt=se.createElement(yP,{size:d},Kt)),Kt=se.createElement(gM,null,Kt);const mn=se.useMemo(()=>{const Qt=eo||{},{algorithm:rn,token:Cn,components:Rn,cssVar:zr}=Qt,ts=yM(Qt,["algorithm","token","components","cssVar"]),_n=rn&&(!Array.isArray(rn)||rn.length>0)?zf(rn):Dy,Ci={};Object.entries(Rn||{}).forEach(zn=>{let[Ds,_i]=zn;const Qn=Object.assign({},_i);"algorithm"in Qn&&(Qn.algorithm===!0?Qn.theme=_n:(Array.isArray(Qn.algorithm)||typeof Qn.algorithm=="function")&&(Qn.theme=zf(Qn.algorithm)),delete Qn.algorithm),Ci[Ds]=Qn});const On=Object.assign(Object.assign({},Pa),Cn);return Object.assign(Object.assign({},ts),{theme:_n,token:On,components:Ci,override:Object.assign({override:On},Ci),cssVar:zr})},[eo]);return H&&(Kt=se.createElement(By.Provider,{value:mn},Kt)),ai.warning&&(Kt=se.createElement(HL.Provider,{value:ai.warning},Kt)),ie!==void 0&&(Kt=se.createElement(mP,{disabled:ie},Kt)),se.createElement(mi.Provider,{value:ai},Kt)},Fs=t=>{const e=se.useContext(mi),n=se.useContext(Oy);return se.createElement(EM,Object.assign({parentContext:e,legacyLocale:n},t))};Fs.ConfigContext=mi;Fs.SizeContext=Ia;Fs.config=bM;Fs.useConfig=vP;Object.defineProperty(Fs,"SizeContext",{get:()=>Ia});var AM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function sv(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function CM(t){return sv(t)instanceof ShadowRoot}function _M(t){return CM(t)?sv(t):null}function TM(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function LM(t,e){za(t,"[@ant-design/icons] ".concat(e))}function r0(t){return Ct(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(Ct(t.icon)==="object"||typeof t.icon=="function")}function i0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[TM(n)]=r}return e},{})}function wd(t,e,n){return n?Yt.createElement(t.tag,Be(Be({key:e},i0(t.attrs)),n),(t.children||[]).map(function(r,i){return wd(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):Yt.createElement(t.tag,Be({key:e},i0(t.attrs)),(t.children||[]).map(function(r,i){return wd(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function av(t){return Ma(t)[0]}function uv(t){return t?Array.isArray(t)?t:[t]:[]}var PM=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,MM=function(e){var n=se.useContext(lh),r=n.csp,i=n.prefixCls,u=n.layer,c=PM;i&&(c=c.replace(/anticon/g,i)),u&&(c="@layer ".concat(u,` {
`).concat(c,`
}`)),se.useEffect(function(){var l=e.current,d=_M(l);jo(c,"@ant-design-icons",{prepend:!u,csp:r,attachTo:d})},[])},IM=["icon","className","onClick","style","primaryColor","secondaryColor"],Ca={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function kM(t){var e=t.primaryColor,n=t.secondaryColor;Ca.primaryColor=e,Ca.secondaryColor=n||av(e),Ca.calculated=!!n}function RM(){return Be({},Ca)}var Ns=function(e){var n=e.icon,r=e.className,i=e.onClick,u=e.style,c=e.primaryColor,l=e.secondaryColor,d=Yo(e,IM),p=se.useRef(),w=Ca;if(c&&(w={primaryColor:c,secondaryColor:l||av(c)}),MM(p),LM(r0(n),"icon should be icon definiton, but got ".concat(n)),!r0(n))return null;var v=n;return v&&typeof v.icon=="function"&&(v=Be(Be({},v),{},{icon:v.icon(w.primaryColor,w.secondaryColor)})),wd(v.icon,"svg-".concat(v.name),Be(Be({className:r,onClick:i,style:u,"data-icon":v.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},d),{},{ref:p}))};Ns.displayName="IconReact";Ns.getTwoToneColors=RM;Ns.setTwoToneColors=kM;function cv(t){var e=uv(t),n=et(e,2),r=n[0],i=n[1];return Ns.setTwoToneColors({primaryColor:r,secondaryColor:i})}function OM(){var t=Ns.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var FM=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];cv(pc.primary);var Xi=se.forwardRef(function(t,e){var n=t.className,r=t.icon,i=t.spin,u=t.rotate,c=t.tabIndex,l=t.onClick,d=t.twoToneColor,p=Yo(t,FM),w=se.useContext(lh),v=w.prefixCls,E=v===void 0?"anticon":v,C=w.rootClassName,L=Zr(C,E,Ve(Ve({},"".concat(E,"-").concat(r.name),!!r.name),"".concat(E,"-spin"),!!i||r.name==="loading"),n),k=c;k===void 0&&l&&(k=-1);var N=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,W=uv(d),Q=et(W,2),H=Q[0],ie=Q[1];return se.createElement("span",or({role:"img","aria-label":r.name},p,{ref:e,tabIndex:k,onClick:l,className:L}),se.createElement(Ns,{icon:r,primaryColor:H,secondaryColor:ie,style:N}))});Xi.displayName="AntdIcon";Xi.getTwoToneColor=OM;Xi.setTwoToneColor=cv;var NM=function(e,n){return se.createElement(Xi,or({},e,{ref:n,icon:AM}))},$M=se.forwardRef(NM),DM={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},BM=function(e,n){return se.createElement(Xi,or({},e,{ref:n,icon:DM}))},GM=se.forwardRef(BM),UM={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},WM=function(e,n){return se.createElement(Xi,or({},e,{ref:n,icon:UM}))},HM=se.forwardRef(WM),zM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},jM=function(e,n){return se.createElement(Xi,or({},e,{ref:n,icon:zM}))},VM=se.forwardRef(jM),XM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},YM=function(e,n){return se.createElement(Xi,or({},e,{ref:n,icon:XM}))},KM=se.forwardRef(YM),QM=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,qM=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,JM="".concat(QM," ").concat(qM).split(/[\s\n]+/),ZM="aria-",eI="data-";function o0(t,e){return t.indexOf(e)===0}function tI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=Be({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||o0(i,ZM))||n.data&&o0(i,eI)||n.attr&&JM.includes(i))&&(r[i]=t[i])}),r}const lv=t=>{const[,,,,e]=Va();return e?`${t}-css-var`:""};var nI={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},fv=se.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.className,u=t.duration,c=u===void 0?4.5:u,l=t.showProgress,d=t.pauseOnHover,p=d===void 0?!0:d,w=t.eventKey,v=t.content,E=t.closable,C=t.closeIcon,L=C===void 0?"x":C,k=t.props,N=t.onClick,W=t.onNoticeClose,Q=t.times,H=t.hovering,ie=se.useState(!1),le=et(ie,2),ne=le[0],de=le[1],we=se.useState(0),R=et(we,2),X=R[0],V=R[1],re=se.useState(0),ue=et(re,2),ee=ue[0],Ee=ue[1],j=H||ne,te=c>0&&l,me=function(){W(w)},Me=function(Ke){(Ke.key==="Enter"||Ke.code==="Enter"||Ke.keyCode===nI.ENTER)&&me()};se.useEffect(function(){if(!j&&c>0){var it=Date.now()-ee,Ke=setTimeout(function(){me()},c*1e3-ee);return function(){p&&clearTimeout(Ke),Ee(Date.now()-it)}}},[c,j,Q]),se.useEffect(function(){if(!j&&te&&(p||ee===0)){var it=performance.now(),Ke,yt=function Nt(){cancelAnimationFrame(Ke),Ke=requestAnimationFrame(function(kn){var an=kn+ee-it,pn=Math.min(an/(c*1e3),1);V(pn*100),pn<1&&Nt()})};return yt(),function(){p&&cancelAnimationFrame(Ke)}}},[c,ee,j,te,Q]);var Oe=se.useMemo(function(){return Ct(E)==="object"&&E!==null?E:E?{closeIcon:L}:{}},[E,L]),Le=tI(Oe,!0),Fe=100-(!X||X<0?0:X>100?100:X),ot="".concat(n,"-notice");return se.createElement("div",or({},k,{ref:e,className:Zr(ot,i,Ve({},"".concat(ot,"-closable"),E)),style:r,onMouseEnter:function(Ke){var yt;de(!0),k==null||(yt=k.onMouseEnter)===null||yt===void 0||yt.call(k,Ke)},onMouseLeave:function(Ke){var yt;de(!1),k==null||(yt=k.onMouseLeave)===null||yt===void 0||yt.call(k,Ke)},onClick:N}),se.createElement("div",{className:"".concat(ot,"-content")},v),E&&se.createElement("a",or({tabIndex:0,className:"".concat(ot,"-close"),onKeyDown:Me,"aria-label":"Close"},Le,{onClick:function(Ke){Ke.preventDefault(),Ke.stopPropagation(),me()}}),Oe.closeIcon),te&&se.createElement("progress",{className:"".concat(ot,"-progress"),max:"100",value:Fe},Fe+"%"))}),dv=Yt.createContext({}),rI=function(e){var n=e.children,r=e.classNames;return Yt.createElement(dv.Provider,{value:{classNames:r}},n)},s0=8,a0=3,u0=16,iI=function(e){var n={offset:s0,threshold:a0,gap:u0};if(e&&Ct(e)==="object"){var r,i,u;n.offset=(r=e.offset)!==null&&r!==void 0?r:s0,n.threshold=(i=e.threshold)!==null&&i!==void 0?i:a0,n.gap=(u=e.gap)!==null&&u!==void 0?u:u0}return[!!e,n]},oI=["className","style","classNames","styles"],sI=function(e){var n=e.configList,r=e.placement,i=e.prefixCls,u=e.className,c=e.style,l=e.motion,d=e.onAllNoticeRemoved,p=e.onNoticeClose,w=e.stack,v=se.useContext(dv),E=v.classNames,C=se.useRef({}),L=se.useState(null),k=et(L,2),N=k[0],W=k[1],Q=se.useState([]),H=et(Q,2),ie=H[0],le=H[1],ne=n.map(function(j){return{config:j,key:String(j.key)}}),de=iI(w),we=et(de,2),R=we[0],X=we[1],V=X.offset,re=X.threshold,ue=X.gap,ee=R&&(ie.length>0||ne.length<=re),Ee=typeof l=="function"?l(r):l;return se.useEffect(function(){R&&ie.length>1&&le(function(j){return j.filter(function(te){return ne.some(function(me){var Me=me.key;return te===Me})})})},[ie,ne,R]),se.useEffect(function(){var j;if(R&&C.current[(j=ne[ne.length-1])===null||j===void 0?void 0:j.key]){var te;W(C.current[(te=ne[ne.length-1])===null||te===void 0?void 0:te.key])}},[ne,R]),Yt.createElement(pM,or({key:r,className:Zr(i,"".concat(i,"-").concat(r),E==null?void 0:E.list,u,Ve(Ve({},"".concat(i,"-stack"),!!R),"".concat(i,"-stack-expanded"),ee)),style:c,keys:ne,motionAppear:!0},Ee,{onAllRemoved:function(){d(r)}}),function(j,te){var me=j.config,Me=j.className,Oe=j.style,Le=j.index,Fe=me,ot=Fe.key,it=Fe.times,Ke=String(ot),yt=me,Nt=yt.className,kn=yt.style,an=yt.classNames,pn=yt.styles,Wn=Yo(yt,oI),Wt=ne.findIndex(function(bt){return bt.key===Ke}),wn={};if(R){var Ht=ne.length-1-(Wt>-1?Wt:Le-1),An=r==="top"||r==="bottom"?"-50%":"0";if(Ht>0){var tn,Vt,Hn;wn.height=ee?(tn=C.current[Ke])===null||tn===void 0?void 0:tn.offsetHeight:N==null?void 0:N.offsetHeight;for(var yr=0,gn=0;gn<Ht;gn++){var st;yr+=((st=C.current[ne[ne.length-1-gn].key])===null||st===void 0?void 0:st.offsetHeight)+ue}var _t=(ee?yr:Ht*V)*(r.startsWith("top")?1:-1),nn=!ee&&N!==null&&N!==void 0&&N.offsetWidth&&(Vt=C.current[Ke])!==null&&Vt!==void 0&&Vt.offsetWidth?((N==null?void 0:N.offsetWidth)-V*2*(Ht<3?Ht:3))/((Hn=C.current[Ke])===null||Hn===void 0?void 0:Hn.offsetWidth):1;wn.transform="translate3d(".concat(An,", ").concat(_t,"px, 0) scaleX(").concat(nn,")")}else wn.transform="translate3d(".concat(An,", 0, 0)")}return Yt.createElement("div",{ref:te,className:Zr("".concat(i,"-notice-wrapper"),Me,an==null?void 0:an.wrapper),style:Be(Be(Be({},Oe),wn),pn==null?void 0:pn.wrapper),onMouseEnter:function(){return le(function(Bt){return Bt.includes(Ke)?Bt:[].concat(mr(Bt),[Ke])})},onMouseLeave:function(){return le(function(Bt){return Bt.filter(function(vt){return vt!==Ke})})}},Yt.createElement(fv,or({},Wn,{ref:function(Bt){Wt>-1?C.current[Ke]=Bt:delete C.current[Ke]},prefixCls:i,classNames:an,styles:pn,className:Zr(Nt,E==null?void 0:E.notice),style:kn,times:it,key:ot,eventKey:ot,onNoticeClose:p,hovering:R&&ie.length>0})))})},aI=se.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-notification":n,i=t.container,u=t.motion,c=t.maxCount,l=t.className,d=t.style,p=t.onAllRemoved,w=t.stack,v=t.renderNotifications,E=se.useState([]),C=et(E,2),L=C[0],k=C[1],N=function(R){var X,V=L.find(function(re){return re.key===R});V==null||(X=V.onClose)===null||X===void 0||X.call(V),k(function(re){return re.filter(function(ue){return ue.key!==R})})};se.useImperativeHandle(e,function(){return{open:function(R){k(function(X){var V=mr(X),re=V.findIndex(function(Ee){return Ee.key===R.key}),ue=Be({},R);if(re>=0){var ee;ue.times=(((ee=X[re])===null||ee===void 0?void 0:ee.times)||0)+1,V[re]=ue}else ue.times=0,V.push(ue);return c>0&&V.length>c&&(V=V.slice(-c)),V})},close:function(R){N(R)},destroy:function(){k([])}}});var W=se.useState({}),Q=et(W,2),H=Q[0],ie=Q[1];se.useEffect(function(){var we={};L.forEach(function(R){var X=R.placement,V=X===void 0?"topRight":X;V&&(we[V]=we[V]||[],we[V].push(R))}),Object.keys(H).forEach(function(R){we[R]=we[R]||[]}),ie(we)},[L]);var le=function(R){ie(function(X){var V=Be({},X),re=V[R]||[];return re.length||delete V[R],V})},ne=se.useRef(!1);if(se.useEffect(function(){Object.keys(H).length>0?ne.current=!0:ne.current&&(p==null||p(),ne.current=!1)},[H]),!i)return null;var de=Object.keys(H);return y2.createPortal(se.createElement(se.Fragment,null,de.map(function(we){var R=H[we],X=se.createElement(sI,{key:we,configList:R,placement:we,prefixCls:r,className:l==null?void 0:l(we),style:d==null?void 0:d(we),motion:u,onNoticeClose:N,onAllNoticeRemoved:le,stack:w});return v?v(X,{prefixCls:r,key:we}):X})),i)}),uI=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],cI=function(){return document.body},c0=0;function lI(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(i){i&&Object.keys(i).forEach(function(u){var c=i[u];c!==void 0&&(t[u]=c)})}),t}function fI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,n=e===void 0?cI:e,r=t.motion,i=t.prefixCls,u=t.maxCount,c=t.className,l=t.style,d=t.onAllRemoved,p=t.stack,w=t.renderNotifications,v=Yo(t,uI),E=se.useState(),C=et(E,2),L=C[0],k=C[1],N=se.useRef(),W=se.createElement(aI,{container:L,ref:N,prefixCls:i,motion:r,maxCount:u,className:c,style:l,onAllRemoved:d,stack:p,renderNotifications:w}),Q=se.useState([]),H=et(Q,2),ie=H[0],le=H[1],ne=se.useMemo(function(){return{open:function(we){var R=lI(v,we);(R.key===null||R.key===void 0)&&(R.key="rc-notification-".concat(c0),c0+=1),le(function(X){return[].concat(mr(X),[{type:"open",config:R}])})},close:function(we){le(function(R){return[].concat(mr(R),[{type:"close",key:we}])})},destroy:function(){le(function(we){return[].concat(mr(we),[{type:"destroy"}])})}}},[]);return se.useEffect(function(){k(n())}),se.useEffect(function(){if(N.current&&ie.length){ie.forEach(function(R){switch(R.type){case"open":N.current.open(R.config);break;case"close":N.current.close(R.key);break;case"destroy":N.current.destroy();break}});var de,we;le(function(R){return(de!==R||!we)&&(de=R,we=R.filter(function(X){return!ie.includes(X)})),we})}},[ie]),[ne,W]}var dI={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},hI=function(e,n){return se.createElement(Xi,or({},e,{ref:n,icon:dI}))},pI=se.forwardRef(hI);const gI=Yt.createContext(void 0),vo=100,mI=10,yI=vo*mI,hv={Modal:vo,Drawer:vo,Popover:vo,Popconfirm:vo,Tooltip:vo,Tour:vo,FloatButton:vo},vI={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function wI(t){return t in hv}const nR=(t,e)=>{const[,n]=Va(),r=Yt.useContext(gI),i=wI(t);let u;if(e!==void 0)u=[e,e];else{let c=r??0;i?c+=(r?0:n.zIndexPopupBase)+hv[t]:c+=vI[t],u=[r===void 0?e:c,c]}return u},xI=t=>{const{componentCls:e,iconCls:n,boxShadow:r,colorText:i,colorSuccess:u,colorError:c,colorWarning:l,colorInfo:d,fontSizeLG:p,motionEaseInOutCirc:w,motionDurationSlow:v,marginXS:E,paddingXS:C,borderRadiusLG:L,zIndexPopup:k,contentPadding:N,contentBg:W}=t,Q=`${e}-notice`,H=new Fg("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:C,transform:"translateY(0)",opacity:1}}),ie=new Fg("MessageMoveOut",{"0%":{maxHeight:t.height,padding:C,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),le={padding:C,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${n}`]:{marginInlineEnd:E,fontSize:p},[`${Q}-content`]:{display:"inline-block",padding:N,background:W,borderRadius:L,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${n}`]:{color:u},[`${e}-error > ${n}`]:{color:c},[`${e}-warning > ${n}`]:{color:l},[`${e}-info > ${n},
      ${e}-loading > ${n}`]:{color:d}};return[{[e]:Object.assign(Object.assign({},FP(t)),{color:i,position:"fixed",top:E,width:"100%",pointerEvents:"none",zIndex:k,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:H,animationDuration:v,animationPlayState:"paused",animationTimingFunction:w},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:ie,animationDuration:v,animationPlayState:"paused",animationTimingFunction:w},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${Q}-wrapper`]:Object.assign({},le)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},le),{padding:0,textAlign:"start"})}]},bI=t=>({zIndexPopup:t.zIndexPopupBase+yI+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),pv=GP("Message",t=>{const e=fh(t,{height:150});return[xI(e)]},bI);var SI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const EI={info:se.createElement(KM,null),success:se.createElement($M,null),error:se.createElement(GM,null),warning:se.createElement(VM,null),loading:se.createElement(pI,null)},gv=t=>{let{prefixCls:e,type:n,icon:r,children:i}=t;return se.createElement("div",{className:Zr(`${e}-custom-content`,`${e}-${n}`)},r||EI[n],se.createElement("span",null,i))},AI=t=>{const{prefixCls:e,className:n,type:r,icon:i,content:u}=t,c=SI(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=se.useContext(mi),d=e||l("message"),p=lv(d),[w,v,E]=pv(d,p);return w(se.createElement(fv,Object.assign({},c,{prefixCls:d,className:Zr(n,v,`${d}-notice-pure-panel`,E,p),eventKey:"pure",duration:null,content:se.createElement(gv,{prefixCls:d,type:r,icon:i},u)})))};function CI(t,e){return{motionName:e??`${t}-move-up`}}function hh(t){let e;const n=new Promise(i=>{e=t(()=>{i(!0)})}),r=()=>{e==null||e()};return r.then=(i,u)=>n.then(i,u),r.promise=n,r}var _I=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const TI=8,LI=3,PI=t=>{let{children:e,prefixCls:n}=t;const r=lv(n),[i,u,c]=pv(n,r);return i(se.createElement(rI,{classNames:{list:Zr(u,c,r)}},e))},MI=(t,e)=>{let{prefixCls:n,key:r}=e;return se.createElement(PI,{prefixCls:n,key:r},t)},II=se.forwardRef((t,e)=>{const{top:n,prefixCls:r,getContainer:i,maxCount:u,duration:c=LI,rtl:l,transitionName:d,onAllRemoved:p}=t,{getPrefixCls:w,getPopupContainer:v,message:E,direction:C}=se.useContext(mi),L=r||w("message"),k=()=>({left:"50%",transform:"translateX(-50%)",top:n??TI}),N=()=>Zr({[`${L}-rtl`]:l??C==="rtl"}),W=()=>CI(L,d),Q=se.createElement("span",{className:`${L}-close-x`},se.createElement(HM,{className:`${L}-close-icon`})),[H,ie]=fI({prefixCls:L,style:k,className:N,motion:W,closable:!1,closeIcon:Q,duration:c,getContainer:()=>(i==null?void 0:i())||(v==null?void 0:v())||document.body,maxCount:u,onAllRemoved:p,renderNotifications:MI});return se.useImperativeHandle(e,()=>Object.assign(Object.assign({},H),{prefixCls:L,message:E})),ie});let l0=0;function mv(t){const e=se.useRef(null);return ky(),[se.useMemo(()=>{const r=d=>{var p;(p=e.current)===null||p===void 0||p.close(d)},i=d=>{if(!e.current){const ne=()=>{};return ne.then=()=>{},ne}const{open:p,prefixCls:w,message:v}=e.current,E=`${w}-notice`,{content:C,icon:L,type:k,key:N,className:W,style:Q,onClose:H}=d,ie=_I(d,["content","icon","type","key","className","style","onClose"]);let le=N;return le==null&&(l0+=1,le=`antd-message-${l0}`),hh(ne=>(p(Object.assign(Object.assign({},ie),{key:le,content:se.createElement(gv,{prefixCls:w,type:k,icon:L},C),placement:"top",className:Zr(k&&`${E}-${k}`,W,v==null?void 0:v.className),style:Object.assign(Object.assign({},v==null?void 0:v.style),Q),onClose:()=>{H==null||H(),ne()}})),()=>{r(le)}))},c={open:i,destroy:d=>{var p;d!==void 0?r(d):(p=e.current)===null||p===void 0||p.destroy()}};return["info","success","warning","error","loading"].forEach(d=>{const p=(w,v,E)=>{let C;w&&typeof w=="object"&&"content"in w?C=w:C={content:w};let L,k;typeof v=="function"?k=v:(L=v,k=E);const N=Object.assign(Object.assign({onClose:k,duration:L},C),{type:d});return i(N)};c[d]=p}),c},[]),se.createElement(II,Object.assign({key:"message-holder"},t,{ref:e}))]}function kI(t){return mv(t)}function ka(){ka=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(j,te,me){j[te]=me.value},u=typeof Symbol=="function"?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function p(j,te,me){return Object.defineProperty(j,te,{value:me,enumerable:!0,configurable:!0,writable:!0}),j[te]}try{p({},"")}catch{p=function(me,Me,Oe){return me[Me]=Oe}}function w(j,te,me,Me){var Oe=te&&te.prototype instanceof W?te:W,Le=Object.create(Oe.prototype),Fe=new ee(Me||[]);return i(Le,"_invoke",{value:X(j,me,Fe)}),Le}function v(j,te,me){try{return{type:"normal",arg:j.call(te,me)}}catch(Me){return{type:"throw",arg:Me}}}e.wrap=w;var E="suspendedStart",C="suspendedYield",L="executing",k="completed",N={};function W(){}function Q(){}function H(){}var ie={};p(ie,c,function(){return this});var le=Object.getPrototypeOf,ne=le&&le(le(Ee([])));ne&&ne!==n&&r.call(ne,c)&&(ie=ne);var de=H.prototype=W.prototype=Object.create(ie);function we(j){["next","throw","return"].forEach(function(te){p(j,te,function(me){return this._invoke(te,me)})})}function R(j,te){function me(Oe,Le,Fe,ot){var it=v(j[Oe],j,Le);if(it.type!=="throw"){var Ke=it.arg,yt=Ke.value;return yt&&Ct(yt)=="object"&&r.call(yt,"__await")?te.resolve(yt.__await).then(function(Nt){me("next",Nt,Fe,ot)},function(Nt){me("throw",Nt,Fe,ot)}):te.resolve(yt).then(function(Nt){Ke.value=Nt,Fe(Ke)},function(Nt){return me("throw",Nt,Fe,ot)})}ot(it.arg)}var Me;i(this,"_invoke",{value:function(Le,Fe){function ot(){return new te(function(it,Ke){me(Le,Fe,it,Ke)})}return Me=Me?Me.then(ot,ot):ot()}})}function X(j,te,me){var Me=E;return function(Oe,Le){if(Me===L)throw Error("Generator is already running");if(Me===k){if(Oe==="throw")throw Le;return{value:t,done:!0}}for(me.method=Oe,me.arg=Le;;){var Fe=me.delegate;if(Fe){var ot=V(Fe,me);if(ot){if(ot===N)continue;return ot}}if(me.method==="next")me.sent=me._sent=me.arg;else if(me.method==="throw"){if(Me===E)throw Me=k,me.arg;me.dispatchException(me.arg)}else me.method==="return"&&me.abrupt("return",me.arg);Me=L;var it=v(j,te,me);if(it.type==="normal"){if(Me=me.done?k:C,it.arg===N)continue;return{value:it.arg,done:me.done}}it.type==="throw"&&(Me=k,me.method="throw",me.arg=it.arg)}}}function V(j,te){var me=te.method,Me=j.iterator[me];if(Me===t)return te.delegate=null,me==="throw"&&j.iterator.return&&(te.method="return",te.arg=t,V(j,te),te.method==="throw")||me!=="return"&&(te.method="throw",te.arg=new TypeError("The iterator does not provide a '"+me+"' method")),N;var Oe=v(Me,j.iterator,te.arg);if(Oe.type==="throw")return te.method="throw",te.arg=Oe.arg,te.delegate=null,N;var Le=Oe.arg;return Le?Le.done?(te[j.resultName]=Le.value,te.next=j.nextLoc,te.method!=="return"&&(te.method="next",te.arg=t),te.delegate=null,N):Le:(te.method="throw",te.arg=new TypeError("iterator result is not an object"),te.delegate=null,N)}function re(j){var te={tryLoc:j[0]};1 in j&&(te.catchLoc=j[1]),2 in j&&(te.finallyLoc=j[2],te.afterLoc=j[3]),this.tryEntries.push(te)}function ue(j){var te=j.completion||{};te.type="normal",delete te.arg,j.completion=te}function ee(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(re,this),this.reset(!0)}function Ee(j){if(j||j===""){var te=j[c];if(te)return te.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var me=-1,Me=function Oe(){for(;++me<j.length;)if(r.call(j,me))return Oe.value=j[me],Oe.done=!1,Oe;return Oe.value=t,Oe.done=!0,Oe};return Me.next=Me}}throw new TypeError(Ct(j)+" is not iterable")}return Q.prototype=H,i(de,"constructor",{value:H,configurable:!0}),i(H,"constructor",{value:Q,configurable:!0}),Q.displayName=p(H,d,"GeneratorFunction"),e.isGeneratorFunction=function(j){var te=typeof j=="function"&&j.constructor;return!!te&&(te===Q||(te.displayName||te.name)==="GeneratorFunction")},e.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,H):(j.__proto__=H,p(j,d,"GeneratorFunction")),j.prototype=Object.create(de),j},e.awrap=function(j){return{__await:j}},we(R.prototype),p(R.prototype,l,function(){return this}),e.AsyncIterator=R,e.async=function(j,te,me,Me,Oe){Oe===void 0&&(Oe=Promise);var Le=new R(w(j,te,me,Me),Oe);return e.isGeneratorFunction(te)?Le:Le.next().then(function(Fe){return Fe.done?Fe.value:Le.next()})},we(de),p(de,d,"Generator"),p(de,c,function(){return this}),p(de,"toString",function(){return"[object Generator]"}),e.keys=function(j){var te=Object(j),me=[];for(var Me in te)me.push(Me);return me.reverse(),function Oe(){for(;me.length;){var Le=me.pop();if(Le in te)return Oe.value=Le,Oe.done=!1,Oe}return Oe.done=!0,Oe}},e.values=Ee,ee.prototype={constructor:ee,reset:function(te){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(ue),!te)for(var me in this)me.charAt(0)==="t"&&r.call(this,me)&&!isNaN(+me.slice(1))&&(this[me]=t)},stop:function(){this.done=!0;var te=this.tryEntries[0].completion;if(te.type==="throw")throw te.arg;return this.rval},dispatchException:function(te){if(this.done)throw te;var me=this;function Me(Ke,yt){return Fe.type="throw",Fe.arg=te,me.next=Ke,yt&&(me.method="next",me.arg=t),!!yt}for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var Le=this.tryEntries[Oe],Fe=Le.completion;if(Le.tryLoc==="root")return Me("end");if(Le.tryLoc<=this.prev){var ot=r.call(Le,"catchLoc"),it=r.call(Le,"finallyLoc");if(ot&&it){if(this.prev<Le.catchLoc)return Me(Le.catchLoc,!0);if(this.prev<Le.finallyLoc)return Me(Le.finallyLoc)}else if(ot){if(this.prev<Le.catchLoc)return Me(Le.catchLoc,!0)}else{if(!it)throw Error("try statement without catch or finally");if(this.prev<Le.finallyLoc)return Me(Le.finallyLoc)}}}},abrupt:function(te,me){for(var Me=this.tryEntries.length-1;Me>=0;--Me){var Oe=this.tryEntries[Me];if(Oe.tryLoc<=this.prev&&r.call(Oe,"finallyLoc")&&this.prev<Oe.finallyLoc){var Le=Oe;break}}Le&&(te==="break"||te==="continue")&&Le.tryLoc<=me&&me<=Le.finallyLoc&&(Le=null);var Fe=Le?Le.completion:{};return Fe.type=te,Fe.arg=me,Le?(this.method="next",this.next=Le.finallyLoc,N):this.complete(Fe)},complete:function(te,me){if(te.type==="throw")throw te.arg;return te.type==="break"||te.type==="continue"?this.next=te.arg:te.type==="return"?(this.rval=this.arg=te.arg,this.method="return",this.next="end"):te.type==="normal"&&me&&(this.next=me),N},finish:function(te){for(var me=this.tryEntries.length-1;me>=0;--me){var Me=this.tryEntries[me];if(Me.finallyLoc===te)return this.complete(Me.completion,Me.afterLoc),ue(Me),N}},catch:function(te){for(var me=this.tryEntries.length-1;me>=0;--me){var Me=this.tryEntries[me];if(Me.tryLoc===te){var Oe=Me.completion;if(Oe.type==="throw"){var Le=Oe.arg;ue(Me)}return Le}}throw Error("illegal catch attempt")},delegateYield:function(te,me,Me){return this.delegate={iterator:Ee(te),resultName:me,nextLoc:Me},this.method==="next"&&(this.arg=t),N}},e}function f0(t,e,n,r,i,u,c){try{var l=t[u](c),d=l.value}catch(p){return void n(p)}l.done?e(d):Promise.resolve(d).then(r,i)}function yv(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var u=t.apply(e,n);function c(d){f0(u,r,i,c,l,"next",d)}function l(d){f0(u,r,i,c,l,"throw",d)}c(void 0)})}}var Xa=Be({},v2),RI=Xa.version,Tf=Xa.render,OI=Xa.unmountComponentAtNode,Jc;try{var FI=Number((RI||"").split(".")[0]);FI>=18&&(Jc=Xa.createRoot)}catch{}function d0(t){var e=Xa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Ct(e)==="object"&&(e.usingClientEntryPoint=t)}var mc="__rc_react_root__";function NI(t,e){d0(!0);var n=e[mc]||Jc(e);d0(!1),n.render(t),e[mc]=n}function $I(t,e){Tf==null||Tf(t,e)}function DI(t,e){if(Jc){NI(t,e);return}$I(t,e)}function BI(t){return xd.apply(this,arguments)}function xd(){return xd=yv(ka().mark(function t(e){return ka().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[mc])===null||i===void 0||i.unmount(),delete e[mc]}));case 1:case"end":return r.stop()}},t)})),xd.apply(this,arguments)}function GI(t){OI(t)}function UI(t){return bd.apply(this,arguments)}function bd(){return bd=yv(ka().mark(function t(e){return ka().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(Jc===void 0){r.next=2;break}return r.abrupt("return",BI(e));case 2:GI(e);case 3:case"end":return r.stop()}},t)})),bd.apply(this,arguments)}const WI=(t,e)=>(DI(t,e),()=>UI(e));let HI=WI;function zI(){return HI}const jI=Yt.createContext({});let Fr=null,Wo=t=>t(),Ra=[],Oa={};function h0(){const{getContainer:t,duration:e,rtl:n,maxCount:r,top:i}=Oa,u=(t==null?void 0:t())||document.body;return{getContainer:()=>u,duration:e,rtl:n,maxCount:r,top:i}}const VI=Yt.forwardRef((t,e)=>{const{messageConfig:n,sync:r}=t,{getPrefixCls:i}=se.useContext(mi),u=Oa.prefixCls||i("message"),c=se.useContext(jI),[l,d]=mv(Object.assign(Object.assign(Object.assign({},n),{prefixCls:u}),c.message));return Yt.useImperativeHandle(e,()=>{const p=Object.assign({},l);return Object.keys(p).forEach(w=>{p[w]=function(){return r(),l[w].apply(l,arguments)}}),{instance:p,sync:r}}),d}),XI=Yt.forwardRef((t,e)=>{const[n,r]=Yt.useState(h0),i=()=>{r(h0)};Yt.useEffect(i,[]);const u=SM(),c=u.getRootPrefixCls(),l=u.getIconPrefixCls(),d=u.getTheme(),p=Yt.createElement(VI,{ref:e,sync:i,messageConfig:n});return Yt.createElement(Fs,{prefixCls:c,iconPrefixCls:l,theme:d},u.holderRender?u.holderRender(p):p)});function Zc(){if(!Fr){const t=document.createDocumentFragment(),e={fragment:t};Fr=e,Wo(()=>{zI()(Yt.createElement(XI,{ref:r=>{const{instance:i,sync:u}=r||{};Promise.resolve().then(()=>{!e.instance&&i&&(e.instance=i,e.sync=u,Zc())})}}),t)});return}Fr.instance&&(Ra.forEach(t=>{const{type:e,skipped:n}=t;if(!n)switch(e){case"open":{Wo(()=>{const r=Fr.instance.open(Object.assign(Object.assign({},Oa),t.config));r==null||r.then(t.resolve),t.setCloseFn(r)});break}case"destroy":Wo(()=>{Fr==null||Fr.instance.destroy(t.key)});break;default:Wo(()=>{var r;const i=(r=Fr.instance)[e].apply(r,mr(t.args));i==null||i.then(t.resolve),t.setCloseFn(i)})}}),Ra=[])}function YI(t){Oa=Object.assign(Object.assign({},Oa),t),Wo(()=>{var e;(e=Fr==null?void 0:Fr.sync)===null||e===void 0||e.call(Fr)})}function KI(t){const e=hh(n=>{let r;const i={type:"open",config:t,resolve:n,setCloseFn:u=>{r=u}};return Ra.push(i),()=>{r?Wo(()=>{r()}):i.skipped=!0}});return Zc(),e}function QI(t,e){const n=hh(r=>{let i;const u={type:t,args:e,resolve:r,setCloseFn:c=>{i=c}};return Ra.push(u),()=>{i?Wo(()=>{i()}):u.skipped=!0}});return Zc(),n}const qI=t=>{Ra.push({type:"destroy",key:t}),Zc()},JI=["success","info","warning","error","loading"],ZI={open:KI,destroy:qI,config:YI,useMessage:kI,_InternalPanelDoNotUseOrYouWillBeFired:AI},ek=ZI;JI.forEach(t=>{ek[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return QI(t,n)}});export{mr as $,Rk as A,Rc as B,Fk as C,em as D,GP as E,FP as F,Vf as G,Q3 as H,Zr as I,tI as J,aM as K,ke as L,LT as M,GM as N,KM as O,Qd as P,$M as Q,VM as R,L0 as S,HM as T,MT as U,dc as V,iy as W,jc as X,vi as Y,yi as Z,ik as _,w0 as a,Ga as a$,Fg as a0,hd as a1,z3 as a2,Be as a3,Ct as a4,or as a5,et as a6,OT as a7,nI as a8,Vi as a9,Co as aA,Ad as aB,J2 as aC,Gt as aD,ck as aE,O2 as aF,Wa as aG,Y2 as aH,y0 as aI,ni as aJ,fk as aK,qo as aL,J0 as aM,En as aN,xk as aO,H3 as aP,ek as aQ,Ts as aR,oT as aS,oE as aT,W3 as aU,M2 as aV,sT as aW,t3 as aX,hk as aY,pI as aZ,Ua as a_,fh as aa,mi as ab,dd as ac,X3 as ad,mP as ae,Z3 as af,lv as ag,nR as ah,gI as ai,tR as aj,J3 as ak,Fs as al,Va as am,yI as an,SM as ao,zI as ap,Qc as aq,Xi as ar,Yo as as,za as at,Ve as au,yy as av,P3 as aw,Zt as ax,_a as ay,l3 as az,qk as b,o3 as b$,Ea as b0,T3 as b1,L3 as b2,iT as b3,QE as b4,$r as b5,aE as b6,Gd as b7,U_ as b8,H2 as b9,Ao as bA,IE as bB,dk as bC,Tc as bD,R2 as bE,lk as bF,uk as bG,bE as bH,jk as bI,p0 as bJ,NA as bK,ff as bL,fd as bM,ok as bN,U2 as bO,Fd as bP,wA as bQ,xA as bR,g3 as bS,SA as bT,m3 as bU,Jk as bV,Zk as bW,RE as bX,_3 as bY,y3 as bZ,_A as b_,Uf as ba,PT as bb,ry as bc,th as bd,BT as be,Vc as bf,j3 as bg,BP as bh,q3 as bi,hn as bj,NP as bk,ky as bl,wk as bm,Gi as bn,d3 as bo,zi as bp,fm as bq,Z0 as br,yA as bs,Ec as bt,vA as bu,Gk as bv,en as bw,vE as bx,wE as by,xE as bz,Ik as c,n3 as c$,Vk as c0,_c as c1,Cc as c2,iE as c3,Xo as c4,So as c5,_d as c6,Wk as c7,nE as c8,Hk as c9,vT as cA,DL as cB,Oy as cC,eR as cD,ld as cE,oP as cF,Xu as cG,Y3 as cH,V3 as cI,Un as cJ,Ba as cK,v3 as cL,e3 as cM,N3 as cN,h_ as cO,$3 as cP,rg as cQ,pk as cR,tg as cS,z2 as cT,mk as cU,Pf as cV,kd as cW,i3 as cX,b3 as cY,pm as cZ,Eo as c_,C3 as ca,B0 as cb,H0 as cc,fc as cd,rT as ce,rE as cf,Uk as cg,b2 as ch,Qm as ci,V_ as cj,u3 as ck,Rd as cl,iA as cm,p3 as cn,rA as co,c3 as cp,ak as cq,O0 as cr,F0 as cs,r3 as ct,Ak as cu,Ck as cv,_k as cw,Tk as cx,$k as cy,h3 as cz,m0 as d,bg as d$,A0 as d0,Dk as d1,D0 as d2,G2 as d3,AA as d4,cm as d5,Sk as d6,bk as d7,Q2 as d8,W2 as d9,Pk as dA,w3 as dB,Yk as dC,IA as dD,D3 as dE,E3 as dF,M3 as dG,q0 as dH,Xk as dI,Qk as dJ,dm as dK,F3 as dL,TE as dM,Kk as dN,mT as dO,AT as dP,Ia as dQ,jo as dR,py as dS,Bf as dT,zo as dU,yv as dV,ka as dW,UL as dX,Qf as dY,xf as dZ,ny as d_,mA as da,Pd as db,ag as dc,x3 as dd,s3 as de,K2 as df,P0 as dg,M0 as dh,Z2 as di,I3 as dj,k3 as dk,df as dl,u_ as dm,kA as dn,O3 as dp,X0 as dq,R3 as dr,Id as ds,V2 as dt,In as du,xc as dv,G0 as dw,Td as dx,Ac as dy,Bd as dz,$0 as e,_M as e0,U3 as e1,Mk as e2,ig as e3,gk as e4,B3 as e5,G3 as e6,Bk as e7,a3 as e8,PA as e9,A3 as ea,Ek as eb,f3 as ec,Lc as ed,fT as ee,gA as ef,zk as eg,PE as eh,Nk as ei,OE as ej,Sc as ek,wg as el,H_ as em,z_ as en,k2 as eo,lT as ep,sk as eq,Od as er,kk as f,g0 as g,Ed as h,N0 as i,rk as j,FE as k,ze as l,Cd as m,yk as n,cf as o,ir as p,Es as q,q2 as r,R0 as s,vk as t,Lk as u,_s as v,S3 as w,yc as x,Ok as y,_0 as z};
