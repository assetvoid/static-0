import{j as t,r as d}from"./index-BpkY95s5.js";import{d as a}from"./index-CsSXPTiX.js";import{w as p}from"./index-B3ckdOIJ.js";import{J as r,am as c}from"./CommonWrapper-BX2t_Qx2.js";import{P as x}from"./index-CR4nQrc0.js";import"./uploadUtil-CtCHnhsg.js";function g({localStore:o,workspaceState:e,shuffleImg:C}){const i=[4,3,2,1.75,1.5,1.25,1,.75,.5,.25,.15,.05],l=()=>t.jsxs("div",{className:"",style:{background:"white",width:100,textAlign:"center",lineHeight:"26px"},children:[i.map((s,h)=>t.jsxs("div",{onClick:()=>n(s),className:s===e.pageScale?"active scaleItem":"scaleItem",children:[s*100,"%"]},h)),t.jsx("div",{className:"scaleItem",onClick:()=>{p({localStore:o,workspaceState:e})},children:"适应屏幕"}),t.jsx("div",{className:"scaleItem",onClick:()=>{n(1)},children:"实际大小"})]}),n=s=>{e.pageScale=s};return t.jsxs("div",{className:"PageController",style:{padding:"0 8px",height:28,lineHeight:"28px",background:"white",borderRadius:6,color:"black",display:"flex",justifyContent:"center",alignItems:"center"},onPointerDown:s=>{s.stopPropagation()},onClick:s=>{s.stopPropagation()},children:[t.jsx(r,{placement:"top",title:"随机交换图片位置",children:t.jsxs("svg",{onClick:()=>{C&&C()},style:{cursor:"pointer",fill:"black"},width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M19.0877 8.35646L17.0527 9.97195C16.6595 10.2841 16.0797 10.0041 16.0797 9.50203V8.53163C15.0721 8.68608 14.2538 9.22416 13.5821 9.94036C12.7738 10.8023 12.2071 11.8946 11.8329 12.7855C10.9744 14.8296 10.0867 16.051 8.97555 16.7315C7.86687 17.4105 6.63324 17.4865 5.27969 17.4865C4.94832 17.4865 4.67969 17.2179 4.67969 16.8865C4.67969 16.5552 4.94832 16.2865 5.27969 16.2865C6.62614 16.2865 7.5525 16.1959 8.34883 15.7082C9.14268 15.222 9.90501 14.2768 10.7265 12.3209C11.1251 11.3719 11.7583 10.131 12.7068 9.1195C13.5483 8.22217 14.6596 7.48511 16.0797 7.32077V6.27104C16.0797 5.76899 16.6595 5.48896 17.0527 5.80112L19.0877 7.41661C19.3903 7.65683 19.3903 8.11625 19.0877 8.35646Z"}),t.jsx("path",{d:"M12.7068 15.0536C12.5683 14.9059 12.4366 14.7534 12.3113 14.5975C12.5114 14.2142 12.7035 13.8036 12.8904 13.3656C13.0982 13.6685 13.3282 13.962 13.5821 14.2327C14.2538 14.9489 15.0721 15.487 16.0797 15.6414V14.4912C16.0797 13.9891 16.6595 13.7091 17.0527 14.0212L19.0877 15.6367C19.3903 15.8769 19.3903 16.3364 19.0877 16.5766L17.0527 18.1921C16.6595 18.5042 16.0797 18.2242 16.0797 17.7221V16.8523C14.6596 16.688 13.5483 15.9509 12.7068 15.0536Z"}),t.jsx("path",{d:"M10.1767 10.673C10.3793 10.2882 10.6145 9.88632 10.8857 9.48739C10.3066 8.53448 9.68687 7.87717 8.97555 7.44153C7.86687 6.76256 6.63324 6.68654 5.27969 6.68654C4.94832 6.68654 4.67969 6.95516 4.67969 7.28654C4.67969 7.61791 4.94832 7.88654 5.27969 7.88654C6.62614 7.88654 7.5525 7.97718 8.34883 8.46487C8.96299 8.841 9.5583 9.49191 10.1767 10.673Z"})]})}),t.jsx("div",{style:{height:"18px",width:"1px",background:"var(--_base--opacity_white_15)",margin:"0 4px"}}),t.jsx(r,{placement:"top",title:"效果预览",children:t.jsx("svg",{style:{cursor:"pointer"},onMouseDown:()=>{e.toolsContainerShow=!1},onMouseUp:()=>{e.toolsContainerShow=!0},width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M8.55483 5.09961L9.14961 5.09961C9.48098 5.09961 9.74961 5.36824 9.74961 5.69961C9.74961 6.03098 9.48098 6.29961 9.14961 6.29961H8.57961C8.06566 6.29961 7.71629 6.30008 7.44623 6.32214C7.18318 6.34363 7.04866 6.38259 6.95482 6.4304C6.72903 6.54545 6.54545 6.72903 6.4304 6.95482C6.38259 7.04866 6.34363 7.18318 6.32214 7.44623C6.30008 7.71629 6.29961 8.06566 6.29961 8.57961V9.14961C6.29961 9.48098 6.03098 9.74961 5.69961 9.74961C5.36824 9.74961 5.09961 9.48098 5.09961 9.14961L5.09961 8.55483C5.0996 8.07185 5.0996 7.67323 5.12613 7.34851C5.15368 7.01126 5.21282 6.70123 5.36119 6.41003C5.59129 5.95844 5.95844 5.59129 6.41003 5.36119C6.70123 5.21282 7.01126 5.15368 7.34851 5.12613C7.67323 5.0996 8.07185 5.0996 8.55483 5.09961ZM16.553 6.32214C16.2829 6.30008 15.9336 6.29961 15.4196 6.29961H14.8496C14.5182 6.29961 14.2496 6.03098 14.2496 5.69961C14.2496 5.36824 14.5182 5.09961 14.8496 5.09961L15.4444 5.09961C15.9274 5.0996 16.326 5.0996 16.6507 5.12613C16.988 5.15368 17.298 5.21282 17.5892 5.36119C18.0408 5.59129 18.4079 5.95844 18.638 6.41003C18.7864 6.70123 18.8455 7.01126 18.8731 7.34851C18.8996 7.67323 18.8996 8.07184 18.8996 8.55482V9.14961C18.8996 9.48098 18.631 9.74961 18.2996 9.74961C17.9682 9.74961 17.6996 9.48098 17.6996 9.14961V8.57961C17.6996 8.06566 17.6991 7.71629 17.6771 7.44623C17.6556 7.18318 17.6166 7.04866 17.5688 6.95482C17.4538 6.72903 17.2702 6.54545 17.0444 6.4304C16.9506 6.38259 16.816 6.34363 16.553 6.32214ZM5.69961 14.2496C6.03098 14.2496 6.29961 14.5182 6.29961 14.8496V15.4196C6.29961 15.9336 6.30008 16.2829 6.32214 16.553C6.34363 16.816 6.38259 16.9506 6.4304 17.0444C6.54545 17.2702 6.72903 17.4538 6.95482 17.5688C7.04866 17.6166 7.18318 17.6556 7.44623 17.6771C7.71629 17.6991 8.06566 17.6996 8.57961 17.6996H9.14961C9.48098 17.6996 9.74961 17.9682 9.74961 18.2996C9.74961 18.631 9.48098 18.8996 9.14961 18.8996H8.55482C8.07184 18.8996 7.67323 18.8996 7.34851 18.8731C7.01126 18.8455 6.70123 18.7864 6.41003 18.638C5.95844 18.4079 5.59129 18.0408 5.36119 17.5892C5.21282 17.298 5.15368 16.988 5.12613 16.6507C5.0996 16.326 5.0996 15.9274 5.09961 15.4444L5.09961 14.8496C5.09961 14.5182 5.36824 14.2496 5.69961 14.2496ZM18.2996 14.2496C18.631 14.2496 18.8996 14.5182 18.8996 14.8496V15.4444C18.8996 15.9274 18.8996 16.326 18.8731 16.6507C18.8455 16.988 18.7864 17.298 18.638 17.5892C18.4079 18.0408 18.0408 18.4079 17.5892 18.638C17.298 18.7864 16.988 18.8455 16.6507 18.8731C16.326 18.8996 15.9274 18.8996 15.4444 18.8996H14.8496C14.5182 18.8996 14.2496 18.631 14.2496 18.2996C14.2496 17.9682 14.5182 17.6996 14.8496 17.6996H15.4196C15.9336 17.6996 16.2829 17.6991 16.553 17.6771C16.816 17.6556 16.9506 17.6166 17.0444 17.5688C17.2702 17.4538 17.4538 17.2702 17.5688 17.0444C17.6166 16.9506 17.6556 16.816 17.6771 16.553C17.6991 16.2829 17.6996 15.9336 17.6996 15.4196V14.8496C17.6996 14.5182 17.9682 14.2496 18.2996 14.2496Z"})})}),t.jsx("div",{style:{height:"18px",width:"1px",background:"var(--_base--opacity_white_15)",margin:"0 4px"}}),t.jsx(r,{placement:"top",title:e.pageScale===.05?"已缩小至最小画布":"缩小",children:t.jsx("svg",{onClick:()=>{e.pageScale<=.14?e.pageScale=.05:e.pageScale-=.1},style:{cursor:"pointer",marginRight:2},width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M5.25 12.0004C5.25 11.669 5.51863 11.4004 5.85 11.4004H18.15C18.4814 11.4004 18.75 11.669 18.75 12.0004C18.75 12.3318 18.4814 12.6004 18.15 12.6004H5.85C5.51863 12.6004 5.25 12.3318 5.25 12.0004Z"})})}),t.jsx(x,{content:l,trigger:"hover",getPopupContainer:s=>s.parentNode,children:t.jsxs("div",{style:{},children:[(e.pageScale*100).toFixed(0),"%"]})}),t.jsx(r,{placement:"top",title:e.pageScale===4?"已放大至最大画布":"放大",children:t.jsx("svg",{style:{cursor:"pointer",marginLeft:2},onClick:()=>{e.pageScale>=3.9?e.pageScale=4:e.pageScale+=.1},width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M11.4008 17.8508C11.4008 18.1822 11.6694 18.4508 12.0008 18.4508C12.3322 18.4508 12.6008 18.1822 12.6008 17.8508V12.6008H17.8508C18.1822 12.6008 18.4508 12.3322 18.4508 12.0008C18.4508 11.6694 18.1822 11.4008 17.8508 11.4008H12.6008V6.15078C12.6008 5.81941 12.3322 5.55078 12.0008 5.55078C11.6694 5.55078 11.4008 5.81941 11.4008 6.15078V11.4008H6.15078C5.81941 11.4008 5.55078 11.6694 5.55078 12.0008C5.55078 12.3322 5.81941 12.6008 6.15078 12.6008H11.4008V17.8508Z"})})}),t.jsx("div",{style:{height:"18px",width:"1px",background:"var(--_base--opacity_white_15)",margin:"0 4px"}}),t.jsx(r,{placement:"top",title:e.navigatorShow?"收起导航器":"展开导航器",children:t.jsx("svg",{style:{cursor:"pointer",fill:"black"},onClick:()=>{e.navigatorShow=!e.navigatorShow},width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M15.4444 5.09961H8.55483C8.07186 5.0996 7.67323 5.0996 7.34852 5.12613C7.01126 5.15368 6.70123 5.21282 6.41003 5.36119C5.95844 5.59129 5.59129 5.95844 5.36119 6.41003C5.21282 6.70123 5.15368 7.01126 5.12613 7.34852C5.0996 7.67323 5.0996 8.07184 5.09961 8.55481V15.4444C5.0996 15.9274 5.0996 16.326 5.12613 16.6507C5.15368 16.988 5.21282 17.298 5.36119 17.5892C5.59129 18.0408 5.95844 18.4079 6.41003 18.638C6.70123 18.7864 7.01126 18.8455 7.34852 18.8731C7.67323 18.8996 8.07184 18.8996 8.55482 18.8996H15.4444C15.9274 18.8996 16.326 18.8996 16.6507 18.8731C16.988 18.8455 17.298 18.7864 17.5892 18.638C18.0408 18.4079 18.4079 18.0408 18.638 17.5892C18.7864 17.298 18.8455 16.988 18.8731 16.6507C18.8996 16.326 18.8996 15.9274 18.8996 15.4444V8.55482C18.8996 8.07184 18.8996 7.67323 18.8731 7.34852C18.8455 7.01126 18.7864 6.70123 18.638 6.41003C18.4079 5.95844 18.0408 5.59129 17.5892 5.36119C17.298 5.21282 16.988 5.15368 16.6507 5.12613C16.326 5.0996 15.9274 5.0996 15.4444 5.09961ZM6.95482 6.4304C7.04866 6.38259 7.18318 6.34363 7.44623 6.32214C7.71629 6.30008 8.06566 6.29961 8.57961 6.29961H15.4196C15.9336 6.29961 16.2829 6.30008 16.553 6.32214C16.816 6.34363 16.9506 6.38259 17.0444 6.4304C17.2702 6.54545 17.4538 6.72903 17.5688 6.95482C17.6166 7.04866 17.6556 7.18318 17.6771 7.44623C17.6991 7.71629 17.6996 8.06566 17.6996 8.57961V15.4196C17.6996 15.9336 17.6991 16.2829 17.6771 16.553C17.6556 16.816 17.6166 16.9506 17.5688 17.0444C17.4538 17.2702 17.2702 17.4538 17.0444 17.5688C16.9506 17.6166 16.816 17.6556 16.553 17.6771C16.2829 17.6991 15.9336 17.6996 15.4196 17.6996H12.8996V14.5548C12.8996 14.0719 12.8996 13.6732 12.8731 13.3485C12.8455 13.0113 12.7864 12.7012 12.638 12.41C12.4079 11.9584 12.0408 11.5913 11.5892 11.3612C11.298 11.2128 10.988 11.1537 10.6507 11.1261C10.326 11.0996 9.92738 11.0996 9.4444 11.0996L6.29961 11.0996V8.57961C6.29961 8.06566 6.30008 7.71629 6.32214 7.44623C6.34363 7.18318 6.38259 7.04866 6.4304 6.95482C6.54545 6.72903 6.72903 6.54545 6.95482 6.4304ZM6.29961 12.2996H9.41961C9.93356 12.2996 10.2829 12.3001 10.553 12.3221C10.816 12.3436 10.9506 12.3826 11.0444 12.4304C11.2702 12.5455 11.4538 12.729 11.5688 12.9548C11.6166 13.0487 11.6556 13.1832 11.6771 13.4462C11.6991 13.7163 11.6996 14.0657 11.6996 14.5796V17.6996H8.57961C8.06566 17.6996 7.71629 17.6991 7.44623 17.6771C7.18318 17.6556 7.04866 17.6166 6.95482 17.5688C6.72903 17.4538 6.54545 17.2702 6.4304 17.0444C6.38259 16.9506 6.34363 16.816 6.32214 16.553C6.30008 16.2829 6.29961 15.9336 6.29961 15.4196V12.2996Z"})})})]})}const w=a(g),b=a(({children:o,navigator:e,shuffleImg:C,localStore:i})=>{function l(){return!0}return i.workspaceExists===!1?null:t.jsxs("div",{className:"WorkspaceWrapper",style:{position:"relative",width:"100%",height:"100%"},children:[t.jsx(c,{localStore:i,hasDefaultPageController:l(),pageController:t.jsx(w,{localStore:i,workspaceState:i.workspaceState,shuffleImg:C}),navigator:e,onDropFilesToWorkspace:()=>{},children:o}),t.jsx("div",{})]})});function V({type:o,children:e,foldChanged:C}){const[i,l]=d.useState(!1);function n(){l(!i),C(!i)}return t.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex"},children:[t.jsx("div",{style:{display:`${o==="left"?"none":"block"}`,position:"absolute",zIndex:"999",left:"-23px",top:"50%",transform:"translateY(-50%)",height:"100%"},children:t.jsxs("div",{style:{position:"relative",width:"23px",height:"100%"},children:[t.jsx("div",{style:{height:"100%",position:"absolute",top:0,right:"0",width:"8px",background:"var(--background--fold_bar)"}}),t.jsx("div",{className:"foldButton",onClick:()=>{n()},style:{position:"absolute",width:"23px",height:"85px",left:"0",top:"50%",transform:`translateY(-50%) rotate(${i?0:180}deg)`,cursor:"pointer"},children:t.jsx("svg",{style:{position:"absolute",left:"6px",top:"50%",transform:"translateY(-50%)"},width:"10",height:"12",viewBox:"0 0 10 12",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M5.77426 2.57613C6.00858 2.81044 6.00858 3.19034 5.77426 3.42465L3.19853 6.00039L5.77426 8.57613C6.00858 8.81044 6.00858 9.19034 5.77426 9.42465C5.53995 9.65897 5.16005 9.65897 4.92574 9.42465L1.92574 6.42465C1.69142 6.19034 1.69142 5.81044 1.92574 5.57613L4.92574 2.57613C5.16005 2.34181 5.53995 2.34181 5.77426 2.57613Z"})})})]})}),t.jsx("div",{style:{width:i?"0":"100%",height:"100%",overflow:"hidden",background:"white"},children:e}),t.jsx("div",{style:{display:`${o==="right"?"none":"block"}`,position:"absolute",zIndex:"999",right:"-23px",top:"50%",transform:"translateY(-50%)",height:"100%"},children:t.jsxs("div",{style:{position:"relative",width:"23px",height:"100%"},children:[t.jsx("div",{style:{height:"100%",position:"absolute",top:0,left:"0",width:"8px",background:"var(--background--fold_bar)"}}),t.jsx("div",{className:"foldButton",onClick:()=>{n()},style:{position:"absolute",width:"23px",height:"85px",left:"0px",top:"50%",transform:`translateY(-50%) rotate(${i?180:0}deg)`,cursor:"pointer"},children:t.jsx("svg",{style:{position:"absolute",left:"6px",top:"50%",transform:"translateY(-50%)"},width:"10",height:"12",viewBox:"0 0 10 12",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M5.77426 2.57613C6.00858 2.81044 6.00858 3.19034 5.77426 3.42465L3.19853 6.00039L5.77426 8.57613C6.00858 8.81044 6.00858 9.19034 5.77426 9.42465C5.53995 9.65897 5.16005 9.65897 4.92574 9.42465L1.92574 6.42465C1.69142 6.19034 1.69142 5.81044 1.92574 5.57613L4.92574 2.57613C5.16005 2.34181 5.53995 2.34181 5.77426 2.57613Z"})})})]})})]})}export{V as F,b as W};
