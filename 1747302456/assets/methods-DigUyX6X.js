import{aE as r,cM as h,bo as m,aB as p,cJ as y,ay as L}from"./index-CMxWa0q9.js";function I({localStore:e,layer:n,text:a,step:t,instanceChain:u}){var s,d;p({localStore:e,node:n,instanceChain:u,step:t,data:{textData(f){f.characters=a}}}),x(e,n,u,t);const i=y(n);e.textLayerOutOfPage===!1&&(i.left>=0&&i.top>=0&&i.left+i.width<=e.props.getPageSize().width&&i.top+i.height<=e.props.getPageSize().height||(e.textLayerOutOfPage=!0)),L({localStore:e,layer:n,instanceChain:u,step:t}),(d=(s=e.props).doAction)==null||d.call(s,t.getNewAction())}function x(e,n,a,t){r({localStore:e,layer:n,step:t,instanceChain:a}),n.parentId&&h(e,n,{step:t}),e.selectedSingleLayer&&m(e,e.selectedSingleLayer)}function T(e){e.layerImageHasTransition=!0,setTimeout(()=>{e.layerImageHasTransition=!1},400)}function g({localStore:e,e:n}){e.menuX=n.pageX,e.menuY=n.pageY,e.menuShow=!0}function M(e,n,a){if(n){if(e.layerWithMenuId===n.id&&e.menuShow){e.menuShow=!1;return}e.layerWithMenuId=n.id,g({localStore:e,e:a})}else e.layerWithMenuId="",g({localStore:e,e:a})}export{x as a,T as c,M as r,g as s,I as u};
