const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pixi-legacy-_fx4_RaV.js","assets/index-B0I6uHAu.js","assets/index-BpkY95s5.js","assets/__vite-browser-external-DTHgcB49.js","assets/index-Ctga1AvS.js","assets/index-BKNjMPK8.js"])))=>i.map(i=>d[i]);
import{o as ze,m as Is,a as mt,f as c2,r as Bu}from"./index-CsSXPTiX.js";import{r as J,c as cs,g as Vo,R as Xt,b as Vp,d as vd,a as l2,e as f2}from"./index-BpkY95s5.js";function DI(t,e){return J.useState(function(){return ze(t(),e,{autoBind:!0})})[0]}const d2="modulepreload",h2=function(t){return"https://cdn.jsdelivr.net/gh/assetvoid/static-0/1746286917/"+t},Xp={},am=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(n.map(h=>{if(h=h2(h),h in Xp)return;Xp[h]=!0;const p=h.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${w}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":d2,p||(x.as="script"),x.crossOrigin="",x.href=h,l&&x.setAttribute("nonce",l),document.head.appendChild(x),p)return new Promise((E,P)=>{x.addEventListener("load",E),x.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${h}`)))})}))}function u(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return o.then(c=>{for(const l of c||[])l.status==="rejected"&&u(l.reason);return e().catch(u)})};var sc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */sc.exports;(function(t,e){(function(){var n,r="4.17.21",o=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",l="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",p=500,w="__lodash_placeholder__",x=1,E=2,P=4,T=1,L=2,N=1,F=2,H=4,$=8,q=16,te=32,re=64,le=128,Ae=256,Z=512,pe=30,ae="...",Ie=800,Fe=16,_e=1,Ye=2,se=3,ie=1/0,he=9007199254740991,Te=17976931348623157e292,ke=NaN,Ee=4294967295,Re=Ee-1,ot=Ee>>>1,it=[["ary",le],["bind",N],["bindKey",F],["curry",$],["curryRight",q],["flip",Z],["partial",te],["partialRight",re],["rearg",Ae]],Ke="[object Arguments]",yt="[object Array]",Nt="[object AsyncFunction]",In="[object Boolean]",an="[object Date]",pn="[object DOMException]",Gn="[object Error]",Ut="[object Function]",wn="[object GeneratorFunction]",Wt="[object Map]",An="[object Number]",en="[object Null]",jt="[object Object]",Un="[object Promise]",yr="[object Proxy]",gn="[object RegExp]",at="[object Set]",_t="[object String]",tn="[object Symbol]",xt="[object Undefined]",Dt="[object WeakMap]",vt="[object WeakSet]",bi="[object ArrayBuffer]",bn="[object DataView]",xi="[object Float32Array]",Si="[object Float64Array]",Yi="[object Int8Array]",Ki="[object Int16Array]",Qi="[object Int32Array]",qi="[object Uint8Array]",Wr="[object Uint8ClampedArray]",Ei="[object Uint16Array]",zr="[object Uint32Array]",Ai=/\b__p \+= '';/g,Ma=/\b(__p \+=) '' \+/g,Ji=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ni=/&(?:amp|lt|gt|quot|#39);/g,vr=/[&<>"']/g,Ko=RegExp(ni.source),Zi=RegExp(vr.source),ri=/<%-([\s\S]+?)%>/g,ii=/<%([\s\S]+?)%>/g,eo=/<%=([\s\S]+?)%>/g,Ci=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oi=/^\w*$/,ai=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,to=/[\\^$.*+?()[\]{}|]/g,ar=RegExp(to.source),Yt=/^\s+/,Qo=/\s/,mn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Kt=/\{\n\/\* \[wrapped with (.+)\] \*/,nn=/,? & /,Cn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kn=/[()=,{}\[\]\/\s]/,Hr=/\\(\\)?/g,qo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_n=/\w*$/,_i=/^[-+]0x[0-9a-f]+$/i,Rn=/^0b[01]+$/i,Wn=/^\[object .+?Constructor\]$/,Ia=/^0o[0-7]+$/i,Ti=/^(?:0|[1-9]\d*)$/,Kn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jo=/($^)/,Zc=/['\n\r\u2028\u2029\\]/g,On="\\ud800-\\udfff",sr="\\u0300-\\u036f",Hs="\\ufe20-\\ufe2f",el="\\u20d0-\\u20ff",js=sr+Hs+el,Vs="\\u2700-\\u27bf",Xs="a-z\\xdf-\\xf6\\xf8-\\xff",tl="\\xac\\xb1\\xd7\\xf7",nl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rl="\\u2000-\\u206f",Zo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Eo="A-Z\\xc0-\\xd6\\xd8-\\xde",ka="\\ufe0e\\ufe0f",Ys=tl+nl+rl+Zo,Ra="['’]",Ks="["+On+"]",Qs="["+Ys+"]",Ao="["+js+"]",qs="\\d+",il="["+Vs+"]",Js="["+Xs+"]",Oa="[^"+On+Ys+qs+Vs+Xs+Eo+"]",no="\\ud83c[\\udffb-\\udfff]",wr="(?:"+Ao+"|"+no+")",Co="[^"+On+"]",Li="(?:\\ud83c[\\udde6-\\uddff]){2}",zn="[\\ud800-\\udbff][\\udc00-\\udfff]",Tn="["+Eo+"]",_o="\\u200d",br="(?:"+Js+"|"+Oa+")",Pi="(?:"+Tn+"|"+Oa+")",si="(?:"+Ra+"(?:d|ll|m|re|s|t|ve))?",Na="(?:"+Ra+"(?:D|LL|M|RE|S|T|VE))?",$a=wr+"?",Ba="["+ka+"]?",$t="(?:"+_o+"(?:"+[Co,Li,zn].join("|")+")"+Ba+$a+")*",ro="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ol="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zs=Ba+$a+$t,eu="(?:"+[il,Li,zn].join("|")+")"+Zs,al="(?:"+[Co+Ao+"?",Ao,Li,zn,Ks].join("|")+")",ut=RegExp(Ra,"g"),ea=RegExp(Ao,"g"),To=RegExp(no+"(?="+no+")|"+al+Zs,"g"),tu=RegExp([Tn+"?"+Js+"+"+si+"(?="+[Qs,Tn,"$"].join("|")+")",Pi+"+"+Na+"(?="+[Qs,Tn+br,"$"].join("|")+")",Tn+"?"+br+"+"+si,Tn+"+"+Na,ol,ro,qs,eu].join("|"),"g"),Da=RegExp("["+_o+On+js+ka+"]"),sl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ru=-1,Pt={};Pt[xi]=Pt[Si]=Pt[Yi]=Pt[Ki]=Pt[Qi]=Pt[qi]=Pt[Wr]=Pt[Ei]=Pt[zr]=!0,Pt[Ke]=Pt[yt]=Pt[bi]=Pt[In]=Pt[bn]=Pt[an]=Pt[Gn]=Pt[Ut]=Pt[Wt]=Pt[An]=Pt[jt]=Pt[gn]=Pt[at]=Pt[_t]=Pt[Dt]=!1;var Rt={};Rt[Ke]=Rt[yt]=Rt[bi]=Rt[bn]=Rt[In]=Rt[an]=Rt[xi]=Rt[Si]=Rt[Yi]=Rt[Ki]=Rt[Qi]=Rt[Wt]=Rt[An]=Rt[jt]=Rt[gn]=Rt[at]=Rt[_t]=Rt[tn]=Rt[qi]=Rt[Wr]=Rt[Ei]=Rt[zr]=!0,Rt[Gn]=Rt[Ut]=Rt[Dt]=!1;var io={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},iu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ou={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Lo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},au=parseFloat,ta=parseInt,na=typeof cs=="object"&&cs&&cs.Object===Object&&cs,At=typeof self=="object"&&self&&self.Object===Object&&self,zt=na||At||Function("return this")(),Mi=e&&!e.nodeType&&e,_r=Mi&&!0&&t&&!t.nodeType&&t,Ga=_r&&_r.exports===Mi,ra=Ga&&na.process,ur=function(){try{var K=_r&&_r.require&&_r.require("util").types;return K||ra&&ra.binding&&ra.binding("util")}catch{}}(),su=ur&&ur.isArrayBuffer,Ua=ur&&ur.isDate,Po=ur&&ur.isMap,Y=ur&&ur.isRegExp,Hn=ur&&ur.isSet,uu=ur&&ur.isTypedArray;function Qn(K,fe,oe){switch(oe.length){case 0:return K.call(fe);case 1:return K.call(fe,oe[0]);case 2:return K.call(fe,oe[0],oe[1]);case 3:return K.call(fe,oe[0],oe[1],oe[2])}return K.apply(fe,oe)}function ul(K,fe,oe,$e){for(var nt=-1,Et=K==null?0:K.length;++nt<Et;){var rn=K[nt];fe($e,rn,oe(rn),K)}return $e}function Fn(K,fe){for(var oe=-1,$e=K==null?0:K.length;++oe<$e&&fe(K[oe],oe,K)!==!1;);return K}function jr(K,fe){for(var oe=K==null?0:K.length;oe--&&fe(K[oe],oe,K)!==!1;);return K}function Wa(K,fe){for(var oe=-1,$e=K==null?0:K.length;++oe<$e;)if(!fe(K[oe],oe,K))return!1;return!0}function Vt(K,fe){for(var oe=-1,$e=K==null?0:K.length,nt=0,Et=[];++oe<$e;){var rn=K[oe];fe(rn,oe,K)&&(Et[nt++]=rn)}return Et}function sn(K,fe){var oe=K==null?0:K.length;return!!oe&&oo(K,fe,0)>-1}function yn(K,fe,oe){for(var $e=-1,nt=K==null?0:K.length;++$e<nt;)if(oe(fe,K[$e]))return!0;return!1}function Ht(K,fe){for(var oe=-1,$e=K==null?0:K.length,nt=Array($e);++oe<$e;)nt[oe]=fe(K[oe],oe,K);return nt}function ui(K,fe){for(var oe=-1,$e=fe.length,nt=K.length;++oe<$e;)K[nt+oe]=fe[oe];return K}function za(K,fe,oe,$e){var nt=-1,Et=K==null?0:K.length;for($e&&Et&&(oe=K[++nt]);++nt<Et;)oe=fe(oe,K[nt],nt,K);return oe}function cl(K,fe,oe,$e){var nt=K==null?0:K.length;for($e&&nt&&(oe=K[--nt]);nt--;)oe=fe(oe,K[nt],nt,K);return oe}function Ha(K,fe){for(var oe=-1,$e=K==null?0:K.length;++oe<$e;)if(fe(K[oe],oe,K))return!0;return!1}var ll=ja("length");function fl(K){return K.split("")}function dl(K){return K.match(Cn)||[]}function cu(K,fe,oe){var $e;return oe(K,function(nt,Et,rn){if(fe(nt,Et,rn))return $e=Et,!1}),$e}function ia(K,fe,oe,$e){for(var nt=K.length,Et=oe+($e?1:-1);$e?Et--:++Et<nt;)if(fe(K[Et],Et,K))return Et;return-1}function oo(K,fe,oe){return fe===fe?uo(K,fe,oe):ia(K,lu,oe)}function hl(K,fe,oe,$e){for(var nt=oe-1,Et=K.length;++nt<Et;)if($e(K[nt],fe))return nt;return-1}function lu(K){return K!==K}function fu(K,fe){var oe=K==null?0:K.length;return oe?f(K,fe)/oe:ke}function ja(K){return function(fe){return fe==null?n:fe[K]}}function ao(K){return function(fe){return K==null?n:K[fe]}}function Va(K,fe,oe,$e,nt){return nt(K,function(Et,rn,Ot){oe=$e?($e=!1,Et):fe(oe,Et,rn,Ot)}),oe}function a(K,fe){var oe=K.length;for(K.sort(fe);oe--;)K[oe]=K[oe].value;return K}function f(K,fe){for(var oe,$e=-1,nt=K.length;++$e<nt;){var Et=fe(K[$e]);Et!==n&&(oe=oe===n?Et:oe+Et)}return oe}function m(K,fe){for(var oe=-1,$e=Array(K);++oe<K;)$e[oe]=fe(oe);return $e}function v(K,fe){return Ht(fe,function(oe){return[oe,K[oe]]})}function A(K){return K&&K.slice(0,Ln(K)+1).replace(Yt,"")}function k(K){return function(fe){return K(fe)}}function z(K,fe){return Ht(fe,function(oe){return K[oe]})}function O(K,fe){return K.has(fe)}function B(K,fe){for(var oe=-1,$e=K.length;++oe<$e&&oo(fe,K[oe],0)>-1;);return oe}function j(K,fe){for(var oe=K.length;oe--&&oo(fe,K[oe],0)>-1;);return oe}function ge(K,fe){for(var oe=K.length,$e=0;oe--;)K[oe]===fe&&++$e;return $e}var be=ao(io),Ge=ao(iu);function ee(K){return"\\"+Lo[K]}function We(K,fe){return K==null?n:K[fe]}function tt(K){return Da.test(K)}function rt(K){return sl.test(K)}function jn(K){for(var fe,oe=[];!(fe=K.next()).done;)oe.push(fe.value);return oe}function un(K){var fe=-1,oe=Array(K.size);return K.forEach(function($e,nt){oe[++fe]=[nt,$e]}),oe}function so(K,fe){return function(oe){return K(fe(oe))}}function cr(K,fe){for(var oe=-1,$e=K.length,nt=0,Et=[];++oe<$e;){var rn=K[oe];(rn===fe||rn===w)&&(K[oe]=w,Et[nt++]=oe)}return Et}function lr(K){var fe=-1,oe=Array(K.size);return K.forEach(function($e){oe[++fe]=$e}),oe}function Xa(K){var fe=-1,oe=Array(K.size);return K.forEach(function($e){oe[++fe]=[$e,$e]}),oe}function uo(K,fe,oe){for(var $e=oe-1,nt=K.length;++$e<nt;)if(K[$e]===fe)return $e;return-1}function Ya(K,fe,oe){for(var $e=oe+1;$e--;)if(K[$e]===fe)return $e;return $e}function Nn(K){return tt(K)?du(K):ll(K)}function qn(K){return tt(K)?Vr(K):fl(K)}function Ln(K){for(var fe=K.length;fe--&&Qo.test(K.charAt(fe)););return fe}var Mt=ao(ou);function du(K){for(var fe=To.lastIndex=0;To.test(K);)++fe;return fe}function Vr(K){return K.match(To)||[]}function Ka(K){return K.match(tu)||[]}var co=function K(fe){fe=fe==null?zt:Ii.defaults(zt.Object(),fe,Ii.pick(zt,nu));var oe=fe.Array,$e=fe.Date,nt=fe.Error,Et=fe.Function,rn=fe.Math,Ot=fe.Object,lt=fe.RegExp,Mo=fe.String,fr=fe.TypeError,y=oe.prototype,g=Et.prototype,S=Ot.prototype,M=fe["__core-js_shared__"],U=g.toString,V=S.hasOwnProperty,ue=0,Ce=function(){var i=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),He=S.toString,Ve=U.call(Ot),pt=zt._,dt=lt("^"+U.call(V).replace(to,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=Ga?fe.Buffer:n,de=fe.Symbol,st=fe.Uint8Array,Tt=G?G.allocUnsafe:n,Qt=so(Ot.getPrototypeOf,Ot),Jn=Ot.create,Zn=S.propertyIsEnumerable,cn=y.splice,we=de?de.isConcatSpreadable:n,C=de?de.iterator:n,D=de?de.toStringTag:n,ne=function(){try{var i=Fo(Ot,"defineProperty");return i({},"",{}),i}catch{}}(),ce=fe.clearTimeout!==zt.clearTimeout&&fe.clearTimeout,ye=$e&&$e.now!==zt.Date.now&&$e.now,Se=fe.setTimeout!==zt.setTimeout&&fe.setTimeout,De=rn.ceil,Lt=rn.floor,It=Ot.getOwnPropertySymbols,Tr=G?G.isBuffer:n,lo=fe.isFinite,dv=y.join,hv=so(Ot.keys,Ot),xn=rn.max,Vn=rn.min,pv=$e.now,gv=fe.parseInt,ch=rn.random,mv=y.reverse,pl=Fo(fe,"DataView"),Qa=Fo(fe,"Map"),gl=Fo(fe,"Promise"),oa=Fo(fe,"Set"),qa=Fo(fe,"WeakMap"),Ja=Fo(Ot,"create"),hu=qa&&new qa,aa={},yv=No(pl),vv=No(Qa),wv=No(gl),bv=No(oa),xv=No(qa),pu=de?de.prototype:n,Za=pu?pu.valueOf:n,lh=pu?pu.toString:n;function I(i){if(on(i)&&!ct(i)&&!(i instanceof bt)){if(i instanceof Lr)return i;if(V.call(i,"__wrapped__"))return fp(i)}return new Lr(i)}var sa=function(){function i(){}return function(s){if(!Jt(s))return{};if(Jn)return Jn(s);i.prototype=s;var d=new i;return i.prototype=n,d}}();function gu(){}function Lr(i,s){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=n}I.templateSettings={escape:ri,evaluate:ii,interpolate:eo,variable:"",imports:{_:I}},I.prototype=gu.prototype,I.prototype.constructor=I,Lr.prototype=sa(gu.prototype),Lr.prototype.constructor=Lr;function bt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ee,this.__views__=[]}function Sv(){var i=new bt(this.__wrapped__);return i.__actions__=dr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=dr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=dr(this.__views__),i}function Ev(){if(this.__filtered__){var i=new bt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function Av(){var i=this.__wrapped__.value(),s=this.__dir__,d=ct(i),b=s<0,_=d?i.length:0,R=N1(0,_,this.__views__),W=R.start,X=R.end,Q=X-W,me=b?X:W-1,ve=this.__iteratees__,xe=ve.length,Oe=0,Xe=Vn(Q,this.__takeCount__);if(!d||!b&&_==Q&&Xe==Q)return Oh(i,this.__actions__);var Je=[];e:for(;Q--&&Oe<Xe;){me+=s;for(var ht=-1,Ze=i[me];++ht<xe;){var wt=ve[ht],St=wt.iteratee,Er=wt.type,nr=St(Ze);if(Er==Ye)Ze=nr;else if(!nr){if(Er==_e)continue e;break e}}Je[Oe++]=Ze}return Je}bt.prototype=sa(gu.prototype),bt.prototype.constructor=bt;function Io(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var b=i[s];this.set(b[0],b[1])}}function Cv(){this.__data__=Ja?Ja(null):{},this.size=0}function _v(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function Tv(i){var s=this.__data__;if(Ja){var d=s[i];return d===h?n:d}return V.call(s,i)?s[i]:n}function Lv(i){var s=this.__data__;return Ja?s[i]!==n:V.call(s,i)}function Pv(i,s){var d=this.__data__;return this.size+=this.has(i)?0:1,d[i]=Ja&&s===n?h:s,this}Io.prototype.clear=Cv,Io.prototype.delete=_v,Io.prototype.get=Tv,Io.prototype.has=Lv,Io.prototype.set=Pv;function ki(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var b=i[s];this.set(b[0],b[1])}}function Mv(){this.__data__=[],this.size=0}function Iv(i){var s=this.__data__,d=mu(s,i);if(d<0)return!1;var b=s.length-1;return d==b?s.pop():cn.call(s,d,1),--this.size,!0}function kv(i){var s=this.__data__,d=mu(s,i);return d<0?n:s[d][1]}function Rv(i){return mu(this.__data__,i)>-1}function Ov(i,s){var d=this.__data__,b=mu(d,i);return b<0?(++this.size,d.push([i,s])):d[b][1]=s,this}ki.prototype.clear=Mv,ki.prototype.delete=Iv,ki.prototype.get=kv,ki.prototype.has=Rv,ki.prototype.set=Ov;function Ri(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var b=i[s];this.set(b[0],b[1])}}function Fv(){this.size=0,this.__data__={hash:new Io,map:new(Qa||ki),string:new Io}}function Nv(i){var s=Lu(this,i).delete(i);return this.size-=s?1:0,s}function $v(i){return Lu(this,i).get(i)}function Bv(i){return Lu(this,i).has(i)}function Dv(i,s){var d=Lu(this,i),b=d.size;return d.set(i,s),this.size+=d.size==b?0:1,this}Ri.prototype.clear=Fv,Ri.prototype.delete=Nv,Ri.prototype.get=$v,Ri.prototype.has=Bv,Ri.prototype.set=Dv;function ko(i){var s=-1,d=i==null?0:i.length;for(this.__data__=new Ri;++s<d;)this.add(i[s])}function Gv(i){return this.__data__.set(i,h),this}function Uv(i){return this.__data__.has(i)}ko.prototype.add=ko.prototype.push=Gv,ko.prototype.has=Uv;function Xr(i){var s=this.__data__=new ki(i);this.size=s.size}function Wv(){this.__data__=new ki,this.size=0}function zv(i){var s=this.__data__,d=s.delete(i);return this.size=s.size,d}function Hv(i){return this.__data__.get(i)}function jv(i){return this.__data__.has(i)}function Vv(i,s){var d=this.__data__;if(d instanceof ki){var b=d.__data__;if(!Qa||b.length<o-1)return b.push([i,s]),this.size=++d.size,this;d=this.__data__=new Ri(b)}return d.set(i,s),this.size=d.size,this}Xr.prototype.clear=Wv,Xr.prototype.delete=zv,Xr.prototype.get=Hv,Xr.prototype.has=jv,Xr.prototype.set=Vv;function fh(i,s){var d=ct(i),b=!d&&$o(i),_=!d&&!b&&mo(i),R=!d&&!b&&!_&&fa(i),W=d||b||_||R,X=W?m(i.length,Mo):[],Q=X.length;for(var me in i)(s||V.call(i,me))&&!(W&&(me=="length"||_&&(me=="offset"||me=="parent")||R&&(me=="buffer"||me=="byteLength"||me=="byteOffset")||$i(me,Q)))&&X.push(me);return X}function dh(i){var s=i.length;return s?i[_l(0,s-1)]:n}function Xv(i,s){return Pu(dr(i),Ro(s,0,i.length))}function Yv(i){return Pu(dr(i))}function ml(i,s,d){(d!==n&&!Yr(i[s],d)||d===n&&!(s in i))&&Oi(i,s,d)}function es(i,s,d){var b=i[s];(!(V.call(i,s)&&Yr(b,d))||d===n&&!(s in i))&&Oi(i,s,d)}function mu(i,s){for(var d=i.length;d--;)if(Yr(i[d][0],s))return d;return-1}function Kv(i,s,d,b){return fo(i,function(_,R,W){s(b,_,d(_),W)}),b}function hh(i,s){return i&&li(s,Pn(s),i)}function Qv(i,s){return i&&li(s,pr(s),i)}function Oi(i,s,d){s=="__proto__"&&ne?ne(i,s,{configurable:!0,enumerable:!0,value:d,writable:!0}):i[s]=d}function yl(i,s){for(var d=-1,b=s.length,_=oe(b),R=i==null;++d<b;)_[d]=R?n:ql(i,s[d]);return _}function Ro(i,s,d){return i===i&&(d!==n&&(i=i<=d?i:d),s!==n&&(i=i>=s?i:s)),i}function Pr(i,s,d,b,_,R){var W,X=s&x,Q=s&E,me=s&P;if(d&&(W=_?d(i,b,_,R):d(i)),W!==n)return W;if(!Jt(i))return i;var ve=ct(i);if(ve){if(W=B1(i),!X)return dr(i,W)}else{var xe=Xn(i),Oe=xe==Ut||xe==wn;if(mo(i))return $h(i,X);if(xe==jt||xe==Ke||Oe&&!_){if(W=Q||Oe?{}:np(i),!X)return Q?T1(i,Qv(W,i)):_1(i,hh(W,i))}else{if(!Rt[xe])return _?i:{};W=D1(i,xe,X)}}R||(R=new Xr);var Xe=R.get(i);if(Xe)return Xe;R.set(i,W),Ip(i)?i.forEach(function(Ze){W.add(Pr(Ze,s,d,Ze,i,R))}):Pp(i)&&i.forEach(function(Ze,wt){W.set(wt,Pr(Ze,s,d,wt,i,R))});var Je=me?Q?$l:Nl:Q?pr:Pn,ht=ve?n:Je(i);return Fn(ht||i,function(Ze,wt){ht&&(wt=Ze,Ze=i[wt]),es(W,wt,Pr(Ze,s,d,wt,i,R))}),W}function qv(i){var s=Pn(i);return function(d){return ph(d,i,s)}}function ph(i,s,d){var b=d.length;if(i==null)return!b;for(i=Ot(i);b--;){var _=d[b],R=s[_],W=i[_];if(W===n&&!(_ in i)||!R(W))return!1}return!0}function gh(i,s,d){if(typeof i!="function")throw new fr(c);return ss(function(){i.apply(n,d)},s)}function ts(i,s,d,b){var _=-1,R=sn,W=!0,X=i.length,Q=[],me=s.length;if(!X)return Q;d&&(s=Ht(s,k(d))),b?(R=yn,W=!1):s.length>=o&&(R=O,W=!1,s=new ko(s));e:for(;++_<X;){var ve=i[_],xe=d==null?ve:d(ve);if(ve=b||ve!==0?ve:0,W&&xe===xe){for(var Oe=me;Oe--;)if(s[Oe]===xe)continue e;Q.push(ve)}else R(s,xe,b)||Q.push(ve)}return Q}var fo=Wh(ci),mh=Wh(wl,!0);function Jv(i,s){var d=!0;return fo(i,function(b,_,R){return d=!!s(b,_,R),d}),d}function yu(i,s,d){for(var b=-1,_=i.length;++b<_;){var R=i[b],W=s(R);if(W!=null&&(X===n?W===W&&!Sr(W):d(W,X)))var X=W,Q=R}return Q}function Zv(i,s,d,b){var _=i.length;for(d=ft(d),d<0&&(d=-d>_?0:_+d),b=b===n||b>_?_:ft(b),b<0&&(b+=_),b=d>b?0:Rp(b);d<b;)i[d++]=s;return i}function yh(i,s){var d=[];return fo(i,function(b,_,R){s(b,_,R)&&d.push(b)}),d}function $n(i,s,d,b,_){var R=-1,W=i.length;for(d||(d=U1),_||(_=[]);++R<W;){var X=i[R];s>0&&d(X)?s>1?$n(X,s-1,d,b,_):ui(_,X):b||(_[_.length]=X)}return _}var vl=zh(),vh=zh(!0);function ci(i,s){return i&&vl(i,s,Pn)}function wl(i,s){return i&&vh(i,s,Pn)}function vu(i,s){return Vt(s,function(d){return Bi(i[d])})}function Oo(i,s){s=po(s,i);for(var d=0,b=s.length;i!=null&&d<b;)i=i[fi(s[d++])];return d&&d==b?i:n}function wh(i,s,d){var b=s(i);return ct(i)?b:ui(b,d(i))}function er(i){return i==null?i===n?xt:en:D&&D in Ot(i)?F1(i):Y1(i)}function bl(i,s){return i>s}function e1(i,s){return i!=null&&V.call(i,s)}function t1(i,s){return i!=null&&s in Ot(i)}function n1(i,s,d){return i>=Vn(s,d)&&i<xn(s,d)}function xl(i,s,d){for(var b=d?yn:sn,_=i[0].length,R=i.length,W=R,X=oe(R),Q=1/0,me=[];W--;){var ve=i[W];W&&s&&(ve=Ht(ve,k(s))),Q=Vn(ve.length,Q),X[W]=!d&&(s||_>=120&&ve.length>=120)?new ko(W&&ve):n}ve=i[0];var xe=-1,Oe=X[0];e:for(;++xe<_&&me.length<Q;){var Xe=ve[xe],Je=s?s(Xe):Xe;if(Xe=d||Xe!==0?Xe:0,!(Oe?O(Oe,Je):b(me,Je,d))){for(W=R;--W;){var ht=X[W];if(!(ht?O(ht,Je):b(i[W],Je,d)))continue e}Oe&&Oe.push(Je),me.push(Xe)}}return me}function r1(i,s,d,b){return ci(i,function(_,R,W){s(b,d(_),R,W)}),b}function ns(i,s,d){s=po(s,i),i=ap(i,s);var b=i==null?i:i[fi(Ir(s))];return b==null?n:Qn(b,i,d)}function bh(i){return on(i)&&er(i)==Ke}function i1(i){return on(i)&&er(i)==bi}function o1(i){return on(i)&&er(i)==an}function rs(i,s,d,b,_){return i===s?!0:i==null||s==null||!on(i)&&!on(s)?i!==i&&s!==s:a1(i,s,d,b,rs,_)}function a1(i,s,d,b,_,R){var W=ct(i),X=ct(s),Q=W?yt:Xn(i),me=X?yt:Xn(s);Q=Q==Ke?jt:Q,me=me==Ke?jt:me;var ve=Q==jt,xe=me==jt,Oe=Q==me;if(Oe&&mo(i)){if(!mo(s))return!1;W=!0,ve=!1}if(Oe&&!ve)return R||(R=new Xr),W||fa(i)?Zh(i,s,d,b,_,R):R1(i,s,Q,d,b,_,R);if(!(d&T)){var Xe=ve&&V.call(i,"__wrapped__"),Je=xe&&V.call(s,"__wrapped__");if(Xe||Je){var ht=Xe?i.value():i,Ze=Je?s.value():s;return R||(R=new Xr),_(ht,Ze,d,b,R)}}return Oe?(R||(R=new Xr),O1(i,s,d,b,_,R)):!1}function s1(i){return on(i)&&Xn(i)==Wt}function Sl(i,s,d,b){var _=d.length,R=_,W=!b;if(i==null)return!R;for(i=Ot(i);_--;){var X=d[_];if(W&&X[2]?X[1]!==i[X[0]]:!(X[0]in i))return!1}for(;++_<R;){X=d[_];var Q=X[0],me=i[Q],ve=X[1];if(W&&X[2]){if(me===n&&!(Q in i))return!1}else{var xe=new Xr;if(b)var Oe=b(me,ve,Q,i,s,xe);if(!(Oe===n?rs(ve,me,T|L,b,xe):Oe))return!1}}return!0}function xh(i){if(!Jt(i)||z1(i))return!1;var s=Bi(i)?dt:Wn;return s.test(No(i))}function u1(i){return on(i)&&er(i)==gn}function c1(i){return on(i)&&Xn(i)==at}function l1(i){return on(i)&&Fu(i.length)&&!!Pt[er(i)]}function Sh(i){return typeof i=="function"?i:i==null?gr:typeof i=="object"?ct(i)?Ch(i[0],i[1]):Ah(i):Hp(i)}function El(i){if(!as(i))return hv(i);var s=[];for(var d in Ot(i))V.call(i,d)&&d!="constructor"&&s.push(d);return s}function f1(i){if(!Jt(i))return X1(i);var s=as(i),d=[];for(var b in i)b=="constructor"&&(s||!V.call(i,b))||d.push(b);return d}function Al(i,s){return i<s}function Eh(i,s){var d=-1,b=hr(i)?oe(i.length):[];return fo(i,function(_,R,W){b[++d]=s(_,R,W)}),b}function Ah(i){var s=Dl(i);return s.length==1&&s[0][2]?ip(s[0][0],s[0][1]):function(d){return d===i||Sl(d,i,s)}}function Ch(i,s){return Ul(i)&&rp(s)?ip(fi(i),s):function(d){var b=ql(d,i);return b===n&&b===s?Jl(d,i):rs(s,b,T|L)}}function wu(i,s,d,b,_){i!==s&&vl(s,function(R,W){if(_||(_=new Xr),Jt(R))d1(i,s,W,d,wu,b,_);else{var X=b?b(zl(i,W),R,W+"",i,s,_):n;X===n&&(X=R),ml(i,W,X)}},pr)}function d1(i,s,d,b,_,R,W){var X=zl(i,d),Q=zl(s,d),me=W.get(Q);if(me){ml(i,d,me);return}var ve=R?R(X,Q,d+"",i,s,W):n,xe=ve===n;if(xe){var Oe=ct(Q),Xe=!Oe&&mo(Q),Je=!Oe&&!Xe&&fa(Q);ve=Q,Oe||Xe||Je?ct(X)?ve=X:ln(X)?ve=dr(X):Xe?(xe=!1,ve=$h(Q,!0)):Je?(xe=!1,ve=Bh(Q,!0)):ve=[]:us(Q)||$o(Q)?(ve=X,$o(X)?ve=Op(X):(!Jt(X)||Bi(X))&&(ve=np(Q))):xe=!1}xe&&(W.set(Q,ve),_(ve,Q,b,R,W),W.delete(Q)),ml(i,d,ve)}function _h(i,s){var d=i.length;if(d)return s+=s<0?d:0,$i(s,d)?i[s]:n}function Th(i,s,d){s.length?s=Ht(s,function(R){return ct(R)?function(W){return Oo(W,R.length===1?R[0]:R)}:R}):s=[gr];var b=-1;s=Ht(s,k(Qe()));var _=Eh(i,function(R,W,X){var Q=Ht(s,function(me){return me(R)});return{criteria:Q,index:++b,value:R}});return a(_,function(R,W){return C1(R,W,d)})}function h1(i,s){return Lh(i,s,function(d,b){return Jl(i,b)})}function Lh(i,s,d){for(var b=-1,_=s.length,R={};++b<_;){var W=s[b],X=Oo(i,W);d(X,W)&&is(R,po(W,i),X)}return R}function p1(i){return function(s){return Oo(s,i)}}function Cl(i,s,d,b){var _=b?hl:oo,R=-1,W=s.length,X=i;for(i===s&&(s=dr(s)),d&&(X=Ht(i,k(d)));++R<W;)for(var Q=0,me=s[R],ve=d?d(me):me;(Q=_(X,ve,Q,b))>-1;)X!==i&&cn.call(X,Q,1),cn.call(i,Q,1);return i}function Ph(i,s){for(var d=i?s.length:0,b=d-1;d--;){var _=s[d];if(d==b||_!==R){var R=_;$i(_)?cn.call(i,_,1):Pl(i,_)}}return i}function _l(i,s){return i+Lt(ch()*(s-i+1))}function g1(i,s,d,b){for(var _=-1,R=xn(De((s-i)/(d||1)),0),W=oe(R);R--;)W[b?R:++_]=i,i+=d;return W}function Tl(i,s){var d="";if(!i||s<1||s>he)return d;do s%2&&(d+=i),s=Lt(s/2),s&&(i+=i);while(s);return d}function gt(i,s){return Hl(op(i,s,gr),i+"")}function m1(i){return dh(da(i))}function y1(i,s){var d=da(i);return Pu(d,Ro(s,0,d.length))}function is(i,s,d,b){if(!Jt(i))return i;s=po(s,i);for(var _=-1,R=s.length,W=R-1,X=i;X!=null&&++_<R;){var Q=fi(s[_]),me=d;if(Q==="__proto__"||Q==="constructor"||Q==="prototype")return i;if(_!=W){var ve=X[Q];me=b?b(ve,Q,X):n,me===n&&(me=Jt(ve)?ve:$i(s[_+1])?[]:{})}es(X,Q,me),X=X[Q]}return i}var Mh=hu?function(i,s){return hu.set(i,s),i}:gr,v1=ne?function(i,s){return ne(i,"toString",{configurable:!0,enumerable:!1,value:ef(s),writable:!0})}:gr;function w1(i){return Pu(da(i))}function Mr(i,s,d){var b=-1,_=i.length;s<0&&(s=-s>_?0:_+s),d=d>_?_:d,d<0&&(d+=_),_=s>d?0:d-s>>>0,s>>>=0;for(var R=oe(_);++b<_;)R[b]=i[b+s];return R}function b1(i,s){var d;return fo(i,function(b,_,R){return d=s(b,_,R),!d}),!!d}function bu(i,s,d){var b=0,_=i==null?b:i.length;if(typeof s=="number"&&s===s&&_<=ot){for(;b<_;){var R=b+_>>>1,W=i[R];W!==null&&!Sr(W)&&(d?W<=s:W<s)?b=R+1:_=R}return _}return Ll(i,s,gr,d)}function Ll(i,s,d,b){var _=0,R=i==null?0:i.length;if(R===0)return 0;s=d(s);for(var W=s!==s,X=s===null,Q=Sr(s),me=s===n;_<R;){var ve=Lt((_+R)/2),xe=d(i[ve]),Oe=xe!==n,Xe=xe===null,Je=xe===xe,ht=Sr(xe);if(W)var Ze=b||Je;else me?Ze=Je&&(b||Oe):X?Ze=Je&&Oe&&(b||!Xe):Q?Ze=Je&&Oe&&!Xe&&(b||!ht):Xe||ht?Ze=!1:Ze=b?xe<=s:xe<s;Ze?_=ve+1:R=ve}return Vn(R,Re)}function Ih(i,s){for(var d=-1,b=i.length,_=0,R=[];++d<b;){var W=i[d],X=s?s(W):W;if(!d||!Yr(X,Q)){var Q=X;R[_++]=W===0?0:W}}return R}function kh(i){return typeof i=="number"?i:Sr(i)?ke:+i}function xr(i){if(typeof i=="string")return i;if(ct(i))return Ht(i,xr)+"";if(Sr(i))return lh?lh.call(i):"";var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}function ho(i,s,d){var b=-1,_=sn,R=i.length,W=!0,X=[],Q=X;if(d)W=!1,_=yn;else if(R>=o){var me=s?null:I1(i);if(me)return lr(me);W=!1,_=O,Q=new ko}else Q=s?[]:X;e:for(;++b<R;){var ve=i[b],xe=s?s(ve):ve;if(ve=d||ve!==0?ve:0,W&&xe===xe){for(var Oe=Q.length;Oe--;)if(Q[Oe]===xe)continue e;s&&Q.push(xe),X.push(ve)}else _(Q,xe,d)||(Q!==X&&Q.push(xe),X.push(ve))}return X}function Pl(i,s){return s=po(s,i),i=ap(i,s),i==null||delete i[fi(Ir(s))]}function Rh(i,s,d,b){return is(i,s,d(Oo(i,s)),b)}function xu(i,s,d,b){for(var _=i.length,R=b?_:-1;(b?R--:++R<_)&&s(i[R],R,i););return d?Mr(i,b?0:R,b?R+1:_):Mr(i,b?R+1:0,b?_:R)}function Oh(i,s){var d=i;return d instanceof bt&&(d=d.value()),za(s,function(b,_){return _.func.apply(_.thisArg,ui([b],_.args))},d)}function Ml(i,s,d){var b=i.length;if(b<2)return b?ho(i[0]):[];for(var _=-1,R=oe(b);++_<b;)for(var W=i[_],X=-1;++X<b;)X!=_&&(R[_]=ts(R[_]||W,i[X],s,d));return ho($n(R,1),s,d)}function Fh(i,s,d){for(var b=-1,_=i.length,R=s.length,W={};++b<_;){var X=b<R?s[b]:n;d(W,i[b],X)}return W}function Il(i){return ln(i)?i:[]}function kl(i){return typeof i=="function"?i:gr}function po(i,s){return ct(i)?i:Ul(i,s)?[i]:lp(kt(i))}var x1=gt;function go(i,s,d){var b=i.length;return d=d===n?b:d,!s&&d>=b?i:Mr(i,s,d)}var Nh=ce||function(i){return zt.clearTimeout(i)};function $h(i,s){if(s)return i.slice();var d=i.length,b=Tt?Tt(d):new i.constructor(d);return i.copy(b),b}function Rl(i){var s=new i.constructor(i.byteLength);return new st(s).set(new st(i)),s}function S1(i,s){var d=s?Rl(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.byteLength)}function E1(i){var s=new i.constructor(i.source,_n.exec(i));return s.lastIndex=i.lastIndex,s}function A1(i){return Za?Ot(Za.call(i)):{}}function Bh(i,s){var d=s?Rl(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.length)}function Dh(i,s){if(i!==s){var d=i!==n,b=i===null,_=i===i,R=Sr(i),W=s!==n,X=s===null,Q=s===s,me=Sr(s);if(!X&&!me&&!R&&i>s||R&&W&&Q&&!X&&!me||b&&W&&Q||!d&&Q||!_)return 1;if(!b&&!R&&!me&&i<s||me&&d&&_&&!b&&!R||X&&d&&_||!W&&_||!Q)return-1}return 0}function C1(i,s,d){for(var b=-1,_=i.criteria,R=s.criteria,W=_.length,X=d.length;++b<W;){var Q=Dh(_[b],R[b]);if(Q){if(b>=X)return Q;var me=d[b];return Q*(me=="desc"?-1:1)}}return i.index-s.index}function Gh(i,s,d,b){for(var _=-1,R=i.length,W=d.length,X=-1,Q=s.length,me=xn(R-W,0),ve=oe(Q+me),xe=!b;++X<Q;)ve[X]=s[X];for(;++_<W;)(xe||_<R)&&(ve[d[_]]=i[_]);for(;me--;)ve[X++]=i[_++];return ve}function Uh(i,s,d,b){for(var _=-1,R=i.length,W=-1,X=d.length,Q=-1,me=s.length,ve=xn(R-X,0),xe=oe(ve+me),Oe=!b;++_<ve;)xe[_]=i[_];for(var Xe=_;++Q<me;)xe[Xe+Q]=s[Q];for(;++W<X;)(Oe||_<R)&&(xe[Xe+d[W]]=i[_++]);return xe}function dr(i,s){var d=-1,b=i.length;for(s||(s=oe(b));++d<b;)s[d]=i[d];return s}function li(i,s,d,b){var _=!d;d||(d={});for(var R=-1,W=s.length;++R<W;){var X=s[R],Q=b?b(d[X],i[X],X,d,i):n;Q===n&&(Q=i[X]),_?Oi(d,X,Q):es(d,X,Q)}return d}function _1(i,s){return li(i,Gl(i),s)}function T1(i,s){return li(i,ep(i),s)}function Su(i,s){return function(d,b){var _=ct(d)?ul:Kv,R=s?s():{};return _(d,i,Qe(b,2),R)}}function ua(i){return gt(function(s,d){var b=-1,_=d.length,R=_>1?d[_-1]:n,W=_>2?d[2]:n;for(R=i.length>3&&typeof R=="function"?(_--,R):n,W&&tr(d[0],d[1],W)&&(R=_<3?n:R,_=1),s=Ot(s);++b<_;){var X=d[b];X&&i(s,X,b,R)}return s})}function Wh(i,s){return function(d,b){if(d==null)return d;if(!hr(d))return i(d,b);for(var _=d.length,R=s?_:-1,W=Ot(d);(s?R--:++R<_)&&b(W[R],R,W)!==!1;);return d}}function zh(i){return function(s,d,b){for(var _=-1,R=Ot(s),W=b(s),X=W.length;X--;){var Q=W[i?X:++_];if(d(R[Q],Q,R)===!1)break}return s}}function L1(i,s,d){var b=s&N,_=os(i);function R(){var W=this&&this!==zt&&this instanceof R?_:i;return W.apply(b?d:this,arguments)}return R}function Hh(i){return function(s){s=kt(s);var d=tt(s)?qn(s):n,b=d?d[0]:s.charAt(0),_=d?go(d,1).join(""):s.slice(1);return b[i]()+_}}function ca(i){return function(s){return za(Wp(Up(s).replace(ut,"")),i,"")}}function os(i){return function(){var s=arguments;switch(s.length){case 0:return new i;case 1:return new i(s[0]);case 2:return new i(s[0],s[1]);case 3:return new i(s[0],s[1],s[2]);case 4:return new i(s[0],s[1],s[2],s[3]);case 5:return new i(s[0],s[1],s[2],s[3],s[4]);case 6:return new i(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new i(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var d=sa(i.prototype),b=i.apply(d,s);return Jt(b)?b:d}}function P1(i,s,d){var b=os(i);function _(){for(var R=arguments.length,W=oe(R),X=R,Q=la(_);X--;)W[X]=arguments[X];var me=R<3&&W[0]!==Q&&W[R-1]!==Q?[]:cr(W,Q);if(R-=me.length,R<d)return Kh(i,s,Eu,_.placeholder,n,W,me,n,n,d-R);var ve=this&&this!==zt&&this instanceof _?b:i;return Qn(ve,this,W)}return _}function jh(i){return function(s,d,b){var _=Ot(s);if(!hr(s)){var R=Qe(d,3);s=Pn(s),d=function(X){return R(_[X],X,_)}}var W=i(s,d,b);return W>-1?_[R?s[W]:W]:n}}function Vh(i){return Ni(function(s){var d=s.length,b=d,_=Lr.prototype.thru;for(i&&s.reverse();b--;){var R=s[b];if(typeof R!="function")throw new fr(c);if(_&&!W&&Tu(R)=="wrapper")var W=new Lr([],!0)}for(b=W?b:d;++b<d;){R=s[b];var X=Tu(R),Q=X=="wrapper"?Bl(R):n;Q&&Wl(Q[0])&&Q[1]==(le|$|te|Ae)&&!Q[4].length&&Q[9]==1?W=W[Tu(Q[0])].apply(W,Q[3]):W=R.length==1&&Wl(R)?W[X]():W.thru(R)}return function(){var me=arguments,ve=me[0];if(W&&me.length==1&&ct(ve))return W.plant(ve).value();for(var xe=0,Oe=d?s[xe].apply(this,me):ve;++xe<d;)Oe=s[xe].call(this,Oe);return Oe}})}function Eu(i,s,d,b,_,R,W,X,Q,me){var ve=s&le,xe=s&N,Oe=s&F,Xe=s&($|q),Je=s&Z,ht=Oe?n:os(i);function Ze(){for(var wt=arguments.length,St=oe(wt),Er=wt;Er--;)St[Er]=arguments[Er];if(Xe)var nr=la(Ze),Ar=ge(St,nr);if(b&&(St=Gh(St,b,_,Xe)),R&&(St=Uh(St,R,W,Xe)),wt-=Ar,Xe&&wt<me){var fn=cr(St,nr);return Kh(i,s,Eu,Ze.placeholder,d,St,fn,X,Q,me-wt)}var Kr=xe?d:this,Gi=Oe?Kr[i]:i;return wt=St.length,X?St=K1(St,X):Je&&wt>1&&St.reverse(),ve&&Q<wt&&(St.length=Q),this&&this!==zt&&this instanceof Ze&&(Gi=ht||os(Gi)),Gi.apply(Kr,St)}return Ze}function Xh(i,s){return function(d,b){return r1(d,i,s(b),{})}}function Au(i,s){return function(d,b){var _;if(d===n&&b===n)return s;if(d!==n&&(_=d),b!==n){if(_===n)return b;typeof d=="string"||typeof b=="string"?(d=xr(d),b=xr(b)):(d=kh(d),b=kh(b)),_=i(d,b)}return _}}function Ol(i){return Ni(function(s){return s=Ht(s,k(Qe())),gt(function(d){var b=this;return i(s,function(_){return Qn(_,b,d)})})})}function Cu(i,s){s=s===n?" ":xr(s);var d=s.length;if(d<2)return d?Tl(s,i):s;var b=Tl(s,De(i/Nn(s)));return tt(s)?go(qn(b),0,i).join(""):b.slice(0,i)}function M1(i,s,d,b){var _=s&N,R=os(i);function W(){for(var X=-1,Q=arguments.length,me=-1,ve=b.length,xe=oe(ve+Q),Oe=this&&this!==zt&&this instanceof W?R:i;++me<ve;)xe[me]=b[me];for(;Q--;)xe[me++]=arguments[++X];return Qn(Oe,_?d:this,xe)}return W}function Yh(i){return function(s,d,b){return b&&typeof b!="number"&&tr(s,d,b)&&(d=b=n),s=Di(s),d===n?(d=s,s=0):d=Di(d),b=b===n?s<d?1:-1:Di(b),g1(s,d,b,i)}}function _u(i){return function(s,d){return typeof s=="string"&&typeof d=="string"||(s=kr(s),d=kr(d)),i(s,d)}}function Kh(i,s,d,b,_,R,W,X,Q,me){var ve=s&$,xe=ve?W:n,Oe=ve?n:W,Xe=ve?R:n,Je=ve?n:R;s|=ve?te:re,s&=~(ve?re:te),s&H||(s&=-4);var ht=[i,s,_,Xe,xe,Je,Oe,X,Q,me],Ze=d.apply(n,ht);return Wl(i)&&sp(Ze,ht),Ze.placeholder=b,up(Ze,i,s)}function Fl(i){var s=rn[i];return function(d,b){if(d=kr(d),b=b==null?0:Vn(ft(b),292),b&&lo(d)){var _=(kt(d)+"e").split("e"),R=s(_[0]+"e"+(+_[1]+b));return _=(kt(R)+"e").split("e"),+(_[0]+"e"+(+_[1]-b))}return s(d)}}var I1=oa&&1/lr(new oa([,-0]))[1]==ie?function(i){return new oa(i)}:rf;function Qh(i){return function(s){var d=Xn(s);return d==Wt?un(s):d==at?Xa(s):v(s,i(s))}}function Fi(i,s,d,b,_,R,W,X){var Q=s&F;if(!Q&&typeof i!="function")throw new fr(c);var me=b?b.length:0;if(me||(s&=-97,b=_=n),W=W===n?W:xn(ft(W),0),X=X===n?X:ft(X),me-=_?_.length:0,s&re){var ve=b,xe=_;b=_=n}var Oe=Q?n:Bl(i),Xe=[i,s,d,b,_,ve,xe,R,W,X];if(Oe&&V1(Xe,Oe),i=Xe[0],s=Xe[1],d=Xe[2],b=Xe[3],_=Xe[4],X=Xe[9]=Xe[9]===n?Q?0:i.length:xn(Xe[9]-me,0),!X&&s&($|q)&&(s&=-25),!s||s==N)var Je=L1(i,s,d);else s==$||s==q?Je=P1(i,s,X):(s==te||s==(N|te))&&!_.length?Je=M1(i,s,d,b):Je=Eu.apply(n,Xe);var ht=Oe?Mh:sp;return up(ht(Je,Xe),i,s)}function qh(i,s,d,b){return i===n||Yr(i,S[d])&&!V.call(b,d)?s:i}function Jh(i,s,d,b,_,R){return Jt(i)&&Jt(s)&&(R.set(s,i),wu(i,s,n,Jh,R),R.delete(s)),i}function k1(i){return us(i)?n:i}function Zh(i,s,d,b,_,R){var W=d&T,X=i.length,Q=s.length;if(X!=Q&&!(W&&Q>X))return!1;var me=R.get(i),ve=R.get(s);if(me&&ve)return me==s&&ve==i;var xe=-1,Oe=!0,Xe=d&L?new ko:n;for(R.set(i,s),R.set(s,i);++xe<X;){var Je=i[xe],ht=s[xe];if(b)var Ze=W?b(ht,Je,xe,s,i,R):b(Je,ht,xe,i,s,R);if(Ze!==n){if(Ze)continue;Oe=!1;break}if(Xe){if(!Ha(s,function(wt,St){if(!O(Xe,St)&&(Je===wt||_(Je,wt,d,b,R)))return Xe.push(St)})){Oe=!1;break}}else if(!(Je===ht||_(Je,ht,d,b,R))){Oe=!1;break}}return R.delete(i),R.delete(s),Oe}function R1(i,s,d,b,_,R,W){switch(d){case bn:if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case bi:return!(i.byteLength!=s.byteLength||!R(new st(i),new st(s)));case In:case an:case An:return Yr(+i,+s);case Gn:return i.name==s.name&&i.message==s.message;case gn:case _t:return i==s+"";case Wt:var X=un;case at:var Q=b&T;if(X||(X=lr),i.size!=s.size&&!Q)return!1;var me=W.get(i);if(me)return me==s;b|=L,W.set(i,s);var ve=Zh(X(i),X(s),b,_,R,W);return W.delete(i),ve;case tn:if(Za)return Za.call(i)==Za.call(s)}return!1}function O1(i,s,d,b,_,R){var W=d&T,X=Nl(i),Q=X.length,me=Nl(s),ve=me.length;if(Q!=ve&&!W)return!1;for(var xe=Q;xe--;){var Oe=X[xe];if(!(W?Oe in s:V.call(s,Oe)))return!1}var Xe=R.get(i),Je=R.get(s);if(Xe&&Je)return Xe==s&&Je==i;var ht=!0;R.set(i,s),R.set(s,i);for(var Ze=W;++xe<Q;){Oe=X[xe];var wt=i[Oe],St=s[Oe];if(b)var Er=W?b(St,wt,Oe,s,i,R):b(wt,St,Oe,i,s,R);if(!(Er===n?wt===St||_(wt,St,d,b,R):Er)){ht=!1;break}Ze||(Ze=Oe=="constructor")}if(ht&&!Ze){var nr=i.constructor,Ar=s.constructor;nr!=Ar&&"constructor"in i&&"constructor"in s&&!(typeof nr=="function"&&nr instanceof nr&&typeof Ar=="function"&&Ar instanceof Ar)&&(ht=!1)}return R.delete(i),R.delete(s),ht}function Ni(i){return Hl(op(i,n,pp),i+"")}function Nl(i){return wh(i,Pn,Gl)}function $l(i){return wh(i,pr,ep)}var Bl=hu?function(i){return hu.get(i)}:rf;function Tu(i){for(var s=i.name+"",d=aa[s],b=V.call(aa,s)?d.length:0;b--;){var _=d[b],R=_.func;if(R==null||R==i)return _.name}return s}function la(i){var s=V.call(I,"placeholder")?I:i;return s.placeholder}function Qe(){var i=I.iteratee||tf;return i=i===tf?Sh:i,arguments.length?i(arguments[0],arguments[1]):i}function Lu(i,s){var d=i.__data__;return W1(s)?d[typeof s=="string"?"string":"hash"]:d.map}function Dl(i){for(var s=Pn(i),d=s.length;d--;){var b=s[d],_=i[b];s[d]=[b,_,rp(_)]}return s}function Fo(i,s){var d=We(i,s);return xh(d)?d:n}function F1(i){var s=V.call(i,D),d=i[D];try{i[D]=n;var b=!0}catch{}var _=He.call(i);return b&&(s?i[D]=d:delete i[D]),_}var Gl=It?function(i){return i==null?[]:(i=Ot(i),Vt(It(i),function(s){return Zn.call(i,s)}))}:of,ep=It?function(i){for(var s=[];i;)ui(s,Gl(i)),i=Qt(i);return s}:of,Xn=er;(pl&&Xn(new pl(new ArrayBuffer(1)))!=bn||Qa&&Xn(new Qa)!=Wt||gl&&Xn(gl.resolve())!=Un||oa&&Xn(new oa)!=at||qa&&Xn(new qa)!=Dt)&&(Xn=function(i){var s=er(i),d=s==jt?i.constructor:n,b=d?No(d):"";if(b)switch(b){case yv:return bn;case vv:return Wt;case wv:return Un;case bv:return at;case xv:return Dt}return s});function N1(i,s,d){for(var b=-1,_=d.length;++b<_;){var R=d[b],W=R.size;switch(R.type){case"drop":i+=W;break;case"dropRight":s-=W;break;case"take":s=Vn(s,i+W);break;case"takeRight":i=xn(i,s-W);break}}return{start:i,end:s}}function $1(i){var s=i.match(Kt);return s?s[1].split(nn):[]}function tp(i,s,d){s=po(s,i);for(var b=-1,_=s.length,R=!1;++b<_;){var W=fi(s[b]);if(!(R=i!=null&&d(i,W)))break;i=i[W]}return R||++b!=_?R:(_=i==null?0:i.length,!!_&&Fu(_)&&$i(W,_)&&(ct(i)||$o(i)))}function B1(i){var s=i.length,d=new i.constructor(s);return s&&typeof i[0]=="string"&&V.call(i,"index")&&(d.index=i.index,d.input=i.input),d}function np(i){return typeof i.constructor=="function"&&!as(i)?sa(Qt(i)):{}}function D1(i,s,d){var b=i.constructor;switch(s){case bi:return Rl(i);case In:case an:return new b(+i);case bn:return S1(i,d);case xi:case Si:case Yi:case Ki:case Qi:case qi:case Wr:case Ei:case zr:return Bh(i,d);case Wt:return new b;case An:case _t:return new b(i);case gn:return E1(i);case at:return new b;case tn:return A1(i)}}function G1(i,s){var d=s.length;if(!d)return i;var b=d-1;return s[b]=(d>1?"& ":"")+s[b],s=s.join(d>2?", ":" "),i.replace(mn,`{
/* [wrapped with `+s+`] */
`)}function U1(i){return ct(i)||$o(i)||!!(we&&i&&i[we])}function $i(i,s){var d=typeof i;return s=s??he,!!s&&(d=="number"||d!="symbol"&&Ti.test(i))&&i>-1&&i%1==0&&i<s}function tr(i,s,d){if(!Jt(d))return!1;var b=typeof s;return(b=="number"?hr(d)&&$i(s,d.length):b=="string"&&s in d)?Yr(d[s],i):!1}function Ul(i,s){if(ct(i))return!1;var d=typeof i;return d=="number"||d=="symbol"||d=="boolean"||i==null||Sr(i)?!0:oi.test(i)||!Ci.test(i)||s!=null&&i in Ot(s)}function W1(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function Wl(i){var s=Tu(i),d=I[s];if(typeof d!="function"||!(s in bt.prototype))return!1;if(i===d)return!0;var b=Bl(d);return!!b&&i===b[0]}function z1(i){return!!Ce&&Ce in i}var H1=M?Bi:af;function as(i){var s=i&&i.constructor,d=typeof s=="function"&&s.prototype||S;return i===d}function rp(i){return i===i&&!Jt(i)}function ip(i,s){return function(d){return d==null?!1:d[i]===s&&(s!==n||i in Ot(d))}}function j1(i){var s=Ru(i,function(b){return d.size===p&&d.clear(),b}),d=s.cache;return s}function V1(i,s){var d=i[1],b=s[1],_=d|b,R=_<(N|F|le),W=b==le&&d==$||b==le&&d==Ae&&i[7].length<=s[8]||b==(le|Ae)&&s[7].length<=s[8]&&d==$;if(!(R||W))return i;b&N&&(i[2]=s[2],_|=d&N?0:H);var X=s[3];if(X){var Q=i[3];i[3]=Q?Gh(Q,X,s[4]):X,i[4]=Q?cr(i[3],w):s[4]}return X=s[5],X&&(Q=i[5],i[5]=Q?Uh(Q,X,s[6]):X,i[6]=Q?cr(i[5],w):s[6]),X=s[7],X&&(i[7]=X),b&le&&(i[8]=i[8]==null?s[8]:Vn(i[8],s[8])),i[9]==null&&(i[9]=s[9]),i[0]=s[0],i[1]=_,i}function X1(i){var s=[];if(i!=null)for(var d in Ot(i))s.push(d);return s}function Y1(i){return He.call(i)}function op(i,s,d){return s=xn(s===n?i.length-1:s,0),function(){for(var b=arguments,_=-1,R=xn(b.length-s,0),W=oe(R);++_<R;)W[_]=b[s+_];_=-1;for(var X=oe(s+1);++_<s;)X[_]=b[_];return X[s]=d(W),Qn(i,this,X)}}function ap(i,s){return s.length<2?i:Oo(i,Mr(s,0,-1))}function K1(i,s){for(var d=i.length,b=Vn(s.length,d),_=dr(i);b--;){var R=s[b];i[b]=$i(R,d)?_[R]:n}return i}function zl(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var sp=cp(Mh),ss=Se||function(i,s){return zt.setTimeout(i,s)},Hl=cp(v1);function up(i,s,d){var b=s+"";return Hl(i,G1(b,Q1($1(b),d)))}function cp(i){var s=0,d=0;return function(){var b=pv(),_=Fe-(b-d);if(d=b,_>0){if(++s>=Ie)return arguments[0]}else s=0;return i.apply(n,arguments)}}function Pu(i,s){var d=-1,b=i.length,_=b-1;for(s=s===n?b:s;++d<s;){var R=_l(d,_),W=i[R];i[R]=i[d],i[d]=W}return i.length=s,i}var lp=j1(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(ai,function(d,b,_,R){s.push(_?R.replace(Hr,"$1"):b||d)}),s});function fi(i){if(typeof i=="string"||Sr(i))return i;var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}function No(i){if(i!=null){try{return U.call(i)}catch{}try{return i+""}catch{}}return""}function Q1(i,s){return Fn(it,function(d){var b="_."+d[0];s&d[1]&&!sn(i,b)&&i.push(b)}),i.sort()}function fp(i){if(i instanceof bt)return i.clone();var s=new Lr(i.__wrapped__,i.__chain__);return s.__actions__=dr(i.__actions__),s.__index__=i.__index__,s.__values__=i.__values__,s}function q1(i,s,d){(d?tr(i,s,d):s===n)?s=1:s=xn(ft(s),0);var b=i==null?0:i.length;if(!b||s<1)return[];for(var _=0,R=0,W=oe(De(b/s));_<b;)W[R++]=Mr(i,_,_+=s);return W}function J1(i){for(var s=-1,d=i==null?0:i.length,b=0,_=[];++s<d;){var R=i[s];R&&(_[b++]=R)}return _}function Z1(){var i=arguments.length;if(!i)return[];for(var s=oe(i-1),d=arguments[0],b=i;b--;)s[b-1]=arguments[b];return ui(ct(d)?dr(d):[d],$n(s,1))}var ew=gt(function(i,s){return ln(i)?ts(i,$n(s,1,ln,!0)):[]}),tw=gt(function(i,s){var d=Ir(s);return ln(d)&&(d=n),ln(i)?ts(i,$n(s,1,ln,!0),Qe(d,2)):[]}),nw=gt(function(i,s){var d=Ir(s);return ln(d)&&(d=n),ln(i)?ts(i,$n(s,1,ln,!0),n,d):[]});function rw(i,s,d){var b=i==null?0:i.length;return b?(s=d||s===n?1:ft(s),Mr(i,s<0?0:s,b)):[]}function iw(i,s,d){var b=i==null?0:i.length;return b?(s=d||s===n?1:ft(s),s=b-s,Mr(i,0,s<0?0:s)):[]}function ow(i,s){return i&&i.length?xu(i,Qe(s,3),!0,!0):[]}function aw(i,s){return i&&i.length?xu(i,Qe(s,3),!0):[]}function sw(i,s,d,b){var _=i==null?0:i.length;return _?(d&&typeof d!="number"&&tr(i,s,d)&&(d=0,b=_),Zv(i,s,d,b)):[]}function dp(i,s,d){var b=i==null?0:i.length;if(!b)return-1;var _=d==null?0:ft(d);return _<0&&(_=xn(b+_,0)),ia(i,Qe(s,3),_)}function hp(i,s,d){var b=i==null?0:i.length;if(!b)return-1;var _=b-1;return d!==n&&(_=ft(d),_=d<0?xn(b+_,0):Vn(_,b-1)),ia(i,Qe(s,3),_,!0)}function pp(i){var s=i==null?0:i.length;return s?$n(i,1):[]}function uw(i){var s=i==null?0:i.length;return s?$n(i,ie):[]}function cw(i,s){var d=i==null?0:i.length;return d?(s=s===n?1:ft(s),$n(i,s)):[]}function lw(i){for(var s=-1,d=i==null?0:i.length,b={};++s<d;){var _=i[s];b[_[0]]=_[1]}return b}function gp(i){return i&&i.length?i[0]:n}function fw(i,s,d){var b=i==null?0:i.length;if(!b)return-1;var _=d==null?0:ft(d);return _<0&&(_=xn(b+_,0)),oo(i,s,_)}function dw(i){var s=i==null?0:i.length;return s?Mr(i,0,-1):[]}var hw=gt(function(i){var s=Ht(i,Il);return s.length&&s[0]===i[0]?xl(s):[]}),pw=gt(function(i){var s=Ir(i),d=Ht(i,Il);return s===Ir(d)?s=n:d.pop(),d.length&&d[0]===i[0]?xl(d,Qe(s,2)):[]}),gw=gt(function(i){var s=Ir(i),d=Ht(i,Il);return s=typeof s=="function"?s:n,s&&d.pop(),d.length&&d[0]===i[0]?xl(d,n,s):[]});function mw(i,s){return i==null?"":dv.call(i,s)}function Ir(i){var s=i==null?0:i.length;return s?i[s-1]:n}function yw(i,s,d){var b=i==null?0:i.length;if(!b)return-1;var _=b;return d!==n&&(_=ft(d),_=_<0?xn(b+_,0):Vn(_,b-1)),s===s?Ya(i,s,_):ia(i,lu,_,!0)}function vw(i,s){return i&&i.length?_h(i,ft(s)):n}var ww=gt(mp);function mp(i,s){return i&&i.length&&s&&s.length?Cl(i,s):i}function bw(i,s,d){return i&&i.length&&s&&s.length?Cl(i,s,Qe(d,2)):i}function xw(i,s,d){return i&&i.length&&s&&s.length?Cl(i,s,n,d):i}var Sw=Ni(function(i,s){var d=i==null?0:i.length,b=yl(i,s);return Ph(i,Ht(s,function(_){return $i(_,d)?+_:_}).sort(Dh)),b});function Ew(i,s){var d=[];if(!(i&&i.length))return d;var b=-1,_=[],R=i.length;for(s=Qe(s,3);++b<R;){var W=i[b];s(W,b,i)&&(d.push(W),_.push(b))}return Ph(i,_),d}function jl(i){return i==null?i:mv.call(i)}function Aw(i,s,d){var b=i==null?0:i.length;return b?(d&&typeof d!="number"&&tr(i,s,d)?(s=0,d=b):(s=s==null?0:ft(s),d=d===n?b:ft(d)),Mr(i,s,d)):[]}function Cw(i,s){return bu(i,s)}function _w(i,s,d){return Ll(i,s,Qe(d,2))}function Tw(i,s){var d=i==null?0:i.length;if(d){var b=bu(i,s);if(b<d&&Yr(i[b],s))return b}return-1}function Lw(i,s){return bu(i,s,!0)}function Pw(i,s,d){return Ll(i,s,Qe(d,2),!0)}function Mw(i,s){var d=i==null?0:i.length;if(d){var b=bu(i,s,!0)-1;if(Yr(i[b],s))return b}return-1}function Iw(i){return i&&i.length?Ih(i):[]}function kw(i,s){return i&&i.length?Ih(i,Qe(s,2)):[]}function Rw(i){var s=i==null?0:i.length;return s?Mr(i,1,s):[]}function Ow(i,s,d){return i&&i.length?(s=d||s===n?1:ft(s),Mr(i,0,s<0?0:s)):[]}function Fw(i,s,d){var b=i==null?0:i.length;return b?(s=d||s===n?1:ft(s),s=b-s,Mr(i,s<0?0:s,b)):[]}function Nw(i,s){return i&&i.length?xu(i,Qe(s,3),!1,!0):[]}function $w(i,s){return i&&i.length?xu(i,Qe(s,3)):[]}var Bw=gt(function(i){return ho($n(i,1,ln,!0))}),Dw=gt(function(i){var s=Ir(i);return ln(s)&&(s=n),ho($n(i,1,ln,!0),Qe(s,2))}),Gw=gt(function(i){var s=Ir(i);return s=typeof s=="function"?s:n,ho($n(i,1,ln,!0),n,s)});function Uw(i){return i&&i.length?ho(i):[]}function Ww(i,s){return i&&i.length?ho(i,Qe(s,2)):[]}function zw(i,s){return s=typeof s=="function"?s:n,i&&i.length?ho(i,n,s):[]}function Vl(i){if(!(i&&i.length))return[];var s=0;return i=Vt(i,function(d){if(ln(d))return s=xn(d.length,s),!0}),m(s,function(d){return Ht(i,ja(d))})}function yp(i,s){if(!(i&&i.length))return[];var d=Vl(i);return s==null?d:Ht(d,function(b){return Qn(s,n,b)})}var Hw=gt(function(i,s){return ln(i)?ts(i,s):[]}),jw=gt(function(i){return Ml(Vt(i,ln))}),Vw=gt(function(i){var s=Ir(i);return ln(s)&&(s=n),Ml(Vt(i,ln),Qe(s,2))}),Xw=gt(function(i){var s=Ir(i);return s=typeof s=="function"?s:n,Ml(Vt(i,ln),n,s)}),Yw=gt(Vl);function Kw(i,s){return Fh(i||[],s||[],es)}function Qw(i,s){return Fh(i||[],s||[],is)}var qw=gt(function(i){var s=i.length,d=s>1?i[s-1]:n;return d=typeof d=="function"?(i.pop(),d):n,yp(i,d)});function vp(i){var s=I(i);return s.__chain__=!0,s}function Jw(i,s){return s(i),i}function Mu(i,s){return s(i)}var Zw=Ni(function(i){var s=i.length,d=s?i[0]:0,b=this.__wrapped__,_=function(R){return yl(R,i)};return s>1||this.__actions__.length||!(b instanceof bt)||!$i(d)?this.thru(_):(b=b.slice(d,+d+(s?1:0)),b.__actions__.push({func:Mu,args:[_],thisArg:n}),new Lr(b,this.__chain__).thru(function(R){return s&&!R.length&&R.push(n),R}))});function eb(){return vp(this)}function tb(){return new Lr(this.value(),this.__chain__)}function nb(){this.__values__===n&&(this.__values__=kp(this.value()));var i=this.__index__>=this.__values__.length,s=i?n:this.__values__[this.__index__++];return{done:i,value:s}}function rb(){return this}function ib(i){for(var s,d=this;d instanceof gu;){var b=fp(d);b.__index__=0,b.__values__=n,s?_.__wrapped__=b:s=b;var _=b;d=d.__wrapped__}return _.__wrapped__=i,s}function ob(){var i=this.__wrapped__;if(i instanceof bt){var s=i;return this.__actions__.length&&(s=new bt(this)),s=s.reverse(),s.__actions__.push({func:Mu,args:[jl],thisArg:n}),new Lr(s,this.__chain__)}return this.thru(jl)}function ab(){return Oh(this.__wrapped__,this.__actions__)}var sb=Su(function(i,s,d){V.call(i,d)?++i[d]:Oi(i,d,1)});function ub(i,s,d){var b=ct(i)?Wa:Jv;return d&&tr(i,s,d)&&(s=n),b(i,Qe(s,3))}function cb(i,s){var d=ct(i)?Vt:yh;return d(i,Qe(s,3))}var lb=jh(dp),fb=jh(hp);function db(i,s){return $n(Iu(i,s),1)}function hb(i,s){return $n(Iu(i,s),ie)}function pb(i,s,d){return d=d===n?1:ft(d),$n(Iu(i,s),d)}function wp(i,s){var d=ct(i)?Fn:fo;return d(i,Qe(s,3))}function bp(i,s){var d=ct(i)?jr:mh;return d(i,Qe(s,3))}var gb=Su(function(i,s,d){V.call(i,d)?i[d].push(s):Oi(i,d,[s])});function mb(i,s,d,b){i=hr(i)?i:da(i),d=d&&!b?ft(d):0;var _=i.length;return d<0&&(d=xn(_+d,0)),Nu(i)?d<=_&&i.indexOf(s,d)>-1:!!_&&oo(i,s,d)>-1}var yb=gt(function(i,s,d){var b=-1,_=typeof s=="function",R=hr(i)?oe(i.length):[];return fo(i,function(W){R[++b]=_?Qn(s,W,d):ns(W,s,d)}),R}),vb=Su(function(i,s,d){Oi(i,d,s)});function Iu(i,s){var d=ct(i)?Ht:Eh;return d(i,Qe(s,3))}function wb(i,s,d,b){return i==null?[]:(ct(s)||(s=s==null?[]:[s]),d=b?n:d,ct(d)||(d=d==null?[]:[d]),Th(i,s,d))}var bb=Su(function(i,s,d){i[d?0:1].push(s)},function(){return[[],[]]});function xb(i,s,d){var b=ct(i)?za:Va,_=arguments.length<3;return b(i,Qe(s,4),d,_,fo)}function Sb(i,s,d){var b=ct(i)?cl:Va,_=arguments.length<3;return b(i,Qe(s,4),d,_,mh)}function Eb(i,s){var d=ct(i)?Vt:yh;return d(i,Ou(Qe(s,3)))}function Ab(i){var s=ct(i)?dh:m1;return s(i)}function Cb(i,s,d){(d?tr(i,s,d):s===n)?s=1:s=ft(s);var b=ct(i)?Xv:y1;return b(i,s)}function _b(i){var s=ct(i)?Yv:w1;return s(i)}function Tb(i){if(i==null)return 0;if(hr(i))return Nu(i)?Nn(i):i.length;var s=Xn(i);return s==Wt||s==at?i.size:El(i).length}function Lb(i,s,d){var b=ct(i)?Ha:b1;return d&&tr(i,s,d)&&(s=n),b(i,Qe(s,3))}var Pb=gt(function(i,s){if(i==null)return[];var d=s.length;return d>1&&tr(i,s[0],s[1])?s=[]:d>2&&tr(s[0],s[1],s[2])&&(s=[s[0]]),Th(i,$n(s,1),[])}),ku=ye||function(){return zt.Date.now()};function Mb(i,s){if(typeof s!="function")throw new fr(c);return i=ft(i),function(){if(--i<1)return s.apply(this,arguments)}}function xp(i,s,d){return s=d?n:s,s=i&&s==null?i.length:s,Fi(i,le,n,n,n,n,s)}function Sp(i,s){var d;if(typeof s!="function")throw new fr(c);return i=ft(i),function(){return--i>0&&(d=s.apply(this,arguments)),i<=1&&(s=n),d}}var Xl=gt(function(i,s,d){var b=N;if(d.length){var _=cr(d,la(Xl));b|=te}return Fi(i,b,s,d,_)}),Ep=gt(function(i,s,d){var b=N|F;if(d.length){var _=cr(d,la(Ep));b|=te}return Fi(s,b,i,d,_)});function Ap(i,s,d){s=d?n:s;var b=Fi(i,$,n,n,n,n,n,s);return b.placeholder=Ap.placeholder,b}function Cp(i,s,d){s=d?n:s;var b=Fi(i,q,n,n,n,n,n,s);return b.placeholder=Cp.placeholder,b}function _p(i,s,d){var b,_,R,W,X,Q,me=0,ve=!1,xe=!1,Oe=!0;if(typeof i!="function")throw new fr(c);s=kr(s)||0,Jt(d)&&(ve=!!d.leading,xe="maxWait"in d,R=xe?xn(kr(d.maxWait)||0,s):R,Oe="trailing"in d?!!d.trailing:Oe);function Xe(fn){var Kr=b,Gi=_;return b=_=n,me=fn,W=i.apply(Gi,Kr),W}function Je(fn){return me=fn,X=ss(wt,s),ve?Xe(fn):W}function ht(fn){var Kr=fn-Q,Gi=fn-me,jp=s-Kr;return xe?Vn(jp,R-Gi):jp}function Ze(fn){var Kr=fn-Q,Gi=fn-me;return Q===n||Kr>=s||Kr<0||xe&&Gi>=R}function wt(){var fn=ku();if(Ze(fn))return St(fn);X=ss(wt,ht(fn))}function St(fn){return X=n,Oe&&b?Xe(fn):(b=_=n,W)}function Er(){X!==n&&Nh(X),me=0,b=Q=_=X=n}function nr(){return X===n?W:St(ku())}function Ar(){var fn=ku(),Kr=Ze(fn);if(b=arguments,_=this,Q=fn,Kr){if(X===n)return Je(Q);if(xe)return Nh(X),X=ss(wt,s),Xe(Q)}return X===n&&(X=ss(wt,s)),W}return Ar.cancel=Er,Ar.flush=nr,Ar}var Ib=gt(function(i,s){return gh(i,1,s)}),kb=gt(function(i,s,d){return gh(i,kr(s)||0,d)});function Rb(i){return Fi(i,Z)}function Ru(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new fr(c);var d=function(){var b=arguments,_=s?s.apply(this,b):b[0],R=d.cache;if(R.has(_))return R.get(_);var W=i.apply(this,b);return d.cache=R.set(_,W)||R,W};return d.cache=new(Ru.Cache||Ri),d}Ru.Cache=Ri;function Ou(i){if(typeof i!="function")throw new fr(c);return function(){var s=arguments;switch(s.length){case 0:return!i.call(this);case 1:return!i.call(this,s[0]);case 2:return!i.call(this,s[0],s[1]);case 3:return!i.call(this,s[0],s[1],s[2])}return!i.apply(this,s)}}function Ob(i){return Sp(2,i)}var Fb=x1(function(i,s){s=s.length==1&&ct(s[0])?Ht(s[0],k(Qe())):Ht($n(s,1),k(Qe()));var d=s.length;return gt(function(b){for(var _=-1,R=Vn(b.length,d);++_<R;)b[_]=s[_].call(this,b[_]);return Qn(i,this,b)})}),Yl=gt(function(i,s){var d=cr(s,la(Yl));return Fi(i,te,n,s,d)}),Tp=gt(function(i,s){var d=cr(s,la(Tp));return Fi(i,re,n,s,d)}),Nb=Ni(function(i,s){return Fi(i,Ae,n,n,n,s)});function $b(i,s){if(typeof i!="function")throw new fr(c);return s=s===n?s:ft(s),gt(i,s)}function Bb(i,s){if(typeof i!="function")throw new fr(c);return s=s==null?0:xn(ft(s),0),gt(function(d){var b=d[s],_=go(d,0,s);return b&&ui(_,b),Qn(i,this,_)})}function Db(i,s,d){var b=!0,_=!0;if(typeof i!="function")throw new fr(c);return Jt(d)&&(b="leading"in d?!!d.leading:b,_="trailing"in d?!!d.trailing:_),_p(i,s,{leading:b,maxWait:s,trailing:_})}function Gb(i){return xp(i,1)}function Ub(i,s){return Yl(kl(s),i)}function Wb(){if(!arguments.length)return[];var i=arguments[0];return ct(i)?i:[i]}function zb(i){return Pr(i,P)}function Hb(i,s){return s=typeof s=="function"?s:n,Pr(i,P,s)}function jb(i){return Pr(i,x|P)}function Vb(i,s){return s=typeof s=="function"?s:n,Pr(i,x|P,s)}function Xb(i,s){return s==null||ph(i,s,Pn(s))}function Yr(i,s){return i===s||i!==i&&s!==s}var Yb=_u(bl),Kb=_u(function(i,s){return i>=s}),$o=bh(function(){return arguments}())?bh:function(i){return on(i)&&V.call(i,"callee")&&!Zn.call(i,"callee")},ct=oe.isArray,Qb=su?k(su):i1;function hr(i){return i!=null&&Fu(i.length)&&!Bi(i)}function ln(i){return on(i)&&hr(i)}function qb(i){return i===!0||i===!1||on(i)&&er(i)==In}var mo=Tr||af,Jb=Ua?k(Ua):o1;function Zb(i){return on(i)&&i.nodeType===1&&!us(i)}function ex(i){if(i==null)return!0;if(hr(i)&&(ct(i)||typeof i=="string"||typeof i.splice=="function"||mo(i)||fa(i)||$o(i)))return!i.length;var s=Xn(i);if(s==Wt||s==at)return!i.size;if(as(i))return!El(i).length;for(var d in i)if(V.call(i,d))return!1;return!0}function tx(i,s){return rs(i,s)}function nx(i,s,d){d=typeof d=="function"?d:n;var b=d?d(i,s):n;return b===n?rs(i,s,n,d):!!b}function Kl(i){if(!on(i))return!1;var s=er(i);return s==Gn||s==pn||typeof i.message=="string"&&typeof i.name=="string"&&!us(i)}function rx(i){return typeof i=="number"&&lo(i)}function Bi(i){if(!Jt(i))return!1;var s=er(i);return s==Ut||s==wn||s==Nt||s==yr}function Lp(i){return typeof i=="number"&&i==ft(i)}function Fu(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=he}function Jt(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function on(i){return i!=null&&typeof i=="object"}var Pp=Po?k(Po):s1;function ix(i,s){return i===s||Sl(i,s,Dl(s))}function ox(i,s,d){return d=typeof d=="function"?d:n,Sl(i,s,Dl(s),d)}function ax(i){return Mp(i)&&i!=+i}function sx(i){if(H1(i))throw new nt(u);return xh(i)}function ux(i){return i===null}function cx(i){return i==null}function Mp(i){return typeof i=="number"||on(i)&&er(i)==An}function us(i){if(!on(i)||er(i)!=jt)return!1;var s=Qt(i);if(s===null)return!0;var d=V.call(s,"constructor")&&s.constructor;return typeof d=="function"&&d instanceof d&&U.call(d)==Ve}var Ql=Y?k(Y):u1;function lx(i){return Lp(i)&&i>=-9007199254740991&&i<=he}var Ip=Hn?k(Hn):c1;function Nu(i){return typeof i=="string"||!ct(i)&&on(i)&&er(i)==_t}function Sr(i){return typeof i=="symbol"||on(i)&&er(i)==tn}var fa=uu?k(uu):l1;function fx(i){return i===n}function dx(i){return on(i)&&Xn(i)==Dt}function hx(i){return on(i)&&er(i)==vt}var px=_u(Al),gx=_u(function(i,s){return i<=s});function kp(i){if(!i)return[];if(hr(i))return Nu(i)?qn(i):dr(i);if(C&&i[C])return jn(i[C]());var s=Xn(i),d=s==Wt?un:s==at?lr:da;return d(i)}function Di(i){if(!i)return i===0?i:0;if(i=kr(i),i===ie||i===-1/0){var s=i<0?-1:1;return s*Te}return i===i?i:0}function ft(i){var s=Di(i),d=s%1;return s===s?d?s-d:s:0}function Rp(i){return i?Ro(ft(i),0,Ee):0}function kr(i){if(typeof i=="number")return i;if(Sr(i))return ke;if(Jt(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=Jt(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=A(i);var d=Rn.test(i);return d||Ia.test(i)?ta(i.slice(2),d?2:8):_i.test(i)?ke:+i}function Op(i){return li(i,pr(i))}function mx(i){return i?Ro(ft(i),-9007199254740991,he):i===0?i:0}function kt(i){return i==null?"":xr(i)}var yx=ua(function(i,s){if(as(s)||hr(s)){li(s,Pn(s),i);return}for(var d in s)V.call(s,d)&&es(i,d,s[d])}),Fp=ua(function(i,s){li(s,pr(s),i)}),$u=ua(function(i,s,d,b){li(s,pr(s),i,b)}),vx=ua(function(i,s,d,b){li(s,Pn(s),i,b)}),wx=Ni(yl);function bx(i,s){var d=sa(i);return s==null?d:hh(d,s)}var xx=gt(function(i,s){i=Ot(i);var d=-1,b=s.length,_=b>2?s[2]:n;for(_&&tr(s[0],s[1],_)&&(b=1);++d<b;)for(var R=s[d],W=pr(R),X=-1,Q=W.length;++X<Q;){var me=W[X],ve=i[me];(ve===n||Yr(ve,S[me])&&!V.call(i,me))&&(i[me]=R[me])}return i}),Sx=gt(function(i){return i.push(n,Jh),Qn(Np,n,i)});function Ex(i,s){return cu(i,Qe(s,3),ci)}function Ax(i,s){return cu(i,Qe(s,3),wl)}function Cx(i,s){return i==null?i:vl(i,Qe(s,3),pr)}function _x(i,s){return i==null?i:vh(i,Qe(s,3),pr)}function Tx(i,s){return i&&ci(i,Qe(s,3))}function Lx(i,s){return i&&wl(i,Qe(s,3))}function Px(i){return i==null?[]:vu(i,Pn(i))}function Mx(i){return i==null?[]:vu(i,pr(i))}function ql(i,s,d){var b=i==null?n:Oo(i,s);return b===n?d:b}function Ix(i,s){return i!=null&&tp(i,s,e1)}function Jl(i,s){return i!=null&&tp(i,s,t1)}var kx=Xh(function(i,s,d){s!=null&&typeof s.toString!="function"&&(s=He.call(s)),i[s]=d},ef(gr)),Rx=Xh(function(i,s,d){s!=null&&typeof s.toString!="function"&&(s=He.call(s)),V.call(i,s)?i[s].push(d):i[s]=[d]},Qe),Ox=gt(ns);function Pn(i){return hr(i)?fh(i):El(i)}function pr(i){return hr(i)?fh(i,!0):f1(i)}function Fx(i,s){var d={};return s=Qe(s,3),ci(i,function(b,_,R){Oi(d,s(b,_,R),b)}),d}function Nx(i,s){var d={};return s=Qe(s,3),ci(i,function(b,_,R){Oi(d,_,s(b,_,R))}),d}var $x=ua(function(i,s,d){wu(i,s,d)}),Np=ua(function(i,s,d,b){wu(i,s,d,b)}),Bx=Ni(function(i,s){var d={};if(i==null)return d;var b=!1;s=Ht(s,function(R){return R=po(R,i),b||(b=R.length>1),R}),li(i,$l(i),d),b&&(d=Pr(d,x|E|P,k1));for(var _=s.length;_--;)Pl(d,s[_]);return d});function Dx(i,s){return $p(i,Ou(Qe(s)))}var Gx=Ni(function(i,s){return i==null?{}:h1(i,s)});function $p(i,s){if(i==null)return{};var d=Ht($l(i),function(b){return[b]});return s=Qe(s),Lh(i,d,function(b,_){return s(b,_[0])})}function Ux(i,s,d){s=po(s,i);var b=-1,_=s.length;for(_||(_=1,i=n);++b<_;){var R=i==null?n:i[fi(s[b])];R===n&&(b=_,R=d),i=Bi(R)?R.call(i):R}return i}function Wx(i,s,d){return i==null?i:is(i,s,d)}function zx(i,s,d,b){return b=typeof b=="function"?b:n,i==null?i:is(i,s,d,b)}var Bp=Qh(Pn),Dp=Qh(pr);function Hx(i,s,d){var b=ct(i),_=b||mo(i)||fa(i);if(s=Qe(s,4),d==null){var R=i&&i.constructor;_?d=b?new R:[]:Jt(i)?d=Bi(R)?sa(Qt(i)):{}:d={}}return(_?Fn:ci)(i,function(W,X,Q){return s(d,W,X,Q)}),d}function jx(i,s){return i==null?!0:Pl(i,s)}function Vx(i,s,d){return i==null?i:Rh(i,s,kl(d))}function Xx(i,s,d,b){return b=typeof b=="function"?b:n,i==null?i:Rh(i,s,kl(d),b)}function da(i){return i==null?[]:z(i,Pn(i))}function Yx(i){return i==null?[]:z(i,pr(i))}function Kx(i,s,d){return d===n&&(d=s,s=n),d!==n&&(d=kr(d),d=d===d?d:0),s!==n&&(s=kr(s),s=s===s?s:0),Ro(kr(i),s,d)}function Qx(i,s,d){return s=Di(s),d===n?(d=s,s=0):d=Di(d),i=kr(i),n1(i,s,d)}function qx(i,s,d){if(d&&typeof d!="boolean"&&tr(i,s,d)&&(s=d=n),d===n&&(typeof s=="boolean"?(d=s,s=n):typeof i=="boolean"&&(d=i,i=n)),i===n&&s===n?(i=0,s=1):(i=Di(i),s===n?(s=i,i=0):s=Di(s)),i>s){var b=i;i=s,s=b}if(d||i%1||s%1){var _=ch();return Vn(i+_*(s-i+au("1e-"+((_+"").length-1))),s)}return _l(i,s)}var Jx=ca(function(i,s,d){return s=s.toLowerCase(),i+(d?Gp(s):s)});function Gp(i){return Zl(kt(i).toLowerCase())}function Up(i){return i=kt(i),i&&i.replace(Kn,be).replace(ea,"")}function Zx(i,s,d){i=kt(i),s=xr(s);var b=i.length;d=d===n?b:Ro(ft(d),0,b);var _=d;return d-=s.length,d>=0&&i.slice(d,_)==s}function eS(i){return i=kt(i),i&&Zi.test(i)?i.replace(vr,Ge):i}function tS(i){return i=kt(i),i&&ar.test(i)?i.replace(to,"\\$&"):i}var nS=ca(function(i,s,d){return i+(d?"-":"")+s.toLowerCase()}),rS=ca(function(i,s,d){return i+(d?" ":"")+s.toLowerCase()}),iS=Hh("toLowerCase");function oS(i,s,d){i=kt(i),s=ft(s);var b=s?Nn(i):0;if(!s||b>=s)return i;var _=(s-b)/2;return Cu(Lt(_),d)+i+Cu(De(_),d)}function aS(i,s,d){i=kt(i),s=ft(s);var b=s?Nn(i):0;return s&&b<s?i+Cu(s-b,d):i}function sS(i,s,d){i=kt(i),s=ft(s);var b=s?Nn(i):0;return s&&b<s?Cu(s-b,d)+i:i}function uS(i,s,d){return d||s==null?s=0:s&&(s=+s),gv(kt(i).replace(Yt,""),s||0)}function cS(i,s,d){return(d?tr(i,s,d):s===n)?s=1:s=ft(s),Tl(kt(i),s)}function lS(){var i=arguments,s=kt(i[0]);return i.length<3?s:s.replace(i[1],i[2])}var fS=ca(function(i,s,d){return i+(d?"_":"")+s.toLowerCase()});function dS(i,s,d){return d&&typeof d!="number"&&tr(i,s,d)&&(s=d=n),d=d===n?Ee:d>>>0,d?(i=kt(i),i&&(typeof s=="string"||s!=null&&!Ql(s))&&(s=xr(s),!s&&tt(i))?go(qn(i),0,d):i.split(s,d)):[]}var hS=ca(function(i,s,d){return i+(d?" ":"")+Zl(s)});function pS(i,s,d){return i=kt(i),d=d==null?0:Ro(ft(d),0,i.length),s=xr(s),i.slice(d,d+s.length)==s}function gS(i,s,d){var b=I.templateSettings;d&&tr(i,s,d)&&(s=n),i=kt(i),s=$u({},s,b,qh);var _=$u({},s.imports,b.imports,qh),R=Pn(_),W=z(_,R),X,Q,me=0,ve=s.interpolate||Jo,xe="__p += '",Oe=lt((s.escape||Jo).source+"|"+ve.source+"|"+(ve===eo?qo:Jo).source+"|"+(s.evaluate||Jo).source+"|$","g"),Xe="//# sourceURL="+(V.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ru+"]")+`
`;i.replace(Oe,function(Ze,wt,St,Er,nr,Ar){return St||(St=Er),xe+=i.slice(me,Ar).replace(Zc,ee),wt&&(X=!0,xe+=`' +
__e(`+wt+`) +
'`),nr&&(Q=!0,xe+=`';
`+nr+`;
__p += '`),St&&(xe+=`' +
((__t = (`+St+`)) == null ? '' : __t) +
'`),me=Ar+Ze.length,Ze}),xe+=`';
`;var Je=V.call(s,"variable")&&s.variable;if(!Je)xe=`with (obj) {
`+xe+`
}
`;else if(kn.test(Je))throw new nt(l);xe=(Q?xe.replace(Ai,""):xe).replace(Ma,"$1").replace(Ji,"$1;"),xe="function("+(Je||"obj")+`) {
`+(Je?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(X?", __e = _.escape":"")+(Q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xe+`return __p
}`;var ht=zp(function(){return Et(R,Xe+"return "+xe).apply(n,W)});if(ht.source=xe,Kl(ht))throw ht;return ht}function mS(i){return kt(i).toLowerCase()}function yS(i){return kt(i).toUpperCase()}function vS(i,s,d){if(i=kt(i),i&&(d||s===n))return A(i);if(!i||!(s=xr(s)))return i;var b=qn(i),_=qn(s),R=B(b,_),W=j(b,_)+1;return go(b,R,W).join("")}function wS(i,s,d){if(i=kt(i),i&&(d||s===n))return i.slice(0,Ln(i)+1);if(!i||!(s=xr(s)))return i;var b=qn(i),_=j(b,qn(s))+1;return go(b,0,_).join("")}function bS(i,s,d){if(i=kt(i),i&&(d||s===n))return i.replace(Yt,"");if(!i||!(s=xr(s)))return i;var b=qn(i),_=B(b,qn(s));return go(b,_).join("")}function xS(i,s){var d=pe,b=ae;if(Jt(s)){var _="separator"in s?s.separator:_;d="length"in s?ft(s.length):d,b="omission"in s?xr(s.omission):b}i=kt(i);var R=i.length;if(tt(i)){var W=qn(i);R=W.length}if(d>=R)return i;var X=d-Nn(b);if(X<1)return b;var Q=W?go(W,0,X).join(""):i.slice(0,X);if(_===n)return Q+b;if(W&&(X+=Q.length-X),Ql(_)){if(i.slice(X).search(_)){var me,ve=Q;for(_.global||(_=lt(_.source,kt(_n.exec(_))+"g")),_.lastIndex=0;me=_.exec(ve);)var xe=me.index;Q=Q.slice(0,xe===n?X:xe)}}else if(i.indexOf(xr(_),X)!=X){var Oe=Q.lastIndexOf(_);Oe>-1&&(Q=Q.slice(0,Oe))}return Q+b}function SS(i){return i=kt(i),i&&Ko.test(i)?i.replace(ni,Mt):i}var ES=ca(function(i,s,d){return i+(d?" ":"")+s.toUpperCase()}),Zl=Hh("toUpperCase");function Wp(i,s,d){return i=kt(i),s=d?n:s,s===n?rt(i)?Ka(i):dl(i):i.match(s)||[]}var zp=gt(function(i,s){try{return Qn(i,n,s)}catch(d){return Kl(d)?d:new nt(d)}}),AS=Ni(function(i,s){return Fn(s,function(d){d=fi(d),Oi(i,d,Xl(i[d],i))}),i});function CS(i){var s=i==null?0:i.length,d=Qe();return i=s?Ht(i,function(b){if(typeof b[1]!="function")throw new fr(c);return[d(b[0]),b[1]]}):[],gt(function(b){for(var _=-1;++_<s;){var R=i[_];if(Qn(R[0],this,b))return Qn(R[1],this,b)}})}function _S(i){return qv(Pr(i,x))}function ef(i){return function(){return i}}function TS(i,s){return i==null||i!==i?s:i}var LS=Vh(),PS=Vh(!0);function gr(i){return i}function tf(i){return Sh(typeof i=="function"?i:Pr(i,x))}function MS(i){return Ah(Pr(i,x))}function IS(i,s){return Ch(i,Pr(s,x))}var kS=gt(function(i,s){return function(d){return ns(d,i,s)}}),RS=gt(function(i,s){return function(d){return ns(i,d,s)}});function nf(i,s,d){var b=Pn(s),_=vu(s,b);d==null&&!(Jt(s)&&(_.length||!b.length))&&(d=s,s=i,i=this,_=vu(s,Pn(s)));var R=!(Jt(d)&&"chain"in d)||!!d.chain,W=Bi(i);return Fn(_,function(X){var Q=s[X];i[X]=Q,W&&(i.prototype[X]=function(){var me=this.__chain__;if(R||me){var ve=i(this.__wrapped__),xe=ve.__actions__=dr(this.__actions__);return xe.push({func:Q,args:arguments,thisArg:i}),ve.__chain__=me,ve}return Q.apply(i,ui([this.value()],arguments))})}),i}function OS(){return zt._===this&&(zt._=pt),this}function rf(){}function FS(i){return i=ft(i),gt(function(s){return _h(s,i)})}var NS=Ol(Ht),$S=Ol(Wa),BS=Ol(Ha);function Hp(i){return Ul(i)?ja(fi(i)):p1(i)}function DS(i){return function(s){return i==null?n:Oo(i,s)}}var GS=Yh(),US=Yh(!0);function of(){return[]}function af(){return!1}function WS(){return{}}function zS(){return""}function HS(){return!0}function jS(i,s){if(i=ft(i),i<1||i>he)return[];var d=Ee,b=Vn(i,Ee);s=Qe(s),i-=Ee;for(var _=m(b,s);++d<i;)s(d);return _}function VS(i){return ct(i)?Ht(i,fi):Sr(i)?[i]:dr(lp(kt(i)))}function XS(i){var s=++ue;return kt(i)+s}var YS=Au(function(i,s){return i+s},0),KS=Fl("ceil"),QS=Au(function(i,s){return i/s},1),qS=Fl("floor");function JS(i){return i&&i.length?yu(i,gr,bl):n}function ZS(i,s){return i&&i.length?yu(i,Qe(s,2),bl):n}function e2(i){return fu(i,gr)}function t2(i,s){return fu(i,Qe(s,2))}function n2(i){return i&&i.length?yu(i,gr,Al):n}function r2(i,s){return i&&i.length?yu(i,Qe(s,2),Al):n}var i2=Au(function(i,s){return i*s},1),o2=Fl("round"),a2=Au(function(i,s){return i-s},0);function s2(i){return i&&i.length?f(i,gr):0}function u2(i,s){return i&&i.length?f(i,Qe(s,2)):0}return I.after=Mb,I.ary=xp,I.assign=yx,I.assignIn=Fp,I.assignInWith=$u,I.assignWith=vx,I.at=wx,I.before=Sp,I.bind=Xl,I.bindAll=AS,I.bindKey=Ep,I.castArray=Wb,I.chain=vp,I.chunk=q1,I.compact=J1,I.concat=Z1,I.cond=CS,I.conforms=_S,I.constant=ef,I.countBy=sb,I.create=bx,I.curry=Ap,I.curryRight=Cp,I.debounce=_p,I.defaults=xx,I.defaultsDeep=Sx,I.defer=Ib,I.delay=kb,I.difference=ew,I.differenceBy=tw,I.differenceWith=nw,I.drop=rw,I.dropRight=iw,I.dropRightWhile=ow,I.dropWhile=aw,I.fill=sw,I.filter=cb,I.flatMap=db,I.flatMapDeep=hb,I.flatMapDepth=pb,I.flatten=pp,I.flattenDeep=uw,I.flattenDepth=cw,I.flip=Rb,I.flow=LS,I.flowRight=PS,I.fromPairs=lw,I.functions=Px,I.functionsIn=Mx,I.groupBy=gb,I.initial=dw,I.intersection=hw,I.intersectionBy=pw,I.intersectionWith=gw,I.invert=kx,I.invertBy=Rx,I.invokeMap=yb,I.iteratee=tf,I.keyBy=vb,I.keys=Pn,I.keysIn=pr,I.map=Iu,I.mapKeys=Fx,I.mapValues=Nx,I.matches=MS,I.matchesProperty=IS,I.memoize=Ru,I.merge=$x,I.mergeWith=Np,I.method=kS,I.methodOf=RS,I.mixin=nf,I.negate=Ou,I.nthArg=FS,I.omit=Bx,I.omitBy=Dx,I.once=Ob,I.orderBy=wb,I.over=NS,I.overArgs=Fb,I.overEvery=$S,I.overSome=BS,I.partial=Yl,I.partialRight=Tp,I.partition=bb,I.pick=Gx,I.pickBy=$p,I.property=Hp,I.propertyOf=DS,I.pull=ww,I.pullAll=mp,I.pullAllBy=bw,I.pullAllWith=xw,I.pullAt=Sw,I.range=GS,I.rangeRight=US,I.rearg=Nb,I.reject=Eb,I.remove=Ew,I.rest=$b,I.reverse=jl,I.sampleSize=Cb,I.set=Wx,I.setWith=zx,I.shuffle=_b,I.slice=Aw,I.sortBy=Pb,I.sortedUniq=Iw,I.sortedUniqBy=kw,I.split=dS,I.spread=Bb,I.tail=Rw,I.take=Ow,I.takeRight=Fw,I.takeRightWhile=Nw,I.takeWhile=$w,I.tap=Jw,I.throttle=Db,I.thru=Mu,I.toArray=kp,I.toPairs=Bp,I.toPairsIn=Dp,I.toPath=VS,I.toPlainObject=Op,I.transform=Hx,I.unary=Gb,I.union=Bw,I.unionBy=Dw,I.unionWith=Gw,I.uniq=Uw,I.uniqBy=Ww,I.uniqWith=zw,I.unset=jx,I.unzip=Vl,I.unzipWith=yp,I.update=Vx,I.updateWith=Xx,I.values=da,I.valuesIn=Yx,I.without=Hw,I.words=Wp,I.wrap=Ub,I.xor=jw,I.xorBy=Vw,I.xorWith=Xw,I.zip=Yw,I.zipObject=Kw,I.zipObjectDeep=Qw,I.zipWith=qw,I.entries=Bp,I.entriesIn=Dp,I.extend=Fp,I.extendWith=$u,nf(I,I),I.add=YS,I.attempt=zp,I.camelCase=Jx,I.capitalize=Gp,I.ceil=KS,I.clamp=Kx,I.clone=zb,I.cloneDeep=jb,I.cloneDeepWith=Vb,I.cloneWith=Hb,I.conformsTo=Xb,I.deburr=Up,I.defaultTo=TS,I.divide=QS,I.endsWith=Zx,I.eq=Yr,I.escape=eS,I.escapeRegExp=tS,I.every=ub,I.find=lb,I.findIndex=dp,I.findKey=Ex,I.findLast=fb,I.findLastIndex=hp,I.findLastKey=Ax,I.floor=qS,I.forEach=wp,I.forEachRight=bp,I.forIn=Cx,I.forInRight=_x,I.forOwn=Tx,I.forOwnRight=Lx,I.get=ql,I.gt=Yb,I.gte=Kb,I.has=Ix,I.hasIn=Jl,I.head=gp,I.identity=gr,I.includes=mb,I.indexOf=fw,I.inRange=Qx,I.invoke=Ox,I.isArguments=$o,I.isArray=ct,I.isArrayBuffer=Qb,I.isArrayLike=hr,I.isArrayLikeObject=ln,I.isBoolean=qb,I.isBuffer=mo,I.isDate=Jb,I.isElement=Zb,I.isEmpty=ex,I.isEqual=tx,I.isEqualWith=nx,I.isError=Kl,I.isFinite=rx,I.isFunction=Bi,I.isInteger=Lp,I.isLength=Fu,I.isMap=Pp,I.isMatch=ix,I.isMatchWith=ox,I.isNaN=ax,I.isNative=sx,I.isNil=cx,I.isNull=ux,I.isNumber=Mp,I.isObject=Jt,I.isObjectLike=on,I.isPlainObject=us,I.isRegExp=Ql,I.isSafeInteger=lx,I.isSet=Ip,I.isString=Nu,I.isSymbol=Sr,I.isTypedArray=fa,I.isUndefined=fx,I.isWeakMap=dx,I.isWeakSet=hx,I.join=mw,I.kebabCase=nS,I.last=Ir,I.lastIndexOf=yw,I.lowerCase=rS,I.lowerFirst=iS,I.lt=px,I.lte=gx,I.max=JS,I.maxBy=ZS,I.mean=e2,I.meanBy=t2,I.min=n2,I.minBy=r2,I.stubArray=of,I.stubFalse=af,I.stubObject=WS,I.stubString=zS,I.stubTrue=HS,I.multiply=i2,I.nth=vw,I.noConflict=OS,I.noop=rf,I.now=ku,I.pad=oS,I.padEnd=aS,I.padStart=sS,I.parseInt=uS,I.random=qx,I.reduce=xb,I.reduceRight=Sb,I.repeat=cS,I.replace=lS,I.result=Ux,I.round=o2,I.runInContext=K,I.sample=Ab,I.size=Tb,I.snakeCase=fS,I.some=Lb,I.sortedIndex=Cw,I.sortedIndexBy=_w,I.sortedIndexOf=Tw,I.sortedLastIndex=Lw,I.sortedLastIndexBy=Pw,I.sortedLastIndexOf=Mw,I.startCase=hS,I.startsWith=pS,I.subtract=a2,I.sum=s2,I.sumBy=u2,I.template=gS,I.times=jS,I.toFinite=Di,I.toInteger=ft,I.toLength=Rp,I.toLower=mS,I.toNumber=kr,I.toSafeInteger=mx,I.toString=kt,I.toUpper=yS,I.trim=vS,I.trimEnd=wS,I.trimStart=bS,I.truncate=xS,I.unescape=SS,I.uniqueId=XS,I.upperCase=ES,I.upperFirst=Zl,I.each=wp,I.eachRight=bp,I.first=gp,nf(I,function(){var i={};return ci(I,function(s,d){V.call(I.prototype,d)||(i[d]=s)}),i}(),{chain:!1}),I.VERSION=r,Fn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){I[i].placeholder=I}),Fn(["drop","take"],function(i,s){bt.prototype[i]=function(d){d=d===n?1:xn(ft(d),0);var b=this.__filtered__&&!s?new bt(this):this.clone();return b.__filtered__?b.__takeCount__=Vn(d,b.__takeCount__):b.__views__.push({size:Vn(d,Ee),type:i+(b.__dir__<0?"Right":"")}),b},bt.prototype[i+"Right"]=function(d){return this.reverse()[i](d).reverse()}}),Fn(["filter","map","takeWhile"],function(i,s){var d=s+1,b=d==_e||d==se;bt.prototype[i]=function(_){var R=this.clone();return R.__iteratees__.push({iteratee:Qe(_,3),type:d}),R.__filtered__=R.__filtered__||b,R}}),Fn(["head","last"],function(i,s){var d="take"+(s?"Right":"");bt.prototype[i]=function(){return this[d](1).value()[0]}}),Fn(["initial","tail"],function(i,s){var d="drop"+(s?"":"Right");bt.prototype[i]=function(){return this.__filtered__?new bt(this):this[d](1)}}),bt.prototype.compact=function(){return this.filter(gr)},bt.prototype.find=function(i){return this.filter(i).head()},bt.prototype.findLast=function(i){return this.reverse().find(i)},bt.prototype.invokeMap=gt(function(i,s){return typeof i=="function"?new bt(this):this.map(function(d){return ns(d,i,s)})}),bt.prototype.reject=function(i){return this.filter(Ou(Qe(i)))},bt.prototype.slice=function(i,s){i=ft(i);var d=this;return d.__filtered__&&(i>0||s<0)?new bt(d):(i<0?d=d.takeRight(-i):i&&(d=d.drop(i)),s!==n&&(s=ft(s),d=s<0?d.dropRight(-s):d.take(s-i)),d)},bt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},bt.prototype.toArray=function(){return this.take(Ee)},ci(bt.prototype,function(i,s){var d=/^(?:filter|find|map|reject)|While$/.test(s),b=/^(?:head|last)$/.test(s),_=I[b?"take"+(s=="last"?"Right":""):s],R=b||/^find/.test(s);_&&(I.prototype[s]=function(){var W=this.__wrapped__,X=b?[1]:arguments,Q=W instanceof bt,me=X[0],ve=Q||ct(W),xe=function(wt){var St=_.apply(I,ui([wt],X));return b&&Oe?St[0]:St};ve&&d&&typeof me=="function"&&me.length!=1&&(Q=ve=!1);var Oe=this.__chain__,Xe=!!this.__actions__.length,Je=R&&!Oe,ht=Q&&!Xe;if(!R&&ve){W=ht?W:new bt(this);var Ze=i.apply(W,X);return Ze.__actions__.push({func:Mu,args:[xe],thisArg:n}),new Lr(Ze,Oe)}return Je&&ht?i.apply(this,X):(Ze=this.thru(xe),Je?b?Ze.value()[0]:Ze.value():Ze)})}),Fn(["pop","push","shift","sort","splice","unshift"],function(i){var s=y[i],d=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",b=/^(?:pop|shift)$/.test(i);I.prototype[i]=function(){var _=arguments;if(b&&!this.__chain__){var R=this.value();return s.apply(ct(R)?R:[],_)}return this[d](function(W){return s.apply(ct(W)?W:[],_)})}}),ci(bt.prototype,function(i,s){var d=I[s];if(d){var b=d.name+"";V.call(aa,b)||(aa[b]=[]),aa[b].push({name:s,func:d})}}),aa[Eu(n,F).name]=[{name:"wrapper",func:n}],bt.prototype.clone=Sv,bt.prototype.reverse=Ev,bt.prototype.value=Av,I.prototype.at=Zw,I.prototype.chain=eb,I.prototype.commit=tb,I.prototype.next=nb,I.prototype.plant=ib,I.prototype.reverse=ob,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=ab,I.prototype.first=I.prototype.head,C&&(I.prototype[C]=rb),I},Ii=co();_r?((_r.exports=Ii)._=Ii,Mi._=Ii):zt._=Ii}).call(cs)})(sc,sc.exports);var Ue=sc.exports;const GI=Vo(Ue);var p2=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(e={}){var n=e,r,o;n.ready=new Promise((a,f)=>{r=a,o=f}),function(a){a.Td=a.Td||[],a.Td.push(function(){a.MakeSWCanvasSurface=function(f){var m=f,v=typeof OffscreenCanvas<"u"&&m instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&m instanceof HTMLCanvasElement||v||(m=document.getElementById(f),m)))throw"Canvas with id "+f+" was not found";return(f=a.MakeSurface(m.width,m.height))&&(f.Md=m),f},a.MakeCanvasSurface||(a.MakeCanvasSurface=a.MakeSWCanvasSurface),a.MakeSurface=function(f,m){var v={width:f,height:m,colorType:a.ColorType.RGBA_8888,alphaType:a.AlphaType.Unpremul,colorSpace:a.ColorSpace.SRGB},A=f*m*4,k=a._malloc(A);return(v=a.Surface._makeRasterDirect(v,k,4*f))&&(v.Md=null,v.If=f,v.Ef=m,v.Gf=A,v.cf=k,v.getCanvas().clear(a.TRANSPARENT)),v},a.MakeRasterDirectSurface=function(f,m,v){return a.Surface._makeRasterDirect(f,m.byteOffset,v)},a.Surface.prototype.flush=function(f){if(a.Nd(this.Ld),this._flush(),this.Md){var m=new Uint8ClampedArray(a.HEAPU8.buffer,this.cf,this.Gf);m=new ImageData(m,this.If,this.Ef),f?this.Md.getContext("2d").putImageData(m,0,0,f[0],f[1],f[2]-f[0],f[3]-f[1]):this.Md.getContext("2d").putImageData(m,0,0)}},a.Surface.prototype.dispose=function(){this.cf&&a._free(this.cf),this.delete()},a.Nd=a.Nd||function(){},a.Ue=a.Ue||function(){return null}})}(n),function(a){a.Td=a.Td||[],a.Td.push(function(){function f(O,B,j){return O&&O.hasOwnProperty(B)?O[B]:j}function m(O){var B=ro(zn);return zn[B]=O,B}function v(O){return O.naturalHeight||O.videoHeight||O.displayHeight||O.height}function A(O){return O.naturalWidth||O.videoWidth||O.displayWidth||O.width}function k(O,B,j,ge){return O.bindTexture(O.TEXTURE_2D,B),ge||j.alphaType!==a.AlphaType.Premul||O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),B}function z(O,B,j){j||B.alphaType!==a.AlphaType.Premul||O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),O.bindTexture(O.TEXTURE_2D,null)}a.GetWebGLContext=function(O,B){if(!O)throw"null canvas passed into makeWebGLContext";var j={alpha:f(B,"alpha",1),depth:f(B,"depth",1),stencil:f(B,"stencil",8),antialias:f(B,"antialias",0),premultipliedAlpha:f(B,"premultipliedAlpha",1),preserveDrawingBuffer:f(B,"preserveDrawingBuffer",0),preferLowPowerToHighPerformance:f(B,"preferLowPowerToHighPerformance",0),failIfMajorPerformanceCaveat:f(B,"failIfMajorPerformanceCaveat",0),enableExtensionsByDefault:f(B,"enableExtensionsByDefault",1),explicitSwapControl:f(B,"explicitSwapControl",0),renderViaOffscreenBackBuffer:f(B,"renderViaOffscreenBackBuffer",0)};if(j.majorVersion=B&&B.majorVersion?B.majorVersion:typeof WebGL2RenderingContext<"u"?2:1,j.explicitSwapControl)throw"explicitSwapControl is not supported";return O=ol(O,j),O?(eu(O),ut.ge.getExtension("WEBGL_debug_renderer_info"),O):0},a.deleteContext=function(O){ut===br[O]&&(ut=null),typeof JSEvents=="object"&&JSEvents.yg(br[O].ge.canvas),br[O]&&br[O].ge.canvas&&(br[O].ge.canvas.Af=void 0),br[O]=null},a._setTextureCleanup({deleteTexture:function(O,B){var j=zn[B];j&&br[O].ge.deleteTexture(j),zn[B]=null}}),a.MakeWebGLContext=function(O){if(!this.Nd(O))return null;var B=this._MakeGrContext();if(!B)return null;B.Ld=O;var j=B.delete.bind(B);return B.delete=(function(){a.Nd(this.Ld),j()}).bind(B),ut.gf=B},a.MakeGrContext=a.MakeWebGLContext,a.GrDirectContext.prototype.getResourceCacheLimitBytes=function(){a.Nd(this.Ld),this._getResourceCacheLimitBytes()},a.GrDirectContext.prototype.getResourceCacheUsageBytes=function(){a.Nd(this.Ld),this._getResourceCacheUsageBytes()},a.GrDirectContext.prototype.releaseResourcesAndAbandonContext=function(){a.Nd(this.Ld),this._releaseResourcesAndAbandonContext()},a.GrDirectContext.prototype.setResourceCacheLimitBytes=function(O){a.Nd(this.Ld),this._setResourceCacheLimitBytes(O)},a.MakeOnScreenGLSurface=function(O,B,j,ge,be,Ge){return!this.Nd(O.Ld)||(B=be===void 0||Ge===void 0?this._MakeOnScreenGLSurface(O,B,j,ge):this._MakeOnScreenGLSurface(O,B,j,ge,be,Ge),!B)?null:(B.Ld=O.Ld,B)},a.MakeRenderTarget=function(){var O=arguments[0];if(!this.Nd(O.Ld))return null;if(arguments.length===3){var B=this._MakeRenderTargetWH(O,arguments[1],arguments[2]);if(!B)return null}else if(arguments.length===2){if(B=this._MakeRenderTargetII(O,arguments[1]),!B)return null}else return null;return B.Ld=O.Ld,B},a.MakeWebGLCanvasSurface=function(O,B,j){B=B||null;var ge=O,be=typeof OffscreenCanvas<"u"&&ge instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&ge instanceof HTMLCanvasElement||be||(ge=document.getElementById(O),ge)))throw"Canvas with id "+O+" was not found";if(O=this.GetWebGLContext(ge,j),!O||0>O)throw"failed to create webgl context: err "+O;return O=this.MakeWebGLContext(O),B=this.MakeOnScreenGLSurface(O,ge.width,ge.height,B),B||(B=ge.cloneNode(!0),ge.parentNode.replaceChild(B,ge),B.classList.add("ck-replaced"),a.MakeSWCanvasSurface(B))},a.MakeCanvasSurface=a.MakeWebGLCanvasSurface,a.Surface.prototype.makeImageFromTexture=function(O,B){return a.Nd(this.Ld),O=m(O),(B=this._makeImageFromTexture(this.Ld,O,B))&&(B.Me=O),B},a.Surface.prototype.makeImageFromTextureSource=function(O,B,j){B||(B={height:v(O),width:A(O),colorType:a.ColorType.RGBA_8888,alphaType:j?a.AlphaType.Premul:a.AlphaType.Unpremul}),B.colorSpace||(B.colorSpace=a.ColorSpace.SRGB),a.Nd(this.Ld);var ge=ut.ge;return j=k(ge,ge.createTexture(),B,j),ut.version===2?ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,B.width,B.height,0,ge.RGBA,ge.UNSIGNED_BYTE,O):ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,ge.RGBA,ge.UNSIGNED_BYTE,O),z(ge,B),this._resetContext(),this.makeImageFromTexture(j,B)},a.Surface.prototype.updateTextureFromSource=function(O,B,j){if(O.Me){a.Nd(this.Ld);var ge=O.getImageInfo(),be=ut.ge,Ge=k(be,zn[O.Me],ge,j);ut.version===2?be.texImage2D(be.TEXTURE_2D,0,be.RGBA,A(B),v(B),0,be.RGBA,be.UNSIGNED_BYTE,B):be.texImage2D(be.TEXTURE_2D,0,be.RGBA,be.RGBA,be.UNSIGNED_BYTE,B),z(be,ge,j),this._resetContext(),zn[O.Me]=null,O.Me=m(Ge),ge.colorSpace=O.getColorSpace(),B=this._makeImageFromTexture(this.Ld,O.Me,ge),j=O.Kd.Sd,be=O.Kd.Zd,O.Kd.Sd=B.Kd.Sd,O.Kd.Zd=B.Kd.Zd,B.Kd.Sd=j,B.Kd.Zd=be,B.delete(),ge.colorSpace.delete()}},a.MakeLazyImageFromTextureSource=function(O,B,j){B||(B={height:v(O),width:A(O),colorType:a.ColorType.RGBA_8888,alphaType:j?a.AlphaType.Premul:a.AlphaType.Unpremul}),B.colorSpace||(B.colorSpace=a.ColorSpace.SRGB);var ge={makeTexture:function(){var be=ut,Ge=be.ge,ee=k(Ge,Ge.createTexture(),B,j);return be.version===2?Ge.texImage2D(Ge.TEXTURE_2D,0,Ge.RGBA,B.width,B.height,0,Ge.RGBA,Ge.UNSIGNED_BYTE,O):Ge.texImage2D(Ge.TEXTURE_2D,0,Ge.RGBA,Ge.RGBA,Ge.UNSIGNED_BYTE,O),z(Ge,B,j),m(ee)},freeSrc:function(){}};return O.constructor.name==="VideoFrame"&&(ge.freeSrc=function(){O.close()}),a.Image._makeFromGenerator(B,ge)},a.Nd=function(O){return O?eu(O):!1},a.Ue=function(){return ut&&ut.gf&&!ut.gf.isDeleted()?ut.gf:null}})}(n),function(a){function f(y,g,S,M,U){for(var V=0;V<y.length;V++)g[V*S+(V*U+M+S)%S]=y[V];return g}function m(y){for(var g=y*y,S=Array(g);g--;)S[g]=g%(y+1)===0?1:0;return S}function v(y){return y?y.constructor===Float32Array&&y.length===4:!1}function A(y){return(O(255*y[3])<<24|O(255*y[0])<<16|O(255*y[1])<<8|O(255*y[2])<<0)>>>0}function k(y){if(y&&y._ck)return y;if(y instanceof Float32Array){for(var g=Math.floor(y.length/4),S=new Uint32Array(g),M=0;M<g;M++)S[M]=A(y.slice(4*M,4*(M+1)));return S}if(y instanceof Uint32Array)return y;if(y instanceof Array&&y[0]instanceof Float32Array)return y.map(A)}function z(y){if(y===void 0)return 1;var g=parseFloat(y);return y&&y.indexOf("%")!==-1?g/100:g}function O(y){return Math.round(Math.max(0,Math.min(y||0,255)))}function B(y,g){g&&g._ck||a._free(y)}function j(y,g,S){if(!y||!y.length)return lt;if(y&&y._ck)return y.byteOffset;var M=a[g].BYTES_PER_ELEMENT;return S||(S=a._malloc(y.length*M)),a[g].set(y,S/M),S}function ge(y){var g={ce:lt,count:y.length,colorType:a.ColorType.RGBA_F32};if(y instanceof Float32Array)g.ce=j(y,"HEAPF32"),g.count=y.length/4;else if(y instanceof Uint32Array)g.ce=j(y,"HEAPU32"),g.colorType=a.ColorType.RGBA_8888;else if(y instanceof Array){if(y&&y.length){for(var S=a._malloc(16*y.length),M=0,U=S/4,V=0;V<y.length;V++)for(var ue=0;4>ue;ue++)a.HEAPF32[U+M]=y[V][ue],M++;y=S}else y=lt;g.ce=y}else throw"Invalid argument to copyFlexibleColorArray, Not a color array "+typeof y;return g}function be(y){if(!y)return lt;var g=Xa.toTypedArray();if(y.length){if(y.length===6||y.length===9)return j(y,"HEAPF32",lr),y.length===6&&a.HEAPF32.set(Ot,6+lr/4),lr;if(y.length===16)return g[0]=y[0],g[1]=y[1],g[2]=y[3],g[3]=y[4],g[4]=y[5],g[5]=y[7],g[6]=y[12],g[7]=y[13],g[8]=y[15],lr;throw"invalid matrix size"}if(y.m11===void 0)throw"invalid matrix argument";return g[0]=y.m11,g[1]=y.m21,g[2]=y.m41,g[3]=y.m12,g[4]=y.m22,g[5]=y.m42,g[6]=y.m14,g[7]=y.m24,g[8]=y.m44,lr}function Ge(y){if(!y)return lt;var g=Ya.toTypedArray();if(y.length){if(y.length!==16&&y.length!==6&&y.length!==9)throw"invalid matrix size";return y.length===16?j(y,"HEAPF32",uo):(g.fill(0),g[0]=y[0],g[1]=y[1],g[3]=y[2],g[4]=y[3],g[5]=y[4],g[7]=y[5],g[10]=1,g[12]=y[6],g[13]=y[7],g[15]=y[8],y.length===6&&(g[12]=0,g[13]=0,g[15]=1),uo)}if(y.m11===void 0)throw"invalid matrix argument";return g[0]=y.m11,g[1]=y.m21,g[2]=y.m31,g[3]=y.m41,g[4]=y.m12,g[5]=y.m22,g[6]=y.m32,g[7]=y.m42,g[8]=y.m13,g[9]=y.m23,g[10]=y.m33,g[11]=y.m43,g[12]=y.m14,g[13]=y.m24,g[14]=y.m34,g[15]=y.m44,uo}function ee(y,g){return j(y,"HEAPF32",g||Nn)}function We(y,g,S,M){var U=qn.toTypedArray();return U[0]=y,U[1]=g,U[2]=S,U[3]=M,Nn}function tt(y){for(var g=new Float32Array(4),S=0;4>S;S++)g[S]=a.HEAPF32[y/4+S];return g}function rt(y,g){return j(y,"HEAPF32",g||Mt)}function jn(y,g){return j(y,"HEAPF32",g||nt)}function un(){for(var y=0,g=0;g<arguments.length-1;g+=2)y+=arguments[g]*arguments[g+1];return y}function so(y,g,S){for(var M=Array(y.length),U=0;U<S;U++)for(var V=0;V<S;V++){for(var ue=0,Ce=0;Ce<S;Ce++)ue+=y[S*U+Ce]*g[S*Ce+V];M[U*S+V]=ue}return M}function cr(y,g){for(var S=so(g[0],g[1],y),M=2;M<g.length;)S=so(S,g[M],y),M++;return S}a.Color=function(y,g,S,M){return M===void 0&&(M=1),a.Color4f(O(y)/255,O(g)/255,O(S)/255,M)},a.ColorAsInt=function(y,g,S,M){return M===void 0&&(M=255),(O(M)<<24|O(y)<<16|O(g)<<8|O(S)<<0&268435455)>>>0},a.Color4f=function(y,g,S,M){return M===void 0&&(M=1),Float32Array.of(y,g,S,M)},Object.defineProperty(a,"TRANSPARENT",{get:function(){return a.Color4f(0,0,0,0)}}),Object.defineProperty(a,"BLACK",{get:function(){return a.Color4f(0,0,0,1)}}),Object.defineProperty(a,"WHITE",{get:function(){return a.Color4f(1,1,1,1)}}),Object.defineProperty(a,"RED",{get:function(){return a.Color4f(1,0,0,1)}}),Object.defineProperty(a,"GREEN",{get:function(){return a.Color4f(0,1,0,1)}}),Object.defineProperty(a,"BLUE",{get:function(){return a.Color4f(0,0,1,1)}}),Object.defineProperty(a,"YELLOW",{get:function(){return a.Color4f(1,1,0,1)}}),Object.defineProperty(a,"CYAN",{get:function(){return a.Color4f(0,1,1,1)}}),Object.defineProperty(a,"MAGENTA",{get:function(){return a.Color4f(1,0,1,1)}}),a.getColorComponents=function(y){return[Math.floor(255*y[0]),Math.floor(255*y[1]),Math.floor(255*y[2]),y[3]]},a.parseColorString=function(y,g){if(y=y.toLowerCase(),y.startsWith("#")){switch(g=255,y.length){case 9:g=parseInt(y.slice(7,9),16);case 7:var S=parseInt(y.slice(1,3),16),M=parseInt(y.slice(3,5),16),U=parseInt(y.slice(5,7),16);break;case 5:g=17*parseInt(y.slice(4,5),16);case 4:S=17*parseInt(y.slice(1,2),16),M=17*parseInt(y.slice(2,3),16),U=17*parseInt(y.slice(3,4),16)}return a.Color(S,M,U,g/255)}return y.startsWith("rgba")?(y=y.slice(5,-1),y=y.split(","),a.Color(+y[0],+y[1],+y[2],z(y[3]))):y.startsWith("rgb")?(y=y.slice(4,-1),y=y.split(","),a.Color(+y[0],+y[1],+y[2],z(y[3]))):y.startsWith("gray(")||y.startsWith("hsl")||!g||(y=g[y],y===void 0)?a.BLACK:y},a.multiplyByAlpha=function(y,g){return y=y.slice(),y[3]=Math.max(0,Math.min(y[3]*g,1)),y},a.Malloc=function(y,g){var S=a._malloc(g*y.BYTES_PER_ELEMENT);return{_ck:!0,length:g,byteOffset:S,re:null,subarray:function(M,U){return M=this.toTypedArray().subarray(M,U),M._ck=!0,M},toTypedArray:function(){return this.re&&this.re.length?this.re:(this.re=new y(a.HEAPU8.buffer,S,g),this.re._ck=!0,this.re)}}},a.Free=function(y){a._free(y.byteOffset),y.byteOffset=lt,y.toTypedArray=null,y.re=null};var lr=lt,Xa,uo=lt,Ya,Nn=lt,qn,Ln,Mt=lt,du,Vr=lt,Ka,co=lt,Ii,K=lt,fe,oe=lt,$e,nt=lt,Et,rn=lt,Ot=Float32Array.of(0,0,1),lt=0;a.onRuntimeInitialized=function(){function y(g,S,M,U,V,ue,Ce){ue||(ue=4*U.width,U.colorType===a.ColorType.RGBA_F16?ue*=2:U.colorType===a.ColorType.RGBA_F32&&(ue*=4));var He=ue*U.height,Ve=V?V.byteOffset:a._malloc(He);if(Ce?!g._readPixels(U,Ve,ue,S,M,Ce):!g._readPixels(U,Ve,ue,S,M))return V||a._free(Ve),null;if(V)return V.toTypedArray();switch(U.colorType){case a.ColorType.RGBA_8888:case a.ColorType.RGBA_F16:g=new Uint8Array(a.HEAPU8.buffer,Ve,He).slice();break;case a.ColorType.RGBA_F32:g=new Float32Array(a.HEAPU8.buffer,Ve,He).slice();break;default:return null}return a._free(Ve),g}qn=a.Malloc(Float32Array,4),Nn=qn.byteOffset,Ya=a.Malloc(Float32Array,16),uo=Ya.byteOffset,Xa=a.Malloc(Float32Array,9),lr=Xa.byteOffset,$e=a.Malloc(Float32Array,12),nt=$e.byteOffset,Et=a.Malloc(Float32Array,12),rn=Et.byteOffset,Ln=a.Malloc(Float32Array,4),Mt=Ln.byteOffset,du=a.Malloc(Float32Array,4),Vr=du.byteOffset,Ka=a.Malloc(Float32Array,3),co=Ka.byteOffset,Ii=a.Malloc(Float32Array,3),K=Ii.byteOffset,fe=a.Malloc(Int32Array,4),oe=fe.byteOffset,a.ColorSpace.SRGB=a.ColorSpace._MakeSRGB(),a.ColorSpace.DISPLAY_P3=a.ColorSpace._MakeDisplayP3(),a.ColorSpace.ADOBE_RGB=a.ColorSpace._MakeAdobeRGB(),a.GlyphRunFlags={IsWhiteSpace:a._GlyphRunFlags_isWhiteSpace},a.Path.MakeFromCmds=function(g){var S=j(g,"HEAPF32"),M=a.Path._MakeFromCmds(S,g.length);return B(S,g),M},a.Path.MakeFromVerbsPointsWeights=function(g,S,M){var U=j(g,"HEAPU8"),V=j(S,"HEAPF32"),ue=j(M,"HEAPF32"),Ce=a.Path._MakeFromVerbsPointsWeights(U,g.length,V,S.length,ue,M&&M.length||0);return B(U,g),B(V,S),B(ue,M),Ce},a.Path.prototype.addArc=function(g,S,M){return g=rt(g),this._addArc(g,S,M),this},a.Path.prototype.addCircle=function(g,S,M,U){return this._addCircle(g,S,M,!!U),this},a.Path.prototype.addOval=function(g,S,M){return M===void 0&&(M=1),g=rt(g),this._addOval(g,!!S,M),this},a.Path.prototype.addPath=function(){var g=Array.prototype.slice.call(arguments),S=g[0],M=!1;if(typeof g[g.length-1]=="boolean"&&(M=g.pop()),g.length===1)this._addPath(S,1,0,0,0,1,0,0,0,1,M);else if(g.length===2)g=g[1],this._addPath(S,g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1,M);else if(g.length===7||g.length===10)this._addPath(S,g[1],g[2],g[3],g[4],g[5],g[6],g[7]||0,g[8]||0,g[9]||1,M);else return null;return this},a.Path.prototype.addPoly=function(g,S){var M=j(g,"HEAPF32");return this._addPoly(M,g.length/2,S),B(M,g),this},a.Path.prototype.addRect=function(g,S){return g=rt(g),this._addRect(g,!!S),this},a.Path.prototype.addRRect=function(g,S){return g=jn(g),this._addRRect(g,!!S),this},a.Path.prototype.addVerbsPointsWeights=function(g,S,M){var U=j(g,"HEAPU8"),V=j(S,"HEAPF32"),ue=j(M,"HEAPF32");this._addVerbsPointsWeights(U,g.length,V,S.length,ue,M&&M.length||0),B(U,g),B(V,S),B(ue,M)},a.Path.prototype.arc=function(g,S,M,U,V,ue){return g=a.LTRBRect(g-M,S-M,g+M,S+M),V=(V-U)/Math.PI*180-360*!!ue,ue=new a.Path,ue.addArc(g,U/Math.PI*180,V),this.addPath(ue,!0),ue.delete(),this},a.Path.prototype.arcToOval=function(g,S,M,U){return g=rt(g),this._arcToOval(g,S,M,U),this},a.Path.prototype.arcToRotated=function(g,S,M,U,V,ue,Ce){return this._arcToRotated(g,S,M,!!U,!!V,ue,Ce),this},a.Path.prototype.arcToTangent=function(g,S,M,U,V){return this._arcToTangent(g,S,M,U,V),this},a.Path.prototype.close=function(){return this._close(),this},a.Path.prototype.conicTo=function(g,S,M,U,V){return this._conicTo(g,S,M,U,V),this},a.Path.prototype.computeTightBounds=function(g){this._computeTightBounds(Mt);var S=Ln.toTypedArray();return g?(g.set(S),g):S.slice()},a.Path.prototype.cubicTo=function(g,S,M,U,V,ue){return this._cubicTo(g,S,M,U,V,ue),this},a.Path.prototype.dash=function(g,S,M){return this._dash(g,S,M)?this:null},a.Path.prototype.getBounds=function(g){this._getBounds(Mt);var S=Ln.toTypedArray();return g?(g.set(S),g):S.slice()},a.Path.prototype.lineTo=function(g,S){return this._lineTo(g,S),this},a.Path.prototype.moveTo=function(g,S){return this._moveTo(g,S),this},a.Path.prototype.offset=function(g,S){return this._transform(1,0,g,0,1,S,0,0,1),this},a.Path.prototype.quadTo=function(g,S,M,U){return this._quadTo(g,S,M,U),this},a.Path.prototype.rArcTo=function(g,S,M,U,V,ue,Ce){return this._rArcTo(g,S,M,U,V,ue,Ce),this},a.Path.prototype.rConicTo=function(g,S,M,U,V){return this._rConicTo(g,S,M,U,V),this},a.Path.prototype.rCubicTo=function(g,S,M,U,V,ue){return this._rCubicTo(g,S,M,U,V,ue),this},a.Path.prototype.rLineTo=function(g,S){return this._rLineTo(g,S),this},a.Path.prototype.rMoveTo=function(g,S){return this._rMoveTo(g,S),this},a.Path.prototype.rQuadTo=function(g,S,M,U){return this._rQuadTo(g,S,M,U),this},a.Path.prototype.stroke=function(g){return g=g||{},g.width=g.width||1,g.miter_limit=g.miter_limit||4,g.cap=g.cap||a.StrokeCap.Butt,g.join=g.join||a.StrokeJoin.Miter,g.precision=g.precision||1,this._stroke(g)?this:null},a.Path.prototype.transform=function(){if(arguments.length===1){var g=arguments[0];this._transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1)}else if(arguments.length===6||arguments.length===9)g=arguments,this._transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1);else throw"transform expected to take 1 or 9 arguments. Got "+arguments.length;return this},a.Path.prototype.trim=function(g,S,M){return this._trim(g,S,!!M)?this:null},a.Image.prototype.encodeToBytes=function(g,S){var M=a.Ue();return g=g||a.ImageFormat.PNG,S=S||100,M?this._encodeToBytes(g,S,M):this._encodeToBytes(g,S)},a.Image.prototype.makeShaderCubic=function(g,S,M,U,V){return V=be(V),this._makeShaderCubic(g,S,M,U,V)},a.Image.prototype.makeShaderOptions=function(g,S,M,U,V){return V=be(V),this._makeShaderOptions(g,S,M,U,V)},a.Image.prototype.readPixels=function(g,S,M,U,V){var ue=a.Ue();return y(this,g,S,M,U,V,ue)},a.Canvas.prototype.clear=function(g){a.Nd(this.Ld),g=ee(g),this._clear(g)},a.Canvas.prototype.clipRRect=function(g,S,M){a.Nd(this.Ld),g=jn(g),this._clipRRect(g,S,M)},a.Canvas.prototype.clipRect=function(g,S,M){a.Nd(this.Ld),g=rt(g),this._clipRect(g,S,M)},a.Canvas.prototype.concat=function(g){a.Nd(this.Ld),g=Ge(g),this._concat(g)},a.Canvas.prototype.drawArc=function(g,S,M,U,V){a.Nd(this.Ld),g=rt(g),this._drawArc(g,S,M,U,V)},a.Canvas.prototype.drawAtlas=function(g,S,M,U,V,ue,Ce){if(g&&U&&S&&M&&S.length===M.length){a.Nd(this.Ld),V||(V=a.BlendMode.SrcOver);var He=j(S,"HEAPF32"),Ve=j(M,"HEAPF32"),pt=M.length/4,dt=j(k(ue),"HEAPU32");if(Ce&&"B"in Ce&&"C"in Ce)this._drawAtlasCubic(g,Ve,He,dt,pt,V,Ce.B,Ce.C,U);else{let G=a.FilterMode.Linear,de=a.MipmapMode.None;Ce&&(G=Ce.filter,"mipmap"in Ce&&(de=Ce.mipmap)),this._drawAtlasOptions(g,Ve,He,dt,pt,V,G,de,U)}B(He,S),B(Ve,M),B(dt,ue)}},a.Canvas.prototype.drawCircle=function(g,S,M,U){a.Nd(this.Ld),this._drawCircle(g,S,M,U)},a.Canvas.prototype.drawColor=function(g,S){a.Nd(this.Ld),g=ee(g),S!==void 0?this._drawColor(g,S):this._drawColor(g)},a.Canvas.prototype.drawColorInt=function(g,S){a.Nd(this.Ld),this._drawColorInt(g,S||a.BlendMode.SrcOver)},a.Canvas.prototype.drawColorComponents=function(g,S,M,U,V){a.Nd(this.Ld),g=We(g,S,M,U),V!==void 0?this._drawColor(g,V):this._drawColor(g)},a.Canvas.prototype.drawDRRect=function(g,S,M){a.Nd(this.Ld),g=jn(g,nt),S=jn(S,rn),this._drawDRRect(g,S,M)},a.Canvas.prototype.drawImage=function(g,S,M,U){a.Nd(this.Ld),this._drawImage(g,S,M,U||null)},a.Canvas.prototype.drawImageCubic=function(g,S,M,U,V,ue){a.Nd(this.Ld),this._drawImageCubic(g,S,M,U,V,ue||null)},a.Canvas.prototype.drawImageOptions=function(g,S,M,U,V,ue){a.Nd(this.Ld),this._drawImageOptions(g,S,M,U,V,ue||null)},a.Canvas.prototype.drawImageNine=function(g,S,M,U,V){a.Nd(this.Ld),S=j(S,"HEAP32",oe),M=rt(M),this._drawImageNine(g,S,M,U,V||null)},a.Canvas.prototype.drawImageRect=function(g,S,M,U,V){a.Nd(this.Ld),rt(S,Mt),rt(M,Vr),this._drawImageRect(g,Mt,Vr,U,!!V)},a.Canvas.prototype.drawImageRectCubic=function(g,S,M,U,V,ue){a.Nd(this.Ld),rt(S,Mt),rt(M,Vr),this._drawImageRectCubic(g,Mt,Vr,U,V,ue||null)},a.Canvas.prototype.drawImageRectOptions=function(g,S,M,U,V,ue){a.Nd(this.Ld),rt(S,Mt),rt(M,Vr),this._drawImageRectOptions(g,Mt,Vr,U,V,ue||null)},a.Canvas.prototype.drawLine=function(g,S,M,U,V){a.Nd(this.Ld),this._drawLine(g,S,M,U,V)},a.Canvas.prototype.drawOval=function(g,S){a.Nd(this.Ld),g=rt(g),this._drawOval(g,S)},a.Canvas.prototype.drawPaint=function(g){a.Nd(this.Ld),this._drawPaint(g)},a.Canvas.prototype.drawParagraph=function(g,S,M){a.Nd(this.Ld),this._drawParagraph(g,S,M)},a.Canvas.prototype.drawPatch=function(g,S,M,U,V){if(24>g.length)throw"Need 12 cubic points";if(S&&4>S.length)throw"Need 4 colors";if(M&&8>M.length)throw"Need 4 shader coordinates";a.Nd(this.Ld);const ue=j(g,"HEAPF32"),Ce=S?j(k(S),"HEAPU32"):lt,He=M?j(M,"HEAPF32"):lt;U||(U=a.BlendMode.Modulate),this._drawPatch(ue,Ce,He,U,V),B(He,M),B(Ce,S),B(ue,g)},a.Canvas.prototype.drawPath=function(g,S){a.Nd(this.Ld),this._drawPath(g,S)},a.Canvas.prototype.drawPicture=function(g){a.Nd(this.Ld),this._drawPicture(g)},a.Canvas.prototype.drawPoints=function(g,S,M){a.Nd(this.Ld);var U=j(S,"HEAPF32");this._drawPoints(g,U,S.length/2,M),B(U,S)},a.Canvas.prototype.drawRRect=function(g,S){a.Nd(this.Ld),g=jn(g),this._drawRRect(g,S)},a.Canvas.prototype.drawRect=function(g,S){a.Nd(this.Ld),g=rt(g),this._drawRect(g,S)},a.Canvas.prototype.drawRect4f=function(g,S,M,U,V){a.Nd(this.Ld),this._drawRect4f(g,S,M,U,V)},a.Canvas.prototype.drawShadow=function(g,S,M,U,V,ue,Ce){a.Nd(this.Ld);var He=j(V,"HEAPF32"),Ve=j(ue,"HEAPF32");S=j(S,"HEAPF32",co),M=j(M,"HEAPF32",K),this._drawShadow(g,S,M,U,He,Ve,Ce),B(He,V),B(Ve,ue)},a.getShadowLocalBounds=function(g,S,M,U,V,ue,Ce){return g=be(g),M=j(M,"HEAPF32",co),U=j(U,"HEAPF32",K),this._getShadowLocalBounds(g,S,M,U,V,ue,Mt)?(S=Ln.toTypedArray(),Ce?(Ce.set(S),Ce):S.slice()):null},a.Canvas.prototype.drawTextBlob=function(g,S,M,U){a.Nd(this.Ld),this._drawTextBlob(g,S,M,U)},a.Canvas.prototype.drawVertices=function(g,S,M){a.Nd(this.Ld),this._drawVertices(g,S,M)},a.Canvas.prototype.getDeviceClipBounds=function(g){this._getDeviceClipBounds(oe);var S=fe.toTypedArray();return g?g.set(S):g=S.slice(),g},a.Canvas.prototype.getLocalToDevice=function(){this._getLocalToDevice(uo);for(var g=uo,S=Array(16),M=0;16>M;M++)S[M]=a.HEAPF32[g/4+M];return S},a.Canvas.prototype.getTotalMatrix=function(){this._getTotalMatrix(lr);for(var g=Array(9),S=0;9>S;S++)g[S]=a.HEAPF32[lr/4+S];return g},a.Canvas.prototype.makeSurface=function(g){return g=this._makeSurface(g),g.Ld=this.Ld,g},a.Canvas.prototype.readPixels=function(g,S,M,U,V){return a.Nd(this.Ld),y(this,g,S,M,U,V)},a.Canvas.prototype.saveLayer=function(g,S,M,U){return S=rt(S),this._saveLayer(g||null,S,M||null,U||0)},a.Canvas.prototype.writePixels=function(g,S,M,U,V,ue,Ce,He){if(g.byteLength%(S*M))throw"pixels length must be a multiple of the srcWidth * srcHeight";a.Nd(this.Ld);var Ve=g.byteLength/(S*M);ue=ue||a.AlphaType.Unpremul,Ce=Ce||a.ColorType.RGBA_8888,He=He||a.ColorSpace.SRGB;var pt=Ve*S;return Ve=j(g,"HEAPU8"),S=this._writePixels({width:S,height:M,colorType:Ce,alphaType:ue,colorSpace:He},Ve,pt,U,V),B(Ve,g),S},a.ColorFilter.MakeBlend=function(g,S,M){return g=ee(g),M=M||a.ColorSpace.SRGB,a.ColorFilter._MakeBlend(g,S,M)},a.ColorFilter.MakeMatrix=function(g){if(!g||g.length!==20)throw"invalid color matrix";var S=j(g,"HEAPF32"),M=a.ColorFilter._makeMatrix(S);return B(S,g),M},a.ContourMeasure.prototype.getPosTan=function(g,S){return this._getPosTan(g,Mt),g=Ln.toTypedArray(),S?(S.set(g),S):g.slice()},a.ImageFilter.prototype.getOutputBounds=function(g,S,M){return g=rt(g,Mt),S=be(S),this._getOutputBounds(g,S,oe),S=fe.toTypedArray(),M?(M.set(S),M):S.slice()},a.ImageFilter.MakeDropShadow=function(g,S,M,U,V,ue){return V=ee(V,Nn),a.ImageFilter._MakeDropShadow(g,S,M,U,V,ue)},a.ImageFilter.MakeDropShadowOnly=function(g,S,M,U,V,ue){return V=ee(V,Nn),a.ImageFilter._MakeDropShadowOnly(g,S,M,U,V,ue)},a.ImageFilter.MakeImage=function(g,S,M,U){if(M=rt(M,Mt),U=rt(U,Vr),"B"in S&&"C"in S)return a.ImageFilter._MakeImageCubic(g,S.B,S.C,M,U);const V=S.filter;let ue=a.MipmapMode.None;return"mipmap"in S&&(ue=S.mipmap),a.ImageFilter._MakeImageOptions(g,V,ue,M,U)},a.ImageFilter.MakeMatrixTransform=function(g,S,M){if(g=be(g),"B"in S&&"C"in S)return a.ImageFilter._MakeMatrixTransformCubic(g,S.B,S.C,M);const U=S.filter;let V=a.MipmapMode.None;return"mipmap"in S&&(V=S.mipmap),a.ImageFilter._MakeMatrixTransformOptions(g,U,V,M)},a.Paint.prototype.getColor=function(){return this._getColor(Nn),tt(Nn)},a.Paint.prototype.setColor=function(g,S){S=S||null,g=ee(g),this._setColor(g,S)},a.Paint.prototype.setColorComponents=function(g,S,M,U,V){V=V||null,g=We(g,S,M,U),this._setColor(g,V)},a.Path.prototype.getPoint=function(g,S){return this._getPoint(g,Mt),g=Ln.toTypedArray(),S?(S[0]=g[0],S[1]=g[1],S):g.slice(0,2)},a.Picture.prototype.makeShader=function(g,S,M,U,V){return U=be(U),V=rt(V),this._makeShader(g,S,M,U,V)},a.Picture.prototype.cullRect=function(g){this._cullRect(Mt);var S=Ln.toTypedArray();return g?(g.set(S),g):S.slice()},a.PictureRecorder.prototype.beginRecording=function(g,S){return g=rt(g),this._beginRecording(g,!!S)},a.Surface.prototype.getCanvas=function(){var g=this._getCanvas();return g.Ld=this.Ld,g},a.Surface.prototype.makeImageSnapshot=function(g){return a.Nd(this.Ld),g=j(g,"HEAP32",oe),this._makeImageSnapshot(g)},a.Surface.prototype.makeSurface=function(g){return a.Nd(this.Ld),g=this._makeSurface(g),g.Ld=this.Ld,g},a.Surface.prototype.Hf=function(g,S){return this.Ie||(this.Ie=this.getCanvas()),requestAnimationFrame((function(){a.Nd(this.Ld),g(this.Ie),this.flush(S)}).bind(this))},a.Surface.prototype.requestAnimationFrame||(a.Surface.prototype.requestAnimationFrame=a.Surface.prototype.Hf),a.Surface.prototype.Df=function(g,S){this.Ie||(this.Ie=this.getCanvas()),requestAnimationFrame((function(){a.Nd(this.Ld),g(this.Ie),this.flush(S),this.dispose()}).bind(this))},a.Surface.prototype.drawOnce||(a.Surface.prototype.drawOnce=a.Surface.prototype.Df),a.PathEffect.MakeDash=function(g,S){if(S||(S=0),!g.length||g.length%2===1)throw"Intervals array must have even length";var M=j(g,"HEAPF32");return S=a.PathEffect._MakeDash(M,g.length,S),B(M,g),S},a.PathEffect.MakeLine2D=function(g,S){return S=be(S),a.PathEffect._MakeLine2D(g,S)},a.PathEffect.MakePath2D=function(g,S){return g=be(g),a.PathEffect._MakePath2D(g,S)},a.Shader.MakeColor=function(g,S){return S=S||null,g=ee(g),a.Shader._MakeColor(g,S)},a.Shader.Blend=a.Shader.MakeBlend,a.Shader.Color=a.Shader.MakeColor,a.Shader.MakeLinearGradient=function(g,S,M,U,V,ue,Ce,He){He=He||null;var Ve=ge(M),pt=j(U,"HEAPF32");Ce=Ce||0,ue=be(ue);var dt=Ln.toTypedArray();return dt.set(g),dt.set(S,2),g=a.Shader._MakeLinearGradient(Mt,Ve.ce,Ve.colorType,pt,Ve.count,V,Ce,ue,He),B(Ve.ce,M),U&&B(pt,U),g},a.Shader.MakeRadialGradient=function(g,S,M,U,V,ue,Ce,He){He=He||null;var Ve=ge(M),pt=j(U,"HEAPF32");return Ce=Ce||0,ue=be(ue),g=a.Shader._MakeRadialGradient(g[0],g[1],S,Ve.ce,Ve.colorType,pt,Ve.count,V,Ce,ue,He),B(Ve.ce,M),U&&B(pt,U),g},a.Shader.MakeSweepGradient=function(g,S,M,U,V,ue,Ce,He,Ve,pt){pt=pt||null;var dt=ge(M),G=j(U,"HEAPF32");return Ce=Ce||0,He=He||0,Ve=Ve||360,ue=be(ue),g=a.Shader._MakeSweepGradient(g,S,dt.ce,dt.colorType,G,dt.count,V,He,Ve,Ce,ue,pt),B(dt.ce,M),U&&B(G,U),g},a.Shader.MakeTwoPointConicalGradient=function(g,S,M,U,V,ue,Ce,He,Ve,pt){pt=pt||null;var dt=ge(V),G=j(ue,"HEAPF32");Ve=Ve||0,He=be(He);var de=Ln.toTypedArray();return de.set(g),de.set(M,2),g=a.Shader._MakeTwoPointConicalGradient(Mt,S,U,dt.ce,dt.colorType,G,dt.count,Ce,Ve,He,pt),B(dt.ce,V),ue&&B(G,ue),g},a.Vertices.prototype.bounds=function(g){this._bounds(Mt);var S=Ln.toTypedArray();return g?(g.set(S),g):S.slice()},a.Td&&a.Td.forEach(function(g){g()})},a.computeTonalColors=function(y){var g=j(y.ambient,"HEAPF32"),S=j(y.spot,"HEAPF32");this._computeTonalColors(g,S);var M={ambient:tt(g),spot:tt(S)};return B(g,y.ambient),B(S,y.spot),M},a.LTRBRect=function(y,g,S,M){return Float32Array.of(y,g,S,M)},a.XYWHRect=function(y,g,S,M){return Float32Array.of(y,g,y+S,g+M)},a.LTRBiRect=function(y,g,S,M){return Int32Array.of(y,g,S,M)},a.XYWHiRect=function(y,g,S,M){return Int32Array.of(y,g,y+S,g+M)},a.RRectXY=function(y,g,S){return Float32Array.of(y[0],y[1],y[2],y[3],g,S,g,S,g,S,g,S)},a.MakeAnimatedImageFromEncoded=function(y){y=new Uint8Array(y);var g=a._malloc(y.byteLength);return a.HEAPU8.set(y,g),(y=a._decodeAnimatedImage(g,y.byteLength))?y:null},a.MakeImageFromEncoded=function(y){y=new Uint8Array(y);var g=a._malloc(y.byteLength);return a.HEAPU8.set(y,g),(y=a._decodeImage(g,y.byteLength))?y:null};var Mo=null;a.MakeImageFromCanvasImageSource=function(y){var g=y.width,S=y.height;Mo||(Mo=document.createElement("canvas")),Mo.width=g,Mo.height=S;var M=Mo.getContext("2d",{willReadFrequently:!0});return M.drawImage(y,0,0),y=M.getImageData(0,0,g,S),a.MakeImage({width:g,height:S,alphaType:a.AlphaType.Unpremul,colorType:a.ColorType.RGBA_8888,colorSpace:a.ColorSpace.SRGB},y.data,4*g)},a.MakeImage=function(y,g,S){var M=a._malloc(g.length);return a.HEAPU8.set(g,M),a._MakeImage(y,M,g.length,S)},a.MakeVertices=function(y,g,S,M,U,V){var ue=U&&U.length||0,Ce=0;return S&&S.length&&(Ce|=1),M&&M.length&&(Ce|=2),V===void 0||V||(Ce|=4),y=new a._VerticesBuilder(y,g.length/2,ue,Ce),j(g,"HEAPF32",y.positions()),y.texCoords()&&j(S,"HEAPF32",y.texCoords()),y.colors()&&j(k(M),"HEAPU32",y.colors()),y.indices()&&j(U,"HEAPU16",y.indices()),y.detach()},a.Matrix={},a.Matrix.identity=function(){return m(3)},a.Matrix.invert=function(y){var g=y[0]*y[4]*y[8]+y[1]*y[5]*y[6]+y[2]*y[3]*y[7]-y[2]*y[4]*y[6]-y[1]*y[3]*y[8]-y[0]*y[5]*y[7];return g?[(y[4]*y[8]-y[5]*y[7])/g,(y[2]*y[7]-y[1]*y[8])/g,(y[1]*y[5]-y[2]*y[4])/g,(y[5]*y[6]-y[3]*y[8])/g,(y[0]*y[8]-y[2]*y[6])/g,(y[2]*y[3]-y[0]*y[5])/g,(y[3]*y[7]-y[4]*y[6])/g,(y[1]*y[6]-y[0]*y[7])/g,(y[0]*y[4]-y[1]*y[3])/g]:null},a.Matrix.mapPoints=function(y,g){for(var S=0;S<g.length;S+=2){var M=g[S],U=g[S+1],V=y[6]*M+y[7]*U+y[8],ue=y[3]*M+y[4]*U+y[5];g[S]=(y[0]*M+y[1]*U+y[2])/V,g[S+1]=ue/V}return g},a.Matrix.multiply=function(){return cr(3,arguments)},a.Matrix.rotated=function(y,g,S){g=g||0,S=S||0;var M=Math.sin(y);return y=Math.cos(y),[y,-M,un(M,S,1-y,g),M,y,un(-M,g,1-y,S),0,0,1]},a.Matrix.scaled=function(y,g,S,M){S=S||0,M=M||0;var U=f([y,g],m(3),3,0,1);return f([S-y*S,M-g*M],U,3,2,0)},a.Matrix.skewed=function(y,g,S,M){S=S||0,M=M||0;var U=f([y,g],m(3),3,1,-1);return f([-y*S,-g*M],U,3,2,0)},a.Matrix.translated=function(y,g){return f(arguments,m(3),3,2,0)},a.Vector={},a.Vector.dot=function(y,g){return y.map(function(S,M){return S*g[M]}).reduce(function(S,M){return S+M})},a.Vector.lengthSquared=function(y){return a.Vector.dot(y,y)},a.Vector.length=function(y){return Math.sqrt(a.Vector.lengthSquared(y))},a.Vector.mulScalar=function(y,g){return y.map(function(S){return S*g})},a.Vector.add=function(y,g){return y.map(function(S,M){return S+g[M]})},a.Vector.sub=function(y,g){return y.map(function(S,M){return S-g[M]})},a.Vector.dist=function(y,g){return a.Vector.length(a.Vector.sub(y,g))},a.Vector.normalize=function(y){return a.Vector.mulScalar(y,1/a.Vector.length(y))},a.Vector.cross=function(y,g){return[y[1]*g[2]-y[2]*g[1],y[2]*g[0]-y[0]*g[2],y[0]*g[1]-y[1]*g[0]]},a.M44={},a.M44.identity=function(){return m(4)},a.M44.translated=function(y){return f(y,m(4),4,3,0)},a.M44.scaled=function(y){return f(y,m(4),4,0,1)},a.M44.rotated=function(y,g){return a.M44.rotatedUnitSinCos(a.Vector.normalize(y),Math.sin(g),Math.cos(g))},a.M44.rotatedUnitSinCos=function(y,g,S){var M=y[0],U=y[1];y=y[2];var V=1-S;return[V*M*M+S,V*M*U-g*y,V*M*y+g*U,0,V*M*U+g*y,V*U*U+S,V*U*y-g*M,0,V*M*y-g*U,V*U*y+g*M,V*y*y+S,0,0,0,0,1]},a.M44.lookat=function(y,g,S){g=a.Vector.normalize(a.Vector.sub(g,y)),S=a.Vector.normalize(S),S=a.Vector.normalize(a.Vector.cross(g,S));var M=a.M44.identity();return f(S,M,4,0,0),f(a.Vector.cross(S,g),M,4,1,0),f(a.Vector.mulScalar(g,-1),M,4,2,0),f(y,M,4,3,0),y=a.M44.invert(M),y===null?a.M44.identity():y},a.M44.perspective=function(y,g,S){var M=1/(g-y);return S/=2,S=Math.cos(S)/Math.sin(S),[S,0,0,0,0,S,0,0,0,0,(g+y)*M,2*g*y*M,0,0,-1,1]},a.M44.rc=function(y,g,S){return y[4*g+S]},a.M44.multiply=function(){return cr(4,arguments)},a.M44.invert=function(y){var g=y[0],S=y[4],M=y[8],U=y[12],V=y[1],ue=y[5],Ce=y[9],He=y[13],Ve=y[2],pt=y[6],dt=y[10],G=y[14],de=y[3],st=y[7],Tt=y[11];y=y[15];var Qt=g*ue-S*V,Jn=g*Ce-M*V,Zn=g*He-U*V,cn=S*Ce-M*ue,we=S*He-U*ue,C=M*He-U*Ce,D=Ve*st-pt*de,ne=Ve*Tt-dt*de,ce=Ve*y-G*de,ye=pt*Tt-dt*st,Se=pt*y-G*st,De=dt*y-G*Tt,Lt=Qt*De-Jn*Se+Zn*ye+cn*ce-we*ne+C*D,It=1/Lt;return Lt===0||It===1/0?null:(Qt*=It,Jn*=It,Zn*=It,cn*=It,we*=It,C*=It,D*=It,ne*=It,ce*=It,ye*=It,Se*=It,De*=It,g=[ue*De-Ce*Se+He*ye,Ce*ce-V*De-He*ne,V*Se-ue*ce+He*D,ue*ne-V*ye-Ce*D,M*Se-S*De-U*ye,g*De-M*ce+U*ne,S*ce-g*Se-U*D,g*ye-S*ne+M*D,st*C-Tt*we+y*cn,Tt*Zn-de*C-y*Jn,de*we-st*Zn+y*Qt,st*Jn-de*cn-Tt*Qt,dt*we-pt*C-G*cn,Ve*C-dt*Zn+G*Jn,pt*Zn-Ve*we-G*Qt,Ve*cn-pt*Jn+dt*Qt],g.every(function(Tr){return!isNaN(Tr)&&Tr!==1/0&&Tr!==-1/0})?g:null)},a.M44.transpose=function(y){return[y[0],y[4],y[8],y[12],y[1],y[5],y[9],y[13],y[2],y[6],y[10],y[14],y[3],y[7],y[11],y[15]]},a.M44.mustInvert=function(y){if(y=a.M44.invert(y),y===null)throw"Matrix not invertible";return y},a.M44.setupCamera=function(y,g,S){var M=a.M44.lookat(S.eye,S.coa,S.up);return S=a.M44.perspective(S.near,S.far,S.angle),g=[(y[2]-y[0])/2,(y[3]-y[1])/2,g],y=a.M44.multiply(a.M44.translated([(y[0]+y[2])/2,(y[1]+y[3])/2,0]),a.M44.scaled(g)),a.M44.multiply(y,S,M,a.M44.mustInvert(y))},a.ColorMatrix={},a.ColorMatrix.identity=function(){var y=new Float32Array(20);return y[0]=1,y[6]=1,y[12]=1,y[18]=1,y},a.ColorMatrix.scaled=function(y,g,S,M){var U=new Float32Array(20);return U[0]=y,U[6]=g,U[12]=S,U[18]=M,U};var fr=[[6,7,11,12],[0,10,2,12],[0,1,5,6]];a.ColorMatrix.rotated=function(y,g,S){var M=a.ColorMatrix.identity();return y=fr[y],M[y[0]]=S,M[y[1]]=g,M[y[2]]=-g,M[y[3]]=S,M},a.ColorMatrix.postTranslate=function(y,g,S,M,U){return y[4]+=g,y[9]+=S,y[14]+=M,y[19]+=U,y},a.ColorMatrix.concat=function(y,g){for(var S=new Float32Array(20),M=0,U=0;20>U;U+=5){for(var V=0;4>V;V++)S[M++]=y[U]*g[V]+y[U+1]*g[V+5]+y[U+2]*g[V+10]+y[U+3]*g[V+15];S[M++]=y[U]*g[4]+y[U+1]*g[9]+y[U+2]*g[14]+y[U+3]*g[19]+y[U+4]}return S},function(y){y.Td=y.Td||[],y.Td.push(function(){function g(G){return G&&(G.dir=G.dir===0?y.TextDirection.RTL:y.TextDirection.LTR),G}function S(G){if(!G||!G.length)return[];for(var de=[],st=0;st<G.length;st+=5){var Tt=y.LTRBRect(G[st],G[st+1],G[st+2],G[st+3]),Qt=y.TextDirection.LTR;G[st+4]===0&&(Qt=y.TextDirection.RTL),de.push({rect:Tt,dir:Qt})}return y._free(G.byteOffset),de}function M(G){return G=G||{},G.weight===void 0&&(G.weight=y.FontWeight.Normal),G.width=G.width||y.FontWidth.Normal,G.slant=G.slant||y.FontSlant.Upright,G}function U(G){if(!G||!G.length)return lt;for(var de=[],st=0;st<G.length;st++){var Tt=V(G[st]);de.push(Tt)}return j(de,"HEAPU32")}function V(G){if(He[G])return He[G];var de=sr(G)+1,st=y._malloc(de);return On(G,re,st,de),He[G]=st}function ue(G){if(G._colorPtr=ee(G.color),G._foregroundColorPtr=lt,G._backgroundColorPtr=lt,G._decorationColorPtr=lt,G.foregroundColor&&(G._foregroundColorPtr=ee(G.foregroundColor,Ve)),G.backgroundColor&&(G._backgroundColorPtr=ee(G.backgroundColor,pt)),G.decorationColor&&(G._decorationColorPtr=ee(G.decorationColor,dt)),Array.isArray(G.fontFamilies)&&G.fontFamilies.length?(G._fontFamiliesPtr=U(G.fontFamilies),G._fontFamiliesLen=G.fontFamilies.length):(G._fontFamiliesPtr=lt,G._fontFamiliesLen=0),G.locale){var de=G.locale;G._localePtr=V(de),G._localeLen=sr(de)+1}else G._localePtr=lt,G._localeLen=0;if(Array.isArray(G.shadows)&&G.shadows.length){de=G.shadows;var st=de.map(function(we){return we.color||y.BLACK}),Tt=de.map(function(we){return we.blurRadius||0});G._shadowLen=de.length;for(var Qt=y._malloc(8*de.length),Jn=Qt/4,Zn=0;Zn<de.length;Zn++){var cn=de[Zn].offset||[0,0];y.HEAPF32[Jn]=cn[0],y.HEAPF32[Jn+1]=cn[1],Jn+=2}G._shadowColorsPtr=ge(st).ce,G._shadowOffsetsPtr=Qt,G._shadowBlurRadiiPtr=j(Tt,"HEAPF32")}else G._shadowLen=0,G._shadowColorsPtr=lt,G._shadowOffsetsPtr=lt,G._shadowBlurRadiiPtr=lt;Array.isArray(G.fontFeatures)&&G.fontFeatures.length?(de=G.fontFeatures,st=de.map(function(we){return we.name}),Tt=de.map(function(we){return we.value}),G._fontFeatureLen=de.length,G._fontFeatureNamesPtr=U(st),G._fontFeatureValuesPtr=j(Tt,"HEAPU32")):(G._fontFeatureLen=0,G._fontFeatureNamesPtr=lt,G._fontFeatureValuesPtr=lt),Array.isArray(G.fontVariations)&&G.fontVariations.length?(de=G.fontVariations,st=de.map(function(we){return we.axis}),Tt=de.map(function(we){return we.value}),G._fontVariationLen=de.length,G._fontVariationAxesPtr=U(st),G._fontVariationValuesPtr=j(Tt,"HEAPF32")):(G._fontVariationLen=0,G._fontVariationAxesPtr=lt,G._fontVariationValuesPtr=lt)}function Ce(G){y._free(G._fontFamiliesPtr),y._free(G._shadowColorsPtr),y._free(G._shadowOffsetsPtr),y._free(G._shadowBlurRadiiPtr),y._free(G._fontFeatureNamesPtr),y._free(G._fontFeatureValuesPtr),y._free(G._fontVariationAxesPtr),y._free(G._fontVariationValuesPtr)}y.Paragraph.prototype.getRectsForRange=function(G,de,st,Tt){return G=this._getRectsForRange(G,de,st,Tt),S(G)},y.Paragraph.prototype.getRectsForPlaceholders=function(){var G=this._getRectsForPlaceholders();return S(G)},y.Paragraph.prototype.getGlyphInfoAt=function(G){return g(this._getGlyphInfoAt(G))},y.Paragraph.prototype.getClosestGlyphInfoAtCoordinate=function(G,de){return g(this._getClosestGlyphInfoAtCoordinate(G,de))},y.TypefaceFontProvider.prototype.registerFont=function(G,de){if(G=y.Typeface.MakeFreeTypeFaceFromData(G),!G)return null;de=V(de),this._registerFont(G,de)},y.ParagraphStyle=function(G){if(G.disableHinting=G.disableHinting||!1,G.ellipsis){var de=G.ellipsis;G._ellipsisPtr=V(de),G._ellipsisLen=sr(de)+1}else G._ellipsisPtr=lt,G._ellipsisLen=0;return G.heightMultiplier==null&&(G.heightMultiplier=-1),G.maxLines=G.maxLines||0,G.replaceTabCharacters=G.replaceTabCharacters||!1,de=(de=G.strutStyle)||{},de.strutEnabled=de.strutEnabled||!1,de.strutEnabled&&Array.isArray(de.fontFamilies)&&de.fontFamilies.length?(de._fontFamiliesPtr=U(de.fontFamilies),de._fontFamiliesLen=de.fontFamilies.length):(de._fontFamiliesPtr=lt,de._fontFamiliesLen=0),de.fontStyle=M(de.fontStyle),de.fontSize==null&&(de.fontSize=-1),de.heightMultiplier==null&&(de.heightMultiplier=-1),de.halfLeading=de.halfLeading||!1,de.leading=de.leading||0,de.forceStrutHeight=de.forceStrutHeight||!1,G.strutStyle=de,G.textAlign=G.textAlign||y.TextAlign.Start,G.textDirection=G.textDirection||y.TextDirection.LTR,G.textHeightBehavior=G.textHeightBehavior||y.TextHeightBehavior.All,G.textStyle=y.TextStyle(G.textStyle),G.applyRoundingHack=G.applyRoundingHack!==!1,G},y.TextStyle=function(G){return G.color||(G.color=y.BLACK),G.decoration=G.decoration||0,G.decorationThickness=G.decorationThickness||0,G.decorationStyle=G.decorationStyle||y.DecorationStyle.Solid,G.textBaseline=G.textBaseline||y.TextBaseline.Alphabetic,G.fontSize==null&&(G.fontSize=-1),G.letterSpacing=G.letterSpacing||0,G.wordSpacing=G.wordSpacing||0,G.heightMultiplier==null&&(G.heightMultiplier=-1),G.halfLeading=G.halfLeading||!1,G.fontStyle=M(G.fontStyle),G};var He={},Ve=y._malloc(16),pt=y._malloc(16),dt=y._malloc(16);y.ParagraphBuilder.Make=function(G,de){return ue(G.textStyle),de=y.ParagraphBuilder._Make(G,de),Ce(G.textStyle),de},y.ParagraphBuilder.MakeFromFontProvider=function(G,de){return ue(G.textStyle),de=y.ParagraphBuilder._MakeFromFontProvider(G,de),Ce(G.textStyle),de},y.ParagraphBuilder.MakeFromFontCollection=function(G,de){return ue(G.textStyle),de=y.ParagraphBuilder._MakeFromFontCollection(G,de),Ce(G.textStyle),de},y.ParagraphBuilder.ShapeText=function(G,de,st){let Tt=0;for(const Qt of de)Tt+=Qt.length;if(Tt!==G.length)throw"Accumulated block lengths must equal text.length";return y.ParagraphBuilder._ShapeText(G,de,st)},y.ParagraphBuilder.prototype.pushStyle=function(G){ue(G),this._pushStyle(G),Ce(G)},y.ParagraphBuilder.prototype.pushPaintStyle=function(G,de,st){ue(G),this._pushPaintStyle(G,de,st),Ce(G)},y.ParagraphBuilder.prototype.addPlaceholder=function(G,de,st,Tt,Qt){st=st||y.PlaceholderAlignment.Baseline,Tt=Tt||y.TextBaseline.Alphabetic,this._addPlaceholder(G||0,de||0,st,Tt,Qt||0)},y.ParagraphBuilder.prototype.setWordsUtf8=function(G){var de=j(G,"HEAPU32");this._setWordsUtf8(de,G&&G.length||0),B(de,G)},y.ParagraphBuilder.prototype.setWordsUtf16=function(G){var de=j(G,"HEAPU32");this._setWordsUtf16(de,G&&G.length||0),B(de,G)},y.ParagraphBuilder.prototype.setGraphemeBreaksUtf8=function(G){var de=j(G,"HEAPU32");this._setGraphemeBreaksUtf8(de,G&&G.length||0),B(de,G)},y.ParagraphBuilder.prototype.setGraphemeBreaksUtf16=function(G){var de=j(G,"HEAPU32");this._setGraphemeBreaksUtf16(de,G&&G.length||0),B(de,G)},y.ParagraphBuilder.prototype.setLineBreaksUtf8=function(G){var de=j(G,"HEAPU32");this._setLineBreaksUtf8(de,G&&G.length||0),B(de,G)},y.ParagraphBuilder.prototype.setLineBreaksUtf16=function(G){var de=j(G,"HEAPU32");this._setLineBreaksUtf16(de,G&&G.length||0),B(de,G)}})}(n),a.MakeManagedAnimation=function(y,g,S,M,U){if(!a._MakeManagedAnimation)throw"Not compiled with MakeManagedAnimation";if(S||(S=""),!g)return a._MakeManagedAnimation(y,0,lt,lt,lt,S,M,U);for(var V=[],ue=[],Ce=[],He=Object.keys(g||{}),Ve=0;Ve<He.length;Ve++){var pt=He[Ve],dt=new Uint8Array(g[pt]),G=a._malloc(dt.byteLength);a.HEAPU8.set(dt,G),ue.push(G),Ce.push(dt.byteLength),dt=sr(pt)+1,G=a._malloc(dt),On(pt,re,G,dt),V.push(G)}return g=j(V,"HEAPU32"),ue=j(ue,"HEAPU32"),Ce=j(Ce,"HEAPU32"),y=a._MakeManagedAnimation(y,He.length,g,ue,Ce,S,M,U),a._free(g),a._free(ue),a._free(Ce),y},a.tg=function(y){return y.text=y.text||"",y.textSize=y.textSize||0,y.minTextSize=y.minTextSize||0,y.maxTextSize=y.maxTextSize||Number.MAX_VALUE,y.strokeWidth=y.strokeWidth||0,y.lineHeight=y.lineHeight||0,y.lineShift=y.lineShift||0,y.ascent=y.ascent||0,y.maxLines=y.maxLines||0,y.horizAlign=y.horizAlign||a.TextAlign.Left,y.vertAlign=y.vertAlign||a.ug.Top,y.strokeJoin=y.strokeJoin||a.StrokeJoin.Miter,y.direction=y.direction||a.TextDirection.LTR,y.linebreak=y.linebreak||a.LineBreakType.HardLineBreak,y.resize=y.resize||a.sg.None,y.fillColor||(y.fillColor=a.TRANSPARENT),y.strokeColor||(y.strokeColor=a.TRANSPARENT),y.boundingBox||(y.boundingBox=[0,0,0,0]),y},function(y){y.Td=y.Td||[],y.Td.push(function(){y.Animation.prototype.render=function(g,S){rt(S,Mt),this._render(g,Mt)},y.Animation.prototype.size=function(g){this._size(Mt);var S=Ln.toTypedArray();return g?(g[0]=S[0],g[1]=S[1],g):S.slice(0,2)},y.ManagedAnimation&&(y.ManagedAnimation.prototype.render=function(g,S){rt(S,Mt),this._render(g,Mt)},y.ManagedAnimation.prototype.seek=function(g,S){return this._seek(g,Mt),g=Ln.toTypedArray(),S?(S.set(g),S):g.slice()},y.ManagedAnimation.prototype.seekFrame=function(g,S){return this._seekFrame(g,Mt),g=Ln.toTypedArray(),S?(S.set(g),S):g.slice()},y.ManagedAnimation.prototype.setColor=function(g,S){return S=ee(S),this._setColor(g,S)},y.ManagedAnimation.prototype.setColorSlot=function(g,S){return S=ee(S),this._setColorSlot(g,S)},y.ManagedAnimation.prototype.getColorSlot=function(g){return this._getColorSlot(g,Nn),g=tt(Nn),g[0]==-1?null:g},y.ManagedAnimation.prototype.setVec2Slot=function(g,S){return j(S,"HEAPF32",co),this._setVec2Slot(g,co)},y.ManagedAnimation.prototype.getVec2Slot=function(g){return this._getVec2Slot(g,co),g=Ka.toTypedArray(),g[2]===-1?null:g.slice(0,2)},y.ManagedAnimation.prototype.setTextSlot=function(g,S){var M=ee(S.fillColor,Nn),U=ee(S.strokeColor,Mt),V=rt(S.boundingBox,Vr);return S._fillColorPtr=M,S._strokeColorPtr=U,S._boundingBoxPtr=V,this._setTextSlot(g,S)},y.ManagedAnimation.prototype.setTransform=function(g,S,M,U,V,ue,Ce){return S=j([S[0],S[1],M[0],M[1],U[0],U[1],V,ue,Ce],"HEAPF32",lr),this._setTransform(g,S)},y.ManagedAnimation.prototype.size=function(g){this._size(Mt);var S=Ln.toTypedArray();return g?(g[0]=S[0],g[1]=S[1],g):S.slice(0,2)})})}(n),a.Td=a.Td||[],a.Td.push(function(){a.Path.prototype.op=function(y,g){return this._op(y,g)?this:null},a.Path.prototype.simplify=function(){return this._simplify()?this:null}}),a.Td=a.Td||[],a.Td.push(function(){a.Canvas.prototype.drawText=function(y,g,S,M,U){var V=sr(y),ue=a._malloc(V+1);On(y,re,ue,V+1),this._drawSimpleText(ue,V,g,S,U,M),a._free(ue)},a.Canvas.prototype.drawGlyphs=function(y,g,S,M,U,V){if(!(2*y.length<=g.length))throw"Not enough positions for the array of gyphs";a.Nd(this.Ld);const ue=j(y,"HEAPU16"),Ce=j(g,"HEAPF32");this._drawGlyphs(y.length,ue,Ce,S,M,U,V),B(Ce,g),B(ue,y)},a.Font.prototype.getGlyphBounds=function(y,g,S){var M=j(y,"HEAPU16"),U=a._malloc(16*y.length);return this._getGlyphWidthBounds(M,y.length,lt,U,g||null),g=new Float32Array(a.HEAPU8.buffer,U,4*y.length),B(M,y),S?(S.set(g),a._free(U),S):(y=Float32Array.from(g),a._free(U),y)},a.Font.prototype.getGlyphIDs=function(y,g,S){g||(g=y.length);var M=sr(y)+1,U=a._malloc(M);return On(y,re,U,M),y=a._malloc(2*g),g=this._getGlyphIDs(U,M-1,g,y),a._free(U),0>g?(a._free(y),null):(U=new Uint16Array(a.HEAPU8.buffer,y,g),S?(S.set(U),a._free(y),S):(S=Uint16Array.from(U),a._free(y),S))},a.Font.prototype.getGlyphIntercepts=function(y,g,S,M){var U=j(y,"HEAPU16"),V=j(g,"HEAPF32");return this._getGlyphIntercepts(U,y.length,!(y&&y._ck),V,g.length,!(g&&g._ck),S,M)},a.Font.prototype.getGlyphWidths=function(y,g,S){var M=j(y,"HEAPU16"),U=a._malloc(4*y.length);return this._getGlyphWidthBounds(M,y.length,U,lt,g||null),g=new Float32Array(a.HEAPU8.buffer,U,y.length),B(M,y),S?(S.set(g),a._free(U),S):(y=Float32Array.from(g),a._free(U),y)},a.FontMgr.FromData=function(){if(!arguments.length)return null;var y=arguments;if(y.length===1&&Array.isArray(y[0])&&(y=arguments[0]),!y.length)return null;for(var g=[],S=[],M=0;M<y.length;M++){var U=new Uint8Array(y[M]),V=j(U,"HEAPU8");g.push(V),S.push(U.byteLength)}return g=j(g,"HEAPU32"),S=j(S,"HEAPU32"),y=a.FontMgr._fromData(g,S,y.length),a._free(g),a._free(S),y},a.Typeface.MakeFreeTypeFaceFromData=function(y){y=new Uint8Array(y);var g=j(y,"HEAPU8");return(y=a.Typeface._MakeFreeTypeFaceFromData(g,y.byteLength))?y:null},a.Typeface.prototype.getGlyphIDs=function(y,g,S){g||(g=y.length);var M=sr(y)+1,U=a._malloc(M);return On(y,re,U,M),y=a._malloc(2*g),g=this._getGlyphIDs(U,M-1,g,y),a._free(U),0>g?(a._free(y),null):(U=new Uint16Array(a.HEAPU8.buffer,y,g),S?(S.set(U),a._free(y),S):(S=Uint16Array.from(U),a._free(y),S))},a.TextBlob.MakeOnPath=function(y,g,S,M){if(y&&y.length&&g&&g.countPoints()){if(g.countPoints()===1)return this.MakeFromText(y,S);M||(M=0);var U=S.getGlyphIDs(y);U=S.getGlyphWidths(U);var V=[];g=new a.ContourMeasureIter(g,!1,1);for(var ue=g.next(),Ce=new Float32Array(4),He=0;He<y.length&&ue;He++){var Ve=U[He];if(M+=Ve/2,M>ue.length()){if(ue.delete(),ue=g.next(),!ue){y=y.substring(0,He);break}M=Ve/2}ue.getPosTan(M,Ce);var pt=Ce[2],dt=Ce[3];V.push(pt,dt,Ce[0]-Ve/2*pt,Ce[1]-Ve/2*dt),M+=Ve/2}return y=this.MakeFromRSXform(y,V,S),ue&&ue.delete(),g.delete(),y}},a.TextBlob.MakeFromRSXform=function(y,g,S){var M=sr(y)+1,U=a._malloc(M);return On(y,re,U,M),y=j(g,"HEAPF32"),S=a.TextBlob._MakeFromRSXform(U,M-1,y,S),a._free(U),S||null},a.TextBlob.MakeFromRSXformGlyphs=function(y,g,S){var M=j(y,"HEAPU16");return g=j(g,"HEAPF32"),S=a.TextBlob._MakeFromRSXformGlyphs(M,2*y.length,g,S),B(M,y),S||null},a.TextBlob.MakeFromGlyphs=function(y,g){var S=j(y,"HEAPU16");return g=a.TextBlob._MakeFromGlyphs(S,2*y.length,g),B(S,y),g||null},a.TextBlob.MakeFromText=function(y,g){var S=sr(y)+1,M=a._malloc(S);return On(y,re,M,S),y=a.TextBlob._MakeFromText(M,S-1,g),a._free(M),y||null},a.MallocGlyphIDs=function(y){return a.Malloc(Uint16Array,y)}}),a.Td=a.Td||[],a.Td.push(function(){a.MakePicture=function(y){y=new Uint8Array(y);var g=a._malloc(y.byteLength);return a.HEAPU8.set(y,g),(y=a._MakePicture(g,y.byteLength))?y:null}}),a.Td=a.Td||[],a.Td.push(function(){a.RuntimeEffect.Make=function(y,g){return a.RuntimeEffect._Make(y,{onError:g||function(S){console.log("RuntimeEffect error",S)}})},a.RuntimeEffect.MakeForBlender=function(y,g){return a.RuntimeEffect._MakeForBlender(y,{onError:g||function(S){console.log("RuntimeEffect error",S)}})},a.RuntimeEffect.prototype.makeShader=function(y,g){var S=!y._ck,M=j(y,"HEAPF32");return g=be(g),this._makeShader(M,4*y.length,S,g)},a.RuntimeEffect.prototype.makeShaderWithChildren=function(y,g,S){var M=!y._ck,U=j(y,"HEAPF32");S=be(S);for(var V=[],ue=0;ue<g.length;ue++)V.push(g[ue].Kd.Sd);return g=j(V,"HEAPU32"),this._makeShaderWithChildren(U,4*y.length,M,g,V.length,S)},a.RuntimeEffect.prototype.makeBlender=function(y){var g=!y._ck,S=j(y,"HEAPF32");return this._makeBlender(S,4*y.length,g)}}),function(){function y(we){for(var C=0;C<we.length;C++)if(we[C]!==void 0&&!Number.isFinite(we[C]))return!1;return!0}function g(we){var C=a.getColorComponents(we);we=C[0];var D=C[1],ne=C[2];return C=C[3],C===1?(we=we.toString(16).toLowerCase(),D=D.toString(16).toLowerCase(),ne=ne.toString(16).toLowerCase(),we=we.length===1?"0"+we:we,D=D.length===1?"0"+D:D,ne=ne.length===1?"0"+ne:ne,"#"+we+D+ne):(C=C===0||C===1?C:C.toFixed(8),"rgba("+we+", "+D+", "+ne+", "+C+")")}function S(we){return a.parseColorString(we,Jn)}function M(we){if(we=Zn.exec(we),!we)return null;var C=parseFloat(we[4]),D=16;switch(we[5]){case"em":case"rem":D=16*C;break;case"pt":D=4*C/3;break;case"px":D=C;break;case"pc":D=16*C;break;case"in":D=96*C;break;case"cm":D=96*C/2.54;break;case"mm":D=96/25.4*C;break;case"q":D=96/25.4/4*C;break;case"%":D=16/75*C}return{style:we[1],variant:we[2],weight:we[3],sizePx:D,family:we[6].trim()}}function U(we){this.Md=we,this.Pd=new a.Paint,this.Pd.setAntiAlias(!0),this.Pd.setStrokeMiter(10),this.Pd.setStrokeCap(a.StrokeCap.Butt),this.Pd.setStrokeJoin(a.StrokeJoin.Miter),this.Se="10px monospace",this.ne=new a.Font(null,10),this.ne.setSubpixel(!0),this.be=this.he=a.BLACK,this.we=0,this.Ke=a.TRANSPARENT,this.ye=this.xe=0,this.Le=this.je=1,this.Je=0,this.ve=[],this.Od=a.BlendMode.SrcOver,this.Pd.setStrokeWidth(this.Le),this.Pd.setBlendMode(this.Od),this.Rd=new a.Path,this.Ud=a.Matrix.identity(),this.mf=[],this.Ce=[],this.me=function(){this.Rd.delete(),this.Pd.delete(),this.ne.delete(),this.Ce.forEach(function(C){C.me()})},Object.defineProperty(this,"currentTransform",{enumerable:!0,get:function(){return{a:this.Ud[0],c:this.Ud[1],e:this.Ud[2],b:this.Ud[3],d:this.Ud[4],f:this.Ud[5]}},set:function(C){C.a&&this.setTransform(C.a,C.b,C.c,C.d,C.e,C.f)}}),Object.defineProperty(this,"fillStyle",{enumerable:!0,get:function(){return v(this.be)?g(this.be):this.be},set:function(C){typeof C=="string"?this.be=S(C):C.ue&&(this.be=C)}}),Object.defineProperty(this,"font",{enumerable:!0,get:function(){return this.Se},set:function(C){var D=M(C),ne=D.family;D.typeface=cn[ne]?cn[ne][(D.style||"normal")+"|"+(D.variant||"normal")+"|"+(D.weight||"normal")]||cn[ne]["*"]:null,D&&(this.ne.setSize(D.sizePx),this.ne.setTypeface(D.typeface),this.Se=C)}}),Object.defineProperty(this,"globalAlpha",{enumerable:!0,get:function(){return this.je},set:function(C){!isFinite(C)||0>C||1<C||(this.je=C)}}),Object.defineProperty(this,"globalCompositeOperation",{enumerable:!0,get:function(){switch(this.Od){case a.BlendMode.SrcOver:return"source-over";case a.BlendMode.DstOver:return"destination-over";case a.BlendMode.Src:return"copy";case a.BlendMode.Dst:return"destination";case a.BlendMode.Clear:return"clear";case a.BlendMode.SrcIn:return"source-in";case a.BlendMode.DstIn:return"destination-in";case a.BlendMode.SrcOut:return"source-out";case a.BlendMode.DstOut:return"destination-out";case a.BlendMode.SrcATop:return"source-atop";case a.BlendMode.DstATop:return"destination-atop";case a.BlendMode.Xor:return"xor";case a.BlendMode.Plus:return"lighter";case a.BlendMode.Multiply:return"multiply";case a.BlendMode.Screen:return"screen";case a.BlendMode.Overlay:return"overlay";case a.BlendMode.Darken:return"darken";case a.BlendMode.Lighten:return"lighten";case a.BlendMode.ColorDodge:return"color-dodge";case a.BlendMode.ColorBurn:return"color-burn";case a.BlendMode.HardLight:return"hard-light";case a.BlendMode.SoftLight:return"soft-light";case a.BlendMode.Difference:return"difference";case a.BlendMode.Exclusion:return"exclusion";case a.BlendMode.Hue:return"hue";case a.BlendMode.Saturation:return"saturation";case a.BlendMode.Color:return"color";case a.BlendMode.Luminosity:return"luminosity"}},set:function(C){switch(C){case"source-over":this.Od=a.BlendMode.SrcOver;break;case"destination-over":this.Od=a.BlendMode.DstOver;break;case"copy":this.Od=a.BlendMode.Src;break;case"destination":this.Od=a.BlendMode.Dst;break;case"clear":this.Od=a.BlendMode.Clear;break;case"source-in":this.Od=a.BlendMode.SrcIn;break;case"destination-in":this.Od=a.BlendMode.DstIn;break;case"source-out":this.Od=a.BlendMode.SrcOut;break;case"destination-out":this.Od=a.BlendMode.DstOut;break;case"source-atop":this.Od=a.BlendMode.SrcATop;break;case"destination-atop":this.Od=a.BlendMode.DstATop;break;case"xor":this.Od=a.BlendMode.Xor;break;case"lighter":this.Od=a.BlendMode.Plus;break;case"plus-lighter":this.Od=a.BlendMode.Plus;break;case"plus-darker":throw"plus-darker is not supported";case"multiply":this.Od=a.BlendMode.Multiply;break;case"screen":this.Od=a.BlendMode.Screen;break;case"overlay":this.Od=a.BlendMode.Overlay;break;case"darken":this.Od=a.BlendMode.Darken;break;case"lighten":this.Od=a.BlendMode.Lighten;break;case"color-dodge":this.Od=a.BlendMode.ColorDodge;break;case"color-burn":this.Od=a.BlendMode.ColorBurn;break;case"hard-light":this.Od=a.BlendMode.HardLight;break;case"soft-light":this.Od=a.BlendMode.SoftLight;break;case"difference":this.Od=a.BlendMode.Difference;break;case"exclusion":this.Od=a.BlendMode.Exclusion;break;case"hue":this.Od=a.BlendMode.Hue;break;case"saturation":this.Od=a.BlendMode.Saturation;break;case"color":this.Od=a.BlendMode.Color;break;case"luminosity":this.Od=a.BlendMode.Luminosity;break;default:return}this.Pd.setBlendMode(this.Od)}}),Object.defineProperty(this,"imageSmoothingEnabled",{enumerable:!0,get:function(){return!0},set:function(){}}),Object.defineProperty(this,"imageSmoothingQuality",{enumerable:!0,get:function(){return"high"},set:function(){}}),Object.defineProperty(this,"lineCap",{enumerable:!0,get:function(){switch(this.Pd.getStrokeCap()){case a.StrokeCap.Butt:return"butt";case a.StrokeCap.Round:return"round";case a.StrokeCap.Square:return"square"}},set:function(C){switch(C){case"butt":this.Pd.setStrokeCap(a.StrokeCap.Butt);break;case"round":this.Pd.setStrokeCap(a.StrokeCap.Round);break;case"square":this.Pd.setStrokeCap(a.StrokeCap.Square)}}}),Object.defineProperty(this,"lineDashOffset",{enumerable:!0,get:function(){return this.Je},set:function(C){isFinite(C)&&(this.Je=C)}}),Object.defineProperty(this,"lineJoin",{enumerable:!0,get:function(){switch(this.Pd.getStrokeJoin()){case a.StrokeJoin.Miter:return"miter";case a.StrokeJoin.Round:return"round";case a.StrokeJoin.Bevel:return"bevel"}},set:function(C){switch(C){case"miter":this.Pd.setStrokeJoin(a.StrokeJoin.Miter);break;case"round":this.Pd.setStrokeJoin(a.StrokeJoin.Round);break;case"bevel":this.Pd.setStrokeJoin(a.StrokeJoin.Bevel)}}}),Object.defineProperty(this,"lineWidth",{enumerable:!0,get:function(){return this.Pd.getStrokeWidth()},set:function(C){0>=C||!C||(this.Le=C,this.Pd.setStrokeWidth(C))}}),Object.defineProperty(this,"miterLimit",{enumerable:!0,get:function(){return this.Pd.getStrokeMiter()},set:function(C){0>=C||!C||this.Pd.setStrokeMiter(C)}}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,get:function(){return this.we},set:function(C){0>C||!isFinite(C)||(this.we=C)}}),Object.defineProperty(this,"shadowColor",{enumerable:!0,get:function(){return g(this.Ke)},set:function(C){this.Ke=S(C)}}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,get:function(){return this.xe},set:function(C){isFinite(C)&&(this.xe=C)}}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,get:function(){return this.ye},set:function(C){isFinite(C)&&(this.ye=C)}}),Object.defineProperty(this,"strokeStyle",{enumerable:!0,get:function(){return g(this.he)},set:function(C){typeof C=="string"?this.he=S(C):C.ue&&(this.he=C)}}),this.arc=function(C,D,ne,ce,ye,Se){G(this.Rd,C,D,ne,ne,0,ce,ye,Se)},this.arcTo=function(C,D,ne,ce,ye){Ve(this.Rd,C,D,ne,ce,ye)},this.beginPath=function(){this.Rd.delete(),this.Rd=new a.Path},this.bezierCurveTo=function(C,D,ne,ce,ye,Se){var De=this.Rd;y([C,D,ne,ce,ye,Se])&&(De.isEmpty()&&De.moveTo(C,D),De.cubicTo(C,D,ne,ce,ye,Se))},this.clearRect=function(C,D,ne,ce){this.Pd.setStyle(a.PaintStyle.Fill),this.Pd.setBlendMode(a.BlendMode.Clear),this.Md.drawRect(a.XYWHRect(C,D,ne,ce),this.Pd),this.Pd.setBlendMode(this.Od)},this.clip=function(C,D){typeof C=="string"?(D=C,C=this.Rd):C&&C.bf&&(C=C.Vd),C||(C=this.Rd),C=C.copy(),D&&D.toLowerCase()==="evenodd"?C.setFillType(a.FillType.EvenOdd):C.setFillType(a.FillType.Winding),this.Md.clipPath(C,a.ClipOp.Intersect,!0),C.delete()},this.closePath=function(){pt(this.Rd)},this.createImageData=function(){if(arguments.length===1){var C=arguments[0];return new Ce(new Uint8ClampedArray(4*C.width*C.height),C.width,C.height)}if(arguments.length===2){C=arguments[0];var D=arguments[1];return new Ce(new Uint8ClampedArray(4*C*D),C,D)}throw"createImageData expects 1 or 2 arguments, got "+arguments.length},this.createLinearGradient=function(C,D,ne,ce){if(y(arguments)){var ye=new He(C,D,ne,ce);return this.Ce.push(ye),ye}},this.createPattern=function(C,D){return C=new Tt(C,D),this.Ce.push(C),C},this.createRadialGradient=function(C,D,ne,ce,ye,Se){if(y(arguments)){var De=new Qt(C,D,ne,ce,ye,Se);return this.Ce.push(De),De}},this.drawImage=function(C){C instanceof ue&&(C=C.uf());var D=this.Re();if(arguments.length===3||arguments.length===5)var ne=a.XYWHRect(arguments[1],arguments[2],arguments[3]||C.width(),arguments[4]||C.height()),ce=a.XYWHRect(0,0,C.width(),C.height());else if(arguments.length===9)ne=a.XYWHRect(arguments[5],arguments[6],arguments[7],arguments[8]),ce=a.XYWHRect(arguments[1],arguments[2],arguments[3],arguments[4]);else throw"invalid number of args for drawImage, need 3, 5, or 9; got "+arguments.length;this.Md.drawImageRect(C,ce,ne,D,!1),D.dispose()},this.ellipse=function(C,D,ne,ce,ye,Se,De,Lt){G(this.Rd,C,D,ne,ce,ye,Se,De,Lt)},this.Re=function(){var C=this.Pd.copy();if(C.setStyle(a.PaintStyle.Fill),v(this.be)){var D=a.multiplyByAlpha(this.be,this.je);C.setColor(D)}else D=this.be.ue(this.Ud),C.setColor(a.Color(0,0,0,this.je)),C.setShader(D);return C.dispose=function(){this.delete()},C},this.fill=function(C,D){if(typeof C=="string"?(D=C,C=this.Rd):C&&C.bf&&(C=C.Vd),D==="evenodd")this.Rd.setFillType(a.FillType.EvenOdd);else{if(D!=="nonzero"&&D)throw"invalid fill rule";this.Rd.setFillType(a.FillType.Winding)}C||(C=this.Rd),D=this.Re();var ne=this.ze(D);ne&&(this.Md.save(),this.se(),this.Md.drawPath(C,ne),this.Md.restore(),ne.dispose()),this.Md.drawPath(C,D),D.dispose()},this.fillRect=function(C,D,ne,ce){var ye=this.Re(),Se=this.ze(ye);Se&&(this.Md.save(),this.se(),this.Md.drawRect(a.XYWHRect(C,D,ne,ce),Se),this.Md.restore(),Se.dispose()),this.Md.drawRect(a.XYWHRect(C,D,ne,ce),ye),ye.dispose()},this.fillText=function(C,D,ne){var ce=this.Re();C=a.TextBlob.MakeFromText(C,this.ne);var ye=this.ze(ce);ye&&(this.Md.save(),this.se(),this.Md.drawTextBlob(C,D,ne,ye),this.Md.restore(),ye.dispose()),this.Md.drawTextBlob(C,D,ne,ce),C.delete(),ce.dispose()},this.getImageData=function(C,D,ne,ce){return(C=this.Md.readPixels(C,D,{width:ne,height:ce,colorType:a.ColorType.RGBA_8888,alphaType:a.AlphaType.Unpremul,colorSpace:a.ColorSpace.SRGB}))?new Ce(new Uint8ClampedArray(C.buffer),ne,ce):null},this.getLineDash=function(){return this.ve.slice()},this.nf=function(C){var D=a.Matrix.invert(this.Ud);return a.Matrix.mapPoints(D,C),C},this.isPointInPath=function(C,D,ne){var ce=arguments;if(ce.length===3)var ye=this.Rd;else if(ce.length===4)ye=ce[0],C=ce[1],D=ce[2],ne=ce[3];else throw"invalid arg count, need 3 or 4, got "+ce.length;return!isFinite(C)||!isFinite(D)||(ne=ne||"nonzero",ne!=="nonzero"&&ne!=="evenodd")?!1:(ce=this.nf([C,D]),C=ce[0],D=ce[1],ye.setFillType(ne==="nonzero"?a.FillType.Winding:a.FillType.EvenOdd),ye.contains(C,D))},this.isPointInStroke=function(C,D){var ne=arguments;if(ne.length===2)var ce=this.Rd;else if(ne.length===3)ce=ne[0],C=ne[1],D=ne[2];else throw"invalid arg count, need 2 or 3, got "+ne.length;return!isFinite(C)||!isFinite(D)?!1:(ne=this.nf([C,D]),C=ne[0],D=ne[1],ce=ce.copy(),ce.setFillType(a.FillType.Winding),ce.stroke({width:this.lineWidth,miter_limit:this.miterLimit,cap:this.Pd.getStrokeCap(),join:this.Pd.getStrokeJoin(),precision:.3}),ne=ce.contains(C,D),ce.delete(),ne)},this.lineTo=function(C,D){de(this.Rd,C,D)},this.measureText=function(C){C=this.ne.getGlyphIDs(C),C=this.ne.getGlyphWidths(C);let D=0;for(const ne of C)D+=ne;return{width:D}},this.moveTo=function(C,D){var ne=this.Rd;y([C,D])&&ne.moveTo(C,D)},this.putImageData=function(C,D,ne,ce,ye,Se,De){if(y([D,ne,ce,ye,Se,De])){if(ce===void 0)this.Md.writePixels(C.data,C.width,C.height,D,ne);else if(ce=ce||0,ye=ye||0,Se=Se||C.width,De=De||C.height,0>Se&&(ce+=Se,Se=Math.abs(Se)),0>De&&(ye+=De,De=Math.abs(De)),0>ce&&(Se+=ce,ce=0),0>ye&&(De+=ye,ye=0),!(0>=Se||0>=De)){C=a.MakeImage({width:C.width,height:C.height,alphaType:a.AlphaType.Unpremul,colorType:a.ColorType.RGBA_8888,colorSpace:a.ColorSpace.SRGB},C.data,4*C.width);var Lt=a.XYWHRect(ce,ye,Se,De);D=a.XYWHRect(D+ce,ne+ye,Se,De),ne=a.Matrix.invert(this.Ud),this.Md.save(),this.Md.concat(ne),this.Md.drawImageRect(C,Lt,D,null,!1),this.Md.restore(),C.delete()}}},this.quadraticCurveTo=function(C,D,ne,ce){var ye=this.Rd;y([C,D,ne,ce])&&(ye.isEmpty()&&ye.moveTo(C,D),ye.quadTo(C,D,ne,ce))},this.rect=function(C,D,ne,ce){var ye=this.Rd;C=a.XYWHRect(C,D,ne,ce),y(C)&&ye.addRect(C)},this.resetTransform=function(){this.Rd.transform(this.Ud);var C=a.Matrix.invert(this.Ud);this.Md.concat(C),this.Ud=this.Md.getTotalMatrix()},this.restore=function(){var C=this.mf.pop();if(C){var D=a.Matrix.multiply(this.Ud,a.Matrix.invert(C.Kf));this.Rd.transform(D),this.Pd.delete(),this.Pd=C.bg,this.ve=C.$f,this.Le=C.ng,this.he=C.mg,this.be=C.fs,this.xe=C.kg,this.ye=C.lg,this.we=C.sb,this.Ke=C.jg,this.je=C.ga,this.Od=C.Rf,this.Je=C.ag,this.Se=C.Qf,this.Md.restore(),this.Ud=this.Md.getTotalMatrix()}},this.rotate=function(C){if(isFinite(C)){var D=a.Matrix.rotated(-C);this.Rd.transform(D),this.Md.rotate(C/Math.PI*180,0,0),this.Ud=this.Md.getTotalMatrix()}},this.save=function(){if(this.be.te){var C=this.be.te();this.Ce.push(C)}else C=this.be;if(this.he.te){var D=this.he.te();this.Ce.push(D)}else D=this.he;this.mf.push({Kf:this.Ud.slice(),$f:this.ve.slice(),ng:this.Le,mg:D,fs:C,kg:this.xe,lg:this.ye,sb:this.we,jg:this.Ke,ga:this.je,ag:this.Je,Rf:this.Od,bg:this.Pd.copy(),Qf:this.Se}),this.Md.save()},this.scale=function(C,D){if(y(arguments)){var ne=a.Matrix.scaled(1/C,1/D);this.Rd.transform(ne),this.Md.scale(C,D),this.Ud=this.Md.getTotalMatrix()}},this.setLineDash=function(C){for(var D=0;D<C.length;D++)if(!isFinite(C[D])||0>C[D])return;C.length%2===1&&Array.prototype.push.apply(C,C),this.ve=C},this.setTransform=function(C,D,ne,ce,ye,Se){y(arguments)&&(this.resetTransform(),this.transform(C,D,ne,ce,ye,Se))},this.se=function(){var C=a.Matrix.invert(this.Ud);this.Md.concat(C),this.Md.concat(a.Matrix.translated(this.xe,this.ye)),this.Md.concat(this.Ud)},this.ze=function(C){var D=a.multiplyByAlpha(this.Ke,this.je);if(!a.getColorComponents(D)[3]||!(this.we||this.ye||this.xe))return null;C=C.copy(),C.setColor(D);var ne=a.MaskFilter.MakeBlur(a.BlurStyle.Normal,this.we/2,!1);return C.setMaskFilter(ne),C.dispose=function(){ne.delete(),this.delete()},C},this.df=function(){var C=this.Pd.copy();if(C.setStyle(a.PaintStyle.Stroke),v(this.he)){var D=a.multiplyByAlpha(this.he,this.je);C.setColor(D)}else D=this.he.ue(this.Ud),C.setColor(a.Color(0,0,0,this.je)),C.setShader(D);if(C.setStrokeWidth(this.Le),this.ve.length){var ne=a.PathEffect.MakeDash(this.ve,this.Je);C.setPathEffect(ne)}return C.dispose=function(){ne&&ne.delete(),this.delete()},C},this.stroke=function(C){C=C?C.Vd:this.Rd;var D=this.df(),ne=this.ze(D);ne&&(this.Md.save(),this.se(),this.Md.drawPath(C,ne),this.Md.restore(),ne.dispose()),this.Md.drawPath(C,D),D.dispose()},this.strokeRect=function(C,D,ne,ce){var ye=this.df(),Se=this.ze(ye);Se&&(this.Md.save(),this.se(),this.Md.drawRect(a.XYWHRect(C,D,ne,ce),Se),this.Md.restore(),Se.dispose()),this.Md.drawRect(a.XYWHRect(C,D,ne,ce),ye),ye.dispose()},this.strokeText=function(C,D,ne){var ce=this.df();C=a.TextBlob.MakeFromText(C,this.ne);var ye=this.ze(ce);ye&&(this.Md.save(),this.se(),this.Md.drawTextBlob(C,D,ne,ye),this.Md.restore(),ye.dispose()),this.Md.drawTextBlob(C,D,ne,ce),C.delete(),ce.dispose()},this.translate=function(C,D){if(y(arguments)){var ne=a.Matrix.translated(-C,-D);this.Rd.transform(ne),this.Md.translate(C,D),this.Ud=this.Md.getTotalMatrix()}},this.transform=function(C,D,ne,ce,ye,Se){C=[C,ne,ye,D,ce,Se,0,0,1],D=a.Matrix.invert(C),this.Rd.transform(D),this.Md.concat(C),this.Ud=this.Md.getTotalMatrix()},this.addHitRegion=function(){},this.clearHitRegions=function(){},this.drawFocusIfNeeded=function(){},this.removeHitRegion=function(){},this.scrollPathIntoView=function(){},Object.defineProperty(this,"canvas",{value:null,writable:!1})}function V(we){this.ef=we,this.Ld=new U(we.getCanvas()),this.Te=[],this.decodeImage=function(C){if(C=a.MakeImageFromEncoded(C),!C)throw"Invalid input";return this.Te.push(C),new ue(C)},this.loadFont=function(C,D){if(C=a.Typeface.MakeFreeTypeFaceFromData(C),!C)return null;this.Te.push(C);var ne=(D.style||"normal")+"|"+(D.variant||"normal")+"|"+(D.weight||"normal");D=D.family,cn[D]||(cn[D]={"*":C}),cn[D][ne]=C},this.makePath2D=function(C){return C=new st(C),this.Te.push(C.Vd),C},this.getContext=function(C){return C==="2d"?this.Ld:null},this.toDataURL=function(C,D){this.ef.flush();var ne=this.ef.makeImageSnapshot();if(ne){C=C||"image/png";var ce=a.ImageFormat.PNG;if(C==="image/jpeg"&&(ce=a.ImageFormat.JPEG),D=ne.encodeToBytes(ce,D||.92)){if(ne.delete(),C="data:"+C+";base64,",typeof Buffer<"u")D=Buffer.from(D).toString("base64");else{ne=0,ce=D.length;for(var ye="",Se;ne<ce;)Se=D.slice(ne,Math.min(ne+32768,ce)),ye+=String.fromCharCode.apply(null,Se),ne+=32768;D=btoa(ye)}return C+D}}},this.dispose=function(){this.Ld.me(),this.Te.forEach(function(C){C.delete()}),this.ef.dispose()}}function ue(we){this.width=we.width(),this.height=we.height(),this.naturalWidth=this.width,this.naturalHeight=this.height,this.uf=function(){return we}}function Ce(we,C,D){if(!C||D===0)throw"invalid dimensions, width and height must be non-zero";if(we.length%4)throw"arr must be a multiple of 4";D=D||we.length/(4*C),Object.defineProperty(this,"data",{value:we,writable:!1}),Object.defineProperty(this,"height",{value:D,writable:!1}),Object.defineProperty(this,"width",{value:C,writable:!1})}function He(we,C,D,ne){this.Xd=null,this.de=[],this.$d=[],this.addColorStop=function(ce,ye){if(0>ce||1<ce||!isFinite(ce))throw"offset must be between 0 and 1 inclusively";ye=S(ye);var Se=this.$d.indexOf(ce);if(Se!==-1)this.de[Se]=ye;else{for(Se=0;Se<this.$d.length&&!(this.$d[Se]>ce);Se++);this.$d.splice(Se,0,ce),this.de.splice(Se,0,ye)}},this.te=function(){var ce=new He(we,C,D,ne);return ce.de=this.de.slice(),ce.$d=this.$d.slice(),ce},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(ce){var ye=[we,C,D,ne];a.Matrix.mapPoints(ce,ye),ce=ye[0];var Se=ye[1],De=ye[2];return ye=ye[3],this.me(),this.Xd=a.Shader.MakeLinearGradient([ce,Se],[De,ye],this.de,this.$d,a.TileMode.Clamp)}}function Ve(we,C,D,ne,ce,ye){if(y([C,D,ne,ce,ye])){if(0>ye)throw"radii cannot be negative";we.isEmpty()&&we.moveTo(C,D),we.arcToTangent(C,D,ne,ce,ye)}}function pt(we){if(!we.isEmpty()){var C=we.getBounds();(C[3]-C[1]||C[2]-C[0])&&we.close()}}function dt(we,C,D,ne,ce,ye,Se){Se=(Se-ye)/Math.PI*180,ye=ye/Math.PI*180,C=a.LTRBRect(C-ne,D-ce,C+ne,D+ce),1e-5>Math.abs(Math.abs(Se)-360)?(D=Se/2,we.arcToOval(C,ye,D,!1),we.arcToOval(C,ye+D,D,!1)):we.arcToOval(C,ye,Se,!1)}function G(we,C,D,ne,ce,ye,Se,De,Lt){if(y([C,D,ne,ce,ye,Se,De])){if(0>ne||0>ce)throw"radii cannot be negative";var It=2*Math.PI,Tr=Se%It;0>Tr&&(Tr+=It);var lo=Tr-Se;Se=Tr,De+=lo,!Lt&&De-Se>=It?De=Se+It:Lt&&Se-De>=It?De=Se-It:!Lt&&Se>De?De=Se+(It-(Se-De)%It):Lt&&Se<De&&(De=Se-(It-(De-Se)%It)),ye?(Lt=a.Matrix.rotated(ye,C,D),ye=a.Matrix.rotated(-ye,C,D),we.transform(ye),dt(we,C,D,ne,ce,Se,De),we.transform(Lt)):dt(we,C,D,ne,ce,Se,De)}}function de(we,C,D){y([C,D])&&(we.isEmpty()&&we.moveTo(C,D),we.lineTo(C,D))}function st(we){this.Vd=null,this.Vd=typeof we=="string"?a.Path.MakeFromSVGString(we):we&&we.bf?we.Vd.copy():new a.Path,this.bf=function(){return this.Vd},this.addPath=function(C,D){D||(D={a:1,c:0,e:0,b:0,d:1,f:0}),this.Vd.addPath(C.Vd,[D.a,D.c,D.e,D.b,D.d,D.f])},this.arc=function(C,D,ne,ce,ye,Se){G(this.Vd,C,D,ne,ne,0,ce,ye,Se)},this.arcTo=function(C,D,ne,ce,ye){Ve(this.Vd,C,D,ne,ce,ye)},this.bezierCurveTo=function(C,D,ne,ce,ye,Se){var De=this.Vd;y([C,D,ne,ce,ye,Se])&&(De.isEmpty()&&De.moveTo(C,D),De.cubicTo(C,D,ne,ce,ye,Se))},this.closePath=function(){pt(this.Vd)},this.ellipse=function(C,D,ne,ce,ye,Se,De,Lt){G(this.Vd,C,D,ne,ce,ye,Se,De,Lt)},this.lineTo=function(C,D){de(this.Vd,C,D)},this.moveTo=function(C,D){var ne=this.Vd;y([C,D])&&ne.moveTo(C,D)},this.quadraticCurveTo=function(C,D,ne,ce){var ye=this.Vd;y([C,D,ne,ce])&&(ye.isEmpty()&&ye.moveTo(C,D),ye.quadTo(C,D,ne,ce))},this.rect=function(C,D,ne,ce){var ye=this.Vd;C=a.XYWHRect(C,D,ne,ce),y(C)&&ye.addRect(C)}}function Tt(we,C){switch(this.Xd=null,we instanceof ue&&(we=we.uf()),this.Ff=we,this._transform=a.Matrix.identity(),C===""&&(C="repeat"),C){case"repeat-x":this.Ae=a.TileMode.Repeat,this.Be=a.TileMode.Decal;break;case"repeat-y":this.Ae=a.TileMode.Decal,this.Be=a.TileMode.Repeat;break;case"repeat":this.Be=this.Ae=a.TileMode.Repeat;break;case"no-repeat":this.Be=this.Ae=a.TileMode.Decal;break;default:throw"invalid repetition mode "+C}this.setTransform=function(D){D=[D.a,D.c,D.e,D.b,D.d,D.f,0,0,1],y(D)&&(this._transform=D)},this.te=function(){var D=new Tt;return D.Ae=this.Ae,D.Be=this.Be,D},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(){return this.me(),this.Xd=this.Ff.makeShaderCubic(this.Ae,this.Be,1/3,1/3,this._transform)}}function Qt(we,C,D,ne,ce,ye){this.Xd=null,this.de=[],this.$d=[],this.addColorStop=function(Se,De){if(0>Se||1<Se||!isFinite(Se))throw"offset must be between 0 and 1 inclusively";De=S(De);var Lt=this.$d.indexOf(Se);if(Lt!==-1)this.de[Lt]=De;else{for(Lt=0;Lt<this.$d.length&&!(this.$d[Lt]>Se);Lt++);this.$d.splice(Lt,0,Se),this.de.splice(Lt,0,De)}},this.te=function(){var Se=new Qt(we,C,D,ne,ce,ye);return Se.de=this.de.slice(),Se.$d=this.$d.slice(),Se},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(Se){var De=[we,C,ne,ce];a.Matrix.mapPoints(Se,De);var Lt=De[0],It=De[1],Tr=De[2];De=De[3];var lo=(Math.abs(Se[0])+Math.abs(Se[4]))/2;return Se=D*lo,lo*=ye,this.me(),this.Xd=a.Shader.MakeTwoPointConicalGradient([Lt,It],Se,[Tr,De],lo,this.de,this.$d,a.TileMode.Clamp)}}a._testing={};var Jn={aliceblue:Float32Array.of(.941,.973,1,1),antiquewhite:Float32Array.of(.98,.922,.843,1),aqua:Float32Array.of(0,1,1,1),aquamarine:Float32Array.of(.498,1,.831,1),azure:Float32Array.of(.941,1,1,1),beige:Float32Array.of(.961,.961,.863,1),bisque:Float32Array.of(1,.894,.769,1),black:Float32Array.of(0,0,0,1),blanchedalmond:Float32Array.of(1,.922,.804,1),blue:Float32Array.of(0,0,1,1),blueviolet:Float32Array.of(.541,.169,.886,1),brown:Float32Array.of(.647,.165,.165,1),burlywood:Float32Array.of(.871,.722,.529,1),cadetblue:Float32Array.of(.373,.62,.627,1),chartreuse:Float32Array.of(.498,1,0,1),chocolate:Float32Array.of(.824,.412,.118,1),coral:Float32Array.of(1,.498,.314,1),cornflowerblue:Float32Array.of(.392,.584,.929,1),cornsilk:Float32Array.of(1,.973,.863,1),crimson:Float32Array.of(.863,.078,.235,1),cyan:Float32Array.of(0,1,1,1),darkblue:Float32Array.of(0,0,.545,1),darkcyan:Float32Array.of(0,.545,.545,1),darkgoldenrod:Float32Array.of(.722,.525,.043,1),darkgray:Float32Array.of(.663,.663,.663,1),darkgreen:Float32Array.of(0,.392,0,1),darkgrey:Float32Array.of(.663,.663,.663,1),darkkhaki:Float32Array.of(.741,.718,.42,1),darkmagenta:Float32Array.of(.545,0,.545,1),darkolivegreen:Float32Array.of(.333,.42,.184,1),darkorange:Float32Array.of(1,.549,0,1),darkorchid:Float32Array.of(.6,.196,.8,1),darkred:Float32Array.of(.545,0,0,1),darksalmon:Float32Array.of(.914,.588,.478,1),darkseagreen:Float32Array.of(.561,.737,.561,1),darkslateblue:Float32Array.of(.282,.239,.545,1),darkslategray:Float32Array.of(.184,.31,.31,1),darkslategrey:Float32Array.of(.184,.31,.31,1),darkturquoise:Float32Array.of(0,.808,.82,1),darkviolet:Float32Array.of(.58,0,.827,1),deeppink:Float32Array.of(1,.078,.576,1),deepskyblue:Float32Array.of(0,.749,1,1),dimgray:Float32Array.of(.412,.412,.412,1),dimgrey:Float32Array.of(.412,.412,.412,1),dodgerblue:Float32Array.of(.118,.565,1,1),firebrick:Float32Array.of(.698,.133,.133,1),floralwhite:Float32Array.of(1,.98,.941,1),forestgreen:Float32Array.of(.133,.545,.133,1),fuchsia:Float32Array.of(1,0,1,1),gainsboro:Float32Array.of(.863,.863,.863,1),ghostwhite:Float32Array.of(.973,.973,1,1),gold:Float32Array.of(1,.843,0,1),goldenrod:Float32Array.of(.855,.647,.125,1),gray:Float32Array.of(.502,.502,.502,1),green:Float32Array.of(0,.502,0,1),greenyellow:Float32Array.of(.678,1,.184,1),grey:Float32Array.of(.502,.502,.502,1),honeydew:Float32Array.of(.941,1,.941,1),hotpink:Float32Array.of(1,.412,.706,1),indianred:Float32Array.of(.804,.361,.361,1),indigo:Float32Array.of(.294,0,.51,1),ivory:Float32Array.of(1,1,.941,1),khaki:Float32Array.of(.941,.902,.549,1),lavender:Float32Array.of(.902,.902,.98,1),lavenderblush:Float32Array.of(1,.941,.961,1),lawngreen:Float32Array.of(.486,.988,0,1),lemonchiffon:Float32Array.of(1,.98,.804,1),lightblue:Float32Array.of(.678,.847,.902,1),lightcoral:Float32Array.of(.941,.502,.502,1),lightcyan:Float32Array.of(.878,1,1,1),lightgoldenrodyellow:Float32Array.of(.98,.98,.824,1),lightgray:Float32Array.of(.827,.827,.827,1),lightgreen:Float32Array.of(.565,.933,.565,1),lightgrey:Float32Array.of(.827,.827,.827,1),lightpink:Float32Array.of(1,.714,.757,1),lightsalmon:Float32Array.of(1,.627,.478,1),lightseagreen:Float32Array.of(.125,.698,.667,1),lightskyblue:Float32Array.of(.529,.808,.98,1),lightslategray:Float32Array.of(.467,.533,.6,1),lightslategrey:Float32Array.of(.467,.533,.6,1),lightsteelblue:Float32Array.of(.69,.769,.871,1),lightyellow:Float32Array.of(1,1,.878,1),lime:Float32Array.of(0,1,0,1),limegreen:Float32Array.of(.196,.804,.196,1),linen:Float32Array.of(.98,.941,.902,1),magenta:Float32Array.of(1,0,1,1),maroon:Float32Array.of(.502,0,0,1),mediumaquamarine:Float32Array.of(.4,.804,.667,1),mediumblue:Float32Array.of(0,0,.804,1),mediumorchid:Float32Array.of(.729,.333,.827,1),mediumpurple:Float32Array.of(.576,.439,.859,1),mediumseagreen:Float32Array.of(.235,.702,.443,1),mediumslateblue:Float32Array.of(.482,.408,.933,1),mediumspringgreen:Float32Array.of(0,.98,.604,1),mediumturquoise:Float32Array.of(.282,.82,.8,1),mediumvioletred:Float32Array.of(.78,.082,.522,1),midnightblue:Float32Array.of(.098,.098,.439,1),mintcream:Float32Array.of(.961,1,.98,1),mistyrose:Float32Array.of(1,.894,.882,1),moccasin:Float32Array.of(1,.894,.71,1),navajowhite:Float32Array.of(1,.871,.678,1),navy:Float32Array.of(0,0,.502,1),oldlace:Float32Array.of(.992,.961,.902,1),olive:Float32Array.of(.502,.502,0,1),olivedrab:Float32Array.of(.42,.557,.137,1),orange:Float32Array.of(1,.647,0,1),orangered:Float32Array.of(1,.271,0,1),orchid:Float32Array.of(.855,.439,.839,1),palegoldenrod:Float32Array.of(.933,.91,.667,1),palegreen:Float32Array.of(.596,.984,.596,1),paleturquoise:Float32Array.of(.686,.933,.933,1),palevioletred:Float32Array.of(.859,.439,.576,1),papayawhip:Float32Array.of(1,.937,.835,1),peachpuff:Float32Array.of(1,.855,.725,1),peru:Float32Array.of(.804,.522,.247,1),pink:Float32Array.of(1,.753,.796,1),plum:Float32Array.of(.867,.627,.867,1),powderblue:Float32Array.of(.69,.878,.902,1),purple:Float32Array.of(.502,0,.502,1),rebeccapurple:Float32Array.of(.4,.2,.6,1),red:Float32Array.of(1,0,0,1),rosybrown:Float32Array.of(.737,.561,.561,1),royalblue:Float32Array.of(.255,.412,.882,1),saddlebrown:Float32Array.of(.545,.271,.075,1),salmon:Float32Array.of(.98,.502,.447,1),sandybrown:Float32Array.of(.957,.643,.376,1),seagreen:Float32Array.of(.18,.545,.341,1),seashell:Float32Array.of(1,.961,.933,1),sienna:Float32Array.of(.627,.322,.176,1),silver:Float32Array.of(.753,.753,.753,1),skyblue:Float32Array.of(.529,.808,.922,1),slateblue:Float32Array.of(.416,.353,.804,1),slategray:Float32Array.of(.439,.502,.565,1),slategrey:Float32Array.of(.439,.502,.565,1),snow:Float32Array.of(1,.98,.98,1),springgreen:Float32Array.of(0,1,.498,1),steelblue:Float32Array.of(.275,.51,.706,1),tan:Float32Array.of(.824,.706,.549,1),teal:Float32Array.of(0,.502,.502,1),thistle:Float32Array.of(.847,.749,.847,1),tomato:Float32Array.of(1,.388,.278,1),transparent:Float32Array.of(0,0,0,0),turquoise:Float32Array.of(.251,.878,.816,1),violet:Float32Array.of(.933,.51,.933,1),wheat:Float32Array.of(.961,.871,.702,1),white:Float32Array.of(1,1,1,1),whitesmoke:Float32Array.of(.961,.961,.961,1),yellow:Float32Array.of(1,1,0,1),yellowgreen:Float32Array.of(.604,.804,.196,1)};a._testing.parseColor=S,a._testing.colorToString=g;var Zn=RegExp("(italic|oblique|normal|)\\s*(small-caps|normal|)\\s*(bold|bolder|lighter|[1-9]00|normal|)\\s*([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q)(.+)"),cn={"Noto Mono":{"*":null},monospace:{"*":null}};a._testing.parseFontString=M,a.MakeCanvas=function(we,C){return(we=a.MakeSurface(we,C))?new V(we):null},a.ImageData=function(){if(arguments.length===2){var we=arguments[0],C=arguments[1];return new Ce(new Uint8ClampedArray(4*we*C),we,C)}if(arguments.length===3){var D=arguments[0];if(D.prototype.constructor!==Uint8ClampedArray)throw"bytes must be given as a Uint8ClampedArray";if(we=arguments[1],C=arguments[2],D%4)throw"bytes must be given in a multiple of 4";if(D%we)throw"bytes must divide evenly by width";if(C&&C!==D/(4*we))throw"invalid height given";return new Ce(D,we,D/(4*we))}throw"invalid number of arguments - takes 2 or 3, saw "+arguments.length}}()}(n);var u=Object.assign({},n),c="./this.program",l=(a,f)=>{throw f},h=typeof window=="object",p=typeof importScripts=="function",w=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",x="",E,P,T;w?(x=p?Fa.dirname(x)+"/":__dirname+"/",E=(a,f)=>(a=a.startsWith("file://")?new URL(a):Fa.normalize(a),fs.readFileSync(a,f?void 0:"utf8")),T=a=>(a=E(a,!0),a.buffer||(a=new Uint8Array(a)),a),P=(a,f,m,v=!0)=>{a=a.startsWith("file://")?new URL(a):Fa.normalize(a),fs.readFile(a,v?void 0:"utf8",(A,k)=>{A?m(A):f(v?k.buffer:k)})},!n.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),l=(a,f)=>{throw process.exitCode=a,f},n.inspect=()=>"[Emscripten Module object]"):(h||p)&&(p?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),t&&(x=t),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",E=a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.send(null),f.responseText},p&&(T=a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),P=(a,f,m)=>{var v=new XMLHttpRequest;v.open("GET",a,!0),v.responseType="arraybuffer",v.onload=()=>{v.status==200||v.status==0&&v.response?f(v.response):m()},v.onerror=m,v.send(null)});var L=n.print||console.log.bind(console),N=n.printErr||console.error.bind(console);Object.assign(n,u),u=null,n.thisProgram&&(c=n.thisProgram),n.quit&&(l=n.quit);var F;n.wasmBinary&&(F=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&Ee("no native wasm support detected");var H,$,q=!1,te,re,le,Ae,Z,pe,ae,Ie;function Fe(){var a=H.buffer;n.HEAP8=te=new Int8Array(a),n.HEAP16=le=new Int16Array(a),n.HEAP32=Z=new Int32Array(a),n.HEAPU8=re=new Uint8Array(a),n.HEAPU16=Ae=new Uint16Array(a),n.HEAPU32=pe=new Uint32Array(a),n.HEAPF32=ae=new Float32Array(a),n.HEAPF64=Ie=new Float64Array(a)}var _e,Ye=[],se=[],ie=[];function he(){var a=n.preRun.shift();Ye.unshift(a)}var Te=0,ke=null;function Ee(a){throw n.onAbort&&n.onAbort(a),a="Aborted("+a+")",N(a),q=!0,a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info."),o(a),a}function Re(a){return a.startsWith("data:application/octet-stream;base64,")}var ot;if(ot="canvaskit.wasm",!Re(ot)){var it=ot;ot=n.locateFile?n.locateFile(it,x):x+it}function Ke(a){if(a==ot&&F)return new Uint8Array(F);if(T)return T(a);throw"both async and sync fetching of the wasm failed"}function yt(a){if(!F&&(h||p)){if(typeof fetch=="function"&&!a.startsWith("file://"))return fetch(a,{credentials:"same-origin"}).then(f=>{if(!f.ok)throw"failed to load wasm binary file at '"+a+"'";return f.arrayBuffer()}).catch(()=>Ke(a));if(P)return new Promise((f,m)=>{P(a,v=>f(new Uint8Array(v)),m)})}return Promise.resolve().then(()=>Ke(a))}function Nt(a,f,m){return yt(a).then(v=>WebAssembly.instantiate(v,f)).then(v=>v).then(m,v=>{N("failed to asynchronously prepare wasm: "+v),Ee(v)})}function In(a,f){var m=ot;return F||typeof WebAssembly.instantiateStreaming!="function"||Re(m)||m.startsWith("file://")||w||typeof fetch!="function"?Nt(m,a,f):fetch(m,{credentials:"same-origin"}).then(v=>WebAssembly.instantiateStreaming(v,a).then(f,function(A){return N("wasm streaming compile failed: "+A),N("falling back to ArrayBuffer instantiation"),Nt(m,a,f)}))}function an(a){this.name="ExitStatus",this.message=`Program terminated with exit(${a})`,this.status=a}var pn=a=>{for(;0<a.length;)a.shift()(n)},Gn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ut=(a,f,m)=>{var v=f+m;for(m=f;a[m]&&!(m>=v);)++m;if(16<m-f&&a.buffer&&Gn)return Gn.decode(a.subarray(f,m));for(v="";f<m;){var A=a[f++];if(A&128){var k=a[f++]&63;if((A&224)==192)v+=String.fromCharCode((A&31)<<6|k);else{var z=a[f++]&63;A=(A&240)==224?(A&15)<<12|k<<6|z:(A&7)<<18|k<<12|z<<6|a[f++]&63,65536>A?v+=String.fromCharCode(A):(A-=65536,v+=String.fromCharCode(55296|A>>10,56320|A&1023))}}else v+=String.fromCharCode(A)}return v},wn={};function Wt(a){for(;a.length;){var f=a.pop();a.pop()(f)}}function An(a){return this.fromWireType(Z[a>>2])}var en={},jt={},Un={},yr=void 0;function gn(a){throw new yr(a)}function at(a,f,m){function v(O){O=m(O),O.length!==a.length&&gn("Mismatched type converter count");for(var B=0;B<a.length;++B)bn(a[B],O[B])}a.forEach(function(O){Un[O]=f});var A=Array(f.length),k=[],z=0;f.forEach((O,B)=>{jt.hasOwnProperty(O)?A[B]=jt[O]:(k.push(O),en.hasOwnProperty(O)||(en[O]=[]),en[O].push(()=>{A[B]=jt[O],++z,z===k.length&&v(A)}))}),k.length===0&&v(A)}function _t(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${a}`)}}var tn=void 0;function xt(a){for(var f="";re[a];)f+=tn[re[a++]];return f}var Dt=void 0;function vt(a){throw new Dt(a)}function bi(a,f,m={}){var v=f.name;if(a||vt(`type "${v}" must have a positive integer typeid pointer`),jt.hasOwnProperty(a)){if(m.Xf)return;vt(`Cannot register type '${v}' twice`)}jt[a]=f,delete Un[a],en.hasOwnProperty(a)&&(f=en[a],delete en[a],f.forEach(A=>A()))}function bn(a,f,m={}){if(!("argPackAdvance"in f))throw new TypeError("registerType registeredInstance requires argPackAdvance");bi(a,f,m)}function xi(a){vt(a.Kd.Wd.Qd.name+" instance already deleted")}var Si=!1;function Yi(){}function Ki(a){--a.count.value,a.count.value===0&&(a.Zd?a.fe.le(a.Zd):a.Wd.Qd.le(a.Sd))}function Qi(a,f,m){return f===m?a:m.ae===void 0?null:(a=Qi(a,f,m.ae),a===null?null:m.Nf(a))}var qi={},Wr=[];function Ei(){for(;Wr.length;){var a=Wr.pop();a.Kd.Fe=!1,a.delete()}}var zr=void 0,Ai={};function Ma(a,f){for(f===void 0&&vt("ptr should not be undefined");a.ae;)f=a.Pe(f),a=a.ae;return Ai[f]}function Ji(a,f){return f.Wd&&f.Sd||gn("makeClassHandle requires ptr and ptrType"),!!f.fe!=!!f.Zd&&gn("Both smartPtrType and smartPtr must be specified"),f.count={value:1},ni(Object.create(a,{Kd:{value:f}}))}function ni(a){return typeof FinalizationRegistry>"u"?(ni=f=>f,a):(Si=new FinalizationRegistry(f=>{Ki(f.Kd)}),ni=f=>{var m=f.Kd;return m.Zd&&Si.register(f,{Kd:m},f),f},Yi=f=>{Si.unregister(f)},ni(a))}function vr(){}function Ko(a){if(a===void 0)return"_unknown";a=a.replace(/[^a-zA-Z0-9_]/g,"$");var f=a.charCodeAt(0);return 48<=f&&57>=f?`_${a}`:a}function Zi(a,f){return a=Ko(a),{[a]:function(){return f.apply(this,arguments)}}[a]}function ri(a,f,m){if(a[f].Yd===void 0){var v=a[f];a[f]=function(){return a[f].Yd.hasOwnProperty(arguments.length)||vt(`Function '${m}' called with an invalid number of arguments (${arguments.length}) - expects one of (${a[f].Yd})!`),a[f].Yd[arguments.length].apply(this,arguments)},a[f].Yd=[],a[f].Yd[v.De]=v}}function ii(a,f,m){n.hasOwnProperty(a)?((m===void 0||n[a].Yd!==void 0&&n[a].Yd[m]!==void 0)&&vt(`Cannot register public name '${a}' twice`),ri(n,a,a),n.hasOwnProperty(m)&&vt(`Cannot register multiple overloads of a function with the same number of arguments (${m})!`),n[a].Yd[m]=f):(n[a]=f,m!==void 0&&(n[a].xg=m))}function eo(a,f,m,v,A,k,z,O){this.name=a,this.constructor=f,this.Ge=m,this.le=v,this.ae=A,this.Sf=k,this.Pe=z,this.Nf=O,this.dg=[]}function Ci(a,f,m){for(;f!==m;)f.Pe||vt(`Expected null or instance of ${m.name}, got an instance of ${f.name}`),a=f.Pe(a),f=f.ae;return a}function oi(a,f){return f===null?(this.hf&&vt(`null is not a valid ${this.name}`),0):(f.Kd||vt(`Cannot pass "${Kn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),Ci(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd))}function ai(a,f){if(f===null){if(this.hf&&vt(`null is not a valid ${this.name}`),this.We){var m=this.jf();return a!==null&&a.push(this.le,m),m}return 0}if(f.Kd||vt(`Cannot pass "${Kn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.Ve&&f.Kd.Wd.Ve&&vt(`Cannot convert argument of type ${f.Kd.fe?f.Kd.fe.name:f.Kd.Wd.name} to parameter type ${this.name}`),m=Ci(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd),this.We)switch(f.Kd.Zd===void 0&&vt("Passing raw pointer to smart pointer is illegal"),this.ig){case 0:f.Kd.fe===this?m=f.Kd.Zd:vt(`Cannot convert argument of type ${f.Kd.fe?f.Kd.fe.name:f.Kd.Wd.name} to parameter type ${this.name}`);break;case 1:m=f.Kd.Zd;break;case 2:if(f.Kd.fe===this)m=f.Kd.Zd;else{var v=f.clone();m=this.eg(m,Wn(function(){v.delete()})),a!==null&&a.push(this.le,m)}break;default:vt("Unsupporting sharing policy")}return m}function to(a,f){return f===null?(this.hf&&vt(`null is not a valid ${this.name}`),0):(f.Kd||vt(`Cannot pass "${Kn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),f.Kd.Wd.Ve&&vt(`Cannot convert argument of type ${f.Kd.Wd.name} to parameter type ${this.name}`),Ci(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd))}function ar(a,f,m,v,A,k,z,O,B,j,ge){this.name=a,this.Qd=f,this.hf=m,this.Ve=v,this.We=A,this.cg=k,this.ig=z,this.wf=O,this.jf=B,this.eg=j,this.le=ge,A||f.ae!==void 0?this.toWireType=ai:(this.toWireType=v?oi:to,this.ee=null)}function Yt(a,f,m){n.hasOwnProperty(a)||gn("Replacing nonexistant public symbol"),n[a].Yd!==void 0&&m!==void 0?n[a].Yd[m]=f:(n[a]=f,n[a].De=m)}var Qo=(a,f)=>{var m=[];return function(){if(m.length=0,Object.assign(m,arguments),a.includes("j")){var v=n["dynCall_"+a];v=m&&m.length?v.apply(null,[f].concat(m)):v.call(null,f)}else v=_e.get(f).apply(null,m);return v}};function mn(a,f){a=xt(a);var m=a.includes("j")?Qo(a,f):_e.get(f);return typeof m!="function"&&vt(`unknown function pointer with signature ${a}: ${f}`),m}var Kt=void 0;function nn(a){a=Wa(a);var f=xt(a);return jr(a),f}function Cn(a,f){function m(k){A[k]||jt[k]||(Un[k]?Un[k].forEach(m):(v.push(k),A[k]=!0))}var v=[],A={};throw f.forEach(m),new Kt(`${a}: `+v.map(nn).join([", "]))}function kn(a,f,m,v,A){var k=f.length;2>k&&vt("argTypes array size mismatch! Must at least get return value and 'this' types!");var z=f[1]!==null&&m!==null,O=!1;for(m=1;m<f.length;++m)if(f[m]!==null&&f[m].ee===void 0){O=!0;break}var B=f[0].name!=="void",j=k-2,ge=Array(j),be=[],Ge=[];return function(){if(arguments.length!==j&&vt(`function ${a} called with ${arguments.length} arguments, expected ${j} args!`),Ge.length=0,be.length=z?2:1,be[0]=A,z){var ee=f[1].toWireType(Ge,this);be[1]=ee}for(var We=0;We<j;++We)ge[We]=f[We+2].toWireType(Ge,arguments[We]),be.push(ge[We]);if(We=v.apply(null,be),O)Wt(Ge);else for(var tt=z?1:2;tt<f.length;tt++){var rt=tt===1?ee:ge[tt-2];f[tt].ee!==null&&f[tt].ee(rt)}return ee=B?f[0].fromWireType(We):void 0,ee}}function Hr(a,f){for(var m=[],v=0;v<a;v++)m.push(pe[f+4*v>>2]);return m}function qo(){this.ke=[void 0],this.tf=[]}var _n=new qo;function _i(a){a>=_n.He&&--_n.get(a).xf===0&&_n.Cf(a)}var Rn=a=>(a||vt("Cannot use deleted val. handle = "+a),_n.get(a).value),Wn=a=>{switch(a){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return _n.Bf({xf:1,value:a})}};function Ia(a,f,m){switch(f){case 0:return function(v){return this.fromWireType((m?te:re)[v])};case 1:return function(v){return this.fromWireType((m?le:Ae)[v>>1])};case 2:return function(v){return this.fromWireType((m?Z:pe)[v>>2])};default:throw new TypeError("Unknown integer type: "+a)}}function Ti(a,f){var m=jt[a];return m===void 0&&vt(f+" has unknown type "+nn(a)),m}function Kn(a){if(a===null)return"null";var f=typeof a;return f==="object"||f==="array"||f==="function"?a.toString():""+a}function Jo(a,f){switch(f){case 2:return function(m){return this.fromWireType(ae[m>>2])};case 3:return function(m){return this.fromWireType(Ie[m>>3])};default:throw new TypeError("Unknown float type: "+a)}}function Zc(a,f,m){switch(f){case 0:return m?function(v){return te[v]}:function(v){return re[v]};case 1:return m?function(v){return le[v>>1]}:function(v){return Ae[v>>1]};case 2:return m?function(v){return Z[v>>2]}:function(v){return pe[v>>2]};default:throw new TypeError("Unknown integer type: "+a)}}var On=(a,f,m,v)=>{if(!(0<v))return 0;var A=m;v=m+v-1;for(var k=0;k<a.length;++k){var z=a.charCodeAt(k);if(55296<=z&&57343>=z){var O=a.charCodeAt(++k);z=65536+((z&1023)<<10)|O&1023}if(127>=z){if(m>=v)break;f[m++]=z}else{if(2047>=z){if(m+1>=v)break;f[m++]=192|z>>6}else{if(65535>=z){if(m+2>=v)break;f[m++]=224|z>>12}else{if(m+3>=v)break;f[m++]=240|z>>18,f[m++]=128|z>>12&63}f[m++]=128|z>>6&63}f[m++]=128|z&63}}return f[m]=0,m-A},sr=a=>{for(var f=0,m=0;m<a.length;++m){var v=a.charCodeAt(m);127>=v?f++:2047>=v?f+=2:55296<=v&&57343>=v?(f+=4,++m):f+=3}return f},Hs=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,el=(a,f)=>{for(var m=a>>1,v=m+f/2;!(m>=v)&&Ae[m];)++m;if(m<<=1,32<m-a&&Hs)return Hs.decode(re.subarray(a,m));for(m="",v=0;!(v>=f/2);++v){var A=le[a+2*v>>1];if(A==0)break;m+=String.fromCharCode(A)}return m},js=(a,f,m)=>{if(m===void 0&&(m=2147483647),2>m)return 0;m-=2;var v=f;m=m<2*a.length?m/2:a.length;for(var A=0;A<m;++A)le[f>>1]=a.charCodeAt(A),f+=2;return le[f>>1]=0,f-v},Vs=a=>2*a.length,Xs=(a,f)=>{for(var m=0,v="";!(m>=f/4);){var A=Z[a+4*m>>2];if(A==0)break;++m,65536<=A?(A-=65536,v+=String.fromCharCode(55296|A>>10,56320|A&1023)):v+=String.fromCharCode(A)}return v},tl=(a,f,m)=>{if(m===void 0&&(m=2147483647),4>m)return 0;var v=f;m=v+m-4;for(var A=0;A<a.length;++A){var k=a.charCodeAt(A);if(55296<=k&&57343>=k){var z=a.charCodeAt(++A);k=65536+((k&1023)<<10)|z&1023}if(Z[f>>2]=k,f+=4,f+4>m)break}return Z[f>>2]=0,f-v},nl=a=>{for(var f=0,m=0;m<a.length;++m){var v=a.charCodeAt(m);55296<=v&&57343>=v&&++m,f+=4}return f},rl={};function Zo(a){var f=rl[a];return f===void 0?xt(a):f}var Eo=[];function ka(){function a(f){f.$$$embind_global$$$=f;var m=typeof $$$embind_global$$$=="object"&&f.$$$embind_global$$$==f;return m||delete f.$$$embind_global$$$,m}if(typeof globalThis=="object")return globalThis;if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&a(global)?$$$embind_global$$$=global:typeof self=="object"&&a(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function Ys(a){var f=Eo.length;return Eo.push(a),f}function Ra(a,f){for(var m=Array(a),v=0;v<a;++v)m[v]=Ti(pe[f+4*v>>2],"parameter "+v);return m}var Ks=[];function Qs(a){var f=Array(a+1);return function(m,v,A){f[0]=m;for(var k=0;k<a;++k){var z=Ti(pe[v+4*k>>2],"parameter "+k);f[k+1]=z.readValueFromPointer(A),A+=z.argPackAdvance}return m=new(m.bind.apply(m,f)),Wn(m)}}var Ao={};function qs(a){var f=a.getExtension("ANGLE_instanced_arrays");f&&(a.vertexAttribDivisor=function(m,v){f.vertexAttribDivisorANGLE(m,v)},a.drawArraysInstanced=function(m,v,A,k){f.drawArraysInstancedANGLE(m,v,A,k)},a.drawElementsInstanced=function(m,v,A,k,z){f.drawElementsInstancedANGLE(m,v,A,k,z)})}function il(a){var f=a.getExtension("OES_vertex_array_object");f&&(a.createVertexArray=function(){return f.createVertexArrayOES()},a.deleteVertexArray=function(m){f.deleteVertexArrayOES(m)},a.bindVertexArray=function(m){f.bindVertexArrayOES(m)},a.isVertexArray=function(m){return f.isVertexArrayOES(m)})}function Js(a){var f=a.getExtension("WEBGL_draw_buffers");f&&(a.drawBuffers=function(m,v){f.drawBuffersWEBGL(m,v)})}var Oa=1,no=[],wr=[],Co=[],Li=[],zn=[],Tn=[],_o=[],br=[],Pi=[],si=[],Na={},$a={},Ba=4;function $t(a){ea||(ea=a)}function ro(a){for(var f=Oa++,m=a.length;m<f;m++)a[m]=null;return f}function ol(a,f){a.He||(a.He=a.getContext,a.getContext=function(v,A){return A=a.He(v,A),v=="webgl"==A instanceof WebGLRenderingContext?A:null});var m=1<f.majorVersion?a.getContext("webgl2",f):a.getContext("webgl",f);return m?Zs(m,f):0}function Zs(a,f){var m=ro(br),v={handle:m,attributes:f,version:f.majorVersion,ge:a};return a.canvas&&(a.canvas.Af=v),br[m]=v,(typeof f.Of>"u"||f.Of)&&al(v),m}function eu(a){return ut=br[a],n.vg=Y=ut&&ut.ge,!(a&&!Y)}function al(a){if(a||(a=ut),!a.Yf){a.Yf=!0;var f=a.ge;qs(f),il(f),Js(f),f.qf=f.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),f.vf=f.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"),2<=a.version&&(f.rf=f.getExtension("EXT_disjoint_timer_query_webgl2")),(2>a.version||!f.rf)&&(f.rf=f.getExtension("EXT_disjoint_timer_query")),f.wg=f.getExtension("WEBGL_multi_draw"),(f.getSupportedExtensions()||[]).forEach(function(m){m.includes("lose_context")||m.includes("debug")||f.getExtension(m)})}}var ut,ea,To={},tu=()=>{if(!Da){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"},f;for(f in To)To[f]===void 0?delete a[f]:a[f]=To[f];var m=[];for(f in a)m.push(`${f}=${a[f]}`);Da=m}return Da},Da,sl=[null,[],[]];function nu(a){Y.bindVertexArray(_o[a])}function ru(a,f){for(var m=0;m<a;m++){var v=Z[f+4*m>>2];Y.deleteVertexArray(_o[v]),_o[v]=null}}var Pt=[];function Rt(a,f,m,v){Y.drawElements(a,f,m,v)}function io(a,f,m,v){for(var A=0;A<a;A++){var k=Y[m](),z=k&&ro(v);k?(k.name=z,v[z]=k):$t(1282),Z[f+4*A>>2]=z}}function iu(a,f){io(a,f,"createVertexArray",_o)}function ou(a,f,m){if(f){var v=void 0;switch(a){case 36346:v=1;break;case 36344:m!=0&&m!=1&&$t(1280);return;case 34814:case 36345:v=0;break;case 34466:var A=Y.getParameter(34467);v=A?A.length:0;break;case 33309:if(2>ut.version){$t(1282);return}v=2*(Y.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>ut.version){$t(1280);return}v=a==33307?3:0}if(v===void 0)switch(A=Y.getParameter(a),typeof A){case"number":v=A;break;case"boolean":v=A?1:0;break;case"string":$t(1280);return;case"object":if(A===null)switch(a){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:v=0;break;default:$t(1280);return}else{if(A instanceof Float32Array||A instanceof Uint32Array||A instanceof Int32Array||A instanceof Array){for(a=0;a<A.length;++a)switch(m){case 0:Z[f+4*a>>2]=A[a];break;case 2:ae[f+4*a>>2]=A[a];break;case 4:te[f+a>>0]=A[a]?1:0}return}try{v=A.name|0}catch(k){$t(1280),N("GL_INVALID_ENUM in glGet"+m+"v: Unknown object returned from WebGL getParameter("+a+")! (error: "+k+")");return}}break;default:$t(1280),N("GL_INVALID_ENUM in glGet"+m+"v: Native code calling glGet"+m+"v("+a+") and it returns "+A+" of type "+typeof A+"!");return}switch(m){case 1:m=v,pe[f>>2]=m,pe[f+4>>2]=(m-pe[f>>2])/4294967296;break;case 0:Z[f>>2]=v;break;case 2:ae[f>>2]=v;break;case 4:te[f>>0]=v?1:0}}else $t(1281)}var Lo=a=>{var f=sr(a)+1,m=Fn(f);return m&&On(a,re,m,f),m};function au(a){return a.slice(-1)=="]"&&a.lastIndexOf("[")}function ta(a){return a-=5120,a==0?te:a==1?re:a==2?le:a==4?Z:a==6?ae:a==5||a==28922||a==28520||a==30779||a==30782?pe:Ae}function na(a,f,m,v,A){a=ta(a);var k=31-Math.clz32(a.BYTES_PER_ELEMENT),z=Ba;return a.subarray(A>>k,A+v*(m*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[f-6402]||1)*(1<<k)+z-1&-z)>>k)}function At(a){var f=Y.Lf;if(f){var m=f.Oe[a];return typeof m=="number"&&(f.Oe[a]=m=Y.getUniformLocation(f,f.yf[a]+(0<m?"["+m+"]":""))),m}$t(1282)}var zt=[],Mi=[],_r=a=>a%4===0&&(a%100!==0||a%400===0),Ga=[31,29,31,30,31,30,31,31,30,31,30,31],ra=[31,28,31,30,31,30,31,31,30,31,30,31];function ur(a){var f=Array(sr(a)+1);return On(a,f,0,f.length),f}var su=(a,f,m,v)=>{function A(ee,We,tt){for(ee=typeof ee=="number"?ee.toString():ee||"";ee.length<We;)ee=tt[0]+ee;return ee}function k(ee,We){return A(ee,We,"0")}function z(ee,We){function tt(jn){return 0>jn?-1:0<jn?1:0}var rt;return(rt=tt(ee.getFullYear()-We.getFullYear()))===0&&(rt=tt(ee.getMonth()-We.getMonth()))===0&&(rt=tt(ee.getDate()-We.getDate())),rt}function O(ee){switch(ee.getDay()){case 0:return new Date(ee.getFullYear()-1,11,29);case 1:return ee;case 2:return new Date(ee.getFullYear(),0,3);case 3:return new Date(ee.getFullYear(),0,2);case 4:return new Date(ee.getFullYear(),0,1);case 5:return new Date(ee.getFullYear()-1,11,31);case 6:return new Date(ee.getFullYear()-1,11,30)}}function B(ee){var We=ee.pe;for(ee=new Date(new Date(ee.qe+1900,0,1).getTime());0<We;){var tt=ee.getMonth(),rt=(_r(ee.getFullYear())?Ga:ra)[tt];if(We>rt-ee.getDate())We-=rt-ee.getDate()+1,ee.setDate(1),11>tt?ee.setMonth(tt+1):(ee.setMonth(0),ee.setFullYear(ee.getFullYear()+1));else{ee.setDate(ee.getDate()+We);break}}return tt=new Date(ee.getFullYear()+1,0,4),We=O(new Date(ee.getFullYear(),0,4)),tt=O(tt),0>=z(We,ee)?0>=z(tt,ee)?ee.getFullYear()+1:ee.getFullYear():ee.getFullYear()-1}var j=Z[v+40>>2];v={qg:Z[v>>2],pg:Z[v+4>>2],$e:Z[v+8>>2],kf:Z[v+12>>2],af:Z[v+16>>2],qe:Z[v+20>>2],ie:Z[v+24>>2],pe:Z[v+28>>2],zg:Z[v+32>>2],og:Z[v+36>>2],rg:j&&j?Ut(re,j):""},m=m?Ut(re,m):"",j={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ge in j)m=m.replace(new RegExp(ge,"g"),j[ge]);var be="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ge="January February March April May June July August September October November December".split(" ");j={"%a":ee=>be[ee.ie].substring(0,3),"%A":ee=>be[ee.ie],"%b":ee=>Ge[ee.af].substring(0,3),"%B":ee=>Ge[ee.af],"%C":ee=>k((ee.qe+1900)/100|0,2),"%d":ee=>k(ee.kf,2),"%e":ee=>A(ee.kf,2," "),"%g":ee=>B(ee).toString().substring(2),"%G":ee=>B(ee),"%H":ee=>k(ee.$e,2),"%I":ee=>(ee=ee.$e,ee==0?ee=12:12<ee&&(ee-=12),k(ee,2)),"%j":ee=>{for(var We=0,tt=0;tt<=ee.af-1;We+=(_r(ee.qe+1900)?Ga:ra)[tt++]);return k(ee.kf+We,3)},"%m":ee=>k(ee.af+1,2),"%M":ee=>k(ee.pg,2),"%n":()=>`
`,"%p":ee=>0<=ee.$e&&12>ee.$e?"AM":"PM","%S":ee=>k(ee.qg,2),"%t":()=>"	","%u":ee=>ee.ie||7,"%U":ee=>k(Math.floor((ee.pe+7-ee.ie)/7),2),"%V":ee=>{var We=Math.floor((ee.pe+7-(ee.ie+6)%7)/7);if(2>=(ee.ie+371-ee.pe-2)%7&&We++,We)We==53&&(tt=(ee.ie+371-ee.pe)%7,tt==4||tt==3&&_r(ee.qe)||(We=1));else{We=52;var tt=(ee.ie+7-ee.pe-1)%7;(tt==4||tt==5&&_r(ee.qe%400-1))&&We++}return k(We,2)},"%w":ee=>ee.ie,"%W":ee=>k(Math.floor((ee.pe+7-(ee.ie+6)%7)/7),2),"%y":ee=>(ee.qe+1900).toString().substring(2),"%Y":ee=>ee.qe+1900,"%z":ee=>{ee=ee.og;var We=0<=ee;return ee=Math.abs(ee)/60,(We?"+":"-")+("0000"+(ee/60*100+ee%60)).slice(-4)},"%Z":ee=>ee.rg,"%%":()=>"%"},m=m.replace(/%%/g,"\0\0");for(ge in j)m.includes(ge)&&(m=m.replace(new RegExp(ge,"g"),j[ge](v)));return m=m.replace(/\0\0/g,"%"),ge=ur(m),ge.length>f?0:(te.set(ge,a),ge.length-1)};yr=n.InternalError=class extends Error{constructor(a){super(a),this.name="InternalError"}};for(var Ua=Array(256),Po=0;256>Po;++Po)Ua[Po]=String.fromCharCode(Po);tn=Ua,Dt=n.BindingError=class extends Error{constructor(a){super(a),this.name="BindingError"}},vr.prototype.isAliasOf=function(a){if(!(this instanceof vr&&a instanceof vr))return!1;var f=this.Kd.Wd.Qd,m=this.Kd.Sd,v=a.Kd.Wd.Qd;for(a=a.Kd.Sd;f.ae;)m=f.Pe(m),f=f.ae;for(;v.ae;)a=v.Pe(a),v=v.ae;return f===v&&m===a},vr.prototype.clone=function(){if(this.Kd.Sd||xi(this),this.Kd.Ne)return this.Kd.count.value+=1,this;var a=ni,f=Object,m=f.create,v=Object.getPrototypeOf(this),A=this.Kd;return a=a(m.call(f,v,{Kd:{value:{count:A.count,Fe:A.Fe,Ne:A.Ne,Sd:A.Sd,Wd:A.Wd,Zd:A.Zd,fe:A.fe}}})),a.Kd.count.value+=1,a.Kd.Fe=!1,a},vr.prototype.delete=function(){this.Kd.Sd||xi(this),this.Kd.Fe&&!this.Kd.Ne&&vt("Object already scheduled for deletion"),Yi(this),Ki(this.Kd),this.Kd.Ne||(this.Kd.Zd=void 0,this.Kd.Sd=void 0)},vr.prototype.isDeleted=function(){return!this.Kd.Sd},vr.prototype.deleteLater=function(){return this.Kd.Sd||xi(this),this.Kd.Fe&&!this.Kd.Ne&&vt("Object already scheduled for deletion"),Wr.push(this),Wr.length===1&&zr&&zr(Ei),this.Kd.Fe=!0,this},n.getInheritedInstanceCount=function(){return Object.keys(Ai).length},n.getLiveInheritedInstances=function(){var a=[],f;for(f in Ai)Ai.hasOwnProperty(f)&&a.push(Ai[f]);return a},n.flushPendingDeletes=Ei,n.setDelayFunction=function(a){zr=a,Wr.length&&zr&&zr(Ei)},ar.prototype.Tf=function(a){return this.wf&&(a=this.wf(a)),a},ar.prototype.pf=function(a){this.le&&this.le(a)},ar.prototype.argPackAdvance=8,ar.prototype.readValueFromPointer=An,ar.prototype.deleteObject=function(a){a!==null&&a.delete()},ar.prototype.fromWireType=function(a){function f(){return this.We?Ji(this.Qd.Ge,{Wd:this.cg,Sd:m,fe:this,Zd:a}):Ji(this.Qd.Ge,{Wd:this,Sd:a})}var m=this.Tf(a);if(!m)return this.pf(a),null;var v=Ma(this.Qd,m);if(v!==void 0)return v.Kd.count.value===0?(v.Kd.Sd=m,v.Kd.Zd=a,v.clone()):(v=v.clone(),this.pf(a),v);if(v=this.Qd.Sf(m),v=qi[v],!v)return f.call(this);v=this.Ve?v.Jf:v.pointerType;var A=Qi(m,this.Qd,v.Qd);return A===null?f.call(this):this.We?Ji(v.Qd.Ge,{Wd:v,Sd:A,fe:this,Zd:a}):Ji(v.Qd.Ge,{Wd:v,Sd:A})},Kt=n.UnboundTypeError=function(a,f){var m=Zi(f,function(v){this.name=f,this.message=v,v=Error(v).stack,v!==void 0&&(this.stack=this.toString()+`
`+v.replace(/^Error(:[^\n]*)?\n/,""))});return m.prototype=Object.create(a.prototype),m.prototype.constructor=m,m.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},m}(Error,"UnboundTypeError"),Object.assign(qo.prototype,{get(a){return this.ke[a]},has(a){return this.ke[a]!==void 0},Bf(a){var f=this.tf.pop()||this.ke.length;return this.ke[f]=a,f},Cf(a){this.ke[a]=void 0,this.tf.push(a)}}),_n.ke.push({value:void 0},{value:null},{value:!0},{value:!1}),_n.He=_n.ke.length,n.count_emval_handles=function(){for(var a=0,f=_n.He;f<_n.ke.length;++f)_n.ke[f]!==void 0&&++a;return a};for(var Y,Hn=0;32>Hn;++Hn)Pt.push(Array(Hn));var uu=new Float32Array(288);for(Hn=0;288>Hn;++Hn)zt[Hn]=uu.subarray(0,Hn+1);var Qn=new Int32Array(288);for(Hn=0;288>Hn;++Hn)Mi[Hn]=Qn.subarray(0,Hn+1);var ul={U:function(){return 0},Bb:()=>{},Db:function(){return 0},yb:()=>{},zb:()=>{},V:function(){},Ab:()=>{},E:function(a){var f=wn[a];delete wn[a];var m=f.jf,v=f.le,A=f.sf,k=A.map(z=>z.Wf).concat(A.map(z=>z.gg));at([a],k,z=>{var O={};return A.forEach((B,j)=>{var ge=z[j],be=B.Uf,Ge=B.Vf,ee=z[j+A.length],We=B.fg,tt=B.hg;O[B.Pf]={read:rt=>ge.fromWireType(be(Ge,rt)),write:(rt,jn)=>{var un=[];We(tt,rt,ee.toWireType(un,jn)),Wt(un)}}}),[{name:f.name,fromWireType:function(B){var j={},ge;for(ge in O)j[ge]=O[ge].read(B);return v(B),j},toWireType:function(B,j){for(var ge in O)if(!(ge in j))throw new TypeError(`Missing field: "${ge}"`);var be=m();for(ge in O)O[ge].write(be,j[ge]);return B!==null&&B.push(v,be),be},argPackAdvance:8,readValueFromPointer:An,ee:v}]})},qb:function(){},Hb:function(a,f,m,v,A){var k=_t(m);f=xt(f),bn(a,{name:f,fromWireType:function(z){return!!z},toWireType:function(z,O){return O?v:A},argPackAdvance:8,readValueFromPointer:function(z){if(m===1)var O=te;else if(m===2)O=le;else if(m===4)O=Z;else throw new TypeError("Unknown boolean type size: "+f);return this.fromWireType(O[z>>k])},ee:null})},p:function(a,f,m,v,A,k,z,O,B,j,ge,be,Ge){ge=xt(ge),k=mn(A,k),O&&(O=mn(z,O)),j&&(j=mn(B,j)),Ge=mn(be,Ge);var ee=Ko(ge);ii(ee,function(){Cn(`Cannot construct ${ge} due to unbound types`,[v])}),at([a,f,m],v?[v]:[],function(We){if(We=We[0],v)var tt=We.Qd,rt=tt.Ge;else rt=vr.prototype;We=Zi(ee,function(){if(Object.getPrototypeOf(this)!==jn)throw new Dt("Use 'new' to construct "+ge);if(un.oe===void 0)throw new Dt(ge+" has no accessible constructor");var cr=un.oe[arguments.length];if(cr===void 0)throw new Dt(`Tried to invoke ctor of ${ge} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(un.oe).toString()}) parameters instead!`);return cr.apply(this,arguments)});var jn=Object.create(rt,{constructor:{value:We}});We.prototype=jn;var un=new eo(ge,We,jn,Ge,tt,k,O,j);un.ae&&(un.ae.Qe===void 0&&(un.ae.Qe=[]),un.ae.Qe.push(un)),tt=new ar(ge,un,!0,!1,!1),rt=new ar(ge+"*",un,!1,!1,!1);var so=new ar(ge+" const*",un,!1,!0,!1);return qi[a]={pointerType:rt,Jf:so},Yt(ee,We),[tt,rt,so]})},i:function(a,f,m,v,A,k,z){var O=Hr(m,v);f=xt(f),k=mn(A,k),at([],[a],function(B){function j(){Cn(`Cannot call ${ge} due to unbound types`,O)}B=B[0];var ge=`${B.name}.${f}`;f.startsWith("@@")&&(f=Symbol[f.substring(2)]);var be=B.Qd.constructor;return be[f]===void 0?(j.De=m-1,be[f]=j):(ri(be,f,ge),be[f].Yd[m-1]=j),at([],O,function(Ge){if(Ge=[Ge[0],null].concat(Ge.slice(1)),Ge=kn(ge,Ge,null,k,z),be[f].Yd===void 0?(Ge.De=m-1,be[f]=Ge):be[f].Yd[m-1]=Ge,B.Qd.Qe)for(const ee of B.Qd.Qe)ee.constructor.hasOwnProperty(f)||(ee.constructor[f]=Ge);return[]}),[]})},G:function(a,f,m,v,A,k){var z=Hr(f,m);A=mn(v,A),at([],[a],function(O){O=O[0];var B=`constructor ${O.name}`;if(O.Qd.oe===void 0&&(O.Qd.oe=[]),O.Qd.oe[f-1]!==void 0)throw new Dt(`Cannot register multiple constructors with identical number of parameters (${f-1}) for class '${O.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return O.Qd.oe[f-1]=()=>{Cn(`Cannot construct ${O.name} due to unbound types`,z)},at([],z,function(j){return j.splice(1,0,null),O.Qd.oe[f-1]=kn(B,j,null,A,k),[]}),[]})},b:function(a,f,m,v,A,k,z,O){var B=Hr(m,v);f=xt(f),k=mn(A,k),at([],[a],function(j){function ge(){Cn(`Cannot call ${be} due to unbound types`,B)}j=j[0];var be=`${j.name}.${f}`;f.startsWith("@@")&&(f=Symbol[f.substring(2)]),O&&j.Qd.dg.push(f);var Ge=j.Qd.Ge,ee=Ge[f];return ee===void 0||ee.Yd===void 0&&ee.className!==j.name&&ee.De===m-2?(ge.De=m-2,ge.className=j.name,Ge[f]=ge):(ri(Ge,f,be),Ge[f].Yd[m-2]=ge),at([],B,function(We){return We=kn(be,We,j,k,z),Ge[f].Yd===void 0?(We.De=m-2,Ge[f]=We):Ge[f].Yd[m-2]=We,[]}),[]})},v:function(a,f,m){a=xt(a),at([],[f],function(v){return v=v[0],n[a]=v.fromWireType(m),[]})},Gb:function(a,f){f=xt(f),bn(a,{name:f,fromWireType:function(m){var v=Rn(m);return _i(m),v},toWireType:function(m,v){return Wn(v)},argPackAdvance:8,readValueFromPointer:An,ee:null})},l:function(a,f,m,v){function A(){}m=_t(m),f=xt(f),A.values={},bn(a,{name:f,constructor:A,fromWireType:function(k){return this.constructor.values[k]},toWireType:function(k,z){return z.value},argPackAdvance:8,readValueFromPointer:Ia(f,m,v),ee:null}),ii(f,A)},d:function(a,f,m){var v=Ti(a,"enum");f=xt(f),a=v.constructor,v=Object.create(v.constructor.prototype,{value:{value:m},constructor:{value:Zi(`${v.name}_${f}`,function(){})}}),a.values[m]=v,a[f]=v},X:function(a,f,m){m=_t(m),f=xt(f),bn(a,{name:f,fromWireType:function(v){return v},toWireType:function(v,A){return A},argPackAdvance:8,readValueFromPointer:Jo(f,m),ee:null})},z:function(a,f,m,v,A,k){var z=Hr(f,m);a=xt(a),A=mn(v,A),ii(a,function(){Cn(`Cannot call ${a} due to unbound types`,z)},f-1),at([],z,function(O){return O=[O[0],null].concat(O.slice(1)),Yt(a,kn(a,O,null,A,k),f-1),[]})},I:function(a,f,m,v,A){f=xt(f),A===-1&&(A=4294967295),A=_t(m);var k=O=>O;if(v===0){var z=32-8*m;k=O=>O<<z>>>z}m=f.includes("unsigned")?function(O,B){return B>>>0}:function(O,B){return B},bn(a,{name:f,fromWireType:k,toWireType:m,argPackAdvance:8,readValueFromPointer:Zc(f,A,v!==0),ee:null})},w:function(a,f,m){function v(k){k>>=2;var z=pe;return new A(z.buffer,z[k+1],z[k])}var A=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][f];m=xt(m),bn(a,{name:m,fromWireType:v,argPackAdvance:8,readValueFromPointer:v},{Xf:!0})},s:function(a,f,m,v,A,k,z,O,B,j,ge,be){m=xt(m),k=mn(A,k),O=mn(z,O),j=mn(B,j),be=mn(ge,be),at([a],[f],function(Ge){return Ge=Ge[0],[new ar(m,Ge.Qd,!1,!1,!0,Ge,v,k,O,j,be)]})},W:function(a,f){f=xt(f);var m=f==="std::string";bn(a,{name:f,fromWireType:function(v){var A=pe[v>>2],k=v+4;if(m)for(var z=k,O=0;O<=A;++O){var B=k+O;if(O==A||re[B]==0){if(z=z?Ut(re,z,B-z):"",j===void 0)var j=z;else j+="\0",j+=z;z=B+1}}else{for(j=Array(A),O=0;O<A;++O)j[O]=String.fromCharCode(re[k+O]);j=j.join("")}return jr(v),j},toWireType:function(v,A){A instanceof ArrayBuffer&&(A=new Uint8Array(A));var k=typeof A=="string";k||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int8Array||vt("Cannot pass non-string to std::string");var z=m&&k?sr(A):A.length,O=Fn(4+z+1),B=O+4;if(pe[O>>2]=z,m&&k)On(A,re,B,z+1);else if(k)for(k=0;k<z;++k){var j=A.charCodeAt(k);255<j&&(jr(B),vt("String has UTF-16 code units that do not fit in 8 bits")),re[B+k]=j}else for(k=0;k<z;++k)re[B+k]=A[k];return v!==null&&v.push(jr,O),O},argPackAdvance:8,readValueFromPointer:An,ee:function(v){jr(v)}})},O:function(a,f,m){if(m=xt(m),f===2)var v=el,A=js,k=Vs,z=()=>Ae,O=1;else f===4&&(v=Xs,A=tl,k=nl,z=()=>pe,O=2);bn(a,{name:m,fromWireType:function(B){for(var j=pe[B>>2],ge=z(),be,Ge=B+4,ee=0;ee<=j;++ee){var We=B+4+ee*f;(ee==j||ge[We>>O]==0)&&(Ge=v(Ge,We-Ge),be===void 0?be=Ge:(be+="\0",be+=Ge),Ge=We+f)}return jr(B),be},toWireType:function(B,j){typeof j!="string"&&vt(`Cannot pass non-string to C++ string type ${m}`);var ge=k(j),be=Fn(4+ge+f);return pe[be>>2]=ge>>O,A(j,be+4,ge+f),B!==null&&B.push(jr,be),be},argPackAdvance:8,readValueFromPointer:An,ee:function(B){jr(B)}})},F:function(a,f,m,v,A,k){wn[a]={name:xt(f),jf:mn(m,v),le:mn(A,k),sf:[]}},f:function(a,f,m,v,A,k,z,O,B,j){wn[a].sf.push({Pf:xt(f),Wf:m,Uf:mn(v,A),Vf:k,gg:z,fg:mn(O,B),hg:j})},Ib:function(a,f){f=xt(f),bn(a,{Zf:!0,name:f,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},Fb:()=>!0,ub:()=>{throw 1/0},C:function(a,f,m){a=Rn(a),f=Ti(f,"emval::as");var v=[],A=Wn(v);return pe[m>>2]=A,f.toWireType(v,a)},K:function(a,f,m,v,A){a=Eo[a],f=Rn(f),m=Zo(m);var k=[];return pe[v>>2]=Wn(k),a(f,m,k,A)},r:function(a,f,m,v){a=Eo[a],f=Rn(f),m=Zo(m),a(f,m,null,v)},c:_i,J:function(a){return a===0?Wn(ka()):(a=Zo(a),Wn(ka()[a]))},q:function(a,f){var m=Ra(a,f),v=m[0];f=v.name+"_$"+m.slice(1).map(function(z){return z.name}).join("_")+"$";var A=Ks[f];if(A!==void 0)return A;var k=Array(a-1);return A=Ys((z,O,B,j)=>{for(var ge=0,be=0;be<a-1;++be)k[be]=m[be+1].readValueFromPointer(j+ge),ge+=m[be+1].argPackAdvance;for(z=z[O].apply(z,k),be=0;be<a-1;++be)m[be+1].Mf&&m[be+1].Mf(k[be]);if(!v.Zf)return v.toWireType(B,z)}),Ks[f]=A},B:function(a,f){return a=Rn(a),f=Rn(f),Wn(a[f])},n:function(a){4<a&&(_n.get(a).xf+=1)},L:function(a,f,m,v){a=Rn(a);var A=Ao[f];return A||(A=Qs(f),Ao[f]=A),A(a,m,v)},D:function(){return Wn([])},e:function(a){return Wn(Zo(a))},x:function(){return Wn({})},kb:function(a){return a=Rn(a),!a},A:function(a){var f=Rn(a);Wt(f),_i(a)},g:function(a,f,m){a=Rn(a),f=Rn(f),m=Rn(m),a[f]=m},h:function(a,f){return a=Ti(a,"_emval_take_value"),a=a.readValueFromPointer(f),Wn(a)},nb:function(){return-52},ob:function(){},a:()=>{Ee("")},Eb:()=>performance.now(),vb:a=>{var f=re.length;if(a>>>=0,2147483648<a)return!1;for(var m=1;4>=m;m*=2){var v=f*(1+.2/m);v=Math.min(v,a+100663296);var A=Math;v=Math.max(a,v);e:{A=A.min.call(A,2147483648,v+(65536-v%65536)%65536)-H.buffer.byteLength+65535>>>16;try{H.grow(A),Fe();var k=1;break e}catch{}k=void 0}if(k)return!0}return!1},lb:function(){return ut?ut.handle:0},wb:(a,f)=>{var m=0;return tu().forEach(function(v,A){var k=f+m;for(A=pe[a+4*A>>2]=k,k=0;k<v.length;++k)te[A++>>0]=v.charCodeAt(k);te[A>>0]=0,m+=v.length+1}),0},xb:(a,f)=>{var m=tu();pe[a>>2]=m.length;var v=0;return m.forEach(function(A){v+=A.length+1}),pe[f>>2]=v,0},Jb:a=>{l(a,new an(a))},N:()=>52,mb:function(){return 52},Cb:()=>52,pb:function(){return 70},T:(a,f,m,v)=>{for(var A=0,k=0;k<m;k++){var z=pe[f>>2],O=pe[f+4>>2];f+=8;for(var B=0;B<O;B++){var j=re[z+B],ge=sl[a];j===0||j===10?((a===1?L:N)(Ut(ge,0)),ge.length=0):ge.push(j)}A+=O}return pe[v>>2]=A,0},aa:function(a){Y.activeTexture(a)},ba:function(a,f){Y.attachShader(wr[a],Tn[f])},ca:function(a,f,m){Y.bindAttribLocation(wr[a],f,m?Ut(re,m):"")},da:function(a,f){a==35051?Y.ff=f:a==35052&&(Y.Ee=f),Y.bindBuffer(a,no[f])},$:function(a,f){Y.bindFramebuffer(a,Co[f])},fc:function(a,f){Y.bindRenderbuffer(a,Li[f])},Rb:function(a,f){Y.bindSampler(a,Pi[f])},ea:function(a,f){Y.bindTexture(a,zn[f])},zc:nu,Cc:nu,fa:function(a,f,m,v){Y.blendColor(a,f,m,v)},ga:function(a){Y.blendEquation(a)},ha:function(a,f){Y.blendFunc(a,f)},$b:function(a,f,m,v,A,k,z,O,B,j){Y.blitFramebuffer(a,f,m,v,A,k,z,O,B,j)},ia:function(a,f,m,v){2<=ut.version?m&&f?Y.bufferData(a,re,v,m,f):Y.bufferData(a,f,v):Y.bufferData(a,m?re.subarray(m,m+f):f,v)},ja:function(a,f,m,v){2<=ut.version?m&&Y.bufferSubData(a,f,re,v,m):Y.bufferSubData(a,f,re.subarray(v,v+m))},gc:function(a){return Y.checkFramebufferStatus(a)},R:function(a){Y.clear(a)},_:function(a,f,m,v){Y.clearColor(a,f,m,v)},S:function(a){Y.clearStencil(a)},sb:function(a,f,m,v){return Y.clientWaitSync(si[a],f,(m>>>0)+4294967296*v)},ka:function(a,f,m,v){Y.colorMask(!!a,!!f,!!m,!!v)},la:function(a){Y.compileShader(Tn[a])},ma:function(a,f,m,v,A,k,z,O){2<=ut.version?Y.Ee||!z?Y.compressedTexImage2D(a,f,m,v,A,k,z,O):Y.compressedTexImage2D(a,f,m,v,A,k,re,O,z):Y.compressedTexImage2D(a,f,m,v,A,k,O?re.subarray(O,O+z):null)},na:function(a,f,m,v,A,k,z,O,B){2<=ut.version?Y.Ee||!O?Y.compressedTexSubImage2D(a,f,m,v,A,k,z,O,B):Y.compressedTexSubImage2D(a,f,m,v,A,k,z,re,B,O):Y.compressedTexSubImage2D(a,f,m,v,A,k,z,B?re.subarray(B,B+O):null)},Zb:function(a,f,m,v,A){Y.copyBufferSubData(a,f,m,v,A)},oa:function(a,f,m,v,A,k,z,O){Y.copyTexSubImage2D(a,f,m,v,A,k,z,O)},pa:function(){var a=ro(wr),f=Y.createProgram();return f.name=a,f.Ze=f.Xe=f.Ye=0,f.lf=1,wr[a]=f,a},qa:function(a){var f=ro(Tn);return Tn[f]=Y.createShader(a),f},ra:function(a){Y.cullFace(a)},sa:function(a,f){for(var m=0;m<a;m++){var v=Z[f+4*m>>2],A=no[v];A&&(Y.deleteBuffer(A),A.name=0,no[v]=null,v==Y.ff&&(Y.ff=0),v==Y.Ee&&(Y.Ee=0))}},hc:function(a,f){for(var m=0;m<a;++m){var v=Z[f+4*m>>2],A=Co[v];A&&(Y.deleteFramebuffer(A),A.name=0,Co[v]=null)}},ta:function(a){if(a){var f=wr[a];f?(Y.deleteProgram(f),f.name=0,wr[a]=null):$t(1281)}},ic:function(a,f){for(var m=0;m<a;m++){var v=Z[f+4*m>>2],A=Li[v];A&&(Y.deleteRenderbuffer(A),A.name=0,Li[v]=null)}},Sb:function(a,f){for(var m=0;m<a;m++){var v=Z[f+4*m>>2],A=Pi[v];A&&(Y.deleteSampler(A),A.name=0,Pi[v]=null)}},ua:function(a){if(a){var f=Tn[a];f?(Y.deleteShader(f),Tn[a]=null):$t(1281)}},_b:function(a){if(a){var f=si[a];f?(Y.deleteSync(f),f.name=0,si[a]=null):$t(1281)}},va:function(a,f){for(var m=0;m<a;m++){var v=Z[f+4*m>>2],A=zn[v];A&&(Y.deleteTexture(A),A.name=0,zn[v]=null)}},Ac:ru,Dc:ru,wa:function(a){Y.depthMask(!!a)},xa:function(a){Y.disable(a)},ya:function(a){Y.disableVertexAttribArray(a)},za:function(a,f,m){Y.drawArrays(a,f,m)},xc:function(a,f,m,v){Y.drawArraysInstanced(a,f,m,v)},vc:function(a,f,m,v,A){Y.qf.drawArraysInstancedBaseInstanceWEBGL(a,f,m,v,A)},tc:function(a,f){for(var m=Pt[a],v=0;v<a;v++)m[v]=Z[f+4*v>>2];Y.drawBuffers(m)},Aa:Rt,yc:function(a,f,m,v,A){Y.drawElementsInstanced(a,f,m,v,A)},wc:function(a,f,m,v,A,k,z){Y.qf.drawElementsInstancedBaseVertexBaseInstanceWEBGL(a,f,m,v,A,k,z)},nc:function(a,f,m,v,A,k){Rt(a,v,A,k)},Ba:function(a){Y.enable(a)},Ca:function(a){Y.enableVertexAttribArray(a)},Xb:function(a,f){return(a=Y.fenceSync(a,f))?(f=ro(si),a.name=f,si[f]=a,f):0},Da:function(){Y.finish()},Ea:function(){Y.flush()},jc:function(a,f,m,v){Y.framebufferRenderbuffer(a,f,m,Li[v])},kc:function(a,f,m,v,A){Y.framebufferTexture2D(a,f,m,zn[v],A)},Fa:function(a){Y.frontFace(a)},Ga:function(a,f){io(a,f,"createBuffer",no)},lc:function(a,f){io(a,f,"createFramebuffer",Co)},mc:function(a,f){io(a,f,"createRenderbuffer",Li)},Tb:function(a,f){io(a,f,"createSampler",Pi)},Ha:function(a,f){io(a,f,"createTexture",zn)},Bc:iu,Ec:iu,bc:function(a){Y.generateMipmap(a)},Ia:function(a,f,m){m?Z[m>>2]=Y.getBufferParameter(a,f):$t(1281)},Ja:function(){var a=Y.getError()||ea;return ea=0,a},Ka:function(a,f){ou(a,f,2)},cc:function(a,f,m,v){a=Y.getFramebufferAttachmentParameter(a,f,m),(a instanceof WebGLRenderbuffer||a instanceof WebGLTexture)&&(a=a.name|0),Z[v>>2]=a},M:function(a,f){ou(a,f,0)},La:function(a,f,m,v){a=Y.getProgramInfoLog(wr[a]),a===null&&(a="(unknown error)"),f=0<f&&v?On(a,re,v,f):0,m&&(Z[m>>2]=f)},Ma:function(a,f,m){if(m)if(a>=Oa)$t(1281);else if(a=wr[a],f==35716)a=Y.getProgramInfoLog(a),a===null&&(a="(unknown error)"),Z[m>>2]=a.length+1;else if(f==35719){if(!a.Ze)for(f=0;f<Y.getProgramParameter(a,35718);++f)a.Ze=Math.max(a.Ze,Y.getActiveUniform(a,f).name.length+1);Z[m>>2]=a.Ze}else if(f==35722){if(!a.Xe)for(f=0;f<Y.getProgramParameter(a,35721);++f)a.Xe=Math.max(a.Xe,Y.getActiveAttrib(a,f).name.length+1);Z[m>>2]=a.Xe}else if(f==35381){if(!a.Ye)for(f=0;f<Y.getProgramParameter(a,35382);++f)a.Ye=Math.max(a.Ye,Y.getActiveUniformBlockName(a,f).length+1);Z[m>>2]=a.Ye}else Z[m>>2]=Y.getProgramParameter(a,f);else $t(1281)},dc:function(a,f,m){m?Z[m>>2]=Y.getRenderbufferParameter(a,f):$t(1281)},Na:function(a,f,m,v){a=Y.getShaderInfoLog(Tn[a]),a===null&&(a="(unknown error)"),f=0<f&&v?On(a,re,v,f):0,m&&(Z[m>>2]=f)},Ob:function(a,f,m,v){a=Y.getShaderPrecisionFormat(a,f),Z[m>>2]=a.rangeMin,Z[m+4>>2]=a.rangeMax,Z[v>>2]=a.precision},Oa:function(a,f,m){m?f==35716?(a=Y.getShaderInfoLog(Tn[a]),a===null&&(a="(unknown error)"),Z[m>>2]=a?a.length+1:0):f==35720?(a=Y.getShaderSource(Tn[a]),Z[m>>2]=a?a.length+1:0):Z[m>>2]=Y.getShaderParameter(Tn[a],f):$t(1281)},Q:function(a){var f=Na[a];if(!f){switch(a){case 7939:f=Y.getSupportedExtensions()||[],f=f.concat(f.map(function(v){return"GL_"+v})),f=Lo(f.join(" "));break;case 7936:case 7937:case 37445:case 37446:(f=Y.getParameter(a))||$t(1280),f=f&&Lo(f);break;case 7938:f=Y.getParameter(7938),f=2<=ut.version?"OpenGL ES 3.0 ("+f+")":"OpenGL ES 2.0 ("+f+")",f=Lo(f);break;case 35724:f=Y.getParameter(35724);var m=f.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);m!==null&&(m[1].length==3&&(m[1]+="0"),f="OpenGL ES GLSL ES "+m[1]+" ("+f+")"),f=Lo(f);break;default:$t(1280)}Na[a]=f}return f},jb:function(a,f){if(2>ut.version)return $t(1282),0;var m=$a[a];if(m)return 0>f||f>=m.length?($t(1281),0):m[f];switch(a){case 7939:return m=Y.getSupportedExtensions()||[],m=m.concat(m.map(function(v){return"GL_"+v})),m=m.map(function(v){return Lo(v)}),m=$a[a]=m,0>f||f>=m.length?($t(1281),0):m[f];default:return $t(1280),0}},Pa:function(a,f){if(f=f?Ut(re,f):"",a=wr[a]){var m=a,v=m.Oe,A=m.zf,k;if(!v)for(m.Oe=v={},m.yf={},k=0;k<Y.getProgramParameter(m,35718);++k){var z=Y.getActiveUniform(m,k),O=z.name;z=z.size;var B=au(O);B=0<B?O.slice(0,B):O;var j=m.lf;for(m.lf+=z,A[B]=[z,j],O=0;O<z;++O)v[j]=O,m.yf[j++]=B}if(m=a.Oe,v=0,A=f,k=au(f),0<k&&(v=parseInt(f.slice(k+1))>>>0,A=f.slice(0,k)),(A=a.zf[A])&&v<A[0]&&(v+=A[1],m[v]=m[v]||Y.getUniformLocation(a,f)))return v}else $t(1281);return-1},Pb:function(a,f,m){for(var v=Pt[f],A=0;A<f;A++)v[A]=Z[m+4*A>>2];Y.invalidateFramebuffer(a,v)},Qb:function(a,f,m,v,A,k,z){for(var O=Pt[f],B=0;B<f;B++)O[B]=Z[m+4*B>>2];Y.invalidateSubFramebuffer(a,O,v,A,k,z)},Yb:function(a){return Y.isSync(si[a])},Qa:function(a){return(a=zn[a])?Y.isTexture(a):0},Ra:function(a){Y.lineWidth(a)},Sa:function(a){a=wr[a],Y.linkProgram(a),a.Oe=0,a.zf={}},rc:function(a,f,m,v,A,k){Y.vf.multiDrawArraysInstancedBaseInstanceWEBGL(a,Z,f>>2,Z,m>>2,Z,v>>2,pe,A>>2,k)},sc:function(a,f,m,v,A,k,z,O){Y.vf.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(a,Z,f>>2,m,Z,v>>2,Z,A>>2,Z,k>>2,pe,z>>2,O)},Ta:function(a,f){a==3317&&(Ba=f),Y.pixelStorei(a,f)},uc:function(a){Y.readBuffer(a)},Ua:function(a,f,m,v,A,k,z){if(2<=ut.version)if(Y.ff)Y.readPixels(a,f,m,v,A,k,z);else{var O=ta(k);Y.readPixels(a,f,m,v,A,k,O,z>>31-Math.clz32(O.BYTES_PER_ELEMENT))}else(z=na(k,A,m,v,z))?Y.readPixels(a,f,m,v,A,k,z):$t(1280)},ec:function(a,f,m,v){Y.renderbufferStorage(a,f,m,v)},ac:function(a,f,m,v,A){Y.renderbufferStorageMultisample(a,f,m,v,A)},Ub:function(a,f,m){Y.samplerParameterf(Pi[a],f,m)},Vb:function(a,f,m){Y.samplerParameteri(Pi[a],f,m)},Wb:function(a,f,m){Y.samplerParameteri(Pi[a],f,Z[m>>2])},Va:function(a,f,m,v){Y.scissor(a,f,m,v)},Wa:function(a,f,m,v){for(var A="",k=0;k<f;++k){var z=v?Z[v+4*k>>2]:-1,O=Z[m+4*k>>2];z=O?Ut(re,O,0>z?void 0:z):"",A+=z}Y.shaderSource(Tn[a],A)},Xa:function(a,f,m){Y.stencilFunc(a,f,m)},Ya:function(a,f,m,v){Y.stencilFuncSeparate(a,f,m,v)},Za:function(a){Y.stencilMask(a)},_a:function(a,f){Y.stencilMaskSeparate(a,f)},$a:function(a,f,m){Y.stencilOp(a,f,m)},ab:function(a,f,m,v){Y.stencilOpSeparate(a,f,m,v)},bb:function(a,f,m,v,A,k,z,O,B){if(2<=ut.version)if(Y.Ee)Y.texImage2D(a,f,m,v,A,k,z,O,B);else if(B){var j=ta(O);Y.texImage2D(a,f,m,v,A,k,z,O,j,B>>31-Math.clz32(j.BYTES_PER_ELEMENT))}else Y.texImage2D(a,f,m,v,A,k,z,O,null);else Y.texImage2D(a,f,m,v,A,k,z,O,B?na(O,z,v,A,B):null)},cb:function(a,f,m){Y.texParameterf(a,f,m)},db:function(a,f,m){Y.texParameterf(a,f,ae[m>>2])},eb:function(a,f,m){Y.texParameteri(a,f,m)},fb:function(a,f,m){Y.texParameteri(a,f,Z[m>>2])},oc:function(a,f,m,v,A){Y.texStorage2D(a,f,m,v,A)},gb:function(a,f,m,v,A,k,z,O,B){if(2<=ut.version)if(Y.Ee)Y.texSubImage2D(a,f,m,v,A,k,z,O,B);else if(B){var j=ta(O);Y.texSubImage2D(a,f,m,v,A,k,z,O,j,B>>31-Math.clz32(j.BYTES_PER_ELEMENT))}else Y.texSubImage2D(a,f,m,v,A,k,z,O,null);else j=null,B&&(j=na(O,z,A,k,B)),Y.texSubImage2D(a,f,m,v,A,k,z,O,j)},hb:function(a,f){Y.uniform1f(At(a),f)},ib:function(a,f,m){if(2<=ut.version)f&&Y.uniform1fv(At(a),ae,m>>2,f);else{if(288>=f)for(var v=zt[f-1],A=0;A<f;++A)v[A]=ae[m+4*A>>2];else v=ae.subarray(m>>2,m+4*f>>2);Y.uniform1fv(At(a),v)}},Zc:function(a,f){Y.uniform1i(At(a),f)},_c:function(a,f,m){if(2<=ut.version)f&&Y.uniform1iv(At(a),Z,m>>2,f);else{if(288>=f)for(var v=Mi[f-1],A=0;A<f;++A)v[A]=Z[m+4*A>>2];else v=Z.subarray(m>>2,m+4*f>>2);Y.uniform1iv(At(a),v)}},$c:function(a,f,m){Y.uniform2f(At(a),f,m)},ad:function(a,f,m){if(2<=ut.version)f&&Y.uniform2fv(At(a),ae,m>>2,2*f);else{if(144>=f)for(var v=zt[2*f-1],A=0;A<2*f;A+=2)v[A]=ae[m+4*A>>2],v[A+1]=ae[m+(4*A+4)>>2];else v=ae.subarray(m>>2,m+8*f>>2);Y.uniform2fv(At(a),v)}},Yc:function(a,f,m){Y.uniform2i(At(a),f,m)},Xc:function(a,f,m){if(2<=ut.version)f&&Y.uniform2iv(At(a),Z,m>>2,2*f);else{if(144>=f)for(var v=Mi[2*f-1],A=0;A<2*f;A+=2)v[A]=Z[m+4*A>>2],v[A+1]=Z[m+(4*A+4)>>2];else v=Z.subarray(m>>2,m+8*f>>2);Y.uniform2iv(At(a),v)}},Wc:function(a,f,m,v){Y.uniform3f(At(a),f,m,v)},Vc:function(a,f,m){if(2<=ut.version)f&&Y.uniform3fv(At(a),ae,m>>2,3*f);else{if(96>=f)for(var v=zt[3*f-1],A=0;A<3*f;A+=3)v[A]=ae[m+4*A>>2],v[A+1]=ae[m+(4*A+4)>>2],v[A+2]=ae[m+(4*A+8)>>2];else v=ae.subarray(m>>2,m+12*f>>2);Y.uniform3fv(At(a),v)}},Uc:function(a,f,m,v){Y.uniform3i(At(a),f,m,v)},Tc:function(a,f,m){if(2<=ut.version)f&&Y.uniform3iv(At(a),Z,m>>2,3*f);else{if(96>=f)for(var v=Mi[3*f-1],A=0;A<3*f;A+=3)v[A]=Z[m+4*A>>2],v[A+1]=Z[m+(4*A+4)>>2],v[A+2]=Z[m+(4*A+8)>>2];else v=Z.subarray(m>>2,m+12*f>>2);Y.uniform3iv(At(a),v)}},Sc:function(a,f,m,v,A){Y.uniform4f(At(a),f,m,v,A)},Rc:function(a,f,m){if(2<=ut.version)f&&Y.uniform4fv(At(a),ae,m>>2,4*f);else{if(72>=f){var v=zt[4*f-1],A=ae;m>>=2;for(var k=0;k<4*f;k+=4){var z=m+k;v[k]=A[z],v[k+1]=A[z+1],v[k+2]=A[z+2],v[k+3]=A[z+3]}}else v=ae.subarray(m>>2,m+16*f>>2);Y.uniform4fv(At(a),v)}},Fc:function(a,f,m,v,A){Y.uniform4i(At(a),f,m,v,A)},Gc:function(a,f,m){if(2<=ut.version)f&&Y.uniform4iv(At(a),Z,m>>2,4*f);else{if(72>=f)for(var v=Mi[4*f-1],A=0;A<4*f;A+=4)v[A]=Z[m+4*A>>2],v[A+1]=Z[m+(4*A+4)>>2],v[A+2]=Z[m+(4*A+8)>>2],v[A+3]=Z[m+(4*A+12)>>2];else v=Z.subarray(m>>2,m+16*f>>2);Y.uniform4iv(At(a),v)}},Hc:function(a,f,m,v){if(2<=ut.version)f&&Y.uniformMatrix2fv(At(a),!!m,ae,v>>2,4*f);else{if(72>=f)for(var A=zt[4*f-1],k=0;k<4*f;k+=4)A[k]=ae[v+4*k>>2],A[k+1]=ae[v+(4*k+4)>>2],A[k+2]=ae[v+(4*k+8)>>2],A[k+3]=ae[v+(4*k+12)>>2];else A=ae.subarray(v>>2,v+16*f>>2);Y.uniformMatrix2fv(At(a),!!m,A)}},Ic:function(a,f,m,v){if(2<=ut.version)f&&Y.uniformMatrix3fv(At(a),!!m,ae,v>>2,9*f);else{if(32>=f)for(var A=zt[9*f-1],k=0;k<9*f;k+=9)A[k]=ae[v+4*k>>2],A[k+1]=ae[v+(4*k+4)>>2],A[k+2]=ae[v+(4*k+8)>>2],A[k+3]=ae[v+(4*k+12)>>2],A[k+4]=ae[v+(4*k+16)>>2],A[k+5]=ae[v+(4*k+20)>>2],A[k+6]=ae[v+(4*k+24)>>2],A[k+7]=ae[v+(4*k+28)>>2],A[k+8]=ae[v+(4*k+32)>>2];else A=ae.subarray(v>>2,v+36*f>>2);Y.uniformMatrix3fv(At(a),!!m,A)}},Jc:function(a,f,m,v){if(2<=ut.version)f&&Y.uniformMatrix4fv(At(a),!!m,ae,v>>2,16*f);else{if(18>=f){var A=zt[16*f-1],k=ae;v>>=2;for(var z=0;z<16*f;z+=16){var O=v+z;A[z]=k[O],A[z+1]=k[O+1],A[z+2]=k[O+2],A[z+3]=k[O+3],A[z+4]=k[O+4],A[z+5]=k[O+5],A[z+6]=k[O+6],A[z+7]=k[O+7],A[z+8]=k[O+8],A[z+9]=k[O+9],A[z+10]=k[O+10],A[z+11]=k[O+11],A[z+12]=k[O+12],A[z+13]=k[O+13],A[z+14]=k[O+14],A[z+15]=k[O+15]}}else A=ae.subarray(v>>2,v+64*f>>2);Y.uniformMatrix4fv(At(a),!!m,A)}},Kc:function(a){a=wr[a],Y.useProgram(a),Y.Lf=a},Lc:function(a,f){Y.vertexAttrib1f(a,f)},Mc:function(a,f){Y.vertexAttrib2f(a,ae[f>>2],ae[f+4>>2])},Nc:function(a,f){Y.vertexAttrib3f(a,ae[f>>2],ae[f+4>>2],ae[f+8>>2])},Oc:function(a,f){Y.vertexAttrib4f(a,ae[f>>2],ae[f+4>>2],ae[f+8>>2],ae[f+12>>2])},pc:function(a,f){Y.vertexAttribDivisor(a,f)},qc:function(a,f,m,v,A){Y.vertexAttribIPointer(a,f,m,v,A)},Pc:function(a,f,m,v,A,k){Y.vertexAttribPointer(a,f,m,!!v,A,k)},Qc:function(a,f,m,v){Y.viewport(a,f,m,v)},rb:function(a,f,m,v){Y.waitSync(si[a],f,(m>>>0)+4294967296*v)},j:Ha,m:Ht,k:cl,H:za,Lb:hl,Z:lu,Y:ja,P:ia,o:ll,y:dl,u:fl,t:ui,Kb:fu,Mb:oo,Nb:cu,tb:(a,f,m,v)=>su(a,f,m,v)};(function(){function a(m){if($=m=m.exports,H=$.bd,Fe(),_e=$.ed,se.unshift($.cd),Te--,n.monitorRunDependencies&&n.monitorRunDependencies(Te),Te==0&&ke){var v=ke;ke=null,v()}return m}var f={a:ul};if(Te++,n.monitorRunDependencies&&n.monitorRunDependencies(Te),n.instantiateWasm)try{return n.instantiateWasm(f,a)}catch(m){N("Module.instantiateWasm callback failed with error: "+m),o(m)}return In(f,function(m){a(m.instance)}).catch(o),{}})();var Fn=n._malloc=a=>(Fn=n._malloc=$.dd)(a),jr=n._free=a=>(jr=n._free=$.fd)(a),Wa=a=>(Wa=$.gd)(a);n.__embind_initialize_bindings=()=>(n.__embind_initialize_bindings=$.hd)();var Vt=(a,f)=>(Vt=$.id)(a,f),sn=()=>(sn=$.jd)(),yn=a=>(yn=$.kd)(a);n.dynCall_viji=(a,f,m,v,A)=>(n.dynCall_viji=$.ld)(a,f,m,v,A),n.dynCall_vijiii=(a,f,m,v,A,k,z)=>(n.dynCall_vijiii=$.md)(a,f,m,v,A,k,z),n.dynCall_viiiiij=(a,f,m,v,A,k,z,O)=>(n.dynCall_viiiiij=$.nd)(a,f,m,v,A,k,z,O),n.dynCall_jiiiijiiiii=(a,f,m,v,A,k,z,O,B,j,ge,be)=>(n.dynCall_jiiiijiiiii=$.od)(a,f,m,v,A,k,z,O,B,j,ge,be),n.dynCall_viiij=(a,f,m,v,A,k)=>(n.dynCall_viiij=$.pd)(a,f,m,v,A,k),n.dynCall_jii=(a,f,m)=>(n.dynCall_jii=$.qd)(a,f,m),n.dynCall_vij=(a,f,m,v)=>(n.dynCall_vij=$.rd)(a,f,m,v),n.dynCall_iiij=(a,f,m,v,A)=>(n.dynCall_iiij=$.sd)(a,f,m,v,A),n.dynCall_iiiij=(a,f,m,v,A,k)=>(n.dynCall_iiiij=$.td)(a,f,m,v,A,k),n.dynCall_viij=(a,f,m,v,A)=>(n.dynCall_viij=$.ud)(a,f,m,v,A),n.dynCall_ji=(a,f)=>(n.dynCall_ji=$.vd)(a,f),n.dynCall_iij=(a,f,m,v)=>(n.dynCall_iij=$.wd)(a,f,m,v),n.dynCall_jiiiii=(a,f,m,v,A,k)=>(n.dynCall_jiiiii=$.xd)(a,f,m,v,A,k),n.dynCall_jiiiiii=(a,f,m,v,A,k,z)=>(n.dynCall_jiiiiii=$.yd)(a,f,m,v,A,k,z),n.dynCall_jiiiiji=(a,f,m,v,A,k,z,O)=>(n.dynCall_jiiiiji=$.zd)(a,f,m,v,A,k,z,O),n.dynCall_iijj=(a,f,m,v,A,k)=>(n.dynCall_iijj=$.Ad)(a,f,m,v,A,k),n.dynCall_iiiji=(a,f,m,v,A,k)=>(n.dynCall_iiiji=$.Bd)(a,f,m,v,A,k),n.dynCall_iiji=(a,f,m,v,A)=>(n.dynCall_iiji=$.Cd)(a,f,m,v,A),n.dynCall_iijjiii=(a,f,m,v,A,k,z,O,B)=>(n.dynCall_iijjiii=$.Dd)(a,f,m,v,A,k,z,O,B),n.dynCall_vijjjii=(a,f,m,v,A,k,z,O,B,j)=>(n.dynCall_vijjjii=$.Ed)(a,f,m,v,A,k,z,O,B,j),n.dynCall_jiji=(a,f,m,v,A)=>(n.dynCall_jiji=$.Fd)(a,f,m,v,A),n.dynCall_viijii=(a,f,m,v,A,k,z)=>(n.dynCall_viijii=$.Gd)(a,f,m,v,A,k,z),n.dynCall_iiiiij=(a,f,m,v,A,k,z)=>(n.dynCall_iiiiij=$.Hd)(a,f,m,v,A,k,z),n.dynCall_iiiiijj=(a,f,m,v,A,k,z,O,B)=>(n.dynCall_iiiiijj=$.Id)(a,f,m,v,A,k,z,O,B),n.dynCall_iiiiiijj=(a,f,m,v,A,k,z,O,B,j)=>(n.dynCall_iiiiiijj=$.Jd)(a,f,m,v,A,k,z,O,B,j);function Ht(a,f,m){var v=sn();try{return _e.get(a)(f,m)}catch(A){if(yn(v),A!==A+0)throw A;Vt(1,0)}}function ui(a,f,m,v,A){var k=sn();try{_e.get(a)(f,m,v,A)}catch(z){if(yn(k),z!==z+0)throw z;Vt(1,0)}}function za(a,f,m,v,A){var k=sn();try{return _e.get(a)(f,m,v,A)}catch(z){if(yn(k),z!==z+0)throw z;Vt(1,0)}}function cl(a,f,m,v){var A=sn();try{return _e.get(a)(f,m,v)}catch(k){if(yn(A),k!==k+0)throw k;Vt(1,0)}}function Ha(a,f){var m=sn();try{return _e.get(a)(f)}catch(v){if(yn(m),v!==v+0)throw v;Vt(1,0)}}function ll(a,f){var m=sn();try{_e.get(a)(f)}catch(v){if(yn(m),v!==v+0)throw v;Vt(1,0)}}function fl(a,f,m,v){var A=sn();try{_e.get(a)(f,m,v)}catch(k){if(yn(A),k!==k+0)throw k;Vt(1,0)}}function dl(a,f,m){var v=sn();try{_e.get(a)(f,m)}catch(A){if(yn(v),A!==A+0)throw A;Vt(1,0)}}function cu(a,f,m,v,A,k,z,O,B,j){var ge=sn();try{_e.get(a)(f,m,v,A,k,z,O,B,j)}catch(be){if(yn(ge),be!==be+0)throw be;Vt(1,0)}}function ia(a){var f=sn();try{_e.get(a)()}catch(m){if(yn(f),m!==m+0)throw m;Vt(1,0)}}function oo(a,f,m,v,A,k,z){var O=sn();try{_e.get(a)(f,m,v,A,k,z)}catch(B){if(yn(O),B!==B+0)throw B;Vt(1,0)}}function hl(a,f,m,v,A,k){var z=sn();try{return _e.get(a)(f,m,v,A,k)}catch(O){if(yn(z),O!==O+0)throw O;Vt(1,0)}}function lu(a,f,m,v,A,k,z){var O=sn();try{return _e.get(a)(f,m,v,A,k,z)}catch(B){if(yn(O),B!==B+0)throw B;Vt(1,0)}}function fu(a,f,m,v,A,k){var z=sn();try{_e.get(a)(f,m,v,A,k)}catch(O){if(yn(z),O!==O+0)throw O;Vt(1,0)}}function ja(a,f,m,v,A,k,z,O,B,j){var ge=sn();try{return _e.get(a)(f,m,v,A,k,z,O,B,j)}catch(be){if(yn(ge),be!==be+0)throw be;Vt(1,0)}}var ao;ke=function a(){ao||Va(),ao||(ke=a)};function Va(){function a(){if(!ao&&(ao=!0,n.calledRun=!0,!q)){if(pn(se),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;){var f=n.postRun.shift();ie.unshift(f)}pn(ie)}}if(!(0<Te)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)he();pn(Ye),0<Te||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),a()},1)):a())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return Va(),e.ready}})();const g2=255;function m2(t){const e=t.replace("#","");let n=t;/^#?/.test(n)&&e.length===3&&(n=`#${e.charAt(0)}${e.charAt(0)}${e.charAt(1)}${e.charAt(1)}${e.charAt(2)}${e.charAt(2)}`);const[r,o,u=0,c]=n.match(/[A-Za-z0-9]{2}/g).map(l=>parseInt(l,16));return{r,g:o,b:u,a:c?c/g2:1}}function y2({r:t,g:e,b:n}){const r=t<<16|e<<8|n;return`#${(o=>new Array(7-o.length).join("0")+o)(r.toString(16))}`}function UI(t,e,n=180){let r=n;if(r>=360&&(r-=360),r<0&&(r+=360),r=Math.round(r),r===0)return{x0:Math.round(t/2),y0:e,x1:Math.round(t/2),y1:0};if(r===180)return{x0:Math.round(t/2),y0:0,x1:Math.round(t/2),y1:e};if(r===90)return{x0:0,y0:Math.round(e/2),x1:t,y1:Math.round(e/2)};if(r===270)return{x0:t,y0:Math.round(e/2),x1:0,y1:Math.round(e/2)};const o=Math.round(Math.asin(t/Math.sqrt(t**2+e**2))*180/Math.PI);if(r===o)return{x0:0,y0:e,x1:t,y1:0};if(r===180-o)return{x0:0,y0:0,x1:t,y1:e};if(r===180+o)return{x0:t,y0:0,x1:0,y1:e};if(r===360-o)return{x0:t,y0:e,x1:0,y1:0};let u=0,c=0,l=0,h=0;if(r<o||r>180-o&&r<180||r>180&&r<180+o||r>360-o){const p=r*Math.PI/180,w=r<o||r>360-o?e/2:-e/2,x=Math.tan(p)*w,E=r<o||r>180-o&&r<180?t/2-x:-t/2-x,P=Math.sin(p)**2*E;l=x+P,h=w+P/Math.tan(p),u=-l,c=-h}if(r>o&&r<90||r>90&&r<180-o||r>180+o&&r<270||r>270&&r<360-o){const p=(90-r)*Math.PI/180,w=r>o&&r<90||r>90&&r<180-o?t/2:-t/2,x=Math.tan(p)*w,E=r>o&&r<90||r>270&&r<360-o?e/2-x:-e/2-x,P=Math.sin(p)**2*E;l=w+P/Math.tan(p),h=x+P,u=-l,c=-h}return u=Math.round(u+t/2),c=Math.round(e/2-c),l=Math.round(l+t/2),h=Math.round(e/2-h),{x0:u,y0:c,x1:l,y1:h}}class Yp{constructor(e){this.r=0,this.g=0,this.b=0,this.a=1,this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}toFigmaArray(){return[this.r/255,this.g/255,this.b/255,this.a]}toFigmaColor(){return{r:this.r/255,g:this.g/255,b:this.b/255,a:this.a}}toHex(){return y2({r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b)})}}function qt(t){if(typeof t=="string"){const e=m2(t);return typeof e.a!="number"&&(e.a=1),new Yp(e)}return new Yp({r:t.r*255,g:t.g*255,b:t.b*255,a:t.a})}var Du,v2=new Uint8Array(16);function w2(){if(!Du&&(Du=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Du))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Du(v2)}const b2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function x2(t){return typeof t=="string"&&b2.test(t)}var Bn=[];for(var sf=0;sf<256;++sf)Bn.push((sf+256).toString(16).substr(1));function S2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Bn[t[e+0]]+Bn[t[e+1]]+Bn[t[e+2]]+Bn[t[e+3]]+"-"+Bn[t[e+4]]+Bn[t[e+5]]+"-"+Bn[t[e+6]]+Bn[t[e+7]]+"-"+Bn[t[e+8]]+Bn[t[e+9]]+"-"+Bn[t[e+10]]+Bn[t[e+11]]+Bn[t[e+12]]+Bn[t[e+13]]+Bn[t[e+14]]+Bn[t[e+15]]).toLowerCase();if(!x2(n))throw TypeError("Stringified UUID is invalid");return n}function E2(t,e,n){t=t||{};var r=t.random||(t.rng||w2)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,S2(r)}function A2(t,e){throw new Error([t,e.toString()].join(`
`))}function sm(){return E2()}const wd=sm;function uf(t,e,n="color"){let r=1,o="",u=t;if(/^#/.test(t)||(u=""),/^#[0-9a-fA-F]{3}$/.test(t)){const h=t.replace("#","");u=`#${h}${h}`}const c=u.replace("#","").match(/\w{1,2}/g),l=[];return c&&c.forEach((h,p)=>{if(p===3){const x=parseInt(h,16);r=Math.round(x/255*100)/100;return}let w=h;e!=="6hex"&&(w=parseInt(h,16)),l.push(w)}),l.length&&(e==="6hex"&&(o=`#${l.join("")}`),e==="rgb"&&(o=`rgb(${l.join(",")})`),e==="rgba"&&(o=`rgba(${l.join(",")},${r})`)),n==="colorList"?{color:JSON.stringify(l),opacity:r}:{color:o,opacity:r}}function WI(t){if(/xxtool-release\.obs\.cn-north-4\.myhuaweicloud\.com\/pc\/sucai\/parse_xml/.test(t))return`/dev-proxy/xxtool-release${t.split("parse_xml")[1]}`;const e=/data:image\/svg\+xml;charset=utf-8,/;if(e.test(t)){const n=t.replace(e,"");return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`}return t}function C2(){if(typeof window<"u"){const t=navigator.userAgent.toLowerCase();return/msie/.test(t)?"ie":/firefox/.test(t)?"firefox":/chrome/.test(t)?"chrome":/opera/.test(t)?"opera":/safari/.test(t)?"safari":/tencenttraveler/.test(t)||/qqbrowse/.test(t)?"qq":""}return""}function um(t,e){const n={type:"SOLID",color:qt(t).toFigmaColor(),blendMode:"NORMAL",visible:!0,opacity:1};return e==null||e(n),n}function Xo(t){return{id:wd(),guid:t.generateGUID(),parentId:"",left:0,top:0,width:0,height:0,rotate:0,name:"",isLocked:!1,visible:!0,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()}}}function cm(t){return{...Xo(t),nodeType:"GROUP",shimmerAtApearance:!1}}function zI(t,e){const n={...Xo(t),nodeType:"SECTION",shimmerAtApearance:!1,fillPaints:[],sectionStatusInfo:{status:"BUILD"}};return e==null||e(n),n}function HI(t,e){const n={...Xo(t),nodeType:"FRAME",shimmerAtApearance:!1,frameMaskDisabled:!1,cornerRadius:0,fillGeometry:[],strokeGeometry:[],strokePaints:[],fillPaints:[{type:"SOLID",blendMode:"NORMAL",opacity:1,color:qt("#FFFFFF").toFigmaColor(),visible:!0}],resizeToFit:!1};return e==null||e(n),n}function jI(t,e){const n={...Xo(t),nodeType:"SYMBOL",userFacingVersion:"",sharedSymbolVersion:"",isSymbolPublishable:!0,shimmerAtApearance:!1,frameMaskDisabled:!1,cornerRadius:0,fillGeometry:[],fillPaints:[],strokeGeometry:[],strokePaints:[],resizeToFit:!1};return e==null||e(n),n}function lm(t){return{id:wd(),guid:{sessionID:0,localID:0},parentId:"",nodeType:"IMAGE",left:0,top:0,width:0,height:0,rotate:0,name:"",isLocked:!1,visible:!0,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()},shimmerAtApearance:!1,strokePaints:[],extra:{mattingMask:{maskURL:""},minimumScalePercent:100,backgroundColor:"",polygonPointIdList:[],shapeMask:{id:"",maskURL:"",maskType:0},rectList:[],sourceList:[]}}}function _2(t){return{characters:t,characterStyleIDs:t.split("").map(()=>0),styleOverrideTable:[],lines:[]}}function VI(t,{width:e,height:n,text:r,fontSize:o,lineHeight$$:u,letterSpacing:c,bold:l,italic:h,textDecoration:p,writingMode:w,fontName:x},E){const P={...Xo(t),shimmerAtApearance:!1,nodeType:"TEXT",fontSize:o,fontName:x||{fullname:"",family:"",style:"",postscript:""},fontStyle:h?"ITALIC":"NORMAL",fontWeight:l?"BOLD":"NORMAL",textData:_2(r),textAutoResize:"NONE",textAlignHorizontal:"LEFT",textDecoration:p||"NONE",letterSpacing:{value:c||0,units:"PERCENT"},lineHeight:{value:u||1.2,units:"PERCENT"},writingMode:w||"horizontal-tb",width:e,height:n||0,strokeWeight:1,strokeAlign:"CENTER",strokeJoin:"MITER",strokeCap:"ROUND",dashPattern:[0,0],miterLimit:0,fillPaints:[um("#000000")],strokePaints:[],effects:[]};return E==null||E(P),P}function XI(t,e){const n={...Xo(t),nodeType:"vector",...fm(),vectorData:{vectorNetwork:{vertices:[],segments:[],regions:[]},normalizedSize:{x:0,y:0},styleOverrideTable:[]},shimmerAtApearance:!1};return n.strokeAlign="CENTER",e==null||e(n),n}function fm(){return{strokeGeometry:[],strokePaints:[],fillGeometry:[],fillPaints:[],strokeAlign:"INSIDE",strokeCap:"NONE",strokeJoin:"MITER",miterLimit:0,strokeWeight:1,dashPattern:[0,0]}}function YI(t,e){const n={...Xo(t),nodeType:"ROUNDED_RECTANGLE",shimmerAtApearance:!1,cornerRadius:0,...fm()};return e==null||e(n),n}var dm={exports:{}},hm={exports:{}};(function(t){function e(o,u,c,l,h,p){return(o<=h||c<=h)&&(h<=o||h<=c)&&(u<=p||l<=p)&&(p<=u||p<=l)}function n(o,u,c,l,h,p){var w=(h-o)*(l-u),x=(c-o)*(p-u);return w<x?-1:w>x?1:0}function r(o,u,c,l,h,p,w,x){var E=n(h,p,w,x,o,u),P=n(h,p,w,x,c,l),T=n(o,u,c,l,h,p),L=n(o,u,c,l,w,x);return(E>0&&P<0||E<0&&P>0)&&(T>0&&L<0||T<0&&L>0)||E===0&&e(h,p,w,x,o,u)||P===0&&e(h,p,w,x,c,l)||T===0&&e(o,u,c,l,h,p)||L===0&&e(o,u,c,l,w,x)}t.exports&&(t.exports=r)})(hm);var T2=hm.exports,pm={exports:{}};(function(t){function e(n,r){var o,u,c=!1,l=r.length;for(o=0,u=l-1;o<l;u=o++)r[o][1]>n[1]!=r[u][1]>n[1]&&n[0]<(r[u][0]-r[o][0])*(n[1]-r[o][1])/(r[u][1]-r[o][1])+r[o][0]&&(c=!c);return c}t.exports&&(t.exports=e)})(pm);var L2=pm.exports;(function(t){var e=T2,n=L2;function r(c,l){var h;for(h=0;h<c.length;h+=1)if(n(c[h],l))return!0;for(h=0;h<l.length;h+=1)if(n(l[h],c))return!0;return!1}function o(c,l){for(var h=0;h<c.length-1;h+=1)for(var p=0;p<l.length-1;p+=1)if(e(c[h][0],c[h][1],c[h+1][0],c[h+1][1],l[p][0],l[p][1],l[p+1][0],l[p+1][1]))return!0;return!1}function u(c,l){return!!(r(c,l)||o(c,l))}t.exports&&(t.exports=u)})(dm);var P2=dm.exports;const M2=Vo(P2);function I2(t,e){return Math.sqrt(t*t+e*e)}function k2(t,e,n,r,o,u,c,l){if(t===n&&e===r||o===c&&u===l)return null;const h=(l-u)*(n-t)-(c-o)*(r-e);if(h===0)return null;const p=((c-o)*(e-u)-(l-u)*(t-o))/h,w=t+p*(n-t),x=e+p*(r-e);return{x:w,y:x}}function gm({x:t,y:e,width:n,height:r,rotate:o}){const u=mm({leftTop:{x:t,y:e},width:n,height:r,rotate:o});return{left:u.x-n/2,top:u.y-r/2}}function mm({leftTop:t,width:e,height:n,rotate:r}){const o=I2(e,n)/2,u=r,c=Math.atan(n/e)/Math.PI*180,l=u+c;return Qu(t,Ku(o,l))}function ym(t,e,n,r){const{leftTop:o,rightTop:u,leftBottom:c}=Jr(t),l=Math.sqrt(e*e+n*n)/2;let h={x:0,y:0};if(r==="left"||r==="top"){const w=t.rotate,x=Math.atan(n/e)/Math.PI*180,E=w+x;h=Qu(o,Ku(l,E))}else if(r==="right"){const w=90+t.rotate+Math.atan(e/n)/Math.PI*180;h=Qu(u,Ku(l,w))}else if(r==="bottom"){const w=t.rotate,x=-Math.atan(n/e)/Math.PI*180,E=w+x;h=Qu(c,Ku(l,E))}return{x:h.x-e/2,y:h.y-n/2}}function vc(t){return{x:t.left+t.width/2,y:t.top+t.height/2}}function R2(t){let e=Math.round(t);for(;e>180;)e-=360;for(;e<-180;)e+=360;return e}function vm(t,e){const n={x:t.x-e.x,y:t.y-e.y};return Math.atan2(n.y,n.x)*(180/Math.PI)}function Ku(t,e){return{x:t*Math.cos(e/180*Math.PI),y:t*Math.sin(e/180*Math.PI)}}function O2(t,e){return{x:e.x-t.x,y:e.y-t.y}}function Qu(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Jr(t){const e=vc(t),n=pi("global",{x:-t.width/2,y:-t.height/2},-t.rotate),r=pi("global",{x:t.width/2,y:-t.height/2},-t.rotate),o=pi("global",{x:-t.width/2,y:t.height/2},-t.rotate),u=pi("global",{x:t.width/2,y:t.height/2},-t.rotate);return{center:e,leftTop:{x:n.x+e.x,y:n.y+e.y},rightTop:{x:r.x+e.x,y:r.y+e.y},leftBottom:{x:o.x+e.x,y:o.y+e.y},rightBottom:{x:u.x+e.x,y:u.y+e.y}}}function Ho(t){const e=Jr(t);return[e.leftTop,e.leftBottom,e.rightBottom,e.rightTop]}function pi(t,e,n,r){const o={x:e.x-((r==null?void 0:r.x)||0),y:e.y-((r==null?void 0:r.y)||0)},u=n/360*2*Math.PI,c=Math.cos(u),l=-o.y,h=[o.x*c,o.x*Math.cos(u-.5*Math.PI)],p=[l*Math.cos(.5*Math.PI+u),l*c];return{x:h[0]+p[0],y:-(h[1]+p[1])}}function bd(t,e){return M2(t.map(r=>[r.x,r.y]),e.map(r=>[r.x,r.y]))}function xd(t,e){const n=[t.x,t.y],r=e.map(u=>[u.x,u.y]);let o=!1;for(let u=0,c=r.length-1;u<r.length;u+=1)r[u][1]>n[1]!=r[c][1]>n[1]&&n[0]<(r[c][0]-r[u][0])*(n[1]-r[u][1])/(r[c][1]-r[u][1])+r[u][0]&&(o=!o),c=u;return o}function ks(t){const e=Ue.min(t.map(c=>c.x))||0,n=Ue.max(t.map(c=>c.x))||0,r=Ue.min(t.map(c=>c.y))||0,o=Ue.max(t.map(c=>c.y))||0,u={left:0,top:0,width:0,height:0};return u.left=e,u.top=r,u.width=n-e,u.height=o-r,u}function F2(t){return[{x:t.x,y:t.y},{x:t.x,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height},{x:t.x+t.width,y:t.y}]}function cf(t){const e=Ue.min(t.map(u=>u.x))||0,n=Ue.max(t.map(u=>u.x))||0,r=Ue.min(t.map(u=>u.y))||0,o=Ue.max(t.map(u=>u.y))||0;return[{x:e,y:r},{x:e,y:o},{x:n,y:o},{x:n,y:r}]}function N2(t,e){const n=ks(t.map(u=>pi("rotated",u,e))),r=mm({width:n.width,height:n.height,leftTop:{x:n.left,y:n.top},rotate:0}),o=pi("global",r,-e);return{left:o.x-n.width/2,top:o.y-n.height/2,width:n.width,height:n.height,rotate:e}}function _f(t){return ks(Ho(t))}function KI(t,e){const n=t.width/t.height;return e.height*n<=e.width?{width:e.height*n,height:e.height}:{width:e.width,height:e.width/n}}function Tf(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function $2(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function B2(t,e){return t.x>=0&&t.x<=e.width&&t.y>=0&&t.y<=e.height}function wm(t,e,n,r,o,u,c,l){const h=[],p=[t,c],w=[e,l];let x,E,P,T,L,N,F,H;for(let te=0;te<2;++te){if(te===0?(E=6*t-12*n+6*o,x=-3*t+9*n-9*o+3*c,P=3*n-3*t):(E=6*e-12*r+6*u,x=-3*e+9*r-9*u+3*l,P=3*r-3*e),Math.abs(x)<1e-12){if(Math.abs(E)<1e-12)continue;T=-P/E,T>0&&T<1&&h.push(T);continue}if(F=E*E-4*P*x,F<0){Math.abs(F)<1e-12&&(T=-E/(2*x),T>0&&T<1&&h.push(T));continue}H=Math.sqrt(F),L=(-E+H)/(2*x),L>0&&L<1&&h.push(L),N=(-E-H)/(2*x),N>0&&N<1&&h.push(N)}let $=h.length,q;for(;$--;)T=h[$],q=1-T,p[$]=q*q*q*t+3*q*q*T*n+3*q*T*T*o+T*T*T*c,w[$]=q*q*q*e+3*q*q*T*r+3*q*T*T*u+T*T*T*l;return{min:{x:Math.min.apply(0,p),y:Math.min.apply(0,w)},max:{x:Math.max.apply(0,p),y:Math.max.apply(0,w)}}}function Kp(t,e){return Math.abs(t-e)<1}function xs(t){let e=t[0];return t.forEach(n=>{n>e&&(e=n)}),e}function Gu(t){if(t.length===0)throw new Error("");let e=t[0];return t.forEach(n=>{n<e&&(e=n)}),e}function QI(t,e){return Math.atan2(-e,t)*180/Math.PI}function qI(t,e){return Math.sqrt(t*t+e*e)}function D2(t,e){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function bm(t){return t.currentStep===null?Sd(t):t.currentStep}function Sd(t){return t.currentStep=new Sm(""),t.currentStep.getOldState().selectionInfo=Ue.cloneDeep(t.selectionInfo),t.currentStep}function xm(t,e){if(t.currentStep)e&&(t.currentStep.name=e);else throw new Error;t.history.record()}function G2(){return new Sm("")}class Sm{constructor(e){this.name="",this.oldState={selectionInfo:null,nodeMap:{}},this.newState={selectionInfo:null,nodeMap:{}},this.mutatedNodesInThisAction={},this.name=e}getOldState(){return this.oldState}getNewState(){return this.newState}handleChildren(e,n){var u;const r=this.oldState.nodeMap[e.id],o=this.newState.nodeMap[e.id];r.children||(r.children={$value:e.children.map(c=>c.id)}),o.children={$value:(u=n.children)==null?void 0:u.map(c=>c)}}handleLife(e,n){const r=this.oldState.nodeMap[e.id],o=this.newState.nodeMap[e.id];if(n.life){if(n.life.type==="replacePage"){if(e.nodeType!=="DOCUMENT")throw new Error;r.life={$value:{type:"replacePage",newPage:Ue.cloneDeep(e.children[0])}},o.life={$value:{type:"replacePage",newPage:Ue.cloneDeep(n.life.newPage)}}}else if(n.life.type==="createChildren"){const u={};Ue.mapKeys(n.life.newLayers,c=>{u[c.id]=!0}),r.life={$value:{type:"delete",deletedNodes:u,children:e.children.map(c=>c.id),isGrouping:n.life.isGrouping}},o.life={$value:{type:"createChildren",newLayers:Ue.cloneDeep(n.life.newLayers),children:Ue.cloneDeep(n.life.children),isGrouping:n.life.isGrouping}}}else if(n.life.type==="delete"){const{deletedNodes:u}=n.life,c={};e.children.forEach(l=>{u[l.id]&&l.nodeType!=="CANVAS"&&(c[l.id]=Ue.cloneDeep(l))}),r.life={$value:{type:"createChildren",newLayers:c,children:e.children.map(l=>l.id),isGrouping:n.life.isGrouping}},o.life={$value:{type:"delete",deletedNodes:Ue.cloneDeep(n.life.deletedNodes),children:Ue.cloneDeep(n.life.children),isGrouping:n.life.isGrouping}}}}}update(e){if(e.type==="CanvasNode")return;const{layer:n,data:r}=e;this.mutatedNodesInThisAction[n.id]=!0;const{id:o}=n;this.oldState.nodeMap[o]||(this.oldState.nodeMap[o]={editInfo:{$value:{...n.editInfo}}},this.newState.nodeMap[o]={editInfo:{$value:{userId:"",createdAt:n.editInfo.createdAt,lastEditedAt:new Date().getTime()}}});const u=this.oldState.nodeMap[o],c=this.newState.nodeMap[o];Object.keys(r).forEach(l=>{var p;const h=l;if(h==="life"){this.handleLife(n,r);return}if(l!=="editInfo"){if(h==="children"){this.handleChildren(n,r);return}if(u[h]||(u[h]={$value:Ue.cloneDeep(n[h])},(h==="effects"||h==="strokeGeometry"||h==="strokePaints"||h==="fillPaints")&&n.nodeType!=="CANVAS"&&typeof n[h]>"u"&&(n[h]=[]),c[h]={$value:Ue.cloneDeep(n[h])}),typeof r[h]=="function"){const w=r[h];if(w((p=c[h])==null?void 0:p.$value),w(n[h]),n.nodeType==="TEXT"&&n.textData.characters.length!==n.textData.characterStyleIDs.length)throw new Error("textData mismatch")}else n[h]=Ue.cloneDeep(r[h]),c[h]={$value:Ue.cloneDeep(r[h])}}})}getNewAction(){const e={};Object.keys(this.mutatedNodesInThisAction).length===0?Object.assign(e,this.newState.nodeMap):Object.keys(this.mutatedNodesInThisAction).forEach(r=>{this.newState.nodeMap[r]&&(e[r]=this.newState.nodeMap[r])});const n={type:"UpdateNodes",payload:{layerMap:e}};return this.mutatedNodesInThisAction={},n}getOldAction(){return{type:"UpdateNodes",payload:{layerMap:this.oldState.nodeMap}}}}const U2=300;function wc(t){return t/180*Math.PI}function bc(t,e,n){const r=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n));return{width:e*o+t*r,height:e*r+t*o}}function Em({frame:t,image:e}){const n=t.width/e.naturalWidth,r=t.height/e.naturalHeight;return Math.max(n,r)}function Am({frame:t,image:e}){const n=bc(t.width,t.height,wc(e.rotate)),r=2*(n.width/2+Math.abs(e.imageX))/e.naturalWidth,o=2*(n.height/2+Math.abs(e.imageY))/e.naturalHeight;return Math.max(r,o)}function Cm(t){if(t.image){const e=Am({frame:t,image:t.image});if((t.image.width+.5)/t.image.naturalWidth<e||(t.image.height+.5)/t.image.naturalHeight<e)return!1}return!0}function W2(t,e){e.imageX=0,e.imageY=0;let n=t.width,r=e.naturalHeight*(t.width/e.naturalWidth);r<t.height&&(r=t.height,n=e.naturalWidth*(t.height/e.naturalHeight)),e.width=n,e.height=r}function JI({layer:t,step:e}){if(t.image){let n=t.width,r=t.image.naturalHeight*(t.width/t.image.naturalWidth);r<t.height&&(r=t.height,n=t.image.naturalWidth*(t.height/t.image.naturalHeight)),e.update({layer:t,data:{image(o){o.imageX=0,o.imageY=0,o.rotate=0,o.width=n,o.height=r}}})}}function z2(t,e){if(t.image){const n=pi("rotated",{x:-e.x,y:-e.y},t.rotate+t.image.rotate);t.image.imageX+=n.x,t.image.imageY+=n.y}}function _m(t,e,n){if(t.image){n.resetImagePosition&&e.update({layer:t,data:{image(o){o.imageX=0,o.imageY=0}}});const r=Am({frame:t,image:t.image});e.update({layer:t,data:{image(o){o.width=o.naturalWidth*r,o.height=o.naturalHeight*r}}})}}function H2(t,e,n){const r=bm(t),{image:o}=e;if(o){const u=bc(e.width,e.height,wc(o.rotate));u.width=2*(u.width/2+Math.abs(o.imageX)),u.height=2*(u.height/2+Math.abs(o.imageY));let c=1;n?c=xs([u.width/o.width,u.height/o.height]):c=xs([1,u.width/o.width,u.height/o.height]);const l=Em({frame:e,image:o});o.width*c/o.naturalWidth/l*100>U2?_m(e,r,{resetImagePosition:!0}):r.update({layer:e,data:{image(p){p.width*=c,p.height*=c,p.imageX*=c,p.imageY*=c}}})}}function ZI(t,e,n){Cm(e)===!1&&_m(e,n,{resetImagePosition:!0})}function ek({layer:t,step:e}){if(t.image&&Cm(t)===!1){const n=bc(t.width,t.height,wc(t.image.rotate)),r=t.image.width<n.width?n.width/t.image.width:1,o=t.image.height<n.height?n.height/t.image.height:1,u=Ue.max([r,o]);u&&(t.image.width*=u,t.image.height*=u,Tm(t,{step:e}))}}function Tm(t,{step:e}){const{image:n}=t;if(n){const r=bc(t.width,t.height,wc(n.rotate)),o=xs([1,r.width/n.width,r.height/n.height]),u={width:n.width,height:n.height,imageX:n.imageX,imageY:n.imageY};u.width*=o,u.height*=o;const c=r.width/2-u.width/2,l=-(r.width/2)+u.width/2,h=r.height/2-u.height/2,p=-(r.height/2)+u.height/2,w={x:Math.min(l,Math.max(c,n.imageX)),y:Math.min(p,Math.max(h,n.imageY))};u.imageX=w.x,u.imageY=w.y,e.update({layer:t,data:{image(x){x.width=u.width,x.height=u.height,x.imageX=u.imageX,x.imageY=u.imageY}}})}}const uc=6,tk="150ms";function Lm(){return{imageSource:"",naturalWidth:0,naturalHeight:0,imageX:0,imageY:0,width:0,height:0,rotate:0,opacity:1,flipH:!1,flipV:!1,imageScaleMode:"FILL"}}async function j2(t){return new Promise((e,n)=>{const r=new Image;r.crossOrigin="anonymous",r.src=t,r.onload=()=>{e(r)},r.onerror=()=>{n()}})}async function Pm(t){const e=await j2(t),{naturalWidth:n,naturalHeight:r}=e,o=Lm();return o.width=n,o.height=r,o.naturalWidth=n,o.naturalHeight=r,o.imageSource=t,{imageInfo:o,imageElement:e}}function nk({frame:t,image:e}){e.imageX=0,e.imageY=0;let n=t.width,r=e.naturalHeight*(t.width/e.naturalWidth);r<t.height&&(r=t.height,n=e.naturalWidth*(t.height/e.naturalHeight)),e.width=n,e.height=r}function Mm(t){if(t.image){t.image.imageX=0,t.image.imageY=0;let e=t.width,n=t.image.naturalHeight*(t.width/t.image.naturalWidth);n<t.height&&(n=t.height,e=t.image.naturalWidth*(t.height/t.image.naturalHeight)),t.image.width=e,t.image.height=n}}function rk(t){t.image&&(t.image.rotate=0,t.extra.minimumScalePercent=100)}function V2(t){if(t.image){const e=t.image.height/t.image.width;return Ue.max([t.width,t.height/e])||0}return 0}function ik(t,e){t.image&&(t.image.opacity=e/100)}function ok(t){t.image&&(t.image.flipH=!t.image.flipH)}function ak(t){t.image&&(t.image.flipV=!t.image.flipV)}async function sk(t,e){if(!e){t&&t.nodeType==="IMAGE"&&(t.image=void 0);return}const{imageInfo:n}=await Pm(e);t&&t.nodeType==="IMAGE"&&(t.image=n,Mm(t))}function uk(t,e,n,{step:r,autoAdjust:o}){if(t&&t.image){const u=pi("rotated",{x:e,y:n},t.rotate+t.image.rotate),c=t.image.imageX+u.x,l=t.image.imageY+u.y;r.update({layer:t,data:{image(h){h.imageX=c,h.imageY=l}}}),o&&Tm(t,{step:r})}}function ck(t,e){return Math.min(t.width,t.height)*(.5*e/100)}function lk(t,e=!1){const n=[];function r(o){o.forEach(u=>{u.nodeType==="IMAGE"&&(e||Im(u))&&n.push(u),u.nodeType==="GROUP"&&r(u.children)})}return r(t),n}function fk(t){const e=[];function n(r){r.forEach(o=>{o.nodeType==="IMAGE"&&Im(o)&&!o.isLocked&&e.push(o),o.nodeType==="GROUP"&&!o.isLocked&&n(o.children)})}return n(t),e}function dk(t,{padding:e=0,rotate:n=0,flipV:r=!1,flipH:o=!1}){return new Promise(u=>{const c=document.createElement("canvas"),l=c.getContext("2d");let h=1;const p=Math.max(t.width,t.height);p>1e3&&(h=p/1e3);const w=t.width/h,x=t.height/h,E=D2({x:0,y:0},{x:w,y:x});c.width=E,c.height=E;const P=c.width/2,T=c.height/2,L=document.createElement("canvas"),N=L.getContext("2d");L.width=w,L.height=x,(r||o)&&(N==null||N.translate(o?w:0,r?x:0),N==null||N.scale(o?-1:1,r?-1:1)),N==null||N.drawImage(t,0,0,w,x),l==null||l.translate(P,T),n&&(l==null||l.rotate(n*Math.PI/180)),l==null||l.translate(-P,-T),l==null||l.drawImage(L,P-w/2,T-x/2);const F=l==null?void 0:l.getImageData(0,0,c.width,c.height),{data:H=[],width:$=0,height:q=0}=F||{},te=()=>{for(let pe=0;pe<$;pe+=1)for(let ae=0;ae<q;ae+=1){const Ie=(ae*$+pe)*4;if(H[Ie+3]>0)return Promise.resolve(pe)}return Promise.resolve(0)},re=()=>{for(let pe=0;pe<q;pe+=1)for(let ae=0;ae<$;ae+=1){const Ie=(pe*$+ae)*4;if(H[Ie+3]>0)return Promise.resolve(pe)}return Promise.resolve(0)},le=()=>{for(let pe=$-1;pe>=0;pe-=1)for(let ae=0;ae<q;ae+=1){const Ie=(ae*$+pe)*4;if(H[Ie+3]>0)return Promise.resolve(pe)}return Promise.resolve(0)},Ae=()=>{for(let pe=q-1;pe>=0;pe-=1)for(let ae=0;ae<$;ae+=1){const Ie=(pe*$+ae)*4;if(H[Ie+3]>0)return Promise.resolve(pe)}return Promise.resolve(0)},Z=[te(),re(),le(),Ae()];Promise.all(Z).then(pe=>{let[ae,Ie,Fe,_e]=pe;ae-=e,Ie-=e,Fe+=e,_e+=e;const Ye=Fe-ae,se=_e-Ie,ie=Ie,he=ae;u({contentWidth:Ye*h,contentHeight:se*h,top:ie*h,left:he*h,frameSize:E*h})})})}function Im(t){return t.nodeType==="IMAGE"&&!!t.extra.shapeMask.maskURL}async function hk(t,e){const n=lm(),{imageInfo:r}=await Pm(e);return n.image=r,n.width=r.naturalWidth,n.height=r.naturalHeight,Mm(n),n.left=0,n.top=0,n}function Qp(t){return`mainLayer-${t}`}function pk(t){const e=document.querySelectorAll(`#${Qp(t.id)}`);e.length>1&&console.warn("More than one canvas",e);const n=document.getElementById(Qp(t.id));return n||(console.warn("当前图层不存在"),document.createElement("canvas"))}function gk(t){const e=[];function n(r){r.forEach(o=>{o.nodeType!=="GROUP"&&e.push(o),n(o.children)})}return n(t.children),e}function X2(t,e){return t.props.getPanelList().find(r=>r.id===e)||null}function mk(t,e){return X2(t,e)||km(t,e)}function km(t,e){return t.normalLayerFlatMap[e]?t.normalLayerFlatMap[e]:null}function yk(t){return t.image?t.image.width/t.image.naturalWidth:1}function vk(t,e){return!(t.options.hasTimeline&&e.timeline&&(t.currentTime<e.timeline.start||t.currentTime>e.timeline.end))}function wk(t){return{left:t.bunchRectangle.left*t.getPageScale(),top:t.bunchRectangle.top*t.getPageScale(),width:t.bunchRectangle.width*t.getPageScale(),height:t.bunchRectangle.height*t.getPageScale(),transform:`rotate(${t.bunchRectangle.rotate}deg)`}}function xc(t,e){t.bunchRectangle.left=e.left,t.bunchRectangle.top=e.top,t.bunchRectangle.width=e.width,t.bunchRectangle.height=e.height,t.bunchRectangle.rotate=e.rotate}function Y2(t){if(t.selectedSingleLayer){const e=t.selectedSingleLayer;e&&xc(t,e)}else{const e=[];t.selectedLayerList.forEach(n=>{if(n){const r=Jr(n);e.push(r.leftTop),e.push(r.rightTop),e.push(r.leftBottom),e.push(r.rightBottom)}}),Object.assign(t.bunchRectangle,ks(e)),t.bunchRectangle.rotate=0}}function K2({layerList:t}){const e=[];return t.forEach(r=>{if(r){const o=Jr(r);e.push(o.leftTop),e.push(o.rightTop),e.push(o.leftBottom),e.push(o.rightBottom)}}),{...ks(e),rotate:0}}function Q2(t){return t.nodeType==="FRAME"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"||t.nodeType==="SECTION"}function Rm(t){return t.nodeType==="FRAME"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"}function bk(t){return!!(Rm(t)||t.nodeType==="GROUP")}function xk(t,e,n){var u;const r=t.snapshotMap;r[e.id]||(r[e.id]={lastUsedAt:0,image:null,contains:{layerIdMap:{},imageUrlMap:{}}});const o=r[e.id];return o.lastUsedAt=new Date().getTime(),(u=o.image)==null||u.delete(),o.image=n,o}function q2(t,e){var r;const n=t.snapshotMap;n[e.id]&&((r=n[e.id].image)==null||r.delete(),delete n[e.id])}function J2(t,e){const n=t.snapshotMap;return n[e.id]?(n[e.id].lastUsedAt=new Date().getTime(),n[e.id].image):null}function $r(t,e){return t.localStore.getLayer(e)}function Om(t,e){const n=[e];return Fm(t,e,n),n}function Fm(t,e,n){if(e.parentId){const r=t.getLayer(e.parentId);r&&(Q2(r)&&n.unshift(r),Fm(t,r,n))}}function Rs(t,e){if(e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")return!0;const n=t.localStore.getLayer(e.parentId);return n?Rs(t,n):!1}function Sk(t,e){const n=[];return Nm(t,e,n),n}function Nm(t,e,n){if(e.nodeType==="SYMBOL"&&n.unshift(e.id),e.parentId){const r=$r(t,e.parentId);r&&Nm(t,r,n)}}function Z2(t,e){if(e.parentId){const n=$r(t,e.parentId);return n?Z2(t,n):null}return e}function $m(t,e){delete t.layerAssetsMap[e.id],delete t.layerMap[e.id],q2(t,e),e.nodeType==="FRAME"||e.nodeType==="GROUP"||e.nodeType==="SECTION"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE"?e.children.forEach(n=>{$m(t,n)}):e.nodeType==="IMAGE"||e.nodeType}function Ek(t,e){eE(t.localStore.props.getCurrentPage(),e)}function eE(t,e){t.children.forEach(n=>{Bm(n,e)})}function tE(t){return t.nodeType==="FRAME"||t.nodeType==="GROUP"||t.nodeType==="SECTION"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"?t.children:null}function Bm(t,e){var n;e(t),(n=tE(t))==null||n.forEach(r=>{Bm(r,e)})}function Os(t,e){if(e.nodeType==="INSTANCE"){const n=e.symbolData.symbolID.id,r=t.localStore.getLayer(n);if(!r)throw new Error("");return r.children}return e.children}function Dm(t,e){return t.layerAssetsMap[e.id]||null}function Gm({layer:t,layerInfo:e}){return{width:e.width,height:e.height}}function gi(t,e){if(e.parentId){const n=t.getLayer(e.parentId);if(n)return n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="SECTION"?n:gi(t,n)}return null}function Um(t,e){if(e.parentId){const n=$r(t,e.parentId);if(n)return n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="SECTION"?n:Um(t,n)}return t.localStore.props.getCurrentPage()}function lf(t,e){return e.map(n=>t.layerMap[n])}function nE({localStore:t,idList:e}){return e.map(n=>{const r=t.getLayer(n);if(!r)throw new Error;return r})}function En(t){return!t.stackMode||t.stackMode==="NONE"?"NONE":t.stackMode}function Yn(t,e){const n=[...t];return e.nodeType==="INSTANCE"&&t[t.length-1]!==e&&n.push(e),n}function Ed(t,e){const n={};return Ue.forEach(t.layerMap,(r,o)=>{r.nodeType==="INSTANCE"&&r.symbolData.symbolID.id===e.id&&(n[o]=r)}),n}function rE(t,e,n){const r=Ed(t.fileData,e);Ue.forEach(r,o=>{n(o)})}function Wm({layer:t,instanceChain:e}){const n=[...e];return n[n.length-1]!==t&&n.push(t),n}const iE={nodeType:"IMAGE",left:0,top:0,width:0,height:0,rotate:0,name:"",stackMode:"NONE",stackPrimarySizing:"FIXED",stackCounterSizing:"FIXED",stackChildAlignSelf:"AUTO",stackChildPrimaryGrow:0,stackPrimaryAlignItems:"MIN",stackCounterAlignItems:"MIN",stackPositioning:"",stackPaddingTop:0,stackPaddingBottom:0,stackPaddingLeft:0,stackPaddingRight:0,stackSpacing:0,strokeAlign:"INSIDE",strokeCap:"NONE",strokeWeight:1,strokeJoin:"MITER",miterLimit:0,fillGeometry:[],fillPaints:void 0,strokeGeometry:[],strokePaints:[],dashPattern:[0,0],frameMaskDisabled:!1,cornerRadius:0,textAutoResize:"NONE",textData:void 0,vectorData:void 0,effects:void 0,visible:!0};function Zt({localStore:t,layer:e,instanceChain:n,debugging:r}){function o(u){if(e.nodeType==="INSTANCE"&&e===n[0]&&(u==="left"||u==="top"))return e[u];if(n.length>0){let c;for(let l=0;l<n.length;l+=1){const h=n.slice(l);if(c=oE(e,u,n[l],h),c)break}if(c!==void 0)return c}if(e[u]!==void 0)return e[u];if(u==="textData"||u==="vectorData")throw new Error;return iE[u]}return new Proxy({},{get:(u,c)=>o(c)})}function oE(t,e,n,r){let o;const u=Wm({layer:t,instanceChain:r});return n.symbolData.symbolOverrides.forEach(c=>{c.guidPath.guids.map(l=>l.id).join("--")===u.map(l=>l.id).join("--")&&c[e]!==void 0&&(o=c[e])}),n.derivedSymbolData.forEach(c=>{c.guidPath.guids.map(l=>l.id).join("--")===u.map(l=>l.id).join("--")&&c[e]!==void 0&&(o=c[e])}),o}const Sc=Zt;function Ad({localStore:t,layer:e,instanceChain:n,constraintsMap:r}){n=Yn(n,e);const o=Sc({localStore:t,layer:e,instanceChain:n});let u=[];const c=t.getFigma();return c&&(u=Os(c.context.fileData,e)),u.forEach(l=>{const h=Zt({localStore:t,layer:l,instanceChain:Yn(n,l)}),p=h;if(p.stackMode==="NONE"||p.stackPositioning==="ABSOLUTE"){const w={};r[l.id]=w,l.horizontalConstraint==="MIN"&&(w.left=h.left),l.horizontalConstraint==="MAX"&&(w.right=o.width-h.left-h.width),l.horizontalConstraint==="STRETCH"&&(w.left=h.left,w.right=o.width-h.left-h.width),l.verticalConstraint==="MIN"&&(w.top=h.top),l.verticalConstraint==="MAX"&&(w.bottom=o.height-h.top-h.height),l.verticalConstraint==="STRETCH"&&(w.top=h.top,w.bottom=o.height-h.top-h.height)}Ad({localStore:t,layer:l,instanceChain:n,constraintsMap:r})}),r}function aE(t,e){const n=gi(t,e);return!!(n&&(En(n)==="NONE"||e.stackPositioning==="ABSOLUTE"))}function sE(t){return t.horizontalConstraint||"MIN"}function uE(t){return t.verticalConstraint||"MIN"}console.log(ir({left:10,top:10,width:200,height:300,rotate:30}));function ir({left:t,top:e,width:n,height:r,rotate:o}){const u=-o/180*Math.PI,{leftTop:c}=Jr({left:t,top:e,width:n,height:r,rotate:o}),l=o===90||o===-90?0:Math.cos(u);return[[l,Math.sin(u),c.x],[-Math.sin(u),l,c.y],[0,0,1]]}function Ec(t,e){const n=t,r=e,o=[];for(let u=0;u<n.length;u+=1){o[u]=[];for(let c=0;c<r[0].length;c+=1){let l=0;for(let h=0;h<n[0].length;h+=1)l+=n[u][h]*r[h][c];o[u][c]=l}}return o}function Ss(t,e){const n=[...t],r=[[e.x],[e.y],[1]],o=Ec(n,r);return{x:o[0][0],y:o[1][0]}}function cE(t,e){return Ec(t,e)}function wa(t,e){const n=[...t],r=[[e.x],[e.y],[1]],o=Ec(zm(n),r);return{x:o[0][0],y:o[1][0]}}function lE(t,e){return Ec(zm(t),e)}function Ac(t){return-Math.atan2(-t[1][0],t[0][0])*(180/Math.PI)}function Cd({width:t,height:e,t:n}){const r=n[0][2],o=n[1][2],u=Ac(n),{left:c,top:l}=gm({x:r,y:o,width:t,height:e,rotate:u});return{left:c,top:l,rotate:u}}function zm(t){if(t.length!==t[0].length)throw new Error("");let e=0,n=0,r=0;const o=t.length;let u=0;const c=[],l=[];for(e=0;e<o;e+=1)for(c[c.length]=[],l[l.length]=[],r=0;r<o;r+=1)e===r?c[e][r]=1:c[e][r]=0,l[e][r]=t[e][r];for(e=0;e<o;e+=1){if(u=l[e][e],u===0){for(n=e+1;n<o;n+=1)if(l[n][e]!==0){for(r=0;r<o;r+=1)u=l[e][r],l[e][r]=l[n][r],l[n][r]=u,u=c[e][r],c[e][r]=c[n][r],c[n][r]=u;break}if(u=l[e][e],u===0)throw new Error}for(r=0;r<o;r+=1)l[e][r]=l[e][r]/u,c[e][r]=c[e][r]/u;for(n=0;n<o;n+=1)if(n!==e)for(u=l[n][e],r=0;r<o;r+=1)l[n][r]-=u*l[e][r],c[n][r]-=u*c[e][r]}return c}function fE(t,e){const n=[t[0],t[1],[0,0,1]],r=[e[0],e[1],[0,0,1]];return dE(n,r)}function dE(t,e){const n=[];for(let r=0;r<t.length;r+=1){n[r]=[];for(let o=0;o<e[0].length;o+=1){let u=0;for(let c=0;c<t[0].length;c+=1)u+=t[r][c]*e[c][o];n[r][o]=u}}return n}function Hm({fileData:t,info:e}){const n=[];if(e.type==="layer"){const r=$r(t,e.layerId);r&&n.push(...Om(t.localStore,r).map(o=>ir({left:o.left,top:o.top,width:o.width,height:o.height,rotate:o.rotate})))}return jm(n)}function jm(t){let e=[[1,0,0],[0,1,0],[0,0,1]];return[...t].reverse().forEach(n=>{e=fE(n,e)}),e}function So(t,e){const n=Hm({fileData:t,info:e});return{absoluteTransform:n,rotate:Ac(n)}}function hE({localStore:t}){if(t.selectedSingleLayer)return{type:"entity",id:t.selectedSingleLayer.id,completeChain:Om(t,t.selectedSingleLayer).map(n=>({id:n.id,nodeType:n.nodeType}))};const{phantom:e}=t.props.getSelectionInfo();return e?{...e}:null}function _d({fileData:t,target:e}){const n=[...e.completeChain],r=[],o=[];n.forEach(l=>{l.nodeType==="INSTANCE"&&o.push($r(t,l.id));const h=$r(t,l.id);if(!h)throw new Error("");const p=Zt({localStore:t.localStore,layer:h,instanceChain:o});r.push(ir(p))});const u=jm(r),c=$r(t,e.id);if(!c)throw new Error("");return{layer:c,instanceChain:o,absoluteTransform:u,rotate:Ac(u)}}function Cc(t){const e=t.getFigma();return e?{fileData:e.context.fileData}:t.libra?{fileData:t.libra.fileData}:null}function pE(t){return t.getNormalLayerList().filter(n=>t.getSelectedLayerIdList().includes(n.id)===!1)}function gE(t,e,n){const r=Vm(t,n,t.selectedNormalLayerList);return rr(t,{type:"$selectActiveGroupChild",layerId:r}),r}function mE(t,e,n){rr(t,{type:"$selectGroupLeafLayer",layerId:n.id}),xc(t,n),console.log(Ue.cloneDeep(t.selectedSingleLayer))}function yE(t,e,n){if(rr(t,{type:"replace",idList:[e.id]}),e.nodeType==="GROUP"){if(e.isLocked)return;gE(t,e,n)}}function Ak(t,e){t.layerResolvedFrameMap={},t.getNormalLayerList().forEach(r=>{t.layerResolvedFrameMap[r.id]=Jr(r)});const n=t.getPointInPage(e);t.selectionRectStartPoint=n}function Ck(t,e){t.selectionRectStartPoint=null;const n=t.getPointInPage(e);t.selectionRectEndPoint=n,rr(t,{type:t.controlKeyUnderPress?"add":"replace",idList:Object.keys(t.overlappedLayerIdMap)}),t.overlappedLayerIdMap={},t.selectionRectExists=!1,t.currentStatus=""}const vE=Ue.throttle((t,e)=>{if(t.overlappedLayerIdMap={},t.getFigma()){wE(t);return}Ue.forEach(t.layerResolvedFrameMap,(n,r)=>{var u;if(t.getLayer(r)&&((u=t.getLayer(r))!=null&&u.isLocked))return;bd([{x:t.selectionRectangle.left,y:t.selectionRectangle.top},{x:t.selectionRectangle.left,y:t.selectionRectangle.top+t.selectionRectangle.height},{x:t.selectionRectangle.left+t.selectionRectangle.width,y:t.selectionRectangle.top+t.selectionRectangle.height},{x:t.selectionRectangle.left+t.selectionRectangle.width,y:t.selectionRectangle.top}],[n.leftTop,n.leftBottom,n.rightBottom,n.rightTop])&&(t.overlappedLayerIdMap[r]=!0)})},100);function wE(t){var r;const e={},n=[...((r=t.figma)==null?void 0:r.topLevelLayerList)||[]].reverse();n==null||n.forEach(o=>{const u=Ho({...t.selectionRectangle,rotate:0}),c=Ho(o);bd(u,c)&&(e[o.id]=!0)}),t.overlappedLayerIdMap=e}function _k(t,e){t.selectionRectExists=!0;const n=t.getPointInPage(e);t.selectionRectEndPoint=n,vE(t,e)}function bE(t,e,n){for(let r=n.length-1;r>=0;r-=1){const o=n[r],u=t.getPointInPage(e),c=Ho(o);if(xd(u,c))return o.id}return""}function Vm(t,e,n){for(let r=n.length-1;r>=0;r-=1){const o=n[r],u=t.getPointInPage(e),c=Ho(o);if(xd(u,c))return o.children.length>0?Vm(t,e,o.children):o.id}return""}function xE(t,e){return bE(t,e,t.getNormalLayerList().filter(r=>t.getSelectedLayerIdList().includes(r.id)===!1))}function Tk(t,e){const n=xE(t,e);return n&&(t.controlKeyUnderPress?rr(t,{type:"add",idList:[n]}):rr(t,{type:"replace",idList:[n]})),n}function SE(t,e){return t.getSelectedLayerIdList().indexOf(e.id)>-1}function Lk(t,e,n){const r=t.getLayer(e.parentId);r&&r.nodeType==="GROUP"?mE(t,r,e):e.nodeType==="FRAME"?rr(t,{type:"replace",idList:[e.id]}):t.controlKeyUnderPress?SE(t,e)?rr(t,{type:"remove",idList:[e.id]}):rr(t,{type:"add",idList:[e.id]}):yE(t,e,n)}function EE(t){const e={layer:null,instanceChain:[]},n=Cc(t);if(n){const r=hE({localStore:t});if(r){const{layer:o,instanceChain:u}=_d({fileData:n.fileData,target:r});e.layer=o,e.instanceChain=u}}return e}function Pk(){return{currentPageIndex:0,selectedLayerIdList:[],phantom:null,activeLayerInGroupId:"",activeGroupLayerId:"",selectedLeafLayerId:"",bunchRectangle:{nodeType:"GROUP",parentId:"",id:"bunchRectangle",name:"",guid:{sessionID:0,localID:0},left:0,top:0,width:0,height:0,rotate:0,isLocked:!1,children:[],editInfo:{userId:"",createdAt:0,lastEditedAt:0},shimmerAtApearance:!1},textRange$:{start:0,end:0}}}function rr(t,e){var r,o;const{selectionInfo:n}=t;if(e.type==="$selectActiveGroupChild")n.activeLayerInGroupId=e.layerId;else if(e.type==="$selectGroupLeafLayer")n.selectedLeafLayerId=e.layerId;else if(e.type==="$startEdittingGroupLayer")n.selectedLayerIdList=[],n.activeLayerInGroupId="",n.activeGroupLayerId=e.layerId;else if(e.type==="$target")n.activeLayerInGroupId="",n.activeGroupLayerId="",n.selectedLeafLayerId="",e.target.type==="entity"?(n.phantom=null,n.selectedLayerIdList=[e.target.id]):(t.selectionInfo.phantom=e.target,n.selectedLayerIdList=[]);else{t.selectionInfo.phantom=null,n.activeLayerInGroupId="",n.activeGroupLayerId="",n.selectedLeafLayerId="";let u=[];e.type==="replace"?u.push(...e.idList):e.type==="add"?(u.push(...t.getSelectedLayerIdList()),u.push(...e.idList)):e.type==="remove"?u.push(...t.getSelectedLayerIdList().filter(c=>!Ue.includes(e.idList,c))):e.type,u=Ue.uniq(u).filter(c=>c),u.length>1&&(u=u.filter(c=>t.getLayer(c)).filter(c=>!t.rootNormalLayerMap[c].isLocked)),t.selectionInfo.selectedLayerIdList.length=0,t.getSelectedLayerIdList().push(...u)}(o=(r=t.props).doAction)==null||o.call(r,{type:"UpdateNodes",payload:{layerMap:{}}})}function Mk(t){var o,u,c,l;const e=(u=(o=t.props).getCurrentPage)==null?void 0:u.call(o);if(!e)return;const n=Sd(t),r=AE({localStore:t,candidate:t.bunchRectangle,groupedLayerIdList:t.getSelectedLayerIdList(),parentNode:e,step:n});(l=(c=t.props).doAction)==null||l.call(c,n.getNewAction()),xm(t),rr(t,{type:"replace",idList:[r.id]})}function Ik({localStore:t}){var r,o,u,c;const e=(o=(r=t.props).getCurrentPage)==null?void 0:o.call(r);if(!e)throw new Error("Page not found");const n=t.selectedSingleLayer;if(n&&n.nodeType==="GROUP"){const l=Sd(t),h=e.children,p=[];h.forEach(w=>{w.id===n.id?w.children.forEach(x=>{x.parentId="",p.push(x)}):p.push(w)}),l.update({layer:e,data:{life:{type:"delete",deletedNodes:{[n.id]:!0},children:p.map(w=>w.id)}}}),h.length=0,h.push(...p),(c=(u=t.props).doAction)==null||c.call(u,l.getNewAction()),xm(t),rr(t,{type:"replace",idList:n.children.map(w=>w.id)}),n.children=[],t.selectionInfo.bunchRectangle.left=n.left,t.selectionInfo.bunchRectangle.top=n.top,t.selectionInfo.bunchRectangle.width=n.width,t.selectionInfo.bunchRectangle.height=n.height,t.selectionInfo.bunchRectangle.rotate=n.rotate}}function kk(t){if(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="GROUP"){const{id:e}=t.selectedSingleLayer;rr(t,{type:"$startEdittingGroupLayer",layerId:e})}}function Td(t,e,{step:n}){if(e.parentId){const r=km(t,e.parentId);if(r&&r.nodeType==="GROUP"){const o=[];r.children.forEach(c=>{o.push(...Ho(c))});const u=N2(o,r.rotate);n.update({layer:r,data:u}),Td(t,r,{step:n})}}}function Rk({localStore:t,layerList:e}){const n=K2({layerList:e}),r=cm(t);return Object.assign(r,n),e.forEach(o=>{o.parentId=r.id}),r.children=[...e],r}function AE({localStore:t,candidate:e,groupedLayerIdList:n,parentNode:r,step:o}){const u=cm(t);u.left=e.left,u.top=e.top,u.width=e.width,u.height=e.height,u.rotate=e.rotate;const c=[...r.children],l=[];return c.forEach(h=>{n.indexOf(h.id)>-1?(u.children.push(h),h.parentId=u.id,u.children.length===n.length&&l.push(u)):l.push(h)}),o.update({layer:r,data:{life:{type:"createChildren",isGrouping:!0,newLayers:{[u.id]:Ue.cloneDeep(u)},children:l.map(h=>h.id)}}}),r.children.length=0,r.children.push(...l),u}function Aa(t){return t.selectedNormalLayerList.length===1?gi(t,t.selectedNormalLayerList[0]):null}function Ok({figma:t,localStore:e,singleLayer:n,step:r,pointInContainer:o}){const u=Aa(e);if(u&&B2(o,u)===!1)CE(e,t,u,n,r);else{const c=Um(t.context.fileData,n);let l=null;[...c.children].reverse().forEach(h=>{if(h.id!==n.id&&(h.nodeType==="FRAME"||h.nodeType==="SECTION"||h.nodeType==="SYMBOL")&&xd(o,Ho(h))&&l===null&&h.width>=n.width&&h.height>=n.height){if(n.nodeType==="SYMBOL"&&h.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"&&n.symbolData.symbolID.id===h.id)return;l=h}}),l&&l.children&&_E({fileData:t.context.fileData,room:c,nextRoom:l,singleLayer:n,step:r})}}function CE(t,e,n,r,o){if(t.isFullyFunctional===!1)return;o.update({layer:n,data:{children:n.children.map(x=>x.id).filter(x=>x!==r.id)}}),n.children=n.children.filter(x=>x.id!==r.id);const u=ir(n),c=gi(t,n)||e.currentPage,l=[];c.children.forEach(x=>{x.id===n.id?(l.push(x.id),l.push(r.id)):x.id!==r.id&&l.push(x.id)}),o.update({layer:c,data:{children:l}}),c.children=l.map(x=>$r(e.context.fileData,x));const h=ir(r),p=cE(u,h),w=Cd({width:r.width,height:r.height,t:p});o.update({layer:r,data:{parentId:c.nodeType==="CANVAS"?"":c.id,left:w.left,top:w.top,rotate:w.rotate}})}function _E({fileData:t,room:e,nextRoom:n,singleLayer:r,step:o}){if(t.localStore.isFullyFunctional===!1)return;const u=e.children.map(x=>x.id).filter(x=>x!==r.id);o.update({layer:e,data:{children:u}}),e.children=u.map(x=>$r(t,x)).filter(x=>x);const c=n.children.map(x=>x.id).concat([r.id]);o.update({layer:n,data:{children:c}}),n.children.push(r);const l=ir(r),h=ir(n),p=lE(h,l),w=Cd({width:r.width,height:r.height,t:p});o.update({layer:r,data:{parentId:n.id,left:w.left,top:w.top,rotate:w.rotate}})}function Fk(t){const e={x:0,y:0},n=[],r=[];function o(E,P){let T="";return typeof(E==null?void 0:E.delta)=="number"&&P?Math.abs(E.delta)<=Math.abs(P.delta)?T="line":T="rects":typeof(E==null?void 0:E.delta)=="number"?T="line":P&&(T="rects"),T}const{leftTop:u,leftBottom:c,rightTop:l,rightBottom:h}=Jr(t.bunchRectangle);let p=t.props.getPageSize().width,w=t.props.getPageSize().height;const x=Aa(t);t.getFigma()&&x&&(p=x.width,w=x.height);{const E=cc({type:"MOVING",localStore:t,layer:t.bunchRectangle,x:"x",width:"width",origin:"",roomSize:{width:p,height:w}}),P=qp(t,"left","width","top","height",{roomWidth:p,roomHeight:w}),T=o(E,P);if(typeof(E==null?void 0:E.delta)=="number"&&T==="line"){if(e.x=E.delta,E.type==="page")n.push({x:E.value*t.getPageScale(),y:0,width:1,height:w*t.getPageScale()});else{const L=[u.y,c.y,l.y,h.y],N=t.getLayer(E.layerId);if(N){const $=Jr(N);L.push($.leftTop.y,$.leftBottom.y,$.rightTop.y,$.rightBottom.y)}const F=Gu(L),H=xs(L)-Gu(L);n.push({x:E.value*t.getPageScale(),y:F*t.getPageScale(),width:1,height:H*t.getPageScale()})}t.bunchRectangleXFixed=!0}else P&&T==="rects"?(e.x=P.delta,r.push({dimension:"x",rect:P.leftRect}),r.push({dimension:"x",rect:P.rightRect}),t.bunchRectangleXFixed=!0):t.bunchRectangleXFixed=!1}{const E=cc({type:"MOVING",localStore:t,layer:t.bunchRectangle,x:"y",width:"height",origin:"",roomSize:{width:p,height:w}}),P=qp(t,"top","height","left","width",{roomWidth:p,roomHeight:w}),T=o(E,P);if(typeof(E==null?void 0:E.delta)=="number"&&T==="line"){if(e.y=E.delta,E.type==="page")n.push({x:0,y:E.value*t.getPageScale(),height:1,width:p*t.getPageScale()});else{const L=[u.x,c.x,l.x,h.x],N=t.getLayer(E.layerId);if(N){const $=Jr(N);L.push($.leftTop.x,$.leftBottom.x,$.rightTop.x,$.rightBottom.x)}const F=Gu(L),H=xs(L)-Gu(L);n.push({y:E.value*t.getPageScale(),x:F*t.getPageScale(),height:1,width:H*t.getPageScale()})}t.bunchRectangleYFixed=!0}else P&&T==="rects"?(e.y=P.delta,r.push({dimension:"y",rect:P.leftRect}),r.push({dimension:"y",rect:P.rightRect}),t.bunchRectangleYFixed=!0):t.bunchRectangleYFixed=!1}return t.helperLineList=n,t.helperRectList=r,e}function TE(t){var e;if(t.figma){const n=Aa(t);return n?n.children.filter(r=>t.getSelectedLayerIdList().includes(r.id)===!1):((e=t.figma)==null?void 0:e.topLevelLayerList.filter(r=>t.getSelectedLayerIdList().includes(r.id)===!1))||[]}return t.editingGroupLayer?t.getNormalLayerList().filter(n=>n.id!==t.activeGroupLayerId):t.getNormalLayerList().filter(n=>t.getSelectedLayerIdList().includes(n.id)===!1)}function cc({type:t,localStore:e,layer:n,x:r,width:o,origin:u,roomSize:c}){const l=Jr(n),h=[];let p=-1,w=1/0;const x=c,E=[{type:"page",value:0,layerId:"",delta:null},{type:"page",value:x[o],layerId:"",delta:null},{type:"page",value:x[o]/2,layerId:"",delta:null}];TE(e).forEach(N=>{const F=Jr(N);[F.leftTop[r],F.leftBottom[r],F.center[r],F.rightTop[r],F.rightBottom[r]].forEach(H=>{E.push({type:"layer",value:H,layerId:N.id,delta:null})})});let T=[];u==="left"?T=["rightTop","rightBottom"]:u==="right"?T=["leftTop","leftBottom"]:u==="top"?T=["leftBottom","rightBottom"]:u==="bottom"?T=["leftTop","rightTop"]:T=["leftTop","leftBottom","rightTop","rightBottom","center"],T.forEach(N=>{E.forEach(F=>{const H=F.value-l[N][r];Math.abs(H)<uc/e.getPageScale()&&h.push({...F,delta:H,movingPointName:N})})}),h.map(N=>Math.abs(N.delta)).forEach((N,F)=>{N<w&&(w=N,p=F)});const L=h[p];if(L&&t==="RESIZING"){let N=[0,0,0,0];if(r==="x"?(N=[L.value,-1e6,L.value,1e6],L.movingPointName==="leftTop"?L.fixedPointName="rightTop":L.movingPointName==="leftBottom"?L.fixedPointName="rightBottom":L.movingPointName==="rightTop"?L.fixedPointName="leftTop":L.movingPointName==="rightBottom"&&(L.fixedPointName="leftBottom")):r==="y"&&(N=[-1e5,L.value,1e5,L.value],L.movingPointName==="leftTop"?L.fixedPointName="leftBottom":L.movingPointName==="leftBottom"?L.fixedPointName="leftTop":L.movingPointName==="rightTop"?L.fixedPointName="rightBottom":L.movingPointName==="rightBottom"&&(L.fixedPointName="rightTop")),L.movingPointName&&L.fixedPointName){const F=k2(l[L.fixedPointName].x,l[L.fixedPointName].y,l[L.movingPointName].x,l[L.movingPointName].y,...N);F&&(L.size=Tf(l[L.fixedPointName],F))}}return L}function qp(t,e,n,r,o,{roomWidth:u,roomHeight:c}){const l=_f(t.bunchRectangle);let h=[];const p=Aa(t);t.getFigma()&&p?h=p.children.filter(T=>{var L;return T.id!==((L=t.selectedSingleLayer)==null?void 0:L.id)||""}):h=pE(t);const w=h.map(T=>_f(T)).concat(e==="left"?[{left:0,top:0,width:0,height:c},{left:u,top:0,width:0,height:c}]:[{left:0,top:0,width:u,height:0},{left:0,top:c,width:u,height:0}]).filter(T=>T[e]+T[n]<l[e]||T[e]>l[e]+l[n]);let x=uc,E;function P(T,L){return!(T[r]>L[r]+L[o]||T[r]+T[o]<L[r])}if(w.forEach(T=>{w.filter(L=>L!==T).forEach(L=>{const N=Ue.sortBy([l,T,L],e),[F,H,$]=N,q=H[e]-(F[e]+F[n]),te=$[e]-(H[e]+H[n]);q>0&&te>0&&Math.abs(q-te)<x&&P(F,H)&&P(H,$)&&(x=Math.abs(q-te),E=N)})}),E){const[T,L,N]=E;let F=0,H=0;if(L===l){const le=T[e]+T[n];F=le+(N[e]-le)/2-(L[e]+L[n]/2),L[e]+=F,H=(N[e]-le-L[n])/2}else if(T===l){H=N[e]-(L[e]+L[n]);const le=N[e]-2*H-L[n]-T[n];F=le-T[e],T[e]=le}else if(N===l){H=L[e]-(T[e]+T[n]);const le=L[e]+L[n]+H;F=le-N[e],N[e]=le}const $=Ue.min([L[r],T[r]])||0,q=Ue.max([L[r]+L[o],T[r]+T[o]])||0,te=Ue.min([L[r],N[r]])||0,re=Ue.max([L[r]+L[o],N[r]+N[o]])||0;return LE({isX:e==="left",leftBox:T,rightBox:N,middleBox:L,delta:F,rectSpan:H,leftRectMin:$,leftRectMax:q,rightRectMin:te,rightRectMax:re})}return null}function LE({isX:t,leftBox:e,rightBox:n,middleBox:r,delta:o,rectSpan:u,leftRectMin:c,leftRectMax:l,rightRectMin:h,rightRectMax:p}){if(t){const w={left:e.left+e.width,width:u,top:c,height:l-c},x={left:r.left+r.width,width:u,top:h,height:p-h};return{delta:o,rectSpan:u,leftRect:w,rightRect:x}}{const w={top:e.top+e.height,height:u,left:c,width:l-c},x={top:r.top+r.height,height:u,left:h,width:p-h};return{delta:o,rectSpan:u,leftRect:w,rightRect:x}}}function Fs(t){var n;if(!t)throw new Error("element is missing!");return Number((n=document==null?void 0:document.defaultView)==null?void 0:n.getComputedStyle(t).height.replace(/px/,""))}function Ns(t){var n;if(!t)throw new Error("element is missing!");return Number((n=document==null?void 0:document.defaultView)==null?void 0:n.getComputedStyle(t).width.replace(/px/,""))}function _c(t){if(!t)throw new Error("element is missing!");let e=0;return e+=t.offsetTop,t.offsetParent&&(e+=_c(t.offsetParent)),e}function Tc(t){if(!t)throw new Error("element is missing!");let e=0;return e+=t.offsetLeft,t.offsetParent&&(e+=Tc(t.offsetParent)),e}function Nk(t,e){if(!t)throw new Error("element is missing!");let n=0,r=0;return e&&e.paddingTop&&(n=e.paddingTop),e&&e.paddingBottom&&(r=e.paddingBottom),!(t.getBoundingClientRect().top>=window.innerHeight-r||t.getBoundingClientRect().bottom<=n)}function PE(t,e,n){let r=(e.pageX-t.appliedPointX)/t.getPageScale(),o=(e.pageY-t.appliedPointY)/t.getPageScale();if(n){const u=wa(n,{x:r,y:o});r=u.x,o=u.y}return t.bunchRectangleXFixed?Math.abs(r)>uc/t.getPageScale()?(t.bunchRectangleXFixed=!1,t.appliedPointX=e.pageX):r=0:t.appliedPointX=e.pageX,t.bunchRectangleYFixed?Math.abs(o)>uc/t.getPageScale()?(t.bunchRectangleYFixed=!1,t.appliedPointY=e.pageY):o=0:t.appliedPointY=e.pageY,{x:r,y:o}}function Ld(t,e){const n=Tc(e),r=_c(e);return{x:t.pageX-n,y:t.pageY-r}}function ME(t,e){t.pointerDownX=e.pageX,t.pointerDownY=e.pageY,t.pointerX=e.pageX,t.pointerY=e.pageY,t.appliedPointX=e.pageX,t.appliedPointY=e.pageY,t.pointerMoved=!1,t.pointerCurrentAngle=R2(vm(t.getPointInContainer(e),t.bunchRectangleCenter)),t.pointerAppliedAngle=t.pointerCurrentAngle,t.bunchRectangleRotationFixed=!1}function Xm(t,e){t.pointerX=e.pageX,t.pointerY=e.pageY}function $k(t,e){return Kp(t.pointerDownX,e.pageX)&&Kp(t.pointerDownY,e.pageY)}function Bk(t,e){t.pointerRayLengthInPage=e}function Dk(t){var e;return(e=t.changedTouches)!=null&&e[0]&&(t.pageX=t.changedTouches[0].pageX,t.pageY=t.changedTouches[0].pageY),t}const IE={name:"",isLocked:!1,width:0,height:0,frameMaskDisabled:!1,stackMode:"NONE",stackPrimarySizing:"FIXED",stackCounterSizing:"FIXED",stackChildAlignSelf:"AUTO",stackChildPrimaryGrow:0,stackPrimaryAlignItems:"MIN",stackCounterAlignItems:"MIN",stackPositioning:"",stackPaddingTop:0,stackPaddingBottom:0,stackPaddingLeft:0,stackPaddingRight:0,stackSpacing:0,visible:!0,effects:[]},kE=Object.keys(IE),RE=["left","top","width","height"];function dn({localStore:t,layer:e,instanceChain:n,data:r,step:o,isResizingInstanceManually:u,options:c}){const l=n[0];if(l){const h=t.getFigma(),p=Wm({layer:e,instanceChain:n}),w={symbolData(x){let E=!1,P=null,T=-1;if(x.symbolOverrides.forEach((L,N)=>{L.guidPath.guids.map(F=>F.id).join("-")===p.map(F=>F.id).join("-")&&(E=!0,T=N,P=L)}),E===!1&&(P={guidPath:{guids:p.map(L=>({...L.guid,id:L.id}))}},x.symbolOverrides.push(P),T=x.symbolOverrides.length-1),h&&P)kE.forEach(L=>{if(P&&r[L]!==void 0)if(L==="width"||L==="height")u&&e===l&&(P[L]=r[L]);else if(L==="effects"){if(!P.effects){const{effects:N}=Zt({localStore:t,layer:e,instanceChain:n});P.effects=Ue.cloneDeep(N||[])}typeof r.effects=="function"&&r.effects(P.effects)}else P[L]=r[L]});else throw new Error;Object.keys(P).filter(L=>L!=="guidPath").length===0&&x.symbolOverrides.splice(T,1)},derivedSymbolData(x){let E=null;x.forEach(P=>{P.guidPath.guids.map(T=>T.id).join("-")===p.map(T=>T.id).join("-")&&(E=P)}),E===null&&(E={guidPath:{guids:p.map(P=>({...P.guid,id:P.id}))}},x.push(E)),RE.forEach(P=>{const T=r[P];E&&typeof T<"u"&&(E[P]=T)})}};o.update({layer:l,data:w})}(!l||e===l)&&o.update({layer:e,data:r})}var Ym={exports:{}};(function(t){(function(){function e(L,N){document.addEventListener?L.addEventListener("scroll",N,!1):L.attachEvent("scroll",N)}function n(L){document.body?L():document.addEventListener?document.addEventListener("DOMContentLoaded",function N(){document.removeEventListener("DOMContentLoaded",N),L()}):document.attachEvent("onreadystatechange",function N(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",N),L())})}function r(L){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(L)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function o(L,N){L.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+N+";"}function u(L){var N=L.g.offsetWidth,F=N+100;return L.j.style.width=F+"px",L.i.scrollLeft=F,L.h.scrollLeft=L.h.scrollWidth+100,L.l!==N?(L.l=N,!0):!1}function c(L,N){function F(){var $=H;u($)&&$.g.parentNode!==null&&N($.l)}var H=L;e(L.h,F),e(L.i,F),u(L)}function l(L,N,F){N=N||{},F=F||window,this.family=L,this.style=N.style||"normal",this.weight=N.weight||"normal",this.stretch=N.stretch||"normal",this.context=F}var h=null,p=null,w=null,x=null;function E(L){return p===null&&(P(L)&&/Apple/.test(window.navigator.vendor)?(L=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),p=!!L&&603>parseInt(L[1],10)):p=!1),p}function P(L){return x===null&&(x=!!L.document.fonts),x}function T(L,N){var F=L.style,H=L.weight;if(w===null){var $=document.createElement("div");try{$.style.font="condensed 100px sans-serif"}catch{}w=$.style.font!==""}return[F,H,w?L.stretch:"","100px",N].join(" ")}l.prototype.load=function(L,N){var F=this,H=L||"BESbswy",$=0,q=N||3e3,te=new Date().getTime();return new Promise(function(re,le){if(P(F.context)&&!E(F.context)){var Ae=new Promise(function(pe,ae){function Ie(){new Date().getTime()-te>=q?ae(Error(""+q+"ms timeout exceeded")):F.context.document.fonts.load(T(F,'"'+F.family+'"'),H).then(function(Fe){1<=Fe.length?pe():setTimeout(Ie,25)},ae)}Ie()}),Z=new Promise(function(pe,ae){$=setTimeout(function(){ae(Error(""+q+"ms timeout exceeded"))},q)});Promise.race([Z,Ae]).then(function(){clearTimeout($),re(F)},le)}else n(function(){function pe(){var Re;(Re=Ye!=-1&&se!=-1||Ye!=-1&&ie!=-1||se!=-1&&ie!=-1)&&((Re=Ye!=se&&Ye!=ie&&se!=ie)||(h===null&&(Re=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),h=!!Re&&(536>parseInt(Re[1],10)||parseInt(Re[1],10)===536&&11>=parseInt(Re[2],10))),Re=h&&(Ye==he&&se==he&&ie==he||Ye==Te&&se==Te&&ie==Te||Ye==ke&&se==ke&&ie==ke)),Re=!Re),Re&&(Ee.parentNode!==null&&Ee.parentNode.removeChild(Ee),clearTimeout($),re(F))}function ae(){if(new Date().getTime()-te>=q)Ee.parentNode!==null&&Ee.parentNode.removeChild(Ee),le(Error(""+q+"ms timeout exceeded"));else{var Re=F.context.document.hidden;(Re===!0||Re===void 0)&&(Ye=Ie.g.offsetWidth,se=Fe.g.offsetWidth,ie=_e.g.offsetWidth,pe()),$=setTimeout(ae,50)}}var Ie=new r(H),Fe=new r(H),_e=new r(H),Ye=-1,se=-1,ie=-1,he=-1,Te=-1,ke=-1,Ee=document.createElement("div");Ee.dir="ltr",o(Ie,T(F,"sans-serif")),o(Fe,T(F,"serif")),o(_e,T(F,"monospace")),Ee.appendChild(Ie.g),Ee.appendChild(Fe.g),Ee.appendChild(_e.g),F.context.document.body.appendChild(Ee),he=Ie.g.offsetWidth,Te=Fe.g.offsetWidth,ke=_e.g.offsetWidth,ae(),c(Ie,function(Re){Ye=Re,pe()}),o(Ie,T(F,'"'+F.family+'",sans-serif')),c(Fe,function(Re){se=Re,pe()}),o(Fe,T(F,'"'+F.family+'",serif')),c(_e,function(Re){ie=Re,pe()}),o(_e,T(F,'"'+F.family+'",monospace'))})})},t.exports=l})()})(Ym);var OE=Ym.exports;const FE=Vo(OE);function Pd(t){console.log("[dev]",...t)}function NE(t){return new Promise(e=>{const n=new FileReader;t instanceof Blob?n.readAsDataURL(t):n.readAsDataURL(new Blob([t])),n.onload=function(){e(this.result)},n.onerror=r=>{A2("Failed to get base64","")}})}function $E(t,e){Ue.forEach(e,r=>{r.subset.charCodeList=[],r.subset.charMap={}});const n={};return Ue.forEach(t,r=>{const{characters:o}=r.textData,u=r.fontName.fullname;n[u]=!0;const c=e[u];if(c)for(let l=0;l<o.length;l+=1){const h=o.charCodeAt(l);c.subset.charMap[h]={char:o[l],unicode:h,glyph:null},c.subset.charCodeList.push(h)}}),Ue.forEach(n,(r,o)=>{const u=e[o];if(u){const c=Km(u);u.subset.currentText!==c&&(u.subset.subsetBase64=""),u.subset.currentText=c}}),n}function Km(t){return Ue.sortBy(Ue.uniq(t.subset.charCodeList)).map(e=>t.subset.charMap[e].char).filter(e=>e!==`
`).join("")}function BE(t,e,n){return Promise.all(Object.keys(e).map(r=>new Promise(o=>{const u=n[r];u?u.subset.subsetBase64?o(""):DE(t,r,n).then(()=>{o("")}):o("")})))}function DE(t,e,n){const r=t.props.getRootStore().fontMap[e],o=n[r.fontName],u=Km(o);return t.props.getRootStore().getFontSubsetFileFromBackend({src:r.woff2FileUrl||r.ttfURL,chars:u}).then(c=>(o.subset.subsetBase64=c,c))}const Wi={};function GE(t,e){return t.props.getRootStore().fontMap[e]||null}function UE(t){return Wi[t]||null}async function WE(t,e){const n=GE(t,e);if(UE(e)||(Wi[e]={styleTagReady:!1,parsed:null,newFont:null,subset:{charMap:{},charCodeList:[],currentText:"",subsetBase64:""},base64String:"",fontkitFont:null,fontkitString:""}),n.fontFaceReady===!0)return"";n.fontFaceReady=!0;const r=o=>{n.fontFaceReady=!1};return jE(n).then(()=>(Pd([`Loading ${e}`]),Qm(n),"")).catch(o=>{throw r(),new Error(`Failed to ensure font ${n.fontName}`)})}async function Qm(t){const{fontName:e}=t,n=t.woff2FileUrl||t.ttfURL;return zE(n).then(r=>{Wi[e].base64String=r})}function zE(t){return HE(t).then(e=>e.blob()).then(e=>NE(e))}function HE(t){return fetch(t,{method:"GET"})}async function jE(t,e){const{fontName:n}=t,r=Wi[n];if(r.styleTagReady)return"";const o=document.createElement("style");let u=t.woff2FileUrl||t.ttfURL;const c=new FE(Md(n));return o.setAttribute("data-font-name",n),o.setAttribute("id",n),o.innerHTML=Lf(n,u),document.getElementsByTagName("head")[0].appendChild(o),c.load(null,60*60*1e3).then(()=>(r.styleTagReady=!0,"")).catch(l=>{throw new Error(l.message)})}function Md(t){return t.replace(/\./g,"")}async function Gk(t,e){const n=$E(e,Wi);await BE(t,n,Wi),Pd([Wi,n])}function Lf(t,e){return`@font-face {
    font-family: "${Md(t)}";
    font-display: swap;
    src:url('${e}') format('truetype');
  }`}async function Uk(t,e,n){if(n==="")return"";const r=Wi[n];if(r.subset.subsetBase64)return Lf(n,r.subset.subsetBase64);r||(Pd([`${n} is not initialized yet.`,Wi]),await WE(t,n));{if(!r.base64String){const o=t.props.getRootStore().fontMap[n];await Qm(o)}return Lf(n,r.base64String)}}const VE="break-word";let di=1;function XE(){return di}const Nr={textContainer:null,divElement:null};typeof window<"u"&&(Nr.textContainer=document.createElement("div"),Nr.textContainer.style.cssText+=["position: fixed;","left: 0;","top: 0;","overflow: hidden;"].join(""),document.body.appendChild(Nr.textContainer),Nr.divElement=document.createElement("div"),Nr.divElement.style.cssText+=["position: fixed;","left: 0;","top: 0;","visibility: hidden;","pointer-events: none;","z-index: 1000;"].join(""),Nr.textContainer.appendChild(Nr.divElement));function YE(t){const e=C2()==="safari"?1:4;return t<12*e?12/t:1/e}function KE(t){di=YE(t.fontSize);const e=t.fontSize*di,n={position:"absolute",left:"0",top:"0",transformOrigin:"0 0",width:`${t.width*di}px`,lineHeight:`${t.lineHeight.value}`,fontFamily:`${Md(t.fontName.fullname)}`,fontSize:`${e}px`,wordWrap:`${VE}`,fontWeight:`${t.fontWeight==="BOLD"?"bold":"normal"}`,whiteSpace:"pre-wrap",textAlign:t.textAlignHorizontal.toLowerCase(),writingMode:t.writingMode,fontStyle:t.fontStyle==="ITALIC"?"italic":"normal",textDecoration:`${t.textDecoration==="STRIKE_THROUGH"?"line-through":""} ${t.textDecoration==="UNDERLINE"?"underline":""}`,letterSpacing:`${t.letterSpacing.value*di}px`};return n.transform=`scale(${1/di})`,t.writingMode==="horizontal-tb"?(n.width=`${t.width*di}px`,n.height="auto"):(n.width="auto",n.height=`${t.height*di}px`),n}function qm(t){const e=KE(t);return QE(e)}function QE(t){return Object.keys(t).map(n=>`${Ue.kebabCase(n).replace("webkit","-webkit")}: ${t[n]}`).join(";")}function qE(t){if(!Nr.divElement)return{nextWidth:0,nextHeight:0};Nr.divElement.style.cssText+=qm(t),Nr.divElement.innerText=t.textData.characters;let e=t.width,n=t.height;if(t.writingMode==="horizontal-tb"){const r=Fs(Nr.divElement);e=t.width,n=r/di}else e=Ns(Nr.divElement)/di,n=t.height;return{nextWidth:e,nextHeight:n}}function JE(t){const e=[];if(t.textData){const{textData:n}=t;let r=-1e3,o={styleID:-1e3,start:0,end:0};n.characterStyleIDs.forEach((u,c)=>{u!==r?(r=u,o={styleID:u,start:c,end:c},e.push(o)):o.end=c})}return e}function ZE({start:t,end:e,textData:n}){const r=[];let o=null;for(let u=t;u<e;u+=1){const c=n.characterStyleIDs[u-1],l=n.characterStyleIDs[u+1],h=n.characterStyleIDs[u];(u===t||h!==c)&&(o={styleID:h,start:u,end:u,prevOne:c,nextOne:void 0}),(u===e-1||h!==l)&&(o.nextOne=l,o.end=u+1,r.push(o))}return r}function Wk({localStore:t,layer:e}){const{start:n,end:r}=t.selectionInfo.textRange$,o={fontName:new Set,fontSize:new Set,fontStyle:new Set,textDecoration:new Set};function u({styleID:c}){var l;if(c!==0){const h=e.textData.styleOverrideTable.find(p=>p.styleID===c);o.fontName.add(((l=h==null?void 0:h.fontName)==null?void 0:l.fullname)||e.fontName.fullname),o.fontSize.add((h==null?void 0:h.fontSize)||e.fontSize),o.fontStyle.add((h==null?void 0:h.fontStyle)||e.fontStyle),o.textDecoration.add((h==null?void 0:h.textDecoration)||e.textDecoration)}else o.fontName.add(e.fontName.fullname),o.fontSize.add(e.fontSize),o.fontStyle.add(e.fontStyle),o.textDecoration.add(e.textDecoration)}if(t.editingText)if(n!==r)ZE({start:n,end:r,textData:e.textData}).forEach(l=>{u({styleID:l.styleID})});else{const c=e.textData.characterStyleIDs[n-1]||0;u({styleID:c})}else u({styleID:0});return o}function Pf({Raptor:t,value:e}){return e==="ROUND"?t.StrokeJoin.Round:e==="BEVEL"?t.StrokeJoin.Bevel:t.StrokeJoin.Miter}function eA({paint:t,Raptor:e,height:n}){const r=e.Shader.MakeLinearGradient([.5,0],[.5,n],[new Float32Array(qt(t.stops[0].color).toFigmaArray()),new Float32Array(qt(t.stops[1].color).toFigmaArray())],null,e.TileMode.Decal);return r.deleteLater(),r}function tA({Raptor:t,fileData:e,layer:n}){const r=new t.ParagraphStyle({textStyle:{color:t.BLACK,fontFamilies:[n.fontName.fullname],fontSize:n.fontSize},textAlign:t.TextAlign.Left}),{textStyle:o}=r;if(n.textAlignHorizontal==="LEFT"?r.textAlign=t.TextAlign.Left:n.textAlignHorizontal==="RIGHT"?r.textAlign=t.TextAlign.Right:n.textAlignHorizontal==="CENTER"&&(r.textAlign=t.TextAlign.Center),o&&Jm({Raptor:t,styleData:{...n,fillPaints:[],effects:[]},fileData:e,textStyle:o}),o){const{strutStyle:u}=r;u&&(u.strutEnabled=!0,u.fontFamilies=[n.fontName.fullname],u.fontSize=o.fontSize,u.heightMultiplier=n.lineHeight.value,u.fontStyle&&(n.fontStyle==="ITALIC"?u.fontStyle.slant=t.FontSlant.Italic:u.fontStyle.slant=t.FontSlant.Oblique))}return r}function Jm({Raptor:t,fileData:e,styleData:n,textStyle:r}){var o,u;r!=null&&r.fontStyle&&(n.fontStyle==="ITALIC"?r.fontStyle.slant=t.FontSlant.Italic:r.fontStyle.slant=t.FontSlant.Oblique,n.fontWeight==="BOLD"?r.fontStyle.weight=t.FontWeight.Bold:r.fontStyle.weight=t.FontWeight.Normal,n.textDecoration==="UNDERLINE"?(r.decoration=1,r.decorationStyle=t.DecorationStyle.Solid):r.decoration=0),(o=n.fillPaints)!=null&&o[0]?n.fillPaints[0].type==="SOLID"&&(r.color=[n.fillPaints[0].color.r,n.fillPaints[0].color.g,n.fillPaints[0].color.b,n.fillPaints[0].color.a]):r.color=t.TRANSPARENT,n.lineHeight&&(r.heightMultiplier=n.lineHeight.value),(u=n.effects)==null||u.forEach(c=>{if(c.visible&&c.type==="DROP_SHADOW"){const l={blurRadius:e.doScale(c.radius),offset:[e.doScale(c.offset.x),e.doScale(c.offset.y)],color:qt(c.color).toFigmaArray()};r.shadows=[l]}}),r&&(n.fontName&&(r.fontFamilies=[n.fontName.fullname]),n.fontSize&&(r.fontSize=e.doScale(n.fontSize)))}function ls({Raptor:t,layer:e,paragraph:n,scale:r}){e.textAutoResize==="WIDTH_AND_HEIGHT"&&n.layout(e.width*r),e.textAutoResize==="HEIGHT"&&n.layout(e.width*r)}function nA({Raptor:t,fileData:e,layer:n,persistNewParagraph:r}){var h,p;const o={newParagraph:null,strokeList:[],shadowList:[],fillList:[]},u=JE(n),c=tA({Raptor:t,fileData:e,layer:n}),l=t.ParagraphBuilder.MakeFromFontProvider(c,e.fontProvider);if(l.deleteLater(),n.textData&&u.length>0){const w=u.map(T=>{const L=n.textData.characters.slice(T.start,T.end+1),N=n.textData.styleOverrideTable.find(H=>H.styleID===T.styleID),F=new t.TextStyle({});return Jm({Raptor:t,fileData:e,styleData:{...n,...N},textStyle:F}),{start:T.start,end:T.end,blockStyle:F,text:L,fillPaints:(N==null?void 0:N.fillPaints)||n.fillPaints||[]}});l.reset(),w.forEach(T=>{T.blockStyle.shadows=void 0,l.pushStyle(T.blockStyle),l.addText(T.text)});const x=l.build();ls({Raptor:t,layer:n,paragraph:x,scale:e.scale}),r||x.deleteLater(),o.newParagraph=x;let E=0;n.fillPaints.length>E&&(E=n.fillPaints.length),n.textData.styleOverrideTable.forEach(T=>{T.fillPaints&&T.fillPaints.length>E&&(E=T.fillPaints.length)});for(let T=0;T<E;T+=1){l.reset(),w.forEach(N=>{const F=N.fillPaints[T],H=new t.Paint;if(H.deleteLater(),H.setAntiAlias(!0),F&&F.visible){if(F.type==="SOLID"&&H.setColor(qt(F.color).toFigmaArray()),F.type==="GRADIENT_LINEAR"){const q=x.getHeight(),te=eA({Raptor:t,height:q,paint:F});H.setShader(te)}}else H.setColor(t.TRANSPARENT);const $=new t.Paint;$.deleteLater(),$.setStyle(t.PaintStyle.Fill),$.setColor(t.TRANSPARENT),l.pushPaintStyle(N.blockStyle,H,$),l.addText(N.text)});const L=l.build();L.deleteLater(),ls({Raptor:t,layer:n,paragraph:L,scale:e.scale}),o.fillList.push({paragraph:L})}const P=n.strokePaints.length>0?n.strokeWeight:0;(h=n.strokePaints)==null||h.forEach(T=>{if(T.visible){l.reset(),w.forEach(N=>{N.blockStyle.shadows=void 0;const F=new t.Paint;F.deleteLater(),T.type==="SOLID"?F.setColor([T.color.r,T.color.g,T.color.b,T.color.a]):T.type==="GRADIENT_LINEAR"&&F.setColor(qt(T.stops[0].color).toFigmaArray()),F.setAntiAlias(!0),F.setStyle(t.PaintStyle.Stroke),F.setStrokeJoin(Pf({Raptor:t,value:n.strokeJoin})),n.strokeAlign==="CENTER"?F.setStrokeWidth(e.doScale(P)):n.strokeAlign==="INSIDE"?(F.setStrokeWidth(e.doScale(P*2)),F.setBlendMode(t.BlendMode.SrcATop)):n.strokeAlign==="OUTSIDE"&&(F.setStrokeWidth(e.doScale(P*2)),F.setBlendMode(t.BlendMode.DstATop));const H=new t.Paint;H.deleteLater(),H.setStyle(t.PaintStyle.Fill),H.setColor(t.TRANSPARENT),l.pushPaintStyle(N.blockStyle,F,H),l.addText(N.text)});const L=l.build();ls({Raptor:t,layer:n,paragraph:L,scale:e.scale}),L.deleteLater(),o.strokeList.push({paragraph:L})}}),(p=n.effects)==null||p.forEach(T=>{if(T&&T.visible===!0&&T.type==="DROP_SHADOW"){l.reset(),w.forEach(F=>{F.blockStyle.shadows=void 0;const H=new t.Paint;H.deleteLater(),H.setColor([T.color.r,T.color.g,T.color.b,T.color.a]),H.setAntiAlias(!0),H.setStyle(t.PaintStyle.Fill);const $=new t.Paint;$.deleteLater(),$.setStyle(t.PaintStyle.Fill),$.setColor(t.TRANSPARENT),l.pushPaintStyle(F.blockStyle,H,$),l.addText(F.text)});const L=l.build();ls({Raptor:t,layer:n,paragraph:L,scale:e.scale}),L.deleteLater(),l.reset(),w.forEach(F=>{F.blockStyle.shadows=void 0;const H=new t.Paint;H.deleteLater(),H.setColor([T.color.r,T.color.g,T.color.b,T.color.a]),H.setAntiAlias(!0),H.setStrokeJoin(Pf({Raptor:t,value:n.strokeJoin})),H.setStyle(t.PaintStyle.Stroke);let $=0;n.strokeAlign==="CENTER"?$=P+T.spread:n.strokeAlign==="OUTSIDE"&&($=(P+T.spread)*2),H.setStrokeWidth(e.doScale($));const q=new t.Paint;q.deleteLater(),q.setStyle(t.PaintStyle.Fill),q.setColor(t.TRANSPARENT),l.pushPaintStyle(F.blockStyle,H,q),l.addText(F.text)});const N=l.build();ls({Raptor:t,layer:n,paragraph:N,scale:e.scale}),N.deleteLater(),o.shadowList.push({paragraph:L,strokedParagraph:N,offset:{x:T.offset.x,y:T.offset.y},radius:T.radius})}})}return o}function Id({Raptor:t,fileData:e,layer:n,src:r,persistNewParagraph:o}){var p;if(!r)return nA({Raptor:t,fileData:e,layer:n,persistNewParagraph:o});const u={newParagraph:null,strokeList:[],shadowList:[],fillList:[]},{text:c}=r,l=new t.ParagraphStyle({textStyle:{color:t.BLACK}});(p=l.textStyle)!=null&&p.fontStyle&&(n.fontStyle==="ITALIC"?l.textStyle.fontStyle.slant=t.FontSlant.Italic:l.textStyle.fontStyle.slant=t.FontSlant.Oblique,n.fontWeight==="BOLD"?l.textStyle.fontStyle.weight=t.FontWeight.Bold:l.textStyle.fontStyle.weight=t.FontWeight.Normal);const h=e.fontStore.getFontInfo(n.fontName.fullname);if(h&&l.textStyle){l.textStyle.fontFamilies=[h.name],l.textStyle.fontSize=e.doScale(n.fontSize);const{strutStyle:w}=l;if(w&&(w.strutEnabled=!0,w.forceStrutHeight=!0,w.fontFamilies=[h.name],w.fontSize=l.textStyle.fontSize,w.heightMultiplier=n.lineHeight.value,w.fontStyle&&(n.fontStyle==="ITALIC"?w.fontStyle.slant=t.FontSlant.Italic:w.fontStyle.slant=t.FontSlant.Oblique)),h.fontMgr){const x=t.ParagraphBuilder.Make(l,h.fontMgr);x.deleteLater(),x.addText(c);const E=x.build();E.deleteLater(),u.newParagraph=E}}return u}function Jp({fileData:t,layer:e,instanceChain:n}){const r=Zt({localStore:t.localStore,layer:e,instanceChain:n}),o={left:0,top:0,width:r.width,height:r.height};if(r.textAutoResize==="NONE")return o;const c=Id({Raptor:t.Raptor,fileData:t,layer:e}).newParagraph;if(c){if(r.textAutoResize==="HEIGHT"){let l=0;c.getLineMetrics().forEach(p=>{l+=p.height}),o.width=r.width,o.height=l/t.scale}else if(r.textAutoResize==="WIDTH_AND_HEIGHT"){c.layout(t.doScale(1e5));let l=0;c.getLineMetrics().forEach(h=>{h.width>l&&(l=h.width)}),o.width=l/t.scale+e.fontSize/5,o.height=c.getHeight()/t.scale}}return o}let Zm=null;function zk(t){Zm=t}function rA(t,e){return t/1e3*e}function iA(t){return t/1e3+1.2}function oA(t,e){return t==null?void 0:t.map(n=>{const r=n.width*e/128*5;return{...n,width:r}})}function aA(t,e){return t==null?void 0:t.map(n=>({...n,width:n.width*25/512*e}))}function sA(t,e){return t==null?void 0:t.map(n=>({...n,blur:n.blur*e/128*5}))}function Hk(t){const e=t,{fontSize:n,lineSpacing:r,letterSpacing:o,textGlow:u=[],textShadow:c=[],textStroke:l=[]}=t;return e.letterSpacing=rA(o,n),e.lineSpacing=iA(r),e.textGlow=aA(u,n),e.textShadow=sA(c,n),e.textStroke=oA(l,n),e}function jk(t,e,n,r=!0){const o={},u=r?XE():1;n.forEach(l=>{if(l.hidden)return;const{color:h}=uf(l.color,"rgba");o.WebkitTextStroke=`${l.width*2*u}px ${h}`});const c=[];return t.forEach(l=>{const{width:h,color:p,hidden:w}=l;w||c.push(`0 0 ${h*u}px ${uf(p,"rgba").color}`)}),e.forEach(l=>{const{color:h,x:p,y:w,blur:x,hidden:E}=l;E||c.push(`${p*u}px ${w*u}px ${x*u}px ${uf(h,"rgba").color}`)}),o.textShadow=c.join(","),o.color="transparent",o}function Vk(t){return{color:"transparent"}}function Xk(t){const e=Zm;e&&e.getEditor()&&(e.getEditor().root.style.cssText=qm(t))}function lc({localStore:t,layer:e,instanceChain:n,step:r}){let o=0,u=0;const c=t.getFigma();if(c){const h=Jp({fileData:c.context.fileData,layer:e,instanceChain:n});o=h.width,u=h.height}else if(t.libra){const h=Jp({fileData:t.libra.fileData,layer:e,instanceChain:n});o=h.width,u=h.height}else{const h=qE(e);o=h.nextWidth,u=h.nextHeight}const l=ym(e,o,u,e.writingMode==="horizontal-tb"?"left":"right");dn({localStore:t,layer:e,instanceChain:n,data:{left:l.x,top:l.y,width:o,height:u},step:r})}function ey({localStore:t,layer:e,size:n,containerStackMode:r,instanceChain:o,step:u}){const c={};n==="Fill"?(r==="VERTICAL"?c.stackChildAlignSelf="STRETCH":r==="HORIZONTAL"&&(c.stackChildPrimaryGrow=1),e.nodeType==="TEXT"&&(c.textAutoResize="HEIGHT")):(r==="VERTICAL"?c.stackChildAlignSelf="AUTO":r==="HORIZONTAL"&&(c.stackChildPrimaryGrow=0),n==="Fixed"?En(e)==="HORIZONTAL"?c.stackPrimarySizing="FIXED":En(e)==="VERTICAL"&&(c.stackCounterSizing="FIXED"):n==="Hug"&&(c.textAutoResize="WIDTH_AND_HEIGHT",En(e)==="HORIZONTAL"?c.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE":En(e)==="VERTICAL"&&(c.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"))),dn({localStore:t,layer:e,instanceChain:o,data:c,step:u}),e.nodeType==="TEXT"&&lc({localStore:t,layer:e,step:u,instanceChain:o})}function ty({localStore:t,layer:e,size:n,containerStackMode:r,instanceChain:o,step:u}){const c={};n==="Fill"?r==="HORIZONTAL"?c.stackChildAlignSelf="STRETCH":r==="VERTICAL"&&(c.stackChildPrimaryGrow=1):(r==="VERTICAL"?c.stackChildPrimaryGrow=0:r==="HORIZONTAL"&&(c.stackChildAlignSelf="AUTO"),n==="Fixed"?En(e)==="VERTICAL"?c.stackPrimarySizing="FIXED":En(e)==="HORIZONTAL"&&(c.stackCounterSizing="FIXED"):n==="Hug"&&(En(e)==="VERTICAL"?c.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE":En(e)==="HORIZONTAL"&&(c.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"))),dn({localStore:t,layer:e,instanceChain:o,data:c,step:u})}function uA({localStore:t,layer:e,instanceChain:n}){const r=Zt({localStore:t,layer:e,instanceChain:n});if(e.nodeType==="TEXT"&&r.textAutoResize==="WIDTH_AND_HEIGHT")return"Hug";const o=gi(t,e);if(o&&En(o)==="VERTICAL"&&r.stackChildAlignSelf==="STRETCH"||o&&En(o)==="HORIZONTAL"&&r.stackChildPrimaryGrow===1)return"Fill";if(r.stackMode==="HORIZONTAL"){if(r.stackPrimarySizing==="FIXED")return"Fixed";if(r.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}if(r.stackMode==="VERTICAL"){if(r.stackCounterSizing==="FIXED")return"Fixed";if(r.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}return"Fixed"}function cA({localStore:t,layer:e,instanceChain:n}){const r=Zt({localStore:t,layer:e,instanceChain:n}),o=gi(t,e);if(o&&En(o)==="HORIZONTAL"&&r.stackChildAlignSelf==="STRETCH"||o&&En(o)==="VERTICAL"&&r.stackChildPrimaryGrow===1)return"Fill";if(r.stackMode==="VERTICAL"){if(r.stackPrimarySizing==="FIXED")return"Fixed";if(r.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}if(r.stackMode==="HORIZONTAL"){if(r.stackCounterSizing==="FIXED")return"Fixed";if(r.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}return"Fixed"}function Yk(t,e,n){if(!t.getFigma())return null;const o={Fill:!1,Hug:!1,Fixed:!0},u=gi(t,e),c=Zt({localStore:t,layer:e,instanceChain:n});return u&&En(u)!=="NONE"&&c.stackPositioning!=="ABSOLUTE"&&(o.Fill=!0),En(e)!=="NONE"&&(o.Hug=!0),e.nodeType==="TEXT"&&(o.Hug=!0),o}function Zp(t){return t.stackMode==="HORIZONTAL"?{start:"left",size:"width",paddingStart:"stackPaddingLeft",paddtinEnd:"stackPaddingRight"}:{start:"top",size:"height",paddingStart:"stackPaddingTop",paddtinEnd:"stackPaddingBottom"}}function eg(t){return t.stackMode==="HORIZONTAL"?{start:"top",size:"height",paddingStart:"stackPaddingTop",paddtinEnd:"stackPaddingBottom"}:{start:"left",size:"width",paddingStart:"stackPaddingLeft",paddtinEnd:"stackPaddingRight"}}function kd({localStore:t,layer:e,instanceChain:n,options:r}){const o=[...n];if(e.nodeType==="INSTANCE"&&o[o.length-1]===e&&o.pop(),e.parentId){let u=t.getLayer(e.parentId);if(u&&u.stackMode){if(u.nodeType==="SYMBOL"){let c=o.length-1;for(;c>=0;)o[c].symbolData.symbolID.id===u.id&&(u=o[c]),c-=1}return kd({localStore:t,layer:u,instanceChain:o,options:r})}}return(e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&e.stackMode?(e.nodeType==="INSTANCE"&&o[o.length-1]!==e&&o.push(e),{layer:e,instanceChain:o}):null}function $s({localStore:t,layer:e,instanceChain:n,step:r,options:o}){n=Yn(n,e);const u=kd({localStore:t,layer:e,instanceChain:n,options:o});u&&Bs({localStore:t,layer:u.layer,parent:null,instanceChain:u.instanceChain,data:{},constraintsMap:{},step:r,options:o})}function Mf({fileData:t,localStore:e,layer:n,instanceChain:r}){return Os(t,n).filter(o=>{const u=Zt({localStore:e,layer:o,instanceChain:Yn(r,o)});return!(!u.visible||u.stackPositioning==="ABSOLUTE")}).map(o=>({child:o,childInstanceChain:Yn(r,o),childInfo:Zt({localStore:e,layer:o,instanceChain:Yn(r,o)})}))}function lA({localStore:t,instanceChain:e,parentInstanceChain:n,parent:r,layer:o,constraintsMap:u,step:c,options:l}){const h=t.getFigma();if(!h)return;e=Yn(e,o);const p=Zt({localStore:t,layer:o,instanceChain:e});let w=!1,x=!1;p.stackPrimarySizing==="FIXED"&&(w=!0),p.stackCounterSizing==="FIXED"&&(x=!0);const E=Zp(p),P=eg(p);if(r){const T=Zt({localStore:t,layer:r,instanceChain:n});if(p.stackChildPrimaryGrow===1&&T.stackMode!=="NONE"&&T.stackPrimarySizing!=="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"){const L=Zp(T);let N=T[L.size]-T[L.paddingStart]-T[L.paddtinEnd],F=0;Mf({fileData:h.context.fileData,localStore:t,layer:r,instanceChain:n}).forEach(({childInfo:H})=>{H.stackChildPrimaryGrow!==1?N-=H[L.size]:F+=1,N-=T.stackSpacing}),N+=T.stackSpacing,dn({localStore:t,layer:o,instanceChain:e,data:{[L.size]:N/F},step:c}),L.start===E.start?w=!0:x=!0}if(p.stackChildAlignSelf==="STRETCH"){const L=eg(T);T.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"||(dn({localStore:t,layer:o,instanceChain:e,data:{[L.size]:T[L.size]-T[L.paddingStart]-T[L.paddtinEnd]},step:c}),L.start===E.start?w=!0:x=!0)}}if(p.stackMode!=="NONE"){if(o.nodeType==="FRAME"||o.nodeType==="SYMBOL"||o.nodeType==="INSTANCE"){const T=Mf({localStore:t,fileData:h.context.fileData,layer:o,instanceChain:e});let L=0,N=0,F=0;const H=(T.length-1)*p.stackSpacing;if(T.forEach(({child:$,childInfo:q,childInstanceChain:te})=>{Bs({localStore:t,parent:o,layer:$,instanceChain:te,data:{},constraintsMap:u,step:c,options:l}),q[P.size]>L&&(L=q[P.size]),F+=q[E.size]}),w===!1&&p.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&p.stackPrimaryAlignItems!=="SPACE_EVENLY"&&(dn({localStore:t,layer:o,instanceChain:e,data:{[E.size]:p[E.paddingStart]+p[E.paddtinEnd]+F+H},step:c}),w=!0),x===!1&&p.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&(dn({localStore:t,layer:o,instanceChain:e,data:{[P.size]:L+p[P.paddingStart]+p[P.paddtinEnd]},step:c}),x=!0),p.stackPrimaryAlignItems==="SPACE_EVENLY"){let $=p[E.paddingStart];N=p[E.size]-p[E.paddingStart]-p[E.paddtinEnd],T.forEach(({childInfo:q})=>{N-=q[E.size]}),T.length>=2&&(N/=T.length-1),T.forEach(({child:q,childInfo:te,childInstanceChain:re},le)=>{dn({localStore:t,layer:q,instanceChain:re,data:{[E.start]:$},step:c}),$+=te[E.size],le<T.length-1&&($+=N)})}else if(p.stackPrimaryAlignItems==="CENTER"&&w){let $=p[E.paddingStart];$+=(p[E.size]-p[E.paddingStart]-p[E.paddtinEnd]-F-H)/2,T.forEach(({child:q,childInfo:te,childInstanceChain:re})=>{dn({localStore:t,layer:q,instanceChain:re,data:{[E.start]:$},step:c}),$+=te[E.size],$+=p.stackSpacing})}else if(p.stackPrimaryAlignItems==="MAX"){let $=p[E.size]-p[E.paddingStart]-F-H;T.forEach(({child:q,childInfo:te,childInstanceChain:re})=>{dn({localStore:t,layer:q,instanceChain:e,data:{[E.start]:$},step:c}),$+=te[E.size],$+=p.stackSpacing})}else{let $=p[E.paddingStart];T.forEach(({child:q,childInfo:te,childInstanceChain:re})=>{dn({localStore:t,layer:q,instanceChain:re,data:{[E.start]:$},step:c,options:l}),$+=te[E.size],$+=p.stackSpacing})}T.forEach(({child:$,childInfo:q,childInstanceChain:te})=>{p.stackCounterAlignItems==="CENTER"?dn({localStore:t,layer:$,instanceChain:te,data:{[P.start]:(p[P.size]-q[P.size])/2},step:c}):p.stackCounterAlignItems==="MAX"?dn({localStore:t,layer:$,instanceChain:e,data:{[P.start]:p[P.size]-p[P.paddtinEnd]-q[P.size]},step:c}):dn({localStore:t,layer:$,instanceChain:e,data:{[P.start]:p[P.paddingStart]},step:c})})}}}function Bs({localStore:t,layer:e,parent:n,instanceChain:r,constraintsMap:o,data:u,step:c,options:l}){const h=t.getFigma();if(!h)return;let p=[...r];n!==null&&(p=Yn(p,n)),r=Yn(r,e);const w=Zt({localStore:t,layer:e,instanceChain:r});if(n===null&&Ad({localStore:t,layer:e,instanceChain:r,constraintsMap:o}),r[0]&&r[0]===e&&c.update({layer:r[0],data:{derivedSymbolData(x){x.length=0}}}),e.nodeType==="TEXT"&&w.textAutoResize==="WIDTH_AND_HEIGHT"){lc({localStore:t,layer:e,step:c,instanceChain:r});return}if(dn({localStore:t,layer:e,instanceChain:r,data:u,step:c}),e.nodeType!=="SECTION"&&(lA({localStore:t,instanceChain:r,parent:n,parentInstanceChain:p,layer:e,constraintsMap:o,step:c,options:l}),e.nodeType==="TEXT"&&lc({localStore:t,layer:e,step:c,instanceChain:r}),e.nodeType==="FRAME"&&dn({localStore:t,layer:e,instanceChain:r,data:{fillPaints(x){x.forEach(E=>{E.type==="IMAGE"&&W2(e,E.image)})}},step:c}),ny({localStore:t,room:e,instanceChain:r,map:o,step:c}),e.nodeType==="SYMBOL")){const x=Ed(h.context.fileData,e),E={};Ue.forEach(x,P=>{const T=kd({localStore:t,layer:P,instanceChain:[]});T&&(E[T.instanceChain.map(L=>L.id).join("--")]=T)}),Ue.forEach(E,P=>{$s({localStore:t,layer:P.layer,instanceChain:P.instanceChain,step:c})})}}function fA(t,e,n,r){var u,c;const o=t.getFigma();if(o&&Rm(e)){const l=Yn([],e),h={};if(e.stackMode==="HORIZONTAL"&&n==="VERTICAL"||e.stackMode==="VERTICAL"&&n==="HORIZONTAL"){const p=e.stackPrimarySizing,w=e.stackCounterSizing;e.children.forEach(x=>{const E=Yn(l,x),P=uA({localStore:t,layer:x,instanceChain:E}),T=cA({localStore:t,layer:x,instanceChain:E});ey({localStore:t,layer:x,size:P,containerStackMode:n,instanceChain:E,step:r}),ty({localStore:t,layer:x,size:T,containerStackMode:n,step:r,instanceChain:E})}),h.stackPrimarySizing=w,h.stackCounterSizing=p,e.stackPrimaryAlignItems==="SPACE_EVENLY"?(h.stackPrimaryAlignItems="SPACE_EVENLY",h.stackCounterAlignItems="MIN"):(h.stackPrimaryAlignItems=e.stackCounterAlignItems,h.stackCounterAlignItems=e.stackPrimaryAlignItems)}h.stackMode=n,dn({localStore:t,layer:e,instanceChain:l,data:h,step:r}),$s({localStore:t,layer:e,instanceChain:l,step:r}),(c=(u=t.props).doAction)==null||c.call(u,r.getNewAction()),e.nodeType==="SYMBOL"&&rE(o.context,e,p=>{fA(t,p,n,r)})}}function Kk({localStore:t,layer:e,value:n,instanceChain:r,step:o}){var u,c;if(En(e)!=="NONE"){if(n==="SPACE_EVENLY"){const l={stackPrimaryAlignItems:"SPACE_EVENLY"};e.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&(l.stackPrimarySizing="FIXED"),dn({localStore:t,layer:e,instanceChain:r,step:o,data:l})}else dn({localStore:t,layer:e,instanceChain:r,step:o,data:{stackPrimaryAlignItems:"MIN",stackSpacing:n}});$s({localStore:t,layer:e,instanceChain:r,step:o}),(c=(u=t.props).doAction)==null||c.call(u,o.getNewAction())}}function ny({localStore:t,room:e,instanceChain:n,map:r,step:o}){const u=t.getFigma();u&&(n=Yn(n,e),Os(u.context.fileData,e).forEach(c=>{const l=r[c.id];if(c&&l&&e){const h=Sc({localStore:t,layer:e,instanceChain:n}),p={};typeof l.left=="number"&&typeof l.right=="number"?(p.left=l.left,p.width=h.width-l.left-l.right):typeof l.right=="number"?p.left=h.width-l.right-c.width:typeof l.left=="number"&&(p.left=l.left),typeof l.top=="number"&&typeof l.bottom=="number"?(p.top=l.top,p.height=h.height-l.top-l.bottom):typeof l.bottom=="number"?p.top=h.height-l.bottom-c.height:typeof l.top=="number"&&(p.top=l.top),Bs({localStore:t,layer:c,parent:null,instanceChain:n,data:p,constraintsMap:{},step:o})}}))}function dA({localStore:t,fileData:e,layer:n,step:r,width:o,height:u}){const c=Ed(e,n);Ue.forEach(c,l=>{let h=!1;if(n.width.toFixed(1)===l.width.toFixed(1)&&n.height.toFixed(1)===l.height.toFixed(1)?h=!1:h=!0,h){const{left:p,top:w}=Cd({width:o,height:u,t:ir(l)});r.update({layer:l,data:{left:p,top:w,width:o,height:u}})}})}function ry({localStore:t,layer:e,left:n,top:r,width:o,height:u,step:c}){const l=t.getFigma();l?(e.nodeType==="SYMBOL"&&dA({localStore:t,fileData:l.context.fileData,layer:e,width:o,height:u,step:c}),e.nodeType==="INSTANCE"&&dn({localStore:t,layer:e,instanceChain:[e],data:{width:e.width,height:e.height},step:c,isResizingInstanceManually:!0}),Bs({localStore:t,layer:e,parent:null,instanceChain:[],step:c,constraintsMap:{},data:{left:n,top:r,width:o,height:u}})):c.update({layer:e,data:{left:n,top:r,width:o,height:u}})}function hA(t){return t.strokeWidth*10}function Qk({localStore:t,type:e}){const n={nodeType:"svg",id:sm(),guid:t.generateGUID(),parentId:"",name:"",left:0,top:0,width:200,height:20,rotate:0,data:{type:"line",p1:{x:0,y:0},p2:{x:0,y:0},markerEnd:""},stroke:"red",strokeWidth:20,strokeLineJoin:"miter",fill:"transparent",isLocked:!1,shimmerAtApearance:!1,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()}};return e==="rect"&&(n.width=200,n.height=200,n.data={type:"rect"}),iy(n),n}function iy(t){t.data.type==="line"&&(t.height=hA(t),t.data.p1.x=0,t.data.p1.y=t.height/2,t.data.p2.x=t.width,t.data.p2.y=t.height/2),t.data.type}function pA(t,e,n){const r=e.nodeType==="INSTANCE"?[e]:[];if(t.resizeOriginType==="left"||t.resizeOriginType==="right"||t.resizeOriginType==="leftTop"||t.resizeOriginType==="leftBottom"||t.resizeOriginType==="rightTop"||t.resizeOriginType==="rightBottom"){const o=gi(t,e);ey({localStore:t,layer:e,size:"Fixed",containerStackMode:(o==null?void 0:o.stackMode)||"NONE",instanceChain:r,step:n})}if(t.resizeOriginType==="top"||t.resizeOriginType==="bottom"||t.resizeOriginType==="leftTop"||t.resizeOriginType==="leftBottom"||t.resizeOriginType==="rightTop"||t.resizeOriginType==="rightBottom"){const o=gi(t,e);ty({localStore:t,layer:e,size:"Fixed",containerStackMode:(o==null?void 0:o.stackMode)||"NONE",instanceChain:r,step:n})}(t.resizeOriginType==="leftTop"||t.resizeOriginType==="leftBottom"||t.resizeOriginType==="rightTop"||t.resizeOriginType==="rightBottom")&&e.nodeType==="TEXT"&&n.update({layer:e,data:{textAutoResize:"NONE"}})}function qk({localStore:t,layer:e,text:n,step:r,instanceChain:o}){var c,l;dn({localStore:t,layer:e,instanceChain:o,step:r,data:{textData(h){h.characters=n}}}),oy(t,e,o,r);const u=_f(e);t.textLayerOutOfPage===!1&&(u.left>=0&&u.top>=0&&u.left+u.width<=t.props.getPageSize().width&&u.top+u.height<=t.props.getPageSize().height||(t.textLayerOutOfPage=!0)),$s({localStore:t,layer:e,instanceChain:o,step:r}),(l=(c=t.props).doAction)==null||l.call(c,r.getNewAction())}function oy(t,e,n,r){lc({localStore:t,layer:e,step:r,instanceChain:n}),e.parentId&&Td(t,e,{step:r}),t.selectedSingleLayer&&xc(t,t.selectedSingleLayer)}async function Jk(t,e,n){var o,u;t.editingText=!1;const r=gA(t,t.bunchRectangle,e,n);try{const c=bm(t);if(t.selectedSingleLayer){const l=t.selectedSingleLayer;tg(t,[l],r);const h=[];l.nodeType==="INSTANCE"&&h.push(l);let p={};(l.nodeType==="FRAME"||l.nodeType==="SYMBOL"||l.nodeType==="INSTANCE")&&(p=Ad({localStore:t,layer:l,instanceChain:h,constraintsMap:{}})),vs(t,l,e,r,c),xc(t,l),Td(t,l,{step:c}),t.getFigma()&&pA(t,l,c),ny({localStore:t,room:l,map:p,step:c,instanceChain:h}),$s({localStore:t,layer:l,instanceChain:h,step:c})}else tg(t,t.selectedNormalLayerList,r),vs(t,t.bunchRectangle,e,r,c),t.selectedNormalLayerList.forEach(l=>{l&&vs(t,l,e,r,c)});(u=(o=t.props).doAction)==null||u.call(o,c.getNewAction()),t.layersCanBeScaled=!0}catch(c){t.layersCanBeScaled=!1,console.warn(c)}Xm(t,n)}function gA(t,e,n,r){const o=t.getPointInContainer(r),u=pi("rotated",{x:o.x-n.x,y:o.y-n.y},vm(vc(e),n)),{width:c,height:l}=e,h=Math.sqrt(c*c+l*l);return u.x/h}function mA(t,e,n,r,o){const u=n,c=vc(u),l=t.getPointInContainer(e),h={x:l.x-c.x,y:l.y-c.y},p=pi("rotated",h,u.rotate);let w=n.width,x=n.height;if(t.getFigma()){const T=Aa(t);if(T){const L=cc({type:"RESIZING",localStore:t,layer:n,x:"x",width:"width",origin:r,roomSize:{width:T.width,height:T.height}}),N=cc({type:"RESIZING",localStore:t,layer:n,x:"y",width:"height",origin:r,roomSize:{width:T.width,height:T.height}});L&&typeof L.size=="number"&&(w=L.size,t.bunchRectangleXFixed=!0),N&&typeof N.size=="number"&&(x=N.size,t.bunchRectangleYFixed=!0)}}PE(t,e,null);const{LAYER_MINIMUN_SIZE:P}=t.options;return t.bunchRectangleXFixed===!1&&(r==="left"?w=p.x+u.width/2:r==="right"&&(w=-(p.x-u.width/2))),w<P&&(w=P),t.bunchRectangleYFixed===!1&&(r==="top"?x=p.y+u.height/2:r==="bottom"&&(x=-(p.y-u.height/2))),x<P&&(x=P),{x:w,y:x}}function Zk(t,e,n,r,o,u){const c=mA(t,e,n,r);let l=n.width,h=n.height;r==="left"||r==="right"?l=c.x:(r==="top"||r==="bottom")&&(h=c.y);const p=ym(n,l,h,r);ry({localStore:t,layer:n,left:p.x,top:p.y,width:l,height:h,step:o})}function tg(t,e,n){e.forEach(r=>{ay(t,r,n)})}function ay(t,e,n){if(!(n>1)){if(e.nodeType==="TEXT"){if(e.height*n<5)throw new Error("Incoming text layer height is too small!")}else if(e.width*n<t.options.LAYER_MINIMUN_SIZE||e.height*n<t.options.LAYER_MINIMUN_SIZE)throw new Error("")}e.nodeType==="GROUP"&&e.children&&e.children.forEach(r=>{ay(t,r,n)})}function Rd(t,e,n,r,o){const u=vc(e),c={x:u.x-n.x,y:u.y-n.y},l={x:c.x*r+n.x,y:c.y*r+n.y},h=e.width*r,p=e.height*r,w=l.x-h/2,x=l.y-p/2;return ry({localStore:t,layer:e,left:w,top:x,width:h,height:p,step:o}),O2(u,l)}function eR(t,e,n,r,o){const u=Rd(t,e,n,r,o);(e.nodeType==="IMAGE"||e.nodeType==="ROUNDED_RECTANGLE")&&e.image&&z2(e,u)}function vs(t,e,n,r,o){Math.min(e.width*r,e.height*r)>=0&&(Rd(t,e,n,r,o),(e.nodeType==="IMAGE"||e.nodeType==="ROUNDED_RECTANGLE")&&e.image?o.update({layer:e,data:{image(u){u.width*=r,u.height*=r,u.imageX*=r,u.imageY*=r}}}):e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE"?o.update({layer:e,data:{fillPaints(u){u==null||u.forEach(c=>{c.type==="IMAGE"&&(c.image.width*=r,c.image.height*=r,c.image.imageX*=r,c.image.imageY*=r)})}}}):e.nodeType==="video"?(e.video.width*=r,e.video.height*=r):e.nodeType==="svg"?iy(e):e.nodeType==="TEXT"&&(o.update({layer:e,data:{fontSize:e.fontSize*r,strokeWeight:e.strokeWeight*r,effects(u){u.forEach(c=>{c.offset.x*=r,c.offset.y*=r,c.spread*=r,c.radius*=r})}}}),oy(t,e,[],o)),e.nodeType==="GROUP"&&e.children.length>0&&e.children.forEach(u=>vs(t,u,n,r,o)),e.nodeType==="IMAGE"&&e.extra.rectList&&e.extra.rectList.length>0&&e.extra.rectList.forEach(u=>vs(t,u,n,r,o)),(e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&En(e)!=="NONE"&&Bs({localStore:t,layer:e,parent:null,step:o,data:{},instanceChain:[],constraintsMap:{}}))}const yA="WorkspaceView";function vA(){return{positionLeft:0,positionTop:0,workspaceScrollLeft:0,workspaceScrollTop:0,pageScale:1,toolsContainerShow:!0,navigatorShow:!1,layerSettingsContent:"main",isPageCenteredAtX:!1,isPageCenteredAtY:!1,scroll:{x:{totalLength:0,viewportLength:0,barStart:0,barLength:0},y:{totalLength:0,viewportLength:0,barStart:0,barLength:0}}}}function tR(t,e){const{workspaceState:n}=t,r=Ns(e),o=Fs(e),{width:u,height:c}=t.props.getPageSize(),l=t.getPageScale(),h=r/2+u*l/2-40;n.positionLeft>h?n.positionLeft=h:n.positionLeft<-h&&(n.positionLeft=-h);const p=o/2+c*l/2-40;n.positionTop>p?n.positionTop=p:n.positionTop<-p&&(n.positionTop=-p)}function nR({localStore:t,workspaceState:e,workspaceElement:n,safePadding:r}){const o=n||document.querySelector(`.${yA}`);if(o){const u=t.props.getPageSize(),c=Ns(o),l=Fs(o),h=r||60,p=(c-h)/u.width,w=(l-h)/u.height;let x=Math.min(p,w);Number.isNaN(x)&&(x=.3),x<.01&&(x=.01),x>4&&(x=4),e.pageScale=x,e.positionLeft=0,e.positionTop=0}}function wA(t,e,n,r){const o=lm();return o.left=e.left,o.top=e.top,o.width=e.width,o.height=e.height,Rd(t,o,n,r,G2()),o}function sy(t,e,n){const{pageMinScale:r,pageMaxScale:o}=t.options;let u=1;return e>0?(u=n*.7,u<r&&(u=r)):e<0&&(u=n*1.3,u>o&&(u=o)),u}function bA(t,e){const n=t.getPageScale(),r=sy(t,e.deltaY,n),{workspaceState:o}=t,u={left:o.positionLeft,top:o.positionTop,width:t.props.getPageSize().width*t.getPageScale(),height:t.props.getPageSize().height*t.getPageScale()},c=e.currentTarget,l=Tc(c),h=_c(c),p={x:e.pageX-l-Ns(c)/2,y:e.pageY-h-Fs(c)/2},{width:w,height:x}=t.props.getPageSize(),E=o.positionLeft+w*n/2,P=o.positionLeft-w*n/2;p.x>E?p.x=E:p.x<P&&(p.x=P);const T=o.positionTop+x*n/2,L=o.positionTop-x*n/2;p.y>T?p.y=T:p.y<L&&(p.y=L);const N=r*w/(n*w),F=wA(t,u,p,N);o.positionLeft=F.left,o.positionTop=F.top,o.pageScale=r}function rR(t,e){const n=e,{length:r}=Object.keys(t.pointerMap);if(r===1)SA({localStore:t,deltaX:-(n.touches[0].pageX-t.pointerMap[0].current.x),deltaY:-(n.touches[0].pageY-t.pointerMap[0].current.y)});else if(r===2&&n.touches.length===2){const o={x:n.touches[0].pageX,y:n.touches[0].pageY},u={x:n.touches[1].pageX,y:n.touches[1].pageY},c=Tf(o,u),l=$2(o,u),h=Tf(t.pointerMap[0].current,t.pointerMap[1].current),p=c-h;p!==0&&bA(t,{currentTarget:t.workspaceElement,pageX:l.x,pageY:l.y,deltaY:-p}),t.workspaceElement&&uy({localStore:t,workspace:t.workspaceElement})}for(let o=0;o<n.touches.length;o+=1){const u=n.touches[o];t.pointerMap[o]=t.pointerMap[o]||{start:{x:u.pageX,y:u.pageY},current:{x:0,y:0},deltaX:0,deltaY:0};const c=t.pointerMap[o];c&&(c.deltaX=u.pageX-c.current.x,c.deltaY=u.pageY-c.current.y,c.current={x:u.pageX,y:u.pageY})}}function xA({localStore:t,workspaceState:e,pageWidth:n,pageHeight:r,workspaceWidth:o,workspaceHeight:u}){const{safePadding:c}=t.options,{pageScale:l}=e,h=n*l/2+c-o/2,p=r*l/2+c-u/2;return{minX:-h,maxX:h,minY:-p,maxY:p}}function SA({localStore:t,deltaX:e,deltaY:n}){t.workspaceState.isPageCenteredAtX===!1&&(t.workspaceState.positionLeft-=e),t.workspaceState.isPageCenteredAtY===!1&&(t.workspaceState.positionTop-=n),t.workspaceElement&&uy({localStore:t,workspace:t.workspaceElement})}function uy({localStore:t,workspace:e}){const{workspaceState:n}=t,r=t.getPageScale(),{width:o,height:u}=t.props.getPageSize(),c=Ns(e),l=Fs(e),{safePadding:h}=t.options,p=n.positionLeft+c/2-o*r/2,w=c/2-o*r/2-n.positionLeft;p>h&&w>h?(n.positionLeft=0,n.isPageCenteredAtX=!0):(n.isPageCenteredAtX=!1,p>=h?n.positionLeft-=p-h:w>=h&&(n.positionLeft+=w-h));const x=n.positionTop+l/2-u*r/2,E=l/2-u*r/2-n.positionTop;x>h&&E>h?(n.positionTop=0,n.isPageCenteredAtY=!0):(n.isPageCenteredAtY=!1,x>h?n.positionTop-=x-h:E>h&&(n.positionTop+=E-h));const P=xA({localStore:t,workspaceState:n,workspaceWidth:c,workspaceHeight:l,pageWidth:o,pageHeight:u});{n.scroll.x.totalLength=o*r+h*2,n.scroll.x.viewportLength=c;const T=(-n.positionLeft+P.maxX)/(P.maxX*2);n.scroll.x.barLength=n.scroll.x.viewportLength*n.scroll.x.viewportLength/n.scroll.x.totalLength,n.scroll.x.barStart=(n.scroll.x.viewportLength-n.scroll.x.barLength)*T}{n.scroll.y.totalLength=u*r+h*2,n.scroll.y.viewportLength=l;const T=(-n.positionTop+P.maxY)/(P.maxY*2);n.scroll.y.barLength=n.scroll.y.viewportLength*n.scroll.y.viewportLength/n.scroll.y.totalLength,n.scroll.y.barStart=(n.scroll.y.viewportLength-n.scroll.y.barLength)*T}}function iR(t,e,n){const r=t.getPageScale(),o=sy(t,e.deltaY,r),u=e.currentTarget,c=Tc(u),l=_c(u),{width:h,height:p}=t.props.getPageSize(),w=e.pageX-c,x=e.pageY-l,E=(w+u.scrollLeft-n)/(h*r),P=(x+u.scrollTop-n)/(p*r),T=o*h*E+n-w,L=o*p*P+n-x;t.workspaceState.pageScale=o,u.scrollLeft=T,u.scrollTop=L}function cy(t,e){let n={x:0,y:0};return t.canvasElement&&(n=Ld(e,t.canvasElement),n.x+=t.viewport.x,n.y+=t.viewport.y,n.x/=t.scale,n.y/=t.scale),n}function ly({localStore:t,canvasElement:e}){const n=t.getPageScale(),r=e.width/window.devicePixelRatio/2+t.workspaceState.positionLeft-t.props.getPageSize().width*n/2,o=e.height/window.devicePixelRatio/2+t.workspaceState.positionTop-t.props.getPageSize().height*n/2;return{left:r,top:o}}function EA(t,e){if(t.libra){let r={x:0,y:0};if(t.libra.canvasElement){const o=ly({localStore:t,canvasElement:t.libra.canvasElement});r=Ld(e,t.libra.canvasElement),r.x-=o.left,r.y-=o.top,r.x/=t.getPageScale(),r.y/=t.getPageScale()}return r}const n=t.getFigma();return n?cy(n.context.fileData,e):null}function oR({canvasElement:t,fileData:e,e:n}){const r=Ld(n,t);return{x:e.viewport.x+r.x,y:e.viewport.y+r.y}}function Lc({index:t,textData:e,paragraph:n}){const r=e.characters[t],o=n.getLineMetrics();let u=0;for(let c=0;c<o.length;c+=1){const l=o[c];if(r===`
`){if(l.endIncludingNewline-1===t){u=c;break}if(l.startIndex===t){u=c;break}}else if(t===e.characters.length){u=o.length-1;break}else l.startIndex<=t&&(u=c)}return u}function AA({textData:t,paragraph:e,index:n}){const r={total:t.characters.length,index:n,char:t.characters[n]||"",glyph:e.getGlyphInfoAt(n),lineNumber:0},o=Lc({textData:t,paragraph:e,index:n});return r.lineNumber=o,r}function aR(t,e){var o,u;const n=t.selectedSingleLayer,r=Cc(t);if(r&&(n==null?void 0:n.nodeType)==="TEXT"&&n.textData){const c=EA(t,e);if(c){const l=Hm({fileData:r.fileData,info:{type:"layer",layerId:n.id}}),h=wa(l,c);if(r.fileData.paragraphManager.activeParagraph){const p=r.fileData.paragraphManager.activeParagraph;Od({localStore:t,layer:n,paragraph:p,textData:n.textData,scaledX:r.fileData.doScale(h.x),scaledY:r.fileData.doScale(h.y)});const{start:w}=t.selectionInfo.textRange$,{initialSelectionIndex:x}=t.advancedTextEditor;w>x?(t.selectionInfo.textRange$.start=x,t.selectionInfo.textRange$.end=w+1):w===x?(t.selectionInfo.textRange$.start=w,t.selectionInfo.textRange$.end=w+1):(t.selectionInfo.textRange$.start=w,t.selectionInfo.textRange$.end=x)}(u=(o=t.props).doAction)==null||u.call(o,{type:"RerenderCanvas"})}}}function fy({localStore:t,layer:e,line:n}){let r=n.width;return e.textAlignHorizontal==="RIGHT"?r=e.width*t.getPageScale():e.textAlignHorizontal==="CENTER"&&(r=e.width*t.getPageScale()/2+n.width/2),r}function Od({localStore:t,layer:e,paragraph:n,scaledX:r,scaledY:o,textData:u}){const c=n.getClosestGlyphInfoAtCoordinate(r,o);if(c){const l=c.graphemeClusterTextRange.start,h=Lc({textData:u,paragraph:n,index:l}),p=n.getLineMetricsAt(h);if(p){const w=fy({layer:e,line:p,localStore:t});if(r>w){let x=p.endIndex;x>=e.textData.characters.length&&e.textData.characters[e.textData.characters.length-1]===`
`&&(x=e.textData.characters.length-1),x<0&&(x=0),t.selectionInfo.textRange$.start=x,t.selectionInfo.textRange$.end=x;return}}t.selectionInfo.textRange$.start=c.graphemeClusterTextRange.start,t.selectionInfo.textRange$.end=c.graphemeClusterTextRange.start}else t.selectionInfo.textRange$.start=u.characters.length,t.selectionInfo.textRange$.end=u.characters.length}function sR({localStore:t,layer:e}){const{start:n}=t.selectionInfo.textRange$,r=Cc(t);if(r&&e.textData){const o=r.fileData.paragraphManager.activeParagraph;if(o){const u=Lc({index:n,textData:e.textData,paragraph:o}),c=o.getGlyphInfoAt(n);let l=0;if(c)l=c.graphemeLayoutBounds[0];else{const p=o.getLineMetricsAt(u);p&&(l=p.width)}const h=o.getLineMetricsAt(Math.max(0,u-1));if(h){const p=h.baseline;Od({localStore:t,layer:e,paragraph:o,textData:e.textData,scaledX:l,scaledY:p})}}}}function uR({localStore:t,layer:e}){const{start:n}=t.selectionInfo.textRange$,r=Cc(t);if(r&&e.textData){const o=r.fileData.paragraphManager.activeParagraph;if(o){const u=Lc({index:n,textData:e.textData,paragraph:o});let c=u+1;c>o.getNumberOfLines()-1&&(c=o.getNumberOfLines()-1);const l=o.getGlyphInfoAt(n);if(l){const h=l.graphemeLayoutBounds[0],p=o.getLineMetricsAt(c);if(p){const w=p.baseline;console.log({name:"down",start:n,lineNumber:u,targetLineNumber:c,g:l,line:p,left:h,top:w}),Od({localStore:t,layer:e,paragraph:o,textData:e.textData,scaledX:h,scaledY:w})}}}}}function Fd({fileData:t,layer:e,Raptor:n,instanceChain:r,options:o}){var l;const u=Zt({localStore:t.localStore,layer:e,instanceChain:r}),c={withStrokes:ng({layerInfo:u,width:u.width,height:u.height}),withShadow:ng({layerInfo:u,width:u.width,height:u.height})};return(e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&u.frameMaskDisabled!==!0||Os(t,e).map(p=>{const w=[...r];p.nodeType==="INSTANCE"&&w.push(p);const x=Zt({localStore:t.localStore,layer:p,instanceChain:w});return{child:p,nextInstanceChain:w,relativeTransform:ir(x)}}).forEach(({child:p,nextInstanceChain:w,relativeTransform:x})=>{const E=Fd({fileData:t,Raptor:n,layer:p,instanceChain:w,options:o});E.withStrokes=E.withStrokes.map(P=>Ss(x,P)),E.withShadow=E.withShadow.map(P=>Ss(x,P)),c.withStrokes=cf([...c.withStrokes,...E.withStrokes]),c.withShadow=cf([...c.withShadow,...E.withShadow])}),(l=u.effects)==null||l.forEach(h=>{if(h.type==="DROP_SHADOW"&&h.visible&&h.radius>0){const p=h.radius*3,w=Ue.cloneDeep(c.withStrokes);w.forEach((x,E)=>{E===0?(x.x-=p,x.y-=p):E===1?(x.x-=p,x.y+=p):E===2?(x.x+=p,x.y+=p):E===3&&(x.x+=p,x.y-=p),c.withShadow=cf([...c.withShadow,...w])})}}),c}class CA{constructor(e,n){this.lastUpdatedAt=-1,this.pathBoundsList=[],this.instanceMap={},this.relativeTransformDirty=!0,this.relativeTransform=[[1,0,0],[0,1,0],[0,0,1]],this.boundingPointsDirty=!0,this.exportPointsRectDirty=!0,this.fileData=e,this.layer=n}getRelativeTransform(){return this.relativeTransformDirty&&(this.relativeTransform=ir(this.layer),this.relativeTransformDirty=!1),this.relativeTransform}markDirty(){this.relativeTransformDirty=!0,this.markBoundingPointsDirty(),this.markParentDirty()}markBoundingPointsDirty(){this.boundingPointsDirty=!0,this.exportPointsRectDirty=!0}markParentDirty(){const{parentId:e}=this.layer,n=this.fileData.layerAssetsMap[e];n&&(n.markBoundingPointsDirty(),n.markParentDirty())}}function ng({width:t,height:e,layerInfo:n}){let r=0,o=0,u=t,c=e;if(n.strokeGeometry.length>0){let h=0;n.strokeAlign==="CENTER"?h=n.strokeWeight/2:n.strokeAlign==="OUTSIDE"&&(h=n.strokeWeight),r=Math.min(r,r-h),o=Math.min(o,o-h),u=Math.max(u,u+h),c=Math.max(c,c+h)}return[{x:r,y:o},{x:r,y:c},{x:u,y:c},{x:u,y:o}]}function dy(t,e){t&&e(t),t.children&&t.children.forEach(n=>{dy(n,e)})}function _A(t,e){dy(e,n=>{t.layerMap[n.id]=n,t.layerAssetsMap[n.id]=new CA(t,n)})}function rg(t,e){var o,u;const n=t.getLayer(e);if(n)return n;const r=(u=(o=t.props).getDocumentNode)==null?void 0:u.call(o);return r?r.id===e?r:r.children.find(c=>c.id===e)||null:null}var Nd={exports:{}},ya=typeof Reflect=="object"?Reflect:null,ig=ya&&typeof ya.apply=="function"?ya.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},qu;ya&&typeof ya.ownKeys=="function"?qu=ya.ownKeys:Object.getOwnPropertySymbols?qu=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:qu=function(e){return Object.getOwnPropertyNames(e)};function TA(t){console&&console.warn&&console.warn(t)}var hy=Number.isNaN||function(e){return e!==e};function Bt(){Bt.init.call(this)}Nd.exports=Bt;Nd.exports.once=IA;Bt.EventEmitter=Bt;Bt.prototype._events=void 0;Bt.prototype._eventsCount=0;Bt.prototype._maxListeners=void 0;var og=10;function Pc(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Bt,"defaultMaxListeners",{enumerable:!0,get:function(){return og},set:function(t){if(typeof t!="number"||t<0||hy(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");og=t}});Bt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Bt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||hy(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function py(t){return t._maxListeners===void 0?Bt.defaultMaxListeners:t._maxListeners}Bt.prototype.getMaxListeners=function(){return py(this)};Bt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var o=e==="error",u=this._events;if(u!==void 0)o=o&&u.error===void 0;else if(!o)return!1;if(o){var c;if(n.length>0&&(c=n[0]),c instanceof Error)throw c;var l=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw l.context=c,l}var h=u[e];if(h===void 0)return!1;if(typeof h=="function")ig(h,this,n);else for(var p=h.length,w=wy(h,p),r=0;r<p;++r)ig(w[r],this,n);return!0};function gy(t,e,n,r){var o,u,c;if(Pc(n),u=t._events,u===void 0?(u=t._events=Object.create(null),t._eventsCount=0):(u.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),u=t._events),c=u[e]),c===void 0)c=u[e]=n,++t._eventsCount;else if(typeof c=="function"?c=u[e]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),o=py(t),o>0&&c.length>o&&!c.warned){c.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=c.length,TA(l)}return t}Bt.prototype.addListener=function(e,n){return gy(this,e,n,!1)};Bt.prototype.on=Bt.prototype.addListener;Bt.prototype.prependListener=function(e,n){return gy(this,e,n,!0)};function LA(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function my(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=LA.bind(r);return o.listener=n,r.wrapFn=o,o}Bt.prototype.once=function(e,n){return Pc(n),this.on(e,my(this,e,n)),this};Bt.prototype.prependOnceListener=function(e,n){return Pc(n),this.prependListener(e,my(this,e,n)),this};Bt.prototype.removeListener=function(e,n){var r,o,u,c,l;if(Pc(n),o=this._events,o===void 0)return this;if(r=o[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(u=-1,c=r.length-1;c>=0;c--)if(r[c]===n||r[c].listener===n){l=r[c].listener,u=c;break}if(u<0)return this;u===0?r.shift():PA(r,u),r.length===1&&(o[e]=r[0]),o.removeListener!==void 0&&this.emit("removeListener",e,l||n)}return this};Bt.prototype.off=Bt.prototype.removeListener;Bt.prototype.removeAllListeners=function(e){var n,r,o;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var u=Object.keys(r),c;for(o=0;o<u.length;++o)c=u[o],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(o=n.length-1;o>=0;o--)this.removeListener(e,n[o]);return this};function yy(t,e,n){var r=t._events;if(r===void 0)return[];var o=r[e];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?MA(o):wy(o,o.length)}Bt.prototype.listeners=function(e){return yy(this,e,!0)};Bt.prototype.rawListeners=function(e){return yy(this,e,!1)};Bt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):vy.call(t,e)};Bt.prototype.listenerCount=vy;function vy(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Bt.prototype.eventNames=function(){return this._eventsCount>0?qu(this._events):[]};function wy(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function PA(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function MA(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function IA(t,e){return new Promise(function(n,r){function o(c){t.removeListener(e,u),r(c)}function u(){typeof t.removeListener=="function"&&t.removeListener("error",o),n([].slice.call(arguments))}by(t,e,u,{once:!0}),e!=="error"&&kA(t,o,{once:!0})})}function kA(t,e,n){typeof t.on=="function"&&by(t,"error",e,n)}function by(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(u){r.once&&t.removeEventListener(e,o),n(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var RA=Nd.exports;function mi(t){if(typeof t!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=t}typeof Symbol<"u"&&(mi.prototype[Symbol.iterator]=function(){return this});mi.of=function(){var t=arguments,e=t.length,n=0;return new mi(function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}})};mi.empty=function(){var t=new mi(function(){return{done:!0}});return t};mi.fromSequence=function(t){var e=0,n=t.length;return new mi(function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}})};mi.is=function(t){return t instanceof mi?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};var $d=mi;const Dr=Vo($d);var Bd={};Bd.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";Bd.SYMBOL_SUPPORT=typeof Symbol<"u";var OA=$d,xy=Bd,FA=xy.ARRAY_BUFFER_SUPPORT,NA=xy.SYMBOL_SUPPORT;function $A(t){return typeof t=="string"||Array.isArray(t)||FA&&ArrayBuffer.isView(t)?OA.fromSequence(t):typeof t!="object"||t===null?null:NA&&typeof t[Symbol.iterator]=="function"?t[Symbol.iterator]():typeof t.next=="function"?t:null}var Sy=function(e){var n=$A(e);if(!n)throw new Error("obliterator: target is not iterable nor a valid iterator.");return n},BA=Sy,DA=function(e,n){for(var r=arguments.length>1?n:1/0,o=r!==1/0?new Array(r):[],u,c=0,l=BA(e);;){if(c===r)return o;if(u=l.next(),u.done)return c!==n&&(o.length=c),o;o[c++]=u.value}};const Ey=Vo(DA);var GA=$d,UA=Sy,WA=function(){var e=arguments,n=null,r=-1;return new GA(function(){var u=null;do{if(n===null){if(r++,r>=e.length)return{done:!0};n=UA(e[r])}if(u=n.next(),u.done===!0){n=null;continue}break}while(!0);return u})};const zi=Vo(WA);function zA(){const t=arguments[0];for(let e=1,n=arguments.length;e<n;e++)if(arguments[e])for(const r in arguments[e])t[r]=arguments[e][r];return t}let Sn=zA;typeof Object.assign=="function"&&(Sn=Object.assign);function Br(t,e,n,r){const o=t._nodes.get(e);let u=null;return o&&(r==="mixed"?u=o.out&&o.out[n]||o.undirected&&o.undirected[n]:r==="directed"?u=o.out&&o.out[n]:u=o.undirected&&o.undirected[n]),u}function Dn(t){return typeof t=="object"&&t!==null}function Ay(t){let e;for(e in t)return!1;return!0}function Rr(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function Qr(t,e,n){const r={enumerable:!0,configurable:!0};typeof n=="function"?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function ag(t){return!(!Dn(t)||t.attributes&&!Array.isArray(t.attributes))}function HA(){let t=Math.floor(Math.random()*256)&255;return()=>t++}class Dd extends Error{constructor(e){super(),this.name="GraphError",this.message=e}}class Ne extends Dd{constructor(e){super(e),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ne.prototype.constructor)}}class Me extends Dd{constructor(e){super(e),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Me.prototype.constructor)}}class qe extends Dd{constructor(e){super(e),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,qe.prototype.constructor)}}function Cy(t,e){this.key=t,this.attributes=e,this.clear()}Cy.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function _y(t,e){this.key=t,this.attributes=e,this.clear()}_y.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function Ty(t,e){this.key=t,this.attributes=e,this.clear()}Ty.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function Ca(t,e,n,r,o){this.key=e,this.attributes=o,this.undirected=t,this.source=n,this.target=r}Ca.prototype.attach=function(){let t="out",e="in";this.undirected&&(t=e="undirected");const n=this.source.key,r=this.target.key;this.source[t][r]=this,!(this.undirected&&n===r)&&(this.target[e][n]=this)};Ca.prototype.attachMulti=function(){let t="out",e="in";const n=this.source.key,r=this.target.key;this.undirected&&(t=e="undirected");const o=this.source[t],u=o[r];if(typeof u>"u"){o[r]=this,this.undirected&&n===r||(this.target[e][n]=this);return}u.previous=this,this.next=u,o[r]=this,this.target[e][n]=this};Ca.prototype.detach=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][e],delete this.target[r][t]};Ca.prototype.detachMulti=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const Ly=0,Py=1,jA=2,My=3;function ji(t,e,n,r,o,u,c){let l,h,p,w;if(r=""+r,n===Ly){if(l=t._nodes.get(r),!l)throw new Me(`Graph.${e}: could not find the "${r}" node in the graph.`);p=o,w=u}else if(n===My){if(o=""+o,h=t._edges.get(o),!h)throw new Me(`Graph.${e}: could not find the "${o}" edge in the graph.`);const x=h.source.key,E=h.target.key;if(r===x)l=h.target;else if(r===E)l=h.source;else throw new Me(`Graph.${e}: the "${r}" node is not attached to the "${o}" edge (${x}, ${E}).`);p=u,w=c}else{if(h=t._edges.get(r),!h)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`);n===Py?l=h.source:l=h.target,p=o,w=u}return[l,p,w]}function VA(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);return c.attributes[l]}}function XA(t,e,n){t.prototype[e]=function(r,o){const[u]=ji(this,e,n,r,o);return u.attributes}}function YA(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);return c.attributes.hasOwnProperty(l)}}function KA(t,e,n){t.prototype[e]=function(r,o,u,c){const[l,h,p]=ji(this,e,n,r,o,u,c);return l.attributes[h]=p,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:h}),this}}function QA(t,e,n){t.prototype[e]=function(r,o,u,c){const[l,h,p]=ji(this,e,n,r,o,u,c);if(typeof p!="function")throw new Ne(`Graph.${e}: updater should be a function.`);const w=l.attributes,x=p(w[h]);return w[h]=x,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:h}),this}}function qA(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);return delete c.attributes[l],this.emit("nodeAttributesUpdated",{key:c.key,type:"remove",attributes:c.attributes,name:l}),this}}function JA(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);if(!Dn(l))throw new Ne(`Graph.${e}: provided attributes are not a plain object.`);return c.attributes=l,this.emit("nodeAttributesUpdated",{key:c.key,type:"replace",attributes:c.attributes}),this}}function ZA(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);if(!Dn(l))throw new Ne(`Graph.${e}: provided attributes are not a plain object.`);return Sn(c.attributes,l),this.emit("nodeAttributesUpdated",{key:c.key,type:"merge",attributes:c.attributes,data:l}),this}}function eC(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);if(typeof l!="function")throw new Ne(`Graph.${e}: provided updater is not a function.`);return c.attributes=l(c.attributes),this.emit("nodeAttributesUpdated",{key:c.key,type:"update",attributes:c.attributes}),this}}const tC=[{name:t=>`get${t}Attribute`,attacher:VA},{name:t=>`get${t}Attributes`,attacher:XA},{name:t=>`has${t}Attribute`,attacher:YA},{name:t=>`set${t}Attribute`,attacher:KA},{name:t=>`update${t}Attribute`,attacher:QA},{name:t=>`remove${t}Attribute`,attacher:qA},{name:t=>`replace${t}Attributes`,attacher:JA},{name:t=>`merge${t}Attributes`,attacher:ZA},{name:t=>`update${t}Attributes`,attacher:eC}];function nC(t){tC.forEach(function({name:e,attacher:n}){n(t,e("Node"),Ly),n(t,e("Source"),Py),n(t,e("Target"),jA),n(t,e("Opposite"),My)})}function rC(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return u.attributes[o]}}function iC(t,e,n){t.prototype[e]=function(r){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+r,c=""+arguments[1];if(o=Br(this,u,c,n),!o)throw new Me(`Graph.${e}: could not find an edge for the given path ("${u}" - "${c}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return o.attributes}}function oC(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return u.attributes.hasOwnProperty(o)}}function aC(t,e,n){t.prototype[e]=function(r,o,u){let c;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+r,h=""+o;if(o=arguments[2],u=arguments[3],c=Br(this,l,h,n),!c)throw new Me(`Graph.${e}: could not find an edge for the given path ("${l}" - "${h}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,c=this._edges.get(r),!c)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return c.attributes[o]=u,this.emit("edgeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:o}),this}}function sC(t,e,n){t.prototype[e]=function(r,o,u){let c;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+r,h=""+o;if(o=arguments[2],u=arguments[3],c=Br(this,l,h,n),!c)throw new Me(`Graph.${e}: could not find an edge for the given path ("${l}" - "${h}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,c=this._edges.get(r),!c)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof u!="function")throw new Ne(`Graph.${e}: updater should be a function.`);return c.attributes[o]=u(c.attributes[o]),this.emit("edgeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:o}),this}}function uC(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return delete u.attributes[o],this.emit("edgeAttributesUpdated",{key:u.key,type:"remove",attributes:u.attributes,name:o}),this}}function cC(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Dn(o))throw new Ne(`Graph.${e}: provided attributes are not a plain object.`);return u.attributes=o,this.emit("edgeAttributesUpdated",{key:u.key,type:"replace",attributes:u.attributes}),this}}function lC(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Dn(o))throw new Ne(`Graph.${e}: provided attributes are not a plain object.`);return Sn(u.attributes,o),this.emit("edgeAttributesUpdated",{key:u.key,type:"merge",attributes:u.attributes,data:o}),this}}function fC(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof o!="function")throw new Ne(`Graph.${e}: provided updater is not a function.`);return u.attributes=o(u.attributes),this.emit("edgeAttributesUpdated",{key:u.key,type:"update",attributes:u.attributes}),this}}const dC=[{name:t=>`get${t}Attribute`,attacher:rC},{name:t=>`get${t}Attributes`,attacher:iC},{name:t=>`has${t}Attribute`,attacher:oC},{name:t=>`set${t}Attribute`,attacher:aC},{name:t=>`update${t}Attribute`,attacher:sC},{name:t=>`remove${t}Attribute`,attacher:uC},{name:t=>`replace${t}Attributes`,attacher:cC},{name:t=>`merge${t}Attributes`,attacher:lC},{name:t=>`update${t}Attributes`,attacher:fC}];function hC(t){dC.forEach(function({name:e,attacher:n}){n(t,e("Edge"),"mixed"),n(t,e("DirectedEdge"),"directed"),n(t,e("UndirectedEdge"),"undirected")})}const pC=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function gC(t,e,n,r){let o=!1;for(const u in e){if(u===r)continue;const c=e[u];if(o=n(c.key,c.attributes,c.source.key,c.target.key,c.source.attributes,c.target.attributes,c.undirected),t&&o)return c.key}}function mC(t,e,n,r){let o,u,c,l=!1;for(const h in e)if(h!==r){o=e[h];do{if(u=o.source,c=o.target,l=n(o.key,o.attributes,u.key,c.key,u.attributes,c.attributes,o.undirected),t&&l)return o.key;o=o.next}while(o!==void 0)}}function ff(t,e){const n=Object.keys(t),r=n.length;let o,u=0;return new Dr(function(){do if(o)o=o.next;else{if(u>=r)return{done:!0};const l=n[u++];if(l===e){o=void 0;continue}o=t[l]}while(!o);return{done:!1,value:{edge:o.key,attributes:o.attributes,source:o.source.key,target:o.target.key,sourceAttributes:o.source.attributes,targetAttributes:o.target.attributes,undirected:o.undirected}}})}function yC(t,e,n,r){const o=e[n];if(!o)return;const u=o.source,c=o.target;if(r(o.key,o.attributes,u.key,c.key,u.attributes,c.attributes,o.undirected)&&t)return o.key}function vC(t,e,n,r){let o=e[n];if(!o)return;let u=!1;do{if(u=r(o.key,o.attributes,o.source.key,o.target.key,o.source.attributes,o.target.attributes,o.undirected),t&&u)return o.key;o=o.next}while(o!==void 0)}function df(t,e){let n=t[e];return n.next!==void 0?new Dr(function(){if(!n)return{done:!0};const r={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:r}}):Dr.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function wC(t,e){if(t.size===0)return[];if(e==="mixed"||e===t.type)return typeof Array.from=="function"?Array.from(t._edges.keys()):Ey(t._edges.keys(),t._edges.size);const n=e==="undirected"?t.undirectedSize:t.directedSize,r=new Array(n),o=e==="undirected",u=t._edges.values();let c=0,l,h;for(;l=u.next(),l.done!==!0;)h=l.value,h.undirected===o&&(r[c++]=h.key);return r}function Iy(t,e,n,r){if(e.size===0)return;const o=n!=="mixed"&&n!==e.type,u=n==="undirected";let c,l,h=!1;const p=e._edges.values();for(;c=p.next(),c.done!==!0;){if(l=c.value,o&&l.undirected!==u)continue;const{key:w,attributes:x,source:E,target:P}=l;if(h=r(w,x,E.key,P.key,E.attributes,P.attributes,l.undirected),t&&h)return w}}function bC(t,e){if(t.size===0)return Dr.empty();const n=e!=="mixed"&&e!==t.type,r=e==="undirected",o=t._edges.values();return new Dr(function(){let c,l;for(;;){if(c=o.next(),c.done)return c;if(l=c.value,!(n&&l.undirected!==r))break}return{value:{edge:l.key,attributes:l.attributes,source:l.source.key,target:l.target.key,sourceAttributes:l.source.attributes,targetAttributes:l.target.attributes,undirected:l.undirected},done:!1}})}function Gd(t,e,n,r,o,u){const c=e?mC:gC;let l;if(n!=="undirected"&&(r!=="out"&&(l=c(t,o.in,u),t&&l)||r!=="in"&&(l=c(t,o.out,u,r?void 0:o.key),t&&l))||n!=="directed"&&(l=c(t,o.undirected,u),t&&l))return l}function xC(t,e,n,r){const o=[];return Gd(!1,t,e,n,r,function(u){o.push(u)}),o}function SC(t,e,n){let r=Dr.empty();return t!=="undirected"&&(e!=="out"&&typeof n.in<"u"&&(r=zi(r,ff(n.in))),e!=="in"&&typeof n.out<"u"&&(r=zi(r,ff(n.out,e?void 0:n.key)))),t!=="directed"&&typeof n.undirected<"u"&&(r=zi(r,ff(n.undirected))),r}function Ud(t,e,n,r,o,u,c){const l=n?vC:yC;let h;if(e!=="undirected"&&(typeof o.in<"u"&&r!=="out"&&(h=l(t,o.in,u,c),t&&h)||typeof o.out<"u"&&r!=="in"&&(r||o.key!==u)&&(h=l(t,o.out,u,c),t&&h))||e!=="directed"&&typeof o.undirected<"u"&&(h=l(t,o.undirected,u,c),t&&h))return h}function EC(t,e,n,r,o){const u=[];return Ud(!1,t,e,n,r,o,function(c){u.push(c)}),u}function AC(t,e,n,r){let o=Dr.empty();return t!=="undirected"&&(typeof n.in<"u"&&e!=="out"&&r in n.in&&(o=zi(o,df(n.in,r))),typeof n.out<"u"&&e!=="in"&&r in n.out&&(e||n.key!==r)&&(o=zi(o,df(n.out,r)))),t!=="directed"&&typeof n.undirected<"u"&&r in n.undirected&&(o=zi(o,df(n.undirected,r))),o}function CC(t,e){const{name:n,type:r,direction:o}=e;t.prototype[n]=function(u,c){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];if(!arguments.length)return wC(this,r);if(arguments.length===1){u=""+u;const l=this._nodes.get(u);if(typeof l>"u")throw new Me(`Graph.${n}: could not find the "${u}" node in the graph.`);return xC(this.multi,r==="mixed"?this.type:r,o,l)}if(arguments.length===2){u=""+u,c=""+c;const l=this._nodes.get(u);if(!l)throw new Me(`Graph.${n}:  could not find the "${u}" source node in the graph.`);if(!this._nodes.has(c))throw new Me(`Graph.${n}:  could not find the "${c}" target node in the graph.`);return EC(r,this.multi,o,l,c)}throw new Ne(`Graph.${n}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function _C(t,e){const{name:n,type:r,direction:o}=e,u="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(p,w,x){if(!(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)){if(arguments.length===1)return x=p,Iy(!1,this,r,x);if(arguments.length===2){p=""+p,x=w;const E=this._nodes.get(p);if(typeof E>"u")throw new Me(`Graph.${u}: could not find the "${p}" node in the graph.`);return Gd(!1,this.multi,r==="mixed"?this.type:r,o,E,x)}if(arguments.length===3){p=""+p,w=""+w;const E=this._nodes.get(p);if(!E)throw new Me(`Graph.${u}:  could not find the "${p}" source node in the graph.`);if(!this._nodes.has(w))throw new Me(`Graph.${u}:  could not find the "${w}" target node in the graph.`);return Ud(!1,r,this.multi,o,E,w,x)}throw new Ne(`Graph.${u}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const c="map"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){const p=Array.prototype.slice.call(arguments),w=p.pop();let x;if(p.length===0){let E=0;r!=="directed"&&(E+=this.undirectedSize),r!=="undirected"&&(E+=this.directedSize),x=new Array(E);let P=0;p.push((T,L,N,F,H,$,q)=>{x[P++]=w(T,L,N,F,H,$,q)})}else x=[],p.push((E,P,T,L,N,F,H)=>{x.push(w(E,P,T,L,N,F,H))});return this[u].apply(this,p),x};const l="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[l]=function(){const p=Array.prototype.slice.call(arguments),w=p.pop(),x=[];return p.push((E,P,T,L,N,F,H)=>{w(E,P,T,L,N,F,H)&&x.push(E)}),this[u].apply(this,p),x};const h="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[h]=function(){let p=Array.prototype.slice.call(arguments);if(p.length<2||p.length>4)throw new Ne(`Graph.${h}: invalid number of arguments (expecting 2, 3 or 4 and got ${p.length}).`);if(typeof p[p.length-1]=="function"&&typeof p[p.length-2]!="function")throw new Ne(`Graph.${h}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let w,x;p.length===2?(w=p[0],x=p[1],p=[]):p.length===3?(w=p[1],x=p[2],p=[p[0]]):p.length===4&&(w=p[2],x=p[3],p=[p[0],p[1]]);let E=x;return p.push((P,T,L,N,F,H,$)=>{E=w(E,P,T,L,N,F,H,$)}),this[u].apply(this,p),E}}function TC(t,e){const{name:n,type:r,direction:o}=e,u="find"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(h,p,w){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return!1;if(arguments.length===1)return w=h,Iy(!0,this,r,w);if(arguments.length===2){h=""+h,w=p;const x=this._nodes.get(h);if(typeof x>"u")throw new Me(`Graph.${u}: could not find the "${h}" node in the graph.`);return Gd(!0,this.multi,r==="mixed"?this.type:r,o,x,w)}if(arguments.length===3){h=""+h,p=""+p;const x=this._nodes.get(h);if(!x)throw new Me(`Graph.${u}:  could not find the "${h}" source node in the graph.`);if(!this._nodes.has(p))throw new Me(`Graph.${u}:  could not find the "${p}" target node in the graph.`);return Ud(!0,r,this.multi,o,x,p,w)}throw new Ne(`Graph.${u}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const c="some"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[c]=function(){const h=Array.prototype.slice.call(arguments),p=h.pop();return h.push((x,E,P,T,L,N,F)=>p(x,E,P,T,L,N,F)),!!this[u].apply(this,h)};const l="every"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[l]=function(){const h=Array.prototype.slice.call(arguments),p=h.pop();return h.push((x,E,P,T,L,N,F)=>!p(x,E,P,T,L,N,F)),!this[u].apply(this,h)}}function LC(t,e){const{name:n,type:r,direction:o}=e,u=n.slice(0,-1)+"Entries";t.prototype[u]=function(c,l){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return Dr.empty();if(!arguments.length)return bC(this,r);if(arguments.length===1){c=""+c;const h=this._nodes.get(c);if(!h)throw new Me(`Graph.${u}: could not find the "${c}" node in the graph.`);return SC(r,o,h)}if(arguments.length===2){c=""+c,l=""+l;const h=this._nodes.get(c);if(!h)throw new Me(`Graph.${u}:  could not find the "${c}" source node in the graph.`);if(!this._nodes.has(l))throw new Me(`Graph.${u}:  could not find the "${l}" target node in the graph.`);return AC(r,o,h,l)}throw new Ne(`Graph.${u}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function PC(t){pC.forEach(e=>{CC(t,e),_C(t,e),TC(t,e),LC(t,e)})}const MC=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Mc(){this.A=null,this.B=null}Mc.prototype.wrap=function(t){this.A===null?this.A=t:this.B===null&&(this.B=t)};Mc.prototype.has=function(t){return this.A!==null&&t in this.A||this.B!==null&&t in this.B};function ds(t,e,n,r,o){for(const u in r){const c=r[u],l=c.source,h=c.target,p=l===n?h:l;if(e&&e.has(p.key))continue;const w=o(p.key,p.attributes);if(t&&w)return p.key}}function Wd(t,e,n,r,o){if(e!=="mixed"){if(e==="undirected")return ds(t,null,r,r.undirected,o);if(typeof n=="string")return ds(t,null,r,r[n],o)}const u=new Mc;let c;if(e!=="undirected"){if(n!=="out"){if(c=ds(t,null,r,r.in,o),t&&c)return c;u.wrap(r.in)}if(n!=="in"){if(c=ds(t,u,r,r.out,o),t&&c)return c;u.wrap(r.out)}}if(e!=="directed"&&(c=ds(t,u,r,r.undirected,o),t&&c))return c}function IC(t,e,n){if(t!=="mixed"){if(t==="undirected")return Object.keys(n.undirected);if(typeof e=="string")return Object.keys(n[e])}const r=[];return Wd(!1,t,e,n,function(o){r.push(o)}),r}function hs(t,e,n){const r=Object.keys(n),o=r.length;let u=0;return new Dr(function(){let l=null;do{if(u>=o)return t&&t.wrap(n),{done:!0};const h=n[r[u++]],p=h.source,w=h.target;if(l=p===e?w:p,t&&t.has(l.key)){l=null;continue}}while(l===null);return{done:!1,value:{neighbor:l.key,attributes:l.attributes}}})}function kC(t,e,n){if(t!=="mixed"){if(t==="undirected")return hs(null,n,n.undirected);if(typeof e=="string")return hs(null,n,n[e])}let r=Dr.empty();const o=new Mc;return t!=="undirected"&&(e!=="out"&&(r=zi(r,hs(o,n,n.in))),e!=="in"&&(r=zi(r,hs(o,n,n.out)))),t!=="directed"&&(r=zi(r,hs(o,n,n.undirected))),r}function RC(t,e){const{name:n,type:r,direction:o}=e;t.prototype[n]=function(u){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];u=""+u;const c=this._nodes.get(u);if(typeof c>"u")throw new Me(`Graph.${n}: could not find the "${u}" node in the graph.`);return IC(r==="mixed"?this.type:r,o,c)}}function OC(t,e){const{name:n,type:r,direction:o}=e,u="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(p,w){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;p=""+p;const x=this._nodes.get(p);if(typeof x>"u")throw new Me(`Graph.${u}: could not find the "${p}" node in the graph.`);Wd(!1,r==="mixed"?this.type:r,o,x,w)};const c="map"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(p,w){const x=[];return this[u](p,(E,P)=>{x.push(w(E,P))}),x};const l="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[l]=function(p,w){const x=[];return this[u](p,(E,P)=>{w(E,P)&&x.push(E)}),x};const h="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[h]=function(p,w,x){if(arguments.length<3)throw new Ne(`Graph.${h}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let E=x;return this[u](p,(P,T)=>{E=w(E,P,T)}),E}}function FC(t,e){const{name:n,type:r,direction:o}=e,u=n[0].toUpperCase()+n.slice(1,-1),c="find"+u;t.prototype[c]=function(p,w){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;p=""+p;const x=this._nodes.get(p);if(typeof x>"u")throw new Me(`Graph.${c}: could not find the "${p}" node in the graph.`);return Wd(!0,r==="mixed"?this.type:r,o,x,w)};const l="some"+u;t.prototype[l]=function(p,w){return!!this[c](p,w)};const h="every"+u;t.prototype[h]=function(p,w){return!this[c](p,(E,P)=>!w(E,P))}}function NC(t,e){const{name:n,type:r,direction:o}=e,u=n.slice(0,-1)+"Entries";t.prototype[u]=function(c){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return Dr.empty();c=""+c;const l=this._nodes.get(c);if(typeof l>"u")throw new Me(`Graph.${u}: could not find the "${c}" node in the graph.`);return kC(r==="mixed"?this.type:r,o,l)}}function $C(t){MC.forEach(e=>{RC(t,e),OC(t,e),FC(t,e),NC(t,e)})}function Uu(t,e,n,r,o){const u=r._nodes.values(),c=r.type;let l,h,p,w,x,E;for(;l=u.next(),l.done!==!0;){let P=!1;if(h=l.value,c!=="undirected"){w=h.out;for(p in w){x=w[p];do E=x.target,P=!0,o(h.key,E.key,h.attributes,E.attributes,x.key,x.attributes,x.undirected),x=x.next;while(x)}}if(c!=="directed"){w=h.undirected;for(p in w)if(!(e&&h.key>p)){x=w[p];do E=x.target,E.key!==p&&(E=x.source),P=!0,o(h.key,E.key,h.attributes,E.attributes,x.key,x.attributes,x.undirected),x=x.next;while(x)}}n&&!P&&o(h.key,null,h.attributes,null,null,null,null)}}function BC(t,e){const n={key:t};return Ay(e.attributes)||(n.attributes=Sn({},e.attributes)),n}function DC(t,e,n){const r={key:e,source:n.source.key,target:n.target.key};return Ay(n.attributes)||(r.attributes=Sn({},n.attributes)),t==="mixed"&&n.undirected&&(r.undirected=!0),r}function GC(t){if(!Dn(t))throw new Ne('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in t))throw new Ne("Graph.import: serialized node is missing its key.");if("attributes"in t&&(!Dn(t.attributes)||t.attributes===null))throw new Ne("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function UC(t){if(!Dn(t))throw new Ne('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in t))throw new Ne("Graph.import: serialized edge is missing its source.");if(!("target"in t))throw new Ne("Graph.import: serialized edge is missing its target.");if("attributes"in t&&(!Dn(t.attributes)||t.attributes===null))throw new Ne("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in t&&typeof t.undirected!="boolean")throw new Ne("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const WC=HA(),zC=new Set(["directed","undirected","mixed"]),sg=new Set(["domain","_events","_eventsCount","_maxListeners"]),HC=[{name:t=>`${t}Edge`,generateKey:!0},{name:t=>`${t}DirectedEdge`,generateKey:!0,type:"directed"},{name:t=>`${t}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:t=>`${t}EdgeWithKey`},{name:t=>`${t}DirectedEdgeWithKey`,type:"directed"},{name:t=>`${t}UndirectedEdgeWithKey`,type:"undirected"}],jC={allowSelfLoops:!0,multi:!1,type:"mixed"};function VC(t,e,n){if(n&&!Dn(n))throw new Ne(`Graph.addNode: invalid attributes. Expecting an object but got "${n}"`);if(e=""+e,n=n||{},t._nodes.has(e))throw new qe(`Graph.addNode: the "${e}" node already exist in the graph.`);const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function ug(t,e,n){const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function ky(t,e,n,r,o,u,c,l){if(!r&&t.type==="undirected")throw new qe(`Graph.${e}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(r&&t.type==="directed")throw new qe(`Graph.${e}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(l&&!Dn(l))throw new Ne(`Graph.${e}: invalid attributes. Expecting an object but got "${l}"`);if(u=""+u,c=""+c,l=l||{},!t.allowSelfLoops&&u===c)throw new qe(`Graph.${e}: source & target are the same ("${u}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const h=t._nodes.get(u),p=t._nodes.get(c);if(!h)throw new Me(`Graph.${e}: source node "${u}" not found.`);if(!p)throw new Me(`Graph.${e}: target node "${c}" not found.`);const w={key:null,undirected:r,source:u,target:c,attributes:l};if(n)o=t._edgeKeyGenerator();else if(o=""+o,t._edges.has(o))throw new qe(`Graph.${e}: the "${o}" edge already exists in the graph.`);if(!t.multi&&(r?typeof h.undirected[c]<"u":typeof h.out[c]<"u"))throw new qe(`Graph.${e}: an edge linking "${u}" to "${c}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const x=new Ca(r,o,h,p,l);t._edges.set(o,x);const E=u===c;return r?(h.undirectedDegree++,p.undirectedDegree++,E&&(h.undirectedLoops++,t._undirectedSelfLoopCount++)):(h.outDegree++,p.inDegree++,E&&(h.directedLoops++,t._directedSelfLoopCount++)),t.multi?x.attachMulti():x.attach(),r?t._undirectedSize++:t._directedSize++,w.key=o,t.emit("edgeAdded",w),o}function XC(t,e,n,r,o,u,c,l,h){if(!r&&t.type==="undirected")throw new qe(`Graph.${e}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(r&&t.type==="directed")throw new qe(`Graph.${e}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(l){if(h){if(typeof l!="function")throw new Ne(`Graph.${e}: invalid updater function. Expecting a function but got "${l}"`)}else if(!Dn(l))throw new Ne(`Graph.${e}: invalid attributes. Expecting an object but got "${l}"`)}u=""+u,c=""+c;let p;if(h&&(p=l,l=void 0),!t.allowSelfLoops&&u===c)throw new qe(`Graph.${e}: source & target are the same ("${u}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let w=t._nodes.get(u),x=t._nodes.get(c),E,P;if(!n&&(E=t._edges.get(o),E)){if((E.source.key!==u||E.target.key!==c)&&(!r||E.source.key!==c||E.target.key!==u))throw new qe(`Graph.${e}: inconsistency detected when attempting to merge the "${o}" edge with "${u}" source & "${c}" target vs. ("${E.source.key}", "${E.target.key}").`);P=E}if(!P&&!t.multi&&w&&(P=r?w.undirected[c]:w.out[c]),P){const H=[P.key,!1,!1,!1];if(h?!p:!l)return H;if(h){const $=P.attributes;P.attributes=p($),t.emit("edgeAttributesUpdated",{type:"replace",key:P.key,attributes:P.attributes})}else Sn(P.attributes,l),t.emit("edgeAttributesUpdated",{type:"merge",key:P.key,attributes:P.attributes,data:l});return H}l=l||{},h&&p&&(l=p(l));const T={key:null,undirected:r,source:u,target:c,attributes:l};if(n)o=t._edgeKeyGenerator();else if(o=""+o,t._edges.has(o))throw new qe(`Graph.${e}: the "${o}" edge already exists in the graph.`);let L=!1,N=!1;w||(w=ug(t,u,{}),L=!0,u===c&&(x=w,N=!0)),x||(x=ug(t,c,{}),N=!0),E=new Ca(r,o,w,x,l),t._edges.set(o,E);const F=u===c;return r?(w.undirectedDegree++,x.undirectedDegree++,F&&(w.undirectedLoops++,t._undirectedSelfLoopCount++)):(w.outDegree++,x.inDegree++,F&&(w.directedLoops++,t._directedSelfLoopCount++)),t.multi?E.attachMulti():E.attach(),r?t._undirectedSize++:t._directedSize++,T.key=o,t.emit("edgeAdded",T),[o,!0,L,N]}function ha(t,e){t._edges.delete(e.key);const{source:n,target:r,attributes:o}=e,u=e.undirected,c=n===r;u?(n.undirectedDegree--,r.undirectedDegree--,c&&(n.undirectedLoops--,t._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,c&&(n.directedLoops--,t._directedSelfLoopCount--)),t.multi?e.detachMulti():e.detach(),u?t._undirectedSize--:t._directedSize--,t.emit("edgeDropped",{key:e.key,attributes:o,source:n.key,target:r.key,undirected:u})}class Gt extends RA.EventEmitter{constructor(e){if(super(),e=Sn({},jC,e),typeof e.multi!="boolean")throw new Ne(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${e.multi}".`);if(!zC.has(e.type))throw new Ne(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${e.type}".`);if(typeof e.allowSelfLoops!="boolean")throw new Ne(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${e.allowSelfLoops}".`);const n=e.type==="mixed"?Cy:e.type==="directed"?_y:Ty;Rr(this,"NodeDataClass",n);const r="geid_"+WC()+"_";let o=0;const u=()=>{let c;do c=r+o++;while(this._edges.has(c));return c};Rr(this,"_attributes",{}),Rr(this,"_nodes",new Map),Rr(this,"_edges",new Map),Rr(this,"_directedSize",0),Rr(this,"_undirectedSize",0),Rr(this,"_directedSelfLoopCount",0),Rr(this,"_undirectedSelfLoopCount",0),Rr(this,"_edgeKeyGenerator",u),Rr(this,"_options",e),sg.forEach(c=>Rr(this,c,this[c])),Qr(this,"order",()=>this._nodes.size),Qr(this,"size",()=>this._edges.size),Qr(this,"directedSize",()=>this._directedSize),Qr(this,"undirectedSize",()=>this._undirectedSize),Qr(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),Qr(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),Qr(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),Qr(this,"multi",this._options.multi),Qr(this,"type",this._options.type),Qr(this,"allowSelfLoops",this._options.allowSelfLoops),Qr(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(e){return this._nodes.has(""+e)}hasDirectedEdge(e,n){if(this.type==="undirected")return!1;if(arguments.length===1){const r=""+e,o=this._edges.get(r);return!!o&&!o.undirected}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?r.out.hasOwnProperty(n):!1}throw new Ne(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(e,n){if(this.type==="directed")return!1;if(arguments.length===1){const r=""+e,o=this._edges.get(r);return!!o&&o.undirected}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?r.undirected.hasOwnProperty(n):!1}throw new Ne(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(e,n){if(arguments.length===1){const r=""+e;return this._edges.has(r)}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?typeof r.out<"u"&&r.out.hasOwnProperty(n)||typeof r.undirected<"u"&&r.undirected.hasOwnProperty(n):!1}throw new Ne(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(e,n){if(this.type==="undirected")return;if(e=""+e,n=""+n,this.multi)throw new qe("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const r=this._nodes.get(e);if(!r)throw new Me(`Graph.directedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Me(`Graph.directedEdge: could not find the "${n}" target node in the graph.`);const o=r.out&&r.out[n]||void 0;if(o)return o.key}undirectedEdge(e,n){if(this.type==="directed")return;if(e=""+e,n=""+n,this.multi)throw new qe("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const r=this._nodes.get(e);if(!r)throw new Me(`Graph.undirectedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Me(`Graph.undirectedEdge: could not find the "${n}" target node in the graph.`);const o=r.undirected&&r.undirected[n]||void 0;if(o)return o.key}edge(e,n){if(this.multi)throw new qe("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.edge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Me(`Graph.edge: could not find the "${n}" target node in the graph.`);const o=r.out&&r.out[n]||r.undirected&&r.undirected[n]||void 0;if(o)return o.key}areDirectedNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areDirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.in||n in r.out}areOutNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areOutNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.out}areInNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areInNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.in}areUndirectedNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areUndirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="directed"?!1:n in r.undirected}areNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&(n in r.in||n in r.out)||this.type!=="directed"&&n in r.undirected}areInboundNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areInboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&n in r.in||this.type!=="directed"&&n in r.undirected}areOutboundNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areOutboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&n in r.out||this.type!=="directed"&&n in r.undirected}inDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.inDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree}outDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.outDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.outDegree}directedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.directedDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree}undirectedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.undirectedDegree: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree}inboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.inboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree),r}outboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.outboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.outDegree),r}degree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.degree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree),r}inDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.inDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree-n.directedLoops}outDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.outDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.outDegree-n.directedLoops}directedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.directedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree-n.directedLoops*2}undirectedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree-n.undirectedLoops*2}inboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,o=0;return this.type!=="directed"&&(r+=n.undirectedDegree,o+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree,o+=n.directedLoops),r-o}outboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,o=0;return this.type!=="directed"&&(r+=n.undirectedDegree,o+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.outDegree,o+=n.directedLoops),r-o}degreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.degreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,o=0;return this.type!=="directed"&&(r+=n.undirectedDegree,o+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree,o+=n.directedLoops*2),r-o}source(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.source: could not find the "${e}" edge in the graph.`);return n.source.key}target(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.target: could not find the "${e}" edge in the graph.`);return n.target.key}extremities(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.extremities: could not find the "${e}" edge in the graph.`);return[n.source.key,n.target.key]}opposite(e,n){e=""+e,n=""+n;const r=this._edges.get(n);if(!r)throw new Me(`Graph.opposite: could not find the "${n}" edge in the graph.`);const o=r.source.key,u=r.target.key;if(e===o)return u;if(e===u)return o;throw new Me(`Graph.opposite: the "${e}" node is not attached to the "${n}" edge (${o}, ${u}).`)}hasExtremity(e,n){e=""+e,n=""+n;const r=this._edges.get(e);if(!r)throw new Me(`Graph.hasExtremity: could not find the "${e}" edge in the graph.`);return r.source.key===n||r.target.key===n}isUndirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.isUndirected: could not find the "${e}" edge in the graph.`);return n.undirected}isDirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.isDirected: could not find the "${e}" edge in the graph.`);return!n.undirected}isSelfLoop(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.isSelfLoop: could not find the "${e}" edge in the graph.`);return n.source===n.target}addNode(e,n){return VC(this,e,n).key}mergeNode(e,n){if(n&&!Dn(n))throw new Ne(`Graph.mergeNode: invalid attributes. Expecting an object but got "${n}"`);e=""+e,n=n||{};let r=this._nodes.get(e);return r?(n&&(Sn(r.attributes,n),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:r.attributes,data:n})),[e,!1]):(r=new this.NodeDataClass(e,n),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:n}),[e,!0])}updateNode(e,n){if(n&&typeof n!="function")throw new Ne(`Graph.updateNode: invalid updater function. Expecting a function but got "${n}"`);e=""+e;let r=this._nodes.get(e);if(r){if(n){const u=r.attributes;r.attributes=n(u),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:r.attributes})}return[e,!1]}const o=n?n({}):{};return r=new this.NodeDataClass(e,o),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:o}),[e,!0]}dropNode(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.dropNode: could not find the "${e}" node in the graph.`);let r;if(this.type!=="undirected"){for(const o in n.out){r=n.out[o];do ha(this,r),r=r.next;while(r)}for(const o in n.in){r=n.in[o];do ha(this,r),r=r.next;while(r)}}if(this.type!=="directed")for(const o in n.undirected){r=n.undirected[o];do ha(this,r),r=r.next;while(r)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:n.attributes})}dropEdge(e){let n;if(arguments.length>1){const r=""+arguments[0],o=""+arguments[1];if(n=Br(this,r,o,this.type),!n)throw new Me(`Graph.dropEdge: could not find the "${r}" -> "${o}" edge in the graph.`)}else if(e=""+e,n=this._edges.get(e),!n)throw new Me(`Graph.dropEdge: could not find the "${e}" edge in the graph.`);return ha(this,n),this}dropDirectedEdge(e,n){if(arguments.length<2)throw new qe("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new qe("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");e=""+e,n=""+n;const r=Br(this,e,n,"directed");if(!r)throw new Me(`Graph.dropDirectedEdge: could not find a "${e}" -> "${n}" edge in the graph.`);return ha(this,r),this}dropUndirectedEdge(e,n){if(arguments.length<2)throw new qe("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new qe("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const r=Br(this,e,n,"undirected");if(!r)throw new Me(`Graph.dropUndirectedEdge: could not find a "${e}" -> "${n}" edge in the graph.`);return ha(this,r),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const e=this._nodes.values();let n;for(;n=e.next(),n.done!==!0;)n.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(e){return this._attributes[e]}getAttributes(){return this._attributes}hasAttribute(e){return this._attributes.hasOwnProperty(e)}setAttribute(e,n){return this._attributes[e]=n,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}updateAttribute(e,n){if(typeof n!="function")throw new Ne("Graph.updateAttribute: updater should be a function.");const r=this._attributes[e];return this._attributes[e]=n(r),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}removeAttribute(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this}replaceAttributes(e){if(!Dn(e))throw new Ne("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(e){if(!Dn(e))throw new Ne("Graph.mergeAttributes: provided attributes are not a plain object.");return Sn(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this}updateAttributes(e){if(typeof e!="function")throw new Ne("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(e,n){if(typeof e!="function")throw new Ne("Graph.updateEachNodeAttributes: expecting an updater function.");if(n&&!ag(n))throw new Ne("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._nodes.values();let o,u;for(;o=r.next(),o.done!==!0;)u=o.value,u.attributes=e(u.key,u.attributes);this.emit("eachNodeAttributesUpdated",{hints:n||null})}updateEachEdgeAttributes(e,n){if(typeof e!="function")throw new Ne("Graph.updateEachEdgeAttributes: expecting an updater function.");if(n&&!ag(n))throw new Ne("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._edges.values();let o,u,c,l;for(;o=r.next(),o.done!==!0;)u=o.value,c=u.source,l=u.target,u.attributes=e(u.key,u.attributes,c.key,l.key,c.attributes,l.attributes,u.undirected);this.emit("eachEdgeAttributesUpdated",{hints:n||null})}forEachAdjacencyEntry(e){if(typeof e!="function")throw new Ne("Graph.forEachAdjacencyEntry: expecting a callback.");Uu(!1,!1,!1,this,e)}forEachAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new Ne("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");Uu(!1,!1,!0,this,e)}forEachAssymetricAdjacencyEntry(e){if(typeof e!="function")throw new Ne("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");Uu(!1,!0,!1,this,e)}forEachAssymetricAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new Ne("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");Uu(!1,!0,!0,this,e)}nodes(){return typeof Array.from=="function"?Array.from(this._nodes.keys()):Ey(this._nodes.keys(),this._nodes.size)}forEachNode(e){if(typeof e!="function")throw new Ne("Graph.forEachNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)o=r.value,e(o.key,o.attributes)}findNode(e){if(typeof e!="function")throw new Ne("Graph.findNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)if(o=r.value,e(o.key,o.attributes))return o.key}mapNodes(e){if(typeof e!="function")throw new Ne("Graph.mapNode: expecting a callback.");const n=this._nodes.values();let r,o;const u=new Array(this.order);let c=0;for(;r=n.next(),r.done!==!0;)o=r.value,u[c++]=e(o.key,o.attributes);return u}someNode(e){if(typeof e!="function")throw new Ne("Graph.someNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)if(o=r.value,e(o.key,o.attributes))return!0;return!1}everyNode(e){if(typeof e!="function")throw new Ne("Graph.everyNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)if(o=r.value,!e(o.key,o.attributes))return!1;return!0}filterNodes(e){if(typeof e!="function")throw new Ne("Graph.filterNodes: expecting a callback.");const n=this._nodes.values();let r,o;const u=[];for(;r=n.next(),r.done!==!0;)o=r.value,e(o.key,o.attributes)&&u.push(o.key);return u}reduceNodes(e,n){if(typeof e!="function")throw new Ne("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new Ne("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let r=n;const o=this._nodes.values();let u,c;for(;u=o.next(),u.done!==!0;)c=u.value,r=e(r,c.key,c.attributes);return r}nodeEntries(){const e=this._nodes.values();return new Dr(()=>{const n=e.next();if(n.done)return n;const r=n.value;return{value:{node:r.key,attributes:r.attributes},done:!1}})}export(){const e=new Array(this._nodes.size);let n=0;this._nodes.forEach((o,u)=>{e[n++]=BC(u,o)});const r=new Array(this._edges.size);return n=0,this._edges.forEach((o,u)=>{r[n++]=DC(this.type,u,o)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:r}}import(e,n=!1){if(e instanceof Gt)return e.forEachNode((h,p)=>{n?this.mergeNode(h,p):this.addNode(h,p)}),e.forEachEdge((h,p,w,x,E,P,T)=>{n?T?this.mergeUndirectedEdgeWithKey(h,w,x,p):this.mergeDirectedEdgeWithKey(h,w,x,p):T?this.addUndirectedEdgeWithKey(h,w,x,p):this.addDirectedEdgeWithKey(h,w,x,p)}),this;if(!Dn(e))throw new Ne("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!Dn(e.attributes))throw new Ne("Graph.import: invalid attributes. Expecting a plain object.");n?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}let r,o,u,c,l;if(e.nodes){if(u=e.nodes,!Array.isArray(u))throw new Ne("Graph.import: invalid nodes. Expecting an array.");for(r=0,o=u.length;r<o;r++){c=u[r],GC(c);const{key:h,attributes:p}=c;n?this.mergeNode(h,p):this.addNode(h,p)}}if(e.edges){let h=!1;if(this.type==="undirected"&&(h=!0),u=e.edges,!Array.isArray(u))throw new Ne("Graph.import: invalid edges. Expecting an array.");for(r=0,o=u.length;r<o;r++){l=u[r],UC(l);const{source:p,target:w,attributes:x,undirected:E=h}=l;let P;"key"in l?(P=n?E?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:E?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,P.call(this,l.key,p,w,x)):(P=n?E?this.mergeUndirectedEdge:this.mergeDirectedEdge:E?this.addUndirectedEdge:this.addDirectedEdge,P.call(this,p,w,x))}}return this}nullCopy(e){const n=new Gt(Sn({},this._options,e));return n.replaceAttributes(Sn({},this.getAttributes())),n}emptyCopy(e){const n=this.nullCopy(e);return this._nodes.forEach((r,o)=>{const u=Sn({},r.attributes);r=new n.NodeDataClass(o,u),n._nodes.set(o,r)}),n}copy(e){if(e=e||{},typeof e.type=="string"&&e.type!==this.type&&e.type!=="mixed")throw new qe(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${e.type}" because this would mean losing information about the current graph.`);if(typeof e.multi=="boolean"&&e.multi!==this.multi&&e.multi!==!0)throw new qe("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof e.allowSelfLoops=="boolean"&&e.allowSelfLoops!==this.allowSelfLoops&&e.allowSelfLoops!==!0)throw new qe("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const n=this.emptyCopy(e),r=this._edges.values();let o,u;for(;o=r.next(),o.done!==!0;)u=o.value,ky(n,"copy",!1,u.undirected,u.key,u.source.key,u.target.key,Sn({},u.attributes));return n}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const e={};this._nodes.forEach((u,c)=>{e[c]=u.attributes});const n={},r={};this._edges.forEach((u,c)=>{const l=u.undirected?"--":"->";let h="",p=u.source.key,w=u.target.key,x;u.undirected&&p>w&&(x=p,p=w,w=x);const E=`(${p})${l}(${w})`;c.startsWith("geid_")?this.multi&&(typeof r[E]>"u"?r[E]=0:r[E]++,h+=`${r[E]}. `):h+=`[${c}]: `,h+=E,n[h]=u.attributes});const o={};for(const u in this)this.hasOwnProperty(u)&&!sg.has(u)&&typeof this[u]!="function"&&typeof u!="symbol"&&(o[u]=this[u]);return o.attributes=this._attributes,o.nodes=e,o.edges=n,Rr(o,"constructor",this.constructor),o}}typeof Symbol<"u"&&(Gt.prototype[Symbol.for("nodejs.util.inspect.custom")]=Gt.prototype.inspect);HC.forEach(t=>{["add","merge","update"].forEach(e=>{const n=t.name(e),r=e==="add"?ky:XC;t.generateKey?Gt.prototype[n]=function(o,u,c){return r(this,n,!0,(t.type||this.type)==="undirected",null,o,u,c,e==="update")}:Gt.prototype[n]=function(o,u,c,l){return r(this,n,!1,(t.type||this.type)==="undirected",o,u,c,l,e==="update")}})});nC(Gt);hC(Gt);PC(Gt);$C(Gt);class Ry extends Gt{constructor(e){const n=Sn({type:"directed"},e);if("multi"in n&&n.multi!==!1)throw new Ne("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="directed")throw new Ne('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Oy extends Gt{constructor(e){const n=Sn({type:"undirected"},e);if("multi"in n&&n.multi!==!1)throw new Ne("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="undirected")throw new Ne('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class zd extends Gt{constructor(e){const n=Sn({multi:!0},e);if("multi"in n&&n.multi!==!0)throw new Ne("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(n)}}class Fy extends Gt{constructor(e){const n=Sn({type:"directed",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new Ne("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="directed")throw new Ne('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Ny extends Gt{constructor(e){const n=Sn({type:"undirected",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new Ne("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="undirected")throw new Ne('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}function _a(t){t.from=function(e,n){const r=Sn({},e.options,n),o=new t(r);return o.import(e),o}}_a(Gt);_a(Ry);_a(Oy);_a(zd);_a(Fy);_a(Ny);Gt.Graph=Gt;Gt.DirectedGraph=Ry;Gt.UndirectedGraph=Oy;Gt.MultiGraph=zd;Gt.MultiDirectedGraph=Fy;Gt.MultiUndirectedGraph=Ny;Gt.InvalidArgumentsGraphError=Ne;Gt.NotFoundGraphError=Me;Gt.UsageGraphError=qe;var YC=function(e){return e!==null&&typeof e=="object"&&typeof e.addUndirectedEdgeWithKey=="function"&&typeof e.dropNode=="function"&&typeof e.multi=="boolean"};function Yo(t){this.graph=t,this.stack=new Array(t.order),this.seen=new Set,this.size=0}Yo.prototype.hasAlreadySeenEverything=function(){return this.seen.size===this.graph.order};Yo.prototype.countUnseenNodes=function(){return this.graph.order-this.seen.size};Yo.prototype.forEachNodeYetUnseen=function(t){var e=this.seen,n=this.graph;n.someNode(function(r,o){if(e.size===n.order)return!0;if(e.has(r))return!1;var u=t(r,o);return!!u})};Yo.prototype.has=function(t){return this.seen.has(t)};Yo.prototype.push=function(t){var e=this.seen.size;return this.seen.add(t),e===this.seen.size?!1:(this.stack[this.size++]=t,!0)};Yo.prototype.pushWith=function(t,e){var n=this.seen.size;return this.seen.add(t),n===this.seen.size?!1:(this.stack[this.size++]=e,!0)};Yo.prototype.pop=function(){if(this.size!==0)return this.stack[--this.size]};var KC=YC;function QC(t){if(!KC(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!t.order)return[];if(t.type==="undirected")throw new Error("graphology-components: the given graph is undirected");var e=t.nodes(),n=[],r,o;if(!t.size){for(r=0,o=e.length;r<o;r++)n.push([e[r]]);return n}var u=1,c=[],l=[],h=new Map,p=new Set,w,x,E,P=function(T){var L,N=t.outboundNeighbors(T),F;h.set(T,u++),c.push(T),l.push(T);for(var H=0,$=N.length;H<$;H++)if(L=N[H],h.has(L)){if(F=h.get(L),!p.has(L))for(;h.get(c[c.length-1])>F;)c.pop()}else P(L);if(h.get(c[c.length-1])===h.get(T)){w=[];do x=l.pop(),w.push(x),p.add(x);while(x!==T);n.push(w),c.pop()}};for(r=0,o=e.length;r<o;r++)E=e[r],p.has(E)||P(E);return n}var qC=QC;function JC({vectorData:t,localStore:e}){var c;const n=e.getFigma(),r=new zd;t.vectorNetwork.vertices.forEach((l,h)=>{r.addNode(h)}),t.vectorNetwork.segments.forEach((l,h)=>{r.addUndirectedEdge(l.start.vertex,l.end.vertex,{})});const o=qC(r);if((c=e.vectorEditor)==null||c.closedPathList.forEach(l=>{l.delete()}),e.vectorEditor={graph:r,closedPathList:[]},!n)return;const{Raptor:u}=n.context;console.log({componentList:o}),o.forEach(l=>{var h;if(l.length>1){const p=new u.Path;l.reverse(),l.forEach((w,x)=>{const E=t.vectorNetwork.vertices[w],P=t.vectorNetwork.vertices[l[x+1]];if(x===0&&p.moveTo(E.x,E.y),E&&P){const T=ZC({vectorData:t,startVid:w,endVid:l[x+1]});T&&(T.start.dx===0&&T.start.dy===0&&T.end.dx===0&&T.end.dy===0?p.lineTo(T.end.x,T.end.dy):p.cubicTo(T.start.x+T.start.dx,T.start.y+T.start.dy,T.end.x+T.end.dx,T.end.y+T.end.dy,T.end.x,T.end.y))}}),p.close(),(h=e.vectorEditor)==null||h.closedPathList.push(p)}})}function ZC({vectorData:t,startVid:e,endVid:n}){let r=null;if(t.vectorNetwork.segments.forEach(o=>{`${o.start.vertex}`===e&&`${o.end.vertex}`===n&&(r=o)}),r!==null){const o=t.vectorNetwork.vertices[e],u=t.vectorNetwork.vertices[n];return{start:{x:o.x,y:o.y,dx:r.start.dx,dy:r.start.dy},end:{x:u.x,y:u.y,dx:r.end.dx,dy:r.end.dy}}}return null}function ps({layer:t,normalizedPoint:e}){return t.width===0?e:{x:e.x/t.vectorData.normalizedSize.x*t.width,y:e.y/t.vectorData.normalizedSize.y*t.height}}function cR({layer:t,localPoint:e}){return t.width===0?e:{x:t.vectorData.normalizedSize.x/t.width*e.x,y:t.vectorData.normalizedSize.y/t.height*e.y}}function e_(t){const{vertices:e,segments:n}=t.vectorNetwork;let r=1/0,o=-1/0,u=1/0,c=-1/0;return e.forEach(l=>{r=Math.min(r,l.x),o=Math.max(o,l.x),u=Math.min(u,l.y),c=Math.max(c,l.y)}),n.forEach(l=>{const h=e[l.start.vertex],p=e[l.end.vertex];if(!(l.start.dx===0&&l.start.dy===0&&l.end.dx===0&&l.end.dy===0)){const w=wm(h.x,h.y,h.x+l.start.dx,h.y+l.start.dy,p.x+l.end.dx,p.y+l.end.dy,p.x,p.y);r=Math.min(r,w.min.x),o=Math.max(o,w.max.x),u=Math.min(u,w.min.y),c=Math.max(c,w.max.y)}}),{left:r,right:o,top:u,bottom:c,x:o-r,y:c-u}}function lR(t){const{vertices:e,segments:n}=t.vectorNetwork;let r=0,o=0,u=0,c=0;return e.forEach(l=>{l.x<0&&(r=Math.min(r,l.x)),l.x>0&&(o=Math.max(o,l.x)),l.y<0&&(u=Math.min(u,l.y)),l.y>0&&(c=Math.max(c,l.y))}),n.forEach(l=>{const h=e[l.start.vertex],p=e[l.end.vertex];if(!(l.start.dx===0&&l.start.dy===0&&l.end.dx===0&&l.end.dy===0)){const w=wm(h.x,h.y,h.x+l.start.dx,h.y+l.start.dy,p.x+l.end.dx,p.y+l.end.dy,p.x,p.y);r=Math.min(r,w.min.x),o=Math.max(o,w.max.x),u=Math.min(u,w.min.y),c=Math.max(c,w.max.y)}}),{left:r,right:o,top:u,bottom:c,x:o-r,y:c-u}}function fR({localStore:t,layer:e,step:n}){if((e==null?void 0:e.nodeType)==="vector"&&e.width&&e.height){const r=e_(e.vectorData),o=e.width/e.vectorData.normalizedSize.x,u=e.height/e.vectorData.normalizedSize.y,c=r.x*o,l=r.y*u,h=r.left,p=r.top,w=ir(e),x=Ss(w,{x:h*o,y:p*u}),E=gm({x:x.x,y:x.y,width:c,height:l,rotate:e.rotate});t.segmentCandidate&&(t.segmentCandidate.startVertex.x-=h,t.segmentCandidate.startVertex.y-=p,t.segmentCandidate.endVertex.x-=h,t.segmentCandidate.endVertex.y-=p),n.update({layer:e,data:{width:c,height:l,left:E.left,top:E.top,vectorData(P){P.vectorNetwork.vertices.forEach(T=>{T.x-=h,T.y-=p}),P.normalizedSize={...r}}}}),JC({vectorData:e.vectorData,localStore:t})}}const t_=20;function dR(t){t.currentStatus="playingTimeline"}function n_(t){if(t.timelineInterval===null){rr(t,{type:"clear"}),t.currentTime>=t.timelineMax&&(t.currentTime=0);let e=new Date().getTime();t.timelineInterval=setInterval(()=>{const n=new Date().getTime();t.currentTime+=n-e,e=n,t.currentTime>=t.timelineMax&&(t.currentTime=t.timelineMax,r_(t))},10)}}function r_(t){t.currentStatus=""}function i_(t){t.timelineInterval!==null&&clearInterval(t.timelineInterval),t.timelineInterval=null}function hR(t,e){e.stopPropagation(),t.currentStatus="movingTimelineNeedle",ME(t,e)}function pR(t,e){const r=(e.pageX-t.pointerX)/t_*1e3;t.currentTime+=r,t.currentTime<0&&(t.currentTime=0),rr(t,{type:"clear"}),Xm(t,e)}function gR(t){var n;const e=(n=t.timeline)==null?void 0:n.entrance;if(e){if(e.type==="slideIn"){if(e.from==="left")return[{translateX:-t.width,opacity:0,duration:0},{translateX:-t.width,opacity:0,duration:0},{translateX:0,opacity:1}];if(e.from==="right")return[{translateX:t.width,opacity:0,duration:0},{translateX:t.width,opacity:0,duration:0},{translateX:0,opacity:1}]}if(e.type==="zoomIn")return[{opacity:0,scaleX:.3,scaleY:.3,scaleZ:.3,duration:0},{opacity:0,scaleX:.3,scaleY:.3,scaleZ:.3,duration:0},{opacity:1,scaleX:1,scaleY:1,scaleZ:1}]}return[]}function mR(t){var n;const e=(n=t.timeline)==null?void 0:n.exit;return e&&e.type==="rotateOut"?[{rotateZ:0,opacity:1,duration:0},{rotateZ:0,opacity:1,duration:0},{rotateZ:"200deg",opacity:0}]:[]}var o_=Object.defineProperty,a_=Object.getOwnPropertyDescriptor,Ic=(t,e,n,r)=>{for(var o=r>1?void 0:r?a_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&o_(e,n,o),o};class kc{constructor(e,n){this.stepIdIndex=-1,this.maxStepLength=50,this.stepCursor=-1,this.stepList=[],Is(this),this.getState=e,typeof n=="number"&&(this.maxStepLength=n)}save(e){this.stepIdIndex+=1;const n=this.stepIdIndex;this.stepCursor<this.stepList.length-1&&(this.stepList=this.stepList.slice(0,this.stepCursor+1)),this.stepList.push({id:n,...e,resultSnapshot:Ue.cloneDeep(this.getState())}),this.stepCursor+=1,this.stepList.length>this.maxStepLength&&(this.stepList.shift(),this.stepCursor-=1)}undo(){if(this.canUndo){const e=this.stepList[this.stepCursor-1];Object.assign(this.getState(),Ue.cloneDeep(e.resultSnapshot)),this.stepCursor-=1}}redo(){if(this.canRedo){const e=this.stepList[this.stepCursor+1];e&&Object.assign(this.getState(),Ue.cloneDeep(e.resultSnapshot)),this.stepCursor+=1}}record(e){this.save({name:e,redo:()=>{},undo:()=>{}})}cancelRecordsByCursor(e){const n=this.stepList[e];n&&(Object.assign(this.getState(),Ue.cloneDeep(n.resultSnapshot)),this.stepCursor=e,this.stepList.splice(e+1,this.stepList.length-1))}clearRecords(){this.stepList=[],this.stepCursor=-1}get canUndo(){return this.stepCursor>0}get canRedo(){return this.stepCursor<this.stepList.length-1}}Ic([ze],kc.prototype,"stepCursor",2);Ic([ze],kc.prototype,"stepList",2);Ic([mt],kc.prototype,"canUndo",1);Ic([mt],kc.prototype,"canRedo",1);var s_=Object.defineProperty,u_=Object.getOwnPropertyDescriptor,Hd=(t,e,n,r)=>{for(var o=r>1?void 0:r?u_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&s_(e,n,o),o};function yR(t){return`clip-path-${t.id}`}class jd{constructor({localStore:e,getPage:n,getGridCollageInfo:r}){this.activePointDotKey="",this.localStore=e,this.getPage=n,this.getGridCollageInfo=r,Is(this)}get isActive(){return this.getGridCollageInfo().subType==="POLYGONS"}updateActivePointDot(e){const n=this.getPage().pointPercentMap[this.activePointDotKey];Object.assign(n,e),this.getPage().imageLayerList.forEach(r=>{this.updateLayerSize(r)})}get pointMap(){const e={};return Ue.forEach(this.getPage().pointPercentMap,(n,r)=>{e[r]={x:n.x*this.getPage().width,y:n.y*this.getPage().height}}),e}updateLayerSize(e){const n=ks(this.getPointList(e));Object.assign(e,n),H2(this.localStore,e)}getPointList(e){return e.extra.polygonPointIdList.map(n=>n==="leftTop"?{x:0,y:0}:n==="rightTop"?{x:this.getPage().width,y:0}:n==="leftBottom"?{x:0,y:this.getPage().height}:n==="rightBottom"?{x:this.getPage().width,y:this.getPage().height}:this.pointMap[n])}}Hd([mt],jd.prototype,"isActive",1);Hd([ze],jd.prototype,"activePointDotKey",2);Hd([mt],jd.prototype,"pointMap",1);function c_(t){return c2({get hasAnchorPoints(){var n;return!(((n=t.selectedSingleLayer)==null?void 0:n.nodeType)==="svg"&&t.selectedSingleLayer.data.type==="line")},get hasTopBottomBar(){return!(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="TEXT"&&t.selectedSingleLayer.writingMode==="horizontal-tb"||t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="svg"&&t.selectedSingleLayer.data.type==="line")},get hasLeftRightBar(){return!(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="TEXT"&&t.selectedSingleLayer.writingMode==="vertical-rl")}})}var l_=Object.defineProperty,f_=Object.getOwnPropertyDescriptor,Rc=(t,e,n,r)=>{for(var o=r>1?void 0:r?f_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&l_(e,n,o),o};class Ds{constructor(e,n){this.maxStepLength=50,this.stepCursor=0,this.stepList=[{}],this.localStore=e,Is(this),typeof n=="number"&&(this.maxStepLength=n)}undo(){var e,n;if(this.canUndo){const r=this.stepList[this.stepCursor];this.restoreSelectionInfo(r,r.getOldState().selectionInfo),Object.keys(r.oldState.nodeMap).forEach(o=>{const u=rg(this.localStore,o),c=this.localStore.getFigma();u?cg({localStore:this.localStore,fileData:c==null?void 0:c.context.fileData,layer:u,data:r.oldState.nodeMap[o]}):console.log("Node may already be deleted")}),(n=(e=this.localStore.props).doAction)==null||n.call(e,r.getOldAction()),this.stepCursor-=1}}redo(){var e,n;if(this.canRedo){const r=this.stepList[this.stepCursor+1];r&&(this.restoreSelectionInfo(r,r.getNewState().selectionInfo),Object.keys(r.newState.nodeMap).forEach(o=>{const u=rg(this.localStore,o),c=this.localStore.getFigma();u&&cg({localStore:this.localStore,fileData:c==null?void 0:c.context.fileData,layer:u,data:r.newState.nodeMap[o]})}),(n=(e=this.localStore.props).doAction)==null||n.call(e,r.getNewAction()),this.stepCursor+=1)}}restoreSelectionInfo(e,n){n?Object.assign(this.localStore.selectionInfo,Ue.cloneDeep(n)):rr(this.localStore,{type:"clear"})}record(){this.localStore.currentStep!==null&&(this.stepCursor<this.stepList.length-1&&(this.stepList=this.stepList.slice(0,this.stepCursor+1)),this.localStore.currentStep.getNewState().selectionInfo=Ue.cloneDeep(this.localStore.selectionInfo),this.stepList.push(this.localStore.currentStep),this.stepCursor+=1,this.stepList.length>this.maxStepLength&&(this.stepList.shift(),this.stepCursor-=1),console.log(this.localStore.currentStep),this.localStore.currentStep=null)}resetHistory(){this.stepList=[{}],this.stepCursor=0}get canUndo(){return this.stepCursor>0}get canRedo(){return this.stepCursor<this.stepList.length-1}}Rc([ze],Ds.prototype,"stepCursor",2);Rc([ze],Ds.prototype,"stepList",2);Rc([mt],Ds.prototype,"canUndo",1);Rc([mt],Ds.prototype,"canRedo",1);function cg({localStore:t,fileData:e,layer:n,data:r}){const o=n;Object.keys(r).forEach(u=>{var l,h;const c=u;if(c==="life"){const p=r[c];if(p!=null&&p.$value){if(o.nodeType==="DOCUMENT")p.$value.type==="replacePage"&&(o.children[0]=Ue.cloneDeep(p.$value.newPage));else if(p.$value.type==="createChildren"){const{newLayers:w,isGrouping:x}=p.$value;if(x&&Object.keys(w).length!==1)throw new Error("Fault");if(e)Ue.forEach(w,E=>{const P=Ue.cloneDeep(E);let T=[];x&&(T=P.children.map(L=>L.id),P.children=[]),_A(e,P),x&&(P.children=lf(e,T),P.children.forEach(L=>{L.parentId=P.id}))}),n.children=lf(e,p.$value.children);else{if(n.nodeType==="DOCUMENT")throw new Error;const E=Ue.keyBy(n.children,"id");n.children=p.$value.children.map(P=>{if(E[P])return E[P];if(w[P])return Ue.cloneDeep(w[P]);throw new Error(`child layer ${P} not found`)})}}else if(p.$value.type==="delete"){const{deletedNodes:w,children:x,isGrouping:E}=p.$value;if(E&&Object.keys(w).length!==1)throw new Error("Fault");if(e)Ue.forEach(w,(P,T)=>{const L=$r(e,T);L&&(E&&(L.children=[]),$m(e,L))}),n.children=lf(e,p.$value.children);else{const P={};if(n.nodeType==="DOCUMENT")throw new Error;n.children.forEach(L=>{P[L.id]=L,w[L.id]&&L.nodeType==="GROUP"&&L.children.forEach(N=>{P[N.id]=N})});const T=[];x.forEach(L=>{P[L]&&T.push(P[L])}),n.children=T}n.children.forEach(P=>{P.parentId=n.id})}}}else if(c==="children")(l=r.children)!=null&&l.$value&&(n.children=nE({localStore:t,idList:r.children.$value}));else{const p=r[c];typeof((h=r[c])==null?void 0:h.$value)<"u"?n[c]=p==null?void 0:p.$value:n[c]=void 0}})}var d_=Object.defineProperty,h_=Object.getOwnPropertyDescriptor,Le=(t,e,n,r)=>{for(var o=r>1?void 0:r?h_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&d_(e,n,o),o};class Pe{constructor({getNormalLayerList:e,props:n}){this.history=new Ds(this),this.currentStep=null,this.getSelectedLayerIdList=()=>this.selectionInfo.selectedLayerIdList,this.getFigma=()=>null,this.libra=null,this.interval=null,this.isFullyFunctional=!0,this.eraserPathCanvas=null,this.cursor="",this.currentFontList=[],this.computed=c_(this),this.currentTool="MoveTool",this.currentStatus="",this.currentTime=0,this.timelineInterval=null,this.workspaceState=vA(),this.workspaceExists=!0,this.workspaceElement=null,this.layersShimmering=!1,this.controlKeyUnderPress=!1,this.layerWithMenuId="",this.layerUnderDraggingId="",this.layerUnderCropping=null,this.layersCanBeScaled=!0,this.layerListInClipboard=[],this.editingText=!1,this.advancedTextEditor={initialSelectionIndex:0,inputText:{compositionText:"",start:0},inputElement:null,inputMode:"single"},this.editingVector=null,this.vectorEditor=null,this.pointerDownX=0,this.pointerDownY=0,this.pointerDownOnRightSide=!1,this.pointerMoved=!1,this.pointerX=0,this.pointerY=0,this.pointerCurrentAngle=0,this.pointerAppliedAngle=0,this.pointerDownOnLayerId="",this.pointerMap={},this.pointerTarget$$=null,this.bunchRectangleRotationFixed=!1,this.pointerRayLengthInPage=0,this.appliedPointX=0,this.appliedPointY=0,this.bunchRectangleXFixed=!1,this.bunchRectangleYFixed=!1,this.interceptionInfo={total:0,currentPosition:0,prevID:"",nextID:"",list:[]},this.pointerDownScalePercent=100,this.resizeTransformOrigin={x:0,y:0},this.resizeOriginType="leftTop",this.resizeAndKeepRatio=!0,this.menuShow=!1,this.menuX=0,this.menuY=0,this.operatingOn={vertexIndex:0},this.bunchRectangleInMagneticField=!1,this.selectionRectStartPoint=null,this.selectionRectEndPoint={x:0,y:0},this.selectionRectExists=!1,this.layerResolvedFrameMap={},this.layerImageHasTransition=!1,this.overlappedLayerIdMap={},this.helperLineList=[],this.helperRectList=[],this.textLayerOutOfPage=!1,this.currentToolsContainer=null,this.filterState={candidateFilterId:"",candidateFilterGroupName:"",candidateFilterTypeId:"",candidateFilterInfo:null,filterPercent:0,filterSucceed:!1},this.state={eraserVisualDiam:50,eraserShadowBlurPercent:0,eraserPathColor:"rgba(253, 93, 125)",lastSwappedLayerId:""},this.options={renderer:"dom",safePadding:30,hasBasicOverlays:!0,hasGridPanels:!1,hasActiveOverlay:!0,hasLayerRotator:!0,hasLayerShortBars:!0,showOverlays:!0,canScalePage:!0,pageMaxScale:4,pageMinScale:.15,thumbnailMaxWidth:88,thumbnailMaxHeight:122,layerOutlineColor:"#80A3FF",LAYER_MINIMUN_SIZE:20,strokePathOverflow:"hidden",applyMagneticEffect:!0,helperRectColor:"purple",helperLineColor:"#a569bd",useTextEditor:"QUILL_EDITOR",hasTimeline:!1},this.shortcutMap={"Meta + c":()=>{},"Meta + x":()=>{},"Meta + v":()=>{},"Meta + g":()=>{},"Meta + Z":()=>{},"Shift + Meta + Z":()=>{},"Shift + Meta + g":()=>{},"Alt + Meta + ArrowDown":()=>{},"Alt + Meta + ArrowUp":()=>{},"Shift + Meta + ArrowDown":()=>{},"Shift + Meta + ArrowUp":()=>{},Escape:()=>{},Backspace:()=>{},Delete:()=>{}},this.lastClickedAt=0,this.sessionID=0,this.localID=0,this.renderCount=0,this.getNormalLayerList=e,this.props=n,Is(this),Bu(()=>this.getSelectedLayerIdList().join("--")+this.selectionInfo.selectedLeafLayerId,()=>{var r;this.editingText=!1,((r=this.selectedSingleLayer)==null?void 0:r.nodeType)==="vector"||(this.editingVector=null),Y2(this)}),Bu(()=>this.currentStatus,(r,o)=>{r==="playingTimeline"?n_(this):o==="playingTimeline"&&i_(this)}),Bu(()=>this.editingText,()=>{this.editingText===!1&&this.textLayerOutOfPage===!0&&(this.workspaceExists=!1,setTimeout(()=>{this.workspaceExists=!0},0),this.textLayerOutOfPage=!1)}),Bu(()=>this.usedFontMap,()=>{this.currentFontList=[]})}getLayer(e){const n=this.getFigma();if(n)return n.layerMap[e]?n.layerMap[e]:null;if(this.normalLayerFlatMap[e])return this.normalLayerFlatMap[e];const r=this.props.getPanelList().find(o=>o.id===e);return r||null}getPageScale(){return this.workspaceState.pageScale}get figma(){return this.getFigma()}get isMobile(){return typeof window<"u"&&window.ontouchstart!==void 0}setCursor(e){this.cursor=e}get timelineMax(){let e=0;return this.getNormalLayerList().forEach(n=>{n.timeline&&n.timeline.end>e&&(e=n.timeline.end)}),e}get isUpdatingLayer(){return this.currentStatus==="movingLayers"||this.currentStatus==="rotatingLayers"||this.currentStatus==="resizingLayersByCorner"||this.currentStatus==="resizingLayersByBorder"}get isCroppingBackground(){const e=this.props.getBackgroundLayer(),{layerUnderCropping:n}=this;return!!(e&&n&&n.id===e.id)}get usedFontMap(){const e={};function n(o){o.forEach(u=>{u.nodeType==="TEXT"&&u.fontName.fullname&&(e[u.fontName.fullname]=!0),n(u.children||[])})}const r=this.getNormalLayerList();return n(r),e}get currentCursor(){var e,n,r,o,u;if(this.currentStatus==="draggingGridLine"||(e=this.props.grid)!=null&&e.getCurrentActiveLine()){if(((r=(n=this.props.grid)==null?void 0:n.getCurrentActiveLine())==null?void 0:r.type)==="horizontal")return"ns-resize";if(((u=(o=this.props.grid)==null?void 0:o.getCurrentActiveLine())==null?void 0:u.type)==="vertical")return"ew-resize"}return this.currentStatus==="rotatingLayers"?"alias":this.currentStatus==="movingLayers"?"move":this.cursor?this.cursor:"auto"}get segmentCandidate(){var e,n;return((n=(e=this.editingVector)==null?void 0:e.currentOperation)==null?void 0:n.type)==="SegmentCandidate"?this.editingVector.currentOperation:null}get editingGroupLayer(){return!!this.activeGroupLayerId}get selectionInfo(){return this.props.getSelectionInfo()}get activeGroupLayerId(){return this.selectionInfo.activeGroupLayerId}get activeLayerInGroupId(){return this.selectionInfo.activeLayerInGroupId}get selectedLeafLayerId(){return this.selectionInfo.selectedLeafLayerId}get activeGroupLayer(){const e=this.rootNormalLayerMap[this.activeGroupLayerId];return e&&e.nodeType==="GROUP"?e:null}get pointerRayLengthInWindow(){return this.pointerRayLengthInPage*this.getPageScale()}get scalePercentDisplayed(){const e=this.imageLayerUnderEditing;if(e&&e.image){if(e.image.imageScaleMode==="FILL"){const o=Em({frame:e,image:e.image}),u=e.image.width/e.image.naturalWidth/o*100;return Math.round(u)}const n=V2(e),r=e.image.width/n*100;return Math.round(r)}return 100}get bunchRectangle(){return this.selectionInfo.bunchRectangle}get selectionStatus(){if(this.selectedNormalLayerList.length>1)return"multipleLayers";if(this.selectedPanel)return"singlePanel";if(this.selectedSingleLayer){const e=this.selectedSingleLayer;if(e.nodeType==="GROUP")return"singleGroupLayer";if(e.nodeType==="IMAGE")return"singleImageLayer";if(e.nodeType==="TEXT")return"singleTextLayer";if(e.nodeType==="FRAME")return"singleFrameLayer";if(e.nodeType==="SECTION")return"singleSectionLayer"}return""}get leafNormalLayerList(){const e=[];function n(r){r.forEach(o=>{o.nodeType!=="GROUP"&&e.push(o),n(o.children)})}return n(this.getNormalLayerList()),e}get selectionRectangle(){const e={left:0,top:0,width:0,height:0};return this.selectionRectStartPoint&&(e.left=Math.min(this.selectionRectStartPoint.x,this.selectionRectEndPoint.x),e.top=Math.min(this.selectionRectStartPoint.y,this.selectionRectEndPoint.y),e.width=Math.abs(this.selectionRectEndPoint.x-this.selectionRectStartPoint.x),e.height=Math.abs(this.selectionRectEndPoint.y-this.selectionRectStartPoint.y)),e}get pointerCurrentPositionInPage(){return this.getPointInPage({pageX:this.pointerX,pageY:this.pointerY})}get bunchRectangleCenter(){return{x:this.bunchRectangle.left+this.bunchRectangle.width/2,y:this.bunchRectangle.top+this.bunchRectangle.height/2}}get rootNormalLayerMap(){return Ue.keyBy(this.getNormalLayerList(),"id")}get normalLayerFlatMap(){var n;if(this.getFigma())return((n=this.getFigma())==null?void 0:n.layerMap)||{};const e={};return this.getNormalLayerList().forEach(r=>{this.processLayer(e,r)}),e}processLayer(e,n){e[n.id]=n,n.children.forEach(r=>{this.processLayer(e,r)})}get selectedLayerList(){return this.getSelectedLayerIdList().map(n=>this.getLayer(n)).filter(n=>n)}get selectedNormalLayerList(){const e=[];return e.push(...this.selectedLayerList),e}get selectedPanel(){const e=Ue.keyBy(this.props.getPanelList(),"id"),n=this.getSelectedLayerIdList().filter(r=>e[r]);return n[0]?e[n[0]]:null}get selectedSingleLayer(){return this.selectedLeafLayerId&&this.normalLayerFlatMap[this.selectedLeafLayerId]?this.normalLayerFlatMap[this.selectedLeafLayerId]:this.selectedNormalLayerList.length===1&&this.selectedNormalLayerList[0]?this.selectedNormalLayerList[0]:null}get selectedSingleImageLayer(){return this.selectedSingleLayer&&this.selectedSingleLayer.nodeType==="IMAGE"?this.selectedSingleLayer:null}get textLayerUnderEditing(){return this.selectedSingleLayer&&this.selectedSingleLayer.nodeType==="TEXT"&&this.editingText?this.selectedSingleLayer:null}get textLayerMap(){const e={};return Object.keys(this.normalLayerFlatMap).forEach(n=>{const r=this.normalLayerFlatMap[n];r&&r.nodeType==="TEXT"&&(e[n]=r)}),e}get imageLayerUnderEditing(){var e;if(this.layerUnderCropping)return this.layerUnderCropping;if(((e=this.selectedSingleLayer)==null?void 0:e.nodeType)==="ROUNDED_RECTANGLE")return this.selectedSingleLayer;if(this.selectedPanel)return this.selectedPanel;if(this.selectedSingleImageLayer)return this.selectedSingleImageLayer;if(this.selectedSingleLayer&&this.activeLayerInGroupId){const n=this.normalLayerFlatMap[this.activeLayerInGroupId];return n.nodeType==="IMAGE"?n:null}return null}setCurrentToolsContainer(e){this.currentToolsContainer=e}getPointInContainer(e){const n=this.getFigma(),r=Aa(this);if(n&&r){const o=cy(n.context.fileData,e),{absoluteTransform:u}=So(n.context.fileData,{type:"layer",layerId:r.id});return wa(u,o)}return this.getPointInPage(e)}getPointInPage(e){const n=this.currentToolsContainer;if(n){const r=n.getBoundingClientRect();return{x:(e.pageX-r.left)/this.getPageScale(),y:(e.pageY-r.top)/this.getPageScale()}}return console.warn("Failed to find tools container!"),{x:0,y:0}}setOptions(e){Object.assign(this.options,e)}generateGUID(){const e={sessionID:this.sessionID,localID:this.localID};return this.localID+=1,e}}Le([ze],Pe.prototype,"getNormalLayerList",2);Le([ze],Pe.prototype,"getFigma",2);Le([mt],Pe.prototype,"figma",1);Le([ze],Pe.prototype,"props",2);Le([mt],Pe.prototype,"isMobile",1);Le([ze],Pe.prototype,"cursor",2);Le([ze],Pe.prototype,"currentFontList",2);Le([ze],Pe.prototype,"currentTool",2);Le([ze],Pe.prototype,"currentStatus",2);Le([ze],Pe.prototype,"currentTime",2);Le([mt],Pe.prototype,"timelineMax",1);Le([ze],Pe.prototype,"workspaceState",2);Le([ze],Pe.prototype,"workspaceExists",2);Le([mt],Pe.prototype,"isUpdatingLayer",1);Le([mt],Pe.prototype,"isCroppingBackground",1);Le([ze],Pe.prototype,"layersShimmering",2);Le([mt],Pe.prototype,"usedFontMap",1);Le([mt],Pe.prototype,"currentCursor",1);Le([ze],Pe.prototype,"controlKeyUnderPress",2);Le([ze],Pe.prototype,"layerWithMenuId",2);Le([ze],Pe.prototype,"layerUnderDraggingId",2);Le([ze],Pe.prototype,"layerUnderCropping",2);Le([ze],Pe.prototype,"layersCanBeScaled",2);Le([ze],Pe.prototype,"layerListInClipboard",2);Le([ze],Pe.prototype,"editingText",2);Le([ze],Pe.prototype,"editingVector",2);Le([mt],Pe.prototype,"segmentCandidate",1);Le([mt],Pe.prototype,"editingGroupLayer",1);Le([mt],Pe.prototype,"selectionInfo",1);Le([mt],Pe.prototype,"activeGroupLayerId",1);Le([mt],Pe.prototype,"activeLayerInGroupId",1);Le([mt],Pe.prototype,"selectedLeafLayerId",1);Le([mt],Pe.prototype,"activeGroupLayer",1);Le([ze],Pe.prototype,"pointerDownX",2);Le([ze],Pe.prototype,"pointerDownY",2);Le([ze],Pe.prototype,"pointerDownOnRightSide",2);Le([ze],Pe.prototype,"pointerMoved",2);Le([ze],Pe.prototype,"pointerX",2);Le([ze],Pe.prototype,"pointerY",2);Le([ze],Pe.prototype,"pointerCurrentAngle",2);Le([ze],Pe.prototype,"pointerAppliedAngle",2);Le([ze],Pe.prototype,"bunchRectangleRotationFixed",2);Le([ze],Pe.prototype,"pointerRayLengthInPage",2);Le([ze],Pe.prototype,"appliedPointX",2);Le([ze],Pe.prototype,"appliedPointY",2);Le([ze],Pe.prototype,"bunchRectangleXFixed",2);Le([ze],Pe.prototype,"bunchRectangleYFixed",2);Le([ze],Pe.prototype,"interceptionInfo",2);Le([mt],Pe.prototype,"pointerRayLengthInWindow",1);Le([ze],Pe.prototype,"pointerDownScalePercent",2);Le([ze],Pe.prototype,"resizeTransformOrigin",2);Le([ze],Pe.prototype,"resizeOriginType",2);Le([ze],Pe.prototype,"resizeAndKeepRatio",2);Le([mt],Pe.prototype,"scalePercentDisplayed",1);Le([ze],Pe.prototype,"menuShow",2);Le([ze],Pe.prototype,"menuX",2);Le([ze],Pe.prototype,"menuY",2);Le([mt],Pe.prototype,"bunchRectangle",1);Le([ze],Pe.prototype,"bunchRectangleInMagneticField",2);Le([ze],Pe.prototype,"selectionRectStartPoint",2);Le([ze],Pe.prototype,"selectionRectEndPoint",2);Le([ze],Pe.prototype,"selectionRectExists",2);Le([mt],Pe.prototype,"selectionStatus",1);Le([ze],Pe.prototype,"layerResolvedFrameMap",2);Le([ze],Pe.prototype,"layerImageHasTransition",2);Le([ze],Pe.prototype,"overlappedLayerIdMap",2);Le([ze],Pe.prototype,"helperLineList",2);Le([ze],Pe.prototype,"helperRectList",2);Le([mt],Pe.prototype,"leafNormalLayerList",1);Le([mt],Pe.prototype,"selectionRectangle",1);Le([mt],Pe.prototype,"pointerCurrentPositionInPage",1);Le([mt],Pe.prototype,"bunchRectangleCenter",1);Le([mt],Pe.prototype,"rootNormalLayerMap",1);Le([mt],Pe.prototype,"normalLayerFlatMap",1);Le([mt],Pe.prototype,"selectedLayerList",1);Le([mt],Pe.prototype,"selectedNormalLayerList",1);Le([mt],Pe.prototype,"selectedPanel",1);Le([mt],Pe.prototype,"selectedSingleLayer",1);Le([mt],Pe.prototype,"selectedSingleImageLayer",1);Le([mt],Pe.prototype,"textLayerUnderEditing",1);Le([mt],Pe.prototype,"textLayerMap",1);Le([ze],Pe.prototype,"textLayerOutOfPage",2);Le([mt],Pe.prototype,"imageLayerUnderEditing",1);Le([ze],Pe.prototype,"filterState",2);Le([ze],Pe.prototype,"state",2);Le([ze],Pe.prototype,"options",2);Le([ze],Pe.prototype,"renderCount",2);class If{constructor({path:e,commands:n,type:r,styleID:o}){this.styleID=0,this.path=null,this.commands=[],this.scheduledForDelete=!1,this.path=e,this.commands=n,this.type=r,this.styleID=o}getPath(){return this.path}getVisualPath({Raptor:e,scale:n}){if(this.path){const r=this.path.copy();return r.deleteLater(),r.transform(e.Matrix.scaled(n,n)),r}return null}getCommands(){return this.commands}deleteLater(){var e;this.scheduledForDelete===!1&&(this.scheduledForDelete=!0,(e=this.path)==null||e.deleteLater())}}function p_({Raptor:t,strokeJoin:e}){return e==="BEVEL"?t.StrokeJoin.Bevel:e==="MITER"?t.StrokeJoin.Miter:t.StrokeJoin.Round}function g_({strokeAlign:t,strokeWeight:e,Raptor:n}){const r={strokeWidth:e,blendMode:null};return t==="CENTER"||(t==="INSIDE"?(r.strokeWidth=e*2,r.blendMode=n.BlendMode.SrcATop):t==="OUTSIDE"&&(r.strokeWidth=e*2,r.blendMode=n.BlendMode.DstATop)),r}function Vd({Raptor:t,commands:e}){const n=e.map(o=>o==="M"?t.MOVE_VERB:o==="C"?t.CUBIC_VERB:o==="L"?t.LINE_VERB:o==="Z"?t.CLOSE_VERB:o);return t.Path.MakeFromCmds(n)}function m_({width:t,height:e,cornerRadius:n,Raptor:r}){const o=ba({width:t,height:e,cornerRadius:n});return Vd({Raptor:r,commands:o})}function ba({width:t,height:e,cornerRadius:n}){if(n>0){const o=.44777199999999995*n;return["M",0,n,"C",0,o,o,0,n,0,"L",t-n,0,"C",t-o,0,t,o,t,n,"L",t,e-n,"C",t,e-o,t-o,e,t-n,e,"L",n,e,"C",o,e,0,e-o,0,e-n,"Z"]}return["M",0,0,"L",0,e,"L",t,e,"L",t,0,"Z"]}function y_({Raptor:t,layer:e,scale:n}){var w,x,E,P;const{width:r,height:o,cornerRadius:u}=e;let c=ba({width:r,height:o,cornerRadius:u});((w=e.smartShape)==null?void 0:w.type)==="Parallelogram"?c=["M",o/3,0,"L",r,0,"L",r-o/3,o,"L",0,o,"Z"]:((x=e.smartShape)==null?void 0:x.type)==="Pill"?c=ba({width:r,height:o,cornerRadius:o/2}):((E=e.smartShape)==null?void 0:E.type)==="Ribbon"&&(c=["M",0,0,"L",r,0,"L",r-o/4,o/2,"L",r,o,"L",0,o,"L",o/4,o/2,"Z"]);let l=Vd({Raptor:t,commands:c});l==null||l.deleteLater(),((P=e.smartShape)==null?void 0:P.type)==="Ellipse"&&(l=new t.Path,l.deleteLater(),l.addOval(t.XYWHRect(0,0,r,o)));const h=g_({strokeAlign:e.strokeAlign,strokeWeight:e.strokeWeight,Raptor:t}),p=l==null?void 0:l.copy().stroke({width:h.strokeWidth,join:p_({strokeJoin:e.strokeJoin,Raptor:t})});return p==null||p.deleteLater(),{fillScaledPath:(l==null?void 0:l.transform(t.Matrix.scaled(n,n)))||null,strokeScaledPath:(p==null?void 0:p.transform(t.Matrix.scaled(n,n)))||null,strokeInfo:h}}function $y({Raptor:t,commands:e}){const n=Vd({Raptor:t,commands:e});return new If({path:n,commands:e,type:"CLOSED",styleID:0})}function v_({Raptor:t,localStore:e,layer:n,instanceChain:r}){const o=Zt({localStore:e,layer:n,instanceChain:r});let u=0,{width:c,height:l,cornerRadius:h}=o;o.strokeAlign==="INSIDE"&&(c-=o.strokeWeight,l-=o.strokeWeight,u=o.strokeWeight/2,h>0&&(h-=o.strokeWeight/2)),o.strokeAlign==="OUTSIDE"&&(c+=o.strokeWeight,l+=o.strokeWeight,u-=o.strokeWeight/2,h>0&&(h+=o.strokeWeight/2));let p=ba({width:c,height:l,cornerRadius:h});p=p.map(x=>typeof x=="number"?x+u:x);const w=$y({Raptor:t,commands:p});return w==null||w.deleteLater(),[w]}function w_({Raptor:t,localStore:e,layer:n,instanceChain:r}){const o=Zt({localStore:e,layer:n,instanceChain:r});let u=[];const{width:c,height:l}=o;if(n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="ROUNDED_RECTANGLE"){const{cornerRadius:p}=o;p>0&&(u=ba({width:c,height:l,cornerRadius:p}))}return u.length===0&&(u=ba({width:c,height:l,cornerRadius:0})),[$y({Raptor:t,commands:u})]}function b_({vectorData:t,Raptor:e}){const{vertices:n,segments:r,regions:o}=t.vectorNetwork,u=[];function c(l,h){let p=-1;l.forEach((w,x)=>{const E=n[w.start.vertex],P=n[w.end.vertex];w.start.vertex!==p&&h.moveTo(E.x,E.y),w.start.dx===0&&w.start.dy===0&&w.end.dx===0&&w.end.dy===0?h.lineTo(P.x,P.y):h.cubicTo(w.start.dx+E.x,w.start.dy+E.y,w.end.dx+P.x,w.end.dy+P.y,P.x,P.y),p=w.end.vertex})}if(o.length>0&&o.forEach(l=>{const h=new e.Path;u.push({type:"region",path:h}),l.loops.forEach(p=>{l.windingRule==="EVENODD"&&h.setFillType(e.FillType.EvenOdd),p.segments.forEach(w=>{}),c(p.segments.map(w=>r[w]),h),h.close()}),h.close()}),u.length===0){const l=new e.Path;u.push({type:"line",path:l}),c(r,l)}return u}function fc({localStore:t,fileData:e,layer:n,instanceChain:r,Raptor:o}){const u=Zt({localStore:t,layer:n,instanceChain:r}),c={data:{nodeType:u.nodeType,left:u.left,top:u.top,rotate:u.rotate,width:u.width,height:u.height,scaleX:1,scaleY:1,strokeAlign:u.strokeAlign,strokeWeight:u.strokeWeight,dashPattern:[...u.dashPattern]},fillGeometryList:[],strokeGeometryList:[],totalGeometry:null,children:[]};if(n.nodeType==="GROUP"||n.nodeType==="TEXT")return c;if(n.nodeType==="vector"){const p=t.getFigma();if(p){const w=Dm(p.context.fileData,n);if(!w)throw new Error;const x=b_({vectorData:n.vectorData,Raptor:o});w.pathBoundsList=x.map(P=>P.path.computeTightBounds());const{vectorData:E}=u;E&&(c.data.scaleX=u.width/E.normalizedSize.x,c.data.scaleY=u.height/E.normalizedSize.y),x.forEach(P=>{if(P.type==="region"){const T=new If({path:P.path,commands:[],type:"CLOSED",styleID:0});T.deleteLater(),c.fillGeometryList.push(T),c.strokeGeometryList.push(T)}else if(P.type==="line"){const T=new If({path:P.path,commands:[],type:"LINE",styleID:0});T.deleteLater(),c.strokeGeometryList.push(T)}})}return c}const l=w_({Raptor:o,localStore:t,layer:n,instanceChain:r});l.forEach(p=>{p.deleteLater()});const h=v_({Raptor:o,localStore:t,layer:n,instanceChain:r});return u.frameMaskDisabled&&n.children&&n.children.forEach(p=>{const w=Yn(r,p),x=fc({localStore:t,layer:p,instanceChain:w,Raptor:o,fileData:e});c.children.push(x)}),c.fillGeometryList=l,c.strokeGeometryList=h,c}function lg({info:t,styleID:e}){var r;const n=[];if(e===0)n.push(...t.fillPaints||[]);else if(t.nodeType==="vector"){const o=(r=t.vectorData)==null?void 0:r.styleOverrideTable.find(u=>u.styleID===e);o&&n.push(...o.fillPaints)}return{fillPaints:n}}function By({info:t,styleID:e}){const n=[];return e===0&&n.push(...t.strokePaints||[]),{strokePaints:n}}function fg({Raptor:t,paint:e,path:n}){const r=new t.Paint;if(r.deleteLater(),r.setAntiAlias(!0),e.type==="SOLID"&&(r.setAlphaf(e.opacity),r.setColor(qt(e.color).toFigmaArray())),e.type==="GRADIENT_LINEAR"&&(r.setStyle(t.PaintStyle.Fill),r.setAlphaf(e.opacity),n)){const o=n==null?void 0:n.computeTightBounds(),u=t.Shader.MakeLinearGradient([.5,o[1]],[.5,o[3]],[new Float32Array(qt(e.stops[0].color).toFigmaArray()),new Float32Array(qt(e.stops[1].color).toFigmaArray())],null,t.TileMode.Decal);u.deleteLater(),r.setShader(u),r.setAntiAlias(!0)}return r}function x_({normalizedWidth:t,normalizedHeight:e,normalizedSpan:n,color:r,scale:o,Raptor:u,canvas:c}){const l=new u.Paint;l.deleteLater(),l.setColor(qt(r).toFigmaArray()),l.setAlphaf(.3),l.setStyle(u.PaintStyle.Stroke),l.setStrokeWidth(o),l.setAntiAlias(!0),c.save();let h=0,p=0;for(;h<=t;)c.drawLine(h*o,0,h*o,e*o,l),h+=n;for(;p<=e;)c.drawLine(0,p*o,t*o,p*o,l),p+=n;c.restore()}function wo({canvas:t,Raptor:e,fill:n,scale:r,scaledPath:o,paintStyle:u,layerINFO:c,blendMode:l}){if(!n.visible)return;if(n.type==="GRID"){const p=o.getBounds(),w=p[2]-p[0],x=p[3]-p[1];t.save(),t.clipPath(o,e.ClipOp.Intersect,!0),x_({normalizedWidth:w/r,normalizedHeight:x/r,normalizedSpan:50,scale:r,Raptor:e,canvas:t,color:"#ffffff"}),t.restore();return}let h=null;n.type==="SOLID"&&(h=fg({Raptor:e,paint:n,path:null})),n.type==="GRADIENT_LINEAR"&&(h=fg({Raptor:e,paint:n,path:o})),h&&(l&&h.setBlendMode(l),t.drawPath(o,h))}function kf({Raptor:t,fileData:e,canvas:n,layer:r,instanceChain:o,options:u,geometryInfo:c}){const l=Zt({localStore:e.localStore,layer:r,instanceChain:o});n.save(),r.nodeType==="vector"?c.fillGeometryList.forEach(h=>{const p=h.getPath();if(!p)return;const w=p.copy().transform(t.Matrix.scaled(r.width/r.vectorData.normalizedSize.x*e.scale,r.height/r.vectorData.normalizedSize.y*e.scale));w==null||w.deleteLater();const{fillPaints:x}=lg({info:l,styleID:h.styleID});x==null||x.forEach(E=>{if(E.type!=="SOLID"||E.visible===!1)return;n.saveLayer();const P=new t.Paint;P.deleteLater(),h.type==="CLOSED"&&(P.setStyle(t.PaintStyle.Fill),P.setColor([E.color.r,E.color.g,E.color.b,E.color.a]),P.setAlphaf(E.opacity),P.setAntiAlias(!0),n.drawPath(w,P)),n.restore()})}):c.fillGeometryList.forEach(h=>{const p=h.getPath();if(!p)return;const w=p.copy().transform(t.Matrix.scaled(e.scale,e.scale));w.deleteLater(),w&&(r.nodeType==="FRAME"||r.nodeType==="SYMBOL"||r.nodeType==="INSTANCE")&&(l.frameMaskDisabled||n.clipPath(w,t.ClipOp.Intersect,!0));const{fillPaints:x}=lg({info:l,styleID:h.styleID});x.forEach(E=>{if(E.type==="SOLID"&&E.visible)wo({canvas:n,Raptor:t,fill:E,scaledPath:w,scale:e.scale,layerINFO:l,blendMode:null,paintStyle:null});else if(E.type==="GRADIENT_LINEAR"&&E.visible)wo({Raptor:t,canvas:n,fill:E,scaledPath:w,scale:e.scale,layerINFO:l,blendMode:null,paintStyle:null});else if(E.type==="IMAGE"){u.snapshot&&(u.snapshot.contains.imageUrlMap[E.image.imageSource]=!0);const P=e.assetMap.getAsset(E.image.imageSource);if(P&&P.image){const T=new t.Paint;T.deleteLater(),T.setStyle(t.PaintStyle.Fill),T.setAntiAlias(!0),Ju({canvas:n,layer:r,Raptor:t,scale:e.scale,img:P.image,imageInfo:E.image,paint:T})}}})}),n.restore()}function Ju({canvas:t,layer:e,Raptor:n,scale:r,img:o,imageInfo:u,paint:c}){t.save(),t.translate(r*(e.width/2),r*(e.height/2)),t.rotate(u.rotate,0,0),t.translate(u.imageX*r,u.imageY*r),c&&(r>0?(e.nodeType,t.drawImageRectCubic(o,n.XYWHRect(0,0,o.width(),o.height()),n.XYWHRect(-u.width/2*r,-u.height/2*r,u.width*r,u.height*r),0,0,c)):(c.setImageFilter(null),t.drawImageRect(o,n.LTRBRect(0,0,o.width(),o.height()),n.LTRBRect(r*(-u.width/2+u.imageX),r*(-u.height/2+u.imageY),r*(u.width/2+u.imageX),r*(u.height/2+u.imageY)),c))),t.restore()}function S_({canvas:t,Raptor:e,fileData:n,layer:r,options:o}){if(t.save(),r.nodeType==="TEXT"){const{strokeList:u,shadowList:c,newParagraph:l,fillList:h}=Id({Raptor:e,fileData:n,layer:r});l&&(c.forEach(w=>{const x=new e.Paint;x.deleteLater();const E=e.ImageFilter.MakeBlur(n.doScale(w.radius),n.doScale(w.radius),e.TileMode.Decal,null);E.deleteLater(),x.setImageFilter(E),t.saveLayer(x),t.drawParagraph(w.paragraph,n.doScale(w.offset.x),n.doScale(w.offset.y)),t.drawParagraph(w.strokedParagraph,n.doScale(w.offset.x),n.doScale(w.offset.y)),t.restore()}),t.saveLayer(),h.forEach(w=>{w.paragraph&&t.drawParagraph(w.paragraph,0,0)}),u.forEach(w=>{w.paragraph&&t.drawParagraph(w.paragraph,0,0)}),t.restore())}t.restore()}function Rf({fileData:t,Raptor:e,layer:n,instanceChain:r,layerInfo:o,canvas:u,geometryInfo:c}){const{strokePaints:l}=By({info:o,styleID:0});c.strokeGeometryList.forEach(h=>{l.forEach(p=>{if(p.type==="SOLID"){u.save();const w=new e.Paint;if(w.deleteLater(),w.setStyle(e.PaintStyle.Stroke),w.setAntiAlias(!0),w.setStrokeWidth(t.doScale(o.strokeWeight)),o.dashPattern[0]>0||o.dashPattern[1]>0){const E=e.PathEffect.MakeDash([t.doScale(o.dashPattern[0]),t.doScale(o.dashPattern[1])]);E.deleteLater(),w.setPathEffect(E)}w.setColor([p.color.r,p.color.g,p.color.b,p.color.a]);const x=h.getPath();x&&(x.transform(e.Matrix.scaled(t.scale,t.scale)),u.drawPath(x,w)),u.restore()}})})}function E_({fileData:t,Raptor:e,geometryInfo:n,canvas:r,layer:o,layerInfo:u}){n.strokeGeometryList.forEach(c=>{const l=c.getPath();if(!l)return;const{strokePaints:h}=By({info:u,styleID:c.styleID}),p=l.copy().transform(e.Matrix.scaled(o.width/o.vectorData.normalizedSize.x*t.scale,o.height/o.vectorData.normalizedSize.y*t.scale));p==null||p.deleteLater(),h.forEach(w=>{var E;if(w.visible===!1)return;const x=new e.Paint;if(x.deleteLater(),x.setAntiAlias(!0),x.setColor(qt({type:"FIGMA",...w.color}).toFigmaArray()),x.setAlphaf(w.opacity),x.setStyle(e.PaintStyle.Stroke),n.data.dashPattern[0]>0||n.data.dashPattern[1]>0){const P=e.PathEffect.MakeDash([t.doScale(n.data.dashPattern[0]),t.doScale(n.data.dashPattern[1])]);P.deleteLater(),x.setPathEffect(P)}if(c.type==="CLOSED"){if(o.strokeAlign==="CENTER"){x.setStrokeWidth(t.doScale(o.strokeWeight)),r.drawPath(p,x);return}if(!((E=o.fillPaints)==null?void 0:E[0]))return;r.saveLayer();const T=new e.Paint;T.deleteLater(),T.setColor(e.BLACK),T.setAntiAlias(!0),r.drawPath(p,T);const L=new e.Paint;L.deleteLater(),o.strokeAlign==="INSIDE"?L.setBlendMode(e.BlendMode.SrcIn):o.strokeAlign==="OUTSIDE"&&L.setBlendMode(e.BlendMode.SrcOut),r.saveLayer(L),x.setStrokeWidth(t.doScale(o.strokeWeight*2)),r.drawPath(p,x),r.restore(),r.restore()}else c.type==="LINE"&&(x.setStrokeJoin(Pf({Raptor:e,value:o.strokeJoin})),o.strokeAlign==="CENTER"&&(x.setStrokeWidth(t.doScale(o.strokeWeight)),r.drawPath(p,x)))})})}function Dy({canvas:t,Raptor:e,fileData:n,geometryInfo:r,effect:o}){if(o.visible===!1)return;const u=new e.Paint;u.deleteLater();const c=e.ImageFilter.MakeBlur(n.doScale(o.radius/2),n.doScale(o.radius/2),e.TileMode.Decal,null);c.deleteLater(),u.setImageFilter(c),t.saveLayer(u);const l=new e.Paint;l.deleteLater(),l.setAntiAlias(!0),l.setColor(qt({type:"FIGMA",...o.color}).toFigmaArray()),Gy({canvas:t,Raptor:e,fileData:n,geometryInfo:r,shadowPaint:l,effect:o}),t.restore()}function Gy({canvas:t,Raptor:e,fileData:n,geometryInfo:r,shadowPaint:o,effect:u}){r.fillGeometryList.forEach(c=>{const l=c.getVisualPath({Raptor:e,scale:n.scale});l&&t.drawPath(l,o)}),r.strokeGeometryList.forEach(c=>{const l=c.getVisualPath({Raptor:e,scale:n.scale});if(l){l.transform(e.Matrix.scaled(r.data.scaleX,r.data.scaleY));const h=new e.Paint;h.deleteLater(),h.setAntiAlias(!0),h.setStyle(e.PaintStyle.Stroke),h.setColor(qt({type:"FIGMA",...u.color}).toFigmaArray());const{dashPattern:p}=r.data;if(p[0]>0||p[1]>0){const T=e.PathEffect.MakeDash([n.doScale(p[0]),n.doScale(p[1])]);T.deleteLater(),h.setPathEffect(T)}const{strokeWeight:w,strokeAlign:x,nodeType:E}=r.data;let P=w;E==="vector"&&(x==="INSIDE"?P=0:x==="CENTER"?P=w:x==="OUTSIDE"&&(P*=2)),h.setStrokeWidth(n.doScale(P)),t.drawPath(l,h)}}),r.children.forEach(c=>{t.translate(n.doScale(c.data.left),n.doScale(c.data.top)),t.rotate(c.data.rotate,n.doScale(c.data.width/2),n.doScale(c.data.height/2)),Gy({canvas:t,fileData:n,Raptor:e,geometryInfo:c,shadowPaint:o,effect:u})})}function A_({Raptor:t,fileData:e,canvas:n,path:r,effect:o}){n.save();let u=r;const c=new t.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setStyle(t.PaintStyle.Fill),c.setColor(qt(o.color).toFigmaArray());const l=t.ImageFilter.MakeBlur(e.doScale(o.radius/2),e.doScale(o.radius/2),t.TileMode.Decal,null);if(l.deleteLater(),c.setImageFilter(l),o.spread>0){const h=u.copy().stroke({width:e.doScale(o.spread*2)});h==null||h.deleteLater(),h==null||h.op(u,t.PathOp.Union),h&&(u=h)}n.translate(e.doScale(o.offset.x),e.doScale(o.offset.y)),n.drawPath(u,c),n.restore()}function C_(t,e,n,r,o){var w;const u=Yn(o.instanceChain,r);if(r.nodeType!=="FRAME"&&r.nodeType!=="SYMBOL"&&r.nodeType!=="INSTANCE")return;const c=r;if(!Dm(n,r))return;const h=Zt({localStore:n.localStore,layer:r,instanceChain:u}),p={frameMaskDisabled:h.frameMaskDisabled,relativeTransform:ir(h),fillPaints:r.fillPaints,strokePaints:r.strokePaints,children:Os(n,r),snapshot:J2(n,r),pointsRect:Fd({fileData:n,Raptor:e,layer:r,instanceChain:u,options:{}}).withShadow};if(t.save(),o.useSnapshot&&p.snapshot){const x=new e.Paint;x.deleteLater(),x.setStyle(e.PaintStyle.Fill),x.setAntiAlias(!0),t.save(),t.drawImageRect(p.snapshot,e.LTRBRect(0,0,p.snapshot.width(),p.snapshot.height()),e.LTRBRect(n.doScale(p.pointsRect[0].x),n.doScale(p.pointsRect[0].y),n.doScale(p.pointsRect[2].x),n.doScale(p.pointsRect[2].y)),x),t.restore()}else{const x=fc({localStore:n.localStore,fileData:n,layer:c,instanceChain:u,Raptor:e});(w=h.effects)==null||w.forEach(P=>{P.type==="DROP_SHADOW"&&Dy({canvas:t,Raptor:e,fileData:n,geometryInfo:x,effect:P})}),kf({Raptor:e,fileData:n,canvas:t,layer:c,instanceChain:o.instanceChain,options:o,geometryInfo:x}),p.frameMaskDisabled&&Rf({fileData:n,canvas:t,Raptor:e,layerInfo:h,layer:c,instanceChain:u,geometryInfo:x}),t.save(),p.frameMaskDisabled===!1&&t.clipRRect(e.RRectXY(e.LTRBRect(n.doScale(0),n.doScale(0),n.doScale(h.width),n.doScale(h.height)),n.doScale(h.cornerRadius),n.doScale(h.cornerRadius)),e.ClipOp.Intersect,!0);const E={bounds:o.bounds.map(P=>wa(p.relativeTransform,P)),useSnapshot:o.useSnapshot,tile:o.tile,snapshot:o.snapshot,instanceChain:u};dc(t,e,n,p.children,E),t.restore(),h.frameMaskDisabled===!1&&Rf({fileData:n,canvas:t,Raptor:e,layerInfo:h,layer:c,instanceChain:u,geometryInfo:x})}t.restore()}function __(t,e,n,r,o){var h,p,w,x,E,P,T,L,N;const u=Yn(o.instanceChain,r),c=Fd({fileData:n,Raptor:e,layer:r,instanceChain:u,options:{}}).withShadow.map(F=>({x:F.x,y:F.y})),l=Zt({localStore:n.localStore,layer:r,instanceChain:u});if(l.visible!==!1&&bd(o.bounds.map(F=>wa(ir(l),F)),c)){if(o.tile&&(o.tile.contains.layerIdMap[r.id]=!0),o.snapshot&&(o.snapshot.contains.layerIdMap[r.id]=!0),r.nodeType==="FRAME"||r.nodeType==="SYMBOL"||r.nodeType==="INSTANCE"){C_(t,e,n,r,o);return}if(r.nodeType==="SECTION"){const F=fc({localStore:n.localStore,fileData:n,layer:r,instanceChain:u,Raptor:e});t.save(),kf({Raptor:e,fileData:n,canvas:t,layer:r,instanceChain:o.instanceChain,options:o,geometryInfo:F}),Rf({fileData:n,Raptor:e,layer:r,instanceChain:u,layerInfo:l,canvas:t,geometryInfo:F});const H={bounds:o.bounds.map($=>wa(ir(l),$)),useSnapshot:o.useSnapshot,tile:o.tile,snapshot:o.snapshot,instanceChain:u};dc(t,e,n,r.children,H),t.restore()}else if(r.nodeType==="GROUP")t.save(),dc(t,e,n,r.children,o),t.restore();else if(r.nodeType==="IMAGE"){const F=((h=r.image)==null?void 0:h.imageSource)||"";o.snapshot&&(o.snapshot.contains.imageUrlMap[F]=!0);const H=(p=n.assetMap.getAsset(F))==null?void 0:p.image;if(F&&H){const $=new e.Paint;$.deleteLater(),$.setStyle(e.PaintStyle.Fill),$.setAntiAlias(!0),t.save(),T_(t,e,n,r),r.image&&Ju({canvas:t,layer:r,Raptor:e,scale:n.scale,img:H,imageInfo:r.image,paint:$}),t.restore()}}else if(r.nodeType==="vector"){const F=fc({localStore:n.localStore,fileData:n,layer:r,instanceChain:u,Raptor:e});(w=l.effects)==null||w.forEach(H=>{H.type==="DROP_SHADOW"&&Dy({canvas:t,Raptor:e,fileData:n,geometryInfo:F,effect:H})}),kf({Raptor:e,fileData:n,canvas:t,layer:r,instanceChain:o.instanceChain,options:o,geometryInfo:F}),E_({Raptor:e,canvas:t,fileData:n,layer:r,geometryInfo:F,layerInfo:l})}else if(r.nodeType==="ROUNDED_RECTANGLE"){t.save();const F=y_({Raptor:e,layer:r,scale:n.scale});(x=l.effects)!=null&&x.length&&((E=l.effects)==null||E.forEach($=>{if($.type==="DROP_SHADOW"&&$.visible){const q=new e.Path;q.deleteLater(),F.fillScaledPath&&q.op(F.fillScaledPath,e.PathOp.Union),l.strokeAlign!=="INSIDE"&&F.strokeScaledPath&&q.op(F.strokeScaledPath,e.PathOp.Union),A_({Raptor:e,fileData:n,canvas:t,path:q,effect:$})}})),t.saveLayer(),(P=l.fillPaints)==null||P.forEach($=>{F.fillScaledPath&&$.visible&&wo({canvas:t,Raptor:e,scaledPath:F.fillScaledPath,scale:n.scale,fill:$,layerINFO:l,blendMode:null,paintStyle:null})});const H=(L=n.assetMap.getAsset(((T=r.image)==null?void 0:T.imageSource)||""))==null?void 0:L.image;if(r.image&&H&&F.fillScaledPath){t.save();const $=new e.Paint;$.deleteLater(),$.setStyle(e.PaintStyle.Fill),$.setAntiAlias(!0),t.clipPath(F.fillScaledPath,e.ClipOp.Intersect,!0),Ju({canvas:t,layer:r,Raptor:e,scale:n.scale,img:H,imageInfo:r.image,paint:$}),t.restore()}if(((N=r.smartShape)==null?void 0:N.type)==="Mask"){const $=r.smartShape.url||"https://cdn.jsdelivr.net/gh/assetvoid/images/brush/0.png",q=n.assetMap.getAsset($);if(q!=null&&q.image){const te=new e.Paint;te.deleteLater(),te.setAntiAlias(!0),te.setColor(e.BLACK),te.setStyle(e.PaintStyle.Stroke),te.setStrokeWidth(n.doScale(3)),te.setBlendMode(e.BlendMode.Clear),t.drawRect(e.XYWHRect(0,0,n.doScale(r.width),n.doScale(r.height)),te),te.setStyle(e.PaintStyle.Fill),te.setStrokeWidth(0),te.setBlendMode(e.BlendMode.DstIn);const re=Lm();re.naturalWidth=q.image.width(),re.naturalHeight=q.image.height(),re.width=r.width,re.height=r.height,Ju({canvas:t,layer:r,Raptor:e,scale:n.scale,img:q.image,imageInfo:re,paint:te})}}t.restore(),l.strokePaints.length>0&&l.strokePaints.forEach($=>{t.saveLayer(),l.strokeAlign==="OUTSIDE"?(F.strokeScaledPath&&wo({canvas:t,Raptor:e,scaledPath:F.strokeScaledPath,scale:n.scale,layerINFO:l,fill:$,blendMode:null,paintStyle:null}),F.fillScaledPath&&wo({canvas:t,Raptor:e,scaledPath:F.fillScaledPath,scale:n.scale,layerINFO:l,fill:um("#000000"),blendMode:e.BlendMode.DstOut,paintStyle:null})):l.strokeAlign==="CENTER"?F.strokeScaledPath&&wo({canvas:t,Raptor:e,scaledPath:F.strokeScaledPath,scale:n.scale,layerINFO:l,fill:$,blendMode:null,paintStyle:null}):l.strokeAlign==="INSIDE"&&F.strokeScaledPath&&F.fillScaledPath&&(F.strokeScaledPath.op(F.fillScaledPath,e.PathOp.Intersect),wo({canvas:t,Raptor:e,scaledPath:F.strokeScaledPath,scale:n.scale,layerINFO:l,fill:$,blendMode:null,paintStyle:null})),t.restore()}),t.restore()}else r.nodeType==="TEXT"&&S_({canvas:t,Raptor:e,fileData:n,layer:r,options:o})}}function dc(t,e,n,r,o){r.forEach(u=>{const c=Yn(o.instanceChain,u),l=Sc({localStore:n.localStore,layer:u,instanceChain:c});t.save(),u.nodeType!=="GROUP"&&(t.translate(n.doScale(l.left),n.doScale(l.top)),t.rotate(l.rotate,n.doScale(l.width/2),n.doScale(l.height/2))),__(t,e,n,u,{...o,instanceChain:c}),t.restore()})}function T_(t,e,n,r){t.clipRect(e.LTRBRect(0,0,n.doScale(r.width),n.doScale(r.height)),e.ClipOp.Intersect,!0)}class L_{constructor(e){this.map=new Map,this.Raptor=e}isURL(e){return/^(http:|https:)/.test(e)}getAsset(e){const n=this.map.get(e);return n&&n.status==="done"?n:(this.ensureAsset(e),null)}async ensureAsset(e){let n=this.map.get(e);if(n){if(n.status==="done")return n;if(n.promise)return await n.promise,n}return!n&&this.isURL(e)&&(n={status:"",image:null,arrayBuffer:null,promise:null},this.map.set(e,n)),n&&n.status===""&&n.promise===null&&this.isURL(e)&&(n.promise=fetch(e,{}).then(r=>r.arrayBuffer()).then(r=>(n.arrayBuffer=r,n.image=this.Raptor.MakeImageFromEncoded(r),n.status="done",n.promise=null,r)),await n.promise),n}appendAsset({imageSource:e,buffer:n}){const r=e||`${wd()}.${P_({buffer:n})}`,o=this.Raptor.MakeImageFromEncoded(n);return this.map.set(r,{status:"done",image:o,arrayBuffer:n,promise:null}),{id:r}}}function P_({buffer:t}){const e=Uint8Array.from([137,80,78,71,13,10,26,10]),n=Uint8Array.from([255,216]),r=Uint8Array.from([255,217]),o=new Uint8Array(t.slice(0,8));return o.toString()===e.toString()?"png":new Uint8Array(t.slice(0,2)).toString()===n.toString()&&new Uint8Array(t.slice(t.byteLength-2,t.byteLength)).toString()===r.toString()?"jpg":(console.log(`Unknown image format: ${o}`),"png")}const Go={PURPLE:"#8638E5",BLUE:"#0d99ff"};function M_({fileData:t,layer:e,Raptor:n,canvas:r}){var o,u;if(t.localStore.editingText&&((o=t.localStore.selectedSingleLayer)==null?void 0:o.nodeType)==="TEXT"&&t.localStore.selectedSingleLayer.id===e.id&&e.textData){const{newParagraph:c}=Id({Raptor:n,fileData:t,layer:e,persistNewParagraph:!0}),l=c;if(!l)return;(u=t.paragraphManager.activeParagraph)==null||u.delete(),t.paragraphManager.activeParagraph=l;const{start:h,end:p}=t.localStore.selectionInfo.textRange$,w=new n.Paint;if(w.deleteLater(),w.setColor(qt(Go.BLUE).toFigmaArray()),w.setAntiAlias(!0),w.setAlphaf(.5),h===p){const x=AA({textData:e.textData,paragraph:l,index:h});let E=0,P=0,T=0;l.getLineMetrics().forEach((N,F)=>{F<x.lineNumber?P+=N.height:F===x.lineNumber&&(T=N.height,x.glyph?E=x.glyph.graphemeLayoutBounds[0]:E=fy({localStore:t.localStore,layer:e,line:N}))}),r.drawRect([E,P,E+2,P+T],w)}else l.getRectsForRange(h,p,n.RectHeightStyle.Tight,n.RectWidthStyle.Tight).forEach(E=>{r.drawRect(E.rect,w)})}}function Uy(t){const e=new t.Raptor.Paint;return e.setAntiAlias(!0),e.setStrokeWidth(1),e.setColor(qt(Go.BLUE).toFigmaArray()),e.setStyle(t.Raptor.PaintStyle.Stroke),e}function Xd(t){const e=new t.Raptor.Paint;e.setAntiAlias(!0),e.setStrokeWidth(1),e.setColor(qt(Go.BLUE).toFigmaArray());const n=t.Raptor.PathEffect.MakeDash([2,2]);return e.setPathEffect(n),n.delete(),e.setStyle(t.Raptor.PaintStyle.Stroke),e}function Hi(t){return t==="BLUE"?qt(Go.BLUE).toFigmaArray():t==="PURPLE"?qt(Go.PURPLE).toFigmaArray():qt(Go.BLUE).toFigmaArray()}function I_({canvas:t,fileData:e,layer:n}){const r=Rs(e,n)?Hi("PURPLE"):Hi("BLUE"),{absoluteTransform:o,rotate:u}=So(e,{type:"layer",layerId:n.id});t.save(),t.translate(e.doScale(o[0][2]),e.doScale(o[1][2])),t.rotate(u,0,0);const c=Xd(e);c.setColor(r),t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(n.width),e.doScale(n.height)),c),c.delete(),t.restore()}function k_({fileData:t,canvas:e,layer:n,room:r}){if(n&&r&&aE(t.localStore,n)){const{absoluteTransform:o,rotate:u}=So(t,{type:"layer",layerId:r.id});e.save(),e.translate(t.doScale(o[0][2]),t.doScale(o[1][2])),e.rotate(u,0,0);const c=Xd(t),l=sE(n),h=uE(n);(l==="MIN"||l==="STRETCH")&&e.drawLine(t.doScale(0),t.doScale(n.top+n.height/2),t.doScale(n.left),t.doScale(n.top+n.height/2),c),(l==="MAX"||l==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width),t.doScale(n.top+n.height/2),t.doScale(r.width),t.doScale(n.top+n.height/2),c),(h==="MIN"||h==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width/2),t.doScale(0),t.doScale(n.left+n.width/2),t.doScale(n.top),c),(h==="MAX"||h==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width/2),t.doScale(n.top+n.height),t.doScale(n.left+n.width/2),t.doScale(r.height),c),c.delete(),e.restore()}}function R_(t,e,n,r,o){Mf({fileData:t,localStore:t.localStore,layer:n,instanceChain:r}).forEach(({childInfo:u})=>{const c=ir(u),l=Ac(c);e.save(),e.translate(t.doScale(c[0][2]),t.doScale(c[1][2])),e.rotate(l,0,0);const h=Xd(t);h.setColor(o),e.drawRect(t.Raptor.XYWHRect(0,0,t.doScale(u.width),t.doScale(u.height)),h),h.delete(),e.restore()})}function O_({fileData:t,canvas:e,layer:n,path:r}){const{absoluteTransform:o,rotate:u}=So(t,{type:"layer",layerId:n.id});if(e.save(),e.translate(t.doScale(o[0][2]),t.doScale(o[1][2])),e.rotate(u,0,0),r){const c=new t.Raptor.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setColor(t.Raptor.RED),c.setAlphaf(.2);const l=n.width/n.vectorData.normalizedSize.x*t.scale,h=n.height/n.vectorData.normalizedSize.y*t.scale,p=t.Raptor.Matrix.scaled(l,h),w=r.copy().transform(p);w.deleteLater(),e.drawPath(w,c)}e.restore()}function F_(t,e,n){var E,P,T;const{absoluteTransform:r,rotate:o}=So(t,{type:"layer",layerId:n.id});e.save(),e.translate(t.doScale(r[0][2]),t.doScale(r[1][2])),e.rotate(o,0,0);const u=new t.Raptor.Paint;u.deleteLater(),u.setAntiAlias(!0),u.setStyle(t.Raptor.PaintStyle.Stroke),u.setColor(qt(Go.BLUE).toFigmaArray()),u.setStrokeWidth(2);const c=new t.Raptor.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setStyle(t.Raptor.PaintStyle.Stroke),c.setColor(qt("#E1E4E5").toFigmaArray()),c.setStrokeWidth(2);const l=new t.Raptor.Paint;l.deleteLater(),l.setAntiAlias(!0),l.setStyle(t.Raptor.PaintStyle.Fill),l.setColor(qt("#FFFFFF").toFigmaArray());const h=[];let p=null;((P=(E=t.localStore.editingVector)==null?void 0:E.currentOperation)==null?void 0:P.type)==="SegmentCandidate"&&(p=(T=t.localStore.editingVector)==null?void 0:T.currentOperation);const w=[];n.vectorData.vectorNetwork.vertices.forEach((L,N)=>{const F=ps({layer:n,normalizedPoint:L}),H=Ss(r,F);h.push({type:"VectorVertex",vertexIndex:N,localPoint:F,visualPoint:{x:t.doScale(H.x),y:t.doScale(H.y)}})});function x({x:L,y:N,dx:F,dy:H,segmentId:$,kind:q}){if(!(F===0&&H===0)){const re=ps({layer:n,normalizedPoint:{x:L,y:N}}),le=ps({layer:n,normalizedPoint:{x:F,y:H}}),Ae={x:re.x+le.x,y:re.y+le.y};if(e.drawCircle(t.doScale(Ae.x),t.doScale(Ae.y),3,c),e.drawLine(t.doScale(re.x),t.doScale(re.y),t.doScale(Ae.x),t.doScale(Ae.y),c),$>-1){const Z=Ss(r,Ae);t.overlay$$.push({type:"BezierControlPoint",segmentId:$,kind:q,visualPoint:{x:t.doScale(Z.x),y:t.doScale(Z.y)},radius:3})}}}if(n.vectorData.vectorNetwork.segments.forEach((L,N)=>{const{start:F,end:H}=L,$=n.vectorData.vectorNetwork.vertices[F.vertex],q=n.vectorData.vectorNetwork.vertices[H.vertex];$&&x({x:$.x,y:$.y,dx:F.dx,dy:F.dy,segmentId:N,kind:"start"}),q&&x({x:q.x,y:q.y,dx:H.dx,dy:H.dy,segmentId:N,kind:"end"})}),p){const{startVertex:L,endVertex:N}=p;L.vid&&(L.vid===-1&&w.push({type:"VectorVertex",vertexIndex:-1,localPoint:ps({layer:n,normalizedPoint:{x:L.x,y:L.y}}),visualPoint:{x:0,y:0}}),x({x:L.x,y:L.y,dx:L.dx,dy:L.dy,segmentId:-1,kind:"start"})),N.vid===-1&&(w.push({type:"VectorVertex",vertexIndex:-1,localPoint:ps({layer:n,normalizedPoint:{x:N.x,y:N.y}}),visualPoint:{x:0,y:0}}),x({x:N.x,y:N.y,dx:N.dx,dy:N.dy,segmentId:-1,kind:"end"}))}if(h.forEach((L,N)=>{const F=t.doScale(L.localPoint.x),H=t.doScale(L.localPoint.y);e.drawCircle(F,H,3,u),e.drawCircle(F,H,3,l),t.overlayFont&&e.drawText(`${L.vertexIndex}`,F,H,l,t.overlayFont)}),w.forEach((L,N)=>{const F=t.doScale(L.localPoint.x),H=t.doScale(L.localPoint.y);e.drawCircle(F,H,3,u),e.drawCircle(F,H,3,l)}),t.overlay$$.push(...h),p&&t.localStore.currentStatus!=="bendingSegment"){const{startVertex:L,endVertex:N}=p;if(L&&t.localStore.currentTool==="VectorPenTool"&&!(L.x===N.x&&L.y===N.y)){const F={x:L.x+L.dx,y:L.y+L.dy},H={x:N.x+N.dx,y:N.y+N.dy},$=new t.Raptor.Path;if($.deleteLater(),$.moveTo(L.x,L.y),$.cubicTo(F.x,F.y,H.x,H.y,N.x,N.y),n.width>0&&n.height>0){const q=t.Raptor.Matrix.scaled(n.width/n.vectorData.normalizedSize.x*t.scale,n.height/n.vectorData.normalizedSize.y*t.scale);$.transform(q)}e.drawPath($,u)}}e.restore()}function N_({canvas:t,fileData:e,Raptor:n}){const{hoveredTarget:r}=e,o=(r==null?void 0:r.id)||"",u=e.localStore.getLayer(o);if(u&&r){const{instanceChain:c,absoluteTransform:l,rotate:h}=_d({fileData:e,target:r}),p=Rs(e,u)||c.length>0?Hi("PURPLE"):Hi("BLUE");{const w=Zt({localStore:e.localStore,layer:u,instanceChain:c});t.save(),t.translate(e.doScale(l[0][2]),e.doScale(l[1][2])),t.rotate(h,0,0);const x=new n.Paint;x.setAntiAlias(!0),x.setColor(p),x.setStrokeWidth(2),x.setStyle(n.PaintStyle.Stroke);const E=Gm({layer:u,layerInfo:w});t.drawRect(n.XYWHRect(0,0,e.doScale(E.width),e.doScale(E.height)),x),x.delete(),En(u)!=="NONE"&&R_(e,t,u,c,p),t.restore()}}}function $_({canvas:t,fileData:e,layer:n,instanceChain:r}){const o=Zt({localStore:e.localStore,layer:n,instanceChain:r}),{absoluteTransform:u,rotate:c}=So(e,{type:"layer",layerId:n.id});t.save(),t.translate(e.doScale(u[0][2]),e.doScale(u[1][2])),t.rotate(c,0,0);const l=Uy(e);l.deleteLater(),l.setStrokeWidth(1.5),Rs(e,n)?l.setColor(Hi("PURPLE")):l.setColor(Hi("BLUE"));const h=Gm({layer:n,layerInfo:o});t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(h.width),e.doScale(h.height)),l);const p=new e.Raptor.Paint;p.deleteLater(),p.setColor(e.Raptor.WHITE),p.setStyle(e.Raptor.PaintStyle.Fill),p.setAntiAlias(!0),[[0,0],[h.width,0],[0,h.height],[h.width,h.height]].forEach(w=>{t.save(),t.translate(e.doScale(w[0]),e.doScale(w[1])),B_({canvas:t,fillPaint:p,linePaint:l,fileData:e}),t.restore()}),t.restore()}function B_({canvas:t,linePaint:e,fillPaint:n,fileData:r}){t.drawRect(r.Raptor.XYWHRect(-4,-4,8,8),e),t.drawRect(r.Raptor.XYWHRect(-4,-4,8,8),n)}function D_({canvas:t,fileData:e,options:n}){const{localStore:r}=e;e.overlay$$=[],N_({canvas:t,fileData:e,Raptor:e.Raptor});const o=e.localStore.props.getSelectionInfo();if(o.phantom===null){const c=EE(e.localStore).layer;if(c){if(c.nodeType==="TEXT"){const l=c,{absoluteTransform:h,rotate:p}=So(e,{type:"layer",layerId:l.id});t.save(),t.translate(e.doScale(h[0][2]),e.doScale(h[1][2])),t.rotate(p,0,0),M_({fileData:e,Raptor:e.Raptor,canvas:t,layer:c}),t.restore()}if(c.nodeType==="vector"){const l=c,{absoluteTransform:h,rotate:p}=So(e,{type:"layer",layerId:l.id});t.save(),t.translate(e.doScale(h[0][2]),e.doScale(h[1][2])),t.rotate(p,0,0);const w=new e.Raptor.Paint;w.deleteLater(),w.setColor(Hi("BLUE")),w.setStyle(e.Raptor.PaintStyle.Stroke),w.setStrokeWidth(2),w.setAntiAlias(!0),l.vectorData.vectorNetwork.segments.forEach(x=>{const E=l.vectorData.vectorNetwork.vertices[x.start.vertex],P=l.vectorData.vectorNetwork.vertices[x.end.vertex];if(E&&P){const T=new e.Raptor.Path;T.deleteLater(),T.moveTo(E.x,E.y),x.start.dx===0&&x.start.dy===0&&x.end.dx===0&&x.end.dy===0?T.lineTo(P.x,P.y):T.cubicTo(E.x+x.start.dx,E.y+x.start.dy,P.x+x.end.dx,P.y+x.end.dy,P.x,P.y),T.transform(e.Raptor.Matrix.scaled(l.width/l.vectorData.normalizedSize.x*e.scale,l.height/l.vectorData.normalizedSize.y*e.scale)),t.drawPath(T,w)}}),t.restore()}if(c.nodeType==="vector"&&e.localStore.editingVector){const l=c;if(r.vectorEditor&&r.pointerTarget$$&&r.pointerTarget$$.type==="VectorRegion"){const h=r.pointerTarget$$.regionId,p=r.vectorEditor.closedPathList[h];p&&O_({fileData:e,canvas:t,layer:l,path:p})}F_(e,t,l)}else{const l=$r(e,c.parentId);l&&En(l)!=="NONE"&&I_({canvas:t,fileData:e,layer:l}),n.enableDrawResizer&&$_({fileData:e,canvas:t,layer:c,instanceChain:[]});const h=gi(e.localStore,c);h&&k_({fileData:e,canvas:t,layer:c,room:h})}}}if(o.phantom){const{phantom:u}=o,{absoluteTransform:c,instanceChain:l,rotate:h}=_d({fileData:e,target:u}),{id:p}=u,w=$r(e,p);if(w){const x=Sc({localStore:e.localStore,layer:w,instanceChain:l});t.save(),t.translate(e.doScale(c[0][2]),e.doScale(c[1][2])),t.rotate(h,0,0);const E=Uy(e);E.setColor(Rs(e,w)?Hi("PURPLE"):Hi("BLUE")),t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(x.width),e.doScale(x.height)),E),E.delete(),t.restore()}}}function G_({libra:t,width:e,height:n}){var r;t.canvasElement.width=e*window.devicePixelRatio,t.canvasElement.height=n*window.devicePixelRatio,(r=t.surface)==null||r.deleteLater(),t.surface=t.Raptor.MakeOnScreenGLSurface(t.gr,t.canvasElement.width,t.canvasElement.height,t.Raptor.ColorSpace.SRGB),t.canvasDirty=!0}function vR({path:t,localStore:e,elem:n,width:r,height:o,fontStore:u}){return p2({locateFile:l=>`${t}${l}`}).then(l=>{var E;const h=l.GetWebGLContext(n,{preserveDrawingBuffer:1}),w={gr:l.MakeWebGLContext(h),Raptor:l,canvasElement:n,surface:null,canvasDirty:!1,fileData:{localStore:e,layerAssetsMap:{},fontProvider:l.TypefaceFontProvider.Make(),fontStore:u,snapshotMap:{},doScale(P){return P*e.getPageScale()},get scale(){return e.getPageScale()},assetMap:new L_(l),paragraphManager:{activeParagraph:null},Raptor:l,hoveredTarget:null,overlay$$:[],overlayFont:null}};G_({libra:w,width:r,height:o}),e.props.doAction=()=>{w.canvasDirty=!0};function x(P){var T;if(w.canvasDirty){w.canvasDirty=!1;try{const L=[...e.getNormalLayerList()],N=e.getPageScale();z_({libra:w,canvas:P,layerList:L,scale:N,page:e.props.getCurrentPage(),...ly({localStore:e,canvasElement:n})})}catch(L){console.error(L)}}(T=w.surface)==null||T.requestAnimationFrame(x)}return(E=w.surface)==null||E.requestAnimationFrame(x),w})}const Ui=typeof window<"u"?document.createElement("canvas"):null;let hf=!1;function U_({libra:t,page:e,layerList:n,isThumbnail:r}){if(hf)throw new Error("Offscreen canvas is busy");return hf=!0,new Promise(o=>{if(!Ui)throw new Error("Offscreen canvas does not exist");let u=1;Ui.width=e.width,Ui.height=e.height,r?(Ui.width=300,u=300/e.width,Ui.height=e.height*u):(u=Math.min(4e3/e.width,4e3/e.height,2),Ui.width=e.width*u,Ui.height=e.height*u);const c=t.Raptor.MakeWebGLCanvasSurface(Ui);c==null||c.drawOnce(l=>{l.clear(t.Raptor.TRANSPARENT),l.save();const h={...t.fileData,scale:u,doScale:p=>p*u};Wy({fileData:h,Raptor:t.Raptor,canvas:l,page:e,layerList:n,scale:u}),l.restore()}),setTimeout(()=>{Ui.toBlob(l=>{l&&(hf=!1,o(l))},"image/png",1)},1e3)})}async function wR({libra:t,page:e,layerList:n,filename:r}){const o=await U_({libra:t,page:e,layerList:n,isThumbnail:!1});o&&W_({blob:o,filename:r})}function W_({blob:t,filename:e}){const n=window.URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.href=n,r.download=e,r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)}function Wy({Raptor:t,fileData:e,canvas:n,page:r,layerList:o,scale:u}){const c=m_({Raptor:t,width:r.width*u,height:r.height*u,cornerRadius:0});c&&(c==null||c.deleteLater(),r.fillPaints.forEach(l=>{wo({fill:l,Raptor:t,canvas:n,scaledPath:c,scale:u,paintStyle:null,blendMode:null,layerINFO:{}})})),dc(n,t,e,o,{bounds:F2({x:-9e5/e.scale,y:-9e5/e.scale,width:18e5/e.scale,height:18e5/e.scale}),useSnapshot:!1,tile:null,instanceChain:[]})}function z_({left:t,top:e,libra:n,canvas:r,page:o,layerList:u,scale:c}){r.clear(n.Raptor.TRANSPARENT),r.save(),r.scale(window.devicePixelRatio,window.devicePixelRatio),r.translate(t,e),r.save(),r.clipRect(n.Raptor.XYWHRect(0,0,o.width*c,o.height*c),n.Raptor.ClipOp.Intersect,!0),Wy({Raptor:n.Raptor,canvas:r,page:o,layerList:u,scale:c,fileData:n.fileData}),r.restore(),D_({fileData:n.fileData,canvas:r,options:{enableDrawResizer:!1}}),r.restore()}var H_=Object.defineProperty,j_=Object.getOwnPropertyDescriptor,zy=(t,e,n,r)=>{for(var o=r>1?void 0:r?j_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&H_(e,n,o),o};class Hy{constructor(e){this.containerAbsoluteTransform=null,this.layerToBeCreated={startWorldPoint:null,endWorldPoint:null},Is(this),this.context=e,this.fileData=e.fileData}get currentPage(){return this.fileData.localStore.props.getCurrentPage()}get topLevelLayerList(){return this.currentPage.children}get layerMap(){return this.fileData.layerMap}get layerToBeCreatedRect(){const e=this,n={left:0,top:0,width:0,height:0};return e&&e.layerToBeCreated.startWorldPoint&&e.layerToBeCreated.endWorldPoint&&(n.left=Math.min(e.layerToBeCreated.startWorldPoint.x,e.layerToBeCreated.endWorldPoint.x),n.top=Math.min(e.layerToBeCreated.startWorldPoint.y,e.layerToBeCreated.endWorldPoint.y),n.width=Math.abs(e.layerToBeCreated.startWorldPoint.x-e.layerToBeCreated.endWorldPoint.x),n.height=Math.abs(e.layerToBeCreated.startWorldPoint.y-e.layerToBeCreated.endWorldPoint.y)),n}}zy([ze],Hy.prototype,"layerToBeCreated",2);zy([mt],Hy.prototype,"layerToBeCreatedRect",1);const V_={PIXI:{}};typeof window<"u"&&am(()=>import("./pixi-legacy-_fx4_RaV.js"),__vite__mapDeps([0,1,2,3])).then(t=>{V_.PIXI=t});const X_={};typeof window<"u"&&am(()=>import("./index-Ctga1AvS.js").then(t=>t.i),__vite__mapDeps([4,2,1,5])).then(t=>{X_.ReactQuill=t.default});var jy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var u="",c=0;c<arguments.length;c++){var l=arguments[c];l&&(u=o(u,r(l)))}return u}function r(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var c="";for(var l in u)e.call(u,l)&&u[l]&&(c=o(c,l));return c}function o(u,c){return c?u?u+" "+c:u+c:u}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(jy);var Y_=jy.exports;const Zr=Vo(Y_);function or(){return or=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},or.apply(null,arguments)}function Ct(t){"@babel/helpers - typeof";return Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(t)}var K_=Symbol.for("react.element"),Q_=Symbol.for("react.transitional.element"),q_=Symbol.for("react.fragment");function J_(t){return t&&Ct(t)==="object"&&(t.$$typeof===K_||t.$$typeof===Q_)&&t.type===q_}var Of={},Z_=function(e){};function eT(t,e){}function tT(t,e){}function nT(){Of={}}function Vy(t,e,n){!e&&!Of[n]&&(t(!1,n),Of[n]=!0)}function Gs(t,e){Vy(eT,t,e)}function rT(t,e){Vy(tT,t,e)}Gs.preMessage=Z_;Gs.resetWarned=nT;Gs.noteOnce=rT;function iT(t,e){if(Ct(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ct(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xy(t){var e=iT(t,"string");return Ct(e)=="symbol"?e:e+""}function je(t,e,n){return(e=Xy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dg(Object(n),!0).forEach(function(r){je(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hg(t){return t instanceof HTMLElement||t instanceof SVGElement}function oT(t){return t&&Ct(t)==="object"&&hg(t.nativeElement)?t.nativeElement:hg(t)?t:null}function aT(t){var e=oT(t);if(e)return e;if(t instanceof Xt.Component){var n;return(n=Vp.findDOMNode)===null||n===void 0?void 0:n.call(Vp,t)}return null}var Yy={exports:{}},Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=Symbol.for("react.element"),Kd=Symbol.for("react.portal"),Oc=Symbol.for("react.fragment"),Fc=Symbol.for("react.strict_mode"),Nc=Symbol.for("react.profiler"),$c=Symbol.for("react.provider"),Bc=Symbol.for("react.context"),sT=Symbol.for("react.server_context"),Dc=Symbol.for("react.forward_ref"),Gc=Symbol.for("react.suspense"),Uc=Symbol.for("react.suspense_list"),Wc=Symbol.for("react.memo"),zc=Symbol.for("react.lazy"),uT=Symbol.for("react.offscreen"),Ky;Ky=Symbol.for("react.module.reference");function Ur(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Yd:switch(t=t.type,t){case Oc:case Nc:case Fc:case Gc:case Uc:return t;default:switch(t=t&&t.$$typeof,t){case sT:case Bc:case Dc:case zc:case Wc:case $c:return t;default:return e}}case Kd:return e}}}Ft.ContextConsumer=Bc;Ft.ContextProvider=$c;Ft.Element=Yd;Ft.ForwardRef=Dc;Ft.Fragment=Oc;Ft.Lazy=zc;Ft.Memo=Wc;Ft.Portal=Kd;Ft.Profiler=Nc;Ft.StrictMode=Fc;Ft.Suspense=Gc;Ft.SuspenseList=Uc;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(t){return Ur(t)===Bc};Ft.isContextProvider=function(t){return Ur(t)===$c};Ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yd};Ft.isForwardRef=function(t){return Ur(t)===Dc};Ft.isFragment=function(t){return Ur(t)===Oc};Ft.isLazy=function(t){return Ur(t)===zc};Ft.isMemo=function(t){return Ur(t)===Wc};Ft.isPortal=function(t){return Ur(t)===Kd};Ft.isProfiler=function(t){return Ur(t)===Nc};Ft.isStrictMode=function(t){return Ur(t)===Fc};Ft.isSuspense=function(t){return Ur(t)===Gc};Ft.isSuspenseList=function(t){return Ur(t)===Uc};Ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Oc||t===Nc||t===Fc||t===Gc||t===Uc||t===uT||typeof t=="object"&&t!==null&&(t.$$typeof===zc||t.$$typeof===Wc||t.$$typeof===$c||t.$$typeof===Bc||t.$$typeof===Dc||t.$$typeof===Ky||t.getModuleId!==void 0)};Ft.typeOf=Ur;Yy.exports=Ft;var pf=Yy.exports;function Qd(t,e,n){var r=J.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var cT=Number(J.version.split(".")[0]),Qy=function(e,n){typeof e=="function"?e(n):Ct(e)==="object"&&e&&"current"in e&&(e.current=n)},lT=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.filter(Boolean);return o.length<=1?o[0]:function(u){n.forEach(function(c){Qy(c,u)})}},bR=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Qd(function(){return lT.apply(void 0,n)},n,function(o,u){return o.length!==u.length||o.every(function(c,l){return c!==u[l]})})},qy=function(e){var n,r;if(!e)return!1;if(qd(e)&&cT>=19)return!0;var o=pf.isMemo(e)?e.type.type:e.type;return!(typeof o=="function"&&!((n=o.prototype)!==null&&n!==void 0&&n.render)&&o.$$typeof!==pf.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==pf.ForwardRef)};function qd(t){return J.isValidElement(t)&&!J_(t)}var xR=function(e){return qd(e)&&qy(e)},fT=function(e){if(e&&qd(e)){var n=e;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null};function vi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xy(r.key),r)}}function wi(t,e,n){return e&&pg(t.prototype,e),n&&pg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ff(t,e){return Ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ff(t,e)}function Hc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ff(t,e)}function hc(t){return hc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hc(t)}function Jy(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jy=function(){return!!t})()}function Uo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dT(t,e){if(e&&(Ct(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uo(t)}function jc(t){var e=Jy();return function(){var n,r=hc(t);if(e){var o=hc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dT(this,n)}}function Nf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function hT(t){if(Array.isArray(t))return Nf(t)}function Zy(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jd(t,e){if(t){if(typeof t=="string")return Nf(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nf(t,e):void 0}}function pT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mr(t){return hT(t)||Zy(t)||Jd(t)||pT()}var e0=function(e){return+setTimeout(e,16)},t0=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(e0=function(e){return window.requestAnimationFrame(e)},t0=function(e){return window.cancelAnimationFrame(e)});var gg=0,Zd=new Map;function n0(t){Zd.delete(t)}var $f=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;gg+=1;var r=gg;function o(u){if(u===0)n0(r),e();else{var c=e0(function(){o(u-1)});Zd.set(r,c)}}return o(n),r};$f.cancel=function(t){var e=Zd.get(t);return n0(t),t0(e)};function r0(t){if(Array.isArray(t))return t}function gT(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,u,c,l=[],h=!0,p=!1;try{if(u=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=u.call(n)).done)&&(l.push(r.value),l.length!==e);h=!0);}catch(w){p=!0,o=w}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(p)throw o}}return l}}function i0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function et(t,e){return r0(t)||gT(t,e)||Jd(t,e)||i0()}function Es(t){for(var e=0,n,r=0,o=t.length;o>=4;++r,o-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Vi(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function mT(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var mg="data-rc-order",yg="data-rc-priority",yT="rc-util-key",Bf=new Map;function o0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):yT}function Vc(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function vT(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function eh(t){return Array.from((Bf.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function a0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Vi())return null;var n=e.csp,r=e.prepend,o=e.priority,u=o===void 0?0:o,c=vT(r),l=c==="prependQueue",h=document.createElement("style");h.setAttribute(mg,c),l&&u&&h.setAttribute(yg,"".concat(u)),n!=null&&n.nonce&&(h.nonce=n==null?void 0:n.nonce),h.innerHTML=t;var p=Vc(e),w=p.firstChild;if(r){if(l){var x=(e.styles||eh(p)).filter(function(E){if(!["prepend","prependQueue"].includes(E.getAttribute(mg)))return!1;var P=Number(E.getAttribute(yg)||0);return u>=P});if(x.length)return p.insertBefore(h,x[x.length-1].nextSibling),h}p.insertBefore(h,w)}else p.appendChild(h);return h}function s0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Vc(e);return(e.styles||eh(n)).find(function(r){return r.getAttribute(o0(e))===t})}function u0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=s0(t,e);if(n){var r=Vc(e);r.removeChild(n)}}function wT(t,e){var n=Bf.get(t);if(!n||!mT(document,n)){var r=a0("",e),o=r.parentNode;Bf.set(t,o),t.removeChild(r)}}function Wo(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Vc(n),o=eh(r),u=Be(Be({},n),{},{styles:o});wT(r,u);var c=s0(e,u);if(c){var l,h;if((l=u.csp)!==null&&l!==void 0&&l.nonce&&c.nonce!==((h=u.csp)===null||h===void 0?void 0:h.nonce)){var p;c.nonce=(p=u.csp)===null||p===void 0?void 0:p.nonce}return c.innerHTML!==t&&(c.innerHTML=t),c}var w=a0(t,u);return w.setAttribute(o0(u),e),w}function bT(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jo(t,e){if(t==null)return{};var n,r,o=bT(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(r=0;r<u.length;r++)n=u[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function xT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function o(u,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=r.has(u);if(Gs(!h,"Warning: There may be circular references"),h)return!1;if(u===c)return!0;if(n&&l>1)return!1;r.add(u);var p=l+1;if(Array.isArray(u)){if(!Array.isArray(c)||u.length!==c.length)return!1;for(var w=0;w<u.length;w++)if(!o(u[w],c[w],p))return!1;return!0}if(u&&c&&Ct(u)==="object"&&Ct(c)==="object"){var x=Object.keys(u);return x.length!==Object.keys(c).length?!1:x.every(function(E){return o(u[E],c[E],p)})}return!1}return o(t,e)}var ST="%";function Df(t){return t.join(ST)}var ET=function(){function t(e){vi(this,t),je(this,"instanceId",void 0),je(this,"cache",new Map),this.instanceId=e}return wi(t,[{key:"get",value:function(n){return this.opGet(Df(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(Df(n),r)}},{key:"opUpdate",value:function(n,r){var o=this.cache.get(n),u=r(o);u===null?this.cache.delete(n):this.cache.set(n,u)}}]),t}(),xa="data-token-hash",ei="data-css-hash",bo="__cssinjs_instance__";function AT(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(ei,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(o){o[bo]=o[bo]||t,o[bo]===t&&document.head.insertBefore(o,n)});var r={};Array.from(document.querySelectorAll("style[".concat(ei,"]"))).forEach(function(o){var u=o.getAttribute(ei);if(r[u]){if(o[bo]===t){var c;(c=o.parentNode)===null||c===void 0||c.removeChild(o)}}else r[u]=!0})}return new ET(t)}var Us=J.createContext({hashPriority:"low",cache:AT(),defaultCache:!0});function CT(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var th=function(){function t(){vi(this,t),je(this,"cache",void 0),je(this,"keys",void 0),je(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return wi(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,o,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c={map:this.cache};return n.forEach(function(l){if(!c)c=void 0;else{var h;c=(h=c)===null||h===void 0||(h=h.map)===null||h===void 0?void 0:h.get(l)}}),(r=c)!==null&&r!==void 0&&r.value&&u&&(c.value[1]=this.cacheCallTimes++),(o=c)===null||o===void 0?void 0:o.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var o=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var u=this.keys.reduce(function(p,w){var x=et(p,2),E=x[1];return o.internalGet(w)[1]<E?[w,o.internalGet(w)[1]]:p},[this.keys[0],this.cacheCallTimes]),c=et(u,1),l=c[0];this.delete(l)}this.keys.push(n)}var h=this.cache;n.forEach(function(p,w){if(w===n.length-1)h.set(p,{value:[r,o.cacheCallTimes++]});else{var x=h.get(p);x?x.map||(x.map=new Map):h.set(p,{map:new Map}),h=h.get(p).map}})}},{key:"deleteByPath",value:function(n,r){var o=n.get(r[0]);if(r.length===1){var u;return o.map?n.set(r[0],{map:o.map}):n.delete(r[0]),(u=o.value)===null||u===void 0?void 0:u[0]}var c=this.deleteByPath(o.map,r.slice(1));return(!o.map||o.map.size===0)&&!o.value&&n.delete(r[0]),c}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!CT(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();je(th,"MAX_CACHE_SIZE",20);je(th,"MAX_CACHE_OFFSET",5);var vg=0,c0=function(){function t(e){vi(this,t),je(this,"derivatives",void 0),je(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=vg,e.length===0&&(e.length>0,void 0),vg+=1}return wi(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,o){return o(n,r)},void 0)}}]),t}(),gf=new th;function Gf(t){var e=Array.isArray(t)?t:[t];return gf.has(e)||gf.set(e,new c0(e)),gf.get(e)}var _T=new WeakMap,mf={};function TT(t,e){for(var n=_T,r=0;r<e.length;r+=1){var o=e[r];n.has(o)||n.set(o,new WeakMap),n=n.get(o)}return n.has(mf)||n.set(mf,t()),n.get(mf)}var wg=new WeakMap;function ws(t){var e=wg.get(t)||"";return e||(Object.keys(t).forEach(function(n){var r=t[n];e+=n,r instanceof c0?e+=r.id:r&&Ct(r)==="object"?e+=ws(r):e+=r}),e=Es(e),wg.set(t,e)),e}function bg(t,e){return Es("".concat(e,"_").concat(ws(t)))}var Uf=Vi();function Wf(t){return typeof t=="number"?"".concat(t,"px"):t}function pc(t,e,n){var r,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(u)return t;var c=Be(Be({},o),{},(r={},je(r,xa,e),je(r,ei,n),r)),l=Object.keys(c).map(function(h){var p=c[h];return p?"".concat(h,'="').concat(p,'"'):null}).filter(function(h){return h}).join(" ");return"<style ".concat(l,">").concat(t,"</style>")}var Zu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},LT=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(o){var u=et(o,2),c=u[0],l=u[1];return"".concat(c,":").concat(l,";")}).join(""),"}"):""},l0=function(e,n,r){var o={},u={};return Object.entries(e).forEach(function(c){var l,h,p=et(c,2),w=p[0],x=p[1];if(r!=null&&(l=r.preserve)!==null&&l!==void 0&&l[w])u[w]=x;else if((typeof x=="string"||typeof x=="number")&&!(r!=null&&(h=r.ignore)!==null&&h!==void 0&&h[w])){var E,P=Zu(w,r==null?void 0:r.prefix);o[P]=typeof x=="number"&&!(r!=null&&(E=r.unitless)!==null&&E!==void 0&&E[w])?"".concat(x,"px"):String(x),u[w]="var(".concat(P,")")}}),[u,LT(o,n,{scope:r==null?void 0:r.scope})]},xg=Vi()?J.useLayoutEffect:J.useEffect,f0=function(e,n){var r=J.useRef(!0);xg(function(){return e(r.current)},n),xg(function(){return r.current=!1,function(){r.current=!0}},[])},SR=function(e,n){f0(function(r){if(!r)return e()},n)},PT=Be({},vd),Sg=PT.useInsertionEffect,MT=function(e,n,r){J.useMemo(e,r),f0(function(){return n(!0)},r)},IT=Sg?function(t,e,n){return Sg(function(){return t(),e()},n)}:MT,kT=Be({},vd),RT=kT.useInsertionEffect,OT=function(e){var n=[],r=!1;function o(u){r||n.push(u)}return J.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(u){return u()})}},e),o},FT=function(){return function(e){e()}},NT=typeof RT<"u"?OT:FT;function nh(t,e,n,r,o){var u=J.useContext(Us),c=u.cache,l=[t].concat(mr(e)),h=Df(l),p=NT([h]),w=function(T){c.opUpdate(h,function(L){var N=L||[void 0,void 0],F=et(N,2),H=F[0],$=H===void 0?0:H,q=F[1],te=q,re=te||n(),le=[$,re];return T?T(le):le})};J.useMemo(function(){w()},[h]);var x=c.opGet(h),E=x[1];return IT(function(){o==null||o(E)},function(P){return w(function(T){var L=et(T,2),N=L[0],F=L[1];return P&&N===0&&(o==null||o(E)),[N+1,F]}),function(){c.opUpdate(h,function(T){var L=T||[],N=et(L,2),F=N[0],H=F===void 0?0:F,$=N[1],q=H-1;return q===0?(p(function(){(P||!c.opGet(h))&&(r==null||r($,!1))}),null):[H-1,$]})}},[h]),E}var $T={},BT="css",Bo=new Map;function DT(t){Bo.set(t,(Bo.get(t)||0)+1)}function GT(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(xa,'="').concat(t,'"]'));n.forEach(function(r){if(r[bo]===e){var o;(o=r.parentNode)===null||o===void 0||o.removeChild(r)}})}}var UT=0;function WT(t,e){Bo.set(t,(Bo.get(t)||0)-1);var n=Array.from(Bo.keys()),r=n.filter(function(o){var u=Bo.get(o)||0;return u<=0});n.length-r.length>UT&&r.forEach(function(o){GT(o,e),Bo.delete(o)})}var zT=function(e,n,r,o){var u=r.getDerivativeToken(e),c=Be(Be({},u),n);return o&&(c=o(c)),c},d0="token";function HT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=J.useContext(Us),o=r.cache.instanceId,u=r.container,c=n.salt,l=c===void 0?"":c,h=n.override,p=h===void 0?$T:h,w=n.formatToken,x=n.getComputedToken,E=n.cssVar,P=TT(function(){return Object.assign.apply(Object,[{}].concat(mr(e)))},e),T=ws(P),L=ws(p),N=E?ws(E):"",F=nh(d0,[l,t.id,T,L,N],function(){var H,$=x?x(P,p,t):zT(P,p,t,w),q=Be({},$),te="";if(E){var re=l0($,E.key,{prefix:E.prefix,ignore:E.ignore,unitless:E.unitless,preserve:E.preserve}),le=et(re,2);$=le[0],te=le[1]}var Ae=bg($,l);$._tokenKey=Ae,q._tokenKey=bg(q,l);var Z=(H=E==null?void 0:E.key)!==null&&H!==void 0?H:Ae;$._themeKey=Z,DT(Z);var pe="".concat(BT,"-").concat(Es(Ae));return $._hashId=pe,[$,pe,q,te,(E==null?void 0:E.key)||""]},function(H){WT(H[0]._themeKey,o)},function(H){var $=et(H,4),q=$[0],te=$[3];if(E&&te){var re=Wo(te,Es("css-variables-".concat(q._themeKey)),{mark:ei,prepend:"queue",attachTo:u,priority:-999});re[bo]=o,re.setAttribute(xa,q._themeKey)}});return F}var jT=function(e,n,r){var o=et(e,5),u=o[2],c=o[3],l=o[4],h=r||{},p=h.plain;if(!c)return null;var w=u._tokenKey,x=-999,E={"data-rc-order":"prependQueue","data-rc-priority":"".concat(x)},P=pc(c,l,w,E,p);return[x,w,P]},VT={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},h0="comm",p0="rule",g0="decl",XT="@import",YT="@namespace",KT="@keyframes",QT="@layer",m0=Math.abs,rh=String.fromCharCode;function y0(t){return t.trim()}function ec(t,e,n){return t.replace(e,n)}function qT(t,e,n){return t.indexOf(e,n)}function va(t,e){return t.charCodeAt(e)|0}function Sa(t,e,n){return t.slice(e,n)}function hi(t){return t.length}function JT(t){return t.length}function Wu(t,e){return e.push(t),t}var Xc=1,Ea=1,v0=0,Gr=0,vn=0,Ta="";function ih(t,e,n,r,o,u,c,l){return{value:t,root:e,parent:n,type:r,props:o,children:u,line:Xc,column:Ea,length:c,return:"",siblings:l}}function ZT(){return vn}function eL(){return vn=Gr>0?va(Ta,--Gr):0,Ea--,vn===10&&(Ea=1,Xc--),vn}function ti(){return vn=Gr<v0?va(Ta,Gr++):0,Ea++,vn===10&&(Ea=1,Xc++),vn}function xo(){return va(Ta,Gr)}function tc(){return Gr}function Yc(t,e){return Sa(Ta,t,e)}function As(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tL(t){return Xc=Ea=1,v0=hi(Ta=t),Gr=0,[]}function nL(t){return Ta="",t}function yf(t){return y0(Yc(Gr-1,zf(t===91?t+2:t===40?t+1:t)))}function rL(t){for(;(vn=xo())&&vn<33;)ti();return As(t)>2||As(vn)>3?"":" "}function iL(t,e){for(;--e&&ti()&&!(vn<48||vn>102||vn>57&&vn<65||vn>70&&vn<97););return Yc(t,tc()+(e<6&&xo()==32&&ti()==32))}function zf(t){for(;ti();)switch(vn){case t:return Gr;case 34:case 39:t!==34&&t!==39&&zf(vn);break;case 40:t===41&&zf(t);break;case 92:ti();break}return Gr}function oL(t,e){for(;ti()&&t+vn!==57;)if(t+vn===84&&xo()===47)break;return"/*"+Yc(e,Gr-1)+"*"+rh(t===47?t:ti())}function aL(t){for(;!As(xo());)ti();return Yc(t,Gr)}function sL(t){return nL(nc("",null,null,null,[""],t=tL(t),0,[0],t))}function nc(t,e,n,r,o,u,c,l,h){for(var p=0,w=0,x=c,E=0,P=0,T=0,L=1,N=1,F=1,H=0,$="",q=o,te=u,re=r,le=$;N;)switch(T=H,H=ti()){case 40:if(T!=108&&va(le,x-1)==58){qT(le+=ec(yf(H),"&","&\f"),"&\f",m0(p?l[p-1]:0))!=-1&&(F=-1);break}case 34:case 39:case 91:le+=yf(H);break;case 9:case 10:case 13:case 32:le+=rL(T);break;case 92:le+=iL(tc()-1,7);continue;case 47:switch(xo()){case 42:case 47:Wu(uL(oL(ti(),tc()),e,n,h),h),(As(T||1)==5||As(xo()||1)==5)&&hi(le)&&Sa(le,-1,void 0)!==" "&&(le+=" ");break;default:le+="/"}break;case 123*L:l[p++]=hi(le)*F;case 125*L:case 59:case 0:switch(H){case 0:case 125:N=0;case 59+w:F==-1&&(le=ec(le,/\f/g,"")),P>0&&(hi(le)-x||L===0&&T===47)&&Wu(P>32?Ag(le+";",r,n,x-1,h):Ag(ec(le," ","")+";",r,n,x-2,h),h);break;case 59:le+=";";default:if(Wu(re=Eg(le,e,n,p,w,o,l,$,q=[],te=[],x,u),u),H===123)if(w===0)nc(le,e,re,re,q,u,x,l,te);else{switch(E){case 99:if(va(le,3)===110)break;case 108:if(va(le,2)===97)break;default:w=0;case 100:case 109:case 115:}w?nc(t,re,re,r&&Wu(Eg(t,re,re,0,0,o,l,$,o,q=[],x,te),te),o,te,x,l,r?q:te):nc(le,re,re,re,[""],te,0,l,te)}}p=w=P=0,L=F=1,$=le="",x=c;break;case 58:x=1+hi(le),P=T;default:if(L<1){if(H==123)--L;else if(H==125&&L++==0&&eL()==125)continue}switch(le+=rh(H),H*L){case 38:F=w>0?1:(le+="\f",-1);break;case 44:l[p++]=(hi(le)-1)*F,F=1;break;case 64:xo()===45&&(le+=yf(ti())),E=xo(),w=x=hi($=le+=aL(tc())),H++;break;case 45:T===45&&hi(le)==2&&(L=0)}}return u}function Eg(t,e,n,r,o,u,c,l,h,p,w,x){for(var E=o-1,P=o===0?u:[""],T=JT(P),L=0,N=0,F=0;L<r;++L)for(var H=0,$=Sa(t,E+1,E=m0(N=c[L])),q=t;H<T;++H)(q=y0(N>0?P[H]+" "+$:ec($,/&\f/g,P[H])))&&(h[F++]=q);return ih(t,e,n,o===0?p0:l,h,p,w,x)}function uL(t,e,n,r){return ih(t,e,n,h0,rh(ZT()),Sa(t,2,-2),0,r)}function Ag(t,e,n,r,o){return ih(t,e,n,g0,Sa(t,0,r),Sa(t,r+1,-1),r,o)}function Hf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function cL(t,e,n,r){switch(t.type){case QT:if(t.children.length)break;case XT:case YT:case g0:return t.return=t.return||t.value;case h0:return"";case KT:return t.return=t.value+"{"+Hf(t.children,r)+"}";case p0:if(!hi(t.value=t.props.join(",")))return""}return hi(n=Hf(t.children,r))?t.return=t.value+"{"+n+"}":""}var Cg="data-ant-cssinjs-cache-path",w0="_FILE_STYLE__",zo,b0=!0;function lL(){if(!zo&&(zo={},Vi())){var t=document.createElement("div");t.className=Cg,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(o){var u=o.split(":"),c=et(u,2),l=c[0],h=c[1];zo[l]=h});var n=document.querySelector("style[".concat(Cg,"]"));if(n){var r;b0=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function fL(t){return lL(),!!zo[t]}function dL(t){var e=zo[t],n=null;if(e&&Vi())if(b0)n=w0;else{var r=document.querySelector("style[".concat(ei,'="').concat(zo[t],'"]'));r?n=r.innerHTML:delete zo[t]}return[n,e]}var hL="_skip_check_",x0="_multi_value_";function rc(t){var e=Hf(sL(t),cL);return e.replace(/\{%%%\:[^;];}/g,";")}function pL(t){return Ct(t)==="object"&&t&&(hL in t||x0 in t)}function _g(t,e,n){if(!e)return t;var r=".".concat(e),o=n==="low"?":where(".concat(r,")"):r,u=t.split(",").map(function(c){var l,h=c.trim().split(/\s+/),p=h[0]||"",w=((l=p.match(/^\w+/))===null||l===void 0?void 0:l[0])||"";return p="".concat(w).concat(o).concat(p.slice(w.length)),[p].concat(mr(h.slice(1))).join(" ")});return u.join(",")}var gL=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},o=r.root,u=r.injectHash,c=r.parentSelectors,l=n.hashId,h=n.layer;n.path;var p=n.hashPriority,w=n.transformers,x=w===void 0?[]:w;n.linters;var E="",P={};function T(F){var H=F.getName(l);if(!P[H]){var $=t(F.style,n,{root:!1,parentSelectors:c}),q=et($,1),te=q[0];P[H]="@keyframes ".concat(F.getName(l)).concat(te)}}function L(F){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return F.forEach(function($){Array.isArray($)?L($,H):$&&H.push($)}),H}var N=L(Array.isArray(e)?e:[e]);return N.forEach(function(F){var H=typeof F=="string"&&!o?{}:F;if(typeof H=="string")E+="".concat(H,`
`);else if(H._keyframe)T(H);else{var $=x.reduce(function(q,te){var re;return(te==null||(re=te.visit)===null||re===void 0?void 0:re.call(te,q))||q},H);Object.keys($).forEach(function(q){var te=$[q];if(Ct(te)==="object"&&te&&(q!=="animationName"||!te._keyframe)&&!pL(te)){var re=!1,le=q.trim(),Ae=!1;(o||u)&&l?le.startsWith("@")?re=!0:le==="&"?le=_g("",l,p):le=_g(q,l,p):o&&!l&&(le==="&"||le==="")&&(le="",Ae=!0);var Z=t(te,n,{root:Ae,injectHash:re,parentSelectors:[].concat(mr(c),[le])}),pe=et(Z,2),ae=pe[0],Ie=pe[1];P=Be(Be({},P),Ie),E+="".concat(le).concat(ae)}else{let Ye=function(se,ie){var he=se.replace(/[A-Z]/g,function(ke){return"-".concat(ke.toLowerCase())}),Te=ie;!VT[se]&&typeof Te=="number"&&Te!==0&&(Te="".concat(Te,"px")),se==="animationName"&&ie!==null&&ie!==void 0&&ie._keyframe&&(T(ie),Te=ie.getName(l)),E+="".concat(he,":").concat(Te,";")};var Fe,_e=(Fe=te==null?void 0:te.value)!==null&&Fe!==void 0?Fe:te;Ct(te)==="object"&&te!==null&&te!==void 0&&te[x0]&&Array.isArray(_e)?_e.forEach(function(se){Ye(q,se)}):Ye(q,_e)}})}}),o?h&&(E&&(E="@layer ".concat(h.name," {").concat(E,"}")),h.dependencies&&(P["@layer ".concat(h.name)]=h.dependencies.map(function(F){return"@layer ".concat(F,", ").concat(h.name,";")}).join(`
`))):E="{".concat(E,"}"),[E,P]};function S0(t,e){return Es("".concat(t.join("%")).concat(e))}function mL(){return null}var E0="style";function jf(t,e){var n=t.token,r=t.path,o=t.hashId,u=t.layer,c=t.nonce,l=t.clientOnly,h=t.order,p=h===void 0?0:h,w=J.useContext(Us),x=w.autoClear;w.mock;var E=w.defaultCache,P=w.hashPriority,T=w.container,L=w.ssrInline,N=w.transformers,F=w.linters,H=w.cache,$=w.layer,q=n._tokenKey,te=[q];$&&te.push("layer"),te.push.apply(te,mr(r));var re=Uf,le=nh(E0,te,function(){var Ie=te.join("|");if(fL(Ie)){var Fe=dL(Ie),_e=et(Fe,2),Ye=_e[0],se=_e[1];if(Ye)return[Ye,q,se,{},l,p]}var ie=e(),he=gL(ie,{hashId:o,hashPriority:P,layer:$?u:void 0,path:r.join("-"),transformers:N,linters:F}),Te=et(he,2),ke=Te[0],Ee=Te[1],Re=rc(ke),ot=S0(te,Re);return[Re,q,ot,Ee,l,p]},function(Ie,Fe){var _e=et(Ie,3),Ye=_e[2];(Fe||x)&&Uf&&u0(Ye,{mark:ei})},function(Ie){var Fe=et(Ie,4),_e=Fe[0];Fe[1];var Ye=Fe[2],se=Fe[3];if(re&&_e!==w0){var ie={mark:ei,prepend:$?!1:"queue",attachTo:T,priority:p},he=typeof c=="function"?c():c;he&&(ie.csp={nonce:he});var Te=[],ke=[];Object.keys(se).forEach(function(Re){Re.startsWith("@layer")?Te.push(Re):ke.push(Re)}),Te.forEach(function(Re){Wo(rc(se[Re]),"_layer-".concat(Re),Be(Be({},ie),{},{prepend:!0}))});var Ee=Wo(_e,Ye,ie);Ee[bo]=H.instanceId,Ee.setAttribute(xa,q),ke.forEach(function(Re){Wo(rc(se[Re]),"_effect-".concat(Re),ie)})}}),Ae=et(le,3),Z=Ae[0],pe=Ae[1],ae=Ae[2];return function(Ie){var Fe;if(!L||re||!E)Fe=J.createElement(mL,null);else{var _e;Fe=J.createElement("style",or({},(_e={},je(_e,xa,pe),je(_e,ei,ae),_e),{dangerouslySetInnerHTML:{__html:Z}}))}return J.createElement(J.Fragment,null,Fe,Ie)}}var yL=function(e,n,r){var o=et(e,6),u=o[0],c=o[1],l=o[2],h=o[3],p=o[4],w=o[5],x=r||{},E=x.plain;if(p)return null;var P=u,T={"data-rc-order":"prependQueue","data-rc-priority":"".concat(w)};return P=pc(u,c,l,T,E),h&&Object.keys(h).forEach(function(L){if(!n[L]){n[L]=!0;var N=rc(h[L]),F=pc(N,c,"_effect-".concat(L),T,E);L.startsWith("@layer")?P=F+P:P+=F}}),[w,l,P]},A0="cssVar",vL=function(e,n){var r=e.key,o=e.prefix,u=e.unitless,c=e.ignore,l=e.token,h=e.scope,p=h===void 0?"":h,w=J.useContext(Us),x=w.cache.instanceId,E=w.container,P=l._tokenKey,T=[].concat(mr(e.path),[r,p,P]),L=nh(A0,T,function(){var N=n(),F=l0(N,r,{prefix:o,unitless:u,ignore:c,scope:p}),H=et(F,2),$=H[0],q=H[1],te=S0(T,q);return[$,q,te,r]},function(N){var F=et(N,3),H=F[2];Uf&&u0(H,{mark:ei})},function(N){var F=et(N,3),H=F[1],$=F[2];if(H){var q=Wo(H,$,{mark:ei,prepend:"queue",attachTo:E,priority:-999});q[bo]=x,q.setAttribute(xa,r)}});return L},wL=function(e,n,r){var o=et(e,4),u=o[1],c=o[2],l=o[3],h=r||{},p=h.plain;if(!u)return null;var w=-999,x={"data-rc-order":"prependQueue","data-rc-priority":"".concat(w)},E=pc(u,l,c,x,p);return[w,c,E]},gs;gs={},je(gs,E0,yL),je(gs,d0,jT),je(gs,A0,wL);var Tg=function(){function t(e,n){vi(this,t),je(this,"name",void 0),je(this,"style",void 0),je(this,"_keyframe",!0),this.name=e,this.style=n}return wi(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function pa(t){return t.notSplit=!0,t}pa(["borderTop","borderBottom"]),pa(["borderTop"]),pa(["borderBottom"]),pa(["borderLeft","borderRight"]),pa(["borderLeft"]),pa(["borderRight"]);var oh=J.createContext({});function bL(t){return r0(t)||Zy(t)||Jd(t)||i0()}function Vf(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function C0(t,e,n,r){if(!e.length)return n;var o=bL(e),u=o[0],c=o.slice(1),l;return!t&&typeof u=="number"?l=[]:Array.isArray(t)?l=mr(t):l=Be({},t),r&&n===void 0&&c.length===1?delete l[u][c[0]]:l[u]=C0(l[u],c,n,r),l}function vf(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!Vf(t,e.slice(0,-1))?t:C0(t,e,n,r)}function xL(t){return Ct(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function Lg(t){return Array.isArray(t)?[]:{}}var SL=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function EL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Lg(e[0]);return e.forEach(function(o){function u(c,l){var h=new Set(l),p=Vf(o,c),w=Array.isArray(p);if(w||xL(p)){if(!h.has(p)){h.add(p);var x=Vf(r,c);w?r=vf(r,c,[]):(!x||Ct(x)!=="object")&&(r=vf(r,c,Lg(p))),SL(p).forEach(function(E){u([].concat(mr(c),[E]),h)})}}else r=vf(r,c,p)}u([])}),r}function AL(){}const CL=J.createContext({}),_0=()=>{const t=()=>{};return t.deprecated=AL,t},_L=J.createContext(void 0);var TL={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},LL={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},PL=Be(Be({},LL),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const T0={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Pg={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},PL),timePickerLocale:Object.assign({},T0)},Cr="${label} is not a valid ${type}",Kc={locale:"en",Pagination:TL,DatePicker:Pg,TimePicker:T0,Calendar:Pg,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Cr,method:Cr,array:Cr,object:Cr,number:Cr,date:Cr,boolean:Cr,integer:Cr,float:Cr,regexp:Cr,email:Cr,url:Cr,hex:Cr},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let ic=Object.assign({},Kc.Modal),oc=[];const Mg=()=>oc.reduce((t,e)=>Object.assign(Object.assign({},t),e),Kc.Modal);function ML(t){if(t){const e=Object.assign({},t);return oc.push(e),ic=Mg(),()=>{oc=oc.filter(n=>n!==e),ic=Mg()}}ic=Object.assign({},Kc.Modal)}function ER(){return ic}const L0=J.createContext(void 0),IL="internalMark",kL=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;J.useEffect(()=>ML(e==null?void 0:e.Modal),[e]);const o=J.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return J.createElement(L0.Provider,{value:o},n)},P0={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Cs=Object.assign(Object.assign({},P0),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Mn=Math.round;function wf(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(o=>parseFloat(o));for(let o=0;o<3;o+=1)r[o]=e(r[o]||0,n[o]||"",o);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Ig=(t,e,n)=>n===0?t:t/100;function ms(t,e){const n=e||255;return t>n?n:t<0?0:t}class hn{constructor(e){je(this,"isValid",!0),je(this,"r",0),je(this,"g",0),je(this,"b",0),je(this,"a",1),je(this,"_h",void 0),je(this,"_s",void 0),je(this,"_l",void 0),je(this,"_v",void 0),je(this,"_max",void 0),je(this,"_min",void 0),je(this,"_brightness",void 0);function n(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let o=function(u){return r.startsWith(u)};const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):o("rgb")?this.fromRgbString(r):o("hsl")?this.fromHslString(r):(o("hsv")||o("hsb"))&&this.fromHsvString(r)}else if(e instanceof hn)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=ms(e.r),this.g=ms(e.g),this.b=ms(e.b),this.a=typeof e.a=="number"?ms(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(u){const c=u/255;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),o=e(this.b);return .2126*n+.7152*r+.0722*o}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Mn(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let o=this.getLightness()-e/100;return o<0&&(o=0),this._c({h:n,s:r,l:o,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let o=this.getLightness()+e/100;return o>1&&(o=1),this._c({h:n,s:r,l:o,a:this.a})}mix(e,n=50){const r=this._c(e),o=n/100,u=l=>(r[l]-this[l])*o+this[l],c={r:Mn(u("r")),g:Mn(u("g")),b:Mn(u("b")),a:Mn(u("a")*100)/100};return this._c(c)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),o=u=>Mn((this[u]*this.a+n[u]*n.a*(1-this.a))/r);return this._c({r:o("r"),g:o("g"),b:o("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const o=(this.b||0).toString(16);if(e+=o.length===2?o:"0"+o,typeof this.a=="number"&&this.a>=0&&this.a<1){const u=Mn(this.a*255).toString(16);e+=u.length===2?u:"0"+u}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=Mn(this.getSaturation()*100),r=Mn(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const o=this.clone();return o[e]=ms(n,r),o}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(o,u){return parseInt(n[o]+n[u||o],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:o}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof o=="number"?o:1,n<=0){const E=Mn(r*255);this.r=E,this.g=E,this.b=E}let u=0,c=0,l=0;const h=e/60,p=(1-Math.abs(2*r-1))*n,w=p*(1-Math.abs(h%2-1));h>=0&&h<1?(u=p,c=w):h>=1&&h<2?(u=w,c=p):h>=2&&h<3?(c=p,l=w):h>=3&&h<4?(c=w,l=p):h>=4&&h<5?(u=w,l=p):h>=5&&h<6&&(u=p,l=w);const x=r-p/2;this.r=Mn((u+x)*255),this.g=Mn((c+x)*255),this.b=Mn((l+x)*255)}fromHsv({h:e,s:n,v:r,a:o}){this._h=e%360,this._s=n,this._v=r,this.a=typeof o=="number"?o:1;const u=Mn(r*255);if(this.r=u,this.g=u,this.b=u,n<=0)return;const c=e/60,l=Math.floor(c),h=c-l,p=Mn(r*(1-n)*255),w=Mn(r*(1-n*h)*255),x=Mn(r*(1-n*(1-h))*255);switch(l){case 0:this.g=x,this.b=p;break;case 1:this.r=w,this.b=p;break;case 2:this.r=p,this.b=x;break;case 3:this.r=p,this.g=w;break;case 4:this.r=x,this.g=p;break;case 5:default:this.g=p,this.b=w;break}}fromHsvString(e){const n=wf(e,Ig);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=wf(e,Ig);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=wf(e,(r,o)=>o.includes("%")?Mn(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var zu=2,kg=.16,RL=.05,OL=.05,FL=.15,M0=5,I0=4,NL=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Rg(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-zu*e:Math.round(t.h)+zu*e:r=n?Math.round(t.h)+zu*e:Math.round(t.h)-zu*e,r<0?r+=360:r>=360&&(r-=360),r}function Og(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-kg*e:e===I0?r=t.s+kg:r=t.s+RL*e,r>1&&(r=1),n&&e===M0&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function Fg(t,e,n){var r;return n?r=t.v+OL*e:r=t.v-FL*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function _s(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new hn(t),o=r.toHsv(),u=M0;u>0;u-=1){var c=new hn({h:Rg(o,u,!0),s:Og(o,u,!0),v:Fg(o,u,!0)});n.push(c)}n.push(r);for(var l=1;l<=I0;l+=1){var h=new hn({h:Rg(o,l),s:Og(o,l),v:Fg(o,l)});n.push(h)}return e.theme==="dark"?NL.map(function(p){var w=p.index,x=p.amount;return new hn(e.backgroundColor||"#141414").mix(n[w],x).toHexString()}):n.map(function(p){return p.toHexString()})}var bf={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Xf=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Xf.primary=Xf[5];var Yf=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Yf.primary=Yf[5];var Kf=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Kf.primary=Kf[5];var Qf=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Qf.primary=Qf[5];var qf=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];qf.primary=qf[5];var Jf=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Jf.primary=Jf[5];var Zf=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Zf.primary=Zf[5];var ed=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];ed.primary=ed[5];var gc=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];gc.primary=gc[5];var td=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];td.primary=td[5];var nd=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];nd.primary=nd[5];var rd=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];rd.primary=rd[5];var id=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];id.primary=id[5];var xf={red:Xf,volcano:Yf,orange:Kf,gold:Qf,yellow:qf,lime:Jf,green:Zf,cyan:ed,blue:gc,geekblue:td,purple:nd,magenta:rd,grey:id};function $L(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:o,colorWarning:u,colorError:c,colorInfo:l,colorPrimary:h,colorBgBase:p,colorTextBase:w}=t,x=n(h),E=n(o),P=n(u),T=n(c),L=n(l),N=r(p,w),F=t.colorLink||t.colorInfo,H=n(F),$=new hn(T[1]).mix(new hn(T[3]),50).toHexString();return Object.assign(Object.assign({},N),{colorPrimaryBg:x[1],colorPrimaryBgHover:x[2],colorPrimaryBorder:x[3],colorPrimaryBorderHover:x[4],colorPrimaryHover:x[5],colorPrimary:x[6],colorPrimaryActive:x[7],colorPrimaryTextHover:x[8],colorPrimaryText:x[9],colorPrimaryTextActive:x[10],colorSuccessBg:E[1],colorSuccessBgHover:E[2],colorSuccessBorder:E[3],colorSuccessBorderHover:E[4],colorSuccessHover:E[4],colorSuccess:E[6],colorSuccessActive:E[7],colorSuccessTextHover:E[8],colorSuccessText:E[9],colorSuccessTextActive:E[10],colorErrorBg:T[1],colorErrorBgHover:T[2],colorErrorBgFilledHover:$,colorErrorBgActive:T[3],colorErrorBorder:T[3],colorErrorBorderHover:T[4],colorErrorHover:T[5],colorError:T[6],colorErrorActive:T[7],colorErrorTextHover:T[8],colorErrorText:T[9],colorErrorTextActive:T[10],colorWarningBg:P[1],colorWarningBgHover:P[2],colorWarningBorder:P[3],colorWarningBorderHover:P[4],colorWarningHover:P[4],colorWarning:P[6],colorWarningActive:P[7],colorWarningTextHover:P[8],colorWarningText:P[9],colorWarningTextActive:P[10],colorInfoBg:L[1],colorInfoBgHover:L[2],colorInfoBorder:L[3],colorInfoBorderHover:L[4],colorInfoHover:L[4],colorInfo:L[6],colorInfoActive:L[7],colorInfoTextHover:L[8],colorInfoText:L[9],colorInfoTextActive:L[10],colorLinkHover:H[4],colorLink:H[6],colorLinkActive:H[7],colorBgMask:new hn("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const BL=t=>{let e=t,n=t,r=t,o=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?o=4:t>=8&&(o=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:o}};function DL(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:o}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:o+1},BL(r))}const GL=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function UL(t){return(t+8)/t}function WL(t){const e=Array.from({length:10}).map((n,r)=>{const o=r-1,u=t*Math.pow(Math.E,o/5),c=r>1?Math.floor(u):Math.ceil(u);return Math.floor(c/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:UL(n)}))}const zL=t=>{const e=WL(t),n=e.map(w=>w.size),r=e.map(w=>w.lineHeight),o=n[1],u=n[0],c=n[2],l=r[1],h=r[0],p=r[2];return{fontSizeSM:u,fontSize:o,fontSizeLG:c,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:l,lineHeightLG:p,lineHeightSM:h,fontHeight:Math.round(l*o),fontHeightLG:Math.round(p*c),fontHeightSM:Math.round(h*u),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function HL(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const Or=(t,e)=>new hn(t).setA(e).toRgbString(),ys=(t,e)=>new hn(t).darken(e).toHexString(),jL=t=>{const e=_s(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},VL=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Or(r,.88),colorTextSecondary:Or(r,.65),colorTextTertiary:Or(r,.45),colorTextQuaternary:Or(r,.25),colorFill:Or(r,.15),colorFillSecondary:Or(r,.06),colorFillTertiary:Or(r,.04),colorFillQuaternary:Or(r,.02),colorBgSolid:Or(r,1),colorBgSolidHover:Or(r,.75),colorBgSolidActive:Or(r,.95),colorBgLayout:ys(n,4),colorBgContainer:ys(n,0),colorBgElevated:ys(n,0),colorBgSpotlight:Or(r,.85),colorBgBlur:"transparent",colorBorder:ys(n,15),colorBorderSecondary:ys(n,6)}};function XL(t){bf.pink=bf.magenta,xf.pink=xf.magenta;const e=Object.keys(P0).map(n=>{const r=t[n]===bf[n]?xf[n]:_s(t[n]);return Array.from({length:10},()=>1).reduce((o,u,c)=>(o[`${n}-${c+1}`]=r[c],o[`${n}${c+1}`]=r[c],o),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),$L(t,{generateColorPalettes:jL,generateNeutralColorPalettes:VL})),zL(t.fontSize)),HL(t)),GL(t)),DL(t))}const k0=Gf(XL),od={token:Cs,override:{override:Cs},hashed:!0},R0=Xt.createContext(od),ad="ant",Qc="anticon",AR=["outlined","borderless","filled","underlined"],YL=(t,e)=>e||(t?`${ad}-${t}`:ad),yi=J.createContext({getPrefixCls:YL,iconPrefixCls:Qc}),{Consumer:CR}=yi,Ng={};function _R(t){const e=J.useContext(yi),{getPrefixCls:n,direction:r,getPopupContainer:o}=e,u=e[t];return Object.assign(Object.assign({classNames:Ng,styles:Ng},u),{getPrefixCls:n,direction:r,getPopupContainer:o})}const KL=`-ant-${Date.now()}-${Math.random()}`;function QL(t,e){const n={},r=(c,l)=>{let h=c.clone();return h=(l==null?void 0:l(h))||h,h.toRgbString()},o=(c,l)=>{const h=new hn(c),p=_s(h.toRgbString());n[`${l}-color`]=r(h),n[`${l}-color-disabled`]=p[1],n[`${l}-color-hover`]=p[4],n[`${l}-color-active`]=p[6],n[`${l}-color-outline`]=h.clone().setA(.2).toRgbString(),n[`${l}-color-deprecated-bg`]=p[0],n[`${l}-color-deprecated-border`]=p[2]};if(e.primaryColor){o(e.primaryColor,"primary");const c=new hn(e.primaryColor),l=_s(c.toRgbString());l.forEach((p,w)=>{n[`primary-${w+1}`]=p}),n["primary-color-deprecated-l-35"]=r(c,p=>p.lighten(35)),n["primary-color-deprecated-l-20"]=r(c,p=>p.lighten(20)),n["primary-color-deprecated-t-20"]=r(c,p=>p.tint(20)),n["primary-color-deprecated-t-50"]=r(c,p=>p.tint(50)),n["primary-color-deprecated-f-12"]=r(c,p=>p.setA(p.a*.12));const h=new hn(l[0]);n["primary-color-active-deprecated-f-30"]=r(h,p=>p.setA(p.a*.3)),n["primary-color-active-deprecated-d-02"]=r(h,p=>p.darken(2))}return e.successColor&&o(e.successColor,"success"),e.warningColor&&o(e.warningColor,"warning"),e.errorColor&&o(e.errorColor,"error"),e.infoColor&&o(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(c=>`--${t}-${c}: ${n[c]};`).join(`
`)}
  }
  `.trim()}function qL(t,e){const n=QL(t,e);Vi()&&Wo(n,`${KL}-dynamic-theme`)}const sd=J.createContext(!1),JL=t=>{let{children:e,disabled:n}=t;const r=J.useContext(sd);return J.createElement(sd.Provider,{value:n??r},e)},Ts=J.createContext(void 0),ZL=t=>{let{children:e,size:n}=t;const r=J.useContext(Ts);return J.createElement(Ts.Provider,{value:n||r},e)};function eP(){const t=J.useContext(sd),e=J.useContext(Ts);return{componentDisabled:t,componentSize:e}}var O0=wi(function t(){vi(this,t)}),F0="CALC_UNIT",tP=new RegExp(F0,"g");function Sf(t){return typeof t=="number"?"".concat(t).concat(F0):t}var nP=function(t){Hc(n,t);var e=jc(n);function n(r,o){var u;vi(this,n),u=e.call(this),je(Uo(u),"result",""),je(Uo(u),"unitlessCssVar",void 0),je(Uo(u),"lowPriority",void 0);var c=Ct(r);return u.unitlessCssVar=o,r instanceof n?u.result="(".concat(r.result,")"):c==="number"?u.result=Sf(r):c==="string"&&(u.result=r),u}return wi(n,[{key:"add",value:function(o){return o instanceof n?this.result="".concat(this.result," + ").concat(o.getResult()):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," + ").concat(Sf(o))),this.lowPriority=!0,this}},{key:"sub",value:function(o){return o instanceof n?this.result="".concat(this.result," - ").concat(o.getResult()):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," - ").concat(Sf(o))),this.lowPriority=!0,this}},{key:"mul",value:function(o){return this.lowPriority&&(this.result="(".concat(this.result,")")),o instanceof n?this.result="".concat(this.result," * ").concat(o.getResult(!0)):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," * ").concat(o)),this.lowPriority=!1,this}},{key:"div",value:function(o){return this.lowPriority&&(this.result="(".concat(this.result,")")),o instanceof n?this.result="".concat(this.result," / ").concat(o.getResult(!0)):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," / ").concat(o)),this.lowPriority=!1,this}},{key:"getResult",value:function(o){return this.lowPriority||o?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(o){var u=this,c=o||{},l=c.unit,h=!0;return typeof l=="boolean"?h=l:Array.from(this.unitlessCssVar).some(function(p){return u.result.includes(p)})&&(h=!1),this.result=this.result.replace(tP,h?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(O0),rP=function(t){Hc(n,t);var e=jc(n);function n(r){var o;return vi(this,n),o=e.call(this),je(Uo(o),"result",0),r instanceof n?o.result=r.result:typeof r=="number"&&(o.result=r),o}return wi(n,[{key:"add",value:function(o){return o instanceof n?this.result+=o.result:typeof o=="number"&&(this.result+=o),this}},{key:"sub",value:function(o){return o instanceof n?this.result-=o.result:typeof o=="number"&&(this.result-=o),this}},{key:"mul",value:function(o){return o instanceof n?this.result*=o.result:typeof o=="number"&&(this.result*=o),this}},{key:"div",value:function(o){return o instanceof n?this.result/=o.result:typeof o=="number"&&(this.result/=o),this}},{key:"equal",value:function(){return this.result}}]),n}(O0),iP=function(e,n){var r=e==="css"?nP:rP;return function(o){return new r(o,n)}},$g=function(e,n){return"".concat([n,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function ud(t){var e=J.useRef();e.current=t;var n=J.useCallback(function(){for(var r,o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(u))},[]);return n}function cd(t){var e=J.useRef(!1),n=J.useState(t),r=et(n,2),o=r[0],u=r[1];J.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function c(l,h){h&&e.current||u(l)}return[o,c]}function Bg(t,e,n,r){var o=Be({},e[t]);if(r!=null&&r.deprecatedTokens){var u=r.deprecatedTokens;u.forEach(function(l){var h=et(l,2),p=h[0],w=h[1];if(o!=null&&o[p]||o!=null&&o[w]){var x;(x=o[w])!==null&&x!==void 0||(o[w]=o==null?void 0:o[p])}})}var c=Be(Be({},n),o);return Object.keys(c).forEach(function(l){c[l]===e[l]&&delete c[l]}),c}var N0=typeof CSSINJS_STATISTIC<"u",ld=!0;function ah(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!N0)return Object.assign.apply(Object,[{}].concat(e));ld=!1;var r={};return e.forEach(function(o){if(Ct(o)==="object"){var u=Object.keys(o);u.forEach(function(c){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:function(){return o[c]}})})}}),ld=!0,r}var Dg={};function oP(){}var aP=function(e){var n,r=e,o=oP;return N0&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(e,{get:function(c,l){if(ld){var h;(h=n)===null||h===void 0||h.add(l)}return c[l]}}),o=function(c,l){var h;Dg[c]={global:Array.from(n),component:Be(Be({},(h=Dg[c])===null||h===void 0?void 0:h.component),l)}}),{token:r,keys:n,flush:o}};function Gg(t,e,n){if(typeof n=="function"){var r;return n(ah(e,(r=e[t])!==null&&r!==void 0?r:{}))}return n??{}}function sP(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return"max(".concat(r.map(function(u){return Wf(u)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return"min(".concat(r.map(function(u){return Wf(u)}).join(","),")")}}}var uP=1e3*60*10,cP=function(){function t(){vi(this,t),je(this,"map",new Map),je(this,"objectIDMap",new WeakMap),je(this,"nextID",0),je(this,"lastAccessBeat",new Map),je(this,"accessBeat",0)}return wi(t,[{key:"set",value:function(n,r){this.clear();var o=this.getCompositeKey(n);this.map.set(o,r),this.lastAccessBeat.set(o,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),o=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,o}},{key:"getCompositeKey",value:function(n){var r=this,o=n.map(function(u){return u&&Ct(u)==="object"?"obj_".concat(r.getObjectID(u)):"".concat(Ct(u),"_").concat(u)});return o.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(o,u){r-o>uP&&(n.map.delete(u),n.lastAccessBeat.delete(u))}),this.accessBeat=0}}}]),t}(),Ug=new cP;function lP(t,e){return Xt.useMemo(function(){var n=Ug.get(e);if(n)return n;var r=t();return Ug.set(e,r),r},e)}var fP=function(){return{}};function dP(t){var e=t.useCSP,n=e===void 0?fP:e,r=t.useToken,o=t.usePrefix,u=t.getResetStyles,c=t.getCommonStyle,l=t.getCompUnitless;function h(E,P,T,L){var N=Array.isArray(E)?E[0]:E;function F(Ae){return"".concat(String(N)).concat(Ae.slice(0,1).toUpperCase()).concat(Ae.slice(1))}var H=(L==null?void 0:L.unitless)||{},$=typeof l=="function"?l(E):{},q=Be(Be({},$),{},je({},F("zIndexPopup"),!0));Object.keys(H).forEach(function(Ae){q[F(Ae)]=H[Ae]});var te=Be(Be({},L),{},{unitless:q,prefixToken:F}),re=w(E,P,T,te),le=p(N,T,te);return function(Ae){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ae,pe=re(Ae,Z),ae=et(pe,2),Ie=ae[1],Fe=le(Z),_e=et(Fe,2),Ye=_e[0],se=_e[1];return[Ye,Ie,se]}}function p(E,P,T){var L=T.unitless,N=T.injectStyle,F=N===void 0?!0:N,H=T.prefixToken,$=T.ignore,q=function(le){var Ae=le.rootCls,Z=le.cssVar,pe=Z===void 0?{}:Z,ae=r(),Ie=ae.realToken;return vL({path:[E],prefix:pe.prefix,key:pe.key,unitless:L,ignore:$,token:Ie,scope:Ae},function(){var Fe=Gg(E,Ie,P),_e=Bg(E,Ie,Fe,{deprecatedTokens:T==null?void 0:T.deprecatedTokens});return Object.keys(Fe).forEach(function(Ye){_e[H(Ye)]=_e[Ye],delete _e[Ye]}),_e}),null},te=function(le){var Ae=r(),Z=Ae.cssVar;return[function(pe){return F&&Z?Xt.createElement(Xt.Fragment,null,Xt.createElement(q,{rootCls:le,cssVar:Z,component:E}),pe):pe},Z==null?void 0:Z.key]};return te}function w(E,P,T){var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=Array.isArray(E)?E:[E,E],F=et(N,1),H=F[0],$=N.join("-"),q=t.layer||{name:"antd"};return function(te){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:te,le=r(),Ae=le.theme,Z=le.realToken,pe=le.hashId,ae=le.token,Ie=le.cssVar,Fe=o(),_e=Fe.rootPrefixCls,Ye=Fe.iconPrefixCls,se=n(),ie=Ie?"css":"js",he=lP(function(){var it=new Set;return Ie&&Object.keys(L.unitless||{}).forEach(function(Ke){it.add(Zu(Ke,Ie.prefix)),it.add(Zu(Ke,$g(H,Ie.prefix)))}),iP(ie,it)},[ie,H,Ie==null?void 0:Ie.prefix]),Te=sP(ie),ke=Te.max,Ee=Te.min,Re={theme:Ae,token:ae,hashId:pe,nonce:function(){return se.nonce},clientOnly:L.clientOnly,layer:q,order:L.order||-999};typeof u=="function"&&jf(Be(Be({},Re),{},{clientOnly:!1,path:["Shared",_e]}),function(){return u(ae,{prefix:{rootPrefixCls:_e,iconPrefixCls:Ye},csp:se})});var ot=jf(Be(Be({},Re),{},{path:[$,te,Ye]}),function(){if(L.injectStyle===!1)return[];var it=aP(ae),Ke=it.token,yt=it.flush,Nt=Gg(H,Z,T),In=".".concat(te),an=Bg(H,Z,Nt,{deprecatedTokens:L.deprecatedTokens});Ie&&Nt&&Ct(Nt)==="object"&&Object.keys(Nt).forEach(function(wn){Nt[wn]="var(".concat(Zu(wn,$g(H,Ie.prefix)),")")});var pn=ah(Ke,{componentCls:In,prefixCls:te,iconCls:".".concat(Ye),antCls:".".concat(_e),calc:he,max:ke,min:Ee},Ie?Nt:an),Gn=P(pn,{hashId:pe,prefixCls:te,rootPrefixCls:_e,iconPrefixCls:Ye});yt(H,an);var Ut=typeof c=="function"?c(pn,te,re,L.resetFont):null;return[L.resetStyle===!1?null:Ut,Gn]});return[ot,pe]}}function x(E,P,T){var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=w(E,P,T,Be({resetStyle:!1,order:-998},L)),F=function($){var q=$.prefixCls,te=$.rootCls,re=te===void 0?q:te;return N(q,re),null};return F}return{genStyleHooks:h,genSubStyleComponent:x,genComponentStyleHook:w}}const hP="5.24.5";function Ef(t){return t>=0&&t<=255}function Hu(t,e){const{r:n,g:r,b:o,a:u}=new hn(t).toRgb();if(u<1)return t;const{r:c,g:l,b:h}=new hn(e).toRgb();for(let p=.01;p<=1;p+=.01){const w=Math.round((n-c*(1-p))/p),x=Math.round((r-l*(1-p))/p),E=Math.round((o-h*(1-p))/p);if(Ef(w)&&Ef(x)&&Ef(E))return new hn({r:w,g:x,b:E,a:Math.round(p*100)/100}).toRgbString()}return new hn({r:n,g:r,b:o,a:1}).toRgbString()}var pP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function $0(t){const{override:e}=t,n=pP(t,["override"]),r=Object.assign({},e);Object.keys(Cs).forEach(E=>{delete r[E]});const o=Object.assign(Object.assign({},n),r),u=480,c=576,l=768,h=992,p=1200,w=1600;if(o.motion===!1){const E="0s";o.motionDurationFast=E,o.motionDurationMid=E,o.motionDurationSlow=E}return Object.assign(Object.assign(Object.assign({},o),{colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:Hu(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:Hu(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:Hu(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidthFocus:o.lineWidth*3,lineWidth:o.lineWidth,controlOutlineWidth:o.lineWidth*2,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:Hu(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:u,screenXSMin:u,screenXSMax:c-1,screenSM:c,screenSMMin:c,screenSMMax:l-1,screenMD:l,screenMDMin:l,screenMDMax:h-1,screenLG:h,screenLGMin:h,screenLGMax:p-1,screenXL:p,screenXLMin:p,screenXLMax:w-1,screenXXL:w,screenXXLMin:w,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new hn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new hn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new hn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var Wg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const B0={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},gP={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},mP={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},D0=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:o}=e,u=Wg(e,["override"]);let c=Object.assign(Object.assign({},r),{override:o});return c=$0(c),u&&Object.entries(u).forEach(l=>{let[h,p]=l;const{theme:w}=p,x=Wg(p,["theme"]);let E=x;w&&(E=D0(Object.assign(Object.assign({},c),x),{override:x},w)),c[h]=E}),c};function Ws(){const{token:t,hashed:e,theme:n,override:r,cssVar:o}=Xt.useContext(R0),u=`${hP}-${e||""}`,c=n||k0,[l,h,p]=HT(c,[Cs,t],{salt:u,override:r,getComputedToken:D0,formatToken:$0,cssVar:o&&{prefix:o.prefix,key:o.key,unitless:B0,ignore:gP,preserve:mP}});return[c,p,e?h:"",l,o]}const TR={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},yP=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},vP=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),LR=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),wP=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),bP=(t,e,n,r)=>{const o=`[class^="${e}"], [class*=" ${e}"]`,u=n?`.${n}`:o,c={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let l={};return r!==!1&&(l={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[u]:Object.assign(Object.assign(Object.assign({},l),c),{[o]:c})}},xP=(t,e)=>({outline:`${Wf(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),PR=(t,e)=>({"&:focus-visible":Object.assign({},xP(t,e))}),G0=t=>({[`.${t}`]:Object.assign(Object.assign({},vP()),{[`.${t} .${t}-icon`]:{display:"block"}})}),{genStyleHooks:SP,genComponentStyleHook:MR,genSubStyleComponent:IR}=dP({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=J.useContext(yi);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,o]=Ws();return{theme:t,realToken:e,hashId:n,token:r,cssVar:o}},useCSP:()=>{const{csp:t}=J.useContext(yi);return t??{}},getResetStyles:(t,e)=>{var n;const r=wP(t);return[r,{"&":r},G0((n=e==null?void 0:e.prefix.iconPrefixCls)!==null&&n!==void 0?n:Qc)]},getCommonStyle:bP,getCompUnitless:()=>B0}),EP=(t,e)=>{const[n,r]=Ws();return jf({token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[G0(t)])},AP=Object.assign({},vd),{useId:zg}=AP,CP=()=>"",_P=typeof zg>"u"?CP:zg;function TP(t,e,n){var r;_0();const o=t||{},u=o.inherit===!1||!e?Object.assign(Object.assign({},od),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:od.hashed,cssVar:e==null?void 0:e.cssVar}):e,c=_P();return Qd(()=>{var l,h;if(!t)return e;const p=Object.assign({},u.components);Object.keys(t.components||{}).forEach(E=>{p[E]=Object.assign(Object.assign({},p[E]),t.components[E])});const w=`css-var-${c.replace(/:/g,"")}`,x=((l=o.cssVar)!==null&&l!==void 0?l:u.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof u.cssVar=="object"?u.cssVar:{}),typeof o.cssVar=="object"?o.cssVar:{}),{key:typeof o.cssVar=="object"&&((h=o.cssVar)===null||h===void 0?void 0:h.key)||w});return Object.assign(Object.assign(Object.assign({},u),o),{token:Object.assign(Object.assign({},u.token),o.token),components:p,cssVar:x})},[o,u],(l,h)=>l.some((p,w)=>{const x=h[w];return!xT(p,x,!0)}))}var LP=["children"],U0=J.createContext({});function PP(t){var e=t.children,n=jo(t,LP);return J.createElement(U0.Provider,{value:n},e)}var MP=function(t){Hc(n,t);var e=jc(n);function n(){return vi(this,n),e.apply(this,arguments)}return wi(n,[{key:"render",value:function(){return this.props.children}}]),n}(J.Component);function IP(t){var e=J.useReducer(function(l){return l+1},0),n=et(e,2),r=n[1],o=J.useRef(t),u=ud(function(){return o.current}),c=ud(function(l){o.current=typeof l=="function"?l(o.current):l,r()});return[u,c]}var yo="none",ju="appear",Vu="enter",Xu="leave",Hg="none",qr="prepare",ga="start",ma="active",sh="end",W0="prepared";function jg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function kP(t,e){var n={animationend:jg("Animation","AnimationEnd"),transitionend:jg("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var RP=kP(Vi(),typeof window<"u"?window:{}),z0={};if(Vi()){var OP=document.createElement("div");z0=OP.style}var Yu={};function H0(t){if(Yu[t])return Yu[t];var e=RP[t];if(e)for(var n=Object.keys(e),r=n.length,o=0;o<r;o+=1){var u=n[o];if(Object.prototype.hasOwnProperty.call(e,u)&&u in z0)return Yu[t]=e[u],Yu[t]}return""}var j0=H0("animationend"),V0=H0("transitionend"),X0=!!(j0&&V0),Vg=j0||"animationend",Xg=V0||"transitionend";function Yg(t,e){if(!t)return null;if(Ct(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const FP=function(t){var e=J.useRef();function n(o){o&&(o.removeEventListener(Xg,t),o.removeEventListener(Vg,t))}function r(o){e.current&&e.current!==o&&n(e.current),o&&o!==e.current&&(o.addEventListener(Xg,t),o.addEventListener(Vg,t),e.current=o)}return J.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var Y0=Vi()?J.useLayoutEffect:J.useEffect;const NP=function(){var t=J.useRef(null);function e(){$f.cancel(t.current)}function n(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var u=$f(function(){o<=1?r({isCanceled:function(){return u!==t.current}}):n(r,o-1)});t.current=u}return J.useEffect(function(){return function(){e()}},[]),[n,e]};var $P=[qr,ga,ma,sh],BP=[qr,W0],K0=!1,DP=!0;function Q0(t){return t===ma||t===sh}const GP=function(t,e,n){var r=cd(Hg),o=et(r,2),u=o[0],c=o[1],l=NP(),h=et(l,2),p=h[0],w=h[1];function x(){c(qr,!0)}var E=e?BP:$P;return Y0(function(){if(u!==Hg&&u!==sh){var P=E.indexOf(u),T=E[P+1],L=n(u);L===K0?c(T,!0):T&&p(function(N){function F(){N.isCanceled()||c(T,!0)}L===!0?F():Promise.resolve(L).then(F)})}},[t,u]),J.useEffect(function(){return function(){w()}},[]),[x,u]};function UP(t,e,n,r){var o=r.motionEnter,u=o===void 0?!0:o,c=r.motionAppear,l=c===void 0?!0:c,h=r.motionLeave,p=h===void 0?!0:h,w=r.motionDeadline,x=r.motionLeaveImmediately,E=r.onAppearPrepare,P=r.onEnterPrepare,T=r.onLeavePrepare,L=r.onAppearStart,N=r.onEnterStart,F=r.onLeaveStart,H=r.onAppearActive,$=r.onEnterActive,q=r.onLeaveActive,te=r.onAppearEnd,re=r.onEnterEnd,le=r.onLeaveEnd,Ae=r.onVisibleChanged,Z=cd(),pe=et(Z,2),ae=pe[0],Ie=pe[1],Fe=IP(yo),_e=et(Fe,2),Ye=_e[0],se=_e[1],ie=cd(null),he=et(ie,2),Te=he[0],ke=he[1],Ee=Ye(),Re=J.useRef(!1),ot=J.useRef(null);function it(){return n()}var Ke=J.useRef(!1);function yt(){se(yo),ke(null,!0)}var Nt=ud(function(at){var _t=Ye();if(_t!==yo){var tn=it();if(!(at&&!at.deadline&&at.target!==tn)){var xt=Ke.current,Dt;_t===ju&&xt?Dt=te==null?void 0:te(tn,at):_t===Vu&&xt?Dt=re==null?void 0:re(tn,at):_t===Xu&&xt&&(Dt=le==null?void 0:le(tn,at)),xt&&Dt!==!1&&yt()}}}),In=FP(Nt),an=et(In,1),pn=an[0],Gn=function(_t){switch(_t){case ju:return je(je(je({},qr,E),ga,L),ma,H);case Vu:return je(je(je({},qr,P),ga,N),ma,$);case Xu:return je(je(je({},qr,T),ga,F),ma,q);default:return{}}},Ut=J.useMemo(function(){return Gn(Ee)},[Ee]),wn=GP(Ee,!t,function(at){if(at===qr){var _t=Ut[qr];return _t?_t(it()):K0}if(en in Ut){var tn;ke(((tn=Ut[en])===null||tn===void 0?void 0:tn.call(Ut,it(),null))||null)}return en===ma&&Ee!==yo&&(pn(it()),w>0&&(clearTimeout(ot.current),ot.current=setTimeout(function(){Nt({deadline:!0})},w))),en===W0&&yt(),DP}),Wt=et(wn,2),An=Wt[0],en=Wt[1],jt=Q0(en);Ke.current=jt;var Un=J.useRef(null);Y0(function(){if(!(Re.current&&Un.current===e)){Ie(e);var at=Re.current;Re.current=!0;var _t;!at&&e&&l&&(_t=ju),at&&e&&u&&(_t=Vu),(at&&!e&&p||!at&&x&&!e&&p)&&(_t=Xu);var tn=Gn(_t);_t&&(t||tn[qr])?(se(_t),An()):se(yo),Un.current=e}},[e]),J.useEffect(function(){(Ee===ju&&!l||Ee===Vu&&!u||Ee===Xu&&!p)&&se(yo)},[l,u,p]),J.useEffect(function(){return function(){Re.current=!1,clearTimeout(ot.current)}},[]);var yr=J.useRef(!1);J.useEffect(function(){ae&&(yr.current=!0),ae!==void 0&&Ee===yo&&((yr.current||ae)&&(Ae==null||Ae(ae)),yr.current=!0)},[ae,Ee]);var gn=Te;return Ut[qr]&&en===ga&&(gn=Be({transition:"none"},gn)),[Ee,en,gn,ae??e]}function WP(t){var e=t;Ct(t)==="object"&&(e=t.transitionSupport);function n(o,u){return!!(o.motionName&&e&&u!==!1)}var r=J.forwardRef(function(o,u){var c=o.visible,l=c===void 0?!0:c,h=o.removeOnLeave,p=h===void 0?!0:h,w=o.forceRender,x=o.children,E=o.motionName,P=o.leavedClassName,T=o.eventProps,L=J.useContext(U0),N=L.motion,F=n(o,N),H=J.useRef(),$=J.useRef();function q(){try{return H.current instanceof HTMLElement?H.current:aT($.current)}catch{return null}}var te=UP(F,l,q,o),re=et(te,4),le=re[0],Ae=re[1],Z=re[2],pe=re[3],ae=J.useRef(pe);pe&&(ae.current=!0);var Ie=J.useCallback(function(he){H.current=he,Qy(u,he)},[u]),Fe,_e=Be(Be({},T),{},{visible:l});if(!x)Fe=null;else if(le===yo)pe?Fe=x(Be({},_e),Ie):!p&&ae.current&&P?Fe=x(Be(Be({},_e),{},{className:P}),Ie):w||!p&&!P?Fe=x(Be(Be({},_e),{},{style:{display:"none"}}),Ie):Fe=null;else{var Ye;Ae===qr?Ye="prepare":Q0(Ae)?Ye="active":Ae===ga&&(Ye="start");var se=Yg(E,"".concat(le,"-").concat(Ye));Fe=x(Be(Be({},_e),{},{className:Zr(Yg(E,le),je(je({},se,se&&Ye),E,typeof E=="string")),style:Z}),Ie)}if(J.isValidElement(Fe)&&qy(Fe)){var ie=fT(Fe);ie||(Fe=J.cloneElement(Fe,{ref:Ie}))}return J.createElement(MP,{ref:$},Fe)});return r.displayName="CSSMotion",r}const zP=WP(X0);var fd="add",dd="keep",hd="remove",Af="removed";function HP(t){var e;return t&&Ct(t)==="object"&&"key"in t?e=t:e={key:t},Be(Be({},e),{},{key:String(e.key)})}function pd(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(HP)}function jP(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,o=e.length,u=pd(t),c=pd(e);u.forEach(function(p){for(var w=!1,x=r;x<o;x+=1){var E=c[x];if(E.key===p.key){r<x&&(n=n.concat(c.slice(r,x).map(function(P){return Be(Be({},P),{},{status:fd})})),r=x),n.push(Be(Be({},E),{},{status:dd})),r+=1,w=!0;break}}w||n.push(Be(Be({},p),{},{status:hd}))}),r<o&&(n=n.concat(c.slice(r).map(function(p){return Be(Be({},p),{},{status:fd})})));var l={};n.forEach(function(p){var w=p.key;l[w]=(l[w]||0)+1});var h=Object.keys(l).filter(function(p){return l[p]>1});return h.forEach(function(p){n=n.filter(function(w){var x=w.key,E=w.status;return x!==p||E!==hd}),n.forEach(function(w){w.key===p&&(w.status=dd)})}),n}var VP=["component","children","onVisibleChanged","onAllRemoved"],XP=["status"],YP=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function KP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zP,n=function(r){Hc(u,r);var o=jc(u);function u(){var c;vi(this,u);for(var l=arguments.length,h=new Array(l),p=0;p<l;p++)h[p]=arguments[p];return c=o.call.apply(o,[this].concat(h)),je(Uo(c),"state",{keyEntities:[]}),je(Uo(c),"removeKey",function(w){c.setState(function(x){var E=x.keyEntities.map(function(P){return P.key!==w?P:Be(Be({},P),{},{status:Af})});return{keyEntities:E}},function(){var x=c.state.keyEntities,E=x.filter(function(P){var T=P.status;return T!==Af}).length;E===0&&c.props.onAllRemoved&&c.props.onAllRemoved()})}),c}return wi(u,[{key:"render",value:function(){var l=this,h=this.state.keyEntities,p=this.props,w=p.component,x=p.children,E=p.onVisibleChanged;p.onAllRemoved;var P=jo(p,VP),T=w||J.Fragment,L={};return YP.forEach(function(N){L[N]=P[N],delete P[N]}),delete P.keys,J.createElement(T,P,h.map(function(N,F){var H=N.status,$=jo(N,XP),q=H===fd||H===dd;return J.createElement(e,or({},L,{key:$.key,visible:q,eventProps:$,onVisibleChanged:function(re){E==null||E(re,{key:$.key}),re||l.removeKey($.key)}}),function(te,re){return x(Be(Be({},te),{},{index:F}),re)})}))}}],[{key:"getDerivedStateFromProps",value:function(l,h){var p=l.keys,w=h.keyEntities,x=pd(p),E=jP(w,x);return{keyEntities:E.filter(function(P){var T=w.find(function(L){var N=L.key;return P.key===N});return!(T&&T.status===Af&&P.status===hd)})}}}]),u}(J.Component);return je(n,"defaultProps",{component:"div"}),n}const QP=KP(X0);function qP(t){const{children:e}=t,[,n]=Ws(),{motion:r}=n,o=J.useRef(!1);return o.current=o.current||r===!1,o.current?J.createElement(PP,{motion:r},e):e}const JP=()=>null;var ZP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const eM=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let mc,q0,J0,Z0;function ac(){return mc||ad}function tM(){return q0||Qc}function nM(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const rM=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:o}=t;e!==void 0&&(mc=e),n!==void 0&&(q0=n),"holderRender"in t&&(Z0=o),r&&(nM(r)?qL(ac(),r):J0=r)},iM=()=>({getPrefixCls:(t,e)=>e||(t?`${ac()}-${t}`:ac()),getIconPrefixCls:tM,getRootPrefixCls:()=>mc||ac(),getTheme:()=>J0,holderRender:Z0}),oM=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:o,anchor:u,form:c,locale:l,componentSize:h,direction:p,space:w,splitter:x,virtual:E,dropdownMatchSelectWidth:P,popupMatchSelectWidth:T,popupOverflow:L,legacyLocale:N,parentContext:F,iconPrefixCls:H,theme:$,componentDisabled:q,segmented:te,statistic:re,spin:le,calendar:Ae,carousel:Z,cascader:pe,collapse:ae,typography:Ie,checkbox:Fe,descriptions:_e,divider:Ye,drawer:se,skeleton:ie,steps:he,image:Te,layout:ke,list:Ee,mentions:Re,modal:ot,progress:it,result:Ke,slider:yt,breadcrumb:Nt,menu:In,pagination:an,input:pn,textArea:Gn,empty:Ut,badge:wn,radio:Wt,rate:An,switch:en,transfer:jt,avatar:Un,message:yr,tag:gn,table:at,card:_t,tabs:tn,timeline:xt,timePicker:Dt,upload:vt,notification:bi,tree:bn,colorPicker:xi,datePicker:Si,rangePicker:Yi,flex:Ki,wave:Qi,dropdown:qi,warning:Wr,tour:Ei,tooltip:zr,popover:Ai,popconfirm:Ma,floatButtonGroup:Ji,variant:ni,inputNumber:vr,treeSelect:Ko}=t,Zi=J.useCallback((Kt,nn)=>{const{prefixCls:Cn}=t;if(nn)return nn;const kn=Cn||F.getPrefixCls("");return Kt?`${kn}-${Kt}`:kn},[F.getPrefixCls,t.prefixCls]),ri=H||F.iconPrefixCls||Qc,ii=n||F.csp;EP(ri,ii);const eo=TP($,F.theme,{prefixCls:Zi("")}),Ci={csp:ii,autoInsertSpaceInButton:r,alert:o,anchor:u,locale:l||N,direction:p,space:w,splitter:x,virtual:E,popupMatchSelectWidth:T??P,popupOverflow:L,getPrefixCls:Zi,iconPrefixCls:ri,theme:eo,segmented:te,statistic:re,spin:le,calendar:Ae,carousel:Z,cascader:pe,collapse:ae,typography:Ie,checkbox:Fe,descriptions:_e,divider:Ye,drawer:se,skeleton:ie,steps:he,image:Te,input:pn,textArea:Gn,layout:ke,list:Ee,mentions:Re,modal:ot,progress:it,result:Ke,slider:yt,breadcrumb:Nt,menu:In,pagination:an,empty:Ut,badge:wn,radio:Wt,rate:An,switch:en,transfer:jt,avatar:Un,message:yr,tag:gn,table:at,card:_t,tabs:tn,timeline:xt,timePicker:Dt,upload:vt,notification:bi,tree:bn,colorPicker:xi,datePicker:Si,rangePicker:Yi,flex:Ki,wave:Qi,dropdown:qi,warning:Wr,tour:Ei,tooltip:zr,popover:Ai,popconfirm:Ma,floatButtonGroup:Ji,variant:ni,inputNumber:vr,treeSelect:Ko},oi=Object.assign({},F);Object.keys(Ci).forEach(Kt=>{Ci[Kt]!==void 0&&(oi[Kt]=Ci[Kt])}),eM.forEach(Kt=>{const nn=t[Kt];nn&&(oi[Kt]=nn)}),typeof r<"u"&&(oi.button=Object.assign({autoInsertSpace:r},oi.button));const ai=Qd(()=>oi,oi,(Kt,nn)=>{const Cn=Object.keys(Kt),kn=Object.keys(nn);return Cn.length!==kn.length||Cn.some(Hr=>Kt[Hr]!==nn[Hr])}),{layer:to}=J.useContext(Us),ar=J.useMemo(()=>({prefixCls:ri,csp:ii,layer:to?"antd":void 0}),[ri,ii,to]);let Yt=J.createElement(J.Fragment,null,J.createElement(JP,{dropdownMatchSelectWidth:P}),e);const Qo=J.useMemo(()=>{var Kt,nn,Cn,kn;return EL(((Kt=Kc.Form)===null||Kt===void 0?void 0:Kt.defaultValidateMessages)||{},((Cn=(nn=ai.locale)===null||nn===void 0?void 0:nn.Form)===null||Cn===void 0?void 0:Cn.defaultValidateMessages)||{},((kn=ai.form)===null||kn===void 0?void 0:kn.validateMessages)||{},(c==null?void 0:c.validateMessages)||{})},[ai,c==null?void 0:c.validateMessages]);Object.keys(Qo).length>0&&(Yt=J.createElement(_L.Provider,{value:Qo},Yt)),l&&(Yt=J.createElement(kL,{locale:l,_ANT_MARK__:IL},Yt)),Yt=J.createElement(oh.Provider,{value:ar},Yt),h&&(Yt=J.createElement(ZL,{size:h},Yt)),Yt=J.createElement(qP,null,Yt);const mn=J.useMemo(()=>{const Kt=eo||{},{algorithm:nn,token:Cn,components:kn,cssVar:Hr}=Kt,qo=ZP(Kt,["algorithm","token","components","cssVar"]),_n=nn&&(!Array.isArray(nn)||nn.length>0)?Gf(nn):k0,_i={};Object.entries(kn||{}).forEach(Wn=>{let[Ia,Ti]=Wn;const Kn=Object.assign({},Ti);"algorithm"in Kn&&(Kn.algorithm===!0?Kn.theme=_n:(Array.isArray(Kn.algorithm)||typeof Kn.algorithm=="function")&&(Kn.theme=Gf(Kn.algorithm)),delete Kn.algorithm),_i[Ia]=Kn});const Rn=Object.assign(Object.assign({},Cs),Cn);return Object.assign(Object.assign({},qo),{theme:_n,token:Rn,components:_i,override:Object.assign({override:Rn},_i),cssVar:Hr})},[eo]);return $&&(Yt=J.createElement(R0.Provider,{value:mn},Yt)),ai.warning&&(Yt=J.createElement(CL.Provider,{value:ai.warning},Yt)),q!==void 0&&(Yt=J.createElement(JL,{disabled:q},Yt)),J.createElement(yi.Provider,{value:ai},Yt)},La=t=>{const e=J.useContext(yi),n=J.useContext(L0);return J.createElement(oM,Object.assign({parentContext:e,legacyLocale:n},t))};La.ConfigContext=yi;La.SizeContext=Ts;La.config=rM;La.useConfig=eP;Object.defineProperty(La,"SizeContext",{get:()=>Ts});var aM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function ev(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function sM(t){return ev(t)instanceof ShadowRoot}function uM(t){return sM(t)?ev(t):null}function cM(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function lM(t,e){Gs(t,"[@ant-design/icons] ".concat(e))}function Kg(t){return Ct(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(Ct(t.icon)==="object"||typeof t.icon=="function")}function Qg(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[cM(n)]=r}return e},{})}function gd(t,e,n){return n?Xt.createElement(t.tag,Be(Be({key:e},Qg(t.attrs)),n),(t.children||[]).map(function(r,o){return gd(r,"".concat(e,"-").concat(t.tag,"-").concat(o))})):Xt.createElement(t.tag,Be({key:e},Qg(t.attrs)),(t.children||[]).map(function(r,o){return gd(r,"".concat(e,"-").concat(t.tag,"-").concat(o))}))}function tv(t){return _s(t)[0]}function nv(t){return t?Array.isArray(t)?t:[t]:[]}var fM=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,dM=function(e){var n=J.useContext(oh),r=n.csp,o=n.prefixCls,u=n.layer,c=fM;o&&(c=c.replace(/anticon/g,o)),u&&(c="@layer ".concat(u,` {
`).concat(c,`
}`)),J.useEffect(function(){var l=e.current,h=uM(l);Wo(c,"@ant-design-icons",{prepend:!u,csp:r,attachTo:h})},[])},hM=["icon","className","onClick","style","primaryColor","secondaryColor"],bs={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function pM(t){var e=t.primaryColor,n=t.secondaryColor;bs.primaryColor=e,bs.secondaryColor=n||tv(e),bs.calculated=!!n}function gM(){return Be({},bs)}var Pa=function(e){var n=e.icon,r=e.className,o=e.onClick,u=e.style,c=e.primaryColor,l=e.secondaryColor,h=jo(e,hM),p=J.useRef(),w=bs;if(c&&(w={primaryColor:c,secondaryColor:l||tv(c)}),dM(p),lM(Kg(n),"icon should be icon definiton, but got ".concat(n)),!Kg(n))return null;var x=n;return x&&typeof x.icon=="function"&&(x=Be(Be({},x),{},{icon:x.icon(w.primaryColor,w.secondaryColor)})),gd(x.icon,"svg-".concat(x.name),Be(Be({className:r,onClick:o,style:u,"data-icon":x.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},h),{},{ref:p}))};Pa.displayName="IconReact";Pa.getTwoToneColors=gM;Pa.setTwoToneColors=pM;function rv(t){var e=nv(t),n=et(e,2),r=n[0],o=n[1];return Pa.setTwoToneColors({primaryColor:r,secondaryColor:o})}function mM(){var t=Pa.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var yM=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];rv(gc.primary);var Xi=J.forwardRef(function(t,e){var n=t.className,r=t.icon,o=t.spin,u=t.rotate,c=t.tabIndex,l=t.onClick,h=t.twoToneColor,p=jo(t,yM),w=J.useContext(oh),x=w.prefixCls,E=x===void 0?"anticon":x,P=w.rootClassName,T=Zr(P,E,je(je({},"".concat(E,"-").concat(r.name),!!r.name),"".concat(E,"-spin"),!!o||r.name==="loading"),n),L=c;L===void 0&&l&&(L=-1);var N=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,F=nv(h),H=et(F,2),$=H[0],q=H[1];return J.createElement("span",or({role:"img","aria-label":r.name},p,{ref:e,tabIndex:L,onClick:l,className:T}),J.createElement(Pa,{icon:r,primaryColor:$,secondaryColor:q,style:N}))});Xi.displayName="AntdIcon";Xi.getTwoToneColor=mM;Xi.setTwoToneColor=rv;var vM=function(e,n){return J.createElement(Xi,or({},e,{ref:n,icon:aM}))},wM=J.forwardRef(vM),bM={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},xM=function(e,n){return J.createElement(Xi,or({},e,{ref:n,icon:bM}))},SM=J.forwardRef(xM),EM={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},AM=function(e,n){return J.createElement(Xi,or({},e,{ref:n,icon:EM}))},CM=J.forwardRef(AM),_M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},TM=function(e,n){return J.createElement(Xi,or({},e,{ref:n,icon:_M}))},LM=J.forwardRef(TM),PM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},MM=function(e,n){return J.createElement(Xi,or({},e,{ref:n,icon:PM}))},IM=J.forwardRef(MM),kM=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,RM=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,OM="".concat(kM," ").concat(RM).split(/[\s\n]+/),FM="aria-",NM="data-";function qg(t,e){return t.indexOf(e)===0}function $M(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=Be({},e);var r={};return Object.keys(t).forEach(function(o){(n.aria&&(o==="role"||qg(o,FM))||n.data&&qg(o,NM)||n.attr&&OM.includes(o))&&(r[o]=t[o])}),r}const iv=t=>{const[,,,,e]=Ws();return e?`${t}-css-var`:""};var BM={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},ov=J.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,o=t.className,u=t.duration,c=u===void 0?4.5:u,l=t.showProgress,h=t.pauseOnHover,p=h===void 0?!0:h,w=t.eventKey,x=t.content,E=t.closable,P=t.closeIcon,T=P===void 0?"x":P,L=t.props,N=t.onClick,F=t.onNoticeClose,H=t.times,$=t.hovering,q=J.useState(!1),te=et(q,2),re=te[0],le=te[1],Ae=J.useState(0),Z=et(Ae,2),pe=Z[0],ae=Z[1],Ie=J.useState(0),Fe=et(Ie,2),_e=Fe[0],Ye=Fe[1],se=$||re,ie=c>0&&l,he=function(){F(w)},Te=function(Ke){(Ke.key==="Enter"||Ke.code==="Enter"||Ke.keyCode===BM.ENTER)&&he()};J.useEffect(function(){if(!se&&c>0){var it=Date.now()-_e,Ke=setTimeout(function(){he()},c*1e3-_e);return function(){p&&clearTimeout(Ke),Ye(Date.now()-it)}}},[c,se,H]),J.useEffect(function(){if(!se&&ie&&(p||_e===0)){var it=performance.now(),Ke,yt=function Nt(){cancelAnimationFrame(Ke),Ke=requestAnimationFrame(function(In){var an=In+_e-it,pn=Math.min(an/(c*1e3),1);ae(pn*100),pn<1&&Nt()})};return yt(),function(){p&&cancelAnimationFrame(Ke)}}},[c,_e,se,ie,H]);var ke=J.useMemo(function(){return Ct(E)==="object"&&E!==null?E:E?{closeIcon:T}:{}},[E,T]),Ee=$M(ke,!0),Re=100-(!pe||pe<0?0:pe>100?100:pe),ot="".concat(n,"-notice");return J.createElement("div",or({},L,{ref:e,className:Zr(ot,o,je({},"".concat(ot,"-closable"),E)),style:r,onMouseEnter:function(Ke){var yt;le(!0),L==null||(yt=L.onMouseEnter)===null||yt===void 0||yt.call(L,Ke)},onMouseLeave:function(Ke){var yt;le(!1),L==null||(yt=L.onMouseLeave)===null||yt===void 0||yt.call(L,Ke)},onClick:N}),J.createElement("div",{className:"".concat(ot,"-content")},x),E&&J.createElement("a",or({tabIndex:0,className:"".concat(ot,"-close"),onKeyDown:Te,"aria-label":"Close"},Ee,{onClick:function(Ke){Ke.preventDefault(),Ke.stopPropagation(),he()}}),ke.closeIcon),ie&&J.createElement("progress",{className:"".concat(ot,"-progress"),max:"100",value:Re},Re+"%"))}),av=Xt.createContext({}),DM=function(e){var n=e.children,r=e.classNames;return Xt.createElement(av.Provider,{value:{classNames:r}},n)},Jg=8,Zg=3,em=16,GM=function(e){var n={offset:Jg,threshold:Zg,gap:em};if(e&&Ct(e)==="object"){var r,o,u;n.offset=(r=e.offset)!==null&&r!==void 0?r:Jg,n.threshold=(o=e.threshold)!==null&&o!==void 0?o:Zg,n.gap=(u=e.gap)!==null&&u!==void 0?u:em}return[!!e,n]},UM=["className","style","classNames","styles"],WM=function(e){var n=e.configList,r=e.placement,o=e.prefixCls,u=e.className,c=e.style,l=e.motion,h=e.onAllNoticeRemoved,p=e.onNoticeClose,w=e.stack,x=J.useContext(av),E=x.classNames,P=J.useRef({}),T=J.useState(null),L=et(T,2),N=L[0],F=L[1],H=J.useState([]),$=et(H,2),q=$[0],te=$[1],re=n.map(function(se){return{config:se,key:String(se.key)}}),le=GM(w),Ae=et(le,2),Z=Ae[0],pe=Ae[1],ae=pe.offset,Ie=pe.threshold,Fe=pe.gap,_e=Z&&(q.length>0||re.length<=Ie),Ye=typeof l=="function"?l(r):l;return J.useEffect(function(){Z&&q.length>1&&te(function(se){return se.filter(function(ie){return re.some(function(he){var Te=he.key;return ie===Te})})})},[q,re,Z]),J.useEffect(function(){var se;if(Z&&P.current[(se=re[re.length-1])===null||se===void 0?void 0:se.key]){var ie;F(P.current[(ie=re[re.length-1])===null||ie===void 0?void 0:ie.key])}},[re,Z]),Xt.createElement(QP,or({key:r,className:Zr(o,"".concat(o,"-").concat(r),E==null?void 0:E.list,u,je(je({},"".concat(o,"-stack"),!!Z),"".concat(o,"-stack-expanded"),_e)),style:c,keys:re,motionAppear:!0},Ye,{onAllRemoved:function(){h(r)}}),function(se,ie){var he=se.config,Te=se.className,ke=se.style,Ee=se.index,Re=he,ot=Re.key,it=Re.times,Ke=String(ot),yt=he,Nt=yt.className,In=yt.style,an=yt.classNames,pn=yt.styles,Gn=jo(yt,UM),Ut=re.findIndex(function(xt){return xt.key===Ke}),wn={};if(Z){var Wt=re.length-1-(Ut>-1?Ut:Ee-1),An=r==="top"||r==="bottom"?"-50%":"0";if(Wt>0){var en,jt,Un;wn.height=_e?(en=P.current[Ke])===null||en===void 0?void 0:en.offsetHeight:N==null?void 0:N.offsetHeight;for(var yr=0,gn=0;gn<Wt;gn++){var at;yr+=((at=P.current[re[re.length-1-gn].key])===null||at===void 0?void 0:at.offsetHeight)+Fe}var _t=(_e?yr:Wt*ae)*(r.startsWith("top")?1:-1),tn=!_e&&N!==null&&N!==void 0&&N.offsetWidth&&(jt=P.current[Ke])!==null&&jt!==void 0&&jt.offsetWidth?((N==null?void 0:N.offsetWidth)-ae*2*(Wt<3?Wt:3))/((Un=P.current[Ke])===null||Un===void 0?void 0:Un.offsetWidth):1;wn.transform="translate3d(".concat(An,", ").concat(_t,"px, 0) scaleX(").concat(tn,")")}else wn.transform="translate3d(".concat(An,", 0, 0)")}return Xt.createElement("div",{ref:ie,className:Zr("".concat(o,"-notice-wrapper"),Te,an==null?void 0:an.wrapper),style:Be(Be(Be({},ke),wn),pn==null?void 0:pn.wrapper),onMouseEnter:function(){return te(function(Dt){return Dt.includes(Ke)?Dt:[].concat(mr(Dt),[Ke])})},onMouseLeave:function(){return te(function(Dt){return Dt.filter(function(vt){return vt!==Ke})})}},Xt.createElement(ov,or({},Gn,{ref:function(Dt){Ut>-1?P.current[Ke]=Dt:delete P.current[Ke]},prefixCls:o,classNames:an,styles:pn,className:Zr(Nt,E==null?void 0:E.notice),style:In,times:it,key:ot,eventKey:ot,onNoticeClose:p,hovering:Z&&q.length>0})))})},zM=J.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-notification":n,o=t.container,u=t.motion,c=t.maxCount,l=t.className,h=t.style,p=t.onAllRemoved,w=t.stack,x=t.renderNotifications,E=J.useState([]),P=et(E,2),T=P[0],L=P[1],N=function(Z){var pe,ae=T.find(function(Ie){return Ie.key===Z});ae==null||(pe=ae.onClose)===null||pe===void 0||pe.call(ae),L(function(Ie){return Ie.filter(function(Fe){return Fe.key!==Z})})};J.useImperativeHandle(e,function(){return{open:function(Z){L(function(pe){var ae=mr(pe),Ie=ae.findIndex(function(Ye){return Ye.key===Z.key}),Fe=Be({},Z);if(Ie>=0){var _e;Fe.times=(((_e=pe[Ie])===null||_e===void 0?void 0:_e.times)||0)+1,ae[Ie]=Fe}else Fe.times=0,ae.push(Fe);return c>0&&ae.length>c&&(ae=ae.slice(-c)),ae})},close:function(Z){N(Z)},destroy:function(){L([])}}});var F=J.useState({}),H=et(F,2),$=H[0],q=H[1];J.useEffect(function(){var Ae={};T.forEach(function(Z){var pe=Z.placement,ae=pe===void 0?"topRight":pe;ae&&(Ae[ae]=Ae[ae]||[],Ae[ae].push(Z))}),Object.keys($).forEach(function(Z){Ae[Z]=Ae[Z]||[]}),q(Ae)},[T]);var te=function(Z){q(function(pe){var ae=Be({},pe),Ie=ae[Z]||[];return Ie.length||delete ae[Z],ae})},re=J.useRef(!1);if(J.useEffect(function(){Object.keys($).length>0?re.current=!0:re.current&&(p==null||p(),re.current=!1)},[$]),!o)return null;var le=Object.keys($);return l2.createPortal(J.createElement(J.Fragment,null,le.map(function(Ae){var Z=$[Ae],pe=J.createElement(WM,{key:Ae,configList:Z,placement:Ae,prefixCls:r,className:l==null?void 0:l(Ae),style:h==null?void 0:h(Ae),motion:u,onNoticeClose:N,onAllNoticeRemoved:te,stack:w});return x?x(pe,{prefixCls:r,key:Ae}):pe})),o)}),HM=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],jM=function(){return document.body},tm=0;function VM(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(o){o&&Object.keys(o).forEach(function(u){var c=o[u];c!==void 0&&(t[u]=c)})}),t}function XM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,n=e===void 0?jM:e,r=t.motion,o=t.prefixCls,u=t.maxCount,c=t.className,l=t.style,h=t.onAllRemoved,p=t.stack,w=t.renderNotifications,x=jo(t,HM),E=J.useState(),P=et(E,2),T=P[0],L=P[1],N=J.useRef(),F=J.createElement(zM,{container:T,ref:N,prefixCls:o,motion:r,maxCount:u,className:c,style:l,onAllRemoved:h,stack:p,renderNotifications:w}),H=J.useState([]),$=et(H,2),q=$[0],te=$[1],re=J.useMemo(function(){return{open:function(Ae){var Z=VM(x,Ae);(Z.key===null||Z.key===void 0)&&(Z.key="rc-notification-".concat(tm),tm+=1),te(function(pe){return[].concat(mr(pe),[{type:"open",config:Z}])})},close:function(Ae){te(function(Z){return[].concat(mr(Z),[{type:"close",key:Ae}])})},destroy:function(){te(function(Ae){return[].concat(mr(Ae),[{type:"destroy"}])})}}},[]);return J.useEffect(function(){L(n())}),J.useEffect(function(){if(N.current&&q.length){q.forEach(function(Z){switch(Z.type){case"open":N.current.open(Z.config);break;case"close":N.current.close(Z.key);break;case"destroy":N.current.destroy();break}});var le,Ae;te(function(Z){return(le!==Z||!Ae)&&(le=Z,Ae=Z.filter(function(pe){return!q.includes(pe)})),Ae})}},[q]),[re,F]}var YM={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},KM=function(e,n){return J.createElement(Xi,or({},e,{ref:n,icon:YM}))},QM=J.forwardRef(KM);const qM=Xt.createContext(void 0),vo=100,JM=10,ZM=vo*JM,sv={Modal:vo,Drawer:vo,Popover:vo,Popconfirm:vo,Tooltip:vo,Tour:vo,FloatButton:vo},eI={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function tI(t){return t in sv}const kR=(t,e)=>{const[,n]=Ws(),r=Xt.useContext(qM),o=tI(t);let u;if(e!==void 0)u=[e,e];else{let c=r??0;o?c+=(r?0:n.zIndexPopupBase)+sv[t]:c+=eI[t],u=[r===void 0?e:c,c]}return u},nI=t=>{const{componentCls:e,iconCls:n,boxShadow:r,colorText:o,colorSuccess:u,colorError:c,colorWarning:l,colorInfo:h,fontSizeLG:p,motionEaseInOutCirc:w,motionDurationSlow:x,marginXS:E,paddingXS:P,borderRadiusLG:T,zIndexPopup:L,contentPadding:N,contentBg:F}=t,H=`${e}-notice`,$=new Tg("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:P,transform:"translateY(0)",opacity:1}}),q=new Tg("MessageMoveOut",{"0%":{maxHeight:t.height,padding:P,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),te={padding:P,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${n}`]:{marginInlineEnd:E,fontSize:p},[`${H}-content`]:{display:"inline-block",padding:N,background:F,borderRadius:T,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${n}`]:{color:u},[`${e}-error > ${n}`]:{color:c},[`${e}-warning > ${n}`]:{color:l},[`${e}-info > ${n},
      ${e}-loading > ${n}`]:{color:h}};return[{[e]:Object.assign(Object.assign({},yP(t)),{color:o,position:"fixed",top:E,width:"100%",pointerEvents:"none",zIndex:L,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:$,animationDuration:x,animationPlayState:"paused",animationTimingFunction:w},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:q,animationDuration:x,animationPlayState:"paused",animationTimingFunction:w},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${H}-wrapper`]:Object.assign({},te)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},te),{padding:0,textAlign:"start"})}]},rI=t=>({zIndexPopup:t.zIndexPopupBase+ZM+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),uv=SP("Message",t=>{const e=ah(t,{height:150});return[nI(e)]},rI);var iI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const oI={info:J.createElement(IM,null),success:J.createElement(wM,null),error:J.createElement(SM,null),warning:J.createElement(LM,null),loading:J.createElement(QM,null)},cv=t=>{let{prefixCls:e,type:n,icon:r,children:o}=t;return J.createElement("div",{className:Zr(`${e}-custom-content`,`${e}-${n}`)},r||oI[n],J.createElement("span",null,o))},aI=t=>{const{prefixCls:e,className:n,type:r,icon:o,content:u}=t,c=iI(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=J.useContext(yi),h=e||l("message"),p=iv(h),[w,x,E]=uv(h,p);return w(J.createElement(ov,Object.assign({},c,{prefixCls:h,className:Zr(n,x,`${h}-notice-pure-panel`,E,p),eventKey:"pure",duration:null,content:J.createElement(cv,{prefixCls:h,type:r,icon:o},u)})))};function sI(t,e){return{motionName:e??`${t}-move-up`}}function uh(t){let e;const n=new Promise(o=>{e=t(()=>{o(!0)})}),r=()=>{e==null||e()};return r.then=(o,u)=>n.then(o,u),r.promise=n,r}var uI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const cI=8,lI=3,fI=t=>{let{children:e,prefixCls:n}=t;const r=iv(n),[o,u,c]=uv(n,r);return o(J.createElement(DM,{classNames:{list:Zr(u,c,r)}},e))},dI=(t,e)=>{let{prefixCls:n,key:r}=e;return J.createElement(fI,{prefixCls:n,key:r},t)},hI=J.forwardRef((t,e)=>{const{top:n,prefixCls:r,getContainer:o,maxCount:u,duration:c=lI,rtl:l,transitionName:h,onAllRemoved:p}=t,{getPrefixCls:w,getPopupContainer:x,message:E,direction:P}=J.useContext(yi),T=r||w("message"),L=()=>({left:"50%",transform:"translateX(-50%)",top:n??cI}),N=()=>Zr({[`${T}-rtl`]:l??P==="rtl"}),F=()=>sI(T,h),H=J.createElement("span",{className:`${T}-close-x`},J.createElement(CM,{className:`${T}-close-icon`})),[$,q]=XM({prefixCls:T,style:L,className:N,motion:F,closable:!1,closeIcon:H,duration:c,getContainer:()=>(o==null?void 0:o())||(x==null?void 0:x())||document.body,maxCount:u,onAllRemoved:p,renderNotifications:dI});return J.useImperativeHandle(e,()=>Object.assign(Object.assign({},$),{prefixCls:T,message:E})),q});let nm=0;function lv(t){const e=J.useRef(null);return _0(),[J.useMemo(()=>{const r=h=>{var p;(p=e.current)===null||p===void 0||p.close(h)},o=h=>{if(!e.current){const re=()=>{};return re.then=()=>{},re}const{open:p,prefixCls:w,message:x}=e.current,E=`${w}-notice`,{content:P,icon:T,type:L,key:N,className:F,style:H,onClose:$}=h,q=uI(h,["content","icon","type","key","className","style","onClose"]);let te=N;return te==null&&(nm+=1,te=`antd-message-${nm}`),uh(re=>(p(Object.assign(Object.assign({},q),{key:te,content:J.createElement(cv,{prefixCls:w,type:L,icon:T},P),placement:"top",className:Zr(L&&`${E}-${L}`,F,x==null?void 0:x.className),style:Object.assign(Object.assign({},x==null?void 0:x.style),H),onClose:()=>{$==null||$(),re()}})),()=>{r(te)}))},c={open:o,destroy:h=>{var p;h!==void 0?r(h):(p=e.current)===null||p===void 0||p.destroy()}};return["info","success","warning","error","loading"].forEach(h=>{const p=(w,x,E)=>{let P;w&&typeof w=="object"&&"content"in w?P=w:P={content:w};let T,L;typeof x=="function"?L=x:(T=x,L=E);const N=Object.assign(Object.assign({onClose:L,duration:T},P),{type:h});return o(N)};c[h]=p}),c},[]),J.createElement(hI,Object.assign({key:"message-holder"},t,{ref:e}))]}function pI(t){return lv(t)}function Ls(){Ls=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(se,ie,he){se[ie]=he.value},u=typeof Symbol=="function"?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function p(se,ie,he){return Object.defineProperty(se,ie,{value:he,enumerable:!0,configurable:!0,writable:!0}),se[ie]}try{p({},"")}catch{p=function(he,Te,ke){return he[Te]=ke}}function w(se,ie,he,Te){var ke=ie&&ie.prototype instanceof F?ie:F,Ee=Object.create(ke.prototype),Re=new _e(Te||[]);return o(Ee,"_invoke",{value:pe(se,he,Re)}),Ee}function x(se,ie,he){try{return{type:"normal",arg:se.call(ie,he)}}catch(Te){return{type:"throw",arg:Te}}}e.wrap=w;var E="suspendedStart",P="suspendedYield",T="executing",L="completed",N={};function F(){}function H(){}function $(){}var q={};p(q,c,function(){return this});var te=Object.getPrototypeOf,re=te&&te(te(Ye([])));re&&re!==n&&r.call(re,c)&&(q=re);var le=$.prototype=F.prototype=Object.create(q);function Ae(se){["next","throw","return"].forEach(function(ie){p(se,ie,function(he){return this._invoke(ie,he)})})}function Z(se,ie){function he(ke,Ee,Re,ot){var it=x(se[ke],se,Ee);if(it.type!=="throw"){var Ke=it.arg,yt=Ke.value;return yt&&Ct(yt)=="object"&&r.call(yt,"__await")?ie.resolve(yt.__await).then(function(Nt){he("next",Nt,Re,ot)},function(Nt){he("throw",Nt,Re,ot)}):ie.resolve(yt).then(function(Nt){Ke.value=Nt,Re(Ke)},function(Nt){return he("throw",Nt,Re,ot)})}ot(it.arg)}var Te;o(this,"_invoke",{value:function(Ee,Re){function ot(){return new ie(function(it,Ke){he(Ee,Re,it,Ke)})}return Te=Te?Te.then(ot,ot):ot()}})}function pe(se,ie,he){var Te=E;return function(ke,Ee){if(Te===T)throw Error("Generator is already running");if(Te===L){if(ke==="throw")throw Ee;return{value:t,done:!0}}for(he.method=ke,he.arg=Ee;;){var Re=he.delegate;if(Re){var ot=ae(Re,he);if(ot){if(ot===N)continue;return ot}}if(he.method==="next")he.sent=he._sent=he.arg;else if(he.method==="throw"){if(Te===E)throw Te=L,he.arg;he.dispatchException(he.arg)}else he.method==="return"&&he.abrupt("return",he.arg);Te=T;var it=x(se,ie,he);if(it.type==="normal"){if(Te=he.done?L:P,it.arg===N)continue;return{value:it.arg,done:he.done}}it.type==="throw"&&(Te=L,he.method="throw",he.arg=it.arg)}}}function ae(se,ie){var he=ie.method,Te=se.iterator[he];if(Te===t)return ie.delegate=null,he==="throw"&&se.iterator.return&&(ie.method="return",ie.arg=t,ae(se,ie),ie.method==="throw")||he!=="return"&&(ie.method="throw",ie.arg=new TypeError("The iterator does not provide a '"+he+"' method")),N;var ke=x(Te,se.iterator,ie.arg);if(ke.type==="throw")return ie.method="throw",ie.arg=ke.arg,ie.delegate=null,N;var Ee=ke.arg;return Ee?Ee.done?(ie[se.resultName]=Ee.value,ie.next=se.nextLoc,ie.method!=="return"&&(ie.method="next",ie.arg=t),ie.delegate=null,N):Ee:(ie.method="throw",ie.arg=new TypeError("iterator result is not an object"),ie.delegate=null,N)}function Ie(se){var ie={tryLoc:se[0]};1 in se&&(ie.catchLoc=se[1]),2 in se&&(ie.finallyLoc=se[2],ie.afterLoc=se[3]),this.tryEntries.push(ie)}function Fe(se){var ie=se.completion||{};ie.type="normal",delete ie.arg,se.completion=ie}function _e(se){this.tryEntries=[{tryLoc:"root"}],se.forEach(Ie,this),this.reset(!0)}function Ye(se){if(se||se===""){var ie=se[c];if(ie)return ie.call(se);if(typeof se.next=="function")return se;if(!isNaN(se.length)){var he=-1,Te=function ke(){for(;++he<se.length;)if(r.call(se,he))return ke.value=se[he],ke.done=!1,ke;return ke.value=t,ke.done=!0,ke};return Te.next=Te}}throw new TypeError(Ct(se)+" is not iterable")}return H.prototype=$,o(le,"constructor",{value:$,configurable:!0}),o($,"constructor",{value:H,configurable:!0}),H.displayName=p($,h,"GeneratorFunction"),e.isGeneratorFunction=function(se){var ie=typeof se=="function"&&se.constructor;return!!ie&&(ie===H||(ie.displayName||ie.name)==="GeneratorFunction")},e.mark=function(se){return Object.setPrototypeOf?Object.setPrototypeOf(se,$):(se.__proto__=$,p(se,h,"GeneratorFunction")),se.prototype=Object.create(le),se},e.awrap=function(se){return{__await:se}},Ae(Z.prototype),p(Z.prototype,l,function(){return this}),e.AsyncIterator=Z,e.async=function(se,ie,he,Te,ke){ke===void 0&&(ke=Promise);var Ee=new Z(w(se,ie,he,Te),ke);return e.isGeneratorFunction(ie)?Ee:Ee.next().then(function(Re){return Re.done?Re.value:Ee.next()})},Ae(le),p(le,h,"Generator"),p(le,c,function(){return this}),p(le,"toString",function(){return"[object Generator]"}),e.keys=function(se){var ie=Object(se),he=[];for(var Te in ie)he.push(Te);return he.reverse(),function ke(){for(;he.length;){var Ee=he.pop();if(Ee in ie)return ke.value=Ee,ke.done=!1,ke}return ke.done=!0,ke}},e.values=Ye,_e.prototype={constructor:_e,reset:function(ie){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(Fe),!ie)for(var he in this)he.charAt(0)==="t"&&r.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=t)},stop:function(){this.done=!0;var ie=this.tryEntries[0].completion;if(ie.type==="throw")throw ie.arg;return this.rval},dispatchException:function(ie){if(this.done)throw ie;var he=this;function Te(Ke,yt){return Re.type="throw",Re.arg=ie,he.next=Ke,yt&&(he.method="next",he.arg=t),!!yt}for(var ke=this.tryEntries.length-1;ke>=0;--ke){var Ee=this.tryEntries[ke],Re=Ee.completion;if(Ee.tryLoc==="root")return Te("end");if(Ee.tryLoc<=this.prev){var ot=r.call(Ee,"catchLoc"),it=r.call(Ee,"finallyLoc");if(ot&&it){if(this.prev<Ee.catchLoc)return Te(Ee.catchLoc,!0);if(this.prev<Ee.finallyLoc)return Te(Ee.finallyLoc)}else if(ot){if(this.prev<Ee.catchLoc)return Te(Ee.catchLoc,!0)}else{if(!it)throw Error("try statement without catch or finally");if(this.prev<Ee.finallyLoc)return Te(Ee.finallyLoc)}}}},abrupt:function(ie,he){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ke=this.tryEntries[Te];if(ke.tryLoc<=this.prev&&r.call(ke,"finallyLoc")&&this.prev<ke.finallyLoc){var Ee=ke;break}}Ee&&(ie==="break"||ie==="continue")&&Ee.tryLoc<=he&&he<=Ee.finallyLoc&&(Ee=null);var Re=Ee?Ee.completion:{};return Re.type=ie,Re.arg=he,Ee?(this.method="next",this.next=Ee.finallyLoc,N):this.complete(Re)},complete:function(ie,he){if(ie.type==="throw")throw ie.arg;return ie.type==="break"||ie.type==="continue"?this.next=ie.arg:ie.type==="return"?(this.rval=this.arg=ie.arg,this.method="return",this.next="end"):ie.type==="normal"&&he&&(this.next=he),N},finish:function(ie){for(var he=this.tryEntries.length-1;he>=0;--he){var Te=this.tryEntries[he];if(Te.finallyLoc===ie)return this.complete(Te.completion,Te.afterLoc),Fe(Te),N}},catch:function(ie){for(var he=this.tryEntries.length-1;he>=0;--he){var Te=this.tryEntries[he];if(Te.tryLoc===ie){var ke=Te.completion;if(ke.type==="throw"){var Ee=ke.arg;Fe(Te)}return Ee}}throw Error("illegal catch attempt")},delegateYield:function(ie,he,Te){return this.delegate={iterator:Ye(ie),resultName:he,nextLoc:Te},this.method==="next"&&(this.arg=t),N}},e}function rm(t,e,n,r,o,u,c){try{var l=t[u](c),h=l.value}catch(p){return void n(p)}l.done?e(h):Promise.resolve(h).then(r,o)}function fv(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var u=t.apply(e,n);function c(h){rm(u,r,o,c,l,"next",h)}function l(h){rm(u,r,o,c,l,"throw",h)}c(void 0)})}}var zs=Be({},f2),gI=zs.version,Cf=zs.render,mI=zs.unmountComponentAtNode,qc;try{var yI=Number((gI||"").split(".")[0]);yI>=18&&(qc=zs.createRoot)}catch{}function im(t){var e=zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Ct(e)==="object"&&(e.usingClientEntryPoint=t)}var yc="__rc_react_root__";function vI(t,e){im(!0);var n=e[yc]||qc(e);im(!1),n.render(t),e[yc]=n}function wI(t,e){Cf==null||Cf(t,e)}function bI(t,e){if(qc){vI(t,e);return}wI(t,e)}function xI(t){return md.apply(this,arguments)}function md(){return md=fv(Ls().mark(function t(e){return Ls().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var o;(o=e[yc])===null||o===void 0||o.unmount(),delete e[yc]}));case 1:case"end":return r.stop()}},t)})),md.apply(this,arguments)}function SI(t){mI(t)}function EI(t){return yd.apply(this,arguments)}function yd(){return yd=fv(Ls().mark(function t(e){return Ls().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(qc===void 0){r.next=2;break}return r.abrupt("return",xI(e));case 2:SI(e);case 3:case"end":return r.stop()}},t)})),yd.apply(this,arguments)}const AI=(t,e)=>(bI(t,e),()=>EI(e));let CI=AI;function _I(){return CI}const TI=Xt.createContext({});let Fr=null,Do=t=>t(),Ps=[],Ms={};function om(){const{getContainer:t,duration:e,rtl:n,maxCount:r,top:o}=Ms,u=(t==null?void 0:t())||document.body;return{getContainer:()=>u,duration:e,rtl:n,maxCount:r,top:o}}const LI=Xt.forwardRef((t,e)=>{const{messageConfig:n,sync:r}=t,{getPrefixCls:o}=J.useContext(yi),u=Ms.prefixCls||o("message"),c=J.useContext(TI),[l,h]=lv(Object.assign(Object.assign(Object.assign({},n),{prefixCls:u}),c.message));return Xt.useImperativeHandle(e,()=>{const p=Object.assign({},l);return Object.keys(p).forEach(w=>{p[w]=function(){return r(),l[w].apply(l,arguments)}}),{instance:p,sync:r}}),h}),PI=Xt.forwardRef((t,e)=>{const[n,r]=Xt.useState(om),o=()=>{r(om)};Xt.useEffect(o,[]);const u=iM(),c=u.getRootPrefixCls(),l=u.getIconPrefixCls(),h=u.getTheme(),p=Xt.createElement(LI,{ref:e,sync:o,messageConfig:n});return Xt.createElement(La,{prefixCls:c,iconPrefixCls:l,theme:h},u.holderRender?u.holderRender(p):p)});function Jc(){if(!Fr){const t=document.createDocumentFragment(),e={fragment:t};Fr=e,Do(()=>{_I()(Xt.createElement(PI,{ref:r=>{const{instance:o,sync:u}=r||{};Promise.resolve().then(()=>{!e.instance&&o&&(e.instance=o,e.sync=u,Jc())})}}),t)});return}Fr.instance&&(Ps.forEach(t=>{const{type:e,skipped:n}=t;if(!n)switch(e){case"open":{Do(()=>{const r=Fr.instance.open(Object.assign(Object.assign({},Ms),t.config));r==null||r.then(t.resolve),t.setCloseFn(r)});break}case"destroy":Do(()=>{Fr==null||Fr.instance.destroy(t.key)});break;default:Do(()=>{var r;const o=(r=Fr.instance)[e].apply(r,mr(t.args));o==null||o.then(t.resolve),t.setCloseFn(o)})}}),Ps=[])}function MI(t){Ms=Object.assign(Object.assign({},Ms),t),Do(()=>{var e;(e=Fr==null?void 0:Fr.sync)===null||e===void 0||e.call(Fr)})}function II(t){const e=uh(n=>{let r;const o={type:"open",config:t,resolve:n,setCloseFn:u=>{r=u}};return Ps.push(o),()=>{r?Do(()=>{r()}):o.skipped=!0}});return Jc(),e}function kI(t,e){const n=uh(r=>{let o;const u={type:t,args:e,resolve:r,setCloseFn:c=>{o=c}};return Ps.push(u),()=>{o?Do(()=>{o()}):u.skipped=!0}});return Jc(),n}const RI=t=>{Ps.push({type:"destroy",key:t}),Jc()},OI=["success","info","warning","error","loading"],FI={open:II,destroy:RI,config:MI,useMessage:pI,_InternalPanelDoNotUseOrYouWillBeFired:aI},NI=FI;OI.forEach(t=>{NI[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return kI(t,n)}});export{Hc as $,dk as A,kc as B,pk as C,Xm as D,y2 as E,Td as F,xc as G,SP as H,yP as I,Wf as J,_R as K,Pe as L,Zr as M,$M as N,zP as O,jd as P,lT as Q,LM as R,Sm as S,SM as T,IM as U,wM as V,CM as W,dT as X,hc as Y,Jy as Z,GI as _,lm as a,ir as a$,wi as a0,vi as a1,mr as a2,Tg as a3,cd as a4,bR as a5,Be as a6,Ct as a7,or as a8,et as a9,xm as aA,JI as aB,Cc as aC,wR as aD,NI as aE,U_ as aF,eE as aG,W_ as aH,E2 as aI,vR as aJ,VI as aK,lc as aL,G2 as aM,Rk as aN,YI as aO,nk as aP,Lm as aQ,um as aR,QM as aS,Ns as aT,Fs as aU,G_ as aV,WE as aW,Zt as aX,Ss as aY,Os as aZ,Yn as a_,mT as aa,BM as ab,Vi as ac,ah as ad,yi as ae,ud as af,ER as ag,JL as ah,PR as ai,iv as aj,kR as ak,qM as al,IR as am,LR as an,La as ao,Ws as ap,ZM as aq,iM as ar,_I as as,Kc as at,Xi as au,jo as av,Gs as aw,je as ax,f0 as ay,Wk as az,Pk as b,ZE as b$,Ec as b0,hE as b1,_d as b2,cy as b3,wa as b4,Om as b5,xd as b6,B2 as b7,Sc as b8,dn as b9,Ld as bA,qt as bB,uA as bC,cA as bD,Yk as bE,gi as bF,ey as bG,ty as bH,fA as bI,Kk as bJ,En as bK,bk as bL,aE as bM,sE as bN,uE as bO,EE as bP,XI as bQ,Bs as bR,_2 as bS,jI as bT,zI as bU,bd as bV,Ho as bW,nE as bX,_A as bY,lf as bZ,sd as b_,$s as ba,oR as bb,$r as bc,Dm as bd,Fd as be,__ as bf,F2 as bg,$f as bh,fT as bi,qy as bj,Qd as bk,xT as bl,jc as bm,xR as bn,xP as bo,TR as bp,hn as bq,vP as br,_0 as bs,W2 as bt,pi as bu,Hk as bv,HI as bw,Aa as bx,So as by,sy as bz,lk as c,pA as c$,Mk as c0,Ik as c1,yA as c2,$k as c3,Ak as c4,Tc as c5,_c as c6,Z2 as c7,Sk as c8,q2 as c9,jk as cA,eT as cB,bL as cC,L0 as cD,MR as cE,ad as cF,UL as cG,Hu as cH,AR as cI,SR as cJ,Qk as cK,kk as cL,dR as cM,r_ as cN,hR as cO,Jr as cP,PE as cQ,tR as cR,Fk as cS,Ok as cT,yk as cU,R2 as cV,km as cW,iy as cX,ek as cY,ZI as cZ,Zk as c_,Ek as ca,qk as cb,Rm as cc,$m as cd,dc as ce,D_ as cf,J2 as cg,xk as ch,p2 as ci,Hy as cj,L_ as ck,Gk as cl,Pd as cm,QE as cn,Vk as co,KE as cp,Uk as cq,WI as cr,Tm as cs,Pm as ct,Nk as cu,rk as cv,ik as cw,ok as cx,ak as cy,mk as cz,wd as d,zk as d$,Ed as d0,z2 as d1,O2 as d2,gA as d3,eR as d4,oy as d5,Xk as d6,Bk as d7,U2 as d8,Em as d9,Tk as dA,J_ as dB,aT as dC,Ts as dD,Wo as dE,u0 as dF,Ff as dG,Uo as dH,fv as dI,Ls as dJ,EL as dK,Vf as dL,vf as dM,Qy as dN,hg as dO,uM as dP,yR as dQ,ck as dR,Qp as dS,KI as dT,gR as dU,mR as dV,vk as dW,Dk as dX,bA as dY,iR as dZ,tk as d_,Am as da,V2 as db,xs as dc,sR as dd,uR as de,rg as df,JC as dg,lR as dh,Hm as di,cR as dj,Lk as dk,EA as dl,Od as dm,uk as dn,Jk as dp,_k as dq,SA as dr,pR as ds,rR as dt,aR as du,Vm as dv,Ck as dw,uy as dx,fR as dy,bE as dz,Im as e,X_ as e0,wk as e1,SE as e2,gk as e3,C2 as e4,V_ as e5,UI as e6,Md as e7,fk as f,sm as g,am as h,Mm as i,DI as j,ME as k,Ue as l,vc as m,QI as n,uf as o,rr as p,vs as q,j2 as r,H2 as s,qI as t,sk as u,Sd as v,nR as w,bm as x,hk as y,vm as z};
