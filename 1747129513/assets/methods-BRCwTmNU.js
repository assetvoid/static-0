import{aE as r,cM as h,bo as m,bs as p,cJ as L,az as y}from"./index-BmkeKudn.js";function w({localStore:e,layer:n,text:a,step:t,instanceChain:s}){var u,g;p({localStore:e,layer:n,instanceChain:s,step:t,data:{textData(f){f.characters=a}}}),x(e,n,s,t);const i=L(n);e.textLayerOutOfPage===!1&&(i.left>=0&&i.top>=0&&i.left+i.width<=e.props.getPageSize().width&&i.top+i.height<=e.props.getPageSize().height||(e.textLayerOutOfPage=!0)),y({localStore:e,layer:n,instanceChain:s,step:t}),(g=(u=e.props).doAction)==null||g.call(u,t.getNewAction())}function x(e,n,a,t){r({localStore:e,layer:n,step:t,instanceChain:a}),n.parentId&&h(e,n,{step:t}),e.selectedSingleLayer&&m(e,e.selectedSingleLayer)}function T(e){e.layerImageHasTransition=!0,setTimeout(()=>{e.layerImageHasTransition=!1},400)}function d({localStore:e,e:n}){e.menuX=n.pageX,e.menuY=n.pageY,e.menuShow=!0}function M(e,n,a){if(n){if(e.layerWithMenuId===n.id&&e.menuShow){e.menuShow=!1;return}e.layerWithMenuId=n.id,d({localStore:e,e:a})}else e.layerWithMenuId="",d({localStore:e,e:a})}export{x as a,T as c,M as r,d as s,w as u};
