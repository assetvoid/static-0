import{r as s,j as t}from"./index-BpkY95s5.js";import{d as u}from"./index-CsSXPTiX.js";import"./index-DpnMnV-W.js";import{a as d}from"./index-VOdz_MVc.js";import{C as i}from"./CommonWrapper-Dm0oetB_.js";import{P as p}from"./index-DL5uOs0N.js";const m="_rightMenuItem_16e98_1",l={rightMenuItem:m},h=[{name:"复制",fun:(e,n)=>{n.record("CopyLayers")},getShowFun:()=>{},getDisabledFun:()=>!1},{name:"置于顶层",fun:(e,n)=>{n.record("layerOrderUpdated")},getShowFun:()=>{},getDisabledFun:()=>{}},{name:"上移一层",fun:(e,n)=>{n.record("layerOrderUpdated")},getShowFun:()=>{},getDisabledFun:()=>{}},{name:"下移一层",fun:(e,n)=>{n.record("layerOrderUpdated")},getShowFun:()=>{},getDisabledFun:()=>{}},{name:"置于底层",fun:(e,n)=>{n.record("layerOrderUpdated")},getShowFun:()=>{},getDisabledFun:()=>{}},{name:"删除",fun:(e,n)=>{d(e),n.record("DeletedLayers")},getShowFun:()=>{},getDisabledFun:()=>!1}];function g({localStore:e,stepStore:n,layerImageCreate:y,collageInfo:a}){return s.useEffect(()=>{e.layerWithMenuId&&e.currentStatus},[e.currentStatus,e.layerWithMenuId]),t.jsx(p,{overlayStyle:{zIndex:"5"},visible:e.menuShow,placement:"bottom",overlayClassName:e.layerWithMenuId?"leftMenu":"rightMenu",content:t.jsxs(t.Fragment,{children:[t.jsx(i,{vShow:!!e.layerWithMenuId&&a.type==="GridCollage",style:{width:90},children:t.jsx("div",{onPointerDown:o=>{o.stopPropagation()},onClick:()=>{e.menuShow=!1},children:t.jsx("span",{children:"添加图片"})})}),t.jsx(i,{vIf:!!e.layerWithMenuId&&e.currentStatus==="rightPointDownOnResizer"&&a.type==="FreeCollage",children:h.map(o=>t.jsx("div",{style:{},className:l.rightMenuItem,onPointerDown:r=>{r.stopPropagation()},onPointerUp:r=>{r.stopPropagation()},onClick:r=>{r.stopPropagation(),e.menuShow=!1},children:o.name},o.name))})]}),getPopupContainer:()=>document.querySelector(".popupContainer2000"),children:t.jsx("div",{className:"popupContainer2000",style:{position:"fixed",left:e.menuX,top:e.menuY,width:1,height:1}})})}const C=u(g);export{C as M};
