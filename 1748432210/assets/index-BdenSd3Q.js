const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UPNG-B-vF_xeq.js","assets/index-BpkY95s5.js","assets/_commonjs-dynamic-modules-TDtrdbi3.js","assets/pixi-legacy-CCOjI8IQ.js","assets/index-B0I6uHAu.js","assets/index-CsSXPTiX.js","assets/index-Ctga1AvS.js","assets/index-BKNjMPK8.js"])))=>i.map(i=>d[i]);
import{o as We,m as Os,a as mt,f as g2,r as Gu}from"./index-CsSXPTiX.js";import{r as ie,c as va,g as Yo,f as m2,R as Xt,b as Yp,d as xd,a as y2,e as v2}from"./index-BpkY95s5.js";function ZI(t,e){return ie.useState(function(){return We(t(),e,{autoBind:!0})})[0]}const w2="modulepreload",x2=function(t){return"https://cdn.jsdelivr.net/gh/assetvoid/static-0/1748432210/"+t},Kp={},bd=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=Promise.allSettled(n.map(h=>{if(h=x2(h),h in Kp)return;Kp[h]=!0;const p=h.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":w2,p||(x.as="script"),x.crossOrigin="",x.href=h,l&&x.setAttribute("nonce",l),document.head.appendChild(x),p)return new Promise((E,_)=>{x.addEventListener("load",E),x.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function u(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return i.then(c=>{for(const l of c||[])l.status==="rejected"&&u(l.reason);return e().catch(u)})};var sc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */sc.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",l="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",p=500,v="__lodash_placeholder__",x=1,E=2,_=4,L=1,k=2,N=1,z=2,Q=4,W=8,ae=16,le=32,te=64,ge=128,Ae=256,F=512,Y=30,V="...",oe=800,ue=16,ee=1,Se=2,j=3,ne=1/0,me=9007199254740991,Me=17976931348623157e292,Oe=NaN,Le=4294967295,Fe=Le-1,ot=Le>>>1,it=[["ary",ge],["bind",N],["bindKey",z],["curry",W],["curryRight",ae],["flip",F],["partial",le],["partialRight",te],["rearg",Ae]],Ke="[object Arguments]",yt="[object Array]",Nt="[object AsyncFunction]",In="[object Boolean]",an="[object Date]",pn="[object DOMException]",Un="[object Error]",Ut="[object Function]",wn="[object GeneratorFunction]",Wt="[object Map]",En="[object Number]",en="[object Null]",jt="[object Object]",Wn="[object Promise]",yr="[object Proxy]",gn="[object RegExp]",at="[object Set]",_t="[object String]",tn="[object Symbol]",bt="[object Undefined]",Dt="[object WeakMap]",vt="[object WeakSet]",wi="[object ArrayBuffer]",xn="[object DataView]",xi="[object Float32Array]",bi="[object Float64Array]",Yi="[object Int8Array]",Ki="[object Int16Array]",Qi="[object Int32Array]",qi="[object Uint8Array]",Wr="[object Uint8ClampedArray]",Si="[object Uint16Array]",Hr="[object Uint32Array]",Ei=/\b__p \+= '';/g,Ra=/\b(__p \+=) '' \+/g,Ji=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ri=/&(?:amp|lt|gt|quot|#39);/g,vr=/[&<>"']/g,Jo=RegExp(ri.source),Zi=RegExp(vr.source),ii=/<%-([\s\S]+?)%>/g,oi=/<%([\s\S]+?)%>/g,eo=/<%=([\s\S]+?)%>/g,Ai=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ai=/^\w*$/,si=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,to=/[\\^$.*+?()[\]{}|]/g,ar=RegExp(to.source),Yt=/^\s+/,Zo=/\s/,mn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Kt=/\{\n\/\* \[wrapped with (.+)\] \*/,nn=/,? & /,An=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kn=/[()=,{}\[\]\/\s]/,zr=/\\(\\)?/g,ea=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cn=/\w*$/,Ci=/^[-+]0x[0-9a-f]+$/i,Rn=/^0b[01]+$/i,Hn=/^\[object .+?Constructor\]$/,Oa=/^0o[0-7]+$/i,_i=/^(?:0|[1-9]\d*)$/,Qn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ta=/($^)/,Zc=/['\n\r\u2028\u2029\\]/g,On="\\ud800-\\udfff",sr="\\u0300-\\u036f",Vs="\\ufe20-\\ufe2f",el="\\u20d0-\\u20ff",Xs=sr+Vs+el,Ys="\\u2700-\\u27bf",Ks="a-z\\xdf-\\xf6\\xf8-\\xff",tl="\\xac\\xb1\\xd7\\xf7",nl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rl="\\u2000-\\u206f",na=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ao="A-Z\\xc0-\\xd6\\xd8-\\xde",Na="\\ufe0e\\ufe0f",Qs=tl+nl+rl+na,$a="['’]",qs="["+On+"]",Js="["+Qs+"]",Co="["+Xs+"]",Zs="\\d+",il="["+Ys+"]",eu="["+Ks+"]",Ba="[^"+On+Qs+Zs+Ys+Ks+Ao+"]",no="\\ud83c[\\udffb-\\udfff]",wr="(?:"+Co+"|"+no+")",_o="[^"+On+"]",Ti="(?:\\ud83c[\\udde6-\\uddff]){2}",zn="[\\ud800-\\udbff][\\udc00-\\udfff]",_n="["+Ao+"]",To="\\u200d",xr="(?:"+eu+"|"+Ba+")",Li="(?:"+_n+"|"+Ba+")",ui="(?:"+$a+"(?:d|ll|m|re|s|t|ve))?",Da="(?:"+$a+"(?:D|LL|M|RE|S|T|VE))?",Ga=wr+"?",Ua="["+Na+"]?",$t="(?:"+To+"(?:"+[_o,Ti,zn].join("|")+")"+Ua+Ga+")*",ro="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ol="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",tu=Ua+Ga+$t,nu="(?:"+[il,Ti,zn].join("|")+")"+tu,al="(?:"+[_o+Co+"?",Co,Ti,zn,qs].join("|")+")",ut=RegExp($a,"g"),ra=RegExp(Co,"g"),Lo=RegExp(no+"(?="+no+")|"+al+tu,"g"),ru=RegExp([_n+"?"+eu+"+"+ui+"(?="+[Js,_n,"$"].join("|")+")",Li+"+"+Da+"(?="+[Js,_n+xr,"$"].join("|")+")",_n+"?"+xr+"+"+ui,_n+"+"+Da,ol,ro,Zs,nu].join("|"),"g"),Wa=RegExp("["+To+On+Xs+Na+"]"),sl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,iu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ou=-1,Pt={};Pt[xi]=Pt[bi]=Pt[Yi]=Pt[Ki]=Pt[Qi]=Pt[qi]=Pt[Wr]=Pt[Si]=Pt[Hr]=!0,Pt[Ke]=Pt[yt]=Pt[wi]=Pt[In]=Pt[xn]=Pt[an]=Pt[Un]=Pt[Ut]=Pt[Wt]=Pt[En]=Pt[jt]=Pt[gn]=Pt[at]=Pt[_t]=Pt[Dt]=!1;var Rt={};Rt[Ke]=Rt[yt]=Rt[wi]=Rt[xn]=Rt[In]=Rt[an]=Rt[xi]=Rt[bi]=Rt[Yi]=Rt[Ki]=Rt[Qi]=Rt[Wt]=Rt[En]=Rt[jt]=Rt[gn]=Rt[at]=Rt[_t]=Rt[tn]=Rt[qi]=Rt[Wr]=Rt[Si]=Rt[Hr]=!0,Rt[Un]=Rt[Ut]=Rt[Dt]=!1;var io={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},au={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},su={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Po={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},uu=parseFloat,ia=parseInt,oa=typeof va=="object"&&va&&va.Object===Object&&va,At=typeof self=="object"&&self&&self.Object===Object&&self,Ht=oa||At||Function("return this")(),Pi=e&&!e.nodeType&&e,_r=Pi&&!0&&t&&!t.nodeType&&t,Ha=_r&&_r.exports===Pi,aa=Ha&&oa.process,ur=function(){try{var Z=_r&&_r.require&&_r.require("util").types;return Z||aa&&aa.binding&&aa.binding("util")}catch{}}(),cu=ur&&ur.isArrayBuffer,za=ur&&ur.isDate,Mo=ur&&ur.isMap,J=ur&&ur.isRegExp,jn=ur&&ur.isSet,lu=ur&&ur.isTypedArray;function qn(Z,pe,fe){switch(fe.length){case 0:return Z.call(pe);case 1:return Z.call(pe,fe[0]);case 2:return Z.call(pe,fe[0],fe[1]);case 3:return Z.call(pe,fe[0],fe[1],fe[2])}return Z.apply(pe,fe)}function ul(Z,pe,fe,Be){for(var nt=-1,Et=Z==null?0:Z.length;++nt<Et;){var rn=Z[nt];pe(Be,rn,fe(rn),Z)}return Be}function Fn(Z,pe){for(var fe=-1,Be=Z==null?0:Z.length;++fe<Be&&pe(Z[fe],fe,Z)!==!1;);return Z}function jr(Z,pe){for(var fe=Z==null?0:Z.length;fe--&&pe(Z[fe],fe,Z)!==!1;);return Z}function ja(Z,pe){for(var fe=-1,Be=Z==null?0:Z.length;++fe<Be;)if(!pe(Z[fe],fe,Z))return!1;return!0}function Vt(Z,pe){for(var fe=-1,Be=Z==null?0:Z.length,nt=0,Et=[];++fe<Be;){var rn=Z[fe];pe(rn,fe,Z)&&(Et[nt++]=rn)}return Et}function sn(Z,pe){var fe=Z==null?0:Z.length;return!!fe&&oo(Z,pe,0)>-1}function yn(Z,pe,fe){for(var Be=-1,nt=Z==null?0:Z.length;++Be<nt;)if(fe(pe,Z[Be]))return!0;return!1}function zt(Z,pe){for(var fe=-1,Be=Z==null?0:Z.length,nt=Array(Be);++fe<Be;)nt[fe]=pe(Z[fe],fe,Z);return nt}function ci(Z,pe){for(var fe=-1,Be=pe.length,nt=Z.length;++fe<Be;)Z[nt+fe]=pe[fe];return Z}function Va(Z,pe,fe,Be){var nt=-1,Et=Z==null?0:Z.length;for(Be&&Et&&(fe=Z[++nt]);++nt<Et;)fe=pe(fe,Z[nt],nt,Z);return fe}function cl(Z,pe,fe,Be){var nt=Z==null?0:Z.length;for(Be&&nt&&(fe=Z[--nt]);nt--;)fe=pe(fe,Z[nt],nt,Z);return fe}function Xa(Z,pe){for(var fe=-1,Be=Z==null?0:Z.length;++fe<Be;)if(pe(Z[fe],fe,Z))return!0;return!1}var ll=Ya("length");function fl(Z){return Z.split("")}function dl(Z){return Z.match(An)||[]}function fu(Z,pe,fe){var Be;return fe(Z,function(nt,Et,rn){if(pe(nt,Et,rn))return Be=Et,!1}),Be}function sa(Z,pe,fe,Be){for(var nt=Z.length,Et=fe+(Be?1:-1);Be?Et--:++Et<nt;)if(pe(Z[Et],Et,Z))return Et;return-1}function oo(Z,pe,fe){return pe===pe?uo(Z,pe,fe):sa(Z,du,fe)}function hl(Z,pe,fe,Be){for(var nt=fe-1,Et=Z.length;++nt<Et;)if(Be(Z[nt],pe))return nt;return-1}function du(Z){return Z!==Z}function hu(Z,pe){var fe=Z==null?0:Z.length;return fe?f(Z,pe)/fe:Oe}function Ya(Z){return function(pe){return pe==null?n:pe[Z]}}function ao(Z){return function(pe){return Z==null?n:Z[pe]}}function Ka(Z,pe,fe,Be,nt){return nt(Z,function(Et,rn,Ot){fe=Be?(Be=!1,Et):pe(fe,Et,rn,Ot)}),fe}function a(Z,pe){var fe=Z.length;for(Z.sort(pe);fe--;)Z[fe]=Z[fe].value;return Z}function f(Z,pe){for(var fe,Be=-1,nt=Z.length;++Be<nt;){var Et=pe(Z[Be]);Et!==n&&(fe=fe===n?Et:fe+Et)}return fe}function m(Z,pe){for(var fe=-1,Be=Array(Z);++fe<Z;)Be[fe]=pe(fe);return Be}function w(Z,pe){return zt(pe,function(fe){return[fe,Z[fe]]})}function A(Z){return Z&&Z.slice(0,Tn(Z)+1).replace(Yt,"")}function I(Z){return function(pe){return Z(pe)}}function H(Z,pe){return zt(pe,function(fe){return Z[fe]})}function O(Z,pe){return Z.has(pe)}function $(Z,pe){for(var fe=-1,Be=Z.length;++fe<Be&&oo(pe,Z[fe],0)>-1;);return fe}function X(Z,pe){for(var fe=Z.length;fe--&&oo(pe,Z[fe],0)>-1;);return fe}function ve(Z,pe){for(var fe=Z.length,Be=0;fe--;)Z[fe]===pe&&++Be;return Be}var Ce=ao(io),Ue=ao(au);function se(Z){return"\\"+Po[Z]}function He(Z,pe){return Z==null?n:Z[pe]}function tt(Z){return Wa.test(Z)}function rt(Z){return sl.test(Z)}function Vn(Z){for(var pe,fe=[];!(pe=Z.next()).done;)fe.push(pe.value);return fe}function un(Z){var pe=-1,fe=Array(Z.size);return Z.forEach(function(Be,nt){fe[++pe]=[nt,Be]}),fe}function so(Z,pe){return function(fe){return Z(pe(fe))}}function cr(Z,pe){for(var fe=-1,Be=Z.length,nt=0,Et=[];++fe<Be;){var rn=Z[fe];(rn===pe||rn===v)&&(Z[fe]=v,Et[nt++]=fe)}return Et}function lr(Z){var pe=-1,fe=Array(Z.size);return Z.forEach(function(Be){fe[++pe]=Be}),fe}function Qa(Z){var pe=-1,fe=Array(Z.size);return Z.forEach(function(Be){fe[++pe]=[Be,Be]}),fe}function uo(Z,pe,fe){for(var Be=fe-1,nt=Z.length;++Be<nt;)if(Z[Be]===pe)return Be;return-1}function qa(Z,pe,fe){for(var Be=fe+1;Be--;)if(Z[Be]===pe)return Be;return Be}function Nn(Z){return tt(Z)?pu(Z):ll(Z)}function Jn(Z){return tt(Z)?Vr(Z):fl(Z)}function Tn(Z){for(var pe=Z.length;pe--&&Zo.test(Z.charAt(pe)););return pe}var Mt=ao(su);function pu(Z){for(var pe=Lo.lastIndex=0;Lo.test(Z);)++pe;return pe}function Vr(Z){return Z.match(Lo)||[]}function Ja(Z){return Z.match(ru)||[]}var co=function Z(pe){pe=pe==null?Ht:Mi.defaults(Ht.Object(),pe,Mi.pick(Ht,iu));var fe=pe.Array,Be=pe.Date,nt=pe.Error,Et=pe.Function,rn=pe.Math,Ot=pe.Object,lt=pe.RegExp,Io=pe.String,fr=pe.TypeError,y=fe.prototype,g=Et.prototype,S=Ot.prototype,P=pe["__core-js_shared__"],G=g.toString,K=S.hasOwnProperty,de=0,Pe=function(){var o=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),je=S.toString,Xe=G.call(Ot),pt=Ht._,dt=lt("^"+G.call(K).replace(to,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=Ha?pe.Buffer:n,ye=pe.Symbol,st=pe.Uint8Array,Tt=D?D.allocUnsafe:n,Qt=so(Ot.getPrototypeOf,Ot),Zn=Ot.create,er=S.propertyIsEnumerable,cn=y.splice,Ee=ye?ye.isConcatSpreadable:n,C=ye?ye.iterator:n,B=ye?ye.toStringTag:n,ce=function(){try{var o=No(Ot,"defineProperty");return o({},"",{}),o}catch{}}(),he=pe.clearTimeout!==Ht.clearTimeout&&pe.clearTimeout,xe=Be&&Be.now!==Ht.Date.now&&Be.now,Te=pe.setTimeout!==Ht.setTimeout&&pe.setTimeout,Ge=rn.ceil,Lt=rn.floor,It=Ot.getOwnPropertySymbols,Tr=D?D.isBuffer:n,lo=pe.isFinite,vv=y.join,wv=so(Ot.keys,Ot),bn=rn.max,Xn=rn.min,xv=Be.now,bv=pe.parseInt,fh=rn.random,Sv=y.reverse,pl=No(pe,"DataView"),Za=No(pe,"Map"),gl=No(pe,"Promise"),ua=No(pe,"Set"),es=No(pe,"WeakMap"),ts=No(Ot,"create"),gu=es&&new es,ca={},Ev=$o(pl),Av=$o(Za),Cv=$o(gl),_v=$o(ua),Tv=$o(es),mu=ye?ye.prototype:n,ns=mu?mu.valueOf:n,dh=mu?mu.toString:n;function M(o){if(on(o)&&!ct(o)&&!(o instanceof xt)){if(o instanceof Lr)return o;if(K.call(o,"__wrapped__"))return hp(o)}return new Lr(o)}var la=function(){function o(){}return function(s){if(!Jt(s))return{};if(Zn)return Zn(s);o.prototype=s;var d=new o;return o.prototype=n,d}}();function yu(){}function Lr(o,s){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=n}M.templateSettings={escape:ii,evaluate:oi,interpolate:eo,variable:"",imports:{_:M}},M.prototype=yu.prototype,M.prototype.constructor=M,Lr.prototype=la(yu.prototype),Lr.prototype.constructor=Lr;function xt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Le,this.__views__=[]}function Lv(){var o=new xt(this.__wrapped__);return o.__actions__=dr(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=dr(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=dr(this.__views__),o}function Pv(){if(this.__filtered__){var o=new xt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Mv(){var o=this.__wrapped__.value(),s=this.__dir__,d=ct(o),b=s<0,T=d?o.length:0,R=W1(0,T,this.__views__),U=R.start,q=R.end,re=q-U,we=b?q:U-1,be=this.__iteratees__,_e=be.length,Ne=0,Ye=Xn(re,this.__takeCount__);if(!d||!b&&T==re&&Ye==re)return Nh(o,this.__actions__);var Je=[];e:for(;re--&&Ne<Ye;){we+=s;for(var ht=-1,Ze=o[we];++ht<_e;){var wt=be[ht],St=wt.iteratee,Er=wt.type,rr=St(Ze);if(Er==Se)Ze=rr;else if(!rr){if(Er==ee)continue e;break e}}Je[Ne++]=Ze}return Je}xt.prototype=la(yu.prototype),xt.prototype.constructor=xt;function ko(o){var s=-1,d=o==null?0:o.length;for(this.clear();++s<d;){var b=o[s];this.set(b[0],b[1])}}function Iv(){this.__data__=ts?ts(null):{},this.size=0}function kv(o){var s=this.has(o)&&delete this.__data__[o];return this.size-=s?1:0,s}function Rv(o){var s=this.__data__;if(ts){var d=s[o];return d===h?n:d}return K.call(s,o)?s[o]:n}function Ov(o){var s=this.__data__;return ts?s[o]!==n:K.call(s,o)}function Fv(o,s){var d=this.__data__;return this.size+=this.has(o)?0:1,d[o]=ts&&s===n?h:s,this}ko.prototype.clear=Iv,ko.prototype.delete=kv,ko.prototype.get=Rv,ko.prototype.has=Ov,ko.prototype.set=Fv;function Ii(o){var s=-1,d=o==null?0:o.length;for(this.clear();++s<d;){var b=o[s];this.set(b[0],b[1])}}function Nv(){this.__data__=[],this.size=0}function $v(o){var s=this.__data__,d=vu(s,o);if(d<0)return!1;var b=s.length-1;return d==b?s.pop():cn.call(s,d,1),--this.size,!0}function Bv(o){var s=this.__data__,d=vu(s,o);return d<0?n:s[d][1]}function Dv(o){return vu(this.__data__,o)>-1}function Gv(o,s){var d=this.__data__,b=vu(d,o);return b<0?(++this.size,d.push([o,s])):d[b][1]=s,this}Ii.prototype.clear=Nv,Ii.prototype.delete=$v,Ii.prototype.get=Bv,Ii.prototype.has=Dv,Ii.prototype.set=Gv;function ki(o){var s=-1,d=o==null?0:o.length;for(this.clear();++s<d;){var b=o[s];this.set(b[0],b[1])}}function Uv(){this.size=0,this.__data__={hash:new ko,map:new(Za||Ii),string:new ko}}function Wv(o){var s=Mu(this,o).delete(o);return this.size-=s?1:0,s}function Hv(o){return Mu(this,o).get(o)}function zv(o){return Mu(this,o).has(o)}function jv(o,s){var d=Mu(this,o),b=d.size;return d.set(o,s),this.size+=d.size==b?0:1,this}ki.prototype.clear=Uv,ki.prototype.delete=Wv,ki.prototype.get=Hv,ki.prototype.has=zv,ki.prototype.set=jv;function Ro(o){var s=-1,d=o==null?0:o.length;for(this.__data__=new ki;++s<d;)this.add(o[s])}function Vv(o){return this.__data__.set(o,h),this}function Xv(o){return this.__data__.has(o)}Ro.prototype.add=Ro.prototype.push=Vv,Ro.prototype.has=Xv;function Xr(o){var s=this.__data__=new Ii(o);this.size=s.size}function Yv(){this.__data__=new Ii,this.size=0}function Kv(o){var s=this.__data__,d=s.delete(o);return this.size=s.size,d}function Qv(o){return this.__data__.get(o)}function qv(o){return this.__data__.has(o)}function Jv(o,s){var d=this.__data__;if(d instanceof Ii){var b=d.__data__;if(!Za||b.length<i-1)return b.push([o,s]),this.size=++d.size,this;d=this.__data__=new ki(b)}return d.set(o,s),this.size=d.size,this}Xr.prototype.clear=Yv,Xr.prototype.delete=Kv,Xr.prototype.get=Qv,Xr.prototype.has=qv,Xr.prototype.set=Jv;function hh(o,s){var d=ct(o),b=!d&&Bo(o),T=!d&&!b&&mo(o),R=!d&&!b&&!T&&pa(o),U=d||b||T||R,q=U?m(o.length,Io):[],re=q.length;for(var we in o)(s||K.call(o,we))&&!(U&&(we=="length"||T&&(we=="offset"||we=="parent")||R&&(we=="buffer"||we=="byteLength"||we=="byteOffset")||Ni(we,re)))&&q.push(we);return q}function ph(o){var s=o.length;return s?o[_l(0,s-1)]:n}function Zv(o,s){return Iu(dr(o),Oo(s,0,o.length))}function e1(o){return Iu(dr(o))}function ml(o,s,d){(d!==n&&!Yr(o[s],d)||d===n&&!(s in o))&&Ri(o,s,d)}function rs(o,s,d){var b=o[s];(!(K.call(o,s)&&Yr(b,d))||d===n&&!(s in o))&&Ri(o,s,d)}function vu(o,s){for(var d=o.length;d--;)if(Yr(o[d][0],s))return d;return-1}function t1(o,s,d,b){return fo(o,function(T,R,U){s(b,T,d(T),U)}),b}function gh(o,s){return o&&fi(s,Ln(s),o)}function n1(o,s){return o&&fi(s,pr(s),o)}function Ri(o,s,d){s=="__proto__"&&ce?ce(o,s,{configurable:!0,enumerable:!0,value:d,writable:!0}):o[s]=d}function yl(o,s){for(var d=-1,b=s.length,T=fe(b),R=o==null;++d<b;)T[d]=R?n:ql(o,s[d]);return T}function Oo(o,s,d){return o===o&&(d!==n&&(o=o<=d?o:d),s!==n&&(o=o>=s?o:s)),o}function Pr(o,s,d,b,T,R){var U,q=s&x,re=s&E,we=s&_;if(d&&(U=T?d(o,b,T,R):d(o)),U!==n)return U;if(!Jt(o))return o;var be=ct(o);if(be){if(U=z1(o),!q)return dr(o,U)}else{var _e=Yn(o),Ne=_e==Ut||_e==wn;if(mo(o))return Dh(o,q);if(_e==jt||_e==Ke||Ne&&!T){if(U=re||Ne?{}:ip(o),!q)return re?R1(o,n1(U,o)):k1(o,gh(U,o))}else{if(!Rt[_e])return T?o:{};U=j1(o,_e,q)}}R||(R=new Xr);var Ye=R.get(o);if(Ye)return Ye;R.set(o,U),Rp(o)?o.forEach(function(Ze){U.add(Pr(Ze,s,d,Ze,o,R))}):Ip(o)&&o.forEach(function(Ze,wt){U.set(wt,Pr(Ze,s,d,wt,o,R))});var Je=we?re?$l:Nl:re?pr:Ln,ht=be?n:Je(o);return Fn(ht||o,function(Ze,wt){ht&&(wt=Ze,Ze=o[wt]),rs(U,wt,Pr(Ze,s,d,wt,o,R))}),U}function r1(o){var s=Ln(o);return function(d){return mh(d,o,s)}}function mh(o,s,d){var b=d.length;if(o==null)return!b;for(o=Ot(o);b--;){var T=d[b],R=s[T],U=o[T];if(U===n&&!(T in o)||!R(U))return!1}return!0}function yh(o,s,d){if(typeof o!="function")throw new fr(c);return ls(function(){o.apply(n,d)},s)}function is(o,s,d,b){var T=-1,R=sn,U=!0,q=o.length,re=[],we=s.length;if(!q)return re;d&&(s=zt(s,I(d))),b?(R=yn,U=!1):s.length>=i&&(R=O,U=!1,s=new Ro(s));e:for(;++T<q;){var be=o[T],_e=d==null?be:d(be);if(be=b||be!==0?be:0,U&&_e===_e){for(var Ne=we;Ne--;)if(s[Ne]===_e)continue e;re.push(be)}else R(s,_e,b)||re.push(be)}return re}var fo=zh(li),vh=zh(wl,!0);function i1(o,s){var d=!0;return fo(o,function(b,T,R){return d=!!s(b,T,R),d}),d}function wu(o,s,d){for(var b=-1,T=o.length;++b<T;){var R=o[b],U=s(R);if(U!=null&&(q===n?U===U&&!Sr(U):d(U,q)))var q=U,re=R}return re}function o1(o,s,d,b){var T=o.length;for(d=ft(d),d<0&&(d=-d>T?0:T+d),b=b===n||b>T?T:ft(b),b<0&&(b+=T),b=d>b?0:Fp(b);d<b;)o[d++]=s;return o}function wh(o,s){var d=[];return fo(o,function(b,T,R){s(b,T,R)&&d.push(b)}),d}function $n(o,s,d,b,T){var R=-1,U=o.length;for(d||(d=X1),T||(T=[]);++R<U;){var q=o[R];s>0&&d(q)?s>1?$n(q,s-1,d,b,T):ci(T,q):b||(T[T.length]=q)}return T}var vl=jh(),xh=jh(!0);function li(o,s){return o&&vl(o,s,Ln)}function wl(o,s){return o&&xh(o,s,Ln)}function xu(o,s){return Vt(s,function(d){return $i(o[d])})}function Fo(o,s){s=po(s,o);for(var d=0,b=s.length;o!=null&&d<b;)o=o[di(s[d++])];return d&&d==b?o:n}function bh(o,s,d){var b=s(o);return ct(o)?b:ci(b,d(o))}function tr(o){return o==null?o===n?bt:en:B&&B in Ot(o)?U1(o):ew(o)}function xl(o,s){return o>s}function a1(o,s){return o!=null&&K.call(o,s)}function s1(o,s){return o!=null&&s in Ot(o)}function u1(o,s,d){return o>=Xn(s,d)&&o<bn(s,d)}function bl(o,s,d){for(var b=d?yn:sn,T=o[0].length,R=o.length,U=R,q=fe(R),re=1/0,we=[];U--;){var be=o[U];U&&s&&(be=zt(be,I(s))),re=Xn(be.length,re),q[U]=!d&&(s||T>=120&&be.length>=120)?new Ro(U&&be):n}be=o[0];var _e=-1,Ne=q[0];e:for(;++_e<T&&we.length<re;){var Ye=be[_e],Je=s?s(Ye):Ye;if(Ye=d||Ye!==0?Ye:0,!(Ne?O(Ne,Je):b(we,Je,d))){for(U=R;--U;){var ht=q[U];if(!(ht?O(ht,Je):b(o[U],Je,d)))continue e}Ne&&Ne.push(Je),we.push(Ye)}}return we}function c1(o,s,d,b){return li(o,function(T,R,U){s(b,d(T),R,U)}),b}function os(o,s,d){s=po(s,o),o=up(o,s);var b=o==null?o:o[di(Ir(s))];return b==null?n:qn(b,o,d)}function Sh(o){return on(o)&&tr(o)==Ke}function l1(o){return on(o)&&tr(o)==wi}function f1(o){return on(o)&&tr(o)==an}function as(o,s,d,b,T){return o===s?!0:o==null||s==null||!on(o)&&!on(s)?o!==o&&s!==s:d1(o,s,d,b,as,T)}function d1(o,s,d,b,T,R){var U=ct(o),q=ct(s),re=U?yt:Yn(o),we=q?yt:Yn(s);re=re==Ke?jt:re,we=we==Ke?jt:we;var be=re==jt,_e=we==jt,Ne=re==we;if(Ne&&mo(o)){if(!mo(s))return!1;U=!0,be=!1}if(Ne&&!be)return R||(R=new Xr),U||pa(o)?tp(o,s,d,b,T,R):D1(o,s,re,d,b,T,R);if(!(d&L)){var Ye=be&&K.call(o,"__wrapped__"),Je=_e&&K.call(s,"__wrapped__");if(Ye||Je){var ht=Ye?o.value():o,Ze=Je?s.value():s;return R||(R=new Xr),T(ht,Ze,d,b,R)}}return Ne?(R||(R=new Xr),G1(o,s,d,b,T,R)):!1}function h1(o){return on(o)&&Yn(o)==Wt}function Sl(o,s,d,b){var T=d.length,R=T,U=!b;if(o==null)return!R;for(o=Ot(o);T--;){var q=d[T];if(U&&q[2]?q[1]!==o[q[0]]:!(q[0]in o))return!1}for(;++T<R;){q=d[T];var re=q[0],we=o[re],be=q[1];if(U&&q[2]){if(we===n&&!(re in o))return!1}else{var _e=new Xr;if(b)var Ne=b(we,be,re,o,s,_e);if(!(Ne===n?as(be,we,L|k,b,_e):Ne))return!1}}return!0}function Eh(o){if(!Jt(o)||K1(o))return!1;var s=$i(o)?dt:Hn;return s.test($o(o))}function p1(o){return on(o)&&tr(o)==gn}function g1(o){return on(o)&&Yn(o)==at}function m1(o){return on(o)&&$u(o.length)&&!!Pt[tr(o)]}function Ah(o){return typeof o=="function"?o:o==null?gr:typeof o=="object"?ct(o)?Th(o[0],o[1]):_h(o):Vp(o)}function El(o){if(!cs(o))return wv(o);var s=[];for(var d in Ot(o))K.call(o,d)&&d!="constructor"&&s.push(d);return s}function y1(o){if(!Jt(o))return Z1(o);var s=cs(o),d=[];for(var b in o)b=="constructor"&&(s||!K.call(o,b))||d.push(b);return d}function Al(o,s){return o<s}function Ch(o,s){var d=-1,b=hr(o)?fe(o.length):[];return fo(o,function(T,R,U){b[++d]=s(T,R,U)}),b}function _h(o){var s=Dl(o);return s.length==1&&s[0][2]?ap(s[0][0],s[0][1]):function(d){return d===o||Sl(d,o,s)}}function Th(o,s){return Ul(o)&&op(s)?ap(di(o),s):function(d){var b=ql(d,o);return b===n&&b===s?Jl(d,o):as(s,b,L|k)}}function bu(o,s,d,b,T){o!==s&&vl(s,function(R,U){if(T||(T=new Xr),Jt(R))v1(o,s,U,d,bu,b,T);else{var q=b?b(Hl(o,U),R,U+"",o,s,T):n;q===n&&(q=R),ml(o,U,q)}},pr)}function v1(o,s,d,b,T,R,U){var q=Hl(o,d),re=Hl(s,d),we=U.get(re);if(we){ml(o,d,we);return}var be=R?R(q,re,d+"",o,s,U):n,_e=be===n;if(_e){var Ne=ct(re),Ye=!Ne&&mo(re),Je=!Ne&&!Ye&&pa(re);be=re,Ne||Ye||Je?ct(q)?be=q:ln(q)?be=dr(q):Ye?(_e=!1,be=Dh(re,!0)):Je?(_e=!1,be=Gh(re,!0)):be=[]:ds(re)||Bo(re)?(be=q,Bo(q)?be=Np(q):(!Jt(q)||$i(q))&&(be=ip(re))):_e=!1}_e&&(U.set(re,be),T(be,re,b,R,U),U.delete(re)),ml(o,d,be)}function Lh(o,s){var d=o.length;if(d)return s+=s<0?d:0,Ni(s,d)?o[s]:n}function Ph(o,s,d){s.length?s=zt(s,function(R){return ct(R)?function(U){return Fo(U,R.length===1?R[0]:R)}:R}):s=[gr];var b=-1;s=zt(s,I(Qe()));var T=Ch(o,function(R,U,q){var re=zt(s,function(we){return we(R)});return{criteria:re,index:++b,value:R}});return a(T,function(R,U){return I1(R,U,d)})}function w1(o,s){return Mh(o,s,function(d,b){return Jl(o,b)})}function Mh(o,s,d){for(var b=-1,T=s.length,R={};++b<T;){var U=s[b],q=Fo(o,U);d(q,U)&&ss(R,po(U,o),q)}return R}function x1(o){return function(s){return Fo(s,o)}}function Cl(o,s,d,b){var T=b?hl:oo,R=-1,U=s.length,q=o;for(o===s&&(s=dr(s)),d&&(q=zt(o,I(d)));++R<U;)for(var re=0,we=s[R],be=d?d(we):we;(re=T(q,be,re,b))>-1;)q!==o&&cn.call(q,re,1),cn.call(o,re,1);return o}function Ih(o,s){for(var d=o?s.length:0,b=d-1;d--;){var T=s[d];if(d==b||T!==R){var R=T;Ni(T)?cn.call(o,T,1):Pl(o,T)}}return o}function _l(o,s){return o+Lt(fh()*(s-o+1))}function b1(o,s,d,b){for(var T=-1,R=bn(Ge((s-o)/(d||1)),0),U=fe(R);R--;)U[b?R:++T]=o,o+=d;return U}function Tl(o,s){var d="";if(!o||s<1||s>me)return d;do s%2&&(d+=o),s=Lt(s/2),s&&(o+=o);while(s);return d}function gt(o,s){return zl(sp(o,s,gr),o+"")}function S1(o){return ph(ga(o))}function E1(o,s){var d=ga(o);return Iu(d,Oo(s,0,d.length))}function ss(o,s,d,b){if(!Jt(o))return o;s=po(s,o);for(var T=-1,R=s.length,U=R-1,q=o;q!=null&&++T<R;){var re=di(s[T]),we=d;if(re==="__proto__"||re==="constructor"||re==="prototype")return o;if(T!=U){var be=q[re];we=b?b(be,re,q):n,we===n&&(we=Jt(be)?be:Ni(s[T+1])?[]:{})}rs(q,re,we),q=q[re]}return o}var kh=gu?function(o,s){return gu.set(o,s),o}:gr,A1=ce?function(o,s){return ce(o,"toString",{configurable:!0,enumerable:!1,value:ef(s),writable:!0})}:gr;function C1(o){return Iu(ga(o))}function Mr(o,s,d){var b=-1,T=o.length;s<0&&(s=-s>T?0:T+s),d=d>T?T:d,d<0&&(d+=T),T=s>d?0:d-s>>>0,s>>>=0;for(var R=fe(T);++b<T;)R[b]=o[b+s];return R}function _1(o,s){var d;return fo(o,function(b,T,R){return d=s(b,T,R),!d}),!!d}function Su(o,s,d){var b=0,T=o==null?b:o.length;if(typeof s=="number"&&s===s&&T<=ot){for(;b<T;){var R=b+T>>>1,U=o[R];U!==null&&!Sr(U)&&(d?U<=s:U<s)?b=R+1:T=R}return T}return Ll(o,s,gr,d)}function Ll(o,s,d,b){var T=0,R=o==null?0:o.length;if(R===0)return 0;s=d(s);for(var U=s!==s,q=s===null,re=Sr(s),we=s===n;T<R;){var be=Lt((T+R)/2),_e=d(o[be]),Ne=_e!==n,Ye=_e===null,Je=_e===_e,ht=Sr(_e);if(U)var Ze=b||Je;else we?Ze=Je&&(b||Ne):q?Ze=Je&&Ne&&(b||!Ye):re?Ze=Je&&Ne&&!Ye&&(b||!ht):Ye||ht?Ze=!1:Ze=b?_e<=s:_e<s;Ze?T=be+1:R=be}return Xn(R,Fe)}function Rh(o,s){for(var d=-1,b=o.length,T=0,R=[];++d<b;){var U=o[d],q=s?s(U):U;if(!d||!Yr(q,re)){var re=q;R[T++]=U===0?0:U}}return R}function Oh(o){return typeof o=="number"?o:Sr(o)?Oe:+o}function br(o){if(typeof o=="string")return o;if(ct(o))return zt(o,br)+"";if(Sr(o))return dh?dh.call(o):"";var s=o+"";return s=="0"&&1/o==-1/0?"-0":s}function ho(o,s,d){var b=-1,T=sn,R=o.length,U=!0,q=[],re=q;if(d)U=!1,T=yn;else if(R>=i){var we=s?null:$1(o);if(we)return lr(we);U=!1,T=O,re=new Ro}else re=s?[]:q;e:for(;++b<R;){var be=o[b],_e=s?s(be):be;if(be=d||be!==0?be:0,U&&_e===_e){for(var Ne=re.length;Ne--;)if(re[Ne]===_e)continue e;s&&re.push(_e),q.push(be)}else T(re,_e,d)||(re!==q&&re.push(_e),q.push(be))}return q}function Pl(o,s){return s=po(s,o),o=up(o,s),o==null||delete o[di(Ir(s))]}function Fh(o,s,d,b){return ss(o,s,d(Fo(o,s)),b)}function Eu(o,s,d,b){for(var T=o.length,R=b?T:-1;(b?R--:++R<T)&&s(o[R],R,o););return d?Mr(o,b?0:R,b?R+1:T):Mr(o,b?R+1:0,b?T:R)}function Nh(o,s){var d=o;return d instanceof xt&&(d=d.value()),Va(s,function(b,T){return T.func.apply(T.thisArg,ci([b],T.args))},d)}function Ml(o,s,d){var b=o.length;if(b<2)return b?ho(o[0]):[];for(var T=-1,R=fe(b);++T<b;)for(var U=o[T],q=-1;++q<b;)q!=T&&(R[T]=is(R[T]||U,o[q],s,d));return ho($n(R,1),s,d)}function $h(o,s,d){for(var b=-1,T=o.length,R=s.length,U={};++b<T;){var q=b<R?s[b]:n;d(U,o[b],q)}return U}function Il(o){return ln(o)?o:[]}function kl(o){return typeof o=="function"?o:gr}function po(o,s){return ct(o)?o:Ul(o,s)?[o]:dp(kt(o))}var T1=gt;function go(o,s,d){var b=o.length;return d=d===n?b:d,!s&&d>=b?o:Mr(o,s,d)}var Bh=he||function(o){return Ht.clearTimeout(o)};function Dh(o,s){if(s)return o.slice();var d=o.length,b=Tt?Tt(d):new o.constructor(d);return o.copy(b),b}function Rl(o){var s=new o.constructor(o.byteLength);return new st(s).set(new st(o)),s}function L1(o,s){var d=s?Rl(o.buffer):o.buffer;return new o.constructor(d,o.byteOffset,o.byteLength)}function P1(o){var s=new o.constructor(o.source,Cn.exec(o));return s.lastIndex=o.lastIndex,s}function M1(o){return ns?Ot(ns.call(o)):{}}function Gh(o,s){var d=s?Rl(o.buffer):o.buffer;return new o.constructor(d,o.byteOffset,o.length)}function Uh(o,s){if(o!==s){var d=o!==n,b=o===null,T=o===o,R=Sr(o),U=s!==n,q=s===null,re=s===s,we=Sr(s);if(!q&&!we&&!R&&o>s||R&&U&&re&&!q&&!we||b&&U&&re||!d&&re||!T)return 1;if(!b&&!R&&!we&&o<s||we&&d&&T&&!b&&!R||q&&d&&T||!U&&T||!re)return-1}return 0}function I1(o,s,d){for(var b=-1,T=o.criteria,R=s.criteria,U=T.length,q=d.length;++b<U;){var re=Uh(T[b],R[b]);if(re){if(b>=q)return re;var we=d[b];return re*(we=="desc"?-1:1)}}return o.index-s.index}function Wh(o,s,d,b){for(var T=-1,R=o.length,U=d.length,q=-1,re=s.length,we=bn(R-U,0),be=fe(re+we),_e=!b;++q<re;)be[q]=s[q];for(;++T<U;)(_e||T<R)&&(be[d[T]]=o[T]);for(;we--;)be[q++]=o[T++];return be}function Hh(o,s,d,b){for(var T=-1,R=o.length,U=-1,q=d.length,re=-1,we=s.length,be=bn(R-q,0),_e=fe(be+we),Ne=!b;++T<be;)_e[T]=o[T];for(var Ye=T;++re<we;)_e[Ye+re]=s[re];for(;++U<q;)(Ne||T<R)&&(_e[Ye+d[U]]=o[T++]);return _e}function dr(o,s){var d=-1,b=o.length;for(s||(s=fe(b));++d<b;)s[d]=o[d];return s}function fi(o,s,d,b){var T=!d;d||(d={});for(var R=-1,U=s.length;++R<U;){var q=s[R],re=b?b(d[q],o[q],q,d,o):n;re===n&&(re=o[q]),T?Ri(d,q,re):rs(d,q,re)}return d}function k1(o,s){return fi(o,Gl(o),s)}function R1(o,s){return fi(o,np(o),s)}function Au(o,s){return function(d,b){var T=ct(d)?ul:t1,R=s?s():{};return T(d,o,Qe(b,2),R)}}function fa(o){return gt(function(s,d){var b=-1,T=d.length,R=T>1?d[T-1]:n,U=T>2?d[2]:n;for(R=o.length>3&&typeof R=="function"?(T--,R):n,U&&nr(d[0],d[1],U)&&(R=T<3?n:R,T=1),s=Ot(s);++b<T;){var q=d[b];q&&o(s,q,b,R)}return s})}function zh(o,s){return function(d,b){if(d==null)return d;if(!hr(d))return o(d,b);for(var T=d.length,R=s?T:-1,U=Ot(d);(s?R--:++R<T)&&b(U[R],R,U)!==!1;);return d}}function jh(o){return function(s,d,b){for(var T=-1,R=Ot(s),U=b(s),q=U.length;q--;){var re=U[o?q:++T];if(d(R[re],re,R)===!1)break}return s}}function O1(o,s,d){var b=s&N,T=us(o);function R(){var U=this&&this!==Ht&&this instanceof R?T:o;return U.apply(b?d:this,arguments)}return R}function Vh(o){return function(s){s=kt(s);var d=tt(s)?Jn(s):n,b=d?d[0]:s.charAt(0),T=d?go(d,1).join(""):s.slice(1);return b[o]()+T}}function da(o){return function(s){return Va(zp(Hp(s).replace(ut,"")),o,"")}}function us(o){return function(){var s=arguments;switch(s.length){case 0:return new o;case 1:return new o(s[0]);case 2:return new o(s[0],s[1]);case 3:return new o(s[0],s[1],s[2]);case 4:return new o(s[0],s[1],s[2],s[3]);case 5:return new o(s[0],s[1],s[2],s[3],s[4]);case 6:return new o(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new o(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var d=la(o.prototype),b=o.apply(d,s);return Jt(b)?b:d}}function F1(o,s,d){var b=us(o);function T(){for(var R=arguments.length,U=fe(R),q=R,re=ha(T);q--;)U[q]=arguments[q];var we=R<3&&U[0]!==re&&U[R-1]!==re?[]:cr(U,re);if(R-=we.length,R<d)return qh(o,s,Cu,T.placeholder,n,U,we,n,n,d-R);var be=this&&this!==Ht&&this instanceof T?b:o;return qn(be,this,U)}return T}function Xh(o){return function(s,d,b){var T=Ot(s);if(!hr(s)){var R=Qe(d,3);s=Ln(s),d=function(q){return R(T[q],q,T)}}var U=o(s,d,b);return U>-1?T[R?s[U]:U]:n}}function Yh(o){return Fi(function(s){var d=s.length,b=d,T=Lr.prototype.thru;for(o&&s.reverse();b--;){var R=s[b];if(typeof R!="function")throw new fr(c);if(T&&!U&&Pu(R)=="wrapper")var U=new Lr([],!0)}for(b=U?b:d;++b<d;){R=s[b];var q=Pu(R),re=q=="wrapper"?Bl(R):n;re&&Wl(re[0])&&re[1]==(ge|W|le|Ae)&&!re[4].length&&re[9]==1?U=U[Pu(re[0])].apply(U,re[3]):U=R.length==1&&Wl(R)?U[q]():U.thru(R)}return function(){var we=arguments,be=we[0];if(U&&we.length==1&&ct(be))return U.plant(be).value();for(var _e=0,Ne=d?s[_e].apply(this,we):be;++_e<d;)Ne=s[_e].call(this,Ne);return Ne}})}function Cu(o,s,d,b,T,R,U,q,re,we){var be=s&ge,_e=s&N,Ne=s&z,Ye=s&(W|ae),Je=s&F,ht=Ne?n:us(o);function Ze(){for(var wt=arguments.length,St=fe(wt),Er=wt;Er--;)St[Er]=arguments[Er];if(Ye)var rr=ha(Ze),Ar=ve(St,rr);if(b&&(St=Wh(St,b,T,Ye)),R&&(St=Hh(St,R,U,Ye)),wt-=Ar,Ye&&wt<we){var fn=cr(St,rr);return qh(o,s,Cu,Ze.placeholder,d,St,fn,q,re,we-wt)}var Kr=_e?d:this,Di=Ne?Kr[o]:o;return wt=St.length,q?St=tw(St,q):Je&&wt>1&&St.reverse(),be&&re<wt&&(St.length=re),this&&this!==Ht&&this instanceof Ze&&(Di=ht||us(Di)),Di.apply(Kr,St)}return Ze}function Kh(o,s){return function(d,b){return c1(d,o,s(b),{})}}function _u(o,s){return function(d,b){var T;if(d===n&&b===n)return s;if(d!==n&&(T=d),b!==n){if(T===n)return b;typeof d=="string"||typeof b=="string"?(d=br(d),b=br(b)):(d=Oh(d),b=Oh(b)),T=o(d,b)}return T}}function Ol(o){return Fi(function(s){return s=zt(s,I(Qe())),gt(function(d){var b=this;return o(s,function(T){return qn(T,b,d)})})})}function Tu(o,s){s=s===n?" ":br(s);var d=s.length;if(d<2)return d?Tl(s,o):s;var b=Tl(s,Ge(o/Nn(s)));return tt(s)?go(Jn(b),0,o).join(""):b.slice(0,o)}function N1(o,s,d,b){var T=s&N,R=us(o);function U(){for(var q=-1,re=arguments.length,we=-1,be=b.length,_e=fe(be+re),Ne=this&&this!==Ht&&this instanceof U?R:o;++we<be;)_e[we]=b[we];for(;re--;)_e[we++]=arguments[++q];return qn(Ne,T?d:this,_e)}return U}function Qh(o){return function(s,d,b){return b&&typeof b!="number"&&nr(s,d,b)&&(d=b=n),s=Bi(s),d===n?(d=s,s=0):d=Bi(d),b=b===n?s<d?1:-1:Bi(b),b1(s,d,b,o)}}function Lu(o){return function(s,d){return typeof s=="string"&&typeof d=="string"||(s=kr(s),d=kr(d)),o(s,d)}}function qh(o,s,d,b,T,R,U,q,re,we){var be=s&W,_e=be?U:n,Ne=be?n:U,Ye=be?R:n,Je=be?n:R;s|=be?le:te,s&=~(be?te:le),s&Q||(s&=-4);var ht=[o,s,T,Ye,_e,Je,Ne,q,re,we],Ze=d.apply(n,ht);return Wl(o)&&cp(Ze,ht),Ze.placeholder=b,lp(Ze,o,s)}function Fl(o){var s=rn[o];return function(d,b){if(d=kr(d),b=b==null?0:Xn(ft(b),292),b&&lo(d)){var T=(kt(d)+"e").split("e"),R=s(T[0]+"e"+(+T[1]+b));return T=(kt(R)+"e").split("e"),+(T[0]+"e"+(+T[1]-b))}return s(d)}}var $1=ua&&1/lr(new ua([,-0]))[1]==ne?function(o){return new ua(o)}:rf;function Jh(o){return function(s){var d=Yn(s);return d==Wt?un(s):d==at?Qa(s):w(s,o(s))}}function Oi(o,s,d,b,T,R,U,q){var re=s&z;if(!re&&typeof o!="function")throw new fr(c);var we=b?b.length:0;if(we||(s&=-97,b=T=n),U=U===n?U:bn(ft(U),0),q=q===n?q:ft(q),we-=T?T.length:0,s&te){var be=b,_e=T;b=T=n}var Ne=re?n:Bl(o),Ye=[o,s,d,b,T,be,_e,R,U,q];if(Ne&&J1(Ye,Ne),o=Ye[0],s=Ye[1],d=Ye[2],b=Ye[3],T=Ye[4],q=Ye[9]=Ye[9]===n?re?0:o.length:bn(Ye[9]-we,0),!q&&s&(W|ae)&&(s&=-25),!s||s==N)var Je=O1(o,s,d);else s==W||s==ae?Je=F1(o,s,q):(s==le||s==(N|le))&&!T.length?Je=N1(o,s,d,b):Je=Cu.apply(n,Ye);var ht=Ne?kh:cp;return lp(ht(Je,Ye),o,s)}function Zh(o,s,d,b){return o===n||Yr(o,S[d])&&!K.call(b,d)?s:o}function ep(o,s,d,b,T,R){return Jt(o)&&Jt(s)&&(R.set(s,o),bu(o,s,n,ep,R),R.delete(s)),o}function B1(o){return ds(o)?n:o}function tp(o,s,d,b,T,R){var U=d&L,q=o.length,re=s.length;if(q!=re&&!(U&&re>q))return!1;var we=R.get(o),be=R.get(s);if(we&&be)return we==s&&be==o;var _e=-1,Ne=!0,Ye=d&k?new Ro:n;for(R.set(o,s),R.set(s,o);++_e<q;){var Je=o[_e],ht=s[_e];if(b)var Ze=U?b(ht,Je,_e,s,o,R):b(Je,ht,_e,o,s,R);if(Ze!==n){if(Ze)continue;Ne=!1;break}if(Ye){if(!Xa(s,function(wt,St){if(!O(Ye,St)&&(Je===wt||T(Je,wt,d,b,R)))return Ye.push(St)})){Ne=!1;break}}else if(!(Je===ht||T(Je,ht,d,b,R))){Ne=!1;break}}return R.delete(o),R.delete(s),Ne}function D1(o,s,d,b,T,R,U){switch(d){case xn:if(o.byteLength!=s.byteLength||o.byteOffset!=s.byteOffset)return!1;o=o.buffer,s=s.buffer;case wi:return!(o.byteLength!=s.byteLength||!R(new st(o),new st(s)));case In:case an:case En:return Yr(+o,+s);case Un:return o.name==s.name&&o.message==s.message;case gn:case _t:return o==s+"";case Wt:var q=un;case at:var re=b&L;if(q||(q=lr),o.size!=s.size&&!re)return!1;var we=U.get(o);if(we)return we==s;b|=k,U.set(o,s);var be=tp(q(o),q(s),b,T,R,U);return U.delete(o),be;case tn:if(ns)return ns.call(o)==ns.call(s)}return!1}function G1(o,s,d,b,T,R){var U=d&L,q=Nl(o),re=q.length,we=Nl(s),be=we.length;if(re!=be&&!U)return!1;for(var _e=re;_e--;){var Ne=q[_e];if(!(U?Ne in s:K.call(s,Ne)))return!1}var Ye=R.get(o),Je=R.get(s);if(Ye&&Je)return Ye==s&&Je==o;var ht=!0;R.set(o,s),R.set(s,o);for(var Ze=U;++_e<re;){Ne=q[_e];var wt=o[Ne],St=s[Ne];if(b)var Er=U?b(St,wt,Ne,s,o,R):b(wt,St,Ne,o,s,R);if(!(Er===n?wt===St||T(wt,St,d,b,R):Er)){ht=!1;break}Ze||(Ze=Ne=="constructor")}if(ht&&!Ze){var rr=o.constructor,Ar=s.constructor;rr!=Ar&&"constructor"in o&&"constructor"in s&&!(typeof rr=="function"&&rr instanceof rr&&typeof Ar=="function"&&Ar instanceof Ar)&&(ht=!1)}return R.delete(o),R.delete(s),ht}function Fi(o){return zl(sp(o,n,mp),o+"")}function Nl(o){return bh(o,Ln,Gl)}function $l(o){return bh(o,pr,np)}var Bl=gu?function(o){return gu.get(o)}:rf;function Pu(o){for(var s=o.name+"",d=ca[s],b=K.call(ca,s)?d.length:0;b--;){var T=d[b],R=T.func;if(R==null||R==o)return T.name}return s}function ha(o){var s=K.call(M,"placeholder")?M:o;return s.placeholder}function Qe(){var o=M.iteratee||tf;return o=o===tf?Ah:o,arguments.length?o(arguments[0],arguments[1]):o}function Mu(o,s){var d=o.__data__;return Y1(s)?d[typeof s=="string"?"string":"hash"]:d.map}function Dl(o){for(var s=Ln(o),d=s.length;d--;){var b=s[d],T=o[b];s[d]=[b,T,op(T)]}return s}function No(o,s){var d=He(o,s);return Eh(d)?d:n}function U1(o){var s=K.call(o,B),d=o[B];try{o[B]=n;var b=!0}catch{}var T=je.call(o);return b&&(s?o[B]=d:delete o[B]),T}var Gl=It?function(o){return o==null?[]:(o=Ot(o),Vt(It(o),function(s){return er.call(o,s)}))}:of,np=It?function(o){for(var s=[];o;)ci(s,Gl(o)),o=Qt(o);return s}:of,Yn=tr;(pl&&Yn(new pl(new ArrayBuffer(1)))!=xn||Za&&Yn(new Za)!=Wt||gl&&Yn(gl.resolve())!=Wn||ua&&Yn(new ua)!=at||es&&Yn(new es)!=Dt)&&(Yn=function(o){var s=tr(o),d=s==jt?o.constructor:n,b=d?$o(d):"";if(b)switch(b){case Ev:return xn;case Av:return Wt;case Cv:return Wn;case _v:return at;case Tv:return Dt}return s});function W1(o,s,d){for(var b=-1,T=d.length;++b<T;){var R=d[b],U=R.size;switch(R.type){case"drop":o+=U;break;case"dropRight":s-=U;break;case"take":s=Xn(s,o+U);break;case"takeRight":o=bn(o,s-U);break}}return{start:o,end:s}}function H1(o){var s=o.match(Kt);return s?s[1].split(nn):[]}function rp(o,s,d){s=po(s,o);for(var b=-1,T=s.length,R=!1;++b<T;){var U=di(s[b]);if(!(R=o!=null&&d(o,U)))break;o=o[U]}return R||++b!=T?R:(T=o==null?0:o.length,!!T&&$u(T)&&Ni(U,T)&&(ct(o)||Bo(o)))}function z1(o){var s=o.length,d=new o.constructor(s);return s&&typeof o[0]=="string"&&K.call(o,"index")&&(d.index=o.index,d.input=o.input),d}function ip(o){return typeof o.constructor=="function"&&!cs(o)?la(Qt(o)):{}}function j1(o,s,d){var b=o.constructor;switch(s){case wi:return Rl(o);case In:case an:return new b(+o);case xn:return L1(o,d);case xi:case bi:case Yi:case Ki:case Qi:case qi:case Wr:case Si:case Hr:return Gh(o,d);case Wt:return new b;case En:case _t:return new b(o);case gn:return P1(o);case at:return new b;case tn:return M1(o)}}function V1(o,s){var d=s.length;if(!d)return o;var b=d-1;return s[b]=(d>1?"& ":"")+s[b],s=s.join(d>2?", ":" "),o.replace(mn,`{
/* [wrapped with `+s+`] */
`)}function X1(o){return ct(o)||Bo(o)||!!(Ee&&o&&o[Ee])}function Ni(o,s){var d=typeof o;return s=s??me,!!s&&(d=="number"||d!="symbol"&&_i.test(o))&&o>-1&&o%1==0&&o<s}function nr(o,s,d){if(!Jt(d))return!1;var b=typeof s;return(b=="number"?hr(d)&&Ni(s,d.length):b=="string"&&s in d)?Yr(d[s],o):!1}function Ul(o,s){if(ct(o))return!1;var d=typeof o;return d=="number"||d=="symbol"||d=="boolean"||o==null||Sr(o)?!0:ai.test(o)||!Ai.test(o)||s!=null&&o in Ot(s)}function Y1(o){var s=typeof o;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?o!=="__proto__":o===null}function Wl(o){var s=Pu(o),d=M[s];if(typeof d!="function"||!(s in xt.prototype))return!1;if(o===d)return!0;var b=Bl(d);return!!b&&o===b[0]}function K1(o){return!!Pe&&Pe in o}var Q1=P?$i:af;function cs(o){var s=o&&o.constructor,d=typeof s=="function"&&s.prototype||S;return o===d}function op(o){return o===o&&!Jt(o)}function ap(o,s){return function(d){return d==null?!1:d[o]===s&&(s!==n||o in Ot(d))}}function q1(o){var s=Fu(o,function(b){return d.size===p&&d.clear(),b}),d=s.cache;return s}function J1(o,s){var d=o[1],b=s[1],T=d|b,R=T<(N|z|ge),U=b==ge&&d==W||b==ge&&d==Ae&&o[7].length<=s[8]||b==(ge|Ae)&&s[7].length<=s[8]&&d==W;if(!(R||U))return o;b&N&&(o[2]=s[2],T|=d&N?0:Q);var q=s[3];if(q){var re=o[3];o[3]=re?Wh(re,q,s[4]):q,o[4]=re?cr(o[3],v):s[4]}return q=s[5],q&&(re=o[5],o[5]=re?Hh(re,q,s[6]):q,o[6]=re?cr(o[5],v):s[6]),q=s[7],q&&(o[7]=q),b&ge&&(o[8]=o[8]==null?s[8]:Xn(o[8],s[8])),o[9]==null&&(o[9]=s[9]),o[0]=s[0],o[1]=T,o}function Z1(o){var s=[];if(o!=null)for(var d in Ot(o))s.push(d);return s}function ew(o){return je.call(o)}function sp(o,s,d){return s=bn(s===n?o.length-1:s,0),function(){for(var b=arguments,T=-1,R=bn(b.length-s,0),U=fe(R);++T<R;)U[T]=b[s+T];T=-1;for(var q=fe(s+1);++T<s;)q[T]=b[T];return q[s]=d(U),qn(o,this,q)}}function up(o,s){return s.length<2?o:Fo(o,Mr(s,0,-1))}function tw(o,s){for(var d=o.length,b=Xn(s.length,d),T=dr(o);b--;){var R=s[b];o[b]=Ni(R,d)?T[R]:n}return o}function Hl(o,s){if(!(s==="constructor"&&typeof o[s]=="function")&&s!="__proto__")return o[s]}var cp=fp(kh),ls=Te||function(o,s){return Ht.setTimeout(o,s)},zl=fp(A1);function lp(o,s,d){var b=s+"";return zl(o,V1(b,nw(H1(b),d)))}function fp(o){var s=0,d=0;return function(){var b=xv(),T=ue-(b-d);if(d=b,T>0){if(++s>=oe)return arguments[0]}else s=0;return o.apply(n,arguments)}}function Iu(o,s){var d=-1,b=o.length,T=b-1;for(s=s===n?b:s;++d<s;){var R=_l(d,T),U=o[R];o[R]=o[d],o[d]=U}return o.length=s,o}var dp=q1(function(o){var s=[];return o.charCodeAt(0)===46&&s.push(""),o.replace(si,function(d,b,T,R){s.push(T?R.replace(zr,"$1"):b||d)}),s});function di(o){if(typeof o=="string"||Sr(o))return o;var s=o+"";return s=="0"&&1/o==-1/0?"-0":s}function $o(o){if(o!=null){try{return G.call(o)}catch{}try{return o+""}catch{}}return""}function nw(o,s){return Fn(it,function(d){var b="_."+d[0];s&d[1]&&!sn(o,b)&&o.push(b)}),o.sort()}function hp(o){if(o instanceof xt)return o.clone();var s=new Lr(o.__wrapped__,o.__chain__);return s.__actions__=dr(o.__actions__),s.__index__=o.__index__,s.__values__=o.__values__,s}function rw(o,s,d){(d?nr(o,s,d):s===n)?s=1:s=bn(ft(s),0);var b=o==null?0:o.length;if(!b||s<1)return[];for(var T=0,R=0,U=fe(Ge(b/s));T<b;)U[R++]=Mr(o,T,T+=s);return U}function iw(o){for(var s=-1,d=o==null?0:o.length,b=0,T=[];++s<d;){var R=o[s];R&&(T[b++]=R)}return T}function ow(){var o=arguments.length;if(!o)return[];for(var s=fe(o-1),d=arguments[0],b=o;b--;)s[b-1]=arguments[b];return ci(ct(d)?dr(d):[d],$n(s,1))}var aw=gt(function(o,s){return ln(o)?is(o,$n(s,1,ln,!0)):[]}),sw=gt(function(o,s){var d=Ir(s);return ln(d)&&(d=n),ln(o)?is(o,$n(s,1,ln,!0),Qe(d,2)):[]}),uw=gt(function(o,s){var d=Ir(s);return ln(d)&&(d=n),ln(o)?is(o,$n(s,1,ln,!0),n,d):[]});function cw(o,s,d){var b=o==null?0:o.length;return b?(s=d||s===n?1:ft(s),Mr(o,s<0?0:s,b)):[]}function lw(o,s,d){var b=o==null?0:o.length;return b?(s=d||s===n?1:ft(s),s=b-s,Mr(o,0,s<0?0:s)):[]}function fw(o,s){return o&&o.length?Eu(o,Qe(s,3),!0,!0):[]}function dw(o,s){return o&&o.length?Eu(o,Qe(s,3),!0):[]}function hw(o,s,d,b){var T=o==null?0:o.length;return T?(d&&typeof d!="number"&&nr(o,s,d)&&(d=0,b=T),o1(o,s,d,b)):[]}function pp(o,s,d){var b=o==null?0:o.length;if(!b)return-1;var T=d==null?0:ft(d);return T<0&&(T=bn(b+T,0)),sa(o,Qe(s,3),T)}function gp(o,s,d){var b=o==null?0:o.length;if(!b)return-1;var T=b-1;return d!==n&&(T=ft(d),T=d<0?bn(b+T,0):Xn(T,b-1)),sa(o,Qe(s,3),T,!0)}function mp(o){var s=o==null?0:o.length;return s?$n(o,1):[]}function pw(o){var s=o==null?0:o.length;return s?$n(o,ne):[]}function gw(o,s){var d=o==null?0:o.length;return d?(s=s===n?1:ft(s),$n(o,s)):[]}function mw(o){for(var s=-1,d=o==null?0:o.length,b={};++s<d;){var T=o[s];b[T[0]]=T[1]}return b}function yp(o){return o&&o.length?o[0]:n}function yw(o,s,d){var b=o==null?0:o.length;if(!b)return-1;var T=d==null?0:ft(d);return T<0&&(T=bn(b+T,0)),oo(o,s,T)}function vw(o){var s=o==null?0:o.length;return s?Mr(o,0,-1):[]}var ww=gt(function(o){var s=zt(o,Il);return s.length&&s[0]===o[0]?bl(s):[]}),xw=gt(function(o){var s=Ir(o),d=zt(o,Il);return s===Ir(d)?s=n:d.pop(),d.length&&d[0]===o[0]?bl(d,Qe(s,2)):[]}),bw=gt(function(o){var s=Ir(o),d=zt(o,Il);return s=typeof s=="function"?s:n,s&&d.pop(),d.length&&d[0]===o[0]?bl(d,n,s):[]});function Sw(o,s){return o==null?"":vv.call(o,s)}function Ir(o){var s=o==null?0:o.length;return s?o[s-1]:n}function Ew(o,s,d){var b=o==null?0:o.length;if(!b)return-1;var T=b;return d!==n&&(T=ft(d),T=T<0?bn(b+T,0):Xn(T,b-1)),s===s?qa(o,s,T):sa(o,du,T,!0)}function Aw(o,s){return o&&o.length?Lh(o,ft(s)):n}var Cw=gt(vp);function vp(o,s){return o&&o.length&&s&&s.length?Cl(o,s):o}function _w(o,s,d){return o&&o.length&&s&&s.length?Cl(o,s,Qe(d,2)):o}function Tw(o,s,d){return o&&o.length&&s&&s.length?Cl(o,s,n,d):o}var Lw=Fi(function(o,s){var d=o==null?0:o.length,b=yl(o,s);return Ih(o,zt(s,function(T){return Ni(T,d)?+T:T}).sort(Uh)),b});function Pw(o,s){var d=[];if(!(o&&o.length))return d;var b=-1,T=[],R=o.length;for(s=Qe(s,3);++b<R;){var U=o[b];s(U,b,o)&&(d.push(U),T.push(b))}return Ih(o,T),d}function jl(o){return o==null?o:Sv.call(o)}function Mw(o,s,d){var b=o==null?0:o.length;return b?(d&&typeof d!="number"&&nr(o,s,d)?(s=0,d=b):(s=s==null?0:ft(s),d=d===n?b:ft(d)),Mr(o,s,d)):[]}function Iw(o,s){return Su(o,s)}function kw(o,s,d){return Ll(o,s,Qe(d,2))}function Rw(o,s){var d=o==null?0:o.length;if(d){var b=Su(o,s);if(b<d&&Yr(o[b],s))return b}return-1}function Ow(o,s){return Su(o,s,!0)}function Fw(o,s,d){return Ll(o,s,Qe(d,2),!0)}function Nw(o,s){var d=o==null?0:o.length;if(d){var b=Su(o,s,!0)-1;if(Yr(o[b],s))return b}return-1}function $w(o){return o&&o.length?Rh(o):[]}function Bw(o,s){return o&&o.length?Rh(o,Qe(s,2)):[]}function Dw(o){var s=o==null?0:o.length;return s?Mr(o,1,s):[]}function Gw(o,s,d){return o&&o.length?(s=d||s===n?1:ft(s),Mr(o,0,s<0?0:s)):[]}function Uw(o,s,d){var b=o==null?0:o.length;return b?(s=d||s===n?1:ft(s),s=b-s,Mr(o,s<0?0:s,b)):[]}function Ww(o,s){return o&&o.length?Eu(o,Qe(s,3),!1,!0):[]}function Hw(o,s){return o&&o.length?Eu(o,Qe(s,3)):[]}var zw=gt(function(o){return ho($n(o,1,ln,!0))}),jw=gt(function(o){var s=Ir(o);return ln(s)&&(s=n),ho($n(o,1,ln,!0),Qe(s,2))}),Vw=gt(function(o){var s=Ir(o);return s=typeof s=="function"?s:n,ho($n(o,1,ln,!0),n,s)});function Xw(o){return o&&o.length?ho(o):[]}function Yw(o,s){return o&&o.length?ho(o,Qe(s,2)):[]}function Kw(o,s){return s=typeof s=="function"?s:n,o&&o.length?ho(o,n,s):[]}function Vl(o){if(!(o&&o.length))return[];var s=0;return o=Vt(o,function(d){if(ln(d))return s=bn(d.length,s),!0}),m(s,function(d){return zt(o,Ya(d))})}function wp(o,s){if(!(o&&o.length))return[];var d=Vl(o);return s==null?d:zt(d,function(b){return qn(s,n,b)})}var Qw=gt(function(o,s){return ln(o)?is(o,s):[]}),qw=gt(function(o){return Ml(Vt(o,ln))}),Jw=gt(function(o){var s=Ir(o);return ln(s)&&(s=n),Ml(Vt(o,ln),Qe(s,2))}),Zw=gt(function(o){var s=Ir(o);return s=typeof s=="function"?s:n,Ml(Vt(o,ln),n,s)}),ex=gt(Vl);function tx(o,s){return $h(o||[],s||[],rs)}function nx(o,s){return $h(o||[],s||[],ss)}var rx=gt(function(o){var s=o.length,d=s>1?o[s-1]:n;return d=typeof d=="function"?(o.pop(),d):n,wp(o,d)});function xp(o){var s=M(o);return s.__chain__=!0,s}function ix(o,s){return s(o),o}function ku(o,s){return s(o)}var ox=Fi(function(o){var s=o.length,d=s?o[0]:0,b=this.__wrapped__,T=function(R){return yl(R,o)};return s>1||this.__actions__.length||!(b instanceof xt)||!Ni(d)?this.thru(T):(b=b.slice(d,+d+(s?1:0)),b.__actions__.push({func:ku,args:[T],thisArg:n}),new Lr(b,this.__chain__).thru(function(R){return s&&!R.length&&R.push(n),R}))});function ax(){return xp(this)}function sx(){return new Lr(this.value(),this.__chain__)}function ux(){this.__values__===n&&(this.__values__=Op(this.value()));var o=this.__index__>=this.__values__.length,s=o?n:this.__values__[this.__index__++];return{done:o,value:s}}function cx(){return this}function lx(o){for(var s,d=this;d instanceof yu;){var b=hp(d);b.__index__=0,b.__values__=n,s?T.__wrapped__=b:s=b;var T=b;d=d.__wrapped__}return T.__wrapped__=o,s}function fx(){var o=this.__wrapped__;if(o instanceof xt){var s=o;return this.__actions__.length&&(s=new xt(this)),s=s.reverse(),s.__actions__.push({func:ku,args:[jl],thisArg:n}),new Lr(s,this.__chain__)}return this.thru(jl)}function dx(){return Nh(this.__wrapped__,this.__actions__)}var hx=Au(function(o,s,d){K.call(o,d)?++o[d]:Ri(o,d,1)});function px(o,s,d){var b=ct(o)?ja:i1;return d&&nr(o,s,d)&&(s=n),b(o,Qe(s,3))}function gx(o,s){var d=ct(o)?Vt:wh;return d(o,Qe(s,3))}var mx=Xh(pp),yx=Xh(gp);function vx(o,s){return $n(Ru(o,s),1)}function wx(o,s){return $n(Ru(o,s),ne)}function xx(o,s,d){return d=d===n?1:ft(d),$n(Ru(o,s),d)}function bp(o,s){var d=ct(o)?Fn:fo;return d(o,Qe(s,3))}function Sp(o,s){var d=ct(o)?jr:vh;return d(o,Qe(s,3))}var bx=Au(function(o,s,d){K.call(o,d)?o[d].push(s):Ri(o,d,[s])});function Sx(o,s,d,b){o=hr(o)?o:ga(o),d=d&&!b?ft(d):0;var T=o.length;return d<0&&(d=bn(T+d,0)),Bu(o)?d<=T&&o.indexOf(s,d)>-1:!!T&&oo(o,s,d)>-1}var Ex=gt(function(o,s,d){var b=-1,T=typeof s=="function",R=hr(o)?fe(o.length):[];return fo(o,function(U){R[++b]=T?qn(s,U,d):os(U,s,d)}),R}),Ax=Au(function(o,s,d){Ri(o,d,s)});function Ru(o,s){var d=ct(o)?zt:Ch;return d(o,Qe(s,3))}function Cx(o,s,d,b){return o==null?[]:(ct(s)||(s=s==null?[]:[s]),d=b?n:d,ct(d)||(d=d==null?[]:[d]),Ph(o,s,d))}var _x=Au(function(o,s,d){o[d?0:1].push(s)},function(){return[[],[]]});function Tx(o,s,d){var b=ct(o)?Va:Ka,T=arguments.length<3;return b(o,Qe(s,4),d,T,fo)}function Lx(o,s,d){var b=ct(o)?cl:Ka,T=arguments.length<3;return b(o,Qe(s,4),d,T,vh)}function Px(o,s){var d=ct(o)?Vt:wh;return d(o,Nu(Qe(s,3)))}function Mx(o){var s=ct(o)?ph:S1;return s(o)}function Ix(o,s,d){(d?nr(o,s,d):s===n)?s=1:s=ft(s);var b=ct(o)?Zv:E1;return b(o,s)}function kx(o){var s=ct(o)?e1:C1;return s(o)}function Rx(o){if(o==null)return 0;if(hr(o))return Bu(o)?Nn(o):o.length;var s=Yn(o);return s==Wt||s==at?o.size:El(o).length}function Ox(o,s,d){var b=ct(o)?Xa:_1;return d&&nr(o,s,d)&&(s=n),b(o,Qe(s,3))}var Fx=gt(function(o,s){if(o==null)return[];var d=s.length;return d>1&&nr(o,s[0],s[1])?s=[]:d>2&&nr(s[0],s[1],s[2])&&(s=[s[0]]),Ph(o,$n(s,1),[])}),Ou=xe||function(){return Ht.Date.now()};function Nx(o,s){if(typeof s!="function")throw new fr(c);return o=ft(o),function(){if(--o<1)return s.apply(this,arguments)}}function Ep(o,s,d){return s=d?n:s,s=o&&s==null?o.length:s,Oi(o,ge,n,n,n,n,s)}function Ap(o,s){var d;if(typeof s!="function")throw new fr(c);return o=ft(o),function(){return--o>0&&(d=s.apply(this,arguments)),o<=1&&(s=n),d}}var Xl=gt(function(o,s,d){var b=N;if(d.length){var T=cr(d,ha(Xl));b|=le}return Oi(o,b,s,d,T)}),Cp=gt(function(o,s,d){var b=N|z;if(d.length){var T=cr(d,ha(Cp));b|=le}return Oi(s,b,o,d,T)});function _p(o,s,d){s=d?n:s;var b=Oi(o,W,n,n,n,n,n,s);return b.placeholder=_p.placeholder,b}function Tp(o,s,d){s=d?n:s;var b=Oi(o,ae,n,n,n,n,n,s);return b.placeholder=Tp.placeholder,b}function Lp(o,s,d){var b,T,R,U,q,re,we=0,be=!1,_e=!1,Ne=!0;if(typeof o!="function")throw new fr(c);s=kr(s)||0,Jt(d)&&(be=!!d.leading,_e="maxWait"in d,R=_e?bn(kr(d.maxWait)||0,s):R,Ne="trailing"in d?!!d.trailing:Ne);function Ye(fn){var Kr=b,Di=T;return b=T=n,we=fn,U=o.apply(Di,Kr),U}function Je(fn){return we=fn,q=ls(wt,s),be?Ye(fn):U}function ht(fn){var Kr=fn-re,Di=fn-we,Xp=s-Kr;return _e?Xn(Xp,R-Di):Xp}function Ze(fn){var Kr=fn-re,Di=fn-we;return re===n||Kr>=s||Kr<0||_e&&Di>=R}function wt(){var fn=Ou();if(Ze(fn))return St(fn);q=ls(wt,ht(fn))}function St(fn){return q=n,Ne&&b?Ye(fn):(b=T=n,U)}function Er(){q!==n&&Bh(q),we=0,b=re=T=q=n}function rr(){return q===n?U:St(Ou())}function Ar(){var fn=Ou(),Kr=Ze(fn);if(b=arguments,T=this,re=fn,Kr){if(q===n)return Je(re);if(_e)return Bh(q),q=ls(wt,s),Ye(re)}return q===n&&(q=ls(wt,s)),U}return Ar.cancel=Er,Ar.flush=rr,Ar}var $x=gt(function(o,s){return yh(o,1,s)}),Bx=gt(function(o,s,d){return yh(o,kr(s)||0,d)});function Dx(o){return Oi(o,F)}function Fu(o,s){if(typeof o!="function"||s!=null&&typeof s!="function")throw new fr(c);var d=function(){var b=arguments,T=s?s.apply(this,b):b[0],R=d.cache;if(R.has(T))return R.get(T);var U=o.apply(this,b);return d.cache=R.set(T,U)||R,U};return d.cache=new(Fu.Cache||ki),d}Fu.Cache=ki;function Nu(o){if(typeof o!="function")throw new fr(c);return function(){var s=arguments;switch(s.length){case 0:return!o.call(this);case 1:return!o.call(this,s[0]);case 2:return!o.call(this,s[0],s[1]);case 3:return!o.call(this,s[0],s[1],s[2])}return!o.apply(this,s)}}function Gx(o){return Ap(2,o)}var Ux=T1(function(o,s){s=s.length==1&&ct(s[0])?zt(s[0],I(Qe())):zt($n(s,1),I(Qe()));var d=s.length;return gt(function(b){for(var T=-1,R=Xn(b.length,d);++T<R;)b[T]=s[T].call(this,b[T]);return qn(o,this,b)})}),Yl=gt(function(o,s){var d=cr(s,ha(Yl));return Oi(o,le,n,s,d)}),Pp=gt(function(o,s){var d=cr(s,ha(Pp));return Oi(o,te,n,s,d)}),Wx=Fi(function(o,s){return Oi(o,Ae,n,n,n,s)});function Hx(o,s){if(typeof o!="function")throw new fr(c);return s=s===n?s:ft(s),gt(o,s)}function zx(o,s){if(typeof o!="function")throw new fr(c);return s=s==null?0:bn(ft(s),0),gt(function(d){var b=d[s],T=go(d,0,s);return b&&ci(T,b),qn(o,this,T)})}function jx(o,s,d){var b=!0,T=!0;if(typeof o!="function")throw new fr(c);return Jt(d)&&(b="leading"in d?!!d.leading:b,T="trailing"in d?!!d.trailing:T),Lp(o,s,{leading:b,maxWait:s,trailing:T})}function Vx(o){return Ep(o,1)}function Xx(o,s){return Yl(kl(s),o)}function Yx(){if(!arguments.length)return[];var o=arguments[0];return ct(o)?o:[o]}function Kx(o){return Pr(o,_)}function Qx(o,s){return s=typeof s=="function"?s:n,Pr(o,_,s)}function qx(o){return Pr(o,x|_)}function Jx(o,s){return s=typeof s=="function"?s:n,Pr(o,x|_,s)}function Zx(o,s){return s==null||mh(o,s,Ln(s))}function Yr(o,s){return o===s||o!==o&&s!==s}var eb=Lu(xl),tb=Lu(function(o,s){return o>=s}),Bo=Sh(function(){return arguments}())?Sh:function(o){return on(o)&&K.call(o,"callee")&&!er.call(o,"callee")},ct=fe.isArray,nb=cu?I(cu):l1;function hr(o){return o!=null&&$u(o.length)&&!$i(o)}function ln(o){return on(o)&&hr(o)}function rb(o){return o===!0||o===!1||on(o)&&tr(o)==In}var mo=Tr||af,ib=za?I(za):f1;function ob(o){return on(o)&&o.nodeType===1&&!ds(o)}function ab(o){if(o==null)return!0;if(hr(o)&&(ct(o)||typeof o=="string"||typeof o.splice=="function"||mo(o)||pa(o)||Bo(o)))return!o.length;var s=Yn(o);if(s==Wt||s==at)return!o.size;if(cs(o))return!El(o).length;for(var d in o)if(K.call(o,d))return!1;return!0}function sb(o,s){return as(o,s)}function ub(o,s,d){d=typeof d=="function"?d:n;var b=d?d(o,s):n;return b===n?as(o,s,n,d):!!b}function Kl(o){if(!on(o))return!1;var s=tr(o);return s==Un||s==pn||typeof o.message=="string"&&typeof o.name=="string"&&!ds(o)}function cb(o){return typeof o=="number"&&lo(o)}function $i(o){if(!Jt(o))return!1;var s=tr(o);return s==Ut||s==wn||s==Nt||s==yr}function Mp(o){return typeof o=="number"&&o==ft(o)}function $u(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=me}function Jt(o){var s=typeof o;return o!=null&&(s=="object"||s=="function")}function on(o){return o!=null&&typeof o=="object"}var Ip=Mo?I(Mo):h1;function lb(o,s){return o===s||Sl(o,s,Dl(s))}function fb(o,s,d){return d=typeof d=="function"?d:n,Sl(o,s,Dl(s),d)}function db(o){return kp(o)&&o!=+o}function hb(o){if(Q1(o))throw new nt(u);return Eh(o)}function pb(o){return o===null}function gb(o){return o==null}function kp(o){return typeof o=="number"||on(o)&&tr(o)==En}function ds(o){if(!on(o)||tr(o)!=jt)return!1;var s=Qt(o);if(s===null)return!0;var d=K.call(s,"constructor")&&s.constructor;return typeof d=="function"&&d instanceof d&&G.call(d)==Xe}var Ql=J?I(J):p1;function mb(o){return Mp(o)&&o>=-9007199254740991&&o<=me}var Rp=jn?I(jn):g1;function Bu(o){return typeof o=="string"||!ct(o)&&on(o)&&tr(o)==_t}function Sr(o){return typeof o=="symbol"||on(o)&&tr(o)==tn}var pa=lu?I(lu):m1;function yb(o){return o===n}function vb(o){return on(o)&&Yn(o)==Dt}function wb(o){return on(o)&&tr(o)==vt}var xb=Lu(Al),bb=Lu(function(o,s){return o<=s});function Op(o){if(!o)return[];if(hr(o))return Bu(o)?Jn(o):dr(o);if(C&&o[C])return Vn(o[C]());var s=Yn(o),d=s==Wt?un:s==at?lr:ga;return d(o)}function Bi(o){if(!o)return o===0?o:0;if(o=kr(o),o===ne||o===-1/0){var s=o<0?-1:1;return s*Me}return o===o?o:0}function ft(o){var s=Bi(o),d=s%1;return s===s?d?s-d:s:0}function Fp(o){return o?Oo(ft(o),0,Le):0}function kr(o){if(typeof o=="number")return o;if(Sr(o))return Oe;if(Jt(o)){var s=typeof o.valueOf=="function"?o.valueOf():o;o=Jt(s)?s+"":s}if(typeof o!="string")return o===0?o:+o;o=A(o);var d=Rn.test(o);return d||Oa.test(o)?ia(o.slice(2),d?2:8):Ci.test(o)?Oe:+o}function Np(o){return fi(o,pr(o))}function Sb(o){return o?Oo(ft(o),-9007199254740991,me):o===0?o:0}function kt(o){return o==null?"":br(o)}var Eb=fa(function(o,s){if(cs(s)||hr(s)){fi(s,Ln(s),o);return}for(var d in s)K.call(s,d)&&rs(o,d,s[d])}),$p=fa(function(o,s){fi(s,pr(s),o)}),Du=fa(function(o,s,d,b){fi(s,pr(s),o,b)}),Ab=fa(function(o,s,d,b){fi(s,Ln(s),o,b)}),Cb=Fi(yl);function _b(o,s){var d=la(o);return s==null?d:gh(d,s)}var Tb=gt(function(o,s){o=Ot(o);var d=-1,b=s.length,T=b>2?s[2]:n;for(T&&nr(s[0],s[1],T)&&(b=1);++d<b;)for(var R=s[d],U=pr(R),q=-1,re=U.length;++q<re;){var we=U[q],be=o[we];(be===n||Yr(be,S[we])&&!K.call(o,we))&&(o[we]=R[we])}return o}),Lb=gt(function(o){return o.push(n,ep),qn(Bp,n,o)});function Pb(o,s){return fu(o,Qe(s,3),li)}function Mb(o,s){return fu(o,Qe(s,3),wl)}function Ib(o,s){return o==null?o:vl(o,Qe(s,3),pr)}function kb(o,s){return o==null?o:xh(o,Qe(s,3),pr)}function Rb(o,s){return o&&li(o,Qe(s,3))}function Ob(o,s){return o&&wl(o,Qe(s,3))}function Fb(o){return o==null?[]:xu(o,Ln(o))}function Nb(o){return o==null?[]:xu(o,pr(o))}function ql(o,s,d){var b=o==null?n:Fo(o,s);return b===n?d:b}function $b(o,s){return o!=null&&rp(o,s,a1)}function Jl(o,s){return o!=null&&rp(o,s,s1)}var Bb=Kh(function(o,s,d){s!=null&&typeof s.toString!="function"&&(s=je.call(s)),o[s]=d},ef(gr)),Db=Kh(function(o,s,d){s!=null&&typeof s.toString!="function"&&(s=je.call(s)),K.call(o,s)?o[s].push(d):o[s]=[d]},Qe),Gb=gt(os);function Ln(o){return hr(o)?hh(o):El(o)}function pr(o){return hr(o)?hh(o,!0):y1(o)}function Ub(o,s){var d={};return s=Qe(s,3),li(o,function(b,T,R){Ri(d,s(b,T,R),b)}),d}function Wb(o,s){var d={};return s=Qe(s,3),li(o,function(b,T,R){Ri(d,T,s(b,T,R))}),d}var Hb=fa(function(o,s,d){bu(o,s,d)}),Bp=fa(function(o,s,d,b){bu(o,s,d,b)}),zb=Fi(function(o,s){var d={};if(o==null)return d;var b=!1;s=zt(s,function(R){return R=po(R,o),b||(b=R.length>1),R}),fi(o,$l(o),d),b&&(d=Pr(d,x|E|_,B1));for(var T=s.length;T--;)Pl(d,s[T]);return d});function jb(o,s){return Dp(o,Nu(Qe(s)))}var Vb=Fi(function(o,s){return o==null?{}:w1(o,s)});function Dp(o,s){if(o==null)return{};var d=zt($l(o),function(b){return[b]});return s=Qe(s),Mh(o,d,function(b,T){return s(b,T[0])})}function Xb(o,s,d){s=po(s,o);var b=-1,T=s.length;for(T||(T=1,o=n);++b<T;){var R=o==null?n:o[di(s[b])];R===n&&(b=T,R=d),o=$i(R)?R.call(o):R}return o}function Yb(o,s,d){return o==null?o:ss(o,s,d)}function Kb(o,s,d,b){return b=typeof b=="function"?b:n,o==null?o:ss(o,s,d,b)}var Gp=Jh(Ln),Up=Jh(pr);function Qb(o,s,d){var b=ct(o),T=b||mo(o)||pa(o);if(s=Qe(s,4),d==null){var R=o&&o.constructor;T?d=b?new R:[]:Jt(o)?d=$i(R)?la(Qt(o)):{}:d={}}return(T?Fn:li)(o,function(U,q,re){return s(d,U,q,re)}),d}function qb(o,s){return o==null?!0:Pl(o,s)}function Jb(o,s,d){return o==null?o:Fh(o,s,kl(d))}function Zb(o,s,d,b){return b=typeof b=="function"?b:n,o==null?o:Fh(o,s,kl(d),b)}function ga(o){return o==null?[]:H(o,Ln(o))}function eS(o){return o==null?[]:H(o,pr(o))}function tS(o,s,d){return d===n&&(d=s,s=n),d!==n&&(d=kr(d),d=d===d?d:0),s!==n&&(s=kr(s),s=s===s?s:0),Oo(kr(o),s,d)}function nS(o,s,d){return s=Bi(s),d===n?(d=s,s=0):d=Bi(d),o=kr(o),u1(o,s,d)}function rS(o,s,d){if(d&&typeof d!="boolean"&&nr(o,s,d)&&(s=d=n),d===n&&(typeof s=="boolean"?(d=s,s=n):typeof o=="boolean"&&(d=o,o=n)),o===n&&s===n?(o=0,s=1):(o=Bi(o),s===n?(s=o,o=0):s=Bi(s)),o>s){var b=o;o=s,s=b}if(d||o%1||s%1){var T=fh();return Xn(o+T*(s-o+uu("1e-"+((T+"").length-1))),s)}return _l(o,s)}var iS=da(function(o,s,d){return s=s.toLowerCase(),o+(d?Wp(s):s)});function Wp(o){return Zl(kt(o).toLowerCase())}function Hp(o){return o=kt(o),o&&o.replace(Qn,Ce).replace(ra,"")}function oS(o,s,d){o=kt(o),s=br(s);var b=o.length;d=d===n?b:Oo(ft(d),0,b);var T=d;return d-=s.length,d>=0&&o.slice(d,T)==s}function aS(o){return o=kt(o),o&&Zi.test(o)?o.replace(vr,Ue):o}function sS(o){return o=kt(o),o&&ar.test(o)?o.replace(to,"\\$&"):o}var uS=da(function(o,s,d){return o+(d?"-":"")+s.toLowerCase()}),cS=da(function(o,s,d){return o+(d?" ":"")+s.toLowerCase()}),lS=Vh("toLowerCase");function fS(o,s,d){o=kt(o),s=ft(s);var b=s?Nn(o):0;if(!s||b>=s)return o;var T=(s-b)/2;return Tu(Lt(T),d)+o+Tu(Ge(T),d)}function dS(o,s,d){o=kt(o),s=ft(s);var b=s?Nn(o):0;return s&&b<s?o+Tu(s-b,d):o}function hS(o,s,d){o=kt(o),s=ft(s);var b=s?Nn(o):0;return s&&b<s?Tu(s-b,d)+o:o}function pS(o,s,d){return d||s==null?s=0:s&&(s=+s),bv(kt(o).replace(Yt,""),s||0)}function gS(o,s,d){return(d?nr(o,s,d):s===n)?s=1:s=ft(s),Tl(kt(o),s)}function mS(){var o=arguments,s=kt(o[0]);return o.length<3?s:s.replace(o[1],o[2])}var yS=da(function(o,s,d){return o+(d?"_":"")+s.toLowerCase()});function vS(o,s,d){return d&&typeof d!="number"&&nr(o,s,d)&&(s=d=n),d=d===n?Le:d>>>0,d?(o=kt(o),o&&(typeof s=="string"||s!=null&&!Ql(s))&&(s=br(s),!s&&tt(o))?go(Jn(o),0,d):o.split(s,d)):[]}var wS=da(function(o,s,d){return o+(d?" ":"")+Zl(s)});function xS(o,s,d){return o=kt(o),d=d==null?0:Oo(ft(d),0,o.length),s=br(s),o.slice(d,d+s.length)==s}function bS(o,s,d){var b=M.templateSettings;d&&nr(o,s,d)&&(s=n),o=kt(o),s=Du({},s,b,Zh);var T=Du({},s.imports,b.imports,Zh),R=Ln(T),U=H(T,R),q,re,we=0,be=s.interpolate||ta,_e="__p += '",Ne=lt((s.escape||ta).source+"|"+be.source+"|"+(be===eo?ea:ta).source+"|"+(s.evaluate||ta).source+"|$","g"),Ye="//# sourceURL="+(K.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ou+"]")+`
`;o.replace(Ne,function(Ze,wt,St,Er,rr,Ar){return St||(St=Er),_e+=o.slice(we,Ar).replace(Zc,se),wt&&(q=!0,_e+=`' +
__e(`+wt+`) +
'`),rr&&(re=!0,_e+=`';
`+rr+`;
__p += '`),St&&(_e+=`' +
((__t = (`+St+`)) == null ? '' : __t) +
'`),we=Ar+Ze.length,Ze}),_e+=`';
`;var Je=K.call(s,"variable")&&s.variable;if(!Je)_e=`with (obj) {
`+_e+`
}
`;else if(kn.test(Je))throw new nt(l);_e=(re?_e.replace(Ei,""):_e).replace(Ra,"$1").replace(Ji,"$1;"),_e="function("+(Je||"obj")+`) {
`+(Je?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(re?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var ht=jp(function(){return Et(R,Ye+"return "+_e).apply(n,U)});if(ht.source=_e,Kl(ht))throw ht;return ht}function SS(o){return kt(o).toLowerCase()}function ES(o){return kt(o).toUpperCase()}function AS(o,s,d){if(o=kt(o),o&&(d||s===n))return A(o);if(!o||!(s=br(s)))return o;var b=Jn(o),T=Jn(s),R=$(b,T),U=X(b,T)+1;return go(b,R,U).join("")}function CS(o,s,d){if(o=kt(o),o&&(d||s===n))return o.slice(0,Tn(o)+1);if(!o||!(s=br(s)))return o;var b=Jn(o),T=X(b,Jn(s))+1;return go(b,0,T).join("")}function _S(o,s,d){if(o=kt(o),o&&(d||s===n))return o.replace(Yt,"");if(!o||!(s=br(s)))return o;var b=Jn(o),T=$(b,Jn(s));return go(b,T).join("")}function TS(o,s){var d=Y,b=V;if(Jt(s)){var T="separator"in s?s.separator:T;d="length"in s?ft(s.length):d,b="omission"in s?br(s.omission):b}o=kt(o);var R=o.length;if(tt(o)){var U=Jn(o);R=U.length}if(d>=R)return o;var q=d-Nn(b);if(q<1)return b;var re=U?go(U,0,q).join(""):o.slice(0,q);if(T===n)return re+b;if(U&&(q+=re.length-q),Ql(T)){if(o.slice(q).search(T)){var we,be=re;for(T.global||(T=lt(T.source,kt(Cn.exec(T))+"g")),T.lastIndex=0;we=T.exec(be);)var _e=we.index;re=re.slice(0,_e===n?q:_e)}}else if(o.indexOf(br(T),q)!=q){var Ne=re.lastIndexOf(T);Ne>-1&&(re=re.slice(0,Ne))}return re+b}function LS(o){return o=kt(o),o&&Jo.test(o)?o.replace(ri,Mt):o}var PS=da(function(o,s,d){return o+(d?" ":"")+s.toUpperCase()}),Zl=Vh("toUpperCase");function zp(o,s,d){return o=kt(o),s=d?n:s,s===n?rt(o)?Ja(o):dl(o):o.match(s)||[]}var jp=gt(function(o,s){try{return qn(o,n,s)}catch(d){return Kl(d)?d:new nt(d)}}),MS=Fi(function(o,s){return Fn(s,function(d){d=di(d),Ri(o,d,Xl(o[d],o))}),o});function IS(o){var s=o==null?0:o.length,d=Qe();return o=s?zt(o,function(b){if(typeof b[1]!="function")throw new fr(c);return[d(b[0]),b[1]]}):[],gt(function(b){for(var T=-1;++T<s;){var R=o[T];if(qn(R[0],this,b))return qn(R[1],this,b)}})}function kS(o){return r1(Pr(o,x))}function ef(o){return function(){return o}}function RS(o,s){return o==null||o!==o?s:o}var OS=Yh(),FS=Yh(!0);function gr(o){return o}function tf(o){return Ah(typeof o=="function"?o:Pr(o,x))}function NS(o){return _h(Pr(o,x))}function $S(o,s){return Th(o,Pr(s,x))}var BS=gt(function(o,s){return function(d){return os(d,o,s)}}),DS=gt(function(o,s){return function(d){return os(o,d,s)}});function nf(o,s,d){var b=Ln(s),T=xu(s,b);d==null&&!(Jt(s)&&(T.length||!b.length))&&(d=s,s=o,o=this,T=xu(s,Ln(s)));var R=!(Jt(d)&&"chain"in d)||!!d.chain,U=$i(o);return Fn(T,function(q){var re=s[q];o[q]=re,U&&(o.prototype[q]=function(){var we=this.__chain__;if(R||we){var be=o(this.__wrapped__),_e=be.__actions__=dr(this.__actions__);return _e.push({func:re,args:arguments,thisArg:o}),be.__chain__=we,be}return re.apply(o,ci([this.value()],arguments))})}),o}function GS(){return Ht._===this&&(Ht._=pt),this}function rf(){}function US(o){return o=ft(o),gt(function(s){return Lh(s,o)})}var WS=Ol(zt),HS=Ol(ja),zS=Ol(Xa);function Vp(o){return Ul(o)?Ya(di(o)):x1(o)}function jS(o){return function(s){return o==null?n:Fo(o,s)}}var VS=Qh(),XS=Qh(!0);function of(){return[]}function af(){return!1}function YS(){return{}}function KS(){return""}function QS(){return!0}function qS(o,s){if(o=ft(o),o<1||o>me)return[];var d=Le,b=Xn(o,Le);s=Qe(s),o-=Le;for(var T=m(b,s);++d<o;)s(d);return T}function JS(o){return ct(o)?zt(o,di):Sr(o)?[o]:dr(dp(kt(o)))}function ZS(o){var s=++de;return kt(o)+s}var e2=_u(function(o,s){return o+s},0),t2=Fl("ceil"),n2=_u(function(o,s){return o/s},1),r2=Fl("floor");function i2(o){return o&&o.length?wu(o,gr,xl):n}function o2(o,s){return o&&o.length?wu(o,Qe(s,2),xl):n}function a2(o){return hu(o,gr)}function s2(o,s){return hu(o,Qe(s,2))}function u2(o){return o&&o.length?wu(o,gr,Al):n}function c2(o,s){return o&&o.length?wu(o,Qe(s,2),Al):n}var l2=_u(function(o,s){return o*s},1),f2=Fl("round"),d2=_u(function(o,s){return o-s},0);function h2(o){return o&&o.length?f(o,gr):0}function p2(o,s){return o&&o.length?f(o,Qe(s,2)):0}return M.after=Nx,M.ary=Ep,M.assign=Eb,M.assignIn=$p,M.assignInWith=Du,M.assignWith=Ab,M.at=Cb,M.before=Ap,M.bind=Xl,M.bindAll=MS,M.bindKey=Cp,M.castArray=Yx,M.chain=xp,M.chunk=rw,M.compact=iw,M.concat=ow,M.cond=IS,M.conforms=kS,M.constant=ef,M.countBy=hx,M.create=_b,M.curry=_p,M.curryRight=Tp,M.debounce=Lp,M.defaults=Tb,M.defaultsDeep=Lb,M.defer=$x,M.delay=Bx,M.difference=aw,M.differenceBy=sw,M.differenceWith=uw,M.drop=cw,M.dropRight=lw,M.dropRightWhile=fw,M.dropWhile=dw,M.fill=hw,M.filter=gx,M.flatMap=vx,M.flatMapDeep=wx,M.flatMapDepth=xx,M.flatten=mp,M.flattenDeep=pw,M.flattenDepth=gw,M.flip=Dx,M.flow=OS,M.flowRight=FS,M.fromPairs=mw,M.functions=Fb,M.functionsIn=Nb,M.groupBy=bx,M.initial=vw,M.intersection=ww,M.intersectionBy=xw,M.intersectionWith=bw,M.invert=Bb,M.invertBy=Db,M.invokeMap=Ex,M.iteratee=tf,M.keyBy=Ax,M.keys=Ln,M.keysIn=pr,M.map=Ru,M.mapKeys=Ub,M.mapValues=Wb,M.matches=NS,M.matchesProperty=$S,M.memoize=Fu,M.merge=Hb,M.mergeWith=Bp,M.method=BS,M.methodOf=DS,M.mixin=nf,M.negate=Nu,M.nthArg=US,M.omit=zb,M.omitBy=jb,M.once=Gx,M.orderBy=Cx,M.over=WS,M.overArgs=Ux,M.overEvery=HS,M.overSome=zS,M.partial=Yl,M.partialRight=Pp,M.partition=_x,M.pick=Vb,M.pickBy=Dp,M.property=Vp,M.propertyOf=jS,M.pull=Cw,M.pullAll=vp,M.pullAllBy=_w,M.pullAllWith=Tw,M.pullAt=Lw,M.range=VS,M.rangeRight=XS,M.rearg=Wx,M.reject=Px,M.remove=Pw,M.rest=Hx,M.reverse=jl,M.sampleSize=Ix,M.set=Yb,M.setWith=Kb,M.shuffle=kx,M.slice=Mw,M.sortBy=Fx,M.sortedUniq=$w,M.sortedUniqBy=Bw,M.split=vS,M.spread=zx,M.tail=Dw,M.take=Gw,M.takeRight=Uw,M.takeRightWhile=Ww,M.takeWhile=Hw,M.tap=ix,M.throttle=jx,M.thru=ku,M.toArray=Op,M.toPairs=Gp,M.toPairsIn=Up,M.toPath=JS,M.toPlainObject=Np,M.transform=Qb,M.unary=Vx,M.union=zw,M.unionBy=jw,M.unionWith=Vw,M.uniq=Xw,M.uniqBy=Yw,M.uniqWith=Kw,M.unset=qb,M.unzip=Vl,M.unzipWith=wp,M.update=Jb,M.updateWith=Zb,M.values=ga,M.valuesIn=eS,M.without=Qw,M.words=zp,M.wrap=Xx,M.xor=qw,M.xorBy=Jw,M.xorWith=Zw,M.zip=ex,M.zipObject=tx,M.zipObjectDeep=nx,M.zipWith=rx,M.entries=Gp,M.entriesIn=Up,M.extend=$p,M.extendWith=Du,nf(M,M),M.add=e2,M.attempt=jp,M.camelCase=iS,M.capitalize=Wp,M.ceil=t2,M.clamp=tS,M.clone=Kx,M.cloneDeep=qx,M.cloneDeepWith=Jx,M.cloneWith=Qx,M.conformsTo=Zx,M.deburr=Hp,M.defaultTo=RS,M.divide=n2,M.endsWith=oS,M.eq=Yr,M.escape=aS,M.escapeRegExp=sS,M.every=px,M.find=mx,M.findIndex=pp,M.findKey=Pb,M.findLast=yx,M.findLastIndex=gp,M.findLastKey=Mb,M.floor=r2,M.forEach=bp,M.forEachRight=Sp,M.forIn=Ib,M.forInRight=kb,M.forOwn=Rb,M.forOwnRight=Ob,M.get=ql,M.gt=eb,M.gte=tb,M.has=$b,M.hasIn=Jl,M.head=yp,M.identity=gr,M.includes=Sx,M.indexOf=yw,M.inRange=nS,M.invoke=Gb,M.isArguments=Bo,M.isArray=ct,M.isArrayBuffer=nb,M.isArrayLike=hr,M.isArrayLikeObject=ln,M.isBoolean=rb,M.isBuffer=mo,M.isDate=ib,M.isElement=ob,M.isEmpty=ab,M.isEqual=sb,M.isEqualWith=ub,M.isError=Kl,M.isFinite=cb,M.isFunction=$i,M.isInteger=Mp,M.isLength=$u,M.isMap=Ip,M.isMatch=lb,M.isMatchWith=fb,M.isNaN=db,M.isNative=hb,M.isNil=gb,M.isNull=pb,M.isNumber=kp,M.isObject=Jt,M.isObjectLike=on,M.isPlainObject=ds,M.isRegExp=Ql,M.isSafeInteger=mb,M.isSet=Rp,M.isString=Bu,M.isSymbol=Sr,M.isTypedArray=pa,M.isUndefined=yb,M.isWeakMap=vb,M.isWeakSet=wb,M.join=Sw,M.kebabCase=uS,M.last=Ir,M.lastIndexOf=Ew,M.lowerCase=cS,M.lowerFirst=lS,M.lt=xb,M.lte=bb,M.max=i2,M.maxBy=o2,M.mean=a2,M.meanBy=s2,M.min=u2,M.minBy=c2,M.stubArray=of,M.stubFalse=af,M.stubObject=YS,M.stubString=KS,M.stubTrue=QS,M.multiply=l2,M.nth=Aw,M.noConflict=GS,M.noop=rf,M.now=Ou,M.pad=fS,M.padEnd=dS,M.padStart=hS,M.parseInt=pS,M.random=rS,M.reduce=Tx,M.reduceRight=Lx,M.repeat=gS,M.replace=mS,M.result=Xb,M.round=f2,M.runInContext=Z,M.sample=Mx,M.size=Rx,M.snakeCase=yS,M.some=Ox,M.sortedIndex=Iw,M.sortedIndexBy=kw,M.sortedIndexOf=Rw,M.sortedLastIndex=Ow,M.sortedLastIndexBy=Fw,M.sortedLastIndexOf=Nw,M.startCase=wS,M.startsWith=xS,M.subtract=d2,M.sum=h2,M.sumBy=p2,M.template=bS,M.times=qS,M.toFinite=Bi,M.toInteger=ft,M.toLength=Fp,M.toLower=SS,M.toNumber=kr,M.toSafeInteger=Sb,M.toString=kt,M.toUpper=ES,M.trim=AS,M.trimEnd=CS,M.trimStart=_S,M.truncate=TS,M.unescape=LS,M.uniqueId=ZS,M.upperCase=PS,M.upperFirst=Zl,M.each=bp,M.eachRight=Sp,M.first=yp,nf(M,function(){var o={};return li(M,function(s,d){K.call(M.prototype,d)||(o[d]=s)}),o}(),{chain:!1}),M.VERSION=r,Fn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){M[o].placeholder=M}),Fn(["drop","take"],function(o,s){xt.prototype[o]=function(d){d=d===n?1:bn(ft(d),0);var b=this.__filtered__&&!s?new xt(this):this.clone();return b.__filtered__?b.__takeCount__=Xn(d,b.__takeCount__):b.__views__.push({size:Xn(d,Le),type:o+(b.__dir__<0?"Right":"")}),b},xt.prototype[o+"Right"]=function(d){return this.reverse()[o](d).reverse()}}),Fn(["filter","map","takeWhile"],function(o,s){var d=s+1,b=d==ee||d==j;xt.prototype[o]=function(T){var R=this.clone();return R.__iteratees__.push({iteratee:Qe(T,3),type:d}),R.__filtered__=R.__filtered__||b,R}}),Fn(["head","last"],function(o,s){var d="take"+(s?"Right":"");xt.prototype[o]=function(){return this[d](1).value()[0]}}),Fn(["initial","tail"],function(o,s){var d="drop"+(s?"":"Right");xt.prototype[o]=function(){return this.__filtered__?new xt(this):this[d](1)}}),xt.prototype.compact=function(){return this.filter(gr)},xt.prototype.find=function(o){return this.filter(o).head()},xt.prototype.findLast=function(o){return this.reverse().find(o)},xt.prototype.invokeMap=gt(function(o,s){return typeof o=="function"?new xt(this):this.map(function(d){return os(d,o,s)})}),xt.prototype.reject=function(o){return this.filter(Nu(Qe(o)))},xt.prototype.slice=function(o,s){o=ft(o);var d=this;return d.__filtered__&&(o>0||s<0)?new xt(d):(o<0?d=d.takeRight(-o):o&&(d=d.drop(o)),s!==n&&(s=ft(s),d=s<0?d.dropRight(-s):d.take(s-o)),d)},xt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},xt.prototype.toArray=function(){return this.take(Le)},li(xt.prototype,function(o,s){var d=/^(?:filter|find|map|reject)|While$/.test(s),b=/^(?:head|last)$/.test(s),T=M[b?"take"+(s=="last"?"Right":""):s],R=b||/^find/.test(s);T&&(M.prototype[s]=function(){var U=this.__wrapped__,q=b?[1]:arguments,re=U instanceof xt,we=q[0],be=re||ct(U),_e=function(wt){var St=T.apply(M,ci([wt],q));return b&&Ne?St[0]:St};be&&d&&typeof we=="function"&&we.length!=1&&(re=be=!1);var Ne=this.__chain__,Ye=!!this.__actions__.length,Je=R&&!Ne,ht=re&&!Ye;if(!R&&be){U=ht?U:new xt(this);var Ze=o.apply(U,q);return Ze.__actions__.push({func:ku,args:[_e],thisArg:n}),new Lr(Ze,Ne)}return Je&&ht?o.apply(this,q):(Ze=this.thru(_e),Je?b?Ze.value()[0]:Ze.value():Ze)})}),Fn(["pop","push","shift","sort","splice","unshift"],function(o){var s=y[o],d=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",b=/^(?:pop|shift)$/.test(o);M.prototype[o]=function(){var T=arguments;if(b&&!this.__chain__){var R=this.value();return s.apply(ct(R)?R:[],T)}return this[d](function(U){return s.apply(ct(U)?U:[],T)})}}),li(xt.prototype,function(o,s){var d=M[s];if(d){var b=d.name+"";K.call(ca,b)||(ca[b]=[]),ca[b].push({name:s,func:d})}}),ca[Cu(n,z).name]=[{name:"wrapper",func:n}],xt.prototype.clone=Lv,xt.prototype.reverse=Pv,xt.prototype.value=Mv,M.prototype.at=ox,M.prototype.chain=ax,M.prototype.commit=sx,M.prototype.next=ux,M.prototype.plant=lx,M.prototype.reverse=fx,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=dx,M.prototype.first=M.prototype.head,C&&(M.prototype[C]=cx),M},Mi=co();_r?((_r.exports=Mi)._=Mi,Pi._=Mi):Ht._=Mi}).call(va)})(sc,sc.exports);var ze=sc.exports;const ek=Yo(ze);var b2=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(e={}){var n=e,r,i;n.ready=new Promise((a,f)=>{r=a,i=f}),function(a){a.Td=a.Td||[],a.Td.push(function(){a.MakeSWCanvasSurface=function(f){var m=f,w=typeof OffscreenCanvas<"u"&&m instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&m instanceof HTMLCanvasElement||w||(m=document.getElementById(f),m)))throw"Canvas with id "+f+" was not found";return(f=a.MakeSurface(m.width,m.height))&&(f.Md=m),f},a.MakeCanvasSurface||(a.MakeCanvasSurface=a.MakeSWCanvasSurface),a.MakeSurface=function(f,m){var w={width:f,height:m,colorType:a.ColorType.RGBA_8888,alphaType:a.AlphaType.Unpremul,colorSpace:a.ColorSpace.SRGB},A=f*m*4,I=a._malloc(A);return(w=a.Surface._makeRasterDirect(w,I,4*f))&&(w.Md=null,w.If=f,w.Ef=m,w.Gf=A,w.cf=I,w.getCanvas().clear(a.TRANSPARENT)),w},a.MakeRasterDirectSurface=function(f,m,w){return a.Surface._makeRasterDirect(f,m.byteOffset,w)},a.Surface.prototype.flush=function(f){if(a.Nd(this.Ld),this._flush(),this.Md){var m=new Uint8ClampedArray(a.HEAPU8.buffer,this.cf,this.Gf);m=new ImageData(m,this.If,this.Ef),f?this.Md.getContext("2d").putImageData(m,0,0,f[0],f[1],f[2]-f[0],f[3]-f[1]):this.Md.getContext("2d").putImageData(m,0,0)}},a.Surface.prototype.dispose=function(){this.cf&&a._free(this.cf),this.delete()},a.Nd=a.Nd||function(){},a.Ue=a.Ue||function(){return null}})}(n),function(a){a.Td=a.Td||[],a.Td.push(function(){function f(O,$,X){return O&&O.hasOwnProperty($)?O[$]:X}function m(O){var $=ro(zn);return zn[$]=O,$}function w(O){return O.naturalHeight||O.videoHeight||O.displayHeight||O.height}function A(O){return O.naturalWidth||O.videoWidth||O.displayWidth||O.width}function I(O,$,X,ve){return O.bindTexture(O.TEXTURE_2D,$),ve||X.alphaType!==a.AlphaType.Premul||O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),$}function H(O,$,X){X||$.alphaType!==a.AlphaType.Premul||O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),O.bindTexture(O.TEXTURE_2D,null)}a.GetWebGLContext=function(O,$){if(!O)throw"null canvas passed into makeWebGLContext";var X={alpha:f($,"alpha",1),depth:f($,"depth",1),stencil:f($,"stencil",8),antialias:f($,"antialias",0),premultipliedAlpha:f($,"premultipliedAlpha",1),preserveDrawingBuffer:f($,"preserveDrawingBuffer",0),preferLowPowerToHighPerformance:f($,"preferLowPowerToHighPerformance",0),failIfMajorPerformanceCaveat:f($,"failIfMajorPerformanceCaveat",0),enableExtensionsByDefault:f($,"enableExtensionsByDefault",1),explicitSwapControl:f($,"explicitSwapControl",0),renderViaOffscreenBackBuffer:f($,"renderViaOffscreenBackBuffer",0)};if(X.majorVersion=$&&$.majorVersion?$.majorVersion:typeof WebGL2RenderingContext<"u"?2:1,X.explicitSwapControl)throw"explicitSwapControl is not supported";return O=ol(O,X),O?(nu(O),ut.ge.getExtension("WEBGL_debug_renderer_info"),O):0},a.deleteContext=function(O){ut===xr[O]&&(ut=null),typeof JSEvents=="object"&&JSEvents.yg(xr[O].ge.canvas),xr[O]&&xr[O].ge.canvas&&(xr[O].ge.canvas.Af=void 0),xr[O]=null},a._setTextureCleanup({deleteTexture:function(O,$){var X=zn[$];X&&xr[O].ge.deleteTexture(X),zn[$]=null}}),a.MakeWebGLContext=function(O){if(!this.Nd(O))return null;var $=this._MakeGrContext();if(!$)return null;$.Ld=O;var X=$.delete.bind($);return $.delete=(function(){a.Nd(this.Ld),X()}).bind($),ut.gf=$},a.MakeGrContext=a.MakeWebGLContext,a.GrDirectContext.prototype.getResourceCacheLimitBytes=function(){a.Nd(this.Ld),this._getResourceCacheLimitBytes()},a.GrDirectContext.prototype.getResourceCacheUsageBytes=function(){a.Nd(this.Ld),this._getResourceCacheUsageBytes()},a.GrDirectContext.prototype.releaseResourcesAndAbandonContext=function(){a.Nd(this.Ld),this._releaseResourcesAndAbandonContext()},a.GrDirectContext.prototype.setResourceCacheLimitBytes=function(O){a.Nd(this.Ld),this._setResourceCacheLimitBytes(O)},a.MakeOnScreenGLSurface=function(O,$,X,ve,Ce,Ue){return!this.Nd(O.Ld)||($=Ce===void 0||Ue===void 0?this._MakeOnScreenGLSurface(O,$,X,ve):this._MakeOnScreenGLSurface(O,$,X,ve,Ce,Ue),!$)?null:($.Ld=O.Ld,$)},a.MakeRenderTarget=function(){var O=arguments[0];if(!this.Nd(O.Ld))return null;if(arguments.length===3){var $=this._MakeRenderTargetWH(O,arguments[1],arguments[2]);if(!$)return null}else if(arguments.length===2){if($=this._MakeRenderTargetII(O,arguments[1]),!$)return null}else return null;return $.Ld=O.Ld,$},a.MakeWebGLCanvasSurface=function(O,$,X){$=$||null;var ve=O,Ce=typeof OffscreenCanvas<"u"&&ve instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&ve instanceof HTMLCanvasElement||Ce||(ve=document.getElementById(O),ve)))throw"Canvas with id "+O+" was not found";if(O=this.GetWebGLContext(ve,X),!O||0>O)throw"failed to create webgl context: err "+O;return O=this.MakeWebGLContext(O),$=this.MakeOnScreenGLSurface(O,ve.width,ve.height,$),$||($=ve.cloneNode(!0),ve.parentNode.replaceChild($,ve),$.classList.add("ck-replaced"),a.MakeSWCanvasSurface($))},a.MakeCanvasSurface=a.MakeWebGLCanvasSurface,a.Surface.prototype.makeImageFromTexture=function(O,$){return a.Nd(this.Ld),O=m(O),($=this._makeImageFromTexture(this.Ld,O,$))&&($.Me=O),$},a.Surface.prototype.makeImageFromTextureSource=function(O,$,X){$||($={height:w(O),width:A(O),colorType:a.ColorType.RGBA_8888,alphaType:X?a.AlphaType.Premul:a.AlphaType.Unpremul}),$.colorSpace||($.colorSpace=a.ColorSpace.SRGB),a.Nd(this.Ld);var ve=ut.ge;return X=I(ve,ve.createTexture(),$,X),ut.version===2?ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,$.width,$.height,0,ve.RGBA,ve.UNSIGNED_BYTE,O):ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,ve.RGBA,ve.UNSIGNED_BYTE,O),H(ve,$),this._resetContext(),this.makeImageFromTexture(X,$)},a.Surface.prototype.updateTextureFromSource=function(O,$,X){if(O.Me){a.Nd(this.Ld);var ve=O.getImageInfo(),Ce=ut.ge,Ue=I(Ce,zn[O.Me],ve,X);ut.version===2?Ce.texImage2D(Ce.TEXTURE_2D,0,Ce.RGBA,A($),w($),0,Ce.RGBA,Ce.UNSIGNED_BYTE,$):Ce.texImage2D(Ce.TEXTURE_2D,0,Ce.RGBA,Ce.RGBA,Ce.UNSIGNED_BYTE,$),H(Ce,ve,X),this._resetContext(),zn[O.Me]=null,O.Me=m(Ue),ve.colorSpace=O.getColorSpace(),$=this._makeImageFromTexture(this.Ld,O.Me,ve),X=O.Kd.Sd,Ce=O.Kd.Zd,O.Kd.Sd=$.Kd.Sd,O.Kd.Zd=$.Kd.Zd,$.Kd.Sd=X,$.Kd.Zd=Ce,$.delete(),ve.colorSpace.delete()}},a.MakeLazyImageFromTextureSource=function(O,$,X){$||($={height:w(O),width:A(O),colorType:a.ColorType.RGBA_8888,alphaType:X?a.AlphaType.Premul:a.AlphaType.Unpremul}),$.colorSpace||($.colorSpace=a.ColorSpace.SRGB);var ve={makeTexture:function(){var Ce=ut,Ue=Ce.ge,se=I(Ue,Ue.createTexture(),$,X);return Ce.version===2?Ue.texImage2D(Ue.TEXTURE_2D,0,Ue.RGBA,$.width,$.height,0,Ue.RGBA,Ue.UNSIGNED_BYTE,O):Ue.texImage2D(Ue.TEXTURE_2D,0,Ue.RGBA,Ue.RGBA,Ue.UNSIGNED_BYTE,O),H(Ue,$,X),m(se)},freeSrc:function(){}};return O.constructor.name==="VideoFrame"&&(ve.freeSrc=function(){O.close()}),a.Image._makeFromGenerator($,ve)},a.Nd=function(O){return O?nu(O):!1},a.Ue=function(){return ut&&ut.gf&&!ut.gf.isDeleted()?ut.gf:null}})}(n),function(a){function f(y,g,S,P,G){for(var K=0;K<y.length;K++)g[K*S+(K*G+P+S)%S]=y[K];return g}function m(y){for(var g=y*y,S=Array(g);g--;)S[g]=g%(y+1)===0?1:0;return S}function w(y){return y?y.constructor===Float32Array&&y.length===4:!1}function A(y){return(O(255*y[3])<<24|O(255*y[0])<<16|O(255*y[1])<<8|O(255*y[2])<<0)>>>0}function I(y){if(y&&y._ck)return y;if(y instanceof Float32Array){for(var g=Math.floor(y.length/4),S=new Uint32Array(g),P=0;P<g;P++)S[P]=A(y.slice(4*P,4*(P+1)));return S}if(y instanceof Uint32Array)return y;if(y instanceof Array&&y[0]instanceof Float32Array)return y.map(A)}function H(y){if(y===void 0)return 1;var g=parseFloat(y);return y&&y.indexOf("%")!==-1?g/100:g}function O(y){return Math.round(Math.max(0,Math.min(y||0,255)))}function $(y,g){g&&g._ck||a._free(y)}function X(y,g,S){if(!y||!y.length)return lt;if(y&&y._ck)return y.byteOffset;var P=a[g].BYTES_PER_ELEMENT;return S||(S=a._malloc(y.length*P)),a[g].set(y,S/P),S}function ve(y){var g={ce:lt,count:y.length,colorType:a.ColorType.RGBA_F32};if(y instanceof Float32Array)g.ce=X(y,"HEAPF32"),g.count=y.length/4;else if(y instanceof Uint32Array)g.ce=X(y,"HEAPU32"),g.colorType=a.ColorType.RGBA_8888;else if(y instanceof Array){if(y&&y.length){for(var S=a._malloc(16*y.length),P=0,G=S/4,K=0;K<y.length;K++)for(var de=0;4>de;de++)a.HEAPF32[G+P]=y[K][de],P++;y=S}else y=lt;g.ce=y}else throw"Invalid argument to copyFlexibleColorArray, Not a color array "+typeof y;return g}function Ce(y){if(!y)return lt;var g=Qa.toTypedArray();if(y.length){if(y.length===6||y.length===9)return X(y,"HEAPF32",lr),y.length===6&&a.HEAPF32.set(Ot,6+lr/4),lr;if(y.length===16)return g[0]=y[0],g[1]=y[1],g[2]=y[3],g[3]=y[4],g[4]=y[5],g[5]=y[7],g[6]=y[12],g[7]=y[13],g[8]=y[15],lr;throw"invalid matrix size"}if(y.m11===void 0)throw"invalid matrix argument";return g[0]=y.m11,g[1]=y.m21,g[2]=y.m41,g[3]=y.m12,g[4]=y.m22,g[5]=y.m42,g[6]=y.m14,g[7]=y.m24,g[8]=y.m44,lr}function Ue(y){if(!y)return lt;var g=qa.toTypedArray();if(y.length){if(y.length!==16&&y.length!==6&&y.length!==9)throw"invalid matrix size";return y.length===16?X(y,"HEAPF32",uo):(g.fill(0),g[0]=y[0],g[1]=y[1],g[3]=y[2],g[4]=y[3],g[5]=y[4],g[7]=y[5],g[10]=1,g[12]=y[6],g[13]=y[7],g[15]=y[8],y.length===6&&(g[12]=0,g[13]=0,g[15]=1),uo)}if(y.m11===void 0)throw"invalid matrix argument";return g[0]=y.m11,g[1]=y.m21,g[2]=y.m31,g[3]=y.m41,g[4]=y.m12,g[5]=y.m22,g[6]=y.m32,g[7]=y.m42,g[8]=y.m13,g[9]=y.m23,g[10]=y.m33,g[11]=y.m43,g[12]=y.m14,g[13]=y.m24,g[14]=y.m34,g[15]=y.m44,uo}function se(y,g){return X(y,"HEAPF32",g||Nn)}function He(y,g,S,P){var G=Jn.toTypedArray();return G[0]=y,G[1]=g,G[2]=S,G[3]=P,Nn}function tt(y){for(var g=new Float32Array(4),S=0;4>S;S++)g[S]=a.HEAPF32[y/4+S];return g}function rt(y,g){return X(y,"HEAPF32",g||Mt)}function Vn(y,g){return X(y,"HEAPF32",g||nt)}function un(){for(var y=0,g=0;g<arguments.length-1;g+=2)y+=arguments[g]*arguments[g+1];return y}function so(y,g,S){for(var P=Array(y.length),G=0;G<S;G++)for(var K=0;K<S;K++){for(var de=0,Pe=0;Pe<S;Pe++)de+=y[S*G+Pe]*g[S*Pe+K];P[G*S+K]=de}return P}function cr(y,g){for(var S=so(g[0],g[1],y),P=2;P<g.length;)S=so(S,g[P],y),P++;return S}a.Color=function(y,g,S,P){return P===void 0&&(P=1),a.Color4f(O(y)/255,O(g)/255,O(S)/255,P)},a.ColorAsInt=function(y,g,S,P){return P===void 0&&(P=255),(O(P)<<24|O(y)<<16|O(g)<<8|O(S)<<0&268435455)>>>0},a.Color4f=function(y,g,S,P){return P===void 0&&(P=1),Float32Array.of(y,g,S,P)},Object.defineProperty(a,"TRANSPARENT",{get:function(){return a.Color4f(0,0,0,0)}}),Object.defineProperty(a,"BLACK",{get:function(){return a.Color4f(0,0,0,1)}}),Object.defineProperty(a,"WHITE",{get:function(){return a.Color4f(1,1,1,1)}}),Object.defineProperty(a,"RED",{get:function(){return a.Color4f(1,0,0,1)}}),Object.defineProperty(a,"GREEN",{get:function(){return a.Color4f(0,1,0,1)}}),Object.defineProperty(a,"BLUE",{get:function(){return a.Color4f(0,0,1,1)}}),Object.defineProperty(a,"YELLOW",{get:function(){return a.Color4f(1,1,0,1)}}),Object.defineProperty(a,"CYAN",{get:function(){return a.Color4f(0,1,1,1)}}),Object.defineProperty(a,"MAGENTA",{get:function(){return a.Color4f(1,0,1,1)}}),a.getColorComponents=function(y){return[Math.floor(255*y[0]),Math.floor(255*y[1]),Math.floor(255*y[2]),y[3]]},a.parseColorString=function(y,g){if(y=y.toLowerCase(),y.startsWith("#")){switch(g=255,y.length){case 9:g=parseInt(y.slice(7,9),16);case 7:var S=parseInt(y.slice(1,3),16),P=parseInt(y.slice(3,5),16),G=parseInt(y.slice(5,7),16);break;case 5:g=17*parseInt(y.slice(4,5),16);case 4:S=17*parseInt(y.slice(1,2),16),P=17*parseInt(y.slice(2,3),16),G=17*parseInt(y.slice(3,4),16)}return a.Color(S,P,G,g/255)}return y.startsWith("rgba")?(y=y.slice(5,-1),y=y.split(","),a.Color(+y[0],+y[1],+y[2],H(y[3]))):y.startsWith("rgb")?(y=y.slice(4,-1),y=y.split(","),a.Color(+y[0],+y[1],+y[2],H(y[3]))):y.startsWith("gray(")||y.startsWith("hsl")||!g||(y=g[y],y===void 0)?a.BLACK:y},a.multiplyByAlpha=function(y,g){return y=y.slice(),y[3]=Math.max(0,Math.min(y[3]*g,1)),y},a.Malloc=function(y,g){var S=a._malloc(g*y.BYTES_PER_ELEMENT);return{_ck:!0,length:g,byteOffset:S,re:null,subarray:function(P,G){return P=this.toTypedArray().subarray(P,G),P._ck=!0,P},toTypedArray:function(){return this.re&&this.re.length?this.re:(this.re=new y(a.HEAPU8.buffer,S,g),this.re._ck=!0,this.re)}}},a.Free=function(y){a._free(y.byteOffset),y.byteOffset=lt,y.toTypedArray=null,y.re=null};var lr=lt,Qa,uo=lt,qa,Nn=lt,Jn,Tn,Mt=lt,pu,Vr=lt,Ja,co=lt,Mi,Z=lt,pe,fe=lt,Be,nt=lt,Et,rn=lt,Ot=Float32Array.of(0,0,1),lt=0;a.onRuntimeInitialized=function(){function y(g,S,P,G,K,de,Pe){de||(de=4*G.width,G.colorType===a.ColorType.RGBA_F16?de*=2:G.colorType===a.ColorType.RGBA_F32&&(de*=4));var je=de*G.height,Xe=K?K.byteOffset:a._malloc(je);if(Pe?!g._readPixels(G,Xe,de,S,P,Pe):!g._readPixels(G,Xe,de,S,P))return K||a._free(Xe),null;if(K)return K.toTypedArray();switch(G.colorType){case a.ColorType.RGBA_8888:case a.ColorType.RGBA_F16:g=new Uint8Array(a.HEAPU8.buffer,Xe,je).slice();break;case a.ColorType.RGBA_F32:g=new Float32Array(a.HEAPU8.buffer,Xe,je).slice();break;default:return null}return a._free(Xe),g}Jn=a.Malloc(Float32Array,4),Nn=Jn.byteOffset,qa=a.Malloc(Float32Array,16),uo=qa.byteOffset,Qa=a.Malloc(Float32Array,9),lr=Qa.byteOffset,Be=a.Malloc(Float32Array,12),nt=Be.byteOffset,Et=a.Malloc(Float32Array,12),rn=Et.byteOffset,Tn=a.Malloc(Float32Array,4),Mt=Tn.byteOffset,pu=a.Malloc(Float32Array,4),Vr=pu.byteOffset,Ja=a.Malloc(Float32Array,3),co=Ja.byteOffset,Mi=a.Malloc(Float32Array,3),Z=Mi.byteOffset,pe=a.Malloc(Int32Array,4),fe=pe.byteOffset,a.ColorSpace.SRGB=a.ColorSpace._MakeSRGB(),a.ColorSpace.DISPLAY_P3=a.ColorSpace._MakeDisplayP3(),a.ColorSpace.ADOBE_RGB=a.ColorSpace._MakeAdobeRGB(),a.GlyphRunFlags={IsWhiteSpace:a._GlyphRunFlags_isWhiteSpace},a.Path.MakeFromCmds=function(g){var S=X(g,"HEAPF32"),P=a.Path._MakeFromCmds(S,g.length);return $(S,g),P},a.Path.MakeFromVerbsPointsWeights=function(g,S,P){var G=X(g,"HEAPU8"),K=X(S,"HEAPF32"),de=X(P,"HEAPF32"),Pe=a.Path._MakeFromVerbsPointsWeights(G,g.length,K,S.length,de,P&&P.length||0);return $(G,g),$(K,S),$(de,P),Pe},a.Path.prototype.addArc=function(g,S,P){return g=rt(g),this._addArc(g,S,P),this},a.Path.prototype.addCircle=function(g,S,P,G){return this._addCircle(g,S,P,!!G),this},a.Path.prototype.addOval=function(g,S,P){return P===void 0&&(P=1),g=rt(g),this._addOval(g,!!S,P),this},a.Path.prototype.addPath=function(){var g=Array.prototype.slice.call(arguments),S=g[0],P=!1;if(typeof g[g.length-1]=="boolean"&&(P=g.pop()),g.length===1)this._addPath(S,1,0,0,0,1,0,0,0,1,P);else if(g.length===2)g=g[1],this._addPath(S,g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1,P);else if(g.length===7||g.length===10)this._addPath(S,g[1],g[2],g[3],g[4],g[5],g[6],g[7]||0,g[8]||0,g[9]||1,P);else return null;return this},a.Path.prototype.addPoly=function(g,S){var P=X(g,"HEAPF32");return this._addPoly(P,g.length/2,S),$(P,g),this},a.Path.prototype.addRect=function(g,S){return g=rt(g),this._addRect(g,!!S),this},a.Path.prototype.addRRect=function(g,S){return g=Vn(g),this._addRRect(g,!!S),this},a.Path.prototype.addVerbsPointsWeights=function(g,S,P){var G=X(g,"HEAPU8"),K=X(S,"HEAPF32"),de=X(P,"HEAPF32");this._addVerbsPointsWeights(G,g.length,K,S.length,de,P&&P.length||0),$(G,g),$(K,S),$(de,P)},a.Path.prototype.arc=function(g,S,P,G,K,de){return g=a.LTRBRect(g-P,S-P,g+P,S+P),K=(K-G)/Math.PI*180-360*!!de,de=new a.Path,de.addArc(g,G/Math.PI*180,K),this.addPath(de,!0),de.delete(),this},a.Path.prototype.arcToOval=function(g,S,P,G){return g=rt(g),this._arcToOval(g,S,P,G),this},a.Path.prototype.arcToRotated=function(g,S,P,G,K,de,Pe){return this._arcToRotated(g,S,P,!!G,!!K,de,Pe),this},a.Path.prototype.arcToTangent=function(g,S,P,G,K){return this._arcToTangent(g,S,P,G,K),this},a.Path.prototype.close=function(){return this._close(),this},a.Path.prototype.conicTo=function(g,S,P,G,K){return this._conicTo(g,S,P,G,K),this},a.Path.prototype.computeTightBounds=function(g){this._computeTightBounds(Mt);var S=Tn.toTypedArray();return g?(g.set(S),g):S.slice()},a.Path.prototype.cubicTo=function(g,S,P,G,K,de){return this._cubicTo(g,S,P,G,K,de),this},a.Path.prototype.dash=function(g,S,P){return this._dash(g,S,P)?this:null},a.Path.prototype.getBounds=function(g){this._getBounds(Mt);var S=Tn.toTypedArray();return g?(g.set(S),g):S.slice()},a.Path.prototype.lineTo=function(g,S){return this._lineTo(g,S),this},a.Path.prototype.moveTo=function(g,S){return this._moveTo(g,S),this},a.Path.prototype.offset=function(g,S){return this._transform(1,0,g,0,1,S,0,0,1),this},a.Path.prototype.quadTo=function(g,S,P,G){return this._quadTo(g,S,P,G),this},a.Path.prototype.rArcTo=function(g,S,P,G,K,de,Pe){return this._rArcTo(g,S,P,G,K,de,Pe),this},a.Path.prototype.rConicTo=function(g,S,P,G,K){return this._rConicTo(g,S,P,G,K),this},a.Path.prototype.rCubicTo=function(g,S,P,G,K,de){return this._rCubicTo(g,S,P,G,K,de),this},a.Path.prototype.rLineTo=function(g,S){return this._rLineTo(g,S),this},a.Path.prototype.rMoveTo=function(g,S){return this._rMoveTo(g,S),this},a.Path.prototype.rQuadTo=function(g,S,P,G){return this._rQuadTo(g,S,P,G),this},a.Path.prototype.stroke=function(g){return g=g||{},g.width=g.width||1,g.miter_limit=g.miter_limit||4,g.cap=g.cap||a.StrokeCap.Butt,g.join=g.join||a.StrokeJoin.Miter,g.precision=g.precision||1,this._stroke(g)?this:null},a.Path.prototype.transform=function(){if(arguments.length===1){var g=arguments[0];this._transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1)}else if(arguments.length===6||arguments.length===9)g=arguments,this._transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6]||0,g[7]||0,g[8]||1);else throw"transform expected to take 1 or 9 arguments. Got "+arguments.length;return this},a.Path.prototype.trim=function(g,S,P){return this._trim(g,S,!!P)?this:null},a.Image.prototype.encodeToBytes=function(g,S){var P=a.Ue();return g=g||a.ImageFormat.PNG,S=S||100,P?this._encodeToBytes(g,S,P):this._encodeToBytes(g,S)},a.Image.prototype.makeShaderCubic=function(g,S,P,G,K){return K=Ce(K),this._makeShaderCubic(g,S,P,G,K)},a.Image.prototype.makeShaderOptions=function(g,S,P,G,K){return K=Ce(K),this._makeShaderOptions(g,S,P,G,K)},a.Image.prototype.readPixels=function(g,S,P,G,K){var de=a.Ue();return y(this,g,S,P,G,K,de)},a.Canvas.prototype.clear=function(g){a.Nd(this.Ld),g=se(g),this._clear(g)},a.Canvas.prototype.clipRRect=function(g,S,P){a.Nd(this.Ld),g=Vn(g),this._clipRRect(g,S,P)},a.Canvas.prototype.clipRect=function(g,S,P){a.Nd(this.Ld),g=rt(g),this._clipRect(g,S,P)},a.Canvas.prototype.concat=function(g){a.Nd(this.Ld),g=Ue(g),this._concat(g)},a.Canvas.prototype.drawArc=function(g,S,P,G,K){a.Nd(this.Ld),g=rt(g),this._drawArc(g,S,P,G,K)},a.Canvas.prototype.drawAtlas=function(g,S,P,G,K,de,Pe){if(g&&G&&S&&P&&S.length===P.length){a.Nd(this.Ld),K||(K=a.BlendMode.SrcOver);var je=X(S,"HEAPF32"),Xe=X(P,"HEAPF32"),pt=P.length/4,dt=X(I(de),"HEAPU32");if(Pe&&"B"in Pe&&"C"in Pe)this._drawAtlasCubic(g,Xe,je,dt,pt,K,Pe.B,Pe.C,G);else{let D=a.FilterMode.Linear,ye=a.MipmapMode.None;Pe&&(D=Pe.filter,"mipmap"in Pe&&(ye=Pe.mipmap)),this._drawAtlasOptions(g,Xe,je,dt,pt,K,D,ye,G)}$(je,S),$(Xe,P),$(dt,de)}},a.Canvas.prototype.drawCircle=function(g,S,P,G){a.Nd(this.Ld),this._drawCircle(g,S,P,G)},a.Canvas.prototype.drawColor=function(g,S){a.Nd(this.Ld),g=se(g),S!==void 0?this._drawColor(g,S):this._drawColor(g)},a.Canvas.prototype.drawColorInt=function(g,S){a.Nd(this.Ld),this._drawColorInt(g,S||a.BlendMode.SrcOver)},a.Canvas.prototype.drawColorComponents=function(g,S,P,G,K){a.Nd(this.Ld),g=He(g,S,P,G),K!==void 0?this._drawColor(g,K):this._drawColor(g)},a.Canvas.prototype.drawDRRect=function(g,S,P){a.Nd(this.Ld),g=Vn(g,nt),S=Vn(S,rn),this._drawDRRect(g,S,P)},a.Canvas.prototype.drawImage=function(g,S,P,G){a.Nd(this.Ld),this._drawImage(g,S,P,G||null)},a.Canvas.prototype.drawImageCubic=function(g,S,P,G,K,de){a.Nd(this.Ld),this._drawImageCubic(g,S,P,G,K,de||null)},a.Canvas.prototype.drawImageOptions=function(g,S,P,G,K,de){a.Nd(this.Ld),this._drawImageOptions(g,S,P,G,K,de||null)},a.Canvas.prototype.drawImageNine=function(g,S,P,G,K){a.Nd(this.Ld),S=X(S,"HEAP32",fe),P=rt(P),this._drawImageNine(g,S,P,G,K||null)},a.Canvas.prototype.drawImageRect=function(g,S,P,G,K){a.Nd(this.Ld),rt(S,Mt),rt(P,Vr),this._drawImageRect(g,Mt,Vr,G,!!K)},a.Canvas.prototype.drawImageRectCubic=function(g,S,P,G,K,de){a.Nd(this.Ld),rt(S,Mt),rt(P,Vr),this._drawImageRectCubic(g,Mt,Vr,G,K,de||null)},a.Canvas.prototype.drawImageRectOptions=function(g,S,P,G,K,de){a.Nd(this.Ld),rt(S,Mt),rt(P,Vr),this._drawImageRectOptions(g,Mt,Vr,G,K,de||null)},a.Canvas.prototype.drawLine=function(g,S,P,G,K){a.Nd(this.Ld),this._drawLine(g,S,P,G,K)},a.Canvas.prototype.drawOval=function(g,S){a.Nd(this.Ld),g=rt(g),this._drawOval(g,S)},a.Canvas.prototype.drawPaint=function(g){a.Nd(this.Ld),this._drawPaint(g)},a.Canvas.prototype.drawParagraph=function(g,S,P){a.Nd(this.Ld),this._drawParagraph(g,S,P)},a.Canvas.prototype.drawPatch=function(g,S,P,G,K){if(24>g.length)throw"Need 12 cubic points";if(S&&4>S.length)throw"Need 4 colors";if(P&&8>P.length)throw"Need 4 shader coordinates";a.Nd(this.Ld);const de=X(g,"HEAPF32"),Pe=S?X(I(S),"HEAPU32"):lt,je=P?X(P,"HEAPF32"):lt;G||(G=a.BlendMode.Modulate),this._drawPatch(de,Pe,je,G,K),$(je,P),$(Pe,S),$(de,g)},a.Canvas.prototype.drawPath=function(g,S){a.Nd(this.Ld),this._drawPath(g,S)},a.Canvas.prototype.drawPicture=function(g){a.Nd(this.Ld),this._drawPicture(g)},a.Canvas.prototype.drawPoints=function(g,S,P){a.Nd(this.Ld);var G=X(S,"HEAPF32");this._drawPoints(g,G,S.length/2,P),$(G,S)},a.Canvas.prototype.drawRRect=function(g,S){a.Nd(this.Ld),g=Vn(g),this._drawRRect(g,S)},a.Canvas.prototype.drawRect=function(g,S){a.Nd(this.Ld),g=rt(g),this._drawRect(g,S)},a.Canvas.prototype.drawRect4f=function(g,S,P,G,K){a.Nd(this.Ld),this._drawRect4f(g,S,P,G,K)},a.Canvas.prototype.drawShadow=function(g,S,P,G,K,de,Pe){a.Nd(this.Ld);var je=X(K,"HEAPF32"),Xe=X(de,"HEAPF32");S=X(S,"HEAPF32",co),P=X(P,"HEAPF32",Z),this._drawShadow(g,S,P,G,je,Xe,Pe),$(je,K),$(Xe,de)},a.getShadowLocalBounds=function(g,S,P,G,K,de,Pe){return g=Ce(g),P=X(P,"HEAPF32",co),G=X(G,"HEAPF32",Z),this._getShadowLocalBounds(g,S,P,G,K,de,Mt)?(S=Tn.toTypedArray(),Pe?(Pe.set(S),Pe):S.slice()):null},a.Canvas.prototype.drawTextBlob=function(g,S,P,G){a.Nd(this.Ld),this._drawTextBlob(g,S,P,G)},a.Canvas.prototype.drawVertices=function(g,S,P){a.Nd(this.Ld),this._drawVertices(g,S,P)},a.Canvas.prototype.getDeviceClipBounds=function(g){this._getDeviceClipBounds(fe);var S=pe.toTypedArray();return g?g.set(S):g=S.slice(),g},a.Canvas.prototype.getLocalToDevice=function(){this._getLocalToDevice(uo);for(var g=uo,S=Array(16),P=0;16>P;P++)S[P]=a.HEAPF32[g/4+P];return S},a.Canvas.prototype.getTotalMatrix=function(){this._getTotalMatrix(lr);for(var g=Array(9),S=0;9>S;S++)g[S]=a.HEAPF32[lr/4+S];return g},a.Canvas.prototype.makeSurface=function(g){return g=this._makeSurface(g),g.Ld=this.Ld,g},a.Canvas.prototype.readPixels=function(g,S,P,G,K){return a.Nd(this.Ld),y(this,g,S,P,G,K)},a.Canvas.prototype.saveLayer=function(g,S,P,G){return S=rt(S),this._saveLayer(g||null,S,P||null,G||0)},a.Canvas.prototype.writePixels=function(g,S,P,G,K,de,Pe,je){if(g.byteLength%(S*P))throw"pixels length must be a multiple of the srcWidth * srcHeight";a.Nd(this.Ld);var Xe=g.byteLength/(S*P);de=de||a.AlphaType.Unpremul,Pe=Pe||a.ColorType.RGBA_8888,je=je||a.ColorSpace.SRGB;var pt=Xe*S;return Xe=X(g,"HEAPU8"),S=this._writePixels({width:S,height:P,colorType:Pe,alphaType:de,colorSpace:je},Xe,pt,G,K),$(Xe,g),S},a.ColorFilter.MakeBlend=function(g,S,P){return g=se(g),P=P||a.ColorSpace.SRGB,a.ColorFilter._MakeBlend(g,S,P)},a.ColorFilter.MakeMatrix=function(g){if(!g||g.length!==20)throw"invalid color matrix";var S=X(g,"HEAPF32"),P=a.ColorFilter._makeMatrix(S);return $(S,g),P},a.ContourMeasure.prototype.getPosTan=function(g,S){return this._getPosTan(g,Mt),g=Tn.toTypedArray(),S?(S.set(g),S):g.slice()},a.ImageFilter.prototype.getOutputBounds=function(g,S,P){return g=rt(g,Mt),S=Ce(S),this._getOutputBounds(g,S,fe),S=pe.toTypedArray(),P?(P.set(S),P):S.slice()},a.ImageFilter.MakeDropShadow=function(g,S,P,G,K,de){return K=se(K,Nn),a.ImageFilter._MakeDropShadow(g,S,P,G,K,de)},a.ImageFilter.MakeDropShadowOnly=function(g,S,P,G,K,de){return K=se(K,Nn),a.ImageFilter._MakeDropShadowOnly(g,S,P,G,K,de)},a.ImageFilter.MakeImage=function(g,S,P,G){if(P=rt(P,Mt),G=rt(G,Vr),"B"in S&&"C"in S)return a.ImageFilter._MakeImageCubic(g,S.B,S.C,P,G);const K=S.filter;let de=a.MipmapMode.None;return"mipmap"in S&&(de=S.mipmap),a.ImageFilter._MakeImageOptions(g,K,de,P,G)},a.ImageFilter.MakeMatrixTransform=function(g,S,P){if(g=Ce(g),"B"in S&&"C"in S)return a.ImageFilter._MakeMatrixTransformCubic(g,S.B,S.C,P);const G=S.filter;let K=a.MipmapMode.None;return"mipmap"in S&&(K=S.mipmap),a.ImageFilter._MakeMatrixTransformOptions(g,G,K,P)},a.Paint.prototype.getColor=function(){return this._getColor(Nn),tt(Nn)},a.Paint.prototype.setColor=function(g,S){S=S||null,g=se(g),this._setColor(g,S)},a.Paint.prototype.setColorComponents=function(g,S,P,G,K){K=K||null,g=He(g,S,P,G),this._setColor(g,K)},a.Path.prototype.getPoint=function(g,S){return this._getPoint(g,Mt),g=Tn.toTypedArray(),S?(S[0]=g[0],S[1]=g[1],S):g.slice(0,2)},a.Picture.prototype.makeShader=function(g,S,P,G,K){return G=Ce(G),K=rt(K),this._makeShader(g,S,P,G,K)},a.Picture.prototype.cullRect=function(g){this._cullRect(Mt);var S=Tn.toTypedArray();return g?(g.set(S),g):S.slice()},a.PictureRecorder.prototype.beginRecording=function(g,S){return g=rt(g),this._beginRecording(g,!!S)},a.Surface.prototype.getCanvas=function(){var g=this._getCanvas();return g.Ld=this.Ld,g},a.Surface.prototype.makeImageSnapshot=function(g){return a.Nd(this.Ld),g=X(g,"HEAP32",fe),this._makeImageSnapshot(g)},a.Surface.prototype.makeSurface=function(g){return a.Nd(this.Ld),g=this._makeSurface(g),g.Ld=this.Ld,g},a.Surface.prototype.Hf=function(g,S){return this.Ie||(this.Ie=this.getCanvas()),requestAnimationFrame((function(){a.Nd(this.Ld),g(this.Ie),this.flush(S)}).bind(this))},a.Surface.prototype.requestAnimationFrame||(a.Surface.prototype.requestAnimationFrame=a.Surface.prototype.Hf),a.Surface.prototype.Df=function(g,S){this.Ie||(this.Ie=this.getCanvas()),requestAnimationFrame((function(){a.Nd(this.Ld),g(this.Ie),this.flush(S),this.dispose()}).bind(this))},a.Surface.prototype.drawOnce||(a.Surface.prototype.drawOnce=a.Surface.prototype.Df),a.PathEffect.MakeDash=function(g,S){if(S||(S=0),!g.length||g.length%2===1)throw"Intervals array must have even length";var P=X(g,"HEAPF32");return S=a.PathEffect._MakeDash(P,g.length,S),$(P,g),S},a.PathEffect.MakeLine2D=function(g,S){return S=Ce(S),a.PathEffect._MakeLine2D(g,S)},a.PathEffect.MakePath2D=function(g,S){return g=Ce(g),a.PathEffect._MakePath2D(g,S)},a.Shader.MakeColor=function(g,S){return S=S||null,g=se(g),a.Shader._MakeColor(g,S)},a.Shader.Blend=a.Shader.MakeBlend,a.Shader.Color=a.Shader.MakeColor,a.Shader.MakeLinearGradient=function(g,S,P,G,K,de,Pe,je){je=je||null;var Xe=ve(P),pt=X(G,"HEAPF32");Pe=Pe||0,de=Ce(de);var dt=Tn.toTypedArray();return dt.set(g),dt.set(S,2),g=a.Shader._MakeLinearGradient(Mt,Xe.ce,Xe.colorType,pt,Xe.count,K,Pe,de,je),$(Xe.ce,P),G&&$(pt,G),g},a.Shader.MakeRadialGradient=function(g,S,P,G,K,de,Pe,je){je=je||null;var Xe=ve(P),pt=X(G,"HEAPF32");return Pe=Pe||0,de=Ce(de),g=a.Shader._MakeRadialGradient(g[0],g[1],S,Xe.ce,Xe.colorType,pt,Xe.count,K,Pe,de,je),$(Xe.ce,P),G&&$(pt,G),g},a.Shader.MakeSweepGradient=function(g,S,P,G,K,de,Pe,je,Xe,pt){pt=pt||null;var dt=ve(P),D=X(G,"HEAPF32");return Pe=Pe||0,je=je||0,Xe=Xe||360,de=Ce(de),g=a.Shader._MakeSweepGradient(g,S,dt.ce,dt.colorType,D,dt.count,K,je,Xe,Pe,de,pt),$(dt.ce,P),G&&$(D,G),g},a.Shader.MakeTwoPointConicalGradient=function(g,S,P,G,K,de,Pe,je,Xe,pt){pt=pt||null;var dt=ve(K),D=X(de,"HEAPF32");Xe=Xe||0,je=Ce(je);var ye=Tn.toTypedArray();return ye.set(g),ye.set(P,2),g=a.Shader._MakeTwoPointConicalGradient(Mt,S,G,dt.ce,dt.colorType,D,dt.count,Pe,Xe,je,pt),$(dt.ce,K),de&&$(D,de),g},a.Vertices.prototype.bounds=function(g){this._bounds(Mt);var S=Tn.toTypedArray();return g?(g.set(S),g):S.slice()},a.Td&&a.Td.forEach(function(g){g()})},a.computeTonalColors=function(y){var g=X(y.ambient,"HEAPF32"),S=X(y.spot,"HEAPF32");this._computeTonalColors(g,S);var P={ambient:tt(g),spot:tt(S)};return $(g,y.ambient),$(S,y.spot),P},a.LTRBRect=function(y,g,S,P){return Float32Array.of(y,g,S,P)},a.XYWHRect=function(y,g,S,P){return Float32Array.of(y,g,y+S,g+P)},a.LTRBiRect=function(y,g,S,P){return Int32Array.of(y,g,S,P)},a.XYWHiRect=function(y,g,S,P){return Int32Array.of(y,g,y+S,g+P)},a.RRectXY=function(y,g,S){return Float32Array.of(y[0],y[1],y[2],y[3],g,S,g,S,g,S,g,S)},a.MakeAnimatedImageFromEncoded=function(y){y=new Uint8Array(y);var g=a._malloc(y.byteLength);return a.HEAPU8.set(y,g),(y=a._decodeAnimatedImage(g,y.byteLength))?y:null},a.MakeImageFromEncoded=function(y){y=new Uint8Array(y);var g=a._malloc(y.byteLength);return a.HEAPU8.set(y,g),(y=a._decodeImage(g,y.byteLength))?y:null};var Io=null;a.MakeImageFromCanvasImageSource=function(y){var g=y.width,S=y.height;Io||(Io=document.createElement("canvas")),Io.width=g,Io.height=S;var P=Io.getContext("2d",{willReadFrequently:!0});return P.drawImage(y,0,0),y=P.getImageData(0,0,g,S),a.MakeImage({width:g,height:S,alphaType:a.AlphaType.Unpremul,colorType:a.ColorType.RGBA_8888,colorSpace:a.ColorSpace.SRGB},y.data,4*g)},a.MakeImage=function(y,g,S){var P=a._malloc(g.length);return a.HEAPU8.set(g,P),a._MakeImage(y,P,g.length,S)},a.MakeVertices=function(y,g,S,P,G,K){var de=G&&G.length||0,Pe=0;return S&&S.length&&(Pe|=1),P&&P.length&&(Pe|=2),K===void 0||K||(Pe|=4),y=new a._VerticesBuilder(y,g.length/2,de,Pe),X(g,"HEAPF32",y.positions()),y.texCoords()&&X(S,"HEAPF32",y.texCoords()),y.colors()&&X(I(P),"HEAPU32",y.colors()),y.indices()&&X(G,"HEAPU16",y.indices()),y.detach()},a.Matrix={},a.Matrix.identity=function(){return m(3)},a.Matrix.invert=function(y){var g=y[0]*y[4]*y[8]+y[1]*y[5]*y[6]+y[2]*y[3]*y[7]-y[2]*y[4]*y[6]-y[1]*y[3]*y[8]-y[0]*y[5]*y[7];return g?[(y[4]*y[8]-y[5]*y[7])/g,(y[2]*y[7]-y[1]*y[8])/g,(y[1]*y[5]-y[2]*y[4])/g,(y[5]*y[6]-y[3]*y[8])/g,(y[0]*y[8]-y[2]*y[6])/g,(y[2]*y[3]-y[0]*y[5])/g,(y[3]*y[7]-y[4]*y[6])/g,(y[1]*y[6]-y[0]*y[7])/g,(y[0]*y[4]-y[1]*y[3])/g]:null},a.Matrix.mapPoints=function(y,g){for(var S=0;S<g.length;S+=2){var P=g[S],G=g[S+1],K=y[6]*P+y[7]*G+y[8],de=y[3]*P+y[4]*G+y[5];g[S]=(y[0]*P+y[1]*G+y[2])/K,g[S+1]=de/K}return g},a.Matrix.multiply=function(){return cr(3,arguments)},a.Matrix.rotated=function(y,g,S){g=g||0,S=S||0;var P=Math.sin(y);return y=Math.cos(y),[y,-P,un(P,S,1-y,g),P,y,un(-P,g,1-y,S),0,0,1]},a.Matrix.scaled=function(y,g,S,P){S=S||0,P=P||0;var G=f([y,g],m(3),3,0,1);return f([S-y*S,P-g*P],G,3,2,0)},a.Matrix.skewed=function(y,g,S,P){S=S||0,P=P||0;var G=f([y,g],m(3),3,1,-1);return f([-y*S,-g*P],G,3,2,0)},a.Matrix.translated=function(y,g){return f(arguments,m(3),3,2,0)},a.Vector={},a.Vector.dot=function(y,g){return y.map(function(S,P){return S*g[P]}).reduce(function(S,P){return S+P})},a.Vector.lengthSquared=function(y){return a.Vector.dot(y,y)},a.Vector.length=function(y){return Math.sqrt(a.Vector.lengthSquared(y))},a.Vector.mulScalar=function(y,g){return y.map(function(S){return S*g})},a.Vector.add=function(y,g){return y.map(function(S,P){return S+g[P]})},a.Vector.sub=function(y,g){return y.map(function(S,P){return S-g[P]})},a.Vector.dist=function(y,g){return a.Vector.length(a.Vector.sub(y,g))},a.Vector.normalize=function(y){return a.Vector.mulScalar(y,1/a.Vector.length(y))},a.Vector.cross=function(y,g){return[y[1]*g[2]-y[2]*g[1],y[2]*g[0]-y[0]*g[2],y[0]*g[1]-y[1]*g[0]]},a.M44={},a.M44.identity=function(){return m(4)},a.M44.translated=function(y){return f(y,m(4),4,3,0)},a.M44.scaled=function(y){return f(y,m(4),4,0,1)},a.M44.rotated=function(y,g){return a.M44.rotatedUnitSinCos(a.Vector.normalize(y),Math.sin(g),Math.cos(g))},a.M44.rotatedUnitSinCos=function(y,g,S){var P=y[0],G=y[1];y=y[2];var K=1-S;return[K*P*P+S,K*P*G-g*y,K*P*y+g*G,0,K*P*G+g*y,K*G*G+S,K*G*y-g*P,0,K*P*y-g*G,K*G*y+g*P,K*y*y+S,0,0,0,0,1]},a.M44.lookat=function(y,g,S){g=a.Vector.normalize(a.Vector.sub(g,y)),S=a.Vector.normalize(S),S=a.Vector.normalize(a.Vector.cross(g,S));var P=a.M44.identity();return f(S,P,4,0,0),f(a.Vector.cross(S,g),P,4,1,0),f(a.Vector.mulScalar(g,-1),P,4,2,0),f(y,P,4,3,0),y=a.M44.invert(P),y===null?a.M44.identity():y},a.M44.perspective=function(y,g,S){var P=1/(g-y);return S/=2,S=Math.cos(S)/Math.sin(S),[S,0,0,0,0,S,0,0,0,0,(g+y)*P,2*g*y*P,0,0,-1,1]},a.M44.rc=function(y,g,S){return y[4*g+S]},a.M44.multiply=function(){return cr(4,arguments)},a.M44.invert=function(y){var g=y[0],S=y[4],P=y[8],G=y[12],K=y[1],de=y[5],Pe=y[9],je=y[13],Xe=y[2],pt=y[6],dt=y[10],D=y[14],ye=y[3],st=y[7],Tt=y[11];y=y[15];var Qt=g*de-S*K,Zn=g*Pe-P*K,er=g*je-G*K,cn=S*Pe-P*de,Ee=S*je-G*de,C=P*je-G*Pe,B=Xe*st-pt*ye,ce=Xe*Tt-dt*ye,he=Xe*y-D*ye,xe=pt*Tt-dt*st,Te=pt*y-D*st,Ge=dt*y-D*Tt,Lt=Qt*Ge-Zn*Te+er*xe+cn*he-Ee*ce+C*B,It=1/Lt;return Lt===0||It===1/0?null:(Qt*=It,Zn*=It,er*=It,cn*=It,Ee*=It,C*=It,B*=It,ce*=It,he*=It,xe*=It,Te*=It,Ge*=It,g=[de*Ge-Pe*Te+je*xe,Pe*he-K*Ge-je*ce,K*Te-de*he+je*B,de*ce-K*xe-Pe*B,P*Te-S*Ge-G*xe,g*Ge-P*he+G*ce,S*he-g*Te-G*B,g*xe-S*ce+P*B,st*C-Tt*Ee+y*cn,Tt*er-ye*C-y*Zn,ye*Ee-st*er+y*Qt,st*Zn-ye*cn-Tt*Qt,dt*Ee-pt*C-D*cn,Xe*C-dt*er+D*Zn,pt*er-Xe*Ee-D*Qt,Xe*cn-pt*Zn+dt*Qt],g.every(function(Tr){return!isNaN(Tr)&&Tr!==1/0&&Tr!==-1/0})?g:null)},a.M44.transpose=function(y){return[y[0],y[4],y[8],y[12],y[1],y[5],y[9],y[13],y[2],y[6],y[10],y[14],y[3],y[7],y[11],y[15]]},a.M44.mustInvert=function(y){if(y=a.M44.invert(y),y===null)throw"Matrix not invertible";return y},a.M44.setupCamera=function(y,g,S){var P=a.M44.lookat(S.eye,S.coa,S.up);return S=a.M44.perspective(S.near,S.far,S.angle),g=[(y[2]-y[0])/2,(y[3]-y[1])/2,g],y=a.M44.multiply(a.M44.translated([(y[0]+y[2])/2,(y[1]+y[3])/2,0]),a.M44.scaled(g)),a.M44.multiply(y,S,P,a.M44.mustInvert(y))},a.ColorMatrix={},a.ColorMatrix.identity=function(){var y=new Float32Array(20);return y[0]=1,y[6]=1,y[12]=1,y[18]=1,y},a.ColorMatrix.scaled=function(y,g,S,P){var G=new Float32Array(20);return G[0]=y,G[6]=g,G[12]=S,G[18]=P,G};var fr=[[6,7,11,12],[0,10,2,12],[0,1,5,6]];a.ColorMatrix.rotated=function(y,g,S){var P=a.ColorMatrix.identity();return y=fr[y],P[y[0]]=S,P[y[1]]=g,P[y[2]]=-g,P[y[3]]=S,P},a.ColorMatrix.postTranslate=function(y,g,S,P,G){return y[4]+=g,y[9]+=S,y[14]+=P,y[19]+=G,y},a.ColorMatrix.concat=function(y,g){for(var S=new Float32Array(20),P=0,G=0;20>G;G+=5){for(var K=0;4>K;K++)S[P++]=y[G]*g[K]+y[G+1]*g[K+5]+y[G+2]*g[K+10]+y[G+3]*g[K+15];S[P++]=y[G]*g[4]+y[G+1]*g[9]+y[G+2]*g[14]+y[G+3]*g[19]+y[G+4]}return S},function(y){y.Td=y.Td||[],y.Td.push(function(){function g(D){return D&&(D.dir=D.dir===0?y.TextDirection.RTL:y.TextDirection.LTR),D}function S(D){if(!D||!D.length)return[];for(var ye=[],st=0;st<D.length;st+=5){var Tt=y.LTRBRect(D[st],D[st+1],D[st+2],D[st+3]),Qt=y.TextDirection.LTR;D[st+4]===0&&(Qt=y.TextDirection.RTL),ye.push({rect:Tt,dir:Qt})}return y._free(D.byteOffset),ye}function P(D){return D=D||{},D.weight===void 0&&(D.weight=y.FontWeight.Normal),D.width=D.width||y.FontWidth.Normal,D.slant=D.slant||y.FontSlant.Upright,D}function G(D){if(!D||!D.length)return lt;for(var ye=[],st=0;st<D.length;st++){var Tt=K(D[st]);ye.push(Tt)}return X(ye,"HEAPU32")}function K(D){if(je[D])return je[D];var ye=sr(D)+1,st=y._malloc(ye);return On(D,te,st,ye),je[D]=st}function de(D){if(D._colorPtr=se(D.color),D._foregroundColorPtr=lt,D._backgroundColorPtr=lt,D._decorationColorPtr=lt,D.foregroundColor&&(D._foregroundColorPtr=se(D.foregroundColor,Xe)),D.backgroundColor&&(D._backgroundColorPtr=se(D.backgroundColor,pt)),D.decorationColor&&(D._decorationColorPtr=se(D.decorationColor,dt)),Array.isArray(D.fontFamilies)&&D.fontFamilies.length?(D._fontFamiliesPtr=G(D.fontFamilies),D._fontFamiliesLen=D.fontFamilies.length):(D._fontFamiliesPtr=lt,D._fontFamiliesLen=0),D.locale){var ye=D.locale;D._localePtr=K(ye),D._localeLen=sr(ye)+1}else D._localePtr=lt,D._localeLen=0;if(Array.isArray(D.shadows)&&D.shadows.length){ye=D.shadows;var st=ye.map(function(Ee){return Ee.color||y.BLACK}),Tt=ye.map(function(Ee){return Ee.blurRadius||0});D._shadowLen=ye.length;for(var Qt=y._malloc(8*ye.length),Zn=Qt/4,er=0;er<ye.length;er++){var cn=ye[er].offset||[0,0];y.HEAPF32[Zn]=cn[0],y.HEAPF32[Zn+1]=cn[1],Zn+=2}D._shadowColorsPtr=ve(st).ce,D._shadowOffsetsPtr=Qt,D._shadowBlurRadiiPtr=X(Tt,"HEAPF32")}else D._shadowLen=0,D._shadowColorsPtr=lt,D._shadowOffsetsPtr=lt,D._shadowBlurRadiiPtr=lt;Array.isArray(D.fontFeatures)&&D.fontFeatures.length?(ye=D.fontFeatures,st=ye.map(function(Ee){return Ee.name}),Tt=ye.map(function(Ee){return Ee.value}),D._fontFeatureLen=ye.length,D._fontFeatureNamesPtr=G(st),D._fontFeatureValuesPtr=X(Tt,"HEAPU32")):(D._fontFeatureLen=0,D._fontFeatureNamesPtr=lt,D._fontFeatureValuesPtr=lt),Array.isArray(D.fontVariations)&&D.fontVariations.length?(ye=D.fontVariations,st=ye.map(function(Ee){return Ee.axis}),Tt=ye.map(function(Ee){return Ee.value}),D._fontVariationLen=ye.length,D._fontVariationAxesPtr=G(st),D._fontVariationValuesPtr=X(Tt,"HEAPF32")):(D._fontVariationLen=0,D._fontVariationAxesPtr=lt,D._fontVariationValuesPtr=lt)}function Pe(D){y._free(D._fontFamiliesPtr),y._free(D._shadowColorsPtr),y._free(D._shadowOffsetsPtr),y._free(D._shadowBlurRadiiPtr),y._free(D._fontFeatureNamesPtr),y._free(D._fontFeatureValuesPtr),y._free(D._fontVariationAxesPtr),y._free(D._fontVariationValuesPtr)}y.Paragraph.prototype.getRectsForRange=function(D,ye,st,Tt){return D=this._getRectsForRange(D,ye,st,Tt),S(D)},y.Paragraph.prototype.getRectsForPlaceholders=function(){var D=this._getRectsForPlaceholders();return S(D)},y.Paragraph.prototype.getGlyphInfoAt=function(D){return g(this._getGlyphInfoAt(D))},y.Paragraph.prototype.getClosestGlyphInfoAtCoordinate=function(D,ye){return g(this._getClosestGlyphInfoAtCoordinate(D,ye))},y.TypefaceFontProvider.prototype.registerFont=function(D,ye){if(D=y.Typeface.MakeFreeTypeFaceFromData(D),!D)return null;ye=K(ye),this._registerFont(D,ye)},y.ParagraphStyle=function(D){if(D.disableHinting=D.disableHinting||!1,D.ellipsis){var ye=D.ellipsis;D._ellipsisPtr=K(ye),D._ellipsisLen=sr(ye)+1}else D._ellipsisPtr=lt,D._ellipsisLen=0;return D.heightMultiplier==null&&(D.heightMultiplier=-1),D.maxLines=D.maxLines||0,D.replaceTabCharacters=D.replaceTabCharacters||!1,ye=(ye=D.strutStyle)||{},ye.strutEnabled=ye.strutEnabled||!1,ye.strutEnabled&&Array.isArray(ye.fontFamilies)&&ye.fontFamilies.length?(ye._fontFamiliesPtr=G(ye.fontFamilies),ye._fontFamiliesLen=ye.fontFamilies.length):(ye._fontFamiliesPtr=lt,ye._fontFamiliesLen=0),ye.fontStyle=P(ye.fontStyle),ye.fontSize==null&&(ye.fontSize=-1),ye.heightMultiplier==null&&(ye.heightMultiplier=-1),ye.halfLeading=ye.halfLeading||!1,ye.leading=ye.leading||0,ye.forceStrutHeight=ye.forceStrutHeight||!1,D.strutStyle=ye,D.textAlign=D.textAlign||y.TextAlign.Start,D.textDirection=D.textDirection||y.TextDirection.LTR,D.textHeightBehavior=D.textHeightBehavior||y.TextHeightBehavior.All,D.textStyle=y.TextStyle(D.textStyle),D.applyRoundingHack=D.applyRoundingHack!==!1,D},y.TextStyle=function(D){return D.color||(D.color=y.BLACK),D.decoration=D.decoration||0,D.decorationThickness=D.decorationThickness||0,D.decorationStyle=D.decorationStyle||y.DecorationStyle.Solid,D.textBaseline=D.textBaseline||y.TextBaseline.Alphabetic,D.fontSize==null&&(D.fontSize=-1),D.letterSpacing=D.letterSpacing||0,D.wordSpacing=D.wordSpacing||0,D.heightMultiplier==null&&(D.heightMultiplier=-1),D.halfLeading=D.halfLeading||!1,D.fontStyle=P(D.fontStyle),D};var je={},Xe=y._malloc(16),pt=y._malloc(16),dt=y._malloc(16);y.ParagraphBuilder.Make=function(D,ye){return de(D.textStyle),ye=y.ParagraphBuilder._Make(D,ye),Pe(D.textStyle),ye},y.ParagraphBuilder.MakeFromFontProvider=function(D,ye){return de(D.textStyle),ye=y.ParagraphBuilder._MakeFromFontProvider(D,ye),Pe(D.textStyle),ye},y.ParagraphBuilder.MakeFromFontCollection=function(D,ye){return de(D.textStyle),ye=y.ParagraphBuilder._MakeFromFontCollection(D,ye),Pe(D.textStyle),ye},y.ParagraphBuilder.ShapeText=function(D,ye,st){let Tt=0;for(const Qt of ye)Tt+=Qt.length;if(Tt!==D.length)throw"Accumulated block lengths must equal text.length";return y.ParagraphBuilder._ShapeText(D,ye,st)},y.ParagraphBuilder.prototype.pushStyle=function(D){de(D),this._pushStyle(D),Pe(D)},y.ParagraphBuilder.prototype.pushPaintStyle=function(D,ye,st){de(D),this._pushPaintStyle(D,ye,st),Pe(D)},y.ParagraphBuilder.prototype.addPlaceholder=function(D,ye,st,Tt,Qt){st=st||y.PlaceholderAlignment.Baseline,Tt=Tt||y.TextBaseline.Alphabetic,this._addPlaceholder(D||0,ye||0,st,Tt,Qt||0)},y.ParagraphBuilder.prototype.setWordsUtf8=function(D){var ye=X(D,"HEAPU32");this._setWordsUtf8(ye,D&&D.length||0),$(ye,D)},y.ParagraphBuilder.prototype.setWordsUtf16=function(D){var ye=X(D,"HEAPU32");this._setWordsUtf16(ye,D&&D.length||0),$(ye,D)},y.ParagraphBuilder.prototype.setGraphemeBreaksUtf8=function(D){var ye=X(D,"HEAPU32");this._setGraphemeBreaksUtf8(ye,D&&D.length||0),$(ye,D)},y.ParagraphBuilder.prototype.setGraphemeBreaksUtf16=function(D){var ye=X(D,"HEAPU32");this._setGraphemeBreaksUtf16(ye,D&&D.length||0),$(ye,D)},y.ParagraphBuilder.prototype.setLineBreaksUtf8=function(D){var ye=X(D,"HEAPU32");this._setLineBreaksUtf8(ye,D&&D.length||0),$(ye,D)},y.ParagraphBuilder.prototype.setLineBreaksUtf16=function(D){var ye=X(D,"HEAPU32");this._setLineBreaksUtf16(ye,D&&D.length||0),$(ye,D)}})}(n),a.MakeManagedAnimation=function(y,g,S,P,G){if(!a._MakeManagedAnimation)throw"Not compiled with MakeManagedAnimation";if(S||(S=""),!g)return a._MakeManagedAnimation(y,0,lt,lt,lt,S,P,G);for(var K=[],de=[],Pe=[],je=Object.keys(g||{}),Xe=0;Xe<je.length;Xe++){var pt=je[Xe],dt=new Uint8Array(g[pt]),D=a._malloc(dt.byteLength);a.HEAPU8.set(dt,D),de.push(D),Pe.push(dt.byteLength),dt=sr(pt)+1,D=a._malloc(dt),On(pt,te,D,dt),K.push(D)}return g=X(K,"HEAPU32"),de=X(de,"HEAPU32"),Pe=X(Pe,"HEAPU32"),y=a._MakeManagedAnimation(y,je.length,g,de,Pe,S,P,G),a._free(g),a._free(de),a._free(Pe),y},a.tg=function(y){return y.text=y.text||"",y.textSize=y.textSize||0,y.minTextSize=y.minTextSize||0,y.maxTextSize=y.maxTextSize||Number.MAX_VALUE,y.strokeWidth=y.strokeWidth||0,y.lineHeight=y.lineHeight||0,y.lineShift=y.lineShift||0,y.ascent=y.ascent||0,y.maxLines=y.maxLines||0,y.horizAlign=y.horizAlign||a.TextAlign.Left,y.vertAlign=y.vertAlign||a.ug.Top,y.strokeJoin=y.strokeJoin||a.StrokeJoin.Miter,y.direction=y.direction||a.TextDirection.LTR,y.linebreak=y.linebreak||a.LineBreakType.HardLineBreak,y.resize=y.resize||a.sg.None,y.fillColor||(y.fillColor=a.TRANSPARENT),y.strokeColor||(y.strokeColor=a.TRANSPARENT),y.boundingBox||(y.boundingBox=[0,0,0,0]),y},function(y){y.Td=y.Td||[],y.Td.push(function(){y.Animation.prototype.render=function(g,S){rt(S,Mt),this._render(g,Mt)},y.Animation.prototype.size=function(g){this._size(Mt);var S=Tn.toTypedArray();return g?(g[0]=S[0],g[1]=S[1],g):S.slice(0,2)},y.ManagedAnimation&&(y.ManagedAnimation.prototype.render=function(g,S){rt(S,Mt),this._render(g,Mt)},y.ManagedAnimation.prototype.seek=function(g,S){return this._seek(g,Mt),g=Tn.toTypedArray(),S?(S.set(g),S):g.slice()},y.ManagedAnimation.prototype.seekFrame=function(g,S){return this._seekFrame(g,Mt),g=Tn.toTypedArray(),S?(S.set(g),S):g.slice()},y.ManagedAnimation.prototype.setColor=function(g,S){return S=se(S),this._setColor(g,S)},y.ManagedAnimation.prototype.setColorSlot=function(g,S){return S=se(S),this._setColorSlot(g,S)},y.ManagedAnimation.prototype.getColorSlot=function(g){return this._getColorSlot(g,Nn),g=tt(Nn),g[0]==-1?null:g},y.ManagedAnimation.prototype.setVec2Slot=function(g,S){return X(S,"HEAPF32",co),this._setVec2Slot(g,co)},y.ManagedAnimation.prototype.getVec2Slot=function(g){return this._getVec2Slot(g,co),g=Ja.toTypedArray(),g[2]===-1?null:g.slice(0,2)},y.ManagedAnimation.prototype.setTextSlot=function(g,S){var P=se(S.fillColor,Nn),G=se(S.strokeColor,Mt),K=rt(S.boundingBox,Vr);return S._fillColorPtr=P,S._strokeColorPtr=G,S._boundingBoxPtr=K,this._setTextSlot(g,S)},y.ManagedAnimation.prototype.setTransform=function(g,S,P,G,K,de,Pe){return S=X([S[0],S[1],P[0],P[1],G[0],G[1],K,de,Pe],"HEAPF32",lr),this._setTransform(g,S)},y.ManagedAnimation.prototype.size=function(g){this._size(Mt);var S=Tn.toTypedArray();return g?(g[0]=S[0],g[1]=S[1],g):S.slice(0,2)})})}(n),a.Td=a.Td||[],a.Td.push(function(){a.Path.prototype.op=function(y,g){return this._op(y,g)?this:null},a.Path.prototype.simplify=function(){return this._simplify()?this:null}}),a.Td=a.Td||[],a.Td.push(function(){a.Canvas.prototype.drawText=function(y,g,S,P,G){var K=sr(y),de=a._malloc(K+1);On(y,te,de,K+1),this._drawSimpleText(de,K,g,S,G,P),a._free(de)},a.Canvas.prototype.drawGlyphs=function(y,g,S,P,G,K){if(!(2*y.length<=g.length))throw"Not enough positions for the array of gyphs";a.Nd(this.Ld);const de=X(y,"HEAPU16"),Pe=X(g,"HEAPF32");this._drawGlyphs(y.length,de,Pe,S,P,G,K),$(Pe,g),$(de,y)},a.Font.prototype.getGlyphBounds=function(y,g,S){var P=X(y,"HEAPU16"),G=a._malloc(16*y.length);return this._getGlyphWidthBounds(P,y.length,lt,G,g||null),g=new Float32Array(a.HEAPU8.buffer,G,4*y.length),$(P,y),S?(S.set(g),a._free(G),S):(y=Float32Array.from(g),a._free(G),y)},a.Font.prototype.getGlyphIDs=function(y,g,S){g||(g=y.length);var P=sr(y)+1,G=a._malloc(P);return On(y,te,G,P),y=a._malloc(2*g),g=this._getGlyphIDs(G,P-1,g,y),a._free(G),0>g?(a._free(y),null):(G=new Uint16Array(a.HEAPU8.buffer,y,g),S?(S.set(G),a._free(y),S):(S=Uint16Array.from(G),a._free(y),S))},a.Font.prototype.getGlyphIntercepts=function(y,g,S,P){var G=X(y,"HEAPU16"),K=X(g,"HEAPF32");return this._getGlyphIntercepts(G,y.length,!(y&&y._ck),K,g.length,!(g&&g._ck),S,P)},a.Font.prototype.getGlyphWidths=function(y,g,S){var P=X(y,"HEAPU16"),G=a._malloc(4*y.length);return this._getGlyphWidthBounds(P,y.length,G,lt,g||null),g=new Float32Array(a.HEAPU8.buffer,G,y.length),$(P,y),S?(S.set(g),a._free(G),S):(y=Float32Array.from(g),a._free(G),y)},a.FontMgr.FromData=function(){if(!arguments.length)return null;var y=arguments;if(y.length===1&&Array.isArray(y[0])&&(y=arguments[0]),!y.length)return null;for(var g=[],S=[],P=0;P<y.length;P++){var G=new Uint8Array(y[P]),K=X(G,"HEAPU8");g.push(K),S.push(G.byteLength)}return g=X(g,"HEAPU32"),S=X(S,"HEAPU32"),y=a.FontMgr._fromData(g,S,y.length),a._free(g),a._free(S),y},a.Typeface.MakeFreeTypeFaceFromData=function(y){y=new Uint8Array(y);var g=X(y,"HEAPU8");return(y=a.Typeface._MakeFreeTypeFaceFromData(g,y.byteLength))?y:null},a.Typeface.prototype.getGlyphIDs=function(y,g,S){g||(g=y.length);var P=sr(y)+1,G=a._malloc(P);return On(y,te,G,P),y=a._malloc(2*g),g=this._getGlyphIDs(G,P-1,g,y),a._free(G),0>g?(a._free(y),null):(G=new Uint16Array(a.HEAPU8.buffer,y,g),S?(S.set(G),a._free(y),S):(S=Uint16Array.from(G),a._free(y),S))},a.TextBlob.MakeOnPath=function(y,g,S,P){if(y&&y.length&&g&&g.countPoints()){if(g.countPoints()===1)return this.MakeFromText(y,S);P||(P=0);var G=S.getGlyphIDs(y);G=S.getGlyphWidths(G);var K=[];g=new a.ContourMeasureIter(g,!1,1);for(var de=g.next(),Pe=new Float32Array(4),je=0;je<y.length&&de;je++){var Xe=G[je];if(P+=Xe/2,P>de.length()){if(de.delete(),de=g.next(),!de){y=y.substring(0,je);break}P=Xe/2}de.getPosTan(P,Pe);var pt=Pe[2],dt=Pe[3];K.push(pt,dt,Pe[0]-Xe/2*pt,Pe[1]-Xe/2*dt),P+=Xe/2}return y=this.MakeFromRSXform(y,K,S),de&&de.delete(),g.delete(),y}},a.TextBlob.MakeFromRSXform=function(y,g,S){var P=sr(y)+1,G=a._malloc(P);return On(y,te,G,P),y=X(g,"HEAPF32"),S=a.TextBlob._MakeFromRSXform(G,P-1,y,S),a._free(G),S||null},a.TextBlob.MakeFromRSXformGlyphs=function(y,g,S){var P=X(y,"HEAPU16");return g=X(g,"HEAPF32"),S=a.TextBlob._MakeFromRSXformGlyphs(P,2*y.length,g,S),$(P,y),S||null},a.TextBlob.MakeFromGlyphs=function(y,g){var S=X(y,"HEAPU16");return g=a.TextBlob._MakeFromGlyphs(S,2*y.length,g),$(S,y),g||null},a.TextBlob.MakeFromText=function(y,g){var S=sr(y)+1,P=a._malloc(S);return On(y,te,P,S),y=a.TextBlob._MakeFromText(P,S-1,g),a._free(P),y||null},a.MallocGlyphIDs=function(y){return a.Malloc(Uint16Array,y)}}),a.Td=a.Td||[],a.Td.push(function(){a.MakePicture=function(y){y=new Uint8Array(y);var g=a._malloc(y.byteLength);return a.HEAPU8.set(y,g),(y=a._MakePicture(g,y.byteLength))?y:null}}),a.Td=a.Td||[],a.Td.push(function(){a.RuntimeEffect.Make=function(y,g){return a.RuntimeEffect._Make(y,{onError:g||function(S){console.log("RuntimeEffect error",S)}})},a.RuntimeEffect.MakeForBlender=function(y,g){return a.RuntimeEffect._MakeForBlender(y,{onError:g||function(S){console.log("RuntimeEffect error",S)}})},a.RuntimeEffect.prototype.makeShader=function(y,g){var S=!y._ck,P=X(y,"HEAPF32");return g=Ce(g),this._makeShader(P,4*y.length,S,g)},a.RuntimeEffect.prototype.makeShaderWithChildren=function(y,g,S){var P=!y._ck,G=X(y,"HEAPF32");S=Ce(S);for(var K=[],de=0;de<g.length;de++)K.push(g[de].Kd.Sd);return g=X(K,"HEAPU32"),this._makeShaderWithChildren(G,4*y.length,P,g,K.length,S)},a.RuntimeEffect.prototype.makeBlender=function(y){var g=!y._ck,S=X(y,"HEAPF32");return this._makeBlender(S,4*y.length,g)}}),function(){function y(Ee){for(var C=0;C<Ee.length;C++)if(Ee[C]!==void 0&&!Number.isFinite(Ee[C]))return!1;return!0}function g(Ee){var C=a.getColorComponents(Ee);Ee=C[0];var B=C[1],ce=C[2];return C=C[3],C===1?(Ee=Ee.toString(16).toLowerCase(),B=B.toString(16).toLowerCase(),ce=ce.toString(16).toLowerCase(),Ee=Ee.length===1?"0"+Ee:Ee,B=B.length===1?"0"+B:B,ce=ce.length===1?"0"+ce:ce,"#"+Ee+B+ce):(C=C===0||C===1?C:C.toFixed(8),"rgba("+Ee+", "+B+", "+ce+", "+C+")")}function S(Ee){return a.parseColorString(Ee,Zn)}function P(Ee){if(Ee=er.exec(Ee),!Ee)return null;var C=parseFloat(Ee[4]),B=16;switch(Ee[5]){case"em":case"rem":B=16*C;break;case"pt":B=4*C/3;break;case"px":B=C;break;case"pc":B=16*C;break;case"in":B=96*C;break;case"cm":B=96*C/2.54;break;case"mm":B=96/25.4*C;break;case"q":B=96/25.4/4*C;break;case"%":B=16/75*C}return{style:Ee[1],variant:Ee[2],weight:Ee[3],sizePx:B,family:Ee[6].trim()}}function G(Ee){this.Md=Ee,this.Pd=new a.Paint,this.Pd.setAntiAlias(!0),this.Pd.setStrokeMiter(10),this.Pd.setStrokeCap(a.StrokeCap.Butt),this.Pd.setStrokeJoin(a.StrokeJoin.Miter),this.Se="10px monospace",this.ne=new a.Font(null,10),this.ne.setSubpixel(!0),this.be=this.he=a.BLACK,this.we=0,this.Ke=a.TRANSPARENT,this.ye=this.xe=0,this.Le=this.je=1,this.Je=0,this.ve=[],this.Od=a.BlendMode.SrcOver,this.Pd.setStrokeWidth(this.Le),this.Pd.setBlendMode(this.Od),this.Rd=new a.Path,this.Ud=a.Matrix.identity(),this.mf=[],this.Ce=[],this.me=function(){this.Rd.delete(),this.Pd.delete(),this.ne.delete(),this.Ce.forEach(function(C){C.me()})},Object.defineProperty(this,"currentTransform",{enumerable:!0,get:function(){return{a:this.Ud[0],c:this.Ud[1],e:this.Ud[2],b:this.Ud[3],d:this.Ud[4],f:this.Ud[5]}},set:function(C){C.a&&this.setTransform(C.a,C.b,C.c,C.d,C.e,C.f)}}),Object.defineProperty(this,"fillStyle",{enumerable:!0,get:function(){return w(this.be)?g(this.be):this.be},set:function(C){typeof C=="string"?this.be=S(C):C.ue&&(this.be=C)}}),Object.defineProperty(this,"font",{enumerable:!0,get:function(){return this.Se},set:function(C){var B=P(C),ce=B.family;B.typeface=cn[ce]?cn[ce][(B.style||"normal")+"|"+(B.variant||"normal")+"|"+(B.weight||"normal")]||cn[ce]["*"]:null,B&&(this.ne.setSize(B.sizePx),this.ne.setTypeface(B.typeface),this.Se=C)}}),Object.defineProperty(this,"globalAlpha",{enumerable:!0,get:function(){return this.je},set:function(C){!isFinite(C)||0>C||1<C||(this.je=C)}}),Object.defineProperty(this,"globalCompositeOperation",{enumerable:!0,get:function(){switch(this.Od){case a.BlendMode.SrcOver:return"source-over";case a.BlendMode.DstOver:return"destination-over";case a.BlendMode.Src:return"copy";case a.BlendMode.Dst:return"destination";case a.BlendMode.Clear:return"clear";case a.BlendMode.SrcIn:return"source-in";case a.BlendMode.DstIn:return"destination-in";case a.BlendMode.SrcOut:return"source-out";case a.BlendMode.DstOut:return"destination-out";case a.BlendMode.SrcATop:return"source-atop";case a.BlendMode.DstATop:return"destination-atop";case a.BlendMode.Xor:return"xor";case a.BlendMode.Plus:return"lighter";case a.BlendMode.Multiply:return"multiply";case a.BlendMode.Screen:return"screen";case a.BlendMode.Overlay:return"overlay";case a.BlendMode.Darken:return"darken";case a.BlendMode.Lighten:return"lighten";case a.BlendMode.ColorDodge:return"color-dodge";case a.BlendMode.ColorBurn:return"color-burn";case a.BlendMode.HardLight:return"hard-light";case a.BlendMode.SoftLight:return"soft-light";case a.BlendMode.Difference:return"difference";case a.BlendMode.Exclusion:return"exclusion";case a.BlendMode.Hue:return"hue";case a.BlendMode.Saturation:return"saturation";case a.BlendMode.Color:return"color";case a.BlendMode.Luminosity:return"luminosity"}},set:function(C){switch(C){case"source-over":this.Od=a.BlendMode.SrcOver;break;case"destination-over":this.Od=a.BlendMode.DstOver;break;case"copy":this.Od=a.BlendMode.Src;break;case"destination":this.Od=a.BlendMode.Dst;break;case"clear":this.Od=a.BlendMode.Clear;break;case"source-in":this.Od=a.BlendMode.SrcIn;break;case"destination-in":this.Od=a.BlendMode.DstIn;break;case"source-out":this.Od=a.BlendMode.SrcOut;break;case"destination-out":this.Od=a.BlendMode.DstOut;break;case"source-atop":this.Od=a.BlendMode.SrcATop;break;case"destination-atop":this.Od=a.BlendMode.DstATop;break;case"xor":this.Od=a.BlendMode.Xor;break;case"lighter":this.Od=a.BlendMode.Plus;break;case"plus-lighter":this.Od=a.BlendMode.Plus;break;case"plus-darker":throw"plus-darker is not supported";case"multiply":this.Od=a.BlendMode.Multiply;break;case"screen":this.Od=a.BlendMode.Screen;break;case"overlay":this.Od=a.BlendMode.Overlay;break;case"darken":this.Od=a.BlendMode.Darken;break;case"lighten":this.Od=a.BlendMode.Lighten;break;case"color-dodge":this.Od=a.BlendMode.ColorDodge;break;case"color-burn":this.Od=a.BlendMode.ColorBurn;break;case"hard-light":this.Od=a.BlendMode.HardLight;break;case"soft-light":this.Od=a.BlendMode.SoftLight;break;case"difference":this.Od=a.BlendMode.Difference;break;case"exclusion":this.Od=a.BlendMode.Exclusion;break;case"hue":this.Od=a.BlendMode.Hue;break;case"saturation":this.Od=a.BlendMode.Saturation;break;case"color":this.Od=a.BlendMode.Color;break;case"luminosity":this.Od=a.BlendMode.Luminosity;break;default:return}this.Pd.setBlendMode(this.Od)}}),Object.defineProperty(this,"imageSmoothingEnabled",{enumerable:!0,get:function(){return!0},set:function(){}}),Object.defineProperty(this,"imageSmoothingQuality",{enumerable:!0,get:function(){return"high"},set:function(){}}),Object.defineProperty(this,"lineCap",{enumerable:!0,get:function(){switch(this.Pd.getStrokeCap()){case a.StrokeCap.Butt:return"butt";case a.StrokeCap.Round:return"round";case a.StrokeCap.Square:return"square"}},set:function(C){switch(C){case"butt":this.Pd.setStrokeCap(a.StrokeCap.Butt);break;case"round":this.Pd.setStrokeCap(a.StrokeCap.Round);break;case"square":this.Pd.setStrokeCap(a.StrokeCap.Square)}}}),Object.defineProperty(this,"lineDashOffset",{enumerable:!0,get:function(){return this.Je},set:function(C){isFinite(C)&&(this.Je=C)}}),Object.defineProperty(this,"lineJoin",{enumerable:!0,get:function(){switch(this.Pd.getStrokeJoin()){case a.StrokeJoin.Miter:return"miter";case a.StrokeJoin.Round:return"round";case a.StrokeJoin.Bevel:return"bevel"}},set:function(C){switch(C){case"miter":this.Pd.setStrokeJoin(a.StrokeJoin.Miter);break;case"round":this.Pd.setStrokeJoin(a.StrokeJoin.Round);break;case"bevel":this.Pd.setStrokeJoin(a.StrokeJoin.Bevel)}}}),Object.defineProperty(this,"lineWidth",{enumerable:!0,get:function(){return this.Pd.getStrokeWidth()},set:function(C){0>=C||!C||(this.Le=C,this.Pd.setStrokeWidth(C))}}),Object.defineProperty(this,"miterLimit",{enumerable:!0,get:function(){return this.Pd.getStrokeMiter()},set:function(C){0>=C||!C||this.Pd.setStrokeMiter(C)}}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,get:function(){return this.we},set:function(C){0>C||!isFinite(C)||(this.we=C)}}),Object.defineProperty(this,"shadowColor",{enumerable:!0,get:function(){return g(this.Ke)},set:function(C){this.Ke=S(C)}}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,get:function(){return this.xe},set:function(C){isFinite(C)&&(this.xe=C)}}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,get:function(){return this.ye},set:function(C){isFinite(C)&&(this.ye=C)}}),Object.defineProperty(this,"strokeStyle",{enumerable:!0,get:function(){return g(this.he)},set:function(C){typeof C=="string"?this.he=S(C):C.ue&&(this.he=C)}}),this.arc=function(C,B,ce,he,xe,Te){D(this.Rd,C,B,ce,ce,0,he,xe,Te)},this.arcTo=function(C,B,ce,he,xe){Xe(this.Rd,C,B,ce,he,xe)},this.beginPath=function(){this.Rd.delete(),this.Rd=new a.Path},this.bezierCurveTo=function(C,B,ce,he,xe,Te){var Ge=this.Rd;y([C,B,ce,he,xe,Te])&&(Ge.isEmpty()&&Ge.moveTo(C,B),Ge.cubicTo(C,B,ce,he,xe,Te))},this.clearRect=function(C,B,ce,he){this.Pd.setStyle(a.PaintStyle.Fill),this.Pd.setBlendMode(a.BlendMode.Clear),this.Md.drawRect(a.XYWHRect(C,B,ce,he),this.Pd),this.Pd.setBlendMode(this.Od)},this.clip=function(C,B){typeof C=="string"?(B=C,C=this.Rd):C&&C.bf&&(C=C.Vd),C||(C=this.Rd),C=C.copy(),B&&B.toLowerCase()==="evenodd"?C.setFillType(a.FillType.EvenOdd):C.setFillType(a.FillType.Winding),this.Md.clipPath(C,a.ClipOp.Intersect,!0),C.delete()},this.closePath=function(){pt(this.Rd)},this.createImageData=function(){if(arguments.length===1){var C=arguments[0];return new Pe(new Uint8ClampedArray(4*C.width*C.height),C.width,C.height)}if(arguments.length===2){C=arguments[0];var B=arguments[1];return new Pe(new Uint8ClampedArray(4*C*B),C,B)}throw"createImageData expects 1 or 2 arguments, got "+arguments.length},this.createLinearGradient=function(C,B,ce,he){if(y(arguments)){var xe=new je(C,B,ce,he);return this.Ce.push(xe),xe}},this.createPattern=function(C,B){return C=new Tt(C,B),this.Ce.push(C),C},this.createRadialGradient=function(C,B,ce,he,xe,Te){if(y(arguments)){var Ge=new Qt(C,B,ce,he,xe,Te);return this.Ce.push(Ge),Ge}},this.drawImage=function(C){C instanceof de&&(C=C.uf());var B=this.Re();if(arguments.length===3||arguments.length===5)var ce=a.XYWHRect(arguments[1],arguments[2],arguments[3]||C.width(),arguments[4]||C.height()),he=a.XYWHRect(0,0,C.width(),C.height());else if(arguments.length===9)ce=a.XYWHRect(arguments[5],arguments[6],arguments[7],arguments[8]),he=a.XYWHRect(arguments[1],arguments[2],arguments[3],arguments[4]);else throw"invalid number of args for drawImage, need 3, 5, or 9; got "+arguments.length;this.Md.drawImageRect(C,he,ce,B,!1),B.dispose()},this.ellipse=function(C,B,ce,he,xe,Te,Ge,Lt){D(this.Rd,C,B,ce,he,xe,Te,Ge,Lt)},this.Re=function(){var C=this.Pd.copy();if(C.setStyle(a.PaintStyle.Fill),w(this.be)){var B=a.multiplyByAlpha(this.be,this.je);C.setColor(B)}else B=this.be.ue(this.Ud),C.setColor(a.Color(0,0,0,this.je)),C.setShader(B);return C.dispose=function(){this.delete()},C},this.fill=function(C,B){if(typeof C=="string"?(B=C,C=this.Rd):C&&C.bf&&(C=C.Vd),B==="evenodd")this.Rd.setFillType(a.FillType.EvenOdd);else{if(B!=="nonzero"&&B)throw"invalid fill rule";this.Rd.setFillType(a.FillType.Winding)}C||(C=this.Rd),B=this.Re();var ce=this.ze(B);ce&&(this.Md.save(),this.se(),this.Md.drawPath(C,ce),this.Md.restore(),ce.dispose()),this.Md.drawPath(C,B),B.dispose()},this.fillRect=function(C,B,ce,he){var xe=this.Re(),Te=this.ze(xe);Te&&(this.Md.save(),this.se(),this.Md.drawRect(a.XYWHRect(C,B,ce,he),Te),this.Md.restore(),Te.dispose()),this.Md.drawRect(a.XYWHRect(C,B,ce,he),xe),xe.dispose()},this.fillText=function(C,B,ce){var he=this.Re();C=a.TextBlob.MakeFromText(C,this.ne);var xe=this.ze(he);xe&&(this.Md.save(),this.se(),this.Md.drawTextBlob(C,B,ce,xe),this.Md.restore(),xe.dispose()),this.Md.drawTextBlob(C,B,ce,he),C.delete(),he.dispose()},this.getImageData=function(C,B,ce,he){return(C=this.Md.readPixels(C,B,{width:ce,height:he,colorType:a.ColorType.RGBA_8888,alphaType:a.AlphaType.Unpremul,colorSpace:a.ColorSpace.SRGB}))?new Pe(new Uint8ClampedArray(C.buffer),ce,he):null},this.getLineDash=function(){return this.ve.slice()},this.nf=function(C){var B=a.Matrix.invert(this.Ud);return a.Matrix.mapPoints(B,C),C},this.isPointInPath=function(C,B,ce){var he=arguments;if(he.length===3)var xe=this.Rd;else if(he.length===4)xe=he[0],C=he[1],B=he[2],ce=he[3];else throw"invalid arg count, need 3 or 4, got "+he.length;return!isFinite(C)||!isFinite(B)||(ce=ce||"nonzero",ce!=="nonzero"&&ce!=="evenodd")?!1:(he=this.nf([C,B]),C=he[0],B=he[1],xe.setFillType(ce==="nonzero"?a.FillType.Winding:a.FillType.EvenOdd),xe.contains(C,B))},this.isPointInStroke=function(C,B){var ce=arguments;if(ce.length===2)var he=this.Rd;else if(ce.length===3)he=ce[0],C=ce[1],B=ce[2];else throw"invalid arg count, need 2 or 3, got "+ce.length;return!isFinite(C)||!isFinite(B)?!1:(ce=this.nf([C,B]),C=ce[0],B=ce[1],he=he.copy(),he.setFillType(a.FillType.Winding),he.stroke({width:this.lineWidth,miter_limit:this.miterLimit,cap:this.Pd.getStrokeCap(),join:this.Pd.getStrokeJoin(),precision:.3}),ce=he.contains(C,B),he.delete(),ce)},this.lineTo=function(C,B){ye(this.Rd,C,B)},this.measureText=function(C){C=this.ne.getGlyphIDs(C),C=this.ne.getGlyphWidths(C);let B=0;for(const ce of C)B+=ce;return{width:B}},this.moveTo=function(C,B){var ce=this.Rd;y([C,B])&&ce.moveTo(C,B)},this.putImageData=function(C,B,ce,he,xe,Te,Ge){if(y([B,ce,he,xe,Te,Ge])){if(he===void 0)this.Md.writePixels(C.data,C.width,C.height,B,ce);else if(he=he||0,xe=xe||0,Te=Te||C.width,Ge=Ge||C.height,0>Te&&(he+=Te,Te=Math.abs(Te)),0>Ge&&(xe+=Ge,Ge=Math.abs(Ge)),0>he&&(Te+=he,he=0),0>xe&&(Ge+=xe,xe=0),!(0>=Te||0>=Ge)){C=a.MakeImage({width:C.width,height:C.height,alphaType:a.AlphaType.Unpremul,colorType:a.ColorType.RGBA_8888,colorSpace:a.ColorSpace.SRGB},C.data,4*C.width);var Lt=a.XYWHRect(he,xe,Te,Ge);B=a.XYWHRect(B+he,ce+xe,Te,Ge),ce=a.Matrix.invert(this.Ud),this.Md.save(),this.Md.concat(ce),this.Md.drawImageRect(C,Lt,B,null,!1),this.Md.restore(),C.delete()}}},this.quadraticCurveTo=function(C,B,ce,he){var xe=this.Rd;y([C,B,ce,he])&&(xe.isEmpty()&&xe.moveTo(C,B),xe.quadTo(C,B,ce,he))},this.rect=function(C,B,ce,he){var xe=this.Rd;C=a.XYWHRect(C,B,ce,he),y(C)&&xe.addRect(C)},this.resetTransform=function(){this.Rd.transform(this.Ud);var C=a.Matrix.invert(this.Ud);this.Md.concat(C),this.Ud=this.Md.getTotalMatrix()},this.restore=function(){var C=this.mf.pop();if(C){var B=a.Matrix.multiply(this.Ud,a.Matrix.invert(C.Kf));this.Rd.transform(B),this.Pd.delete(),this.Pd=C.bg,this.ve=C.$f,this.Le=C.ng,this.he=C.mg,this.be=C.fs,this.xe=C.kg,this.ye=C.lg,this.we=C.sb,this.Ke=C.jg,this.je=C.ga,this.Od=C.Rf,this.Je=C.ag,this.Se=C.Qf,this.Md.restore(),this.Ud=this.Md.getTotalMatrix()}},this.rotate=function(C){if(isFinite(C)){var B=a.Matrix.rotated(-C);this.Rd.transform(B),this.Md.rotate(C/Math.PI*180,0,0),this.Ud=this.Md.getTotalMatrix()}},this.save=function(){if(this.be.te){var C=this.be.te();this.Ce.push(C)}else C=this.be;if(this.he.te){var B=this.he.te();this.Ce.push(B)}else B=this.he;this.mf.push({Kf:this.Ud.slice(),$f:this.ve.slice(),ng:this.Le,mg:B,fs:C,kg:this.xe,lg:this.ye,sb:this.we,jg:this.Ke,ga:this.je,ag:this.Je,Rf:this.Od,bg:this.Pd.copy(),Qf:this.Se}),this.Md.save()},this.scale=function(C,B){if(y(arguments)){var ce=a.Matrix.scaled(1/C,1/B);this.Rd.transform(ce),this.Md.scale(C,B),this.Ud=this.Md.getTotalMatrix()}},this.setLineDash=function(C){for(var B=0;B<C.length;B++)if(!isFinite(C[B])||0>C[B])return;C.length%2===1&&Array.prototype.push.apply(C,C),this.ve=C},this.setTransform=function(C,B,ce,he,xe,Te){y(arguments)&&(this.resetTransform(),this.transform(C,B,ce,he,xe,Te))},this.se=function(){var C=a.Matrix.invert(this.Ud);this.Md.concat(C),this.Md.concat(a.Matrix.translated(this.xe,this.ye)),this.Md.concat(this.Ud)},this.ze=function(C){var B=a.multiplyByAlpha(this.Ke,this.je);if(!a.getColorComponents(B)[3]||!(this.we||this.ye||this.xe))return null;C=C.copy(),C.setColor(B);var ce=a.MaskFilter.MakeBlur(a.BlurStyle.Normal,this.we/2,!1);return C.setMaskFilter(ce),C.dispose=function(){ce.delete(),this.delete()},C},this.df=function(){var C=this.Pd.copy();if(C.setStyle(a.PaintStyle.Stroke),w(this.he)){var B=a.multiplyByAlpha(this.he,this.je);C.setColor(B)}else B=this.he.ue(this.Ud),C.setColor(a.Color(0,0,0,this.je)),C.setShader(B);if(C.setStrokeWidth(this.Le),this.ve.length){var ce=a.PathEffect.MakeDash(this.ve,this.Je);C.setPathEffect(ce)}return C.dispose=function(){ce&&ce.delete(),this.delete()},C},this.stroke=function(C){C=C?C.Vd:this.Rd;var B=this.df(),ce=this.ze(B);ce&&(this.Md.save(),this.se(),this.Md.drawPath(C,ce),this.Md.restore(),ce.dispose()),this.Md.drawPath(C,B),B.dispose()},this.strokeRect=function(C,B,ce,he){var xe=this.df(),Te=this.ze(xe);Te&&(this.Md.save(),this.se(),this.Md.drawRect(a.XYWHRect(C,B,ce,he),Te),this.Md.restore(),Te.dispose()),this.Md.drawRect(a.XYWHRect(C,B,ce,he),xe),xe.dispose()},this.strokeText=function(C,B,ce){var he=this.df();C=a.TextBlob.MakeFromText(C,this.ne);var xe=this.ze(he);xe&&(this.Md.save(),this.se(),this.Md.drawTextBlob(C,B,ce,xe),this.Md.restore(),xe.dispose()),this.Md.drawTextBlob(C,B,ce,he),C.delete(),he.dispose()},this.translate=function(C,B){if(y(arguments)){var ce=a.Matrix.translated(-C,-B);this.Rd.transform(ce),this.Md.translate(C,B),this.Ud=this.Md.getTotalMatrix()}},this.transform=function(C,B,ce,he,xe,Te){C=[C,ce,xe,B,he,Te,0,0,1],B=a.Matrix.invert(C),this.Rd.transform(B),this.Md.concat(C),this.Ud=this.Md.getTotalMatrix()},this.addHitRegion=function(){},this.clearHitRegions=function(){},this.drawFocusIfNeeded=function(){},this.removeHitRegion=function(){},this.scrollPathIntoView=function(){},Object.defineProperty(this,"canvas",{value:null,writable:!1})}function K(Ee){this.ef=Ee,this.Ld=new G(Ee.getCanvas()),this.Te=[],this.decodeImage=function(C){if(C=a.MakeImageFromEncoded(C),!C)throw"Invalid input";return this.Te.push(C),new de(C)},this.loadFont=function(C,B){if(C=a.Typeface.MakeFreeTypeFaceFromData(C),!C)return null;this.Te.push(C);var ce=(B.style||"normal")+"|"+(B.variant||"normal")+"|"+(B.weight||"normal");B=B.family,cn[B]||(cn[B]={"*":C}),cn[B][ce]=C},this.makePath2D=function(C){return C=new st(C),this.Te.push(C.Vd),C},this.getContext=function(C){return C==="2d"?this.Ld:null},this.toDataURL=function(C,B){this.ef.flush();var ce=this.ef.makeImageSnapshot();if(ce){C=C||"image/png";var he=a.ImageFormat.PNG;if(C==="image/jpeg"&&(he=a.ImageFormat.JPEG),B=ce.encodeToBytes(he,B||.92)){if(ce.delete(),C="data:"+C+";base64,",typeof Buffer<"u")B=Buffer.from(B).toString("base64");else{ce=0,he=B.length;for(var xe="",Te;ce<he;)Te=B.slice(ce,Math.min(ce+32768,he)),xe+=String.fromCharCode.apply(null,Te),ce+=32768;B=btoa(xe)}return C+B}}},this.dispose=function(){this.Ld.me(),this.Te.forEach(function(C){C.delete()}),this.ef.dispose()}}function de(Ee){this.width=Ee.width(),this.height=Ee.height(),this.naturalWidth=this.width,this.naturalHeight=this.height,this.uf=function(){return Ee}}function Pe(Ee,C,B){if(!C||B===0)throw"invalid dimensions, width and height must be non-zero";if(Ee.length%4)throw"arr must be a multiple of 4";B=B||Ee.length/(4*C),Object.defineProperty(this,"data",{value:Ee,writable:!1}),Object.defineProperty(this,"height",{value:B,writable:!1}),Object.defineProperty(this,"width",{value:C,writable:!1})}function je(Ee,C,B,ce){this.Xd=null,this.de=[],this.$d=[],this.addColorStop=function(he,xe){if(0>he||1<he||!isFinite(he))throw"offset must be between 0 and 1 inclusively";xe=S(xe);var Te=this.$d.indexOf(he);if(Te!==-1)this.de[Te]=xe;else{for(Te=0;Te<this.$d.length&&!(this.$d[Te]>he);Te++);this.$d.splice(Te,0,he),this.de.splice(Te,0,xe)}},this.te=function(){var he=new je(Ee,C,B,ce);return he.de=this.de.slice(),he.$d=this.$d.slice(),he},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(he){var xe=[Ee,C,B,ce];a.Matrix.mapPoints(he,xe),he=xe[0];var Te=xe[1],Ge=xe[2];return xe=xe[3],this.me(),this.Xd=a.Shader.MakeLinearGradient([he,Te],[Ge,xe],this.de,this.$d,a.TileMode.Clamp)}}function Xe(Ee,C,B,ce,he,xe){if(y([C,B,ce,he,xe])){if(0>xe)throw"radii cannot be negative";Ee.isEmpty()&&Ee.moveTo(C,B),Ee.arcToTangent(C,B,ce,he,xe)}}function pt(Ee){if(!Ee.isEmpty()){var C=Ee.getBounds();(C[3]-C[1]||C[2]-C[0])&&Ee.close()}}function dt(Ee,C,B,ce,he,xe,Te){Te=(Te-xe)/Math.PI*180,xe=xe/Math.PI*180,C=a.LTRBRect(C-ce,B-he,C+ce,B+he),1e-5>Math.abs(Math.abs(Te)-360)?(B=Te/2,Ee.arcToOval(C,xe,B,!1),Ee.arcToOval(C,xe+B,B,!1)):Ee.arcToOval(C,xe,Te,!1)}function D(Ee,C,B,ce,he,xe,Te,Ge,Lt){if(y([C,B,ce,he,xe,Te,Ge])){if(0>ce||0>he)throw"radii cannot be negative";var It=2*Math.PI,Tr=Te%It;0>Tr&&(Tr+=It);var lo=Tr-Te;Te=Tr,Ge+=lo,!Lt&&Ge-Te>=It?Ge=Te+It:Lt&&Te-Ge>=It?Ge=Te-It:!Lt&&Te>Ge?Ge=Te+(It-(Te-Ge)%It):Lt&&Te<Ge&&(Ge=Te-(It-(Ge-Te)%It)),xe?(Lt=a.Matrix.rotated(xe,C,B),xe=a.Matrix.rotated(-xe,C,B),Ee.transform(xe),dt(Ee,C,B,ce,he,Te,Ge),Ee.transform(Lt)):dt(Ee,C,B,ce,he,Te,Ge)}}function ye(Ee,C,B){y([C,B])&&(Ee.isEmpty()&&Ee.moveTo(C,B),Ee.lineTo(C,B))}function st(Ee){this.Vd=null,this.Vd=typeof Ee=="string"?a.Path.MakeFromSVGString(Ee):Ee&&Ee.bf?Ee.Vd.copy():new a.Path,this.bf=function(){return this.Vd},this.addPath=function(C,B){B||(B={a:1,c:0,e:0,b:0,d:1,f:0}),this.Vd.addPath(C.Vd,[B.a,B.c,B.e,B.b,B.d,B.f])},this.arc=function(C,B,ce,he,xe,Te){D(this.Vd,C,B,ce,ce,0,he,xe,Te)},this.arcTo=function(C,B,ce,he,xe){Xe(this.Vd,C,B,ce,he,xe)},this.bezierCurveTo=function(C,B,ce,he,xe,Te){var Ge=this.Vd;y([C,B,ce,he,xe,Te])&&(Ge.isEmpty()&&Ge.moveTo(C,B),Ge.cubicTo(C,B,ce,he,xe,Te))},this.closePath=function(){pt(this.Vd)},this.ellipse=function(C,B,ce,he,xe,Te,Ge,Lt){D(this.Vd,C,B,ce,he,xe,Te,Ge,Lt)},this.lineTo=function(C,B){ye(this.Vd,C,B)},this.moveTo=function(C,B){var ce=this.Vd;y([C,B])&&ce.moveTo(C,B)},this.quadraticCurveTo=function(C,B,ce,he){var xe=this.Vd;y([C,B,ce,he])&&(xe.isEmpty()&&xe.moveTo(C,B),xe.quadTo(C,B,ce,he))},this.rect=function(C,B,ce,he){var xe=this.Vd;C=a.XYWHRect(C,B,ce,he),y(C)&&xe.addRect(C)}}function Tt(Ee,C){switch(this.Xd=null,Ee instanceof de&&(Ee=Ee.uf()),this.Ff=Ee,this._transform=a.Matrix.identity(),C===""&&(C="repeat"),C){case"repeat-x":this.Ae=a.TileMode.Repeat,this.Be=a.TileMode.Decal;break;case"repeat-y":this.Ae=a.TileMode.Decal,this.Be=a.TileMode.Repeat;break;case"repeat":this.Be=this.Ae=a.TileMode.Repeat;break;case"no-repeat":this.Be=this.Ae=a.TileMode.Decal;break;default:throw"invalid repetition mode "+C}this.setTransform=function(B){B=[B.a,B.c,B.e,B.b,B.d,B.f,0,0,1],y(B)&&(this._transform=B)},this.te=function(){var B=new Tt;return B.Ae=this.Ae,B.Be=this.Be,B},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(){return this.me(),this.Xd=this.Ff.makeShaderCubic(this.Ae,this.Be,1/3,1/3,this._transform)}}function Qt(Ee,C,B,ce,he,xe){this.Xd=null,this.de=[],this.$d=[],this.addColorStop=function(Te,Ge){if(0>Te||1<Te||!isFinite(Te))throw"offset must be between 0 and 1 inclusively";Ge=S(Ge);var Lt=this.$d.indexOf(Te);if(Lt!==-1)this.de[Lt]=Ge;else{for(Lt=0;Lt<this.$d.length&&!(this.$d[Lt]>Te);Lt++);this.$d.splice(Lt,0,Te),this.de.splice(Lt,0,Ge)}},this.te=function(){var Te=new Qt(Ee,C,B,ce,he,xe);return Te.de=this.de.slice(),Te.$d=this.$d.slice(),Te},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(Te){var Ge=[Ee,C,ce,he];a.Matrix.mapPoints(Te,Ge);var Lt=Ge[0],It=Ge[1],Tr=Ge[2];Ge=Ge[3];var lo=(Math.abs(Te[0])+Math.abs(Te[4]))/2;return Te=B*lo,lo*=xe,this.me(),this.Xd=a.Shader.MakeTwoPointConicalGradient([Lt,It],Te,[Tr,Ge],lo,this.de,this.$d,a.TileMode.Clamp)}}a._testing={};var Zn={aliceblue:Float32Array.of(.941,.973,1,1),antiquewhite:Float32Array.of(.98,.922,.843,1),aqua:Float32Array.of(0,1,1,1),aquamarine:Float32Array.of(.498,1,.831,1),azure:Float32Array.of(.941,1,1,1),beige:Float32Array.of(.961,.961,.863,1),bisque:Float32Array.of(1,.894,.769,1),black:Float32Array.of(0,0,0,1),blanchedalmond:Float32Array.of(1,.922,.804,1),blue:Float32Array.of(0,0,1,1),blueviolet:Float32Array.of(.541,.169,.886,1),brown:Float32Array.of(.647,.165,.165,1),burlywood:Float32Array.of(.871,.722,.529,1),cadetblue:Float32Array.of(.373,.62,.627,1),chartreuse:Float32Array.of(.498,1,0,1),chocolate:Float32Array.of(.824,.412,.118,1),coral:Float32Array.of(1,.498,.314,1),cornflowerblue:Float32Array.of(.392,.584,.929,1),cornsilk:Float32Array.of(1,.973,.863,1),crimson:Float32Array.of(.863,.078,.235,1),cyan:Float32Array.of(0,1,1,1),darkblue:Float32Array.of(0,0,.545,1),darkcyan:Float32Array.of(0,.545,.545,1),darkgoldenrod:Float32Array.of(.722,.525,.043,1),darkgray:Float32Array.of(.663,.663,.663,1),darkgreen:Float32Array.of(0,.392,0,1),darkgrey:Float32Array.of(.663,.663,.663,1),darkkhaki:Float32Array.of(.741,.718,.42,1),darkmagenta:Float32Array.of(.545,0,.545,1),darkolivegreen:Float32Array.of(.333,.42,.184,1),darkorange:Float32Array.of(1,.549,0,1),darkorchid:Float32Array.of(.6,.196,.8,1),darkred:Float32Array.of(.545,0,0,1),darksalmon:Float32Array.of(.914,.588,.478,1),darkseagreen:Float32Array.of(.561,.737,.561,1),darkslateblue:Float32Array.of(.282,.239,.545,1),darkslategray:Float32Array.of(.184,.31,.31,1),darkslategrey:Float32Array.of(.184,.31,.31,1),darkturquoise:Float32Array.of(0,.808,.82,1),darkviolet:Float32Array.of(.58,0,.827,1),deeppink:Float32Array.of(1,.078,.576,1),deepskyblue:Float32Array.of(0,.749,1,1),dimgray:Float32Array.of(.412,.412,.412,1),dimgrey:Float32Array.of(.412,.412,.412,1),dodgerblue:Float32Array.of(.118,.565,1,1),firebrick:Float32Array.of(.698,.133,.133,1),floralwhite:Float32Array.of(1,.98,.941,1),forestgreen:Float32Array.of(.133,.545,.133,1),fuchsia:Float32Array.of(1,0,1,1),gainsboro:Float32Array.of(.863,.863,.863,1),ghostwhite:Float32Array.of(.973,.973,1,1),gold:Float32Array.of(1,.843,0,1),goldenrod:Float32Array.of(.855,.647,.125,1),gray:Float32Array.of(.502,.502,.502,1),green:Float32Array.of(0,.502,0,1),greenyellow:Float32Array.of(.678,1,.184,1),grey:Float32Array.of(.502,.502,.502,1),honeydew:Float32Array.of(.941,1,.941,1),hotpink:Float32Array.of(1,.412,.706,1),indianred:Float32Array.of(.804,.361,.361,1),indigo:Float32Array.of(.294,0,.51,1),ivory:Float32Array.of(1,1,.941,1),khaki:Float32Array.of(.941,.902,.549,1),lavender:Float32Array.of(.902,.902,.98,1),lavenderblush:Float32Array.of(1,.941,.961,1),lawngreen:Float32Array.of(.486,.988,0,1),lemonchiffon:Float32Array.of(1,.98,.804,1),lightblue:Float32Array.of(.678,.847,.902,1),lightcoral:Float32Array.of(.941,.502,.502,1),lightcyan:Float32Array.of(.878,1,1,1),lightgoldenrodyellow:Float32Array.of(.98,.98,.824,1),lightgray:Float32Array.of(.827,.827,.827,1),lightgreen:Float32Array.of(.565,.933,.565,1),lightgrey:Float32Array.of(.827,.827,.827,1),lightpink:Float32Array.of(1,.714,.757,1),lightsalmon:Float32Array.of(1,.627,.478,1),lightseagreen:Float32Array.of(.125,.698,.667,1),lightskyblue:Float32Array.of(.529,.808,.98,1),lightslategray:Float32Array.of(.467,.533,.6,1),lightslategrey:Float32Array.of(.467,.533,.6,1),lightsteelblue:Float32Array.of(.69,.769,.871,1),lightyellow:Float32Array.of(1,1,.878,1),lime:Float32Array.of(0,1,0,1),limegreen:Float32Array.of(.196,.804,.196,1),linen:Float32Array.of(.98,.941,.902,1),magenta:Float32Array.of(1,0,1,1),maroon:Float32Array.of(.502,0,0,1),mediumaquamarine:Float32Array.of(.4,.804,.667,1),mediumblue:Float32Array.of(0,0,.804,1),mediumorchid:Float32Array.of(.729,.333,.827,1),mediumpurple:Float32Array.of(.576,.439,.859,1),mediumseagreen:Float32Array.of(.235,.702,.443,1),mediumslateblue:Float32Array.of(.482,.408,.933,1),mediumspringgreen:Float32Array.of(0,.98,.604,1),mediumturquoise:Float32Array.of(.282,.82,.8,1),mediumvioletred:Float32Array.of(.78,.082,.522,1),midnightblue:Float32Array.of(.098,.098,.439,1),mintcream:Float32Array.of(.961,1,.98,1),mistyrose:Float32Array.of(1,.894,.882,1),moccasin:Float32Array.of(1,.894,.71,1),navajowhite:Float32Array.of(1,.871,.678,1),navy:Float32Array.of(0,0,.502,1),oldlace:Float32Array.of(.992,.961,.902,1),olive:Float32Array.of(.502,.502,0,1),olivedrab:Float32Array.of(.42,.557,.137,1),orange:Float32Array.of(1,.647,0,1),orangered:Float32Array.of(1,.271,0,1),orchid:Float32Array.of(.855,.439,.839,1),palegoldenrod:Float32Array.of(.933,.91,.667,1),palegreen:Float32Array.of(.596,.984,.596,1),paleturquoise:Float32Array.of(.686,.933,.933,1),palevioletred:Float32Array.of(.859,.439,.576,1),papayawhip:Float32Array.of(1,.937,.835,1),peachpuff:Float32Array.of(1,.855,.725,1),peru:Float32Array.of(.804,.522,.247,1),pink:Float32Array.of(1,.753,.796,1),plum:Float32Array.of(.867,.627,.867,1),powderblue:Float32Array.of(.69,.878,.902,1),purple:Float32Array.of(.502,0,.502,1),rebeccapurple:Float32Array.of(.4,.2,.6,1),red:Float32Array.of(1,0,0,1),rosybrown:Float32Array.of(.737,.561,.561,1),royalblue:Float32Array.of(.255,.412,.882,1),saddlebrown:Float32Array.of(.545,.271,.075,1),salmon:Float32Array.of(.98,.502,.447,1),sandybrown:Float32Array.of(.957,.643,.376,1),seagreen:Float32Array.of(.18,.545,.341,1),seashell:Float32Array.of(1,.961,.933,1),sienna:Float32Array.of(.627,.322,.176,1),silver:Float32Array.of(.753,.753,.753,1),skyblue:Float32Array.of(.529,.808,.922,1),slateblue:Float32Array.of(.416,.353,.804,1),slategray:Float32Array.of(.439,.502,.565,1),slategrey:Float32Array.of(.439,.502,.565,1),snow:Float32Array.of(1,.98,.98,1),springgreen:Float32Array.of(0,1,.498,1),steelblue:Float32Array.of(.275,.51,.706,1),tan:Float32Array.of(.824,.706,.549,1),teal:Float32Array.of(0,.502,.502,1),thistle:Float32Array.of(.847,.749,.847,1),tomato:Float32Array.of(1,.388,.278,1),transparent:Float32Array.of(0,0,0,0),turquoise:Float32Array.of(.251,.878,.816,1),violet:Float32Array.of(.933,.51,.933,1),wheat:Float32Array.of(.961,.871,.702,1),white:Float32Array.of(1,1,1,1),whitesmoke:Float32Array.of(.961,.961,.961,1),yellow:Float32Array.of(1,1,0,1),yellowgreen:Float32Array.of(.604,.804,.196,1)};a._testing.parseColor=S,a._testing.colorToString=g;var er=RegExp("(italic|oblique|normal|)\\s*(small-caps|normal|)\\s*(bold|bolder|lighter|[1-9]00|normal|)\\s*([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q)(.+)"),cn={"Noto Mono":{"*":null},monospace:{"*":null}};a._testing.parseFontString=P,a.MakeCanvas=function(Ee,C){return(Ee=a.MakeSurface(Ee,C))?new K(Ee):null},a.ImageData=function(){if(arguments.length===2){var Ee=arguments[0],C=arguments[1];return new Pe(new Uint8ClampedArray(4*Ee*C),Ee,C)}if(arguments.length===3){var B=arguments[0];if(B.prototype.constructor!==Uint8ClampedArray)throw"bytes must be given as a Uint8ClampedArray";if(Ee=arguments[1],C=arguments[2],B%4)throw"bytes must be given in a multiple of 4";if(B%Ee)throw"bytes must divide evenly by width";if(C&&C!==B/(4*Ee))throw"invalid height given";return new Pe(B,Ee,B/(4*Ee))}throw"invalid number of arguments - takes 2 or 3, saw "+arguments.length}}()}(n);var u=Object.assign({},n),c="./this.program",l=(a,f)=>{throw f},h=typeof window=="object",p=typeof importScripts=="function",v=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",x="",E,_,L;v?(x=p?Fa.dirname(x)+"/":__dirname+"/",E=(a,f)=>(a=a.startsWith("file://")?new URL(a):Fa.normalize(a),fs.readFileSync(a,f?void 0:"utf8")),L=a=>(a=E(a,!0),a.buffer||(a=new Uint8Array(a)),a),_=(a,f,m,w=!0)=>{a=a.startsWith("file://")?new URL(a):Fa.normalize(a),fs.readFile(a,w?void 0:"utf8",(A,I)=>{A?m(A):f(w?I.buffer:I)})},!n.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),l=(a,f)=>{throw process.exitCode=a,f},n.inspect=()=>"[Emscripten Module object]"):(h||p)&&(p?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),t&&(x=t),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",E=a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.send(null),f.responseText},p&&(L=a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),_=(a,f,m)=>{var w=new XMLHttpRequest;w.open("GET",a,!0),w.responseType="arraybuffer",w.onload=()=>{w.status==200||w.status==0&&w.response?f(w.response):m()},w.onerror=m,w.send(null)});var k=n.print||console.log.bind(console),N=n.printErr||console.error.bind(console);Object.assign(n,u),u=null,n.thisProgram&&(c=n.thisProgram),n.quit&&(l=n.quit);var z;n.wasmBinary&&(z=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&Le("no native wasm support detected");var Q,W,ae=!1,le,te,ge,Ae,F,Y,V,oe;function ue(){var a=Q.buffer;n.HEAP8=le=new Int8Array(a),n.HEAP16=ge=new Int16Array(a),n.HEAP32=F=new Int32Array(a),n.HEAPU8=te=new Uint8Array(a),n.HEAPU16=Ae=new Uint16Array(a),n.HEAPU32=Y=new Uint32Array(a),n.HEAPF32=V=new Float32Array(a),n.HEAPF64=oe=new Float64Array(a)}var ee,Se=[],j=[],ne=[];function me(){var a=n.preRun.shift();Se.unshift(a)}var Me=0,Oe=null;function Le(a){throw n.onAbort&&n.onAbort(a),a="Aborted("+a+")",N(a),ae=!0,a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info."),i(a),a}function Fe(a){return a.startsWith("data:application/octet-stream;base64,")}var ot;if(ot="canvaskit.wasm",!Fe(ot)){var it=ot;ot=n.locateFile?n.locateFile(it,x):x+it}function Ke(a){if(a==ot&&z)return new Uint8Array(z);if(L)return L(a);throw"both async and sync fetching of the wasm failed"}function yt(a){if(!z&&(h||p)){if(typeof fetch=="function"&&!a.startsWith("file://"))return fetch(a,{credentials:"same-origin"}).then(f=>{if(!f.ok)throw"failed to load wasm binary file at '"+a+"'";return f.arrayBuffer()}).catch(()=>Ke(a));if(_)return new Promise((f,m)=>{_(a,w=>f(new Uint8Array(w)),m)})}return Promise.resolve().then(()=>Ke(a))}function Nt(a,f,m){return yt(a).then(w=>WebAssembly.instantiate(w,f)).then(w=>w).then(m,w=>{N("failed to asynchronously prepare wasm: "+w),Le(w)})}function In(a,f){var m=ot;return z||typeof WebAssembly.instantiateStreaming!="function"||Fe(m)||m.startsWith("file://")||v||typeof fetch!="function"?Nt(m,a,f):fetch(m,{credentials:"same-origin"}).then(w=>WebAssembly.instantiateStreaming(w,a).then(f,function(A){return N("wasm streaming compile failed: "+A),N("falling back to ArrayBuffer instantiation"),Nt(m,a,f)}))}function an(a){this.name="ExitStatus",this.message=`Program terminated with exit(${a})`,this.status=a}var pn=a=>{for(;0<a.length;)a.shift()(n)},Un=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ut=(a,f,m)=>{var w=f+m;for(m=f;a[m]&&!(m>=w);)++m;if(16<m-f&&a.buffer&&Un)return Un.decode(a.subarray(f,m));for(w="";f<m;){var A=a[f++];if(A&128){var I=a[f++]&63;if((A&224)==192)w+=String.fromCharCode((A&31)<<6|I);else{var H=a[f++]&63;A=(A&240)==224?(A&15)<<12|I<<6|H:(A&7)<<18|I<<12|H<<6|a[f++]&63,65536>A?w+=String.fromCharCode(A):(A-=65536,w+=String.fromCharCode(55296|A>>10,56320|A&1023))}}else w+=String.fromCharCode(A)}return w},wn={};function Wt(a){for(;a.length;){var f=a.pop();a.pop()(f)}}function En(a){return this.fromWireType(F[a>>2])}var en={},jt={},Wn={},yr=void 0;function gn(a){throw new yr(a)}function at(a,f,m){function w(O){O=m(O),O.length!==a.length&&gn("Mismatched type converter count");for(var $=0;$<a.length;++$)xn(a[$],O[$])}a.forEach(function(O){Wn[O]=f});var A=Array(f.length),I=[],H=0;f.forEach((O,$)=>{jt.hasOwnProperty(O)?A[$]=jt[O]:(I.push(O),en.hasOwnProperty(O)||(en[O]=[]),en[O].push(()=>{A[$]=jt[O],++H,H===I.length&&w(A)}))}),I.length===0&&w(A)}function _t(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${a}`)}}var tn=void 0;function bt(a){for(var f="";te[a];)f+=tn[te[a++]];return f}var Dt=void 0;function vt(a){throw new Dt(a)}function wi(a,f,m={}){var w=f.name;if(a||vt(`type "${w}" must have a positive integer typeid pointer`),jt.hasOwnProperty(a)){if(m.Xf)return;vt(`Cannot register type '${w}' twice`)}jt[a]=f,delete Wn[a],en.hasOwnProperty(a)&&(f=en[a],delete en[a],f.forEach(A=>A()))}function xn(a,f,m={}){if(!("argPackAdvance"in f))throw new TypeError("registerType registeredInstance requires argPackAdvance");wi(a,f,m)}function xi(a){vt(a.Kd.Wd.Qd.name+" instance already deleted")}var bi=!1;function Yi(){}function Ki(a){--a.count.value,a.count.value===0&&(a.Zd?a.fe.le(a.Zd):a.Wd.Qd.le(a.Sd))}function Qi(a,f,m){return f===m?a:m.ae===void 0?null:(a=Qi(a,f,m.ae),a===null?null:m.Nf(a))}var qi={},Wr=[];function Si(){for(;Wr.length;){var a=Wr.pop();a.Kd.Fe=!1,a.delete()}}var Hr=void 0,Ei={};function Ra(a,f){for(f===void 0&&vt("ptr should not be undefined");a.ae;)f=a.Pe(f),a=a.ae;return Ei[f]}function Ji(a,f){return f.Wd&&f.Sd||gn("makeClassHandle requires ptr and ptrType"),!!f.fe!=!!f.Zd&&gn("Both smartPtrType and smartPtr must be specified"),f.count={value:1},ri(Object.create(a,{Kd:{value:f}}))}function ri(a){return typeof FinalizationRegistry>"u"?(ri=f=>f,a):(bi=new FinalizationRegistry(f=>{Ki(f.Kd)}),ri=f=>{var m=f.Kd;return m.Zd&&bi.register(f,{Kd:m},f),f},Yi=f=>{bi.unregister(f)},ri(a))}function vr(){}function Jo(a){if(a===void 0)return"_unknown";a=a.replace(/[^a-zA-Z0-9_]/g,"$");var f=a.charCodeAt(0);return 48<=f&&57>=f?`_${a}`:a}function Zi(a,f){return a=Jo(a),{[a]:function(){return f.apply(this,arguments)}}[a]}function ii(a,f,m){if(a[f].Yd===void 0){var w=a[f];a[f]=function(){return a[f].Yd.hasOwnProperty(arguments.length)||vt(`Function '${m}' called with an invalid number of arguments (${arguments.length}) - expects one of (${a[f].Yd})!`),a[f].Yd[arguments.length].apply(this,arguments)},a[f].Yd=[],a[f].Yd[w.De]=w}}function oi(a,f,m){n.hasOwnProperty(a)?((m===void 0||n[a].Yd!==void 0&&n[a].Yd[m]!==void 0)&&vt(`Cannot register public name '${a}' twice`),ii(n,a,a),n.hasOwnProperty(m)&&vt(`Cannot register multiple overloads of a function with the same number of arguments (${m})!`),n[a].Yd[m]=f):(n[a]=f,m!==void 0&&(n[a].xg=m))}function eo(a,f,m,w,A,I,H,O){this.name=a,this.constructor=f,this.Ge=m,this.le=w,this.ae=A,this.Sf=I,this.Pe=H,this.Nf=O,this.dg=[]}function Ai(a,f,m){for(;f!==m;)f.Pe||vt(`Expected null or instance of ${m.name}, got an instance of ${f.name}`),a=f.Pe(a),f=f.ae;return a}function ai(a,f){return f===null?(this.hf&&vt(`null is not a valid ${this.name}`),0):(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),Ai(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd))}function si(a,f){if(f===null){if(this.hf&&vt(`null is not a valid ${this.name}`),this.We){var m=this.jf();return a!==null&&a.push(this.le,m),m}return 0}if(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.Ve&&f.Kd.Wd.Ve&&vt(`Cannot convert argument of type ${f.Kd.fe?f.Kd.fe.name:f.Kd.Wd.name} to parameter type ${this.name}`),m=Ai(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd),this.We)switch(f.Kd.Zd===void 0&&vt("Passing raw pointer to smart pointer is illegal"),this.ig){case 0:f.Kd.fe===this?m=f.Kd.Zd:vt(`Cannot convert argument of type ${f.Kd.fe?f.Kd.fe.name:f.Kd.Wd.name} to parameter type ${this.name}`);break;case 1:m=f.Kd.Zd;break;case 2:if(f.Kd.fe===this)m=f.Kd.Zd;else{var w=f.clone();m=this.eg(m,Hn(function(){w.delete()})),a!==null&&a.push(this.le,m)}break;default:vt("Unsupporting sharing policy")}return m}function to(a,f){return f===null?(this.hf&&vt(`null is not a valid ${this.name}`),0):(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),f.Kd.Wd.Ve&&vt(`Cannot convert argument of type ${f.Kd.Wd.name} to parameter type ${this.name}`),Ai(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd))}function ar(a,f,m,w,A,I,H,O,$,X,ve){this.name=a,this.Qd=f,this.hf=m,this.Ve=w,this.We=A,this.cg=I,this.ig=H,this.wf=O,this.jf=$,this.eg=X,this.le=ve,A||f.ae!==void 0?this.toWireType=si:(this.toWireType=w?ai:to,this.ee=null)}function Yt(a,f,m){n.hasOwnProperty(a)||gn("Replacing nonexistant public symbol"),n[a].Yd!==void 0&&m!==void 0?n[a].Yd[m]=f:(n[a]=f,n[a].De=m)}var Zo=(a,f)=>{var m=[];return function(){if(m.length=0,Object.assign(m,arguments),a.includes("j")){var w=n["dynCall_"+a];w=m&&m.length?w.apply(null,[f].concat(m)):w.call(null,f)}else w=ee.get(f).apply(null,m);return w}};function mn(a,f){a=bt(a);var m=a.includes("j")?Zo(a,f):ee.get(f);return typeof m!="function"&&vt(`unknown function pointer with signature ${a}: ${f}`),m}var Kt=void 0;function nn(a){a=ja(a);var f=bt(a);return jr(a),f}function An(a,f){function m(I){A[I]||jt[I]||(Wn[I]?Wn[I].forEach(m):(w.push(I),A[I]=!0))}var w=[],A={};throw f.forEach(m),new Kt(`${a}: `+w.map(nn).join([", "]))}function kn(a,f,m,w,A){var I=f.length;2>I&&vt("argTypes array size mismatch! Must at least get return value and 'this' types!");var H=f[1]!==null&&m!==null,O=!1;for(m=1;m<f.length;++m)if(f[m]!==null&&f[m].ee===void 0){O=!0;break}var $=f[0].name!=="void",X=I-2,ve=Array(X),Ce=[],Ue=[];return function(){if(arguments.length!==X&&vt(`function ${a} called with ${arguments.length} arguments, expected ${X} args!`),Ue.length=0,Ce.length=H?2:1,Ce[0]=A,H){var se=f[1].toWireType(Ue,this);Ce[1]=se}for(var He=0;He<X;++He)ve[He]=f[He+2].toWireType(Ue,arguments[He]),Ce.push(ve[He]);if(He=w.apply(null,Ce),O)Wt(Ue);else for(var tt=H?1:2;tt<f.length;tt++){var rt=tt===1?se:ve[tt-2];f[tt].ee!==null&&f[tt].ee(rt)}return se=$?f[0].fromWireType(He):void 0,se}}function zr(a,f){for(var m=[],w=0;w<a;w++)m.push(Y[f+4*w>>2]);return m}function ea(){this.ke=[void 0],this.tf=[]}var Cn=new ea;function Ci(a){a>=Cn.He&&--Cn.get(a).xf===0&&Cn.Cf(a)}var Rn=a=>(a||vt("Cannot use deleted val. handle = "+a),Cn.get(a).value),Hn=a=>{switch(a){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Cn.Bf({xf:1,value:a})}};function Oa(a,f,m){switch(f){case 0:return function(w){return this.fromWireType((m?le:te)[w])};case 1:return function(w){return this.fromWireType((m?ge:Ae)[w>>1])};case 2:return function(w){return this.fromWireType((m?F:Y)[w>>2])};default:throw new TypeError("Unknown integer type: "+a)}}function _i(a,f){var m=jt[a];return m===void 0&&vt(f+" has unknown type "+nn(a)),m}function Qn(a){if(a===null)return"null";var f=typeof a;return f==="object"||f==="array"||f==="function"?a.toString():""+a}function ta(a,f){switch(f){case 2:return function(m){return this.fromWireType(V[m>>2])};case 3:return function(m){return this.fromWireType(oe[m>>3])};default:throw new TypeError("Unknown float type: "+a)}}function Zc(a,f,m){switch(f){case 0:return m?function(w){return le[w]}:function(w){return te[w]};case 1:return m?function(w){return ge[w>>1]}:function(w){return Ae[w>>1]};case 2:return m?function(w){return F[w>>2]}:function(w){return Y[w>>2]};default:throw new TypeError("Unknown integer type: "+a)}}var On=(a,f,m,w)=>{if(!(0<w))return 0;var A=m;w=m+w-1;for(var I=0;I<a.length;++I){var H=a.charCodeAt(I);if(55296<=H&&57343>=H){var O=a.charCodeAt(++I);H=65536+((H&1023)<<10)|O&1023}if(127>=H){if(m>=w)break;f[m++]=H}else{if(2047>=H){if(m+1>=w)break;f[m++]=192|H>>6}else{if(65535>=H){if(m+2>=w)break;f[m++]=224|H>>12}else{if(m+3>=w)break;f[m++]=240|H>>18,f[m++]=128|H>>12&63}f[m++]=128|H>>6&63}f[m++]=128|H&63}}return f[m]=0,m-A},sr=a=>{for(var f=0,m=0;m<a.length;++m){var w=a.charCodeAt(m);127>=w?f++:2047>=w?f+=2:55296<=w&&57343>=w?(f+=4,++m):f+=3}return f},Vs=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,el=(a,f)=>{for(var m=a>>1,w=m+f/2;!(m>=w)&&Ae[m];)++m;if(m<<=1,32<m-a&&Vs)return Vs.decode(te.subarray(a,m));for(m="",w=0;!(w>=f/2);++w){var A=ge[a+2*w>>1];if(A==0)break;m+=String.fromCharCode(A)}return m},Xs=(a,f,m)=>{if(m===void 0&&(m=2147483647),2>m)return 0;m-=2;var w=f;m=m<2*a.length?m/2:a.length;for(var A=0;A<m;++A)ge[f>>1]=a.charCodeAt(A),f+=2;return ge[f>>1]=0,f-w},Ys=a=>2*a.length,Ks=(a,f)=>{for(var m=0,w="";!(m>=f/4);){var A=F[a+4*m>>2];if(A==0)break;++m,65536<=A?(A-=65536,w+=String.fromCharCode(55296|A>>10,56320|A&1023)):w+=String.fromCharCode(A)}return w},tl=(a,f,m)=>{if(m===void 0&&(m=2147483647),4>m)return 0;var w=f;m=w+m-4;for(var A=0;A<a.length;++A){var I=a.charCodeAt(A);if(55296<=I&&57343>=I){var H=a.charCodeAt(++A);I=65536+((I&1023)<<10)|H&1023}if(F[f>>2]=I,f+=4,f+4>m)break}return F[f>>2]=0,f-w},nl=a=>{for(var f=0,m=0;m<a.length;++m){var w=a.charCodeAt(m);55296<=w&&57343>=w&&++m,f+=4}return f},rl={};function na(a){var f=rl[a];return f===void 0?bt(a):f}var Ao=[];function Na(){function a(f){f.$$$embind_global$$$=f;var m=typeof $$$embind_global$$$=="object"&&f.$$$embind_global$$$==f;return m||delete f.$$$embind_global$$$,m}if(typeof globalThis=="object")return globalThis;if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&a(global)?$$$embind_global$$$=global:typeof self=="object"&&a(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function Qs(a){var f=Ao.length;return Ao.push(a),f}function $a(a,f){for(var m=Array(a),w=0;w<a;++w)m[w]=_i(Y[f+4*w>>2],"parameter "+w);return m}var qs=[];function Js(a){var f=Array(a+1);return function(m,w,A){f[0]=m;for(var I=0;I<a;++I){var H=_i(Y[w+4*I>>2],"parameter "+I);f[I+1]=H.readValueFromPointer(A),A+=H.argPackAdvance}return m=new(m.bind.apply(m,f)),Hn(m)}}var Co={};function Zs(a){var f=a.getExtension("ANGLE_instanced_arrays");f&&(a.vertexAttribDivisor=function(m,w){f.vertexAttribDivisorANGLE(m,w)},a.drawArraysInstanced=function(m,w,A,I){f.drawArraysInstancedANGLE(m,w,A,I)},a.drawElementsInstanced=function(m,w,A,I,H){f.drawElementsInstancedANGLE(m,w,A,I,H)})}function il(a){var f=a.getExtension("OES_vertex_array_object");f&&(a.createVertexArray=function(){return f.createVertexArrayOES()},a.deleteVertexArray=function(m){f.deleteVertexArrayOES(m)},a.bindVertexArray=function(m){f.bindVertexArrayOES(m)},a.isVertexArray=function(m){return f.isVertexArrayOES(m)})}function eu(a){var f=a.getExtension("WEBGL_draw_buffers");f&&(a.drawBuffers=function(m,w){f.drawBuffersWEBGL(m,w)})}var Ba=1,no=[],wr=[],_o=[],Ti=[],zn=[],_n=[],To=[],xr=[],Li=[],ui=[],Da={},Ga={},Ua=4;function $t(a){ra||(ra=a)}function ro(a){for(var f=Ba++,m=a.length;m<f;m++)a[m]=null;return f}function ol(a,f){a.He||(a.He=a.getContext,a.getContext=function(w,A){return A=a.He(w,A),w=="webgl"==A instanceof WebGLRenderingContext?A:null});var m=1<f.majorVersion?a.getContext("webgl2",f):a.getContext("webgl",f);return m?tu(m,f):0}function tu(a,f){var m=ro(xr),w={handle:m,attributes:f,version:f.majorVersion,ge:a};return a.canvas&&(a.canvas.Af=w),xr[m]=w,(typeof f.Of>"u"||f.Of)&&al(w),m}function nu(a){return ut=xr[a],n.vg=J=ut&&ut.ge,!(a&&!J)}function al(a){if(a||(a=ut),!a.Yf){a.Yf=!0;var f=a.ge;Zs(f),il(f),eu(f),f.qf=f.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),f.vf=f.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"),2<=a.version&&(f.rf=f.getExtension("EXT_disjoint_timer_query_webgl2")),(2>a.version||!f.rf)&&(f.rf=f.getExtension("EXT_disjoint_timer_query")),f.wg=f.getExtension("WEBGL_multi_draw"),(f.getSupportedExtensions()||[]).forEach(function(m){m.includes("lose_context")||m.includes("debug")||f.getExtension(m)})}}var ut,ra,Lo={},ru=()=>{if(!Wa){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"},f;for(f in Lo)Lo[f]===void 0?delete a[f]:a[f]=Lo[f];var m=[];for(f in a)m.push(`${f}=${a[f]}`);Wa=m}return Wa},Wa,sl=[null,[],[]];function iu(a){J.bindVertexArray(To[a])}function ou(a,f){for(var m=0;m<a;m++){var w=F[f+4*m>>2];J.deleteVertexArray(To[w]),To[w]=null}}var Pt=[];function Rt(a,f,m,w){J.drawElements(a,f,m,w)}function io(a,f,m,w){for(var A=0;A<a;A++){var I=J[m](),H=I&&ro(w);I?(I.name=H,w[H]=I):$t(1282),F[f+4*A>>2]=H}}function au(a,f){io(a,f,"createVertexArray",To)}function su(a,f,m){if(f){var w=void 0;switch(a){case 36346:w=1;break;case 36344:m!=0&&m!=1&&$t(1280);return;case 34814:case 36345:w=0;break;case 34466:var A=J.getParameter(34467);w=A?A.length:0;break;case 33309:if(2>ut.version){$t(1282);return}w=2*(J.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>ut.version){$t(1280);return}w=a==33307?3:0}if(w===void 0)switch(A=J.getParameter(a),typeof A){case"number":w=A;break;case"boolean":w=A?1:0;break;case"string":$t(1280);return;case"object":if(A===null)switch(a){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:w=0;break;default:$t(1280);return}else{if(A instanceof Float32Array||A instanceof Uint32Array||A instanceof Int32Array||A instanceof Array){for(a=0;a<A.length;++a)switch(m){case 0:F[f+4*a>>2]=A[a];break;case 2:V[f+4*a>>2]=A[a];break;case 4:le[f+a>>0]=A[a]?1:0}return}try{w=A.name|0}catch(I){$t(1280),N("GL_INVALID_ENUM in glGet"+m+"v: Unknown object returned from WebGL getParameter("+a+")! (error: "+I+")");return}}break;default:$t(1280),N("GL_INVALID_ENUM in glGet"+m+"v: Native code calling glGet"+m+"v("+a+") and it returns "+A+" of type "+typeof A+"!");return}switch(m){case 1:m=w,Y[f>>2]=m,Y[f+4>>2]=(m-Y[f>>2])/4294967296;break;case 0:F[f>>2]=w;break;case 2:V[f>>2]=w;break;case 4:le[f>>0]=w?1:0}}else $t(1281)}var Po=a=>{var f=sr(a)+1,m=Fn(f);return m&&On(a,te,m,f),m};function uu(a){return a.slice(-1)=="]"&&a.lastIndexOf("[")}function ia(a){return a-=5120,a==0?le:a==1?te:a==2?ge:a==4?F:a==6?V:a==5||a==28922||a==28520||a==30779||a==30782?Y:Ae}function oa(a,f,m,w,A){a=ia(a);var I=31-Math.clz32(a.BYTES_PER_ELEMENT),H=Ua;return a.subarray(A>>I,A+w*(m*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[f-6402]||1)*(1<<I)+H-1&-H)>>I)}function At(a){var f=J.Lf;if(f){var m=f.Oe[a];return typeof m=="number"&&(f.Oe[a]=m=J.getUniformLocation(f,f.yf[a]+(0<m?"["+m+"]":""))),m}$t(1282)}var Ht=[],Pi=[],_r=a=>a%4===0&&(a%100!==0||a%400===0),Ha=[31,29,31,30,31,30,31,31,30,31,30,31],aa=[31,28,31,30,31,30,31,31,30,31,30,31];function ur(a){var f=Array(sr(a)+1);return On(a,f,0,f.length),f}var cu=(a,f,m,w)=>{function A(se,He,tt){for(se=typeof se=="number"?se.toString():se||"";se.length<He;)se=tt[0]+se;return se}function I(se,He){return A(se,He,"0")}function H(se,He){function tt(Vn){return 0>Vn?-1:0<Vn?1:0}var rt;return(rt=tt(se.getFullYear()-He.getFullYear()))===0&&(rt=tt(se.getMonth()-He.getMonth()))===0&&(rt=tt(se.getDate()-He.getDate())),rt}function O(se){switch(se.getDay()){case 0:return new Date(se.getFullYear()-1,11,29);case 1:return se;case 2:return new Date(se.getFullYear(),0,3);case 3:return new Date(se.getFullYear(),0,2);case 4:return new Date(se.getFullYear(),0,1);case 5:return new Date(se.getFullYear()-1,11,31);case 6:return new Date(se.getFullYear()-1,11,30)}}function $(se){var He=se.pe;for(se=new Date(new Date(se.qe+1900,0,1).getTime());0<He;){var tt=se.getMonth(),rt=(_r(se.getFullYear())?Ha:aa)[tt];if(He>rt-se.getDate())He-=rt-se.getDate()+1,se.setDate(1),11>tt?se.setMonth(tt+1):(se.setMonth(0),se.setFullYear(se.getFullYear()+1));else{se.setDate(se.getDate()+He);break}}return tt=new Date(se.getFullYear()+1,0,4),He=O(new Date(se.getFullYear(),0,4)),tt=O(tt),0>=H(He,se)?0>=H(tt,se)?se.getFullYear()+1:se.getFullYear():se.getFullYear()-1}var X=F[w+40>>2];w={qg:F[w>>2],pg:F[w+4>>2],$e:F[w+8>>2],kf:F[w+12>>2],af:F[w+16>>2],qe:F[w+20>>2],ie:F[w+24>>2],pe:F[w+28>>2],zg:F[w+32>>2],og:F[w+36>>2],rg:X&&X?Ut(te,X):""},m=m?Ut(te,m):"",X={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ve in X)m=m.replace(new RegExp(ve,"g"),X[ve]);var Ce="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ue="January February March April May June July August September October November December".split(" ");X={"%a":se=>Ce[se.ie].substring(0,3),"%A":se=>Ce[se.ie],"%b":se=>Ue[se.af].substring(0,3),"%B":se=>Ue[se.af],"%C":se=>I((se.qe+1900)/100|0,2),"%d":se=>I(se.kf,2),"%e":se=>A(se.kf,2," "),"%g":se=>$(se).toString().substring(2),"%G":se=>$(se),"%H":se=>I(se.$e,2),"%I":se=>(se=se.$e,se==0?se=12:12<se&&(se-=12),I(se,2)),"%j":se=>{for(var He=0,tt=0;tt<=se.af-1;He+=(_r(se.qe+1900)?Ha:aa)[tt++]);return I(se.kf+He,3)},"%m":se=>I(se.af+1,2),"%M":se=>I(se.pg,2),"%n":()=>`
`,"%p":se=>0<=se.$e&&12>se.$e?"AM":"PM","%S":se=>I(se.qg,2),"%t":()=>"	","%u":se=>se.ie||7,"%U":se=>I(Math.floor((se.pe+7-se.ie)/7),2),"%V":se=>{var He=Math.floor((se.pe+7-(se.ie+6)%7)/7);if(2>=(se.ie+371-se.pe-2)%7&&He++,He)He==53&&(tt=(se.ie+371-se.pe)%7,tt==4||tt==3&&_r(se.qe)||(He=1));else{He=52;var tt=(se.ie+7-se.pe-1)%7;(tt==4||tt==5&&_r(se.qe%400-1))&&He++}return I(He,2)},"%w":se=>se.ie,"%W":se=>I(Math.floor((se.pe+7-(se.ie+6)%7)/7),2),"%y":se=>(se.qe+1900).toString().substring(2),"%Y":se=>se.qe+1900,"%z":se=>{se=se.og;var He=0<=se;return se=Math.abs(se)/60,(He?"+":"-")+("0000"+(se/60*100+se%60)).slice(-4)},"%Z":se=>se.rg,"%%":()=>"%"},m=m.replace(/%%/g,"\0\0");for(ve in X)m.includes(ve)&&(m=m.replace(new RegExp(ve,"g"),X[ve](w)));return m=m.replace(/\0\0/g,"%"),ve=ur(m),ve.length>f?0:(le.set(ve,a),ve.length-1)};yr=n.InternalError=class extends Error{constructor(a){super(a),this.name="InternalError"}};for(var za=Array(256),Mo=0;256>Mo;++Mo)za[Mo]=String.fromCharCode(Mo);tn=za,Dt=n.BindingError=class extends Error{constructor(a){super(a),this.name="BindingError"}},vr.prototype.isAliasOf=function(a){if(!(this instanceof vr&&a instanceof vr))return!1;var f=this.Kd.Wd.Qd,m=this.Kd.Sd,w=a.Kd.Wd.Qd;for(a=a.Kd.Sd;f.ae;)m=f.Pe(m),f=f.ae;for(;w.ae;)a=w.Pe(a),w=w.ae;return f===w&&m===a},vr.prototype.clone=function(){if(this.Kd.Sd||xi(this),this.Kd.Ne)return this.Kd.count.value+=1,this;var a=ri,f=Object,m=f.create,w=Object.getPrototypeOf(this),A=this.Kd;return a=a(m.call(f,w,{Kd:{value:{count:A.count,Fe:A.Fe,Ne:A.Ne,Sd:A.Sd,Wd:A.Wd,Zd:A.Zd,fe:A.fe}}})),a.Kd.count.value+=1,a.Kd.Fe=!1,a},vr.prototype.delete=function(){this.Kd.Sd||xi(this),this.Kd.Fe&&!this.Kd.Ne&&vt("Object already scheduled for deletion"),Yi(this),Ki(this.Kd),this.Kd.Ne||(this.Kd.Zd=void 0,this.Kd.Sd=void 0)},vr.prototype.isDeleted=function(){return!this.Kd.Sd},vr.prototype.deleteLater=function(){return this.Kd.Sd||xi(this),this.Kd.Fe&&!this.Kd.Ne&&vt("Object already scheduled for deletion"),Wr.push(this),Wr.length===1&&Hr&&Hr(Si),this.Kd.Fe=!0,this},n.getInheritedInstanceCount=function(){return Object.keys(Ei).length},n.getLiveInheritedInstances=function(){var a=[],f;for(f in Ei)Ei.hasOwnProperty(f)&&a.push(Ei[f]);return a},n.flushPendingDeletes=Si,n.setDelayFunction=function(a){Hr=a,Wr.length&&Hr&&Hr(Si)},ar.prototype.Tf=function(a){return this.wf&&(a=this.wf(a)),a},ar.prototype.pf=function(a){this.le&&this.le(a)},ar.prototype.argPackAdvance=8,ar.prototype.readValueFromPointer=En,ar.prototype.deleteObject=function(a){a!==null&&a.delete()},ar.prototype.fromWireType=function(a){function f(){return this.We?Ji(this.Qd.Ge,{Wd:this.cg,Sd:m,fe:this,Zd:a}):Ji(this.Qd.Ge,{Wd:this,Sd:a})}var m=this.Tf(a);if(!m)return this.pf(a),null;var w=Ra(this.Qd,m);if(w!==void 0)return w.Kd.count.value===0?(w.Kd.Sd=m,w.Kd.Zd=a,w.clone()):(w=w.clone(),this.pf(a),w);if(w=this.Qd.Sf(m),w=qi[w],!w)return f.call(this);w=this.Ve?w.Jf:w.pointerType;var A=Qi(m,this.Qd,w.Qd);return A===null?f.call(this):this.We?Ji(w.Qd.Ge,{Wd:w,Sd:A,fe:this,Zd:a}):Ji(w.Qd.Ge,{Wd:w,Sd:A})},Kt=n.UnboundTypeError=function(a,f){var m=Zi(f,function(w){this.name=f,this.message=w,w=Error(w).stack,w!==void 0&&(this.stack=this.toString()+`
`+w.replace(/^Error(:[^\n]*)?\n/,""))});return m.prototype=Object.create(a.prototype),m.prototype.constructor=m,m.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},m}(Error,"UnboundTypeError"),Object.assign(ea.prototype,{get(a){return this.ke[a]},has(a){return this.ke[a]!==void 0},Bf(a){var f=this.tf.pop()||this.ke.length;return this.ke[f]=a,f},Cf(a){this.ke[a]=void 0,this.tf.push(a)}}),Cn.ke.push({value:void 0},{value:null},{value:!0},{value:!1}),Cn.He=Cn.ke.length,n.count_emval_handles=function(){for(var a=0,f=Cn.He;f<Cn.ke.length;++f)Cn.ke[f]!==void 0&&++a;return a};for(var J,jn=0;32>jn;++jn)Pt.push(Array(jn));var lu=new Float32Array(288);for(jn=0;288>jn;++jn)Ht[jn]=lu.subarray(0,jn+1);var qn=new Int32Array(288);for(jn=0;288>jn;++jn)Pi[jn]=qn.subarray(0,jn+1);var ul={U:function(){return 0},Bb:()=>{},Db:function(){return 0},yb:()=>{},zb:()=>{},V:function(){},Ab:()=>{},E:function(a){var f=wn[a];delete wn[a];var m=f.jf,w=f.le,A=f.sf,I=A.map(H=>H.Wf).concat(A.map(H=>H.gg));at([a],I,H=>{var O={};return A.forEach(($,X)=>{var ve=H[X],Ce=$.Uf,Ue=$.Vf,se=H[X+A.length],He=$.fg,tt=$.hg;O[$.Pf]={read:rt=>ve.fromWireType(Ce(Ue,rt)),write:(rt,Vn)=>{var un=[];He(tt,rt,se.toWireType(un,Vn)),Wt(un)}}}),[{name:f.name,fromWireType:function($){var X={},ve;for(ve in O)X[ve]=O[ve].read($);return w($),X},toWireType:function($,X){for(var ve in O)if(!(ve in X))throw new TypeError(`Missing field: "${ve}"`);var Ce=m();for(ve in O)O[ve].write(Ce,X[ve]);return $!==null&&$.push(w,Ce),Ce},argPackAdvance:8,readValueFromPointer:En,ee:w}]})},qb:function(){},Hb:function(a,f,m,w,A){var I=_t(m);f=bt(f),xn(a,{name:f,fromWireType:function(H){return!!H},toWireType:function(H,O){return O?w:A},argPackAdvance:8,readValueFromPointer:function(H){if(m===1)var O=le;else if(m===2)O=ge;else if(m===4)O=F;else throw new TypeError("Unknown boolean type size: "+f);return this.fromWireType(O[H>>I])},ee:null})},p:function(a,f,m,w,A,I,H,O,$,X,ve,Ce,Ue){ve=bt(ve),I=mn(A,I),O&&(O=mn(H,O)),X&&(X=mn($,X)),Ue=mn(Ce,Ue);var se=Jo(ve);oi(se,function(){An(`Cannot construct ${ve} due to unbound types`,[w])}),at([a,f,m],w?[w]:[],function(He){if(He=He[0],w)var tt=He.Qd,rt=tt.Ge;else rt=vr.prototype;He=Zi(se,function(){if(Object.getPrototypeOf(this)!==Vn)throw new Dt("Use 'new' to construct "+ve);if(un.oe===void 0)throw new Dt(ve+" has no accessible constructor");var cr=un.oe[arguments.length];if(cr===void 0)throw new Dt(`Tried to invoke ctor of ${ve} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(un.oe).toString()}) parameters instead!`);return cr.apply(this,arguments)});var Vn=Object.create(rt,{constructor:{value:He}});He.prototype=Vn;var un=new eo(ve,He,Vn,Ue,tt,I,O,X);un.ae&&(un.ae.Qe===void 0&&(un.ae.Qe=[]),un.ae.Qe.push(un)),tt=new ar(ve,un,!0,!1,!1),rt=new ar(ve+"*",un,!1,!1,!1);var so=new ar(ve+" const*",un,!1,!0,!1);return qi[a]={pointerType:rt,Jf:so},Yt(se,He),[tt,rt,so]})},i:function(a,f,m,w,A,I,H){var O=zr(m,w);f=bt(f),I=mn(A,I),at([],[a],function($){function X(){An(`Cannot call ${ve} due to unbound types`,O)}$=$[0];var ve=`${$.name}.${f}`;f.startsWith("@@")&&(f=Symbol[f.substring(2)]);var Ce=$.Qd.constructor;return Ce[f]===void 0?(X.De=m-1,Ce[f]=X):(ii(Ce,f,ve),Ce[f].Yd[m-1]=X),at([],O,function(Ue){if(Ue=[Ue[0],null].concat(Ue.slice(1)),Ue=kn(ve,Ue,null,I,H),Ce[f].Yd===void 0?(Ue.De=m-1,Ce[f]=Ue):Ce[f].Yd[m-1]=Ue,$.Qd.Qe)for(const se of $.Qd.Qe)se.constructor.hasOwnProperty(f)||(se.constructor[f]=Ue);return[]}),[]})},G:function(a,f,m,w,A,I){var H=zr(f,m);A=mn(w,A),at([],[a],function(O){O=O[0];var $=`constructor ${O.name}`;if(O.Qd.oe===void 0&&(O.Qd.oe=[]),O.Qd.oe[f-1]!==void 0)throw new Dt(`Cannot register multiple constructors with identical number of parameters (${f-1}) for class '${O.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return O.Qd.oe[f-1]=()=>{An(`Cannot construct ${O.name} due to unbound types`,H)},at([],H,function(X){return X.splice(1,0,null),O.Qd.oe[f-1]=kn($,X,null,A,I),[]}),[]})},b:function(a,f,m,w,A,I,H,O){var $=zr(m,w);f=bt(f),I=mn(A,I),at([],[a],function(X){function ve(){An(`Cannot call ${Ce} due to unbound types`,$)}X=X[0];var Ce=`${X.name}.${f}`;f.startsWith("@@")&&(f=Symbol[f.substring(2)]),O&&X.Qd.dg.push(f);var Ue=X.Qd.Ge,se=Ue[f];return se===void 0||se.Yd===void 0&&se.className!==X.name&&se.De===m-2?(ve.De=m-2,ve.className=X.name,Ue[f]=ve):(ii(Ue,f,Ce),Ue[f].Yd[m-2]=ve),at([],$,function(He){return He=kn(Ce,He,X,I,H),Ue[f].Yd===void 0?(He.De=m-2,Ue[f]=He):Ue[f].Yd[m-2]=He,[]}),[]})},v:function(a,f,m){a=bt(a),at([],[f],function(w){return w=w[0],n[a]=w.fromWireType(m),[]})},Gb:function(a,f){f=bt(f),xn(a,{name:f,fromWireType:function(m){var w=Rn(m);return Ci(m),w},toWireType:function(m,w){return Hn(w)},argPackAdvance:8,readValueFromPointer:En,ee:null})},l:function(a,f,m,w){function A(){}m=_t(m),f=bt(f),A.values={},xn(a,{name:f,constructor:A,fromWireType:function(I){return this.constructor.values[I]},toWireType:function(I,H){return H.value},argPackAdvance:8,readValueFromPointer:Oa(f,m,w),ee:null}),oi(f,A)},d:function(a,f,m){var w=_i(a,"enum");f=bt(f),a=w.constructor,w=Object.create(w.constructor.prototype,{value:{value:m},constructor:{value:Zi(`${w.name}_${f}`,function(){})}}),a.values[m]=w,a[f]=w},X:function(a,f,m){m=_t(m),f=bt(f),xn(a,{name:f,fromWireType:function(w){return w},toWireType:function(w,A){return A},argPackAdvance:8,readValueFromPointer:ta(f,m),ee:null})},z:function(a,f,m,w,A,I){var H=zr(f,m);a=bt(a),A=mn(w,A),oi(a,function(){An(`Cannot call ${a} due to unbound types`,H)},f-1),at([],H,function(O){return O=[O[0],null].concat(O.slice(1)),Yt(a,kn(a,O,null,A,I),f-1),[]})},I:function(a,f,m,w,A){f=bt(f),A===-1&&(A=4294967295),A=_t(m);var I=O=>O;if(w===0){var H=32-8*m;I=O=>O<<H>>>H}m=f.includes("unsigned")?function(O,$){return $>>>0}:function(O,$){return $},xn(a,{name:f,fromWireType:I,toWireType:m,argPackAdvance:8,readValueFromPointer:Zc(f,A,w!==0),ee:null})},w:function(a,f,m){function w(I){I>>=2;var H=Y;return new A(H.buffer,H[I+1],H[I])}var A=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][f];m=bt(m),xn(a,{name:m,fromWireType:w,argPackAdvance:8,readValueFromPointer:w},{Xf:!0})},s:function(a,f,m,w,A,I,H,O,$,X,ve,Ce){m=bt(m),I=mn(A,I),O=mn(H,O),X=mn($,X),Ce=mn(ve,Ce),at([a],[f],function(Ue){return Ue=Ue[0],[new ar(m,Ue.Qd,!1,!1,!0,Ue,w,I,O,X,Ce)]})},W:function(a,f){f=bt(f);var m=f==="std::string";xn(a,{name:f,fromWireType:function(w){var A=Y[w>>2],I=w+4;if(m)for(var H=I,O=0;O<=A;++O){var $=I+O;if(O==A||te[$]==0){if(H=H?Ut(te,H,$-H):"",X===void 0)var X=H;else X+="\0",X+=H;H=$+1}}else{for(X=Array(A),O=0;O<A;++O)X[O]=String.fromCharCode(te[I+O]);X=X.join("")}return jr(w),X},toWireType:function(w,A){A instanceof ArrayBuffer&&(A=new Uint8Array(A));var I=typeof A=="string";I||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int8Array||vt("Cannot pass non-string to std::string");var H=m&&I?sr(A):A.length,O=Fn(4+H+1),$=O+4;if(Y[O>>2]=H,m&&I)On(A,te,$,H+1);else if(I)for(I=0;I<H;++I){var X=A.charCodeAt(I);255<X&&(jr($),vt("String has UTF-16 code units that do not fit in 8 bits")),te[$+I]=X}else for(I=0;I<H;++I)te[$+I]=A[I];return w!==null&&w.push(jr,O),O},argPackAdvance:8,readValueFromPointer:En,ee:function(w){jr(w)}})},O:function(a,f,m){if(m=bt(m),f===2)var w=el,A=Xs,I=Ys,H=()=>Ae,O=1;else f===4&&(w=Ks,A=tl,I=nl,H=()=>Y,O=2);xn(a,{name:m,fromWireType:function($){for(var X=Y[$>>2],ve=H(),Ce,Ue=$+4,se=0;se<=X;++se){var He=$+4+se*f;(se==X||ve[He>>O]==0)&&(Ue=w(Ue,He-Ue),Ce===void 0?Ce=Ue:(Ce+="\0",Ce+=Ue),Ue=He+f)}return jr($),Ce},toWireType:function($,X){typeof X!="string"&&vt(`Cannot pass non-string to C++ string type ${m}`);var ve=I(X),Ce=Fn(4+ve+f);return Y[Ce>>2]=ve>>O,A(X,Ce+4,ve+f),$!==null&&$.push(jr,Ce),Ce},argPackAdvance:8,readValueFromPointer:En,ee:function($){jr($)}})},F:function(a,f,m,w,A,I){wn[a]={name:bt(f),jf:mn(m,w),le:mn(A,I),sf:[]}},f:function(a,f,m,w,A,I,H,O,$,X){wn[a].sf.push({Pf:bt(f),Wf:m,Uf:mn(w,A),Vf:I,gg:H,fg:mn(O,$),hg:X})},Ib:function(a,f){f=bt(f),xn(a,{Zf:!0,name:f,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},Fb:()=>!0,ub:()=>{throw 1/0},C:function(a,f,m){a=Rn(a),f=_i(f,"emval::as");var w=[],A=Hn(w);return Y[m>>2]=A,f.toWireType(w,a)},K:function(a,f,m,w,A){a=Ao[a],f=Rn(f),m=na(m);var I=[];return Y[w>>2]=Hn(I),a(f,m,I,A)},r:function(a,f,m,w){a=Ao[a],f=Rn(f),m=na(m),a(f,m,null,w)},c:Ci,J:function(a){return a===0?Hn(Na()):(a=na(a),Hn(Na()[a]))},q:function(a,f){var m=$a(a,f),w=m[0];f=w.name+"_$"+m.slice(1).map(function(H){return H.name}).join("_")+"$";var A=qs[f];if(A!==void 0)return A;var I=Array(a-1);return A=Qs((H,O,$,X)=>{for(var ve=0,Ce=0;Ce<a-1;++Ce)I[Ce]=m[Ce+1].readValueFromPointer(X+ve),ve+=m[Ce+1].argPackAdvance;for(H=H[O].apply(H,I),Ce=0;Ce<a-1;++Ce)m[Ce+1].Mf&&m[Ce+1].Mf(I[Ce]);if(!w.Zf)return w.toWireType($,H)}),qs[f]=A},B:function(a,f){return a=Rn(a),f=Rn(f),Hn(a[f])},n:function(a){4<a&&(Cn.get(a).xf+=1)},L:function(a,f,m,w){a=Rn(a);var A=Co[f];return A||(A=Js(f),Co[f]=A),A(a,m,w)},D:function(){return Hn([])},e:function(a){return Hn(na(a))},x:function(){return Hn({})},kb:function(a){return a=Rn(a),!a},A:function(a){var f=Rn(a);Wt(f),Ci(a)},g:function(a,f,m){a=Rn(a),f=Rn(f),m=Rn(m),a[f]=m},h:function(a,f){return a=_i(a,"_emval_take_value"),a=a.readValueFromPointer(f),Hn(a)},nb:function(){return-52},ob:function(){},a:()=>{Le("")},Eb:()=>performance.now(),vb:a=>{var f=te.length;if(a>>>=0,2147483648<a)return!1;for(var m=1;4>=m;m*=2){var w=f*(1+.2/m);w=Math.min(w,a+100663296);var A=Math;w=Math.max(a,w);e:{A=A.min.call(A,2147483648,w+(65536-w%65536)%65536)-Q.buffer.byteLength+65535>>>16;try{Q.grow(A),ue();var I=1;break e}catch{}I=void 0}if(I)return!0}return!1},lb:function(){return ut?ut.handle:0},wb:(a,f)=>{var m=0;return ru().forEach(function(w,A){var I=f+m;for(A=Y[a+4*A>>2]=I,I=0;I<w.length;++I)le[A++>>0]=w.charCodeAt(I);le[A>>0]=0,m+=w.length+1}),0},xb:(a,f)=>{var m=ru();Y[a>>2]=m.length;var w=0;return m.forEach(function(A){w+=A.length+1}),Y[f>>2]=w,0},Jb:a=>{l(a,new an(a))},N:()=>52,mb:function(){return 52},Cb:()=>52,pb:function(){return 70},T:(a,f,m,w)=>{for(var A=0,I=0;I<m;I++){var H=Y[f>>2],O=Y[f+4>>2];f+=8;for(var $=0;$<O;$++){var X=te[H+$],ve=sl[a];X===0||X===10?((a===1?k:N)(Ut(ve,0)),ve.length=0):ve.push(X)}A+=O}return Y[w>>2]=A,0},aa:function(a){J.activeTexture(a)},ba:function(a,f){J.attachShader(wr[a],_n[f])},ca:function(a,f,m){J.bindAttribLocation(wr[a],f,m?Ut(te,m):"")},da:function(a,f){a==35051?J.ff=f:a==35052&&(J.Ee=f),J.bindBuffer(a,no[f])},$:function(a,f){J.bindFramebuffer(a,_o[f])},fc:function(a,f){J.bindRenderbuffer(a,Ti[f])},Rb:function(a,f){J.bindSampler(a,Li[f])},ea:function(a,f){J.bindTexture(a,zn[f])},zc:iu,Cc:iu,fa:function(a,f,m,w){J.blendColor(a,f,m,w)},ga:function(a){J.blendEquation(a)},ha:function(a,f){J.blendFunc(a,f)},$b:function(a,f,m,w,A,I,H,O,$,X){J.blitFramebuffer(a,f,m,w,A,I,H,O,$,X)},ia:function(a,f,m,w){2<=ut.version?m&&f?J.bufferData(a,te,w,m,f):J.bufferData(a,f,w):J.bufferData(a,m?te.subarray(m,m+f):f,w)},ja:function(a,f,m,w){2<=ut.version?m&&J.bufferSubData(a,f,te,w,m):J.bufferSubData(a,f,te.subarray(w,w+m))},gc:function(a){return J.checkFramebufferStatus(a)},R:function(a){J.clear(a)},_:function(a,f,m,w){J.clearColor(a,f,m,w)},S:function(a){J.clearStencil(a)},sb:function(a,f,m,w){return J.clientWaitSync(ui[a],f,(m>>>0)+4294967296*w)},ka:function(a,f,m,w){J.colorMask(!!a,!!f,!!m,!!w)},la:function(a){J.compileShader(_n[a])},ma:function(a,f,m,w,A,I,H,O){2<=ut.version?J.Ee||!H?J.compressedTexImage2D(a,f,m,w,A,I,H,O):J.compressedTexImage2D(a,f,m,w,A,I,te,O,H):J.compressedTexImage2D(a,f,m,w,A,I,O?te.subarray(O,O+H):null)},na:function(a,f,m,w,A,I,H,O,$){2<=ut.version?J.Ee||!O?J.compressedTexSubImage2D(a,f,m,w,A,I,H,O,$):J.compressedTexSubImage2D(a,f,m,w,A,I,H,te,$,O):J.compressedTexSubImage2D(a,f,m,w,A,I,H,$?te.subarray($,$+O):null)},Zb:function(a,f,m,w,A){J.copyBufferSubData(a,f,m,w,A)},oa:function(a,f,m,w,A,I,H,O){J.copyTexSubImage2D(a,f,m,w,A,I,H,O)},pa:function(){var a=ro(wr),f=J.createProgram();return f.name=a,f.Ze=f.Xe=f.Ye=0,f.lf=1,wr[a]=f,a},qa:function(a){var f=ro(_n);return _n[f]=J.createShader(a),f},ra:function(a){J.cullFace(a)},sa:function(a,f){for(var m=0;m<a;m++){var w=F[f+4*m>>2],A=no[w];A&&(J.deleteBuffer(A),A.name=0,no[w]=null,w==J.ff&&(J.ff=0),w==J.Ee&&(J.Ee=0))}},hc:function(a,f){for(var m=0;m<a;++m){var w=F[f+4*m>>2],A=_o[w];A&&(J.deleteFramebuffer(A),A.name=0,_o[w]=null)}},ta:function(a){if(a){var f=wr[a];f?(J.deleteProgram(f),f.name=0,wr[a]=null):$t(1281)}},ic:function(a,f){for(var m=0;m<a;m++){var w=F[f+4*m>>2],A=Ti[w];A&&(J.deleteRenderbuffer(A),A.name=0,Ti[w]=null)}},Sb:function(a,f){for(var m=0;m<a;m++){var w=F[f+4*m>>2],A=Li[w];A&&(J.deleteSampler(A),A.name=0,Li[w]=null)}},ua:function(a){if(a){var f=_n[a];f?(J.deleteShader(f),_n[a]=null):$t(1281)}},_b:function(a){if(a){var f=ui[a];f?(J.deleteSync(f),f.name=0,ui[a]=null):$t(1281)}},va:function(a,f){for(var m=0;m<a;m++){var w=F[f+4*m>>2],A=zn[w];A&&(J.deleteTexture(A),A.name=0,zn[w]=null)}},Ac:ou,Dc:ou,wa:function(a){J.depthMask(!!a)},xa:function(a){J.disable(a)},ya:function(a){J.disableVertexAttribArray(a)},za:function(a,f,m){J.drawArrays(a,f,m)},xc:function(a,f,m,w){J.drawArraysInstanced(a,f,m,w)},vc:function(a,f,m,w,A){J.qf.drawArraysInstancedBaseInstanceWEBGL(a,f,m,w,A)},tc:function(a,f){for(var m=Pt[a],w=0;w<a;w++)m[w]=F[f+4*w>>2];J.drawBuffers(m)},Aa:Rt,yc:function(a,f,m,w,A){J.drawElementsInstanced(a,f,m,w,A)},wc:function(a,f,m,w,A,I,H){J.qf.drawElementsInstancedBaseVertexBaseInstanceWEBGL(a,f,m,w,A,I,H)},nc:function(a,f,m,w,A,I){Rt(a,w,A,I)},Ba:function(a){J.enable(a)},Ca:function(a){J.enableVertexAttribArray(a)},Xb:function(a,f){return(a=J.fenceSync(a,f))?(f=ro(ui),a.name=f,ui[f]=a,f):0},Da:function(){J.finish()},Ea:function(){J.flush()},jc:function(a,f,m,w){J.framebufferRenderbuffer(a,f,m,Ti[w])},kc:function(a,f,m,w,A){J.framebufferTexture2D(a,f,m,zn[w],A)},Fa:function(a){J.frontFace(a)},Ga:function(a,f){io(a,f,"createBuffer",no)},lc:function(a,f){io(a,f,"createFramebuffer",_o)},mc:function(a,f){io(a,f,"createRenderbuffer",Ti)},Tb:function(a,f){io(a,f,"createSampler",Li)},Ha:function(a,f){io(a,f,"createTexture",zn)},Bc:au,Ec:au,bc:function(a){J.generateMipmap(a)},Ia:function(a,f,m){m?F[m>>2]=J.getBufferParameter(a,f):$t(1281)},Ja:function(){var a=J.getError()||ra;return ra=0,a},Ka:function(a,f){su(a,f,2)},cc:function(a,f,m,w){a=J.getFramebufferAttachmentParameter(a,f,m),(a instanceof WebGLRenderbuffer||a instanceof WebGLTexture)&&(a=a.name|0),F[w>>2]=a},M:function(a,f){su(a,f,0)},La:function(a,f,m,w){a=J.getProgramInfoLog(wr[a]),a===null&&(a="(unknown error)"),f=0<f&&w?On(a,te,w,f):0,m&&(F[m>>2]=f)},Ma:function(a,f,m){if(m)if(a>=Ba)$t(1281);else if(a=wr[a],f==35716)a=J.getProgramInfoLog(a),a===null&&(a="(unknown error)"),F[m>>2]=a.length+1;else if(f==35719){if(!a.Ze)for(f=0;f<J.getProgramParameter(a,35718);++f)a.Ze=Math.max(a.Ze,J.getActiveUniform(a,f).name.length+1);F[m>>2]=a.Ze}else if(f==35722){if(!a.Xe)for(f=0;f<J.getProgramParameter(a,35721);++f)a.Xe=Math.max(a.Xe,J.getActiveAttrib(a,f).name.length+1);F[m>>2]=a.Xe}else if(f==35381){if(!a.Ye)for(f=0;f<J.getProgramParameter(a,35382);++f)a.Ye=Math.max(a.Ye,J.getActiveUniformBlockName(a,f).length+1);F[m>>2]=a.Ye}else F[m>>2]=J.getProgramParameter(a,f);else $t(1281)},dc:function(a,f,m){m?F[m>>2]=J.getRenderbufferParameter(a,f):$t(1281)},Na:function(a,f,m,w){a=J.getShaderInfoLog(_n[a]),a===null&&(a="(unknown error)"),f=0<f&&w?On(a,te,w,f):0,m&&(F[m>>2]=f)},Ob:function(a,f,m,w){a=J.getShaderPrecisionFormat(a,f),F[m>>2]=a.rangeMin,F[m+4>>2]=a.rangeMax,F[w>>2]=a.precision},Oa:function(a,f,m){m?f==35716?(a=J.getShaderInfoLog(_n[a]),a===null&&(a="(unknown error)"),F[m>>2]=a?a.length+1:0):f==35720?(a=J.getShaderSource(_n[a]),F[m>>2]=a?a.length+1:0):F[m>>2]=J.getShaderParameter(_n[a],f):$t(1281)},Q:function(a){var f=Da[a];if(!f){switch(a){case 7939:f=J.getSupportedExtensions()||[],f=f.concat(f.map(function(w){return"GL_"+w})),f=Po(f.join(" "));break;case 7936:case 7937:case 37445:case 37446:(f=J.getParameter(a))||$t(1280),f=f&&Po(f);break;case 7938:f=J.getParameter(7938),f=2<=ut.version?"OpenGL ES 3.0 ("+f+")":"OpenGL ES 2.0 ("+f+")",f=Po(f);break;case 35724:f=J.getParameter(35724);var m=f.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);m!==null&&(m[1].length==3&&(m[1]+="0"),f="OpenGL ES GLSL ES "+m[1]+" ("+f+")"),f=Po(f);break;default:$t(1280)}Da[a]=f}return f},jb:function(a,f){if(2>ut.version)return $t(1282),0;var m=Ga[a];if(m)return 0>f||f>=m.length?($t(1281),0):m[f];switch(a){case 7939:return m=J.getSupportedExtensions()||[],m=m.concat(m.map(function(w){return"GL_"+w})),m=m.map(function(w){return Po(w)}),m=Ga[a]=m,0>f||f>=m.length?($t(1281),0):m[f];default:return $t(1280),0}},Pa:function(a,f){if(f=f?Ut(te,f):"",a=wr[a]){var m=a,w=m.Oe,A=m.zf,I;if(!w)for(m.Oe=w={},m.yf={},I=0;I<J.getProgramParameter(m,35718);++I){var H=J.getActiveUniform(m,I),O=H.name;H=H.size;var $=uu(O);$=0<$?O.slice(0,$):O;var X=m.lf;for(m.lf+=H,A[$]=[H,X],O=0;O<H;++O)w[X]=O,m.yf[X++]=$}if(m=a.Oe,w=0,A=f,I=uu(f),0<I&&(w=parseInt(f.slice(I+1))>>>0,A=f.slice(0,I)),(A=a.zf[A])&&w<A[0]&&(w+=A[1],m[w]=m[w]||J.getUniformLocation(a,f)))return w}else $t(1281);return-1},Pb:function(a,f,m){for(var w=Pt[f],A=0;A<f;A++)w[A]=F[m+4*A>>2];J.invalidateFramebuffer(a,w)},Qb:function(a,f,m,w,A,I,H){for(var O=Pt[f],$=0;$<f;$++)O[$]=F[m+4*$>>2];J.invalidateSubFramebuffer(a,O,w,A,I,H)},Yb:function(a){return J.isSync(ui[a])},Qa:function(a){return(a=zn[a])?J.isTexture(a):0},Ra:function(a){J.lineWidth(a)},Sa:function(a){a=wr[a],J.linkProgram(a),a.Oe=0,a.zf={}},rc:function(a,f,m,w,A,I){J.vf.multiDrawArraysInstancedBaseInstanceWEBGL(a,F,f>>2,F,m>>2,F,w>>2,Y,A>>2,I)},sc:function(a,f,m,w,A,I,H,O){J.vf.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(a,F,f>>2,m,F,w>>2,F,A>>2,F,I>>2,Y,H>>2,O)},Ta:function(a,f){a==3317&&(Ua=f),J.pixelStorei(a,f)},uc:function(a){J.readBuffer(a)},Ua:function(a,f,m,w,A,I,H){if(2<=ut.version)if(J.ff)J.readPixels(a,f,m,w,A,I,H);else{var O=ia(I);J.readPixels(a,f,m,w,A,I,O,H>>31-Math.clz32(O.BYTES_PER_ELEMENT))}else(H=oa(I,A,m,w,H))?J.readPixels(a,f,m,w,A,I,H):$t(1280)},ec:function(a,f,m,w){J.renderbufferStorage(a,f,m,w)},ac:function(a,f,m,w,A){J.renderbufferStorageMultisample(a,f,m,w,A)},Ub:function(a,f,m){J.samplerParameterf(Li[a],f,m)},Vb:function(a,f,m){J.samplerParameteri(Li[a],f,m)},Wb:function(a,f,m){J.samplerParameteri(Li[a],f,F[m>>2])},Va:function(a,f,m,w){J.scissor(a,f,m,w)},Wa:function(a,f,m,w){for(var A="",I=0;I<f;++I){var H=w?F[w+4*I>>2]:-1,O=F[m+4*I>>2];H=O?Ut(te,O,0>H?void 0:H):"",A+=H}J.shaderSource(_n[a],A)},Xa:function(a,f,m){J.stencilFunc(a,f,m)},Ya:function(a,f,m,w){J.stencilFuncSeparate(a,f,m,w)},Za:function(a){J.stencilMask(a)},_a:function(a,f){J.stencilMaskSeparate(a,f)},$a:function(a,f,m){J.stencilOp(a,f,m)},ab:function(a,f,m,w){J.stencilOpSeparate(a,f,m,w)},bb:function(a,f,m,w,A,I,H,O,$){if(2<=ut.version)if(J.Ee)J.texImage2D(a,f,m,w,A,I,H,O,$);else if($){var X=ia(O);J.texImage2D(a,f,m,w,A,I,H,O,X,$>>31-Math.clz32(X.BYTES_PER_ELEMENT))}else J.texImage2D(a,f,m,w,A,I,H,O,null);else J.texImage2D(a,f,m,w,A,I,H,O,$?oa(O,H,w,A,$):null)},cb:function(a,f,m){J.texParameterf(a,f,m)},db:function(a,f,m){J.texParameterf(a,f,V[m>>2])},eb:function(a,f,m){J.texParameteri(a,f,m)},fb:function(a,f,m){J.texParameteri(a,f,F[m>>2])},oc:function(a,f,m,w,A){J.texStorage2D(a,f,m,w,A)},gb:function(a,f,m,w,A,I,H,O,$){if(2<=ut.version)if(J.Ee)J.texSubImage2D(a,f,m,w,A,I,H,O,$);else if($){var X=ia(O);J.texSubImage2D(a,f,m,w,A,I,H,O,X,$>>31-Math.clz32(X.BYTES_PER_ELEMENT))}else J.texSubImage2D(a,f,m,w,A,I,H,O,null);else X=null,$&&(X=oa(O,H,A,I,$)),J.texSubImage2D(a,f,m,w,A,I,H,O,X)},hb:function(a,f){J.uniform1f(At(a),f)},ib:function(a,f,m){if(2<=ut.version)f&&J.uniform1fv(At(a),V,m>>2,f);else{if(288>=f)for(var w=Ht[f-1],A=0;A<f;++A)w[A]=V[m+4*A>>2];else w=V.subarray(m>>2,m+4*f>>2);J.uniform1fv(At(a),w)}},Zc:function(a,f){J.uniform1i(At(a),f)},_c:function(a,f,m){if(2<=ut.version)f&&J.uniform1iv(At(a),F,m>>2,f);else{if(288>=f)for(var w=Pi[f-1],A=0;A<f;++A)w[A]=F[m+4*A>>2];else w=F.subarray(m>>2,m+4*f>>2);J.uniform1iv(At(a),w)}},$c:function(a,f,m){J.uniform2f(At(a),f,m)},ad:function(a,f,m){if(2<=ut.version)f&&J.uniform2fv(At(a),V,m>>2,2*f);else{if(144>=f)for(var w=Ht[2*f-1],A=0;A<2*f;A+=2)w[A]=V[m+4*A>>2],w[A+1]=V[m+(4*A+4)>>2];else w=V.subarray(m>>2,m+8*f>>2);J.uniform2fv(At(a),w)}},Yc:function(a,f,m){J.uniform2i(At(a),f,m)},Xc:function(a,f,m){if(2<=ut.version)f&&J.uniform2iv(At(a),F,m>>2,2*f);else{if(144>=f)for(var w=Pi[2*f-1],A=0;A<2*f;A+=2)w[A]=F[m+4*A>>2],w[A+1]=F[m+(4*A+4)>>2];else w=F.subarray(m>>2,m+8*f>>2);J.uniform2iv(At(a),w)}},Wc:function(a,f,m,w){J.uniform3f(At(a),f,m,w)},Vc:function(a,f,m){if(2<=ut.version)f&&J.uniform3fv(At(a),V,m>>2,3*f);else{if(96>=f)for(var w=Ht[3*f-1],A=0;A<3*f;A+=3)w[A]=V[m+4*A>>2],w[A+1]=V[m+(4*A+4)>>2],w[A+2]=V[m+(4*A+8)>>2];else w=V.subarray(m>>2,m+12*f>>2);J.uniform3fv(At(a),w)}},Uc:function(a,f,m,w){J.uniform3i(At(a),f,m,w)},Tc:function(a,f,m){if(2<=ut.version)f&&J.uniform3iv(At(a),F,m>>2,3*f);else{if(96>=f)for(var w=Pi[3*f-1],A=0;A<3*f;A+=3)w[A]=F[m+4*A>>2],w[A+1]=F[m+(4*A+4)>>2],w[A+2]=F[m+(4*A+8)>>2];else w=F.subarray(m>>2,m+12*f>>2);J.uniform3iv(At(a),w)}},Sc:function(a,f,m,w,A){J.uniform4f(At(a),f,m,w,A)},Rc:function(a,f,m){if(2<=ut.version)f&&J.uniform4fv(At(a),V,m>>2,4*f);else{if(72>=f){var w=Ht[4*f-1],A=V;m>>=2;for(var I=0;I<4*f;I+=4){var H=m+I;w[I]=A[H],w[I+1]=A[H+1],w[I+2]=A[H+2],w[I+3]=A[H+3]}}else w=V.subarray(m>>2,m+16*f>>2);J.uniform4fv(At(a),w)}},Fc:function(a,f,m,w,A){J.uniform4i(At(a),f,m,w,A)},Gc:function(a,f,m){if(2<=ut.version)f&&J.uniform4iv(At(a),F,m>>2,4*f);else{if(72>=f)for(var w=Pi[4*f-1],A=0;A<4*f;A+=4)w[A]=F[m+4*A>>2],w[A+1]=F[m+(4*A+4)>>2],w[A+2]=F[m+(4*A+8)>>2],w[A+3]=F[m+(4*A+12)>>2];else w=F.subarray(m>>2,m+16*f>>2);J.uniform4iv(At(a),w)}},Hc:function(a,f,m,w){if(2<=ut.version)f&&J.uniformMatrix2fv(At(a),!!m,V,w>>2,4*f);else{if(72>=f)for(var A=Ht[4*f-1],I=0;I<4*f;I+=4)A[I]=V[w+4*I>>2],A[I+1]=V[w+(4*I+4)>>2],A[I+2]=V[w+(4*I+8)>>2],A[I+3]=V[w+(4*I+12)>>2];else A=V.subarray(w>>2,w+16*f>>2);J.uniformMatrix2fv(At(a),!!m,A)}},Ic:function(a,f,m,w){if(2<=ut.version)f&&J.uniformMatrix3fv(At(a),!!m,V,w>>2,9*f);else{if(32>=f)for(var A=Ht[9*f-1],I=0;I<9*f;I+=9)A[I]=V[w+4*I>>2],A[I+1]=V[w+(4*I+4)>>2],A[I+2]=V[w+(4*I+8)>>2],A[I+3]=V[w+(4*I+12)>>2],A[I+4]=V[w+(4*I+16)>>2],A[I+5]=V[w+(4*I+20)>>2],A[I+6]=V[w+(4*I+24)>>2],A[I+7]=V[w+(4*I+28)>>2],A[I+8]=V[w+(4*I+32)>>2];else A=V.subarray(w>>2,w+36*f>>2);J.uniformMatrix3fv(At(a),!!m,A)}},Jc:function(a,f,m,w){if(2<=ut.version)f&&J.uniformMatrix4fv(At(a),!!m,V,w>>2,16*f);else{if(18>=f){var A=Ht[16*f-1],I=V;w>>=2;for(var H=0;H<16*f;H+=16){var O=w+H;A[H]=I[O],A[H+1]=I[O+1],A[H+2]=I[O+2],A[H+3]=I[O+3],A[H+4]=I[O+4],A[H+5]=I[O+5],A[H+6]=I[O+6],A[H+7]=I[O+7],A[H+8]=I[O+8],A[H+9]=I[O+9],A[H+10]=I[O+10],A[H+11]=I[O+11],A[H+12]=I[O+12],A[H+13]=I[O+13],A[H+14]=I[O+14],A[H+15]=I[O+15]}}else A=V.subarray(w>>2,w+64*f>>2);J.uniformMatrix4fv(At(a),!!m,A)}},Kc:function(a){a=wr[a],J.useProgram(a),J.Lf=a},Lc:function(a,f){J.vertexAttrib1f(a,f)},Mc:function(a,f){J.vertexAttrib2f(a,V[f>>2],V[f+4>>2])},Nc:function(a,f){J.vertexAttrib3f(a,V[f>>2],V[f+4>>2],V[f+8>>2])},Oc:function(a,f){J.vertexAttrib4f(a,V[f>>2],V[f+4>>2],V[f+8>>2],V[f+12>>2])},pc:function(a,f){J.vertexAttribDivisor(a,f)},qc:function(a,f,m,w,A){J.vertexAttribIPointer(a,f,m,w,A)},Pc:function(a,f,m,w,A,I){J.vertexAttribPointer(a,f,m,!!w,A,I)},Qc:function(a,f,m,w){J.viewport(a,f,m,w)},rb:function(a,f,m,w){J.waitSync(ui[a],f,(m>>>0)+4294967296*w)},j:Xa,m:zt,k:cl,H:Va,Lb:hl,Z:du,Y:Ya,P:sa,o:ll,y:dl,u:fl,t:ci,Kb:hu,Mb:oo,Nb:fu,tb:(a,f,m,w)=>cu(a,f,m,w)};(function(){function a(m){if(W=m=m.exports,Q=W.bd,ue(),ee=W.ed,j.unshift(W.cd),Me--,n.monitorRunDependencies&&n.monitorRunDependencies(Me),Me==0&&Oe){var w=Oe;Oe=null,w()}return m}var f={a:ul};if(Me++,n.monitorRunDependencies&&n.monitorRunDependencies(Me),n.instantiateWasm)try{return n.instantiateWasm(f,a)}catch(m){N("Module.instantiateWasm callback failed with error: "+m),i(m)}return In(f,function(m){a(m.instance)}).catch(i),{}})();var Fn=n._malloc=a=>(Fn=n._malloc=W.dd)(a),jr=n._free=a=>(jr=n._free=W.fd)(a),ja=a=>(ja=W.gd)(a);n.__embind_initialize_bindings=()=>(n.__embind_initialize_bindings=W.hd)();var Vt=(a,f)=>(Vt=W.id)(a,f),sn=()=>(sn=W.jd)(),yn=a=>(yn=W.kd)(a);n.dynCall_viji=(a,f,m,w,A)=>(n.dynCall_viji=W.ld)(a,f,m,w,A),n.dynCall_vijiii=(a,f,m,w,A,I,H)=>(n.dynCall_vijiii=W.md)(a,f,m,w,A,I,H),n.dynCall_viiiiij=(a,f,m,w,A,I,H,O)=>(n.dynCall_viiiiij=W.nd)(a,f,m,w,A,I,H,O),n.dynCall_jiiiijiiiii=(a,f,m,w,A,I,H,O,$,X,ve,Ce)=>(n.dynCall_jiiiijiiiii=W.od)(a,f,m,w,A,I,H,O,$,X,ve,Ce),n.dynCall_viiij=(a,f,m,w,A,I)=>(n.dynCall_viiij=W.pd)(a,f,m,w,A,I),n.dynCall_jii=(a,f,m)=>(n.dynCall_jii=W.qd)(a,f,m),n.dynCall_vij=(a,f,m,w)=>(n.dynCall_vij=W.rd)(a,f,m,w),n.dynCall_iiij=(a,f,m,w,A)=>(n.dynCall_iiij=W.sd)(a,f,m,w,A),n.dynCall_iiiij=(a,f,m,w,A,I)=>(n.dynCall_iiiij=W.td)(a,f,m,w,A,I),n.dynCall_viij=(a,f,m,w,A)=>(n.dynCall_viij=W.ud)(a,f,m,w,A),n.dynCall_ji=(a,f)=>(n.dynCall_ji=W.vd)(a,f),n.dynCall_iij=(a,f,m,w)=>(n.dynCall_iij=W.wd)(a,f,m,w),n.dynCall_jiiiii=(a,f,m,w,A,I)=>(n.dynCall_jiiiii=W.xd)(a,f,m,w,A,I),n.dynCall_jiiiiii=(a,f,m,w,A,I,H)=>(n.dynCall_jiiiiii=W.yd)(a,f,m,w,A,I,H),n.dynCall_jiiiiji=(a,f,m,w,A,I,H,O)=>(n.dynCall_jiiiiji=W.zd)(a,f,m,w,A,I,H,O),n.dynCall_iijj=(a,f,m,w,A,I)=>(n.dynCall_iijj=W.Ad)(a,f,m,w,A,I),n.dynCall_iiiji=(a,f,m,w,A,I)=>(n.dynCall_iiiji=W.Bd)(a,f,m,w,A,I),n.dynCall_iiji=(a,f,m,w,A)=>(n.dynCall_iiji=W.Cd)(a,f,m,w,A),n.dynCall_iijjiii=(a,f,m,w,A,I,H,O,$)=>(n.dynCall_iijjiii=W.Dd)(a,f,m,w,A,I,H,O,$),n.dynCall_vijjjii=(a,f,m,w,A,I,H,O,$,X)=>(n.dynCall_vijjjii=W.Ed)(a,f,m,w,A,I,H,O,$,X),n.dynCall_jiji=(a,f,m,w,A)=>(n.dynCall_jiji=W.Fd)(a,f,m,w,A),n.dynCall_viijii=(a,f,m,w,A,I,H)=>(n.dynCall_viijii=W.Gd)(a,f,m,w,A,I,H),n.dynCall_iiiiij=(a,f,m,w,A,I,H)=>(n.dynCall_iiiiij=W.Hd)(a,f,m,w,A,I,H),n.dynCall_iiiiijj=(a,f,m,w,A,I,H,O,$)=>(n.dynCall_iiiiijj=W.Id)(a,f,m,w,A,I,H,O,$),n.dynCall_iiiiiijj=(a,f,m,w,A,I,H,O,$,X)=>(n.dynCall_iiiiiijj=W.Jd)(a,f,m,w,A,I,H,O,$,X);function zt(a,f,m){var w=sn();try{return ee.get(a)(f,m)}catch(A){if(yn(w),A!==A+0)throw A;Vt(1,0)}}function ci(a,f,m,w,A){var I=sn();try{ee.get(a)(f,m,w,A)}catch(H){if(yn(I),H!==H+0)throw H;Vt(1,0)}}function Va(a,f,m,w,A){var I=sn();try{return ee.get(a)(f,m,w,A)}catch(H){if(yn(I),H!==H+0)throw H;Vt(1,0)}}function cl(a,f,m,w){var A=sn();try{return ee.get(a)(f,m,w)}catch(I){if(yn(A),I!==I+0)throw I;Vt(1,0)}}function Xa(a,f){var m=sn();try{return ee.get(a)(f)}catch(w){if(yn(m),w!==w+0)throw w;Vt(1,0)}}function ll(a,f){var m=sn();try{ee.get(a)(f)}catch(w){if(yn(m),w!==w+0)throw w;Vt(1,0)}}function fl(a,f,m,w){var A=sn();try{ee.get(a)(f,m,w)}catch(I){if(yn(A),I!==I+0)throw I;Vt(1,0)}}function dl(a,f,m){var w=sn();try{ee.get(a)(f,m)}catch(A){if(yn(w),A!==A+0)throw A;Vt(1,0)}}function fu(a,f,m,w,A,I,H,O,$,X){var ve=sn();try{ee.get(a)(f,m,w,A,I,H,O,$,X)}catch(Ce){if(yn(ve),Ce!==Ce+0)throw Ce;Vt(1,0)}}function sa(a){var f=sn();try{ee.get(a)()}catch(m){if(yn(f),m!==m+0)throw m;Vt(1,0)}}function oo(a,f,m,w,A,I,H){var O=sn();try{ee.get(a)(f,m,w,A,I,H)}catch($){if(yn(O),$!==$+0)throw $;Vt(1,0)}}function hl(a,f,m,w,A,I){var H=sn();try{return ee.get(a)(f,m,w,A,I)}catch(O){if(yn(H),O!==O+0)throw O;Vt(1,0)}}function du(a,f,m,w,A,I,H){var O=sn();try{return ee.get(a)(f,m,w,A,I,H)}catch($){if(yn(O),$!==$+0)throw $;Vt(1,0)}}function hu(a,f,m,w,A,I){var H=sn();try{ee.get(a)(f,m,w,A,I)}catch(O){if(yn(H),O!==O+0)throw O;Vt(1,0)}}function Ya(a,f,m,w,A,I,H,O,$,X){var ve=sn();try{return ee.get(a)(f,m,w,A,I,H,O,$,X)}catch(Ce){if(yn(ve),Ce!==Ce+0)throw Ce;Vt(1,0)}}var ao;Oe=function a(){ao||Ka(),ao||(Oe=a)};function Ka(){function a(){if(!ao&&(ao=!0,n.calledRun=!0,!ae)){if(pn(j),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;){var f=n.postRun.shift();ne.unshift(f)}pn(ne)}}if(!(0<Me)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)me();pn(Se),0<Me||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),a()},1)):a())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return Ka(),e.ready}})();const xs=255,Qp=100,S2=({h:t,s:e,v:n,a:r})=>{const i=t/60,u=e/Qp;let c=n/Qp;const l=Math.floor(i)%6,h=i-Math.floor(i),p=xs*c*(1-u),v=xs*c*(1-u*h),x=xs*c*(1-u*(1-h));c*=xs;const E={};switch(l){case 0:E.r=c,E.g=x,E.b=p;break;case 1:E.r=v,E.g=c,E.b=p;break;case 2:E.r=p,E.g=c,E.b=x;break;case 3:E.r=p,E.g=v,E.b=c;break;case 4:E.r=x,E.g=p,E.b=c;break;case 5:E.r=c,E.g=p,E.b=v;break}return E.r=Math.round(E.r),E.g=Math.round(E.g),E.b=Math.round(E.b),{...E,a:r}};function E2(t){const e=t.replace("#","");let n=t;/^#?/.test(n)&&e.length===3&&(n=`#${e.charAt(0)}${e.charAt(0)}${e.charAt(1)}${e.charAt(1)}${e.charAt(2)}${e.charAt(2)}`);const[r,i,u=0,c]=n.match(/[A-Za-z0-9]{2}/g).map(l=>parseInt(l,16));return{r,g:i,b:u,a:c?c/xs:1}}function f0({r:t,g:e,b:n}){const r=t<<16|e<<8|n;return`#${(i=>new Array(7-i.length).join("0")+i)(r.toString(16))}`}function A2(t){return f0(S2(t))}function tk(t,e,n){return A2({h:t,s:e,v:n,a:1})}function nk(t,e,n=180){let r=n;if(r>=360&&(r-=360),r<0&&(r+=360),r=Math.round(r),r===0)return{x0:Math.round(t/2),y0:e,x1:Math.round(t/2),y1:0};if(r===180)return{x0:Math.round(t/2),y0:0,x1:Math.round(t/2),y1:e};if(r===90)return{x0:0,y0:Math.round(e/2),x1:t,y1:Math.round(e/2)};if(r===270)return{x0:t,y0:Math.round(e/2),x1:0,y1:Math.round(e/2)};const i=Math.round(Math.asin(t/Math.sqrt(t**2+e**2))*180/Math.PI);if(r===i)return{x0:0,y0:e,x1:t,y1:0};if(r===180-i)return{x0:0,y0:0,x1:t,y1:e};if(r===180+i)return{x0:t,y0:0,x1:0,y1:e};if(r===360-i)return{x0:t,y0:e,x1:0,y1:0};let u=0,c=0,l=0,h=0;if(r<i||r>180-i&&r<180||r>180&&r<180+i||r>360-i){const p=r*Math.PI/180,v=r<i||r>360-i?e/2:-e/2,x=Math.tan(p)*v,E=r<i||r>180-i&&r<180?t/2-x:-t/2-x,_=Math.sin(p)**2*E;l=x+_,h=v+_/Math.tan(p),u=-l,c=-h}if(r>i&&r<90||r>90&&r<180-i||r>180+i&&r<270||r>270&&r<360-i){const p=(90-r)*Math.PI/180,v=r>i&&r<90||r>90&&r<180-i?t/2:-t/2,x=Math.tan(p)*v,E=r>i&&r<90||r>270&&r<360-i?e/2-x:-e/2-x,_=Math.sin(p)**2*E;l=v+_/Math.tan(p),h=x+_,u=-l,c=-h}return u=Math.round(u+t/2),c=Math.round(e/2-c),l=Math.round(l+t/2),h=Math.round(e/2-h),{x0:u,y0:c,x1:l,y1:h}}class qp{constructor(e){this.r=0,this.g=0,this.b=0,this.a=1,this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}toFigmaArray(){return[this.r/255,this.g/255,this.b/255,this.a]}toFigmaColor(){return{r:this.r/255,g:this.g/255,b:this.b/255,a:this.a}}toHex(){return f0({r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b)})}}function hn(t){if(typeof t=="string"){const e=E2(t);return typeof e.a!="number"&&(e.a=1),new qp(e)}return new qp({r:t.r*255,g:t.g*255,b:t.b*255,a:t.a})}var Uu,C2=new Uint8Array(16);function _2(){if(!Uu&&(Uu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Uu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Uu(C2)}const T2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function L2(t){return typeof t=="string"&&T2.test(t)}var Bn=[];for(var sf=0;sf<256;++sf)Bn.push((sf+256).toString(16).substr(1));function P2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Bn[t[e+0]]+Bn[t[e+1]]+Bn[t[e+2]]+Bn[t[e+3]]+"-"+Bn[t[e+4]]+Bn[t[e+5]]+"-"+Bn[t[e+6]]+Bn[t[e+7]]+"-"+Bn[t[e+8]]+Bn[t[e+9]]+"-"+Bn[t[e+10]]+Bn[t[e+11]]+Bn[t[e+12]]+Bn[t[e+13]]+Bn[t[e+14]]+Bn[t[e+15]]).toLowerCase();if(!L2(n))throw TypeError("Stringified UUID is invalid");return n}function M2(t,e,n){t=t||{};var r=t.random||(t.rng||_2)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,P2(r)}function I2(t,e){throw new Error([t,e.toString()].join(`
`))}function d0(){return M2()}const h0=d0;function uf(t,e,n="color"){let r=1,i="",u=t;if(/^#/.test(t)||(u=""),/^#[0-9a-fA-F]{3}$/.test(t)){const h=t.replace("#","");u=`#${h}${h}`}const c=u.replace("#","").match(/\w{1,2}/g),l=[];return c&&c.forEach((h,p)=>{if(p===3){const x=parseInt(h,16);r=Math.round(x/255*100)/100;return}let v=h;e!=="6hex"&&(v=parseInt(h,16)),l.push(v)}),l.length&&(e==="6hex"&&(i=`#${l.join("")}`),e==="rgb"&&(i=`rgb(${l.join(",")})`),e==="rgba"&&(i=`rgba(${l.join(",")},${r})`)),n==="colorList"?{color:JSON.stringify(l),opacity:r}:{color:i,opacity:r}}function rk(t){if(/xxtool-release\.obs\.cn-north-4\.myhuaweicloud\.com\/pc\/sucai\/parse_xml/.test(t))return`/dev-proxy/xxtool-release${t.split("parse_xml")[1]}`;const e=/data:image\/svg\+xml;charset=utf-8,/;if(e.test(t)){const n=t.replace(e,"");return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`}return t}function k2(){if(typeof window<"u"){const t=navigator.userAgent.toLowerCase();return/msie/.test(t)?"ie":/firefox/.test(t)?"firefox":/chrome/.test(t)?"chrome":/opera/.test(t)?"opera":/safari/.test(t)?"safari":/tencenttraveler/.test(t)||/qqbrowse/.test(t)?"qq":""}return""}function p0(t,e){const n={type:"SOLID",color:hn(t).toFigmaColor(),blendMode:"NORMAL",visible:!0,opacity:1};return e==null||e(n),n}function Sd(){return{imageSource:"",naturalWidth:0,naturalHeight:0,imageX:0,imageY:0,width:0,height:0,rotate:0,opacity:1,flipH:!1,flipV:!1,imageScaleMode:"FILL"}}function Ko(t){const e=h0();return{id:e,guid:t.generateGUID(),parentId:"",left:0,top:0,width:0,height:0,rotate:0,name:e.slice(0,8),isLocked:!1,visible:!0,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()}}}function g0(t){return{...Ko(t),nodeType:"GROUP",shimmerAtApearance:!1}}function ik(t,e){const n={...Ko(t),nodeType:"SECTION",shimmerAtApearance:!1,fillPaints:[],sectionStatusInfo:{status:"BUILD"}};return e==null||e(n),n}function ok(t,e){const n={...Ko(t),nodeType:"FRAME",shimmerAtApearance:!1,frameMaskDisabled:!1,cornerRadius:0,fillGeometry:[],strokeGeometry:[],strokePaints:[],fillPaints:[{type:"SOLID",blendMode:"NORMAL",opacity:1,color:hn("#FFFFFF").toFigmaColor(),visible:!0}],resizeToFit:!1};return e==null||e(n),n}function ak(t,e){const n={...Ko(t),nodeType:"SYMBOL",userFacingVersion:"",sharedSymbolVersion:"",isSymbolPublishable:!0,shimmerAtApearance:!1,frameMaskDisabled:!1,cornerRadius:0,fillGeometry:[],fillPaints:[],strokeGeometry:[],strokePaints:[],resizeToFit:!1};return e==null||e(n),n}function m0(t){return{id:h0(),guid:{sessionID:0,localID:0},parentId:"",nodeType:"IMAGE",left:0,top:0,width:0,height:0,rotate:0,name:"",isLocked:!1,visible:!0,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()},shimmerAtApearance:!1,strokePaints:[],extra:{mattingMask:{maskURL:""},minimumScalePercent:100,backgroundColor:"",polygonPointIdList:[],shapeMask:{id:"",maskURL:"",maskType:0},rectList:[],sourceList:[]}}}function R2(t){return{characters:t,characterStyleIDs:t.split("").map(()=>0),styleOverrideTable:[],lines:[]}}const sk=O2;function O2(t,{width:e,height:n,text:r,fontSize:i,lineHeight$$:u,letterSpacing:c,bold:l,italic:h,textDecoration:p,writingMode:v,fontName:x},E){const _={...Ko(t),shimmerAtApearance:!1,nodeType:"TEXT",fontSize:i,fontName:x||{fullname:"",family:"",style:"",postscript:""},fontStyle:h?"ITALIC":"NORMAL",fontWeight:l?"BOLD":"NORMAL",textData:R2(r),textAutoResize:"NONE",textAlignHorizontal:"LEFT",textDecoration:p||"NONE",letterSpacing:{value:c||0,units:"PERCENT"},lineHeight:{value:u||1.2,units:"PERCENT"},writingMode:v||"horizontal-tb",width:e,height:n||0,strokeWeight:1,strokeAlign:"CENTER",strokeJoin:"MITER",strokeCap:"ROUND",dashPattern:[0,0],miterLimit:0,fillPaints:[p0("#000000")],strokePaints:[],effects:[]};return E==null||E(_),_}function uk(t,e){const n={...Ko(t),nodeType:"vector",...y0(),vectorData:{vectorNetwork:{vertices:[],segments:[],regions:[]},normalizedSize:{x:0,y:0},styleOverrideTable:[]},shimmerAtApearance:!1};return n.strokeAlign="CENTER",e==null||e(n),n}function y0(){return{strokeGeometry:[],strokePaints:[],fillGeometry:[],fillPaints:[],strokeAlign:"INSIDE",strokeCap:"NONE",strokeJoin:"MITER",miterLimit:0,strokeWeight:1,dashPattern:[0,0]}}function ck(t,e){const n={...Ko(t),nodeType:"ROUNDED_RECTANGLE",shimmerAtApearance:!1,cornerRadius:0,...y0()};return e==null||e(n),n}var v0={exports:{}},w0={exports:{}};(function(t){function e(i,u,c,l,h,p){return(i<=h||c<=h)&&(h<=i||h<=c)&&(u<=p||l<=p)&&(p<=u||p<=l)}function n(i,u,c,l,h,p){var v=(h-i)*(l-u),x=(c-i)*(p-u);return v<x?-1:v>x?1:0}function r(i,u,c,l,h,p,v,x){var E=n(h,p,v,x,i,u),_=n(h,p,v,x,c,l),L=n(i,u,c,l,h,p),k=n(i,u,c,l,v,x);return(E>0&&_<0||E<0&&_>0)&&(L>0&&k<0||L<0&&k>0)||E===0&&e(h,p,v,x,i,u)||_===0&&e(h,p,v,x,c,l)||L===0&&e(i,u,c,l,h,p)||k===0&&e(i,u,c,l,v,x)}t.exports&&(t.exports=r)})(w0);var F2=w0.exports,x0={exports:{}};(function(t){function e(n,r){var i,u,c=!1,l=r.length;for(i=0,u=l-1;i<l;u=i++)r[i][1]>n[1]!=r[u][1]>n[1]&&n[0]<(r[u][0]-r[i][0])*(n[1]-r[i][1])/(r[u][1]-r[i][1])+r[i][0]&&(c=!c);return c}t.exports&&(t.exports=e)})(x0);var N2=x0.exports;(function(t){var e=F2,n=N2;function r(c,l){var h;for(h=0;h<c.length;h+=1)if(n(c[h],l))return!0;for(h=0;h<l.length;h+=1)if(n(l[h],c))return!0;return!1}function i(c,l){for(var h=0;h<c.length-1;h+=1)for(var p=0;p<l.length-1;p+=1)if(e(c[h][0],c[h][1],c[h+1][0],c[h+1][1],l[p][0],l[p][1],l[p+1][0],l[p+1][1]))return!0;return!1}function u(c,l){return!!(r(c,l)||i(c,l))}t.exports&&(t.exports=u)})(v0);var $2=v0.exports;const B2=Yo($2);function D2(t,e){return Math.sqrt(t*t+e*e)}function lk(t,e,n,r,i,u,c,l){if(t===n&&e===r||i===c&&u===l)return null;const h=(l-u)*(n-t)-(c-i)*(r-e);if(h===0)return null;const p=((c-i)*(e-u)-(l-u)*(t-i))/h,v=t+p*(n-t),x=e+p*(r-e);return{x:v,y:x}}function b0({x:t,y:e,width:n,height:r,rotate:i}){const u=S0({leftTop:{x:t,y:e},width:n,height:r,rotate:i});return{left:u.x-n/2,top:u.y-r/2}}function S0({leftTop:t,width:e,height:n,rotate:r}){const i=D2(e,n)/2,u=r,c=Math.atan(n/e)/Math.PI*180,l=u+c;return qu(t,Qu(i,l))}function G2(t,e,n,r){const{leftTop:i,rightTop:u,leftBottom:c}=Qo(t),l=Math.sqrt(e*e+n*n)/2;let h={x:0,y:0};if(r==="left"||r==="top"){const v=t.rotate,x=Math.atan(n/e)/Math.PI*180,E=v+x;h=qu(i,Qu(l,E))}else if(r==="right"){const v=90+t.rotate+Math.atan(e/n)/Math.PI*180;h=qu(u,Qu(l,v))}else if(r==="bottom"){const v=t.rotate,x=-Math.atan(n/e)/Math.PI*180,E=v+x;h=qu(c,Qu(l,E))}return{x:h.x-e/2,y:h.y-n/2}}function Ed(t){return{x:t.left+t.width/2,y:t.top+t.height/2}}function U2(t){let e=Math.round(t);for(;e>180;)e-=360;for(;e<-180;)e+=360;return e}function E0(t,e){const n={x:t.x-e.x,y:t.y-e.y};return Math.atan2(n.y,n.x)*(180/Math.PI)}function Qu(t,e){return{x:t*Math.cos(e/180*Math.PI),y:t*Math.sin(e/180*Math.PI)}}function W2(t,e){return{x:e.x-t.x,y:e.y-t.y}}function qu(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Qo(t){const e=Ed(t),n=Gi("global",{x:-t.width/2,y:-t.height/2},-t.rotate),r=Gi("global",{x:t.width/2,y:-t.height/2},-t.rotate),i=Gi("global",{x:-t.width/2,y:t.height/2},-t.rotate),u=Gi("global",{x:t.width/2,y:t.height/2},-t.rotate);return{center:e,leftTop:{x:n.x+e.x,y:n.y+e.y},rightTop:{x:r.x+e.x,y:r.y+e.y},leftBottom:{x:i.x+e.x,y:i.y+e.y},rightBottom:{x:u.x+e.x,y:u.y+e.y}}}function jo(t){const e=Qo(t);return[e.leftTop,e.leftBottom,e.rightBottom,e.rightTop]}function Gi(t,e,n,r){const i={x:e.x-((r==null?void 0:r.x)||0),y:e.y-((r==null?void 0:r.y)||0)},u=n/360*2*Math.PI,c=Math.cos(u),l=-i.y,h=[i.x*c,i.x*Math.cos(u-.5*Math.PI)],p=[l*Math.cos(.5*Math.PI+u),l*c];return{x:h[0]+p[0],y:-(h[1]+p[1])}}function Ad(t,e){return B2(t.map(r=>[r.x,r.y]),e.map(r=>[r.x,r.y]))}function Cd(t,e){const n=[t.x,t.y],r=e.map(u=>[u.x,u.y]);let i=!1;for(let u=0,c=r.length-1;u<r.length;u+=1)r[u][1]>n[1]!=r[c][1]>n[1]&&n[0]<(r[c][0]-r[u][0])*(n[1]-r[u][1])/(r[c][1]-r[u][1])+r[u][0]&&(i=!i),c=u;return i}function Fs(t){const e=ze.min(t.map(c=>c.x))||0,n=ze.max(t.map(c=>c.x))||0,r=ze.min(t.map(c=>c.y))||0,i=ze.max(t.map(c=>c.y))||0,u={left:0,top:0,width:0,height:0};return u.left=e,u.top=r,u.width=n-e,u.height=i-r,u}function H2(t){return[{x:t.x,y:t.y},{x:t.x,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height},{x:t.x+t.width,y:t.y}]}function cf(t){const e=ze.min(t.map(u=>u.x))||0,n=ze.max(t.map(u=>u.x))||0,r=ze.min(t.map(u=>u.y))||0,i=ze.max(t.map(u=>u.y))||0;return[{x:e,y:r},{x:e,y:i},{x:n,y:i},{x:n,y:r}]}function A0(t,e){const n=Fs(t.map(u=>Gi("rotated",u,e))),r=S0({width:n.width,height:n.height,leftTop:{x:n.left,y:n.top},rotate:0}),i=Gi("global",r,-e);return{left:i.x-n.width/2,top:i.y-n.height/2,width:n.width,height:n.height,rotate:e}}function z2(t){return Fs(jo(t))}function fk(t,e){const n=t.width/t.height;return e.height*n<=e.width?{width:e.height*n,height:e.height}:{width:e.width,height:e.width/n}}function Jp(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function Tf(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function j2(t,e){return t.x>=0&&t.x<=e.width&&t.y>=0&&t.y<=e.height}function C0(t,e,n,r,i,u,c,l){const h=[],p=[t,c],v=[e,l];let x,E,_,L,k,N,z,Q;for(let le=0;le<2;++le){if(le===0?(E=6*t-12*n+6*i,x=-3*t+9*n-9*i+3*c,_=3*n-3*t):(E=6*e-12*r+6*u,x=-3*e+9*r-9*u+3*l,_=3*r-3*e),Math.abs(x)<1e-12){if(Math.abs(E)<1e-12)continue;L=-_/E,L>0&&L<1&&h.push(L);continue}if(z=E*E-4*_*x,z<0){Math.abs(z)<1e-12&&(L=-E/(2*x),L>0&&L<1&&h.push(L));continue}Q=Math.sqrt(z),k=(-E+Q)/(2*x),k>0&&k<1&&h.push(k),N=(-E-Q)/(2*x),N>0&&N<1&&h.push(N)}let W=h.length,ae;for(;W--;)L=h[W],ae=1-L,p[W]=ae*ae*ae*t+3*ae*ae*L*n+3*ae*L*L*i+L*L*L*c,v[W]=ae*ae*ae*e+3*ae*ae*L*r+3*ae*L*L*u+L*L*L*l;return{min:{x:Math.min.apply(0,p),y:Math.min.apply(0,v)},max:{x:Math.max.apply(0,p),y:Math.max.apply(0,v)}}}function Zp(t,e){return Math.abs(t-e)<1}function Lf(t){let e=t[0];return t.forEach(n=>{n>e&&(e=n)}),e}function dk(t){if(t.length===0)throw new Error("");let e=t[0];return t.forEach(n=>{n<e&&(e=n)}),e}function hk(t,e){return Math.atan2(-e,t)*180/Math.PI}function pk(t,e){return Math.sqrt(t*t+e*e)}function V2(t,e){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function gc(t){return t.currentStep===null?mc(t):t.currentStep}function mc(t){return t.currentStep=new _0(""),t.currentStep.getOldState().selectionInfo=ze.cloneDeep(t.selectionInfo),t.currentStep}function _d(t,e){if(t.currentStep)e&&(t.currentStep.name=e);else throw new Error("Current step does not exist");t.history.record()}function X2(){return new _0("")}class _0{constructor(e){this.name="",this.oldState={selectionInfo:null,nodeMap:{}},this.newState={selectionInfo:null,nodeMap:{}},this.mutatedNodesInThisAction={},this.name=e}getOldState(){return this.oldState}getNewState(){return this.newState}handleChildren(e,n){var u;const r=this.oldState.nodeMap[e.id],i=this.newState.nodeMap[e.id];r.children||(r.children={$value:e.children.map(c=>c.id)}),i.children={$value:(u=n.children)==null?void 0:u.map(c=>c)}}handleLife(e,n){const r=this.oldState.nodeMap[e.id],i=this.newState.nodeMap[e.id];if(n.life){if(n.life.type==="replacePage"){if(e.nodeType!=="DOCUMENT")throw new Error;r.life={$value:{type:"replacePage",newPage:ze.cloneDeep(e.children[0])}},i.life={$value:{type:"replacePage",newPage:ze.cloneDeep(n.life.newPage)}}}else if(n.life.type==="createChildren"){const u={};ze.mapKeys(n.life.newLayers,c=>{u[c.id]=!0}),r.life={$value:{type:"delete",deletedNodes:u,children:e.children.map(c=>c.id),isGrouping:n.life.isGrouping}},i.life={$value:{type:"createChildren",newLayers:ze.cloneDeep(n.life.newLayers),children:ze.cloneDeep(n.life.children),isGrouping:n.life.isGrouping}}}else if(n.life.type==="delete"){const{deletedNodes:u}=n.life,c={};e.children.forEach(l=>{u[l.id]&&l.nodeType!=="CANVAS"&&(c[l.id]=ze.cloneDeep(l))}),r.life={$value:{type:"createChildren",newLayers:c,children:e.children.map(l=>l.id),isGrouping:n.life.isGrouping}},i.life={$value:{type:"delete",deletedNodes:ze.cloneDeep(n.life.deletedNodes),children:ze.cloneDeep(n.life.children),isGrouping:n.life.isGrouping}}}}}update(e){if(e.type==="CanvasNode")return;const{layer:n,data:r}=e;this.mutatedNodesInThisAction[n.id]=!0;const{id:i}=n;this.oldState.nodeMap[i]||(this.oldState.nodeMap[i]={editInfo:{$value:{...n.editInfo}}},this.newState.nodeMap[i]={editInfo:{$value:{userId:"",createdAt:n.editInfo.createdAt,lastEditedAt:new Date().getTime()}}});const u=this.oldState.nodeMap[i],c=this.newState.nodeMap[i];Object.keys(r).forEach(l=>{var p;const h=l;if(!(typeof r[h]>"u"&&!(h==="smartShape"||h==="image"))){if(h==="life"){this.handleLife(n,r);return}if(l!=="editInfo"){if(h==="children"){this.handleChildren(n,r);return}if(u[h]||(u[h]={$value:ze.cloneDeep(n[h])},(h==="effects"||h==="strokeGeometry"||h==="strokePaints"||h==="fillPaints")&&n.nodeType!=="CANVAS"&&typeof n[h]>"u"&&(n[h]=[]),(n.nodeType==="ROUNDED_RECTANGLE"||n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE")&&h==="image"&&!n.image&&(n.image=Sd()),c[h]={$value:ze.cloneDeep(n[h])}),typeof r[h]=="function"){const v=r[h];if(v((p=c[h])==null?void 0:p.$value),v(n[h]),n.nodeType==="TEXT"&&n.textData.characters.length!==n.textData.characterStyleIDs.length)throw new Error("textData mismatch")}else n[h]=ze.cloneDeep(r[h]),c[h]={$value:ze.cloneDeep(r[h])}}}})}getNewAction(){const e={};Object.keys(this.mutatedNodesInThisAction).length===0?Object.assign(e,this.newState.nodeMap):Object.keys(this.mutatedNodesInThisAction).forEach(r=>{this.newState.nodeMap[r]&&(e[r]=this.newState.nodeMap[r])});const n={type:"UpdateNodes",payload:{layerMap:e}};return this.mutatedNodesInThisAction={},n}getOldAction(){return{type:"UpdateNodes",payload:{layerMap:this.oldState.nodeMap}}}}const Y2=300;function yc(t){return t/180*Math.PI}function vc(t,e,n){const r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n));return{width:e*i+t*r,height:e*r+t*i}}function T0({frame:t,image:e}){const n=t.width/e.naturalWidth,r=t.height/e.naturalHeight;return Math.max(n,r)}function L0({frame:t,image:e}){const n=vc(t.width,t.height,yc(e.rotate)),r=2*(n.width/2+Math.abs(e.imageX))/e.naturalWidth,i=2*(n.height/2+Math.abs(e.imageY))/e.naturalHeight;return Math.max(r,i)}function P0(t){if(t.image){const e=L0({frame:t,image:t.image});if((t.image.width+.5)/t.image.naturalWidth<e||(t.image.height+.5)/t.image.naturalHeight<e)return!1}return!0}function gk(t,e){e.imageX=0,e.imageY=0;let n=t.width,r=e.naturalHeight*(t.width/e.naturalWidth);r<t.height&&(r=t.height,n=e.naturalWidth*(t.height/e.naturalHeight)),e.width=n,e.height=r}function mk({layer:t,step:e}){if(t.image){let n=t.width,r=t.image.naturalHeight*(t.width/t.image.naturalWidth);r<t.height&&(r=t.height,n=t.image.naturalWidth*(t.height/t.image.naturalHeight)),e.update({layer:t,data:{image(i){i.imageX=0,i.imageY=0,i.rotate=0,i.width=n,i.height=r}}})}}function K2(t,e){if(t.image){const n=Gi("rotated",{x:-e.x,y:-e.y},t.rotate+t.image.rotate);t.image.imageX+=n.x,t.image.imageY+=n.y}}function M0(t,e,n){if(t.image){n.resetImagePosition&&e.update({layer:t,data:{image(i){i.imageX=0,i.imageY=0}}});const r=L0({frame:t,image:t.image});e.update({layer:t,data:{image(i){i.width=i.naturalWidth*r,i.height=i.naturalHeight*r}}})}}function I0(t,e,n){const r=gc(t),{image:i}=e;if(i){const u=vc(e.width,e.height,yc(i.rotate));u.width=2*(u.width/2+Math.abs(i.imageX)),u.height=2*(u.height/2+Math.abs(i.imageY));let c=1;n?c=Lf([u.width/i.width,u.height/i.height]):c=Lf([1,u.width/i.width,u.height/i.height]);const l=T0({frame:e,image:i});i.width*c/i.naturalWidth/l*100>Y2?M0(e,r,{resetImagePosition:!0}):r.update({layer:e,data:{image(p){p.width*=c,p.height*=c,p.imageX*=c,p.imageY*=c}}})}}function yk(t,e,n){P0(e)===!1&&M0(e,n,{resetImagePosition:!0})}function vk({layer:t,step:e}){if(t.image&&P0(t)===!1){const n=vc(t.width,t.height,yc(t.image.rotate)),r=t.image.width<n.width?n.width/t.image.width:1,i=t.image.height<n.height?n.height/t.image.height:1,u=ze.max([r,i]);u&&(t.image.width*=u,t.image.height*=u,k0(t,{step:e}))}}function k0(t,{step:e}){const{image:n}=t;if(n){const r=vc(t.width,t.height,yc(n.rotate)),i=Lf([1,r.width/n.width,r.height/n.height]),u={width:n.width,height:n.height,imageX:n.imageX,imageY:n.imageY};u.width*=i,u.height*=i;const c=r.width/2-u.width/2,l=-(r.width/2)+u.width/2,h=r.height/2-u.height/2,p=-(r.height/2)+u.height/2,v={x:Math.min(l,Math.max(c,n.imageX)),y:Math.min(p,Math.max(h,n.imageY))};u.imageX=v.x,u.imageY=v.y,e.update({layer:t,data:{image(x){x.width=u.width,x.height=u.height,x.imageX=u.imageX,x.imageY=u.imageY}}})}}const eg=6,wk="150ms";async function Q2(t){return new Promise((e,n)=>{const r=new Image;r.crossOrigin="anonymous",r.src=t,r.onload=()=>{e(r)},r.onerror=()=>{n()}})}async function R0(t){const e=await Q2(t),{naturalWidth:n,naturalHeight:r}=e,i=Sd();return i.width=n,i.height=r,i.naturalWidth=n,i.naturalHeight=r,i.imageSource=t,{imageInfo:i,imageElement:e}}function q2({frame:t,image:e}){e.imageX=0,e.imageY=0;let n=t.width,r=e.naturalHeight*(t.width/e.naturalWidth);r<t.height&&(r=t.height,n=e.naturalWidth*(t.height/e.naturalHeight)),e.width=n,e.height=r}function O0(t){t.image&&q2({frame:t,image:t.image})}function xk(t){t.image&&(t.image.rotate=0,t.extra.minimumScalePercent=100)}function J2(t){if(t.image){const e=t.image.height/t.image.width;return ze.max([t.width,t.height/e])||0}return 0}function bk(t,e){t.image&&(t.image.opacity=e/100)}function Sk(t){t.image&&(t.image.flipH=!t.image.flipH)}function Ek(t){t.image&&(t.image.flipV=!t.image.flipV)}async function Ak(t,e){if(!e){t&&t.nodeType==="IMAGE"&&(t.image=void 0);return}const{imageInfo:n}=await R0(e);t&&t.nodeType==="IMAGE"&&(t.image=n,O0(t))}function Ck(t,e,n,{step:r,autoAdjust:i}){if(t&&t.image){const u=Gi("rotated",{x:e,y:n},t.rotate+t.image.rotate),c=t.image.imageX+u.x,l=t.image.imageY+u.y;r.update({layer:t,data:{image(h){h.imageX=c,h.imageY=l}}}),i&&k0(t,{step:r})}}function _k(t,e){return Math.min(t.width,t.height)*(.5*e/100)}function Tk(t,e=!1){const n=[];function r(i){i.forEach(u=>{u.nodeType==="IMAGE"&&(e||F0(u))&&n.push(u),u.nodeType==="GROUP"&&r(u.children)})}return r(t),n}function Lk(t){const e=[];function n(r){r.forEach(i=>{i.nodeType==="IMAGE"&&F0(i)&&!i.isLocked&&e.push(i),i.nodeType==="GROUP"&&!i.isLocked&&n(i.children)})}return n(t),e}function Pk(t,{padding:e=0,rotate:n=0,flipV:r=!1,flipH:i=!1}){return new Promise(u=>{const c=document.createElement("canvas"),l=c.getContext("2d");let h=1;const p=Math.max(t.width,t.height);p>1e3&&(h=p/1e3);const v=t.width/h,x=t.height/h,E=V2({x:0,y:0},{x:v,y:x});c.width=E,c.height=E;const _=c.width/2,L=c.height/2,k=document.createElement("canvas"),N=k.getContext("2d");k.width=v,k.height=x,(r||i)&&(N==null||N.translate(i?v:0,r?x:0),N==null||N.scale(i?-1:1,r?-1:1)),N==null||N.drawImage(t,0,0,v,x),l==null||l.translate(_,L),n&&(l==null||l.rotate(n*Math.PI/180)),l==null||l.translate(-_,-L),l==null||l.drawImage(k,_-v/2,L-x/2);const z=l==null?void 0:l.getImageData(0,0,c.width,c.height),{data:Q=[],width:W=0,height:ae=0}=z||{},le=()=>{for(let Y=0;Y<W;Y+=1)for(let V=0;V<ae;V+=1){const oe=(V*W+Y)*4;if(Q[oe+3]>0)return Promise.resolve(Y)}return Promise.resolve(0)},te=()=>{for(let Y=0;Y<ae;Y+=1)for(let V=0;V<W;V+=1){const oe=(Y*W+V)*4;if(Q[oe+3]>0)return Promise.resolve(Y)}return Promise.resolve(0)},ge=()=>{for(let Y=W-1;Y>=0;Y-=1)for(let V=0;V<ae;V+=1){const oe=(V*W+Y)*4;if(Q[oe+3]>0)return Promise.resolve(Y)}return Promise.resolve(0)},Ae=()=>{for(let Y=ae-1;Y>=0;Y-=1)for(let V=0;V<W;V+=1){const oe=(Y*W+V)*4;if(Q[oe+3]>0)return Promise.resolve(Y)}return Promise.resolve(0)},F=[le(),te(),ge(),Ae()];Promise.all(F).then(Y=>{let[V,oe,ue,ee]=Y;V-=e,oe-=e,ue+=e,ee+=e;const Se=ue-V,j=ee-oe,ne=oe,me=V;u({contentWidth:Se*h,contentHeight:j*h,top:ne*h,left:me*h,frameSize:E*h})})})}function F0(t){return t.nodeType==="IMAGE"&&!!t.extra.shapeMask.maskURL}async function Mk(t,e){const n=m0(),{imageInfo:r}=await R0(e);return n.image=r,n.width=r.naturalWidth,n.height=r.naturalHeight,O0(n),n.left=0,n.top=0,n}function tg(t){return`mainLayer-${t}`}function Ik(t){const e=document.querySelectorAll(`#${tg(t.id)}`);e.length>1&&console.warn("More than one canvas",e);const n=document.getElementById(tg(t.id));return n||(console.warn("当前图层不存在"),document.createElement("canvas"))}function kk(t){const e=[];function n(r){r.forEach(i=>{i.nodeType!=="GROUP"&&e.push(i),n(i.children)})}return n(t.children),e}function Z2(t,e){return t.props.getPanelList().find(r=>r.id===e)||null}function Rk(t,e){return Z2(t,e)||N0(t,e)}function N0(t,e){return t.normalLayerFlatMap[e]?t.normalLayerFlatMap[e]:null}function Ok(t){return t.image?t.image.width/t.image.naturalWidth:1}function Fk(t,e){return!(t.options.hasTimeline&&e.timeline&&(t.currentTime<e.timeline.start||t.currentTime>e.timeline.end))}function ni(t){const e=t.getFigma();return e?{fileData:e.context.fileData}:t.libra?{fileData:t.libra.fileData}:null}function eE(t){return t.nodeType==="FRAME"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"||t.nodeType==="SECTION"}function $0(t){return t.nodeType==="FRAME"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"}function Nk(t){return!!($0(t)||t.nodeType==="GROUP")}function $k(t,e,n){var u;const r=t.snapshotMap;r[e.id]||(r[e.id]={lastUsedAt:0,image:null,contains:{layerIdMap:{},imageUrlMap:{}}});const i=r[e.id];return i.lastUsedAt=new Date().getTime(),(u=i.image)==null||u.delete(),i.image=n,i}function tE(t,e){var r;const n=t.snapshotMap;n[e.id]&&((r=n[e.id].image)==null||r.delete(),delete n[e.id])}function nE(t,e){const n=t.snapshotMap;return n[e.id]?(n[e.id].lastUsedAt=new Date().getTime(),n[e.id].image):null}function $r(t,e){return t.localStore.getLayer(e)}function B0(t,e){const n=[e];return D0(t,e,n),n}function D0(t,e,n){if(e.parentId){const r=t.getLayer(e.parentId);r&&(eE(r)&&n.unshift(r),D0(t,r,n))}}function Ns(t,e){if(e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")return!0;const n=t.localStore.getLayer(e.parentId);return n?Ns(t,n):!1}function Bk(t,e){const n=[];return G0(t,e,n),n}function G0(t,e,n){if(e.nodeType==="SYMBOL"&&n.unshift(e.id),e.parentId){const r=$r(t,e.parentId);r&&G0(t,r,n)}}function rE(t,e){if(e.parentId){const n=$r(t,e.parentId);return n?rE(t,n):null}return e}function U0(t,e){delete t.layerAssetsMap[e.id],delete t.layerMap[e.id],tE(t,e),e.nodeType==="FRAME"||e.nodeType==="GROUP"||e.nodeType==="SECTION"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE"?e.children.forEach(n=>{U0(t,n)}):e.nodeType==="IMAGE"||e.nodeType}function Dk(t,e){iE(t.localStore.props.getCurrentPage(),e)}function iE(t,e){t.children.forEach(n=>{W0(n,e)})}function oE(t){return t.nodeType==="FRAME"||t.nodeType==="GROUP"||t.nodeType==="SECTION"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"?t.children:null}function W0(t,e){var n;e(t),(n=oE(t))==null||n.forEach(r=>{W0(r,e)})}function $s(t,e){if(e.nodeType==="INSTANCE"){const n=e.symbolData.symbolID.id,r=t.localStore.getLayer(n);if(!r)throw new Error("");return r.children}return e.children}function aE(t,e){return t.layerAssetsMap[e.id]||null}function H0({layer:t,layerInfo:e}){return{width:e.width,height:e.height}}console.log(Kn({left:10,top:10,width:200,height:300,rotate:30}));function Kn({left:t,top:e,width:n,height:r,rotate:i}){const u=-i/180*Math.PI,{leftTop:c}=Qo({left:t,top:e,width:n,height:r,rotate:i}),l=i===90||i===-90?0:Math.cos(u);return[[l,Math.sin(u),c.x],[-Math.sin(u),l,c.y],[0,0,1]]}function wc(t,e){const n=t,r=e,i=[];for(let u=0;u<n.length;u+=1){i[u]=[];for(let c=0;c<r[0].length;c+=1){let l=0;for(let h=0;h<n[0].length;h+=1)l+=n[u][h]*r[h][c];i[u][c]=l}}return i}function As(t,e){const n=[...t],r=[[e.x],[e.y],[1]],i=wc(n,r);return{x:i[0][0],y:i[1][0]}}function sE(t,e){return wc(t,e)}function Vo(t,e){const n=[...t],r=[[e.x],[e.y],[1]],i=wc(z0(n),r);return{x:i[0][0],y:i[1][0]}}function uE(t,e){return wc(z0(t),e)}function xc(t){return-Math.atan2(-t[1][0],t[0][0])*(180/Math.PI)}function bc({width:t,height:e,t:n}){const r=n[0][2],i=n[1][2],u=xc(n),{left:c,top:l}=b0({x:r,y:i,width:t,height:e,rotate:u});return{left:c,top:l,rotate:u}}function z0(t){if(t.length!==t[0].length)throw new Error("");let e=0,n=0,r=0;const i=t.length;let u=0;const c=[],l=[];for(e=0;e<i;e+=1)for(c[c.length]=[],l[l.length]=[],r=0;r<i;r+=1)e===r?c[e][r]=1:c[e][r]=0,l[e][r]=t[e][r];for(e=0;e<i;e+=1){if(u=l[e][e],u===0){for(n=e+1;n<i;n+=1)if(l[n][e]!==0){for(r=0;r<i;r+=1)u=l[e][r],l[e][r]=l[n][r],l[n][r]=u,u=c[e][r],c[e][r]=c[n][r],c[n][r]=u;break}if(u=l[e][e],u===0)throw new Error}for(r=0;r<i;r+=1)l[e][r]=l[e][r]/u,c[e][r]=c[e][r]/u;for(n=0;n<i;n+=1)if(n!==e)for(u=l[n][e],r=0;r<i;r+=1)l[n][r]-=u*l[e][r],c[n][r]-=u*c[e][r]}return c}function cE(t,e){const n=[t[0],t[1],[0,0,1]],r=[e[0],e[1],[0,0,1]];return lE(n,r)}function lE(t,e){const n=[];for(let r=0;r<t.length;r+=1){n[r]=[];for(let i=0;i<e[0].length;i+=1){let u=0;for(let c=0;c<t[0].length;c+=1)u+=t[r][c]*e[c][i];n[r][i]=u}}return n}function j0({fileData:t,info:e}){const n=[];if(e.type==="layer"){const r=$r(t,e.layerId);r&&n.push(...B0(t.localStore,r).map(i=>Kn({left:i.left,top:i.top,width:i.width,height:i.height,rotate:i.rotate})))}return V0(n)}function V0(t){let e=[[1,0,0],[0,1,0],[0,0,1]];return[...t].reverse().forEach(n=>{e=cE(n,e)}),e}function zi(t,e){const n=j0({fileData:t,info:e});return{absoluteTransform:n,rotate:xc(n)}}function Gk(t){const e=fE({localStore:t})||t.bunchRectangle;return{left:e.left*t.getPageScale(),top:e.top*t.getPageScale(),width:e.width*t.getPageScale(),height:e.height*t.getPageScale(),transform:`rotate(${e.rotate}deg)`}}function fE({localStore:t}){const e=ni(t);if(e){const n=t.selectedSingleLayer;if(n){const r=zi(e.fileData,{type:"layer",layerId:n.id}),i=bc({width:n.width,height:n.height,t:r.absoluteTransform});return{width:n.width,height:n.height,...i}}}return null}function Sc(t,e){t.bunchRectangle.left=e.left,t.bunchRectangle.top=e.top,t.bunchRectangle.width=e.width,t.bunchRectangle.height=e.height,t.bunchRectangle.rotate=e.rotate}function dE(t){if(t.selectedSingleLayer){const e=t.selectedSingleLayer;e&&Sc(t,e)}else{const e=[];t.selectedLayerList.forEach(n=>{if(n){const r=Qo(n);e.push(r.leftTop),e.push(r.rightTop),e.push(r.leftBottom),e.push(r.rightBottom)}}),Object.assign(t.bunchRectangle,Fs(e)),t.bunchRectangle.rotate=0}}function hE({layerList:t}){const e=[];return t.forEach(r=>{if(r){const i=Qo(r);e.push(i.leftTop),e.push(i.rightTop),e.push(i.leftBottom),e.push(i.rightBottom)}}),{...Fs(e),rotate:0}}function So(t,e){if(e.parentId){const n=t.getLayer(e.parentId);if(n)return n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="SECTION"?n:So(t,n)}return null}function X0(t,e){if(e.parentId){const n=$r(t,e.parentId);if(n)return n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="SECTION"?n:X0(t,n)}return t.localStore.props.getCurrentPage()}function lf(t,e){return e.map(n=>{const r=t.getLayer(n);if(!r)throw new Error;return r})}function Uk({localStore:t,idList:e}){return e.map(n=>{const r=t.getLayer(n);if(!r)throw new Error(`Layer ${n} does not exist`);return r})}function Mn(t){return!t.stackMode||t.stackMode==="NONE"?"NONE":t.stackMode}function Gn(t,e){const n=[...t];return e.nodeType==="INSTANCE"&&t[t.length-1]!==e&&n.push(e),n}function Td(t,e){const n={};return ze.forEach(t.layerMap,(r,i)=>{r.nodeType==="INSTANCE"&&r.symbolData.symbolID.id===e.id&&(n[i]=r)}),n}function pE(t,e,n){const r=Td(t.fileData,e);ze.forEach(r,i=>{n(i)})}function Y0({layer:t,instanceChain:e}){const n=[...e];return n[n.length-1]!==t&&n.push(t),n}const gE={nodeType:"IMAGE",left:0,top:0,width:0,height:0,rotate:0,name:"",stackMode:"NONE",stackPrimarySizing:"FIXED",stackCounterSizing:"FIXED",stackChildAlignSelf:"AUTO",stackChildPrimaryGrow:0,stackPrimaryAlignItems:"MIN",stackCounterAlignItems:"MIN",stackPositioning:"",stackPaddingTop:0,stackPaddingBottom:0,stackPaddingLeft:0,stackPaddingRight:0,stackSpacing:0,strokeAlign:"INSIDE",strokeCap:"NONE",strokeWeight:1,strokeJoin:"MITER",miterLimit:0,fillGeometry:[],fillPaints:void 0,strokeGeometry:[],strokePaints:[],dashPattern:[0,0],frameMaskDisabled:!1,cornerRadius:0,textAutoResize:"NONE",textData:void 0,vectorData:void 0,effects:void 0,visible:!0};function Zt({localStore:t,layer:e,instanceChain:n,debugging:r}){function i(u){if(e.nodeType==="INSTANCE"&&e===n[0]&&(u==="left"||u==="top"))return e[u];if(n.length>0){let c;for(let l=0;l<n.length;l+=1){const h=n.slice(l);if(c=mE(e,u,n[l],h),c)break}if(c!==void 0)return c}if(e[u]!==void 0)return e[u];if(u==="textData"||u==="vectorData")throw new Error;return gE[u]}return new Proxy({},{get:(u,c)=>i(c)})}function mE(t,e,n,r){let i;const u=Y0({layer:t,instanceChain:r});return n.symbolData.symbolOverrides.forEach(c=>{c.guidPath.guids.map(l=>l.id).join("--")===u.map(l=>l.id).join("--")&&c[e]!==void 0&&(i=c[e])}),n.derivedSymbolData.forEach(c=>{c.guidPath.guids.map(l=>l.id).join("--")===u.map(l=>l.id).join("--")&&c[e]!==void 0&&(i=c[e])}),i}const Ec=Zt;function Ld({localStore:t,layer:e,instanceChain:n,constraintsMap:r}){n=Gn(n,e);const i=Ec({localStore:t,layer:e,instanceChain:n});let u=[];const c=t.getFigma();return c&&(u=$s(c.context.fileData,e)),u.length===0||u.forEach(l=>{const h=Zt({localStore:t,layer:l,instanceChain:Gn(n,l)}),p=h;if(p.stackMode==="NONE"||p.stackPositioning==="ABSOLUTE"){const v={};r[l.id]=v,l.horizontalConstraint==="MIN"&&(v.left=h.left),l.horizontalConstraint==="MAX"&&(v.right=i.width-h.left-h.width),l.horizontalConstraint==="STRETCH"&&(v.left=h.left,v.right=i.width-h.left-h.width),l.verticalConstraint==="MIN"&&(v.top=h.top),l.verticalConstraint==="MAX"&&(v.bottom=i.height-h.top-h.height),l.verticalConstraint==="STRETCH"&&(v.top=h.top,v.bottom=i.height-h.top-h.height)}Ld({localStore:t,layer:l,instanceChain:n,constraintsMap:r})}),r}function yE(t,e){const n=So(t,e);return!!(n&&(Mn(n)==="NONE"||e.stackPositioning==="ABSOLUTE"))}function vE(t){return t.horizontalConstraint||"MIN"}function wE(t){return t.verticalConstraint||"MIN"}function xE({localStore:t}){if(t.selectedSingleLayer)return{type:"entity",id:t.selectedSingleLayer.id,completeChain:B0(t,t.selectedSingleLayer).map(n=>({id:n.id,nodeType:n.nodeType}))};const{phantom:e}=t.props.getSelectionInfo();return e?{...e}:null}function Pd({fileData:t,target:e}){const n=[...e.completeChain],r=[],i=[];n.forEach(l=>{l.nodeType==="INSTANCE"&&i.push($r(t,l.id));const h=$r(t,l.id);if(!h)throw new Error("");const p=Zt({localStore:t.localStore,layer:h,instanceChain:i});r.push(Kn(p))});const u=V0(r),c=$r(t,e.id);if(!c)throw new Error("");return{layer:c,instanceChain:i,absoluteTransform:u,rotate:xc(u)}}function bE(t,e,n){const r=K0(t,n,t.selectedNormalLayerList);return ir(t,{type:"$selectActiveGroupChild",layerId:r}),r}function SE(t,e,n){ir(t,{type:"$selectGroupLeafLayer",layerId:n.id}),Sc(t,n),console.log(ze.cloneDeep(t.selectedSingleLayer))}function EE(t,e,n){if(ir(t,{type:"replace",idList:[e.id]}),e.nodeType==="GROUP"){if(e.isLocked)return;bE(t,e,n)}}function Wk(t,e){t.layerResolvedFrameMap={},t.getNormalLayerList().forEach(r=>{t.layerResolvedFrameMap[r.id]=Qo(r)});const n=t.getPointInPage(e);t.selectionRectStartPoint=n}function Hk(t,e){t.selectionRectStartPoint=null;const n=t.getPointInPage(e);t.selectionRectEndPoint=n,ir(t,{type:t.controlKeyUnderPress?"add":"replace",idList:Object.keys(t.overlappedLayerIdMap)}),t.overlappedLayerIdMap={},t.selectionRectExists=!1,t.currentStatus=""}const AE=ze.throttle((t,e)=>{if(t.overlappedLayerIdMap={},t.getFigma()){CE(t);return}ze.forEach(t.layerResolvedFrameMap,(n,r)=>{var u;if(t.getLayer(r)&&((u=t.getLayer(r))!=null&&u.isLocked))return;Ad([{x:t.selectionRectangle.left,y:t.selectionRectangle.top},{x:t.selectionRectangle.left,y:t.selectionRectangle.top+t.selectionRectangle.height},{x:t.selectionRectangle.left+t.selectionRectangle.width,y:t.selectionRectangle.top+t.selectionRectangle.height},{x:t.selectionRectangle.left+t.selectionRectangle.width,y:t.selectionRectangle.top}],[n.leftTop,n.leftBottom,n.rightBottom,n.rightTop])&&(t.overlappedLayerIdMap[r]=!0)})},100);function CE(t){var r;const e={},n=[...((r=t.figma)==null?void 0:r.topLevelLayerList)||[]].reverse();n==null||n.forEach(i=>{const u=jo({...t.selectionRectangle,rotate:0}),c=jo(i);Ad(u,c)&&(e[i.id]=!0)}),t.overlappedLayerIdMap=e}function zk(t,e){t.selectionRectExists=!0;const n=t.getPointInPage(e);t.selectionRectEndPoint=n,AE(t,e)}function _E(t,e,n){for(let r=n.length-1;r>=0;r-=1){const i=n[r],u=t.getPointInPage(e),c=jo(i);if(Cd(u,c))return i.id}return""}function K0(t,e,n){for(let r=n.length-1;r>=0;r-=1){const i=n[r],u=t.getPointInPage(e),c=jo(i);if(Cd(u,c))return i.children.length>0?K0(t,e,i.children):i.id}return""}function TE(t,e){return _E(t,e,t.getNormalLayerList().filter(r=>t.getSelectedLayerIdList().includes(r.id)===!1))}function jk(t,e){const n=TE(t,e);return n&&(t.controlKeyUnderPress?ir(t,{type:"add",idList:[n]}):ir(t,{type:"replace",idList:[n]})),n}function LE(t,e){return t.getSelectedLayerIdList().indexOf(e.id)>-1}function Vk(t,e,n){const r=t.getLayer(e.parentId);r&&r.nodeType==="GROUP"?SE(t,r,e):e.nodeType==="FRAME"?ir(t,{type:"replace",idList:[e.id]}):t.controlKeyUnderPress?PE({localStore:t,layer:e}):EE(t,e,n)}function PE({localStore:t,layer:e}){var r,i;if(t.selectedNormalLayerList.find(u=>u.parentId!=="")){(i=(r=t.props).showMessageForUser)==null||i.call(r,{type:"warn",message:"只能多选同级的图层"});return}LE(t,e)?ir(t,{type:"remove",idList:[e.id]}):ir(t,{type:"add",idList:[e.id]})}function ME(t){const e={layer:null,instanceChain:[]},n=ni(t);if(n){const r=xE({localStore:t});if(r){const{layer:i,instanceChain:u}=Pd({fileData:n.fileData,target:r});e.layer=i,e.instanceChain=u}}return e}function Xk(){return{currentPageIndex:0,selectedLayerIdList:[],phantom:null,activeLayerInGroupId:"",activeGroupLayerId:"",selectedLeafLayerId:"",bunchRectangle:{nodeType:"GROUP",parentId:"",id:"bunchRectangle",name:"",guid:{sessionID:0,localID:0},left:0,top:0,width:0,height:0,rotate:0,isLocked:!1,children:[],editInfo:{userId:"",createdAt:0,lastEditedAt:0},shimmerAtApearance:!1,visible:!0},textRange$:{start:0,end:0}}}function ir(t,e){var r,i;const{selectionInfo:n}=t;if(e.type==="$selectActiveGroupChild")n.activeLayerInGroupId=e.layerId;else if(e.type==="$selectGroupLeafLayer")n.selectedLeafLayerId=e.layerId;else if(e.type==="$startEdittingGroupLayer")n.selectedLayerIdList=[],n.activeLayerInGroupId="",n.activeGroupLayerId=e.layerId;else if(e.type==="$target")n.activeLayerInGroupId="",n.activeGroupLayerId="",n.selectedLeafLayerId="",e.target.type==="entity"?(n.phantom=null,n.selectedLayerIdList=[e.target.id]):(t.selectionInfo.phantom=e.target,n.selectedLayerIdList=[]);else{t.selectionInfo.phantom=null,n.activeLayerInGroupId="",n.activeGroupLayerId="",n.selectedLeafLayerId="";let u=[];e.type==="replace"?u.push(...e.idList):e.type==="add"?(u.push(...t.getSelectedLayerIdList()),u.push(...e.idList)):e.type==="remove"?u.push(...t.getSelectedLayerIdList().filter(c=>!ze.includes(e.idList,c))):e.type,u=ze.uniq(u).filter(c=>c),u.length>1&&(u=u.filter(c=>t.getLayer(c)).filter(c=>!t.rootNormalLayerMap[c].isLocked)),t.selectionInfo.selectedLayerIdList.length=0,t.getSelectedLayerIdList().push(...u)}(i=(r=t.props).doAction)==null||i.call(r,{type:"UpdateNodes",payload:{layerMap:{}}})}function Yk(t){var i,u,c,l;const e=(u=(i=t.props).getCurrentPage)==null?void 0:u.call(i);if(!e)return;const n=mc(t),r=IE({localStore:t,candidate:t.bunchRectangle,groupedLayerIdList:t.getSelectedLayerIdList(),parentNode:e,step:n});(l=(c=t.props).doAction)==null||l.call(c,n.getNewAction()),_d(t),ir(t,{type:"replace",idList:[r.id]})}function Kk({localStore:t}){var r,i,u,c;const e=(i=(r=t.props).getCurrentPage)==null?void 0:i.call(r);if(!e)throw new Error("Page not found");const n=t.selectedSingleLayer;if(n&&n.nodeType==="GROUP"){const l=mc(t),h=e.children,p=[];h.forEach(v=>{v.id===n.id?v.children.forEach(x=>{x.parentId="",p.push(x)}):p.push(v)}),l.update({layer:e,data:{life:{type:"delete",deletedNodes:{[n.id]:!0},children:p.map(v=>v.id)}}}),h.length=0,h.push(...p),(c=(u=t.props).doAction)==null||c.call(u,l.getNewAction()),_d(t),ir(t,{type:"replace",idList:n.children.map(v=>v.id)}),n.children=[],t.selectionInfo.bunchRectangle.left=n.left,t.selectionInfo.bunchRectangle.top=n.top,t.selectionInfo.bunchRectangle.width=n.width,t.selectionInfo.bunchRectangle.height=n.height,t.selectionInfo.bunchRectangle.rotate=n.rotate}}function Qk(t){if(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="GROUP"){const{id:e}=t.selectedSingleLayer;ir(t,{type:"$startEdittingGroupLayer",layerId:e})}}function Md(t,e,{step:n}){if(e.parentId){const r=N0(t,e.parentId);if(r&&r.nodeType==="GROUP"){const i=[];r.children.forEach(c=>{i.push(...jo(c))});const u=A0(i,r.rotate);n.update({layer:r,data:u}),Md(t,r,{step:n})}}}function qk({localStore:t,layerList:e}){const n=hE({layerList:e}),r=g0(t);return Object.assign(r,n),e.forEach(i=>{i.parentId=r.id}),r.children=[...e],r}function IE({localStore:t,candidate:e,groupedLayerIdList:n,parentNode:r,step:i}){const u=g0(t);u.left=e.left,u.top=e.top,u.width=e.width,u.height=e.height,u.rotate=e.rotate;const c=[...r.children],l=[];return c.forEach(h=>{n.indexOf(h.id)>-1?(u.children.push(h),h.parentId=u.id,u.children.length===n.length&&l.push(u)):l.push(h)}),i.update({layer:r,data:{life:{type:"createChildren",isGrouping:!0,newLayers:{[u.id]:ze.cloneDeep(u)},children:l.map(h=>h.id)}}}),r.children.length=0,r.children.push(...l),u}function Q0(t){return t.selectedNormalLayerList.length===1?So(t,t.selectedNormalLayerList[0]):null}function Jk({context:t,localStore:e,singleLayer:n,step:r,pointInContainer:i}){if(e.options.enableEnterAndLeaveRoom===!1)return;const u=Q0(e);if(u&&j2(i,u)===!1)kE({localStore:e,context:t,currentRoom:u,singleLayer:n,step:r});else{const c=X0(t.fileData,n);let l=null;[...c.children].reverse().forEach(h=>{if(h.id!==n.id&&(h.nodeType==="FRAME"||h.nodeType==="SECTION"||h.nodeType==="SYMBOL")&&Cd(i,jo(h))&&l===null&&h.width>=n.width&&h.height>=n.height){if(n.nodeType==="SYMBOL"&&h.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"&&n.symbolData.symbolID.id===h.id)return;l=h}}),l&&l.children&&RE({fileData:t.fileData,room:c,nextRoom:l,singleLayer:n,step:r})}}function kE({localStore:t,context:e,currentRoom:n,singleLayer:r,step:i}){if(t.isFullyFunctional===!1)return;const u=So(t,n)||t.props.getCurrentPage(),c=[];u.children.forEach(x=>{x.id===n.id?(c.push(x.id),c.push(r.id)):x.id!==r.id&&c.push(x.id)}),i.update({layer:u,data:{children:c}}),u.children=c.map(x=>$r(e.fileData,x)),i.update({layer:n,data:{children:n.children.map(x=>x.id).filter(x=>x!==r.id)}}),n.children=n.children.filter(x=>x.id!==r.id);const l=Kn(n),h=Kn(r),p=sE(l,h),v=bc({width:r.width,height:r.height,t:p});i.update({layer:r,data:{parentId:u.nodeType==="CANVAS"?"":u.id,left:v.left,top:v.top,rotate:v.rotate}})}function RE({fileData:t,room:e,nextRoom:n,singleLayer:r,step:i}){const u=e.children.map(x=>x.id).filter(x=>x!==r.id);i.update({layer:e,data:{children:u}}),e.children=u.map(x=>$r(t,x)).filter(x=>x);const c=n.children.map(x=>x.id).concat([r.id]);i.update({layer:n,data:{children:c}}),n.children.push(r);const l=Kn(r),h=Kn(n),p=uE(h,l),v=bc({width:r.width,height:r.height,t:p});i.update({layer:r,data:{parentId:n.id,left:v.left,top:v.top,rotate:v.rotate}})}function Bs(t){var n;if(!t)throw new Error("element is missing!");return Number((n=document==null?void 0:document.defaultView)==null?void 0:n.getComputedStyle(t).height.replace(/px/,""))}function Ds(t){var n;if(!t)throw new Error("element is missing!");return Number((n=document==null?void 0:document.defaultView)==null?void 0:n.getComputedStyle(t).width.replace(/px/,""))}function Ac(t){if(!t)throw new Error("element is missing!");let e=0;return e+=t.offsetTop,t.offsetParent&&(e+=Ac(t.offsetParent)),e}function Cc(t){if(!t)throw new Error("element is missing!");let e=0;return e+=t.offsetLeft,t.offsetParent&&(e+=Cc(t.offsetParent)),e}function Zk(t,e){if(!t)throw new Error("element is missing!");let n=0,r=0;return e&&e.paddingTop&&(n=e.paddingTop),e&&e.paddingBottom&&(r=e.paddingBottom),!(t.getBoundingClientRect().top>=window.innerHeight-r||t.getBoundingClientRect().bottom<=n)}function eR(t,e,n){let r=(e.pageX-t.appliedPointX)/t.getPageScale(),i=(e.pageY-t.appliedPointY)/t.getPageScale();if(n){const u=Vo(n,{x:r,y:i});r=u.x,i=u.y}return t.bunchRectangleXFixed?Math.abs(r)>eg/t.getPageScale()?(t.bunchRectangleXFixed=!1,t.appliedPointX=e.pageX):r=0:t.appliedPointX=e.pageX,t.bunchRectangleYFixed?Math.abs(i)>eg/t.getPageScale()?(t.bunchRectangleYFixed=!1,t.appliedPointY=e.pageY):i=0:t.appliedPointY=e.pageY,{x:r,y:i}}function q0(t,e){const n=Cc(e),r=Ac(e);return{x:t.pageX-n,y:t.pageY-r}}function OE(t,e){t.pointerDownX=e.pageX,t.pointerDownY=e.pageY,t.pointerX=e.pageX,t.pointerY=e.pageY,t.appliedPointX=e.pageX,t.appliedPointY=e.pageY,t.pointerMoved=!1,t.pointerCurrentAngle=U2(E0(t.getPointInContainer(e),t.bunchRectangleCenter)),t.pointerAppliedAngle=t.pointerCurrentAngle,t.bunchRectangleRotationFixed=!1}function J0(t,e){t.pointerX=e.pageX,t.pointerY=e.pageY}function tR(t,e){return Zp(t.pointerDownX,e.pageX)&&Zp(t.pointerDownY,e.pageY)}function nR(t,e){t.pointerRayLengthInPage=e}function rR(t){var e;return(e=t.changedTouches)!=null&&e[0]&&(t.pageX=t.changedTouches[0].pageX,t.pageY=t.changedTouches[0].pageY),t}const FE={name:"",isLocked:!1,width:0,height:0,frameMaskDisabled:!1,stackMode:"NONE",stackPrimarySizing:"FIXED",stackCounterSizing:"FIXED",stackChildAlignSelf:"AUTO",stackChildPrimaryGrow:0,stackPrimaryAlignItems:"MIN",stackCounterAlignItems:"MIN",stackPositioning:"",stackPaddingTop:0,stackPaddingBottom:0,stackPaddingLeft:0,stackPaddingRight:0,stackSpacing:0,visible:!0,effects:[]},NE=Object.keys(FE),$E=["left","top","width","height"];function qt({localStore:t,node:e,instanceChain:n,nodeSize:r,data:i,step:u,isResizingInstanceManually:c}){r&&(typeof r.width=="number"||typeof r.height=="number")&&GE({localStore:t,layer:e,step:u,width:r.width,height:r.height}),i&&(e.nodeType==="CANVAS"?u.update({layer:e,data:i}):DE({localStore:t,layer:e,instanceChain:n,data:i,step:u,isResizingInstanceManually:c}))}function BE({localStore:t,layer:e,instanceChain:n,data:r,step:i,topInstance:u,isResizingInstanceManually:c}){const l=Y0({layer:e,instanceChain:n}),h={symbolData(p){let v=!1,x=null,E=-1;if(p.symbolOverrides.forEach((_,L)=>{_.guidPath.guids.map(k=>k.id).join("-")===l.map(k=>k.id).join("-")&&(v=!0,E=L,x=_)}),v===!1&&(x={guidPath:{guids:l.map(_=>({..._.guid,id:_.id}))}},p.symbolOverrides.push(x),E=p.symbolOverrides.length-1),x)NE.forEach(_=>{if(x&&r[_]!==void 0)if(_==="width"||_==="height")c&&e===u&&(x[_]=r[_]);else if(_==="effects"){if(!x.effects){const{effects:L}=Zt({localStore:t,layer:e,instanceChain:n});x.effects=ze.cloneDeep(L||[])}typeof r.effects=="function"&&r.effects(x.effects)}else x[_]=r[_]});else throw new Error;Object.keys(x).filter(_=>_!=="guidPath").length===0&&p.symbolOverrides.splice(E,1)},derivedSymbolData(p){let v=null;p.forEach(x=>{x.guidPath.guids.map(E=>E.id).join("-")===l.map(E=>E.id).join("-")&&(v=x)}),v===null&&(v={guidPath:{guids:l.map(x=>({...x.guid,id:x.id}))}},p.push(v)),$E.forEach(x=>{const E=r[x];v&&typeof E<"u"&&(v[x]=E)})}};i.update({layer:u,data:h})}function DE({localStore:t,layer:e,instanceChain:n,data:r,step:i,isResizingInstanceManually:u}){const c=n[0];t.options.enableSymbolAndInstance&&c&&BE({localStore:t,layer:e,instanceChain:n,isResizingInstanceManually:u,topInstance:c,step:i,data:r}),(!c||e===c)&&i.update({layer:e,data:r})}function GE({localStore:t,layer:e,width:n,height:r,step:i}){if(typeof n=="number"||typeof r=="number"){let u=1,c=1;typeof n=="number"&&(u=n/e.width),typeof r=="number"&&(c=r/e.height);let l=!1;u.toFixed(3)===c.toFixed(3)&&(l=!0),i.update({layer:e,data:{width:n,height:r}}),e.nodeType==="FRAME"&&e.image&&(l?i.update({layer:e,data:{image(h){h.width*=u,h.height*=u,h.imageX*=u,h.imageY*=u}}}):e.image.imageScaleMode==="FILL"?I0(t,e,!0):e.image.imageScaleMode==="STRETCH"&&e.image&&i.update({layer:e,data:{image(h){h.width*=u,h.imageX*=u,h.height*=c,h.imageY*=c}}}))}}var Z0={exports:{}};(function(t){(function(){function e(k,N){document.addEventListener?k.addEventListener("scroll",N,!1):k.attachEvent("scroll",N)}function n(k){document.body?k():document.addEventListener?document.addEventListener("DOMContentLoaded",function N(){document.removeEventListener("DOMContentLoaded",N),k()}):document.attachEvent("onreadystatechange",function N(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",N),k())})}function r(k){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(k)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function i(k,N){k.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+N+";"}function u(k){var N=k.g.offsetWidth,z=N+100;return k.j.style.width=z+"px",k.i.scrollLeft=z,k.h.scrollLeft=k.h.scrollWidth+100,k.l!==N?(k.l=N,!0):!1}function c(k,N){function z(){var W=Q;u(W)&&W.g.parentNode!==null&&N(W.l)}var Q=k;e(k.h,z),e(k.i,z),u(k)}function l(k,N,z){N=N||{},z=z||window,this.family=k,this.style=N.style||"normal",this.weight=N.weight||"normal",this.stretch=N.stretch||"normal",this.context=z}var h=null,p=null,v=null,x=null;function E(k){return p===null&&(_(k)&&/Apple/.test(window.navigator.vendor)?(k=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),p=!!k&&603>parseInt(k[1],10)):p=!1),p}function _(k){return x===null&&(x=!!k.document.fonts),x}function L(k,N){var z=k.style,Q=k.weight;if(v===null){var W=document.createElement("div");try{W.style.font="condensed 100px sans-serif"}catch{}v=W.style.font!==""}return[z,Q,v?k.stretch:"","100px",N].join(" ")}l.prototype.load=function(k,N){var z=this,Q=k||"BESbswy",W=0,ae=N||3e3,le=new Date().getTime();return new Promise(function(te,ge){if(_(z.context)&&!E(z.context)){var Ae=new Promise(function(Y,V){function oe(){new Date().getTime()-le>=ae?V(Error(""+ae+"ms timeout exceeded")):z.context.document.fonts.load(L(z,'"'+z.family+'"'),Q).then(function(ue){1<=ue.length?Y():setTimeout(oe,25)},V)}oe()}),F=new Promise(function(Y,V){W=setTimeout(function(){V(Error(""+ae+"ms timeout exceeded"))},ae)});Promise.race([F,Ae]).then(function(){clearTimeout(W),te(z)},ge)}else n(function(){function Y(){var Fe;(Fe=Se!=-1&&j!=-1||Se!=-1&&ne!=-1||j!=-1&&ne!=-1)&&((Fe=Se!=j&&Se!=ne&&j!=ne)||(h===null&&(Fe=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),h=!!Fe&&(536>parseInt(Fe[1],10)||parseInt(Fe[1],10)===536&&11>=parseInt(Fe[2],10))),Fe=h&&(Se==me&&j==me&&ne==me||Se==Me&&j==Me&&ne==Me||Se==Oe&&j==Oe&&ne==Oe)),Fe=!Fe),Fe&&(Le.parentNode!==null&&Le.parentNode.removeChild(Le),clearTimeout(W),te(z))}function V(){if(new Date().getTime()-le>=ae)Le.parentNode!==null&&Le.parentNode.removeChild(Le),ge(Error(""+ae+"ms timeout exceeded"));else{var Fe=z.context.document.hidden;(Fe===!0||Fe===void 0)&&(Se=oe.g.offsetWidth,j=ue.g.offsetWidth,ne=ee.g.offsetWidth,Y()),W=setTimeout(V,50)}}var oe=new r(Q),ue=new r(Q),ee=new r(Q),Se=-1,j=-1,ne=-1,me=-1,Me=-1,Oe=-1,Le=document.createElement("div");Le.dir="ltr",i(oe,L(z,"sans-serif")),i(ue,L(z,"serif")),i(ee,L(z,"monospace")),Le.appendChild(oe.g),Le.appendChild(ue.g),Le.appendChild(ee.g),z.context.document.body.appendChild(Le),me=oe.g.offsetWidth,Me=ue.g.offsetWidth,Oe=ee.g.offsetWidth,V(),c(oe,function(Fe){Se=Fe,Y()}),i(oe,L(z,'"'+z.family+'",sans-serif')),c(ue,function(Fe){j=Fe,Y()}),i(ue,L(z,'"'+z.family+'",serif')),c(ee,function(Fe){ne=Fe,Y()}),i(ee,L(z,'"'+z.family+'",monospace'))})})},t.exports=l})()})(Z0);var UE=Z0.exports;const WE=Yo(UE);function Id(t){console.log("[dev]",...t)}function HE(t){return new Promise(e=>{const n=new FileReader;t instanceof Blob?n.readAsDataURL(t):n.readAsDataURL(new Blob([t])),n.onload=function(){e(this.result)},n.onerror=r=>{I2("Failed to get base64","")}})}function zE(t,e){ze.forEach(e,r=>{r.subset.charCodeList=[],r.subset.charMap={}});const n={};return ze.forEach(t,r=>{const{characters:i}=r.textData,u=r.fontName.fullname;n[u]=!0;const c=e[u];if(c)for(let l=0;l<i.length;l+=1){const h=i.charCodeAt(l);c.subset.charMap[h]={char:i[l],unicode:h,glyph:null},c.subset.charCodeList.push(h)}}),ze.forEach(n,(r,i)=>{const u=e[i];if(u){const c=em(u);u.subset.currentText!==c&&(u.subset.subsetBase64=""),u.subset.currentText=c}}),n}function em(t){return ze.sortBy(ze.uniq(t.subset.charCodeList)).map(e=>t.subset.charMap[e].char).filter(e=>e!==`
`).join("")}function jE(t,e,n){return Promise.all(Object.keys(e).map(r=>new Promise(i=>{const u=n[r];u?u.subset.subsetBase64?i(""):VE(t,r,n).then(()=>{i("")}):i("")})))}function VE(t,e,n){const r=t.props.getRootStore().fontMap[e],i=n[r.fontName],u=em(i);return t.props.getRootStore().getFontSubsetFileFromBackend({src:r.woff2FileUrl||r.ttfURL,chars:u}).then(c=>(i.subset.subsetBase64=c,c))}const Ui={};function XE(t,e){return t.props.getRootStore().fontMap[e]||null}function YE(t){return Ui[t]||null}async function KE(t,e){const n=XE(t,e);if(YE(e)||(Ui[e]={styleTagReady:!1,parsed:null,newFont:null,subset:{charMap:{},charCodeList:[],currentText:"",subsetBase64:""},base64String:"",fontkitFont:null,fontkitString:""}),n.fontFaceReady===!0)return"";n.fontFaceReady=!0;const r=i=>{n.fontFaceReady=!1};return JE(n).then(()=>(Id([`Loading ${e}`]),tm(n),"")).catch(i=>{throw r(),new Error(`Failed to ensure font ${n.fontName}`)})}async function tm(t){const{fontName:e}=t,n=t.woff2FileUrl||t.ttfURL;return QE(n).then(r=>{Ui[e].base64String=r})}function QE(t){return qE(t).then(e=>e.blob()).then(e=>HE(e))}function qE(t){return fetch(t,{method:"GET"})}async function JE(t,e){const{fontName:n}=t,r=Ui[n];if(r.styleTagReady)return"";const i=document.createElement("style");let u=t.woff2FileUrl||t.ttfURL;const c=new WE(kd(n));return i.setAttribute("data-font-name",n),i.setAttribute("id",n),i.innerHTML=Pf(n,u),document.getElementsByTagName("head")[0].appendChild(i),c.load(null,60*60*1e3).then(()=>(r.styleTagReady=!0,"")).catch(l=>{throw new Error(l.message)})}function kd(t){return t.replace(/\./g,"")}async function iR(t,e){const n=zE(e,Ui);await jE(t,n,Ui),Id([Ui,n])}function Pf(t,e){return`@font-face {
    font-family: "${kd(t)}";
    font-display: swap;
    src:url('${e}') format('truetype');
  }`}async function oR(t,e,n){if(n==="")return"";const r=Ui[n];if(r.subset.subsetBase64)return Pf(n,r.subset.subsetBase64);r||(Id([`${n} is not initialized yet.`,Ui]),await KE(t,n));{if(!r.base64String){const i=t.props.getRootStore().fontMap[n];await tm(i)}return Pf(n,r.base64String)}}const ZE="break-word";let hi=1;function eA(){return hi}const Nr={textContainer:null,divElement:null};typeof window<"u"&&(Nr.textContainer=document.createElement("div"),Nr.textContainer.style.cssText+=["position: fixed;","left: 0;","top: 0;","overflow: hidden;"].join(""),document.body.appendChild(Nr.textContainer),Nr.divElement=document.createElement("div"),Nr.divElement.style.cssText+=["position: fixed;","left: 0;","top: 0;","visibility: hidden;","pointer-events: none;","z-index: 1000;"].join(""),Nr.textContainer.appendChild(Nr.divElement));function tA(t){const e=k2()==="safari"?1:4;return t<12*e?12/t:1/e}function nA(t){hi=tA(t.fontSize);const e=t.fontSize*hi,n={position:"absolute",left:"0",top:"0",transformOrigin:"0 0",width:`${t.width*hi}px`,lineHeight:`${t.lineHeight.value}`,fontFamily:`${kd(t.fontName.fullname)}`,fontSize:`${e}px`,wordWrap:`${ZE}`,fontWeight:`${t.fontWeight==="BOLD"?"bold":"normal"}`,whiteSpace:"pre-wrap",textAlign:t.textAlignHorizontal.toLowerCase(),writingMode:t.writingMode,fontStyle:t.fontStyle==="ITALIC"?"italic":"normal",textDecoration:`${t.textDecoration==="STRIKE_THROUGH"?"line-through":""} ${t.textDecoration==="UNDERLINE"?"underline":""}`,letterSpacing:`${t.letterSpacing.value*hi}px`};return n.transform=`scale(${1/hi})`,t.writingMode==="horizontal-tb"?(n.width=`${t.width*hi}px`,n.height="auto"):(n.width="auto",n.height=`${t.height*hi}px`),n}function nm(t){const e=nA(t);return rA(e)}function rA(t){return Object.keys(t).map(n=>`${ze.kebabCase(n).replace("webkit","-webkit")}: ${t[n]}`).join(";")}function iA(t){if(!Nr.divElement)return{nextWidth:0,nextHeight:0};Nr.divElement.style.cssText+=nm(t),Nr.divElement.innerText=t.textData.characters;let e=t.width,n=t.height;if(t.writingMode==="horizontal-tb"){const r=Bs(Nr.divElement);e=t.width,n=r/hi}else e=Ds(Nr.divElement)/hi,n=t.height;return{nextWidth:e,nextHeight:n}}function oA(t){const e=[];if(t.textData){const{textData:n}=t;let r=-1e3,i={styleID:-1e3,start:0,end:0};n.characterStyleIDs.forEach((u,c)=>{u!==r?(r=u,i={styleID:u,start:c,end:c},e.push(i)):i.end=c})}return e}function rm({start:t,end:e,textData:n}){const r=[];let i=null;for(let u=t;u<e;u+=1){const c=n.characterStyleIDs[u-1],l=n.characterStyleIDs[u+1],h=n.characterStyleIDs[u];(u===t||h!==c)&&(i={styleID:h,start:u,end:u,prevOne:c,nextOne:void 0}),(u===e-1||h!==l)&&(i.nextOne=l,i.end=u+1,r.push(i))}return r}function aR({localStore:t,layer:e}){const{start:n,end:r}=t.selectionInfo.textRange$,i={fontName:new Set,fontSize:new Set,fontStyle:new Set,textDecoration:new Set};function u({styleID:c}){var l;if(c!==0){const h=e.textData.styleOverrideTable.find(p=>p.styleID===c);i.fontName.add(((l=h==null?void 0:h.fontName)==null?void 0:l.fullname)||e.fontName.fullname),i.fontSize.add((h==null?void 0:h.fontSize)||e.fontSize),i.fontStyle.add((h==null?void 0:h.fontStyle)||e.fontStyle),i.textDecoration.add((h==null?void 0:h.textDecoration)||e.textDecoration)}else i.fontName.add(e.fontName.fullname),i.fontSize.add(e.fontSize),i.fontStyle.add(e.fontStyle),i.textDecoration.add(e.textDecoration)}if(t.editingText)if(n!==r)rm({start:n,end:r,textData:e.textData}).forEach(l=>{u({styleID:l.styleID})});else{const c=e.textData.characterStyleIDs[n-1]||0;u({styleID:c})}else u({styleID:0});return i}function Mf({Raptor:t,value:e}){return e==="ROUND"?t.StrokeJoin.Round:e==="BEVEL"?t.StrokeJoin.Bevel:t.StrokeJoin.Miter}function im({paint:t,Raptor:e,leftTop:n,bottomRight:r}){let i=[.5,n[1]],u=[.5,r[1]];if(typeof t.angle=="number"){const[l,h]=n,[p,v]=r,x=A0([{x:l,y:h},{x:l,y:v},{x:p,y:h},{x:p,y:v}],t.angle),E=Qo(x),_=Tf(E.leftBottom,E.rightBottom),L=Tf(E.leftTop,E.rightTop);i=[_.x,_.y],u=[L.x,L.y]}const c=e.Shader.MakeLinearGradient(i,u,t.stops.map(l=>new Float32Array(hn(l.color).toFigmaArray())),t.stops.map(l=>l.position),e.TileMode.Decal);return c.deleteLater(),c}function aA({Raptor:t,fileData:e,layer:n}){const r=new t.ParagraphStyle({textStyle:{color:t.BLACK,fontFamilies:[n.fontName.fullname],fontSize:n.fontSize},textAlign:t.TextAlign.Left}),{textStyle:i}=r;if(n.textAlignHorizontal==="LEFT"?r.textAlign=t.TextAlign.Left:n.textAlignHorizontal==="RIGHT"?r.textAlign=t.TextAlign.Right:n.textAlignHorizontal==="CENTER"&&(r.textAlign=t.TextAlign.Center),i&&om({Raptor:t,styleData:{...n,fillPaints:[],effects:[]},fileData:e,textStyle:i}),i){const{strutStyle:u}=r;u&&(u.strutEnabled=!0,u.fontFamilies=[n.fontName.fullname],u.fontSize=i.fontSize,u.heightMultiplier=n.lineHeight.value,u.fontStyle&&(n.fontStyle==="ITALIC"?u.fontStyle.slant=t.FontSlant.Italic:u.fontStyle.slant=t.FontSlant.Oblique))}return r}function om({Raptor:t,fileData:e,styleData:n,textStyle:r}){var i,u;r!=null&&r.fontStyle&&(n.fontStyle==="ITALIC"?r.fontStyle.slant=t.FontSlant.Italic:r.fontStyle.slant=t.FontSlant.Oblique,n.fontWeight==="BOLD"?r.fontStyle.weight=t.FontWeight.Bold:r.fontStyle.weight=t.FontWeight.Normal,n.textDecoration==="UNDERLINE"?(r.decoration=1,r.decorationStyle=t.DecorationStyle.Solid):r.decoration=0),(i=n.fillPaints)!=null&&i[0]?n.fillPaints[0].type==="SOLID"&&(r.color=[n.fillPaints[0].color.r,n.fillPaints[0].color.g,n.fillPaints[0].color.b,n.fillPaints[0].color.a]):r.color=t.TRANSPARENT,r.halfLeading=!0,n.lineHeight&&(r.heightMultiplier=n.lineHeight.value),(u=n.effects)==null||u.forEach(c=>{if(c.visible&&c.type==="DROP_SHADOW"){const l={blurRadius:e.doScale(c.radius),offset:[e.doScale(c.offset.x),e.doScale(c.offset.y)],color:hn(c.color).toFigmaArray()};r.shadows=[l]}}),r&&(n.fontName&&(r.fontFamilies=[n.fontName.fullname]),n.fontSize&&(r.fontSize=e.doScale(n.fontSize)))}function If(t){return t.fontSize/5}function hs({Raptor:t,layer:e,paragraph:n,scale:r}){e.textAutoResize==="WIDTH_AND_HEIGHT"&&n.layout((e.width+If(e))*r),e.textAutoResize==="HEIGHT"&&n.layout(e.width*r)}function sA({Raptor:t,fileData:e,layer:n,persistNewParagraph:r}){var h,p;const i={newParagraph:null,strokeList:[],shadowList:[],fillList:[]},u=oA(n),c=aA({Raptor:t,fileData:e,layer:n}),l=t.ParagraphBuilder.MakeFromFontProvider(c,e.fontProvider);if(l.deleteLater(),n.textData&&u.length>0){const v=u.map(L=>{const k=n.textData.characters.slice(L.start,L.end+1),N=n.textData.styleOverrideTable.find(Q=>Q.styleID===L.styleID),z=new t.TextStyle({});return om({Raptor:t,fileData:e,styleData:{...n,...N},textStyle:z}),{start:L.start,end:L.end,blockStyle:z,text:k,fillPaints:(N==null?void 0:N.fillPaints)||n.fillPaints||[]}});l.reset(),v.forEach(L=>{L.blockStyle.shadows=void 0,l.pushStyle(L.blockStyle),l.addText(L.text)});const x=l.build();hs({Raptor:t,layer:n,paragraph:x,scale:e.scale}),r||x.deleteLater(),i.newParagraph=x;let E=0;n.fillPaints.length>E&&(E=n.fillPaints.length),n.textData.styleOverrideTable.forEach(L=>{L.fillPaints&&L.fillPaints.length>E&&(E=L.fillPaints.length)});for(let L=0;L<E;L+=1){l.reset(),v.forEach(N=>{const z=N.fillPaints[L],Q=new t.Paint;if(Q.deleteLater(),Q.setAntiAlias(!0),z&&z.visible){if(z.type==="SOLID"&&Q.setColor(hn(z.color).toFigmaArray()),z.type==="GRADIENT_LINEAR"){const ae=x.getHeight(),le=x.getMaxWidth(),te=im({Raptor:t,leftTop:[0,0],bottomRight:[le,ae],paint:z});Q.setShader(te)}}else Q.setColor(t.TRANSPARENT);const W=new t.Paint;W.deleteLater(),W.setStyle(t.PaintStyle.Fill),W.setColor(t.TRANSPARENT),l.pushPaintStyle(N.blockStyle,Q,W),l.addText(N.text)});const k=l.build();k.deleteLater(),hs({Raptor:t,layer:n,paragraph:k,scale:e.scale}),i.fillList.push({paragraph:k})}const _=n.strokePaints.length>0?n.strokeWeight:0;(h=n.strokePaints)==null||h.forEach(L=>{if(L.visible){l.reset(),v.forEach(N=>{N.blockStyle.shadows=void 0;const z=new t.Paint;z.deleteLater(),L.type==="SOLID"?z.setColor([L.color.r,L.color.g,L.color.b,L.color.a]):L.type==="GRADIENT_LINEAR"&&z.setColor(hn(L.stops[0].color).toFigmaArray()),z.setAntiAlias(!0),z.setStyle(t.PaintStyle.Stroke),z.setStrokeJoin(Mf({Raptor:t,value:n.strokeJoin})),n.strokeAlign==="CENTER"?z.setStrokeWidth(e.doScale(_)):n.strokeAlign==="INSIDE"?(z.setStrokeWidth(e.doScale(_*2)),z.setBlendMode(t.BlendMode.SrcATop)):n.strokeAlign==="OUTSIDE"&&(z.setStrokeWidth(e.doScale(_*2)),z.setBlendMode(t.BlendMode.DstATop));const Q=new t.Paint;Q.deleteLater(),Q.setStyle(t.PaintStyle.Fill),Q.setColor(t.TRANSPARENT),l.pushPaintStyle(N.blockStyle,z,Q),l.addText(N.text)});const k=l.build();hs({Raptor:t,layer:n,paragraph:k,scale:e.scale}),k.deleteLater(),i.strokeList.push({paragraph:k})}}),(p=n.effects)==null||p.forEach(L=>{if(L&&L.visible===!0&&L.type==="DROP_SHADOW"){l.reset(),v.forEach(z=>{z.blockStyle.shadows=void 0;const Q=new t.Paint;Q.deleteLater(),Q.setColor([L.color.r,L.color.g,L.color.b,L.color.a]),Q.setAntiAlias(!0),Q.setStyle(t.PaintStyle.Fill);const W=new t.Paint;W.deleteLater(),W.setStyle(t.PaintStyle.Fill),W.setColor(t.TRANSPARENT),l.pushPaintStyle(z.blockStyle,Q,W),l.addText(z.text)});const k=l.build();hs({Raptor:t,layer:n,paragraph:k,scale:e.scale}),k.deleteLater(),l.reset(),v.forEach(z=>{z.blockStyle.shadows=void 0;const Q=new t.Paint;Q.deleteLater(),Q.setColor([L.color.r,L.color.g,L.color.b,L.color.a]),Q.setAntiAlias(!0),Q.setStrokeJoin(Mf({Raptor:t,value:n.strokeJoin})),Q.setStyle(t.PaintStyle.Stroke);let W=0;n.strokeAlign==="CENTER"?W=_+L.spread:n.strokeAlign==="OUTSIDE"&&(W=(_+L.spread)*2),Q.setStrokeWidth(e.doScale(W));const ae=new t.Paint;ae.deleteLater(),ae.setStyle(t.PaintStyle.Fill),ae.setColor(t.TRANSPARENT),l.pushPaintStyle(z.blockStyle,Q,ae),l.addText(z.text)});const N=l.build();hs({Raptor:t,layer:n,paragraph:N,scale:e.scale}),N.deleteLater(),i.shadowList.push({paragraph:k,strokedParagraph:N,offset:{x:L.offset.x,y:L.offset.y},radius:L.radius})}})}return i}function Rd({Raptor:t,fileData:e,layer:n,src:r,persistNewParagraph:i}){var p;if(!r)return sA({Raptor:t,fileData:e,layer:n,persistNewParagraph:i});const u={newParagraph:null,strokeList:[],shadowList:[],fillList:[]},{text:c}=r,l=new t.ParagraphStyle({textStyle:{color:t.BLACK}});(p=l.textStyle)!=null&&p.fontStyle&&(n.fontStyle==="ITALIC"?l.textStyle.fontStyle.slant=t.FontSlant.Italic:l.textStyle.fontStyle.slant=t.FontSlant.Oblique,n.fontWeight==="BOLD"?l.textStyle.fontStyle.weight=t.FontWeight.Bold:l.textStyle.fontStyle.weight=t.FontWeight.Normal);const h=e.fontStore.getFontInfo(n.fontName.fullname);if(h&&l.textStyle){l.textStyle.fontFamilies=[h.name],l.textStyle.fontSize=e.doScale(n.fontSize);const{strutStyle:v}=l;if(v&&(v.strutEnabled=!0,v.forceStrutHeight=!0,v.fontFamilies=[h.name],v.fontSize=l.textStyle.fontSize,v.heightMultiplier=n.lineHeight.value,v.fontStyle&&(n.fontStyle==="ITALIC"?v.fontStyle.slant=t.FontSlant.Italic:v.fontStyle.slant=t.FontSlant.Oblique)),h.fontMgr){const x=t.ParagraphBuilder.Make(l,h.fontMgr);x.deleteLater(),x.addText(c);const E=x.build();E.deleteLater(),u.newParagraph=E}}return u}function uA({fileData:t,layer:e,instanceChain:n}){const r=Zt({localStore:t.localStore,layer:e,instanceChain:n}),i={left:0,top:0,width:r.width,height:r.height};if(r.textAutoResize==="NONE")return i;const c=Rd({Raptor:t.Raptor,fileData:t,layer:e}).newParagraph;if(c){if(r.textAutoResize==="HEIGHT"){let l=0;c.getLineMetrics().forEach(p=>{l+=p.height}),i.width=r.width,i.height=l/t.scale}else if(r.textAutoResize==="WIDTH_AND_HEIGHT"){c.layout(t.doScale(1e5));let l=0;c.getLineMetrics().forEach(h=>{h.width>l&&(l=h.width)}),i.width=l/t.scale,i.height=c.getHeight()/t.scale}}return i}let am=null;function sR(t){am=t}function cA(t,e){return t/1e3*e}function lA(t){return t/1e3+1.2}function fA(t,e){return t==null?void 0:t.map(n=>{const r=n.width*e/128*5;return{...n,width:r}})}function dA(t,e){return t==null?void 0:t.map(n=>({...n,width:n.width*25/512*e}))}function hA(t,e){return t==null?void 0:t.map(n=>({...n,blur:n.blur*e/128*5}))}function uR(t){const e=t,{fontSize:n,lineSpacing:r,letterSpacing:i,textGlow:u=[],textShadow:c=[],textStroke:l=[]}=t;return e.letterSpacing=cA(i,n),e.lineSpacing=lA(r),e.textGlow=dA(u,n),e.textShadow=hA(c,n),e.textStroke=fA(l,n),e}function cR(t,e,n,r=!0){const i={},u=r?eA():1;n.forEach(l=>{if(l.hidden)return;const{color:h}=uf(l.color,"rgba");i.WebkitTextStroke=`${l.width*2*u}px ${h}`});const c=[];return t.forEach(l=>{const{width:h,color:p,hidden:v}=l;v||c.push(`0 0 ${h*u}px ${uf(p,"rgba").color}`)}),e.forEach(l=>{const{color:h,x:p,y:v,blur:x,hidden:E}=l;E||c.push(`${p*u}px ${v*u}px ${x*u}px ${uf(h,"rgba").color}`)}),i.textShadow=c.join(","),i.color="transparent",i}function lR(t){return{color:"transparent"}}function pA(t){const e=am;e&&e.getEditor()&&(e.getEditor().root.style.cssText=nm(t))}const gA=Gs;function Gs({localStore:t,layer:e,instanceChain:n,step:r}){let i=0,u=0;const c=ni(t);if(c){const h=uA({fileData:c.fileData,layer:e,instanceChain:n});i=h.width,u=h.height}else{const h=iA(e);i=h.nextWidth,u=h.nextHeight}const l=G2(e,i,u,e.writingMode==="horizontal-tb"?"left":"right");qt({localStore:t,node:e,instanceChain:n,nodeSize:{width:i,height:u},data:{left:l.x,top:l.y},step:r})}function mA({localStore:t,layer:e,size:n,containerStackMode:r,instanceChain:i,step:u}){const c={};n==="Fill"?(r==="VERTICAL"?c.stackChildAlignSelf="STRETCH":r==="HORIZONTAL"&&(c.stackChildPrimaryGrow=1),e.nodeType==="TEXT"&&(c.textAutoResize="HEIGHT")):(r==="VERTICAL"?c.stackChildAlignSelf="AUTO":r==="HORIZONTAL"&&(c.stackChildPrimaryGrow=0),n==="Fixed"?(e.nodeType==="TEXT"&&(c.textAutoResize="HEIGHT"),Mn(e)==="HORIZONTAL"?c.stackPrimarySizing="FIXED":Mn(e)==="VERTICAL"&&(c.stackCounterSizing="FIXED")):n==="Hug"&&(e.nodeType==="TEXT"&&(c.textAutoResize="WIDTH_AND_HEIGHT"),Mn(e)==="HORIZONTAL"?c.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE":Mn(e)==="VERTICAL"&&(c.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"))),qt({localStore:t,node:e,instanceChain:i,data:c,step:u}),e.nodeType==="TEXT"&&Gs({localStore:t,layer:e,step:u,instanceChain:i})}function yA({localStore:t,layer:e,size:n,containerStackMode:r,instanceChain:i,step:u}){const c={};n==="Fill"?r==="HORIZONTAL"?c.stackChildAlignSelf="STRETCH":r==="VERTICAL"&&(c.stackChildPrimaryGrow=1):(r==="VERTICAL"?c.stackChildPrimaryGrow=0:r==="HORIZONTAL"&&(c.stackChildAlignSelf="AUTO"),n==="Fixed"?Mn(e)==="VERTICAL"?c.stackPrimarySizing="FIXED":Mn(e)==="HORIZONTAL"&&(c.stackCounterSizing="FIXED"):n==="Hug"&&(Mn(e)==="VERTICAL"?c.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE":Mn(e)==="HORIZONTAL"&&(c.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"))),qt({localStore:t,node:e,instanceChain:i,data:c,step:u})}function vA({localStore:t,layer:e,instanceChain:n}){const r=Zt({localStore:t,layer:e,instanceChain:n});if(e.nodeType==="TEXT"&&r.textAutoResize==="WIDTH_AND_HEIGHT")return"Hug";const i=So(t,e);if(i&&Mn(i)==="VERTICAL"&&r.stackChildAlignSelf==="STRETCH"||i&&Mn(i)==="HORIZONTAL"&&r.stackChildPrimaryGrow===1)return"Fill";if(r.stackMode==="HORIZONTAL"){if(r.stackPrimarySizing==="FIXED")return"Fixed";if(r.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}if(r.stackMode==="VERTICAL"){if(r.stackCounterSizing==="FIXED")return"Fixed";if(r.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}return"Fixed"}function wA({localStore:t,layer:e,instanceChain:n}){const r=Zt({localStore:t,layer:e,instanceChain:n}),i=So(t,e);if(i&&Mn(i)==="HORIZONTAL"&&r.stackChildAlignSelf==="STRETCH"||i&&Mn(i)==="VERTICAL"&&r.stackChildPrimaryGrow===1)return"Fill";if(r.stackMode==="VERTICAL"){if(r.stackPrimarySizing==="FIXED")return"Fixed";if(r.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}if(r.stackMode==="HORIZONTAL"){if(r.stackCounterSizing==="FIXED")return"Fixed";if(r.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}return"Fixed"}function fR(t,e,n){const r={Fill:!1,Hug:!1,Fixed:!0},i=So(t,e),u=Zt({localStore:t,layer:e,instanceChain:n});return i&&Mn(i)!=="NONE"&&u.stackPositioning!=="ABSOLUTE"&&(r.Fill=!0),Mn(e)!=="NONE"&&(r.Hug=!0),e.nodeType==="TEXT"&&(r.Hug=!0),r}function ng(t){return t.stackMode==="HORIZONTAL"?{start:"left",size:"width",paddingStart:"stackPaddingLeft",paddtinEnd:"stackPaddingRight"}:{start:"top",size:"height",paddingStart:"stackPaddingTop",paddtinEnd:"stackPaddingBottom"}}function rg(t){return t.stackMode==="HORIZONTAL"?{start:"top",size:"height",paddingStart:"stackPaddingTop",paddtinEnd:"stackPaddingBottom"}:{start:"left",size:"width",paddingStart:"stackPaddingLeft",paddtinEnd:"stackPaddingRight"}}function Od({localStore:t,layer:e,instanceChain:n,options:r}){const i=[...n];if(e.nodeType==="INSTANCE"&&i[i.length-1]===e&&i.pop(),e.parentId){let u=t.getLayer(e.parentId);if(u&&u.stackMode){if(u.nodeType==="SYMBOL"){let c=i.length-1;for(;c>=0;)i[c].symbolData.symbolID.id===u.id&&(u=i[c]),c-=1}return Od({localStore:t,layer:u,instanceChain:i,options:r})}}return(e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&e.stackMode?(e.nodeType==="INSTANCE"&&i[i.length-1]!==e&&i.push(e),{layer:e,instanceChain:i}):null}function Eo({localStore:t,layer:e,instanceChain:n,step:r,options:i}){n=Gn(n,e);const u=Od({localStore:t,layer:e,instanceChain:n,options:i});u&&_c({localStore:t,layer:u.layer,parent:null,instanceChain:u.instanceChain,data:{},constraintsMap:{},step:r,options:i})}function kf({fileData:t,localStore:e,layer:n,instanceChain:r}){return $s(t,n).filter(i=>{const u=Zt({localStore:e,layer:i,instanceChain:Gn(r,i)});return!(!u.visible||u.stackPositioning==="ABSOLUTE")}).map(i=>({child:i,childInstanceChain:Gn(r,i),childInfo:Zt({localStore:e,layer:i,instanceChain:Gn(r,i)})}))}function xA({context:t,localStore:e,instanceChain:n,parentInstanceChain:r,parent:i,layer:u,constraintsMap:c,step:l,options:h}){n=Gn(n,u);const p=Zt({localStore:e,layer:u,instanceChain:n});let v=!1,x=!1;p.stackPrimarySizing==="FIXED"&&(v=!0),p.stackCounterSizing==="FIXED"&&(x=!0);const E=ng(p),_=rg(p);if(i){const L=Zt({localStore:e,layer:i,instanceChain:r});if(p.stackChildPrimaryGrow===1&&L.stackMode!=="NONE"&&L.stackPrimarySizing!=="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"){const k=ng(L);let N=L[k.size]-L[k.paddingStart]-L[k.paddtinEnd],z=0;kf({fileData:t.fileData,localStore:e,layer:i,instanceChain:r}).forEach(({childInfo:Q})=>{Q.stackChildPrimaryGrow!==1?N-=Q[k.size]:z+=1,N-=L.stackSpacing}),N+=L.stackSpacing,qt({localStore:e,node:u,instanceChain:n,nodeSize:{[k.size]:N/z},step:l}),k.start===E.start?v=!0:x=!0}if(p.stackChildAlignSelf==="STRETCH"){const k=rg(L);L.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"||(qt({localStore:e,node:u,instanceChain:n,nodeSize:{[k.size]:L[k.size]-L[k.paddingStart]-L[k.paddtinEnd]},step:l}),k.start===E.start?v=!0:x=!0)}}if(p.stackMode!=="NONE"){if(u.nodeType==="FRAME"||u.nodeType==="SYMBOL"||u.nodeType==="INSTANCE"){const L=kf({localStore:e,fileData:t.fileData,layer:u,instanceChain:n});let k=0,N=0,z=0;const Q=(L.length-1)*p.stackSpacing;if(L.forEach(({child:W,childInfo:ae,childInstanceChain:le})=>{_c({localStore:e,parent:u,layer:W,instanceChain:le,data:{},constraintsMap:c,step:l,options:h}),ae[_.size]>k&&(k=ae[_.size]),z+=ae[E.size]}),v===!1&&p.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&p.stackPrimaryAlignItems!=="SPACE_EVENLY"&&(qt({localStore:e,node:u,instanceChain:n,nodeSize:{[E.size]:p[E.paddingStart]+p[E.paddtinEnd]+z+Q},step:l}),v=!0),x===!1&&p.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&(qt({localStore:e,node:u,instanceChain:n,nodeSize:{[_.size]:k+p[_.paddingStart]+p[_.paddtinEnd]},step:l}),x=!0),p.stackPrimaryAlignItems==="SPACE_EVENLY"){let W=p[E.paddingStart];N=p[E.size]-p[E.paddingStart]-p[E.paddtinEnd],L.forEach(({childInfo:ae})=>{N-=ae[E.size]}),L.length>=2&&(N/=L.length-1),L.forEach(({child:ae,childInfo:le,childInstanceChain:te},ge)=>{qt({localStore:e,node:ae,instanceChain:te,data:{[E.start]:W},step:l}),W+=le[E.size],ge<L.length-1&&(W+=N)})}else if(p.stackPrimaryAlignItems==="CENTER"&&v){let W=p[E.paddingStart];W+=(p[E.size]-p[E.paddingStart]-p[E.paddtinEnd]-z-Q)/2,L.forEach(({child:ae,childInfo:le,childInstanceChain:te})=>{qt({localStore:e,node:ae,instanceChain:te,data:{[E.start]:W},step:l}),W+=le[E.size],W+=p.stackSpacing})}else if(p.stackPrimaryAlignItems==="MAX"){let W=p[E.size]-p[E.paddingStart]-z-Q;L.forEach(({child:ae,childInfo:le,childInstanceChain:te})=>{qt({localStore:e,node:ae,instanceChain:n,data:{[E.start]:W},step:l}),W+=le[E.size],W+=p.stackSpacing})}else{let W=p[E.paddingStart];L.forEach(({child:ae,childInfo:le,childInstanceChain:te})=>{qt({localStore:e,node:ae,instanceChain:te,data:{[E.start]:W},step:l}),W+=le[E.size],W+=p.stackSpacing})}L.forEach(({child:W,childInfo:ae,childInstanceChain:le})=>{p.stackCounterAlignItems==="CENTER"?qt({localStore:e,node:W,instanceChain:le,data:{[_.start]:(p[_.size]-ae[_.size])/2},step:l}):p.stackCounterAlignItems==="MAX"?qt({localStore:e,node:W,instanceChain:n,data:{[_.start]:p[_.size]-p[_.paddtinEnd]-ae[_.size]},step:l}):qt({localStore:e,node:W,instanceChain:n,data:{[_.start]:p[_.paddingStart]},step:l})})}}}function _c({localStore:t,layer:e,parent:n,instanceChain:r,constraintsMap:i,data:u,step:c,options:l}){const h=ni(t);if(!h)return;let p=[...r];n!==null&&(p=Gn(p,n)),r=Gn(r,e);const v=Zt({localStore:t,layer:e,instanceChain:r});if(n===null&&Ld({localStore:t,layer:e,instanceChain:r,constraintsMap:i}),r[0]&&r[0]===e&&c.update({layer:r[0],data:{derivedSymbolData(x){x.length=0}}}),e.nodeType==="TEXT"&&v.textAutoResize==="WIDTH_AND_HEIGHT"){gA({localStore:t,layer:e,step:c,instanceChain:r});return}if(qt({localStore:t,node:e,instanceChain:r,nodeSize:{width:u.width,height:u.height},data:{left:u.left,top:u.top},step:c}),e.nodeType!=="SECTION"&&(xA({context:h,localStore:t,instanceChain:r,parent:n,parentInstanceChain:p,layer:e,constraintsMap:i,step:c,options:l}),e.nodeType==="TEXT"&&Gs({localStore:t,layer:e,step:c,instanceChain:r}),sm({localStore:t,room:e,instanceChain:r,map:i,step:c}),e.nodeType==="SYMBOL")){const x=Td(h.fileData,e),E={};ze.forEach(x,_=>{const L=Od({localStore:t,layer:_,instanceChain:[]});L&&(E[L.instanceChain.map(k=>k.id).join("--")]=L)}),ze.forEach(E,_=>{Eo({localStore:t,layer:_.layer,instanceChain:_.instanceChain,step:c})})}}function bA(t,e,n,r){var u,c;const i=ni(t);if(i&&$0(e)){const l=Gn([],e),h={};if(e.stackMode==="HORIZONTAL"&&n==="VERTICAL"||e.stackMode==="VERTICAL"&&n==="HORIZONTAL"){const p=e.stackPrimarySizing,v=e.stackCounterSizing;e.children.forEach(x=>{const E=Gn(l,x),_=vA({localStore:t,layer:x,instanceChain:E}),L=wA({localStore:t,layer:x,instanceChain:E});mA({localStore:t,layer:x,size:_,containerStackMode:n,instanceChain:E,step:r}),yA({localStore:t,layer:x,size:L,containerStackMode:n,step:r,instanceChain:E})}),h.stackPrimarySizing=v,h.stackCounterSizing=p,e.stackPrimaryAlignItems==="SPACE_EVENLY"?(h.stackPrimaryAlignItems="SPACE_EVENLY",h.stackCounterAlignItems="MIN"):(h.stackPrimaryAlignItems=e.stackCounterAlignItems,h.stackCounterAlignItems=e.stackPrimaryAlignItems)}h.stackMode=n,qt({localStore:t,node:e,instanceChain:l,data:h,step:r}),Eo({localStore:t,layer:e,instanceChain:l,step:r}),(c=(u=t.props).doAction)==null||c.call(u,r.getNewAction()),e.nodeType==="SYMBOL"&&pE(i,e,p=>{bA(t,p,n,r)})}}function dR({localStore:t,layer:e,value:n,instanceChain:r,step:i}){var u,c;if(Mn(e)!=="NONE"){if(n==="SPACE_EVENLY"){const l={stackPrimaryAlignItems:"SPACE_EVENLY"};e.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&(l.stackPrimarySizing="FIXED"),qt({localStore:t,node:e,instanceChain:r,step:i,data:l})}else qt({localStore:t,node:e,instanceChain:r,step:i,data:{stackPrimaryAlignItems:"MIN",stackSpacing:n}});Eo({localStore:t,layer:e,instanceChain:r,step:i}),(c=(u=t.props).doAction)==null||c.call(u,i.getNewAction())}}function sm({localStore:t,room:e,instanceChain:n,map:r,step:i}){const u=t.getFigma();u&&(n=Gn(n,e),$s(u.context.fileData,e).forEach(c=>{const l=r[c.id];if(c&&l&&e){const h=Ec({localStore:t,layer:e,instanceChain:n}),p={};typeof l.left=="number"&&typeof l.right=="number"?(p.left=l.left,p.width=h.width-l.left-l.right):typeof l.right=="number"?p.left=h.width-l.right-c.width:typeof l.left=="number"&&(p.left=l.left),typeof l.top=="number"&&typeof l.bottom=="number"?(p.top=l.top,p.height=h.height-l.top-l.bottom):typeof l.bottom=="number"?p.top=h.height-l.bottom-c.height:typeof l.top=="number"&&(p.top=l.top),_c({localStore:t,layer:c,parent:null,instanceChain:n,data:p,constraintsMap:{},step:i})}}))}function SA({localStore:t,fileData:e,layer:n,step:r,width:i,height:u}){const c=Td(e,n);ze.forEach(c,l=>{let h=!1;if(n.width.toFixed(1)===l.width.toFixed(1)&&n.height.toFixed(1)===l.height.toFixed(1)?h=!1:h=!0,h){const{left:p,top:v}=bc({width:i,height:u,t:Kn(l)});r.update({layer:l,data:{left:p,top:v,width:i,height:u}})}})}function EA({localStore:t,layer:e,left:n,top:r,width:i,height:u,step:c}){const l=ni(t);if(l){const h=Gn([],e);e.nodeType==="SYMBOL"&&SA({localStore:t,fileData:l.fileData,layer:e,width:i,height:u,step:c}),e.nodeType==="INSTANCE"&&qt({localStore:t,node:e,instanceChain:h,nodeSize:{width:e.width,height:e.height},step:c,isResizingInstanceManually:!0}),_c({localStore:t,layer:e,parent:null,instanceChain:h,step:c,constraintsMap:{},data:{left:n,top:r,width:i,height:u}})}else qt({localStore:t,node:e,nodeSize:{width:i,height:u},data:{left:n,top:r},step:c,instanceChain:[]})}function AA(t){return t.strokeWidth*10}function hR({localStore:t,type:e}){const n={nodeType:"svg",id:d0(),guid:t.generateGUID(),parentId:"",name:"",left:0,top:0,width:200,height:20,rotate:0,data:{type:"line",p1:{x:0,y:0},p2:{x:0,y:0},markerEnd:""},stroke:"red",strokeWidth:20,strokeLineJoin:"miter",fill:"transparent",isLocked:!1,visible:!0,shimmerAtApearance:!1,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()}};return e==="rect"&&(n.width=200,n.height=200,n.data={type:"rect"}),um(n),n}function um(t){t.data.type==="line"&&(t.height=AA(t),t.data.p1.x=0,t.data.p1.y=t.height/2,t.data.p2.x=t.width,t.data.p2.y=t.height/2),t.data.type}async function pR(t,e,n){var i,u,c;t.editingText=!1;let r=1;t.selectedSingleLayer?r=ig(t,t.selectedSingleLayer,e,n):r=ig(t,t.bunchRectangle,e,n);try{const l=gc(t);if(t.selectedSingleLayer){const h=t.selectedSingleLayer;og(t,[h],r),ba(t,h,e,r,l),ni(t)&&h.nodeType==="FRAME"&&((i=t.getLayer(h.parentId))==null||i.nodeType),Eo({localStore:t,layer:h,instanceChain:[],step:l}),Sc(t,h),Md(t,h,{step:l})}else og(t,t.selectedNormalLayerList,r),ba(t,t.bunchRectangle,e,r,l),t.selectedNormalLayerList.forEach(h=>{h&&ba(t,h,e,r,l)});(c=(u=t.props).doAction)==null||c.call(u,l.getNewAction()),t.layersCanBeScaled=!0}catch(l){t.layersCanBeScaled=!1,console.warn(l)}J0(t,n)}function ig(t,e,n,r){const i=t.getPointInContainer(r),u=Gi("rotated",{x:i.x-n.x,y:i.y-n.y},E0(Ed(e),n)),{width:c,height:l}=e,h=Math.sqrt(c*c+l*l);return u.x/h}function og(t,e,n){e.forEach(r=>{cm(t,r,n)})}function cm(t,e,n){if(!(n>1)){if(e.nodeType==="TEXT"){if(e.height*n<5)throw new Error("Incoming text layer height is too small!")}else if(e.width*n<t.options.LAYER_MINIMUN_SIZE||e.height*n<t.options.LAYER_MINIMUN_SIZE)throw new Error("")}e.nodeType==="GROUP"&&e.children&&e.children.forEach(r=>{cm(t,r,n)})}function Fd(t,e,n,r,i){const u=Ed(e),c={x:u.x-n.x,y:u.y-n.y},l={x:c.x*r+n.x,y:c.y*r+n.y},h=e.width*r,p=e.height*r,v=l.x-h/2,x=l.y-p/2;return e.nodeType==="GROUP"||e.nodeType==="TEXT"?(qt({localStore:t,node:e,data:{left:v,top:x},step:i,instanceChain:[]}),qt({localStore:t,node:e,step:i,nodeSize:{width:h,height:p},instanceChain:[]})):EA({localStore:t,layer:e,left:v,top:x,width:h,height:p,step:i}),W2(u,l)}function gR(t,e,n,r,i){const u=Fd(t,e,n,r,i);(e.nodeType==="IMAGE"||e.nodeType==="ROUNDED_RECTANGLE")&&e.image&&K2(e,u)}function ba(t,e,n,r,i){if(Math.min(e.width*r,e.height*r)>=0){const u=[];e.nodeType==="INSTANCE"&&u.push(e);let c={};if((e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&(c=Ld({localStore:t,layer:e,instanceChain:u,constraintsMap:{}})),Fd(t,e,n,r,i),e.nodeType==="video"?(e.video.width*=r,e.video.height*=r):e.nodeType==="svg"?um(e):e.nodeType==="TEXT"&&(i.update({layer:e,data:{fontSize:e.fontSize*r,strokeWeight:e.strokeWeight*r,effects(l){l.forEach(h=>{h.offset.x*=r,h.offset.y*=r,h.spread*=r,h.radius*=r})}}}),Gs({localStore:t,layer:e,instanceChain:[],step:i})),e.nodeType==="GROUP"&&e.children.length>0&&e.children.forEach(l=>ba(t,l,n,r,i)),e.nodeType==="IMAGE"&&e.extra.rectList&&e.extra.rectList.length>0&&e.extra.rectList.forEach(l=>ba(t,l,n,r,i)),e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE"){{const l={};e.stackPaddingLeft&&(l.stackPaddingLeft=e.stackPaddingLeft*r),e.stackPaddingRight&&(l.stackPaddingRight=e.stackPaddingRight*r),e.stackPaddingTop&&(l.stackPaddingTop=e.stackPaddingTop*r),e.stackPaddingBottom&&(l.stackPaddingBottom=e.stackPaddingBottom*r),e.stackSpacing&&(l.stackSpacing=e.stackSpacing*r),i.update({layer:e,data:l}),e.children.forEach(h=>{const p=Kn(h),v=Vo(p,n),x=h.left*r,E=h.top*r;ba(t,h,v,r,i),i.update({layer:h,data:{left:x,top:E}})})}sm({localStore:t,room:e,map:c,step:i,instanceChain:u})}}}const CA="WorkspaceView";function _A(){return{positionLeft:0,positionTop:0,workspaceScrollLeft:0,workspaceScrollTop:0,pageScale:1,toolsContainerShow:!0,navigatorShow:!1,layerSettingsContent:"main",isPageCenteredAtX:!1,isPageCenteredAtY:!1,scroll:{x:{totalLength:0,viewportLength:0,barStart:0,barLength:0},y:{totalLength:0,viewportLength:0,barStart:0,barLength:0}}}}function mR(t,e){const{workspaceState:n}=t,r=Ds(e),i=Bs(e),{width:u,height:c}=t.props.getPageSize(),l=t.getPageScale(),h=r/2+u*l/2-40;n.positionLeft>h?n.positionLeft=h:n.positionLeft<-h&&(n.positionLeft=-h);const p=i/2+c*l/2-40;n.positionTop>p?n.positionTop=p:n.positionTop<-p&&(n.positionTop=-p)}function yR({localStore:t,workspaceState:e,workspaceElement:n,safePadding:r}){const i=n||document.querySelector(`.${CA}`);if(i){const u=t.props.getPageSize(),c=Ds(i),l=Bs(i),h=r||60,p=(c-h)/u.width,v=(l-h)/u.height;let x=Math.min(p,v);Number.isNaN(x)&&(x=.3),x<.01&&(x=.01),x>4&&(x=4),e.pageScale=x,e.positionLeft=0,e.positionTop=0}}function TA(t,e,n,r){const i=m0();return i.left=e.left,i.top=e.top,i.width=e.width,i.height=e.height,Fd(t,i,n,r,X2()),i}function lm(t,e,n){const{pageMinScale:r,pageMaxScale:i}=t.options;let u=1;return e>0?(u=n*.97,u<r&&(u=r)):e<0&&(u=n*1.03,u>i&&(u=i)),u}function LA(t,e){const n=t.getPageScale(),r=lm(t,e.deltaY,n),{workspaceState:i}=t,u={left:i.positionLeft,top:i.positionTop,width:t.props.getPageSize().width*t.getPageScale(),height:t.props.getPageSize().height*t.getPageScale()},c=e.currentTarget,l=Cc(c),h=Ac(c),p={x:e.pageX-l-Ds(c)/2,y:e.pageY-h-Bs(c)/2},{width:v,height:x}=t.props.getPageSize(),E=i.positionLeft+v*n/2,_=i.positionLeft-v*n/2;p.x>E?p.x=E:p.x<_&&(p.x=_);const L=i.positionTop+x*n/2,k=i.positionTop-x*n/2;p.y>L?p.y=L:p.y<k&&(p.y=k);const N=r*v/(n*v),z=TA(t,u,p,N);i.positionLeft=z.left,i.positionTop=z.top,i.pageScale=r}function vR(t,e){const n=e,{length:r}=Object.keys(t.pointerMap);if(r===1)MA({localStore:t,deltaX:-(n.touches[0].pageX-t.pointerMap[0].current.x),deltaY:-(n.touches[0].pageY-t.pointerMap[0].current.y)});else if(r===2&&n.touches.length===2){const i={x:n.touches[0].pageX,y:n.touches[0].pageY},u={x:n.touches[1].pageX,y:n.touches[1].pageY},c=Jp(i,u),l=Tf(i,u),h=Jp(t.pointerMap[0].current,t.pointerMap[1].current),p=c-h;p!==0&&LA(t,{currentTarget:t.workspaceElement,pageX:l.x,pageY:l.y,deltaY:-p}),t.workspaceElement&&fm({localStore:t,workspace:t.workspaceElement})}for(let i=0;i<n.touches.length;i+=1){const u=n.touches[i];t.pointerMap[i]=t.pointerMap[i]||{start:{x:u.pageX,y:u.pageY},current:{x:0,y:0},deltaX:0,deltaY:0};const c=t.pointerMap[i];c&&(c.deltaX=u.pageX-c.current.x,c.deltaY=u.pageY-c.current.y,c.current={x:u.pageX,y:u.pageY})}}function PA({localStore:t,workspaceState:e,pageWidth:n,pageHeight:r,workspaceWidth:i,workspaceHeight:u}){const{safePadding:c}=t.options,{pageScale:l}=e,h=n*l/2+c-i/2,p=r*l/2+c-u/2;return{minX:-h,maxX:h,minY:-p,maxY:p}}function MA({localStore:t,deltaX:e,deltaY:n}){t.workspaceState.isPageCenteredAtX===!1&&(t.workspaceState.positionLeft-=e),t.workspaceState.isPageCenteredAtY===!1&&(t.workspaceState.positionTop-=n),t.workspaceElement&&fm({localStore:t,workspace:t.workspaceElement})}function fm({localStore:t,workspace:e}){const{workspaceState:n}=t,r=t.getPageScale(),{width:i,height:u}=t.props.getPageSize(),c=Ds(e),l=Bs(e),{safePadding:h}=t.options,p=n.positionLeft+c/2-i*r/2,v=c/2-i*r/2-n.positionLeft;p>h&&v>h?(n.positionLeft=0,n.isPageCenteredAtX=!0):(n.isPageCenteredAtX=!1,p>=h?n.positionLeft-=p-h:v>=h&&(n.positionLeft+=v-h));const x=n.positionTop+l/2-u*r/2,E=l/2-u*r/2-n.positionTop;x>h&&E>h?(n.positionTop=0,n.isPageCenteredAtY=!0):(n.isPageCenteredAtY=!1,x>h?n.positionTop-=x-h:E>h&&(n.positionTop+=E-h));const _=PA({localStore:t,workspaceState:n,workspaceWidth:c,workspaceHeight:l,pageWidth:i,pageHeight:u});{n.scroll.x.totalLength=i*r+h*2,n.scroll.x.viewportLength=c;const L=(-n.positionLeft+_.maxX)/(_.maxX*2);n.scroll.x.barLength=n.scroll.x.viewportLength*n.scroll.x.viewportLength/n.scroll.x.totalLength,n.scroll.x.barStart=(n.scroll.x.viewportLength-n.scroll.x.barLength)*L}{n.scroll.y.totalLength=u*r+h*2,n.scroll.y.viewportLength=l;const L=(-n.positionTop+_.maxY)/(_.maxY*2);n.scroll.y.barLength=n.scroll.y.viewportLength*n.scroll.y.viewportLength/n.scroll.y.totalLength,n.scroll.y.barStart=(n.scroll.y.viewportLength-n.scroll.y.barLength)*L}}function wR(t,e,n){const r=t.getPageScale(),i=lm(t,e.deltaY,r),u=e.currentTarget,c=Cc(u),l=Ac(u),{width:h,height:p}=t.props.getPageSize(),v=e.pageX-c,x=e.pageY-l,E=(v+u.scrollLeft-n)/(h*r),_=(x+u.scrollTop-n)/(p*r),L=i*h*E+n-v,k=i*p*_+n-x;t.workspaceState.pageScale=i,u.scrollLeft=L,u.scrollTop=k}function IA(t,e){let n={x:0,y:0};return t.canvasElement&&(n=q0(e,t.canvasElement),n.x+=t.viewport.x,n.y+=t.viewport.y,n.x/=t.scale,n.y/=t.scale),n}function dm({localStore:t,canvasElement:e}){const n=t.getPageScale(),r=e.width/window.devicePixelRatio/2+t.workspaceState.positionLeft-t.props.getPageSize().width*n/2,i=e.height/window.devicePixelRatio/2+t.workspaceState.positionTop-t.props.getPageSize().height*n/2;return{left:r,top:i}}function hm(t,e){if(t.libra){let r={x:0,y:0};if(t.libra.canvasElement){const i=dm({localStore:t,canvasElement:t.libra.canvasElement});r=q0(e,t.libra.canvasElement),r.x-=i.left,r.y-=i.top,r.x/=t.getPageScale(),r.y/=t.getPageScale()}return r}const n=t.getFigma();return n?IA(n.context.fileData,e):t.getPointInPage(e)}function xR({localStore:t,layer:e,text:n,step:r,instanceChain:i}){var c,l;qt({localStore:t,node:e,instanceChain:i,step:r,data:{textData(h){h.characters=n}}}),Tc(t,e,i,r);const u=z2(e);t.textLayerOutOfPage===!1&&(u.left>=0&&u.top>=0&&u.left+u.width<=t.props.getPageSize().width&&u.top+u.height<=t.props.getPageSize().height||(t.textLayerOutOfPage=!0)),Eo({localStore:t,layer:e,instanceChain:i,step:r}),(l=(c=t.props).doAction)==null||l.call(c,r.getNewAction())}function Tc(t,e,n,r){Gs({localStore:t,layer:e,step:r,instanceChain:n}),e.parentId&&Md(t,e,{step:r}),t.selectedSingleLayer&&Sc(t,t.selectedSingleLayer)}function bs({localStore:t,textData:e,start:n,end:r}){console.log(e.characters.length,{start:n,end:r}),n<0&&(n=0),r>e.characters.length&&(r=e.characters.length),t.selectionInfo.textRange$.start=n,t.selectionInfo.textRange$.end=r}function Cs(t){if(!t)throw new Error("layer.textData does not exist");if(t.characters.length!==t.characterStyleIDs.length)throw new Error("Characters length does not equal characterStyleIDs length!!");const e={};if(t.styleOverrideTable.forEach(r=>{const{styleID:i}=r;if(e[i])throw new Error(`Duplicated styleID: ${i}`);e[i]=r}),e[0])throw new Error("Unexpected styleID 0");const n=new Set;if(t.characterStyleIDs.forEach(r=>{r!==0&&n.add(r)}),n.forEach(r=>{if(!e[r])throw new Error(`Could not find style override. styleID = ${r}`);delete e[r]}),Object.keys(e).length!==0)throw new Error("Useless style override found")}function pm({textData:t}){const e=new Set;t.characterStyleIDs.forEach(n=>{e.add(n)}),t.styleOverrideTable=t.styleOverrideTable.filter(n=>e.has(n.styleID))}function bR({localStore:t,layer:e}){var i,u;const{start:n,end:r}=t.selectionInfo.textRange$;if(n!==r){const c=mc(t);qt({localStore:t,node:e,instanceChain:[],data:{textData(l){l.characterStyleIDs.forEach((h,p)=>{p>=n&&p<r-1&&(l.characterStyleIDs[p]=0)}),pm({textData:l})}},step:c}),Cs(e.textData),(u=(i=t.props).doAction)==null||u.call(i,c.getNewAction()),_d(t)}}function SR({localStore:t,start:e,length:n}){const r=gc(t),i=t.selectedSingleLayer;if((i==null?void 0:i.nodeType)==="TEXT"&&i.textData&&e>=0&&n>0){const u=i.textData.characters.substring(0,e)+i.textData.characters.substring(e+n),c=[...i.textData.characterStyleIDs];c.splice(e,n),r.update({layer:i,data:{textData(l){l.characters=u,l.characterStyleIDs=[...c],pm({textData:l})}}}),Cs(i.textData),bs({localStore:t,textData:i.textData,start:e,end:e}),Tc(t,i,[],r),Eo({localStore:t,layer:i,instanceChain:[],step:r})}}function ER({localStore:t,str:e,mode:n}){var u,c;const r=t.selectedSingleLayer,i=gc(t);if((r==null?void 0:r.nodeType)==="TEXT"&&r.textData){Cs(r.textData);const{inputText:l}=t.advancedTextEditor;let{characters:h}=r.textData;const p=[...r.textData.characterStyleIDs];let v=0,x=0,E=0,_=0;if(n==="composition"){const{start:L}=l;l.compositionText&&(E=L,_=l.compositionText.length),x=L,l.compositionText=e}else{const{start:L,end:k}=t.selectionInfo.textRange$;L===k&&(x=L)}{let L=x-1;L<0&&(L=0),typeof p[L]=="number"&&(v=p[L])}_>0&&(h=h.substring(0,E)+h.substring(E+_),p.splice(E,_));{let L="";const k=[];if(x===h.length)p.forEach(N=>{k.push(N)}),k.push(...e.split("").map(()=>v)),L=h+e;else if(x>=0&&x<h.length)p.forEach((N,z)=>{z===x&&k.push(...e.split("").map(()=>v)),k.push(N)}),L=h.substring(0,x)+e+h.substring(x);else throw new Error("");i.update({layer:r,data:{textData(N){N.characters=L,N.characterStyleIDs=[...k]}}}),bs({localStore:t,textData:r.textData,start:x+e.length,end:x+e.length}),Cs(r.textData)}Tc(t,r,[],i),Eo({localStore:t,layer:r,instanceChain:[],step:i}),(c=(u=t.props).doAction)==null||c.call(u,i.getNewAction())}}function kA(t){let e=0;return t.styleOverrideTable.forEach(n=>{n.styleID>e&&(e=n.styleID)}),e+1}function AR({localStore:t,layer:e,step:n,segmentData:r,globalData:i,fillPaints:u}){var h,p;const{start:c,end:l}=t.selectionInfo.textRange$;if(i&&n.update({layer:e,data:i}),console.log("updating text style"),console.log({start:c,end:l,segmentData:r,text:e.textData.characters}),t.editingText&&(r||u))if(c===l){let v=0;c>0?v=e.textData.characterStyleIDs[c-1]:v=e.textData.characterStyleIDs[c]||0,v>0?n.update({layer:e,data:{textData(x){const E=x.styleOverrideTable.find(_=>_.styleID===v);if(E)Object.assign(E,ze.cloneDeep(r)),u&&(E.fillPaints=E.fillPaints||[],u(E.fillPaints));else throw new Error("override not found")}}}):(r&&n.update({layer:e,data:r}),u&&n.update({layer:e,data:{fillPaints:u}}))}else c!==l&&e.textData.characters[c]&&n.update({layer:e,data:{textData(v){rm({start:c,end:l,textData:v}).forEach(E=>{if(E.styleID!==0&&E.styleID!==E.prevOne&&E.styleID!==E.nextOne){const _=v.styleOverrideTable.find(L=>L.styleID===E.styleID);if(_)Object.assign(_,ze.cloneDeep(r)),u&&(_.fillPaints=_.fillPaints||[],u(_.fillPaints));else throw new Error("override not found")}else{const _=kA(v),L=E.styleID===0?{fillPaints:e.fillPaints}:v.styleOverrideTable.find(N=>N.styleID===E.styleID),k={...ze.cloneDeep(L),styleID:_,...ze.cloneDeep(r)};u&&(k.fillPaints=k.fillPaints||[],u(k.fillPaints)),v.styleOverrideTable.push(k);for(let N=E.start;N<E.end;N+=1)v.characterStyleIDs[N]=_}})}}});else r&&n.update({layer:e,data:r}),u&&n.update({layer:e,data:{fillPaints:u}});Cs(e.textData),pA(e),Tc(t,e,[],n),Eo({localStore:t,layer:e,instanceChain:[],step:n}),(p=(h=t.props).doAction)==null||p.call(h,n.getNewAction())}function Lc({index:t,textData:e,paragraph:n}){const r=e.characters[t],i=n.getLineMetrics();let u=0;for(let c=0;c<i.length;c+=1){const l=i[c];if(r===`
`){if(l.endIncludingNewline-1===t){u=c;break}if(l.startIndex===t){u=c;break}}else if(t===e.characters.length){u=i.length-1;break}else l.startIndex<=t&&(u=c)}return u}function RA({textData:t,paragraph:e,index:n}){const r={total:t.characters.length,index:n,char:t.characters[n]||"",glyph:e.getGlyphInfoAt(n),lineNumber:0},i=Lc({textData:t,paragraph:e,index:n});return r.lineNumber=i,r}function CR(t,e){var i,u;const n=t.selectedSingleLayer,r=ni(t);if(r&&(n==null?void 0:n.nodeType)==="TEXT"&&n.textData){const c=hm(t,e);if(c){const l=j0({fileData:r.fileData,info:{type:"layer",layerId:n.id}}),h=Vo(l,c);if(r.fileData.paragraphManager.activeParagraph){const p=r.fileData.paragraphManager.activeParagraph;Nd({localStore:t,layer:n,paragraph:p,textData:n.textData,scaledX:r.fileData.doScale(h.x),scaledY:r.fileData.doScale(h.y)});const{start:v}=t.selectionInfo.textRange$,{initialSelectionIndex:x}=t.advancedTextEditor;v>x?bs({localStore:t,textData:n.textData,start:x,end:v+1}):bs(v===x?{localStore:t,textData:n.textData,start:v,end:v+1}:{localStore:t,textData:n.textData,start:v,end:x})}(u=(i=t.props).doAction)==null||u.call(i,{type:"RerenderCanvas"})}}}function gm({localStore:t,layer:e,line:n}){let r=n.width;return e.textAlignHorizontal==="RIGHT"?r=e.width*t.getPageScale():e.textAlignHorizontal==="CENTER"&&(r=e.width*t.getPageScale()/2+n.width/2),r}function Nd({localStore:t,layer:e,paragraph:n,scaledX:r,scaledY:i,textData:u}){const c=n.getClosestGlyphInfoAtCoordinate(r,i);if(c){const l=c.graphemeClusterTextRange.start,h=Lc({textData:u,paragraph:n,index:l}),p=n.getLineMetricsAt(h);if(p){const v=gm({layer:e,line:p,localStore:t});if(r>v){let x=p.endIndex;x>=e.textData.characters.length&&e.textData.characters[e.textData.characters.length-1]===`
`&&(x=e.textData.characters.length-1),x<0&&(x=0),t.selectionInfo.textRange$.start=x,t.selectionInfo.textRange$.end=x;return}}t.selectionInfo.textRange$.start=c.graphemeClusterTextRange.start,t.selectionInfo.textRange$.end=c.graphemeClusterTextRange.start}else t.selectionInfo.textRange$.start=u.characters.length,t.selectionInfo.textRange$.end=u.characters.length}function _R({localStore:t,layer:e}){const{start:n}=t.selectionInfo.textRange$,r=ni(t);if(r&&e.textData){const i=r.fileData.paragraphManager.activeParagraph;if(i){const u=Lc({index:n,textData:e.textData,paragraph:i}),c=i.getGlyphInfoAt(n);let l=0;if(c)l=c.graphemeLayoutBounds[0];else{const p=i.getLineMetricsAt(u);p&&(l=p.width)}const h=i.getLineMetricsAt(Math.max(0,u-1));if(h){const p=h.baseline;Nd({localStore:t,layer:e,paragraph:i,textData:e.textData,scaledX:l,scaledY:p})}}}}function TR({localStore:t,layer:e}){const{start:n}=t.selectionInfo.textRange$,r=ni(t);if(r&&e.textData){const i=r.fileData.paragraphManager.activeParagraph;if(i){const u=Lc({index:n,textData:e.textData,paragraph:i});let c=u+1;c>i.getNumberOfLines()-1&&(c=i.getNumberOfLines()-1);const l=i.getGlyphInfoAt(n);if(l){const h=l.graphemeLayoutBounds[0],p=i.getLineMetricsAt(c);if(p){const v=p.baseline;console.log({name:"down",start:n,lineNumber:u,targetLineNumber:c,g:l,line:p,left:h,top:v}),Nd({localStore:t,layer:e,paragraph:i,textData:e.textData,scaledX:h,scaledY:v})}}}}}function $d({fileData:t,layer:e,Raptor:n,instanceChain:r,options:i}){var l;const u=Zt({localStore:t.localStore,layer:e,instanceChain:r}),c={withStrokes:ag({layerInfo:u,width:u.width,height:u.height}),withShadow:ag({layerInfo:u,width:u.width,height:u.height})};return(e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&u.frameMaskDisabled!==!0||$s(t,e).map(p=>{const v=[...r];p.nodeType==="INSTANCE"&&v.push(p);const x=Zt({localStore:t.localStore,layer:p,instanceChain:v});return{child:p,nextInstanceChain:v,relativeTransform:Kn(x)}}).forEach(({child:p,nextInstanceChain:v,relativeTransform:x})=>{const E=$d({fileData:t,Raptor:n,layer:p,instanceChain:v,options:i});E.withStrokes=E.withStrokes.map(_=>As(x,_)),E.withShadow=E.withShadow.map(_=>As(x,_)),c.withStrokes=cf([...c.withStrokes,...E.withStrokes]),c.withShadow=cf([...c.withShadow,...E.withShadow])}),(l=u.effects)==null||l.forEach(h=>{if(h.type==="DROP_SHADOW"&&h.visible&&h.radius>0){const p=h.radius*3,v=ze.cloneDeep(c.withStrokes);v.forEach((x,E)=>{E===0?(x.x-=p,x.y-=p):E===1?(x.x-=p,x.y+=p):E===2?(x.x+=p,x.y+=p):E===3&&(x.x+=p,x.y-=p),c.withShadow=cf([...c.withShadow,...v])})}}),c}class OA{constructor(e,n){this.lastUpdatedAt=-1,this.pathBoundsList=[],this.instanceMap={},this.relativeTransformDirty=!0,this.relativeTransform=[[1,0,0],[0,1,0],[0,0,1]],this.boundingPointsDirty=!0,this.exportPointsRectDirty=!0,this.fileData=e,this.layer=n}getRelativeTransform(){return this.relativeTransformDirty&&(this.relativeTransform=Kn(this.layer),this.relativeTransformDirty=!1),this.relativeTransform}markDirty(){this.relativeTransformDirty=!0,this.markBoundingPointsDirty(),this.markParentDirty()}markBoundingPointsDirty(){this.boundingPointsDirty=!0,this.exportPointsRectDirty=!0}markParentDirty(){const{parentId:e}=this.layer,n=this.fileData.layerAssetsMap[e];n&&(n.markBoundingPointsDirty(),n.markParentDirty())}}function ag({width:t,height:e,layerInfo:n}){let r=0,i=0,u=t,c=e;if(n.strokeGeometry.length>0){let h=0;n.strokeAlign==="CENTER"?h=n.strokeWeight/2:n.strokeAlign==="OUTSIDE"&&(h=n.strokeWeight),r=Math.min(r,r-h),i=Math.min(i,i-h),u=Math.max(u,u+h),c=Math.max(c,c+h)}return[{x:r,y:i},{x:r,y:c},{x:u,y:c},{x:u,y:i}]}function mm(t,e){t&&e(t),t.children&&t.children.forEach(n=>{mm(n,e)})}function FA(t,e){mm(e,n=>{t.layerMap[n.id]=n,t.layerAssetsMap[n.id]=new OA(t,n)})}function ff(t,e){var i,u;const n=t.getLayer(e);if(n)return n;const r=(u=(i=t.props).getDocumentNode)==null?void 0:u.call(i);return r?r.id===e?r:r.children.find(c=>c.id===e)||null:null}var Bd={exports:{}},Sa=typeof Reflect=="object"?Reflect:null,sg=Sa&&typeof Sa.apply=="function"?Sa.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Ju;Sa&&typeof Sa.ownKeys=="function"?Ju=Sa.ownKeys:Object.getOwnPropertySymbols?Ju=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Ju=function(e){return Object.getOwnPropertyNames(e)};function NA(t){console&&console.warn&&console.warn(t)}var ym=Number.isNaN||function(e){return e!==e};function Bt(){Bt.init.call(this)}Bd.exports=Bt;Bd.exports.once=GA;Bt.EventEmitter=Bt;Bt.prototype._events=void 0;Bt.prototype._eventsCount=0;Bt.prototype._maxListeners=void 0;var ug=10;function Pc(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Bt,"defaultMaxListeners",{enumerable:!0,get:function(){return ug},set:function(t){if(typeof t!="number"||t<0||ym(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ug=t}});Bt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Bt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ym(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function vm(t){return t._maxListeners===void 0?Bt.defaultMaxListeners:t._maxListeners}Bt.prototype.getMaxListeners=function(){return vm(this)};Bt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",u=this._events;if(u!==void 0)i=i&&u.error===void 0;else if(!i)return!1;if(i){var c;if(n.length>0&&(c=n[0]),c instanceof Error)throw c;var l=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw l.context=c,l}var h=u[e];if(h===void 0)return!1;if(typeof h=="function")sg(h,this,n);else for(var p=h.length,v=Em(h,p),r=0;r<p;++r)sg(v[r],this,n);return!0};function wm(t,e,n,r){var i,u,c;if(Pc(n),u=t._events,u===void 0?(u=t._events=Object.create(null),t._eventsCount=0):(u.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),u=t._events),c=u[e]),c===void 0)c=u[e]=n,++t._eventsCount;else if(typeof c=="function"?c=u[e]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),i=vm(t),i>0&&c.length>i&&!c.warned){c.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=c.length,NA(l)}return t}Bt.prototype.addListener=function(e,n){return wm(this,e,n,!1)};Bt.prototype.on=Bt.prototype.addListener;Bt.prototype.prependListener=function(e,n){return wm(this,e,n,!0)};function $A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xm(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=$A.bind(r);return i.listener=n,r.wrapFn=i,i}Bt.prototype.once=function(e,n){return Pc(n),this.on(e,xm(this,e,n)),this};Bt.prototype.prependOnceListener=function(e,n){return Pc(n),this.prependListener(e,xm(this,e,n)),this};Bt.prototype.removeListener=function(e,n){var r,i,u,c,l;if(Pc(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(u=-1,c=r.length-1;c>=0;c--)if(r[c]===n||r[c].listener===n){l=r[c].listener,u=c;break}if(u<0)return this;u===0?r.shift():BA(r,u),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,l||n)}return this};Bt.prototype.off=Bt.prototype.removeListener;Bt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var u=Object.keys(r),c;for(i=0;i<u.length;++i)c=u[i],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function bm(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?DA(i):Em(i,i.length)}Bt.prototype.listeners=function(e){return bm(this,e,!0)};Bt.prototype.rawListeners=function(e){return bm(this,e,!1)};Bt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Sm.call(t,e)};Bt.prototype.listenerCount=Sm;function Sm(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Bt.prototype.eventNames=function(){return this._eventsCount>0?Ju(this._events):[]};function Em(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function BA(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function DA(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function GA(t,e){return new Promise(function(n,r){function i(c){t.removeListener(e,u),r(c)}function u(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}Am(t,e,u,{once:!0}),e!=="error"&&UA(t,i,{once:!0})})}function UA(t,e,n){typeof t.on=="function"&&Am(t,"error",e,n)}function Am(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(u){r.once&&t.removeEventListener(e,i),n(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var WA=Bd.exports;function gi(t){if(typeof t!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=t}typeof Symbol<"u"&&(gi.prototype[Symbol.iterator]=function(){return this});gi.of=function(){var t=arguments,e=t.length,n=0;return new gi(function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}})};gi.empty=function(){var t=new gi(function(){return{done:!0}});return t};gi.fromSequence=function(t){var e=0,n=t.length;return new gi(function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}})};gi.is=function(t){return t instanceof gi?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};var Dd=gi;const Dr=Yo(Dd);var Gd={};Gd.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";Gd.SYMBOL_SUPPORT=typeof Symbol<"u";var HA=Dd,Cm=Gd,zA=Cm.ARRAY_BUFFER_SUPPORT,jA=Cm.SYMBOL_SUPPORT;function VA(t){return typeof t=="string"||Array.isArray(t)||zA&&ArrayBuffer.isView(t)?HA.fromSequence(t):typeof t!="object"||t===null?null:jA&&typeof t[Symbol.iterator]=="function"?t[Symbol.iterator]():typeof t.next=="function"?t:null}var _m=function(e){var n=VA(e);if(!n)throw new Error("obliterator: target is not iterable nor a valid iterator.");return n},XA=_m,YA=function(e,n){for(var r=arguments.length>1?n:1/0,i=r!==1/0?new Array(r):[],u,c=0,l=XA(e);;){if(c===r)return i;if(u=l.next(),u.done)return c!==n&&(i.length=c),i;i[c++]=u.value}};const Tm=Yo(YA);var KA=Dd,QA=_m,qA=function(){var e=arguments,n=null,r=-1;return new KA(function(){var u=null;do{if(n===null){if(r++,r>=e.length)return{done:!0};n=QA(e[r])}if(u=n.next(),u.done===!0){n=null;continue}break}while(!0);return u})};const Wi=Yo(qA);function JA(){const t=arguments[0];for(let e=1,n=arguments.length;e<n;e++)if(arguments[e])for(const r in arguments[e])t[r]=arguments[e][r];return t}let Sn=JA;typeof Object.assign=="function"&&(Sn=Object.assign);function Br(t,e,n,r){const i=t._nodes.get(e);let u=null;return i&&(r==="mixed"?u=i.out&&i.out[n]||i.undirected&&i.undirected[n]:r==="directed"?u=i.out&&i.out[n]:u=i.undirected&&i.undirected[n]),u}function Dn(t){return typeof t=="object"&&t!==null}function Lm(t){let e;for(e in t)return!1;return!0}function Rr(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function Qr(t,e,n){const r={enumerable:!0,configurable:!0};typeof n=="function"?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function cg(t){return!(!Dn(t)||t.attributes&&!Array.isArray(t.attributes))}function ZA(){let t=Math.floor(Math.random()*256)&255;return()=>t++}class Ud extends Error{constructor(e){super(),this.name="GraphError",this.message=e}}class $e extends Ud{constructor(e){super(e),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,$e.prototype.constructor)}}class Re extends Ud{constructor(e){super(e),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Re.prototype.constructor)}}class qe extends Ud{constructor(e){super(e),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,qe.prototype.constructor)}}function Pm(t,e){this.key=t,this.attributes=e,this.clear()}Pm.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function Mm(t,e){this.key=t,this.attributes=e,this.clear()}Mm.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function Im(t,e){this.key=t,this.attributes=e,this.clear()}Im.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function La(t,e,n,r,i){this.key=e,this.attributes=i,this.undirected=t,this.source=n,this.target=r}La.prototype.attach=function(){let t="out",e="in";this.undirected&&(t=e="undirected");const n=this.source.key,r=this.target.key;this.source[t][r]=this,!(this.undirected&&n===r)&&(this.target[e][n]=this)};La.prototype.attachMulti=function(){let t="out",e="in";const n=this.source.key,r=this.target.key;this.undirected&&(t=e="undirected");const i=this.source[t],u=i[r];if(typeof u>"u"){i[r]=this,this.undirected&&n===r||(this.target[e][n]=this);return}u.previous=this,this.next=u,i[r]=this,this.target[e][n]=this};La.prototype.detach=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][e],delete this.target[r][t]};La.prototype.detachMulti=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const km=0,Rm=1,eC=2,Om=3;function ji(t,e,n,r,i,u,c){let l,h,p,v;if(r=""+r,n===km){if(l=t._nodes.get(r),!l)throw new Re(`Graph.${e}: could not find the "${r}" node in the graph.`);p=i,v=u}else if(n===Om){if(i=""+i,h=t._edges.get(i),!h)throw new Re(`Graph.${e}: could not find the "${i}" edge in the graph.`);const x=h.source.key,E=h.target.key;if(r===x)l=h.target;else if(r===E)l=h.source;else throw new Re(`Graph.${e}: the "${r}" node is not attached to the "${i}" edge (${x}, ${E}).`);p=u,v=c}else{if(h=t._edges.get(r),!h)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`);n===Rm?l=h.source:l=h.target,p=i,v=u}return[l,p,v]}function tC(t,e,n){t.prototype[e]=function(r,i,u){const[c,l]=ji(this,e,n,r,i,u);return c.attributes[l]}}function nC(t,e,n){t.prototype[e]=function(r,i){const[u]=ji(this,e,n,r,i);return u.attributes}}function rC(t,e,n){t.prototype[e]=function(r,i,u){const[c,l]=ji(this,e,n,r,i,u);return c.attributes.hasOwnProperty(l)}}function iC(t,e,n){t.prototype[e]=function(r,i,u,c){const[l,h,p]=ji(this,e,n,r,i,u,c);return l.attributes[h]=p,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:h}),this}}function oC(t,e,n){t.prototype[e]=function(r,i,u,c){const[l,h,p]=ji(this,e,n,r,i,u,c);if(typeof p!="function")throw new $e(`Graph.${e}: updater should be a function.`);const v=l.attributes,x=p(v[h]);return v[h]=x,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:h}),this}}function aC(t,e,n){t.prototype[e]=function(r,i,u){const[c,l]=ji(this,e,n,r,i,u);return delete c.attributes[l],this.emit("nodeAttributesUpdated",{key:c.key,type:"remove",attributes:c.attributes,name:l}),this}}function sC(t,e,n){t.prototype[e]=function(r,i,u){const[c,l]=ji(this,e,n,r,i,u);if(!Dn(l))throw new $e(`Graph.${e}: provided attributes are not a plain object.`);return c.attributes=l,this.emit("nodeAttributesUpdated",{key:c.key,type:"replace",attributes:c.attributes}),this}}function uC(t,e,n){t.prototype[e]=function(r,i,u){const[c,l]=ji(this,e,n,r,i,u);if(!Dn(l))throw new $e(`Graph.${e}: provided attributes are not a plain object.`);return Sn(c.attributes,l),this.emit("nodeAttributesUpdated",{key:c.key,type:"merge",attributes:c.attributes,data:l}),this}}function cC(t,e,n){t.prototype[e]=function(r,i,u){const[c,l]=ji(this,e,n,r,i,u);if(typeof l!="function")throw new $e(`Graph.${e}: provided updater is not a function.`);return c.attributes=l(c.attributes),this.emit("nodeAttributesUpdated",{key:c.key,type:"update",attributes:c.attributes}),this}}const lC=[{name:t=>`get${t}Attribute`,attacher:tC},{name:t=>`get${t}Attributes`,attacher:nC},{name:t=>`has${t}Attribute`,attacher:rC},{name:t=>`set${t}Attribute`,attacher:iC},{name:t=>`update${t}Attribute`,attacher:oC},{name:t=>`remove${t}Attribute`,attacher:aC},{name:t=>`replace${t}Attributes`,attacher:sC},{name:t=>`merge${t}Attributes`,attacher:uC},{name:t=>`update${t}Attributes`,attacher:cC}];function fC(t){lC.forEach(function({name:e,attacher:n}){n(t,e("Node"),km),n(t,e("Source"),Rm),n(t,e("Target"),eC),n(t,e("Opposite"),Om)})}function dC(t,e,n){t.prototype[e]=function(r,i){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+i;if(i=arguments[2],u=Br(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return u.attributes[i]}}function hC(t,e,n){t.prototype[e]=function(r){let i;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+r,c=""+arguments[1];if(i=Br(this,u,c,n),!i)throw new Re(`Graph.${e}: could not find an edge for the given path ("${u}" - "${c}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,i=this._edges.get(r),!i)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return i.attributes}}function pC(t,e,n){t.prototype[e]=function(r,i){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+i;if(i=arguments[2],u=Br(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return u.attributes.hasOwnProperty(i)}}function gC(t,e,n){t.prototype[e]=function(r,i,u){let c;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+r,h=""+i;if(i=arguments[2],u=arguments[3],c=Br(this,l,h,n),!c)throw new Re(`Graph.${e}: could not find an edge for the given path ("${l}" - "${h}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,c=this._edges.get(r),!c)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return c.attributes[i]=u,this.emit("edgeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:i}),this}}function mC(t,e,n){t.prototype[e]=function(r,i,u){let c;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+r,h=""+i;if(i=arguments[2],u=arguments[3],c=Br(this,l,h,n),!c)throw new Re(`Graph.${e}: could not find an edge for the given path ("${l}" - "${h}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,c=this._edges.get(r),!c)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof u!="function")throw new $e(`Graph.${e}: updater should be a function.`);return c.attributes[i]=u(c.attributes[i]),this.emit("edgeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:i}),this}}function yC(t,e,n){t.prototype[e]=function(r,i){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+i;if(i=arguments[2],u=Br(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return delete u.attributes[i],this.emit("edgeAttributesUpdated",{key:u.key,type:"remove",attributes:u.attributes,name:i}),this}}function vC(t,e,n){t.prototype[e]=function(r,i){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+i;if(i=arguments[2],u=Br(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Dn(i))throw new $e(`Graph.${e}: provided attributes are not a plain object.`);return u.attributes=i,this.emit("edgeAttributesUpdated",{key:u.key,type:"replace",attributes:u.attributes}),this}}function wC(t,e,n){t.prototype[e]=function(r,i){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+i;if(i=arguments[2],u=Br(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Dn(i))throw new $e(`Graph.${e}: provided attributes are not a plain object.`);return Sn(u.attributes,i),this.emit("edgeAttributesUpdated",{key:u.key,type:"merge",attributes:u.attributes,data:i}),this}}function xC(t,e,n){t.prototype[e]=function(r,i){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+i;if(i=arguments[2],u=Br(this,c,l,n),!u)throw new Re(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Re(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof i!="function")throw new $e(`Graph.${e}: provided updater is not a function.`);return u.attributes=i(u.attributes),this.emit("edgeAttributesUpdated",{key:u.key,type:"update",attributes:u.attributes}),this}}const bC=[{name:t=>`get${t}Attribute`,attacher:dC},{name:t=>`get${t}Attributes`,attacher:hC},{name:t=>`has${t}Attribute`,attacher:pC},{name:t=>`set${t}Attribute`,attacher:gC},{name:t=>`update${t}Attribute`,attacher:mC},{name:t=>`remove${t}Attribute`,attacher:yC},{name:t=>`replace${t}Attributes`,attacher:vC},{name:t=>`merge${t}Attributes`,attacher:wC},{name:t=>`update${t}Attributes`,attacher:xC}];function SC(t){bC.forEach(function({name:e,attacher:n}){n(t,e("Edge"),"mixed"),n(t,e("DirectedEdge"),"directed"),n(t,e("UndirectedEdge"),"undirected")})}const EC=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function AC(t,e,n,r){let i=!1;for(const u in e){if(u===r)continue;const c=e[u];if(i=n(c.key,c.attributes,c.source.key,c.target.key,c.source.attributes,c.target.attributes,c.undirected),t&&i)return c.key}}function CC(t,e,n,r){let i,u,c,l=!1;for(const h in e)if(h!==r){i=e[h];do{if(u=i.source,c=i.target,l=n(i.key,i.attributes,u.key,c.key,u.attributes,c.attributes,i.undirected),t&&l)return i.key;i=i.next}while(i!==void 0)}}function df(t,e){const n=Object.keys(t),r=n.length;let i,u=0;return new Dr(function(){do if(i)i=i.next;else{if(u>=r)return{done:!0};const l=n[u++];if(l===e){i=void 0;continue}i=t[l]}while(!i);return{done:!1,value:{edge:i.key,attributes:i.attributes,source:i.source.key,target:i.target.key,sourceAttributes:i.source.attributes,targetAttributes:i.target.attributes,undirected:i.undirected}}})}function _C(t,e,n,r){const i=e[n];if(!i)return;const u=i.source,c=i.target;if(r(i.key,i.attributes,u.key,c.key,u.attributes,c.attributes,i.undirected)&&t)return i.key}function TC(t,e,n,r){let i=e[n];if(!i)return;let u=!1;do{if(u=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),t&&u)return i.key;i=i.next}while(i!==void 0)}function hf(t,e){let n=t[e];return n.next!==void 0?new Dr(function(){if(!n)return{done:!0};const r={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:r}}):Dr.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function LC(t,e){if(t.size===0)return[];if(e==="mixed"||e===t.type)return typeof Array.from=="function"?Array.from(t._edges.keys()):Tm(t._edges.keys(),t._edges.size);const n=e==="undirected"?t.undirectedSize:t.directedSize,r=new Array(n),i=e==="undirected",u=t._edges.values();let c=0,l,h;for(;l=u.next(),l.done!==!0;)h=l.value,h.undirected===i&&(r[c++]=h.key);return r}function Fm(t,e,n,r){if(e.size===0)return;const i=n!=="mixed"&&n!==e.type,u=n==="undirected";let c,l,h=!1;const p=e._edges.values();for(;c=p.next(),c.done!==!0;){if(l=c.value,i&&l.undirected!==u)continue;const{key:v,attributes:x,source:E,target:_}=l;if(h=r(v,x,E.key,_.key,E.attributes,_.attributes,l.undirected),t&&h)return v}}function PC(t,e){if(t.size===0)return Dr.empty();const n=e!=="mixed"&&e!==t.type,r=e==="undirected",i=t._edges.values();return new Dr(function(){let c,l;for(;;){if(c=i.next(),c.done)return c;if(l=c.value,!(n&&l.undirected!==r))break}return{value:{edge:l.key,attributes:l.attributes,source:l.source.key,target:l.target.key,sourceAttributes:l.source.attributes,targetAttributes:l.target.attributes,undirected:l.undirected},done:!1}})}function Wd(t,e,n,r,i,u){const c=e?CC:AC;let l;if(n!=="undirected"&&(r!=="out"&&(l=c(t,i.in,u),t&&l)||r!=="in"&&(l=c(t,i.out,u,r?void 0:i.key),t&&l))||n!=="directed"&&(l=c(t,i.undirected,u),t&&l))return l}function MC(t,e,n,r){const i=[];return Wd(!1,t,e,n,r,function(u){i.push(u)}),i}function IC(t,e,n){let r=Dr.empty();return t!=="undirected"&&(e!=="out"&&typeof n.in<"u"&&(r=Wi(r,df(n.in))),e!=="in"&&typeof n.out<"u"&&(r=Wi(r,df(n.out,e?void 0:n.key)))),t!=="directed"&&typeof n.undirected<"u"&&(r=Wi(r,df(n.undirected))),r}function Hd(t,e,n,r,i,u,c){const l=n?TC:_C;let h;if(e!=="undirected"&&(typeof i.in<"u"&&r!=="out"&&(h=l(t,i.in,u,c),t&&h)||typeof i.out<"u"&&r!=="in"&&(r||i.key!==u)&&(h=l(t,i.out,u,c),t&&h))||e!=="directed"&&typeof i.undirected<"u"&&(h=l(t,i.undirected,u,c),t&&h))return h}function kC(t,e,n,r,i){const u=[];return Hd(!1,t,e,n,r,i,function(c){u.push(c)}),u}function RC(t,e,n,r){let i=Dr.empty();return t!=="undirected"&&(typeof n.in<"u"&&e!=="out"&&r in n.in&&(i=Wi(i,hf(n.in,r))),typeof n.out<"u"&&e!=="in"&&r in n.out&&(e||n.key!==r)&&(i=Wi(i,hf(n.out,r)))),t!=="directed"&&typeof n.undirected<"u"&&r in n.undirected&&(i=Wi(i,hf(n.undirected,r))),i}function OC(t,e){const{name:n,type:r,direction:i}=e;t.prototype[n]=function(u,c){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];if(!arguments.length)return LC(this,r);if(arguments.length===1){u=""+u;const l=this._nodes.get(u);if(typeof l>"u")throw new Re(`Graph.${n}: could not find the "${u}" node in the graph.`);return MC(this.multi,r==="mixed"?this.type:r,i,l)}if(arguments.length===2){u=""+u,c=""+c;const l=this._nodes.get(u);if(!l)throw new Re(`Graph.${n}:  could not find the "${u}" source node in the graph.`);if(!this._nodes.has(c))throw new Re(`Graph.${n}:  could not find the "${c}" target node in the graph.`);return kC(r,this.multi,i,l,c)}throw new $e(`Graph.${n}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function FC(t,e){const{name:n,type:r,direction:i}=e,u="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(p,v,x){if(!(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)){if(arguments.length===1)return x=p,Fm(!1,this,r,x);if(arguments.length===2){p=""+p,x=v;const E=this._nodes.get(p);if(typeof E>"u")throw new Re(`Graph.${u}: could not find the "${p}" node in the graph.`);return Wd(!1,this.multi,r==="mixed"?this.type:r,i,E,x)}if(arguments.length===3){p=""+p,v=""+v;const E=this._nodes.get(p);if(!E)throw new Re(`Graph.${u}:  could not find the "${p}" source node in the graph.`);if(!this._nodes.has(v))throw new Re(`Graph.${u}:  could not find the "${v}" target node in the graph.`);return Hd(!1,r,this.multi,i,E,v,x)}throw new $e(`Graph.${u}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const c="map"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){const p=Array.prototype.slice.call(arguments),v=p.pop();let x;if(p.length===0){let E=0;r!=="directed"&&(E+=this.undirectedSize),r!=="undirected"&&(E+=this.directedSize),x=new Array(E);let _=0;p.push((L,k,N,z,Q,W,ae)=>{x[_++]=v(L,k,N,z,Q,W,ae)})}else x=[],p.push((E,_,L,k,N,z,Q)=>{x.push(v(E,_,L,k,N,z,Q))});return this[u].apply(this,p),x};const l="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[l]=function(){const p=Array.prototype.slice.call(arguments),v=p.pop(),x=[];return p.push((E,_,L,k,N,z,Q)=>{v(E,_,L,k,N,z,Q)&&x.push(E)}),this[u].apply(this,p),x};const h="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[h]=function(){let p=Array.prototype.slice.call(arguments);if(p.length<2||p.length>4)throw new $e(`Graph.${h}: invalid number of arguments (expecting 2, 3 or 4 and got ${p.length}).`);if(typeof p[p.length-1]=="function"&&typeof p[p.length-2]!="function")throw new $e(`Graph.${h}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let v,x;p.length===2?(v=p[0],x=p[1],p=[]):p.length===3?(v=p[1],x=p[2],p=[p[0]]):p.length===4&&(v=p[2],x=p[3],p=[p[0],p[1]]);let E=x;return p.push((_,L,k,N,z,Q,W)=>{E=v(E,_,L,k,N,z,Q,W)}),this[u].apply(this,p),E}}function NC(t,e){const{name:n,type:r,direction:i}=e,u="find"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(h,p,v){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return!1;if(arguments.length===1)return v=h,Fm(!0,this,r,v);if(arguments.length===2){h=""+h,v=p;const x=this._nodes.get(h);if(typeof x>"u")throw new Re(`Graph.${u}: could not find the "${h}" node in the graph.`);return Wd(!0,this.multi,r==="mixed"?this.type:r,i,x,v)}if(arguments.length===3){h=""+h,p=""+p;const x=this._nodes.get(h);if(!x)throw new Re(`Graph.${u}:  could not find the "${h}" source node in the graph.`);if(!this._nodes.has(p))throw new Re(`Graph.${u}:  could not find the "${p}" target node in the graph.`);return Hd(!0,r,this.multi,i,x,p,v)}throw new $e(`Graph.${u}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const c="some"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[c]=function(){const h=Array.prototype.slice.call(arguments),p=h.pop();return h.push((x,E,_,L,k,N,z)=>p(x,E,_,L,k,N,z)),!!this[u].apply(this,h)};const l="every"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[l]=function(){const h=Array.prototype.slice.call(arguments),p=h.pop();return h.push((x,E,_,L,k,N,z)=>!p(x,E,_,L,k,N,z)),!this[u].apply(this,h)}}function $C(t,e){const{name:n,type:r,direction:i}=e,u=n.slice(0,-1)+"Entries";t.prototype[u]=function(c,l){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return Dr.empty();if(!arguments.length)return PC(this,r);if(arguments.length===1){c=""+c;const h=this._nodes.get(c);if(!h)throw new Re(`Graph.${u}: could not find the "${c}" node in the graph.`);return IC(r,i,h)}if(arguments.length===2){c=""+c,l=""+l;const h=this._nodes.get(c);if(!h)throw new Re(`Graph.${u}:  could not find the "${c}" source node in the graph.`);if(!this._nodes.has(l))throw new Re(`Graph.${u}:  could not find the "${l}" target node in the graph.`);return RC(r,i,h,l)}throw new $e(`Graph.${u}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function BC(t){EC.forEach(e=>{OC(t,e),FC(t,e),NC(t,e),$C(t,e)})}const DC=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Mc(){this.A=null,this.B=null}Mc.prototype.wrap=function(t){this.A===null?this.A=t:this.B===null&&(this.B=t)};Mc.prototype.has=function(t){return this.A!==null&&t in this.A||this.B!==null&&t in this.B};function ps(t,e,n,r,i){for(const u in r){const c=r[u],l=c.source,h=c.target,p=l===n?h:l;if(e&&e.has(p.key))continue;const v=i(p.key,p.attributes);if(t&&v)return p.key}}function zd(t,e,n,r,i){if(e!=="mixed"){if(e==="undirected")return ps(t,null,r,r.undirected,i);if(typeof n=="string")return ps(t,null,r,r[n],i)}const u=new Mc;let c;if(e!=="undirected"){if(n!=="out"){if(c=ps(t,null,r,r.in,i),t&&c)return c;u.wrap(r.in)}if(n!=="in"){if(c=ps(t,u,r,r.out,i),t&&c)return c;u.wrap(r.out)}}if(e!=="directed"&&(c=ps(t,u,r,r.undirected,i),t&&c))return c}function GC(t,e,n){if(t!=="mixed"){if(t==="undirected")return Object.keys(n.undirected);if(typeof e=="string")return Object.keys(n[e])}const r=[];return zd(!1,t,e,n,function(i){r.push(i)}),r}function gs(t,e,n){const r=Object.keys(n),i=r.length;let u=0;return new Dr(function(){let l=null;do{if(u>=i)return t&&t.wrap(n),{done:!0};const h=n[r[u++]],p=h.source,v=h.target;if(l=p===e?v:p,t&&t.has(l.key)){l=null;continue}}while(l===null);return{done:!1,value:{neighbor:l.key,attributes:l.attributes}}})}function UC(t,e,n){if(t!=="mixed"){if(t==="undirected")return gs(null,n,n.undirected);if(typeof e=="string")return gs(null,n,n[e])}let r=Dr.empty();const i=new Mc;return t!=="undirected"&&(e!=="out"&&(r=Wi(r,gs(i,n,n.in))),e!=="in"&&(r=Wi(r,gs(i,n,n.out)))),t!=="directed"&&(r=Wi(r,gs(i,n,n.undirected))),r}function WC(t,e){const{name:n,type:r,direction:i}=e;t.prototype[n]=function(u){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];u=""+u;const c=this._nodes.get(u);if(typeof c>"u")throw new Re(`Graph.${n}: could not find the "${u}" node in the graph.`);return GC(r==="mixed"?this.type:r,i,c)}}function HC(t,e){const{name:n,type:r,direction:i}=e,u="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(p,v){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;p=""+p;const x=this._nodes.get(p);if(typeof x>"u")throw new Re(`Graph.${u}: could not find the "${p}" node in the graph.`);zd(!1,r==="mixed"?this.type:r,i,x,v)};const c="map"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(p,v){const x=[];return this[u](p,(E,_)=>{x.push(v(E,_))}),x};const l="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[l]=function(p,v){const x=[];return this[u](p,(E,_)=>{v(E,_)&&x.push(E)}),x};const h="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[h]=function(p,v,x){if(arguments.length<3)throw new $e(`Graph.${h}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let E=x;return this[u](p,(_,L)=>{E=v(E,_,L)}),E}}function zC(t,e){const{name:n,type:r,direction:i}=e,u=n[0].toUpperCase()+n.slice(1,-1),c="find"+u;t.prototype[c]=function(p,v){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;p=""+p;const x=this._nodes.get(p);if(typeof x>"u")throw new Re(`Graph.${c}: could not find the "${p}" node in the graph.`);return zd(!0,r==="mixed"?this.type:r,i,x,v)};const l="some"+u;t.prototype[l]=function(p,v){return!!this[c](p,v)};const h="every"+u;t.prototype[h]=function(p,v){return!this[c](p,(E,_)=>!v(E,_))}}function jC(t,e){const{name:n,type:r,direction:i}=e,u=n.slice(0,-1)+"Entries";t.prototype[u]=function(c){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return Dr.empty();c=""+c;const l=this._nodes.get(c);if(typeof l>"u")throw new Re(`Graph.${u}: could not find the "${c}" node in the graph.`);return UC(r==="mixed"?this.type:r,i,l)}}function VC(t){DC.forEach(e=>{WC(t,e),HC(t,e),zC(t,e),jC(t,e)})}function Wu(t,e,n,r,i){const u=r._nodes.values(),c=r.type;let l,h,p,v,x,E;for(;l=u.next(),l.done!==!0;){let _=!1;if(h=l.value,c!=="undirected"){v=h.out;for(p in v){x=v[p];do E=x.target,_=!0,i(h.key,E.key,h.attributes,E.attributes,x.key,x.attributes,x.undirected),x=x.next;while(x)}}if(c!=="directed"){v=h.undirected;for(p in v)if(!(e&&h.key>p)){x=v[p];do E=x.target,E.key!==p&&(E=x.source),_=!0,i(h.key,E.key,h.attributes,E.attributes,x.key,x.attributes,x.undirected),x=x.next;while(x)}}n&&!_&&i(h.key,null,h.attributes,null,null,null,null)}}function XC(t,e){const n={key:t};return Lm(e.attributes)||(n.attributes=Sn({},e.attributes)),n}function YC(t,e,n){const r={key:e,source:n.source.key,target:n.target.key};return Lm(n.attributes)||(r.attributes=Sn({},n.attributes)),t==="mixed"&&n.undirected&&(r.undirected=!0),r}function KC(t){if(!Dn(t))throw new $e('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in t))throw new $e("Graph.import: serialized node is missing its key.");if("attributes"in t&&(!Dn(t.attributes)||t.attributes===null))throw new $e("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function QC(t){if(!Dn(t))throw new $e('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in t))throw new $e("Graph.import: serialized edge is missing its source.");if(!("target"in t))throw new $e("Graph.import: serialized edge is missing its target.");if("attributes"in t&&(!Dn(t.attributes)||t.attributes===null))throw new $e("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in t&&typeof t.undirected!="boolean")throw new $e("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const qC=ZA(),JC=new Set(["directed","undirected","mixed"]),lg=new Set(["domain","_events","_eventsCount","_maxListeners"]),ZC=[{name:t=>`${t}Edge`,generateKey:!0},{name:t=>`${t}DirectedEdge`,generateKey:!0,type:"directed"},{name:t=>`${t}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:t=>`${t}EdgeWithKey`},{name:t=>`${t}DirectedEdgeWithKey`,type:"directed"},{name:t=>`${t}UndirectedEdgeWithKey`,type:"undirected"}],e_={allowSelfLoops:!0,multi:!1,type:"mixed"};function t_(t,e,n){if(n&&!Dn(n))throw new $e(`Graph.addNode: invalid attributes. Expecting an object but got "${n}"`);if(e=""+e,n=n||{},t._nodes.has(e))throw new qe(`Graph.addNode: the "${e}" node already exist in the graph.`);const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function fg(t,e,n){const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function Nm(t,e,n,r,i,u,c,l){if(!r&&t.type==="undirected")throw new qe(`Graph.${e}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(r&&t.type==="directed")throw new qe(`Graph.${e}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(l&&!Dn(l))throw new $e(`Graph.${e}: invalid attributes. Expecting an object but got "${l}"`);if(u=""+u,c=""+c,l=l||{},!t.allowSelfLoops&&u===c)throw new qe(`Graph.${e}: source & target are the same ("${u}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const h=t._nodes.get(u),p=t._nodes.get(c);if(!h)throw new Re(`Graph.${e}: source node "${u}" not found.`);if(!p)throw new Re(`Graph.${e}: target node "${c}" not found.`);const v={key:null,undirected:r,source:u,target:c,attributes:l};if(n)i=t._edgeKeyGenerator();else if(i=""+i,t._edges.has(i))throw new qe(`Graph.${e}: the "${i}" edge already exists in the graph.`);if(!t.multi&&(r?typeof h.undirected[c]<"u":typeof h.out[c]<"u"))throw new qe(`Graph.${e}: an edge linking "${u}" to "${c}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const x=new La(r,i,h,p,l);t._edges.set(i,x);const E=u===c;return r?(h.undirectedDegree++,p.undirectedDegree++,E&&(h.undirectedLoops++,t._undirectedSelfLoopCount++)):(h.outDegree++,p.inDegree++,E&&(h.directedLoops++,t._directedSelfLoopCount++)),t.multi?x.attachMulti():x.attach(),r?t._undirectedSize++:t._directedSize++,v.key=i,t.emit("edgeAdded",v),i}function n_(t,e,n,r,i,u,c,l,h){if(!r&&t.type==="undirected")throw new qe(`Graph.${e}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(r&&t.type==="directed")throw new qe(`Graph.${e}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(l){if(h){if(typeof l!="function")throw new $e(`Graph.${e}: invalid updater function. Expecting a function but got "${l}"`)}else if(!Dn(l))throw new $e(`Graph.${e}: invalid attributes. Expecting an object but got "${l}"`)}u=""+u,c=""+c;let p;if(h&&(p=l,l=void 0),!t.allowSelfLoops&&u===c)throw new qe(`Graph.${e}: source & target are the same ("${u}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let v=t._nodes.get(u),x=t._nodes.get(c),E,_;if(!n&&(E=t._edges.get(i),E)){if((E.source.key!==u||E.target.key!==c)&&(!r||E.source.key!==c||E.target.key!==u))throw new qe(`Graph.${e}: inconsistency detected when attempting to merge the "${i}" edge with "${u}" source & "${c}" target vs. ("${E.source.key}", "${E.target.key}").`);_=E}if(!_&&!t.multi&&v&&(_=r?v.undirected[c]:v.out[c]),_){const Q=[_.key,!1,!1,!1];if(h?!p:!l)return Q;if(h){const W=_.attributes;_.attributes=p(W),t.emit("edgeAttributesUpdated",{type:"replace",key:_.key,attributes:_.attributes})}else Sn(_.attributes,l),t.emit("edgeAttributesUpdated",{type:"merge",key:_.key,attributes:_.attributes,data:l});return Q}l=l||{},h&&p&&(l=p(l));const L={key:null,undirected:r,source:u,target:c,attributes:l};if(n)i=t._edgeKeyGenerator();else if(i=""+i,t._edges.has(i))throw new qe(`Graph.${e}: the "${i}" edge already exists in the graph.`);let k=!1,N=!1;v||(v=fg(t,u,{}),k=!0,u===c&&(x=v,N=!0)),x||(x=fg(t,c,{}),N=!0),E=new La(r,i,v,x,l),t._edges.set(i,E);const z=u===c;return r?(v.undirectedDegree++,x.undirectedDegree++,z&&(v.undirectedLoops++,t._undirectedSelfLoopCount++)):(v.outDegree++,x.inDegree++,z&&(v.directedLoops++,t._directedSelfLoopCount++)),t.multi?E.attachMulti():E.attach(),r?t._undirectedSize++:t._directedSize++,L.key=i,t.emit("edgeAdded",L),[i,!0,k,N]}function ma(t,e){t._edges.delete(e.key);const{source:n,target:r,attributes:i}=e,u=e.undirected,c=n===r;u?(n.undirectedDegree--,r.undirectedDegree--,c&&(n.undirectedLoops--,t._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,c&&(n.directedLoops--,t._directedSelfLoopCount--)),t.multi?e.detachMulti():e.detach(),u?t._undirectedSize--:t._directedSize--,t.emit("edgeDropped",{key:e.key,attributes:i,source:n.key,target:r.key,undirected:u})}class Gt extends WA.EventEmitter{constructor(e){if(super(),e=Sn({},e_,e),typeof e.multi!="boolean")throw new $e(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${e.multi}".`);if(!JC.has(e.type))throw new $e(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${e.type}".`);if(typeof e.allowSelfLoops!="boolean")throw new $e(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${e.allowSelfLoops}".`);const n=e.type==="mixed"?Pm:e.type==="directed"?Mm:Im;Rr(this,"NodeDataClass",n);const r="geid_"+qC()+"_";let i=0;const u=()=>{let c;do c=r+i++;while(this._edges.has(c));return c};Rr(this,"_attributes",{}),Rr(this,"_nodes",new Map),Rr(this,"_edges",new Map),Rr(this,"_directedSize",0),Rr(this,"_undirectedSize",0),Rr(this,"_directedSelfLoopCount",0),Rr(this,"_undirectedSelfLoopCount",0),Rr(this,"_edgeKeyGenerator",u),Rr(this,"_options",e),lg.forEach(c=>Rr(this,c,this[c])),Qr(this,"order",()=>this._nodes.size),Qr(this,"size",()=>this._edges.size),Qr(this,"directedSize",()=>this._directedSize),Qr(this,"undirectedSize",()=>this._undirectedSize),Qr(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),Qr(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),Qr(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),Qr(this,"multi",this._options.multi),Qr(this,"type",this._options.type),Qr(this,"allowSelfLoops",this._options.allowSelfLoops),Qr(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(e){return this._nodes.has(""+e)}hasDirectedEdge(e,n){if(this.type==="undirected")return!1;if(arguments.length===1){const r=""+e,i=this._edges.get(r);return!!i&&!i.undirected}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?r.out.hasOwnProperty(n):!1}throw new $e(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(e,n){if(this.type==="directed")return!1;if(arguments.length===1){const r=""+e,i=this._edges.get(r);return!!i&&i.undirected}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?r.undirected.hasOwnProperty(n):!1}throw new $e(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(e,n){if(arguments.length===1){const r=""+e;return this._edges.has(r)}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?typeof r.out<"u"&&r.out.hasOwnProperty(n)||typeof r.undirected<"u"&&r.undirected.hasOwnProperty(n):!1}throw new $e(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(e,n){if(this.type==="undirected")return;if(e=""+e,n=""+n,this.multi)throw new qe("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const r=this._nodes.get(e);if(!r)throw new Re(`Graph.directedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Re(`Graph.directedEdge: could not find the "${n}" target node in the graph.`);const i=r.out&&r.out[n]||void 0;if(i)return i.key}undirectedEdge(e,n){if(this.type==="directed")return;if(e=""+e,n=""+n,this.multi)throw new qe("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const r=this._nodes.get(e);if(!r)throw new Re(`Graph.undirectedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Re(`Graph.undirectedEdge: could not find the "${n}" target node in the graph.`);const i=r.undirected&&r.undirected[n]||void 0;if(i)return i.key}edge(e,n){if(this.multi)throw new qe("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.edge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Re(`Graph.edge: could not find the "${n}" target node in the graph.`);const i=r.out&&r.out[n]||r.undirected&&r.undirected[n]||void 0;if(i)return i.key}areDirectedNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areDirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.in||n in r.out}areOutNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areOutNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.out}areInNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areInNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.in}areUndirectedNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areUndirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="directed"?!1:n in r.undirected}areNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&(n in r.in||n in r.out)||this.type!=="directed"&&n in r.undirected}areInboundNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areInboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&n in r.in||this.type!=="directed"&&n in r.undirected}areOutboundNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Re(`Graph.areOutboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&n in r.out||this.type!=="directed"&&n in r.undirected}inDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.inDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree}outDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.outDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.outDegree}directedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.directedDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree}undirectedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.undirectedDegree: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree}inboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.inboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree),r}outboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.outboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.outDegree),r}degree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.degree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree),r}inDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.inDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree-n.directedLoops}outDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.outDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.outDegree-n.directedLoops}directedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.directedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree-n.directedLoops*2}undirectedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree-n.undirectedLoops*2}inboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=n.undirectedDegree,i+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree,i+=n.directedLoops),r-i}outboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=n.undirectedDegree,i+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.outDegree,i+=n.directedLoops),r-i}degreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.degreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=n.undirectedDegree,i+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree,i+=n.directedLoops*2),r-i}source(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.source: could not find the "${e}" edge in the graph.`);return n.source.key}target(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.target: could not find the "${e}" edge in the graph.`);return n.target.key}extremities(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.extremities: could not find the "${e}" edge in the graph.`);return[n.source.key,n.target.key]}opposite(e,n){e=""+e,n=""+n;const r=this._edges.get(n);if(!r)throw new Re(`Graph.opposite: could not find the "${n}" edge in the graph.`);const i=r.source.key,u=r.target.key;if(e===i)return u;if(e===u)return i;throw new Re(`Graph.opposite: the "${e}" node is not attached to the "${n}" edge (${i}, ${u}).`)}hasExtremity(e,n){e=""+e,n=""+n;const r=this._edges.get(e);if(!r)throw new Re(`Graph.hasExtremity: could not find the "${e}" edge in the graph.`);return r.source.key===n||r.target.key===n}isUndirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.isUndirected: could not find the "${e}" edge in the graph.`);return n.undirected}isDirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.isDirected: could not find the "${e}" edge in the graph.`);return!n.undirected}isSelfLoop(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Re(`Graph.isSelfLoop: could not find the "${e}" edge in the graph.`);return n.source===n.target}addNode(e,n){return t_(this,e,n).key}mergeNode(e,n){if(n&&!Dn(n))throw new $e(`Graph.mergeNode: invalid attributes. Expecting an object but got "${n}"`);e=""+e,n=n||{};let r=this._nodes.get(e);return r?(n&&(Sn(r.attributes,n),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:r.attributes,data:n})),[e,!1]):(r=new this.NodeDataClass(e,n),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:n}),[e,!0])}updateNode(e,n){if(n&&typeof n!="function")throw new $e(`Graph.updateNode: invalid updater function. Expecting a function but got "${n}"`);e=""+e;let r=this._nodes.get(e);if(r){if(n){const u=r.attributes;r.attributes=n(u),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:r.attributes})}return[e,!1]}const i=n?n({}):{};return r=new this.NodeDataClass(e,i),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:i}),[e,!0]}dropNode(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Re(`Graph.dropNode: could not find the "${e}" node in the graph.`);let r;if(this.type!=="undirected"){for(const i in n.out){r=n.out[i];do ma(this,r),r=r.next;while(r)}for(const i in n.in){r=n.in[i];do ma(this,r),r=r.next;while(r)}}if(this.type!=="directed")for(const i in n.undirected){r=n.undirected[i];do ma(this,r),r=r.next;while(r)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:n.attributes})}dropEdge(e){let n;if(arguments.length>1){const r=""+arguments[0],i=""+arguments[1];if(n=Br(this,r,i,this.type),!n)throw new Re(`Graph.dropEdge: could not find the "${r}" -> "${i}" edge in the graph.`)}else if(e=""+e,n=this._edges.get(e),!n)throw new Re(`Graph.dropEdge: could not find the "${e}" edge in the graph.`);return ma(this,n),this}dropDirectedEdge(e,n){if(arguments.length<2)throw new qe("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new qe("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");e=""+e,n=""+n;const r=Br(this,e,n,"directed");if(!r)throw new Re(`Graph.dropDirectedEdge: could not find a "${e}" -> "${n}" edge in the graph.`);return ma(this,r),this}dropUndirectedEdge(e,n){if(arguments.length<2)throw new qe("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new qe("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const r=Br(this,e,n,"undirected");if(!r)throw new Re(`Graph.dropUndirectedEdge: could not find a "${e}" -> "${n}" edge in the graph.`);return ma(this,r),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const e=this._nodes.values();let n;for(;n=e.next(),n.done!==!0;)n.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(e){return this._attributes[e]}getAttributes(){return this._attributes}hasAttribute(e){return this._attributes.hasOwnProperty(e)}setAttribute(e,n){return this._attributes[e]=n,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}updateAttribute(e,n){if(typeof n!="function")throw new $e("Graph.updateAttribute: updater should be a function.");const r=this._attributes[e];return this._attributes[e]=n(r),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}removeAttribute(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this}replaceAttributes(e){if(!Dn(e))throw new $e("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(e){if(!Dn(e))throw new $e("Graph.mergeAttributes: provided attributes are not a plain object.");return Sn(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this}updateAttributes(e){if(typeof e!="function")throw new $e("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(e,n){if(typeof e!="function")throw new $e("Graph.updateEachNodeAttributes: expecting an updater function.");if(n&&!cg(n))throw new $e("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._nodes.values();let i,u;for(;i=r.next(),i.done!==!0;)u=i.value,u.attributes=e(u.key,u.attributes);this.emit("eachNodeAttributesUpdated",{hints:n||null})}updateEachEdgeAttributes(e,n){if(typeof e!="function")throw new $e("Graph.updateEachEdgeAttributes: expecting an updater function.");if(n&&!cg(n))throw new $e("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._edges.values();let i,u,c,l;for(;i=r.next(),i.done!==!0;)u=i.value,c=u.source,l=u.target,u.attributes=e(u.key,u.attributes,c.key,l.key,c.attributes,l.attributes,u.undirected);this.emit("eachEdgeAttributesUpdated",{hints:n||null})}forEachAdjacencyEntry(e){if(typeof e!="function")throw new $e("Graph.forEachAdjacencyEntry: expecting a callback.");Wu(!1,!1,!1,this,e)}forEachAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new $e("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");Wu(!1,!1,!0,this,e)}forEachAssymetricAdjacencyEntry(e){if(typeof e!="function")throw new $e("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");Wu(!1,!0,!1,this,e)}forEachAssymetricAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new $e("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");Wu(!1,!0,!0,this,e)}nodes(){return typeof Array.from=="function"?Array.from(this._nodes.keys()):Tm(this._nodes.keys(),this._nodes.size)}forEachNode(e){if(typeof e!="function")throw new $e("Graph.forEachNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)i=r.value,e(i.key,i.attributes)}findNode(e){if(typeof e!="function")throw new $e("Graph.findNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)if(i=r.value,e(i.key,i.attributes))return i.key}mapNodes(e){if(typeof e!="function")throw new $e("Graph.mapNode: expecting a callback.");const n=this._nodes.values();let r,i;const u=new Array(this.order);let c=0;for(;r=n.next(),r.done!==!0;)i=r.value,u[c++]=e(i.key,i.attributes);return u}someNode(e){if(typeof e!="function")throw new $e("Graph.someNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)if(i=r.value,e(i.key,i.attributes))return!0;return!1}everyNode(e){if(typeof e!="function")throw new $e("Graph.everyNode: expecting a callback.");const n=this._nodes.values();let r,i;for(;r=n.next(),r.done!==!0;)if(i=r.value,!e(i.key,i.attributes))return!1;return!0}filterNodes(e){if(typeof e!="function")throw new $e("Graph.filterNodes: expecting a callback.");const n=this._nodes.values();let r,i;const u=[];for(;r=n.next(),r.done!==!0;)i=r.value,e(i.key,i.attributes)&&u.push(i.key);return u}reduceNodes(e,n){if(typeof e!="function")throw new $e("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new $e("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let r=n;const i=this._nodes.values();let u,c;for(;u=i.next(),u.done!==!0;)c=u.value,r=e(r,c.key,c.attributes);return r}nodeEntries(){const e=this._nodes.values();return new Dr(()=>{const n=e.next();if(n.done)return n;const r=n.value;return{value:{node:r.key,attributes:r.attributes},done:!1}})}export(){const e=new Array(this._nodes.size);let n=0;this._nodes.forEach((i,u)=>{e[n++]=XC(u,i)});const r=new Array(this._edges.size);return n=0,this._edges.forEach((i,u)=>{r[n++]=YC(this.type,u,i)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:r}}import(e,n=!1){if(e instanceof Gt)return e.forEachNode((h,p)=>{n?this.mergeNode(h,p):this.addNode(h,p)}),e.forEachEdge((h,p,v,x,E,_,L)=>{n?L?this.mergeUndirectedEdgeWithKey(h,v,x,p):this.mergeDirectedEdgeWithKey(h,v,x,p):L?this.addUndirectedEdgeWithKey(h,v,x,p):this.addDirectedEdgeWithKey(h,v,x,p)}),this;if(!Dn(e))throw new $e("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!Dn(e.attributes))throw new $e("Graph.import: invalid attributes. Expecting a plain object.");n?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}let r,i,u,c,l;if(e.nodes){if(u=e.nodes,!Array.isArray(u))throw new $e("Graph.import: invalid nodes. Expecting an array.");for(r=0,i=u.length;r<i;r++){c=u[r],KC(c);const{key:h,attributes:p}=c;n?this.mergeNode(h,p):this.addNode(h,p)}}if(e.edges){let h=!1;if(this.type==="undirected"&&(h=!0),u=e.edges,!Array.isArray(u))throw new $e("Graph.import: invalid edges. Expecting an array.");for(r=0,i=u.length;r<i;r++){l=u[r],QC(l);const{source:p,target:v,attributes:x,undirected:E=h}=l;let _;"key"in l?(_=n?E?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:E?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,_.call(this,l.key,p,v,x)):(_=n?E?this.mergeUndirectedEdge:this.mergeDirectedEdge:E?this.addUndirectedEdge:this.addDirectedEdge,_.call(this,p,v,x))}}return this}nullCopy(e){const n=new Gt(Sn({},this._options,e));return n.replaceAttributes(Sn({},this.getAttributes())),n}emptyCopy(e){const n=this.nullCopy(e);return this._nodes.forEach((r,i)=>{const u=Sn({},r.attributes);r=new n.NodeDataClass(i,u),n._nodes.set(i,r)}),n}copy(e){if(e=e||{},typeof e.type=="string"&&e.type!==this.type&&e.type!=="mixed")throw new qe(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${e.type}" because this would mean losing information about the current graph.`);if(typeof e.multi=="boolean"&&e.multi!==this.multi&&e.multi!==!0)throw new qe("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof e.allowSelfLoops=="boolean"&&e.allowSelfLoops!==this.allowSelfLoops&&e.allowSelfLoops!==!0)throw new qe("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const n=this.emptyCopy(e),r=this._edges.values();let i,u;for(;i=r.next(),i.done!==!0;)u=i.value,Nm(n,"copy",!1,u.undirected,u.key,u.source.key,u.target.key,Sn({},u.attributes));return n}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const e={};this._nodes.forEach((u,c)=>{e[c]=u.attributes});const n={},r={};this._edges.forEach((u,c)=>{const l=u.undirected?"--":"->";let h="",p=u.source.key,v=u.target.key,x;u.undirected&&p>v&&(x=p,p=v,v=x);const E=`(${p})${l}(${v})`;c.startsWith("geid_")?this.multi&&(typeof r[E]>"u"?r[E]=0:r[E]++,h+=`${r[E]}. `):h+=`[${c}]: `,h+=E,n[h]=u.attributes});const i={};for(const u in this)this.hasOwnProperty(u)&&!lg.has(u)&&typeof this[u]!="function"&&typeof u!="symbol"&&(i[u]=this[u]);return i.attributes=this._attributes,i.nodes=e,i.edges=n,Rr(i,"constructor",this.constructor),i}}typeof Symbol<"u"&&(Gt.prototype[Symbol.for("nodejs.util.inspect.custom")]=Gt.prototype.inspect);ZC.forEach(t=>{["add","merge","update"].forEach(e=>{const n=t.name(e),r=e==="add"?Nm:n_;t.generateKey?Gt.prototype[n]=function(i,u,c){return r(this,n,!0,(t.type||this.type)==="undirected",null,i,u,c,e==="update")}:Gt.prototype[n]=function(i,u,c,l){return r(this,n,!1,(t.type||this.type)==="undirected",i,u,c,l,e==="update")}})});fC(Gt);SC(Gt);BC(Gt);VC(Gt);class $m extends Gt{constructor(e){const n=Sn({type:"directed"},e);if("multi"in n&&n.multi!==!1)throw new $e("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="directed")throw new $e('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Bm extends Gt{constructor(e){const n=Sn({type:"undirected"},e);if("multi"in n&&n.multi!==!1)throw new $e("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="undirected")throw new $e('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class jd extends Gt{constructor(e){const n=Sn({multi:!0},e);if("multi"in n&&n.multi!==!0)throw new $e("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(n)}}class Dm extends Gt{constructor(e){const n=Sn({type:"directed",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new $e("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="directed")throw new $e('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Gm extends Gt{constructor(e){const n=Sn({type:"undirected",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new $e("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="undirected")throw new $e('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}function Pa(t){t.from=function(e,n){const r=Sn({},e.options,n),i=new t(r);return i.import(e),i}}Pa(Gt);Pa($m);Pa(Bm);Pa(jd);Pa(Dm);Pa(Gm);Gt.Graph=Gt;Gt.DirectedGraph=$m;Gt.UndirectedGraph=Bm;Gt.MultiGraph=jd;Gt.MultiDirectedGraph=Dm;Gt.MultiUndirectedGraph=Gm;Gt.InvalidArgumentsGraphError=$e;Gt.NotFoundGraphError=Re;Gt.UsageGraphError=qe;var r_=function(e){return e!==null&&typeof e=="object"&&typeof e.addUndirectedEdgeWithKey=="function"&&typeof e.dropNode=="function"&&typeof e.multi=="boolean"};function qo(t){this.graph=t,this.stack=new Array(t.order),this.seen=new Set,this.size=0}qo.prototype.hasAlreadySeenEverything=function(){return this.seen.size===this.graph.order};qo.prototype.countUnseenNodes=function(){return this.graph.order-this.seen.size};qo.prototype.forEachNodeYetUnseen=function(t){var e=this.seen,n=this.graph;n.someNode(function(r,i){if(e.size===n.order)return!0;if(e.has(r))return!1;var u=t(r,i);return!!u})};qo.prototype.has=function(t){return this.seen.has(t)};qo.prototype.push=function(t){var e=this.seen.size;return this.seen.add(t),e===this.seen.size?!1:(this.stack[this.size++]=t,!0)};qo.prototype.pushWith=function(t,e){var n=this.seen.size;return this.seen.add(t),n===this.seen.size?!1:(this.stack[this.size++]=e,!0)};qo.prototype.pop=function(){if(this.size!==0)return this.stack[--this.size]};var i_=r_;function o_(t){if(!i_(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!t.order)return[];if(t.type==="undirected")throw new Error("graphology-components: the given graph is undirected");var e=t.nodes(),n=[],r,i;if(!t.size){for(r=0,i=e.length;r<i;r++)n.push([e[r]]);return n}var u=1,c=[],l=[],h=new Map,p=new Set,v,x,E,_=function(L){var k,N=t.outboundNeighbors(L),z;h.set(L,u++),c.push(L),l.push(L);for(var Q=0,W=N.length;Q<W;Q++)if(k=N[Q],h.has(k)){if(z=h.get(k),!p.has(k))for(;h.get(c[c.length-1])>z;)c.pop()}else _(k);if(h.get(c[c.length-1])===h.get(L)){v=[];do x=l.pop(),v.push(x),p.add(x);while(x!==L);n.push(v),c.pop()}};for(r=0,i=e.length;r<i;r++)E=e[r],p.has(E)||_(E);return n}var a_=o_;function s_({vectorData:t,localStore:e}){var c;const n=e.getFigma(),r=new jd;t.vectorNetwork.vertices.forEach((l,h)=>{r.addNode(h)}),t.vectorNetwork.segments.forEach((l,h)=>{r.addUndirectedEdge(l.start.vertex,l.end.vertex,{})});const i=a_(r);if((c=e.vectorEditor)==null||c.closedPathList.forEach(l=>{l.delete()}),e.vectorEditor={graph:r,closedPathList:[]},!n)return;const{Raptor:u}=n.context;console.log({componentList:i}),i.forEach(l=>{var h;if(l.length>1){const p=new u.Path;l.reverse(),l.forEach((v,x)=>{const E=t.vectorNetwork.vertices[v],_=t.vectorNetwork.vertices[l[x+1]];if(x===0&&p.moveTo(E.x,E.y),E&&_){const L=u_({vectorData:t,startVid:v,endVid:l[x+1]});L&&(L.start.dx===0&&L.start.dy===0&&L.end.dx===0&&L.end.dy===0?p.lineTo(L.end.x,L.end.dy):p.cubicTo(L.start.x+L.start.dx,L.start.y+L.start.dy,L.end.x+L.end.dx,L.end.y+L.end.dy,L.end.x,L.end.y))}}),p.close(),(h=e.vectorEditor)==null||h.closedPathList.push(p)}})}function u_({vectorData:t,startVid:e,endVid:n}){let r=null;if(t.vectorNetwork.segments.forEach(i=>{`${i.start.vertex}`===e&&`${i.end.vertex}`===n&&(r=i)}),r!==null){const i=t.vectorNetwork.vertices[e],u=t.vectorNetwork.vertices[n];return{start:{x:i.x,y:i.y,dx:r.start.dx,dy:r.start.dy},end:{x:u.x,y:u.y,dx:r.end.dx,dy:r.end.dy}}}return null}function ms({layer:t,normalizedPoint:e}){return t.width===0?e:{x:e.x/t.vectorData.normalizedSize.x*t.width,y:e.y/t.vectorData.normalizedSize.y*t.height}}function LR({layer:t,localPoint:e}){return t.width===0?e:{x:t.vectorData.normalizedSize.x/t.width*e.x,y:t.vectorData.normalizedSize.y/t.height*e.y}}function c_(t){const{vertices:e,segments:n}=t.vectorNetwork;let r=1/0,i=-1/0,u=1/0,c=-1/0;return e.forEach(l=>{r=Math.min(r,l.x),i=Math.max(i,l.x),u=Math.min(u,l.y),c=Math.max(c,l.y)}),n.forEach(l=>{const h=e[l.start.vertex],p=e[l.end.vertex];if(!(l.start.dx===0&&l.start.dy===0&&l.end.dx===0&&l.end.dy===0)){const v=C0(h.x,h.y,h.x+l.start.dx,h.y+l.start.dy,p.x+l.end.dx,p.y+l.end.dy,p.x,p.y);r=Math.min(r,v.min.x),i=Math.max(i,v.max.x),u=Math.min(u,v.min.y),c=Math.max(c,v.max.y)}}),{left:r,right:i,top:u,bottom:c,x:i-r,y:c-u}}function PR(t){const{vertices:e,segments:n}=t.vectorNetwork;let r=0,i=0,u=0,c=0;return e.forEach(l=>{l.x<0&&(r=Math.min(r,l.x)),l.x>0&&(i=Math.max(i,l.x)),l.y<0&&(u=Math.min(u,l.y)),l.y>0&&(c=Math.max(c,l.y))}),n.forEach(l=>{const h=e[l.start.vertex],p=e[l.end.vertex];if(!(l.start.dx===0&&l.start.dy===0&&l.end.dx===0&&l.end.dy===0)){const v=C0(h.x,h.y,h.x+l.start.dx,h.y+l.start.dy,p.x+l.end.dx,p.y+l.end.dy,p.x,p.y);r=Math.min(r,v.min.x),i=Math.max(i,v.max.x),u=Math.min(u,v.min.y),c=Math.max(c,v.max.y)}}),{left:r,right:i,top:u,bottom:c,x:i-r,y:c-u}}function MR({localStore:t,layer:e,step:n}){if((e==null?void 0:e.nodeType)==="vector"&&e.width&&e.height){const r=c_(e.vectorData),i=e.width/e.vectorData.normalizedSize.x,u=e.height/e.vectorData.normalizedSize.y,c=r.x*i,l=r.y*u,h=r.left,p=r.top,v=Kn(e),x=As(v,{x:h*i,y:p*u}),E=b0({x:x.x,y:x.y,width:c,height:l,rotate:e.rotate});t.segmentCandidate&&(t.segmentCandidate.startVertex.x-=h,t.segmentCandidate.startVertex.y-=p,t.segmentCandidate.endVertex.x-=h,t.segmentCandidate.endVertex.y-=p),n.update({layer:e,data:{width:c,height:l,left:E.left,top:E.top,vectorData(_){_.vectorNetwork.vertices.forEach(L=>{L.x-=h,L.y-=p}),_.normalizedSize={...r}}}}),s_({vectorData:e.vectorData,localStore:t})}}const l_=20;function IR(t){t.currentStatus="playingTimeline"}function f_(t){if(t.timelineInterval===null){ir(t,{type:"clear"}),t.currentTime>=t.timelineMax&&(t.currentTime=0);let e=new Date().getTime();t.timelineInterval=setInterval(()=>{const n=new Date().getTime();t.currentTime+=n-e,e=n,t.currentTime>=t.timelineMax&&(t.currentTime=t.timelineMax,d_(t))},10)}}function d_(t){t.currentStatus=""}function h_(t){t.timelineInterval!==null&&clearInterval(t.timelineInterval),t.timelineInterval=null}function kR(t,e){e.stopPropagation(),t.currentStatus="movingTimelineNeedle",OE(t,e)}function RR(t,e){const r=(e.pageX-t.pointerX)/l_*1e3;t.currentTime+=r,t.currentTime<0&&(t.currentTime=0),ir(t,{type:"clear"}),J0(t,e)}function OR(t){var n;const e=(n=t.timeline)==null?void 0:n.entrance;if(e){if(e.type==="slideIn"){if(e.from==="left")return[{translateX:-t.width,opacity:0,duration:0},{translateX:-t.width,opacity:0,duration:0},{translateX:0,opacity:1}];if(e.from==="right")return[{translateX:t.width,opacity:0,duration:0},{translateX:t.width,opacity:0,duration:0},{translateX:0,opacity:1}]}if(e.type==="zoomIn")return[{opacity:0,scaleX:.3,scaleY:.3,scaleZ:.3,duration:0},{opacity:0,scaleX:.3,scaleY:.3,scaleZ:.3,duration:0},{opacity:1,scaleX:1,scaleY:1,scaleZ:1}]}return[]}function FR(t){var n;const e=(n=t.timeline)==null?void 0:n.exit;return e&&e.type==="rotateOut"?[{rotateZ:0,opacity:1,duration:0},{rotateZ:0,opacity:1,duration:0},{rotateZ:"200deg",opacity:0}]:[]}var p_=Object.defineProperty,g_=Object.getOwnPropertyDescriptor,Ic=(t,e,n,r)=>{for(var i=r>1?void 0:r?g_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(i=(r?c(e,n,i):c(i))||i);return r&&i&&p_(e,n,i),i};class kc{constructor(e,n){this.stepIdIndex=-1,this.maxStepLength=50,this.stepCursor=-1,this.stepList=[],Os(this),this.getState=e,typeof n=="number"&&(this.maxStepLength=n)}save(e){this.stepIdIndex+=1;const n=this.stepIdIndex;this.stepCursor<this.stepList.length-1&&(this.stepList=this.stepList.slice(0,this.stepCursor+1)),this.stepList.push({id:n,...e,resultSnapshot:ze.cloneDeep(this.getState())}),this.stepCursor+=1,this.stepList.length>this.maxStepLength&&(this.stepList.shift(),this.stepCursor-=1)}undo(){if(this.canUndo){const e=this.stepList[this.stepCursor-1];Object.assign(this.getState(),ze.cloneDeep(e.resultSnapshot)),this.stepCursor-=1}}redo(){if(this.canRedo){const e=this.stepList[this.stepCursor+1];e&&Object.assign(this.getState(),ze.cloneDeep(e.resultSnapshot)),this.stepCursor+=1}}record(e){this.save({name:e,redo:()=>{},undo:()=>{}})}cancelRecordsByCursor(e){const n=this.stepList[e];n&&(Object.assign(this.getState(),ze.cloneDeep(n.resultSnapshot)),this.stepCursor=e,this.stepList.splice(e+1,this.stepList.length-1))}clearRecords(){this.stepList=[],this.stepCursor=-1}get canUndo(){return this.stepCursor>0}get canRedo(){return this.stepCursor<this.stepList.length-1}}Ic([We],kc.prototype,"stepCursor",2);Ic([We],kc.prototype,"stepList",2);Ic([mt],kc.prototype,"canUndo",1);Ic([mt],kc.prototype,"canRedo",1);var m_=Object.defineProperty,y_=Object.getOwnPropertyDescriptor,Vd=(t,e,n,r)=>{for(var i=r>1?void 0:r?y_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(i=(r?c(e,n,i):c(i))||i);return r&&i&&m_(e,n,i),i};function NR(t){return`clip-path-${t.id}`}class Xd{constructor({localStore:e,getPage:n,getGridCollageInfo:r}){this.activePointDotKey="",this.localStore=e,this.getPage=n,this.getGridCollageInfo=r,Os(this)}get isActive(){return this.getGridCollageInfo().subType==="POLYGONS"}updateActivePointDot(e){const n=this.getPage().pointPercentMap[this.activePointDotKey];Object.assign(n,e),this.getPage().imageLayerList.forEach(r=>{this.updateLayerSize(r)})}get pointMap(){const e={};return ze.forEach(this.getPage().pointPercentMap,(n,r)=>{e[r]={x:n.x*this.getPage().width,y:n.y*this.getPage().height}}),e}updateLayerSize(e){const n=Fs(this.getPointList(e));Object.assign(e,n),I0(this.localStore,e)}getPointList(e){return e.extra.polygonPointIdList.map(n=>n==="leftTop"?{x:0,y:0}:n==="rightTop"?{x:this.getPage().width,y:0}:n==="leftBottom"?{x:0,y:this.getPage().height}:n==="rightBottom"?{x:this.getPage().width,y:this.getPage().height}:this.pointMap[n])}}Vd([mt],Xd.prototype,"isActive",1);Vd([We],Xd.prototype,"activePointDotKey",2);Vd([mt],Xd.prototype,"pointMap",1);function v_(t){return g2({get hasAnchorPoints(){var n;return!(((n=t.selectedSingleLayer)==null?void 0:n.nodeType)==="svg"&&t.selectedSingleLayer.data.type==="line")},get hasTopBottomBar(){return!(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="TEXT"&&t.selectedSingleLayer.writingMode==="horizontal-tb"||t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="svg"&&t.selectedSingleLayer.data.type==="line")},get hasLeftRightBar(){return!(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="TEXT"&&t.selectedSingleLayer.writingMode==="vertical-rl")}})}var w_=Object.defineProperty,x_=Object.getOwnPropertyDescriptor,Rc=(t,e,n,r)=>{for(var i=r>1?void 0:r?x_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(i=(r?c(e,n,i):c(i))||i);return r&&i&&w_(e,n,i),i};class Us{constructor(e,n){this.maxStepLength=50,this.stepCursor=-1,this.stepList=[],this.localStore=e,Os(this),typeof n=="number"&&(this.maxStepLength=n)}collectLayerMap({nodeMap:e}){const n={};return Object.keys(e).forEach(r=>{var u;if((u=e[r].children)!=null&&u.$value){const c=ff(this.localStore,r);c&&c.children.forEach(l=>{l.nodeType!=="CANVAS"&&(n[l.id]=l)})}}),n}undo(){var e,n;if(this.canUndo){const r=this.stepList[this.stepCursor];this.restoreSelectionInfo(r,r.getOldState().selectionInfo);const i=this.collectLayerMap({nodeMap:r.oldState.nodeMap});Object.keys(r.oldState.nodeMap).forEach(u=>{const c=ff(this.localStore,u),l=this.localStore.getFigma();c?dg({localStore:this.localStore,fileData:l==null?void 0:l.context.fileData,layer:c,data:r.oldState.nodeMap[u],layerMap:i}):console.log("Node may already be deleted")}),(n=(e=this.localStore.props).doAction)==null||n.call(e,r.getOldAction()),this.stepCursor-=1}}redo(){var e,n;if(this.canRedo){const r=this.stepList[this.stepCursor+1];if(r){this.restoreSelectionInfo(r,r.getNewState().selectionInfo);const i=this.collectLayerMap({nodeMap:r.oldState.nodeMap});Object.keys(r.newState.nodeMap).forEach(u=>{const c=ff(this.localStore,u),l=this.localStore.getFigma();c&&dg({localStore:this.localStore,fileData:l==null?void 0:l.context.fileData,layer:c,data:r.newState.nodeMap[u],layerMap:i})}),(n=(e=this.localStore.props).doAction)==null||n.call(e,r.getNewAction()),this.stepCursor+=1}}}restoreSelectionInfo(e,n){n?Object.assign(this.localStore.selectionInfo,ze.cloneDeep(n)):ir(this.localStore,{type:"clear"})}record(){this.localStore.currentStep!==null&&(this.stepCursor<this.stepList.length-1&&(this.stepList=this.stepList.slice(0,this.stepCursor+1)),this.localStore.currentStep.getNewState().selectionInfo=ze.cloneDeep(this.localStore.selectionInfo),this.stepList.push(this.localStore.currentStep),this.stepCursor+=1,this.stepList.length>this.maxStepLength&&(this.stepList.shift(),this.stepCursor-=1),console.log(this.localStore.currentStep),this.localStore.currentStep=null)}resetHistory(){this.stepList=[],this.stepCursor=-1}get canUndo(){return this.stepCursor>=0}get canRedo(){return this.stepCursor<this.stepList.length-1}}Rc([We],Us.prototype,"stepCursor",2);Rc([We],Us.prototype,"stepList",2);Rc([mt],Us.prototype,"canUndo",1);Rc([mt],Us.prototype,"canRedo",1);function dg({localStore:t,fileData:e,layer:n,data:r,layerMap:i}){const u=n;Object.keys(r).forEach(c=>{var h,p;const l=c;if(l==="life"){const v=r[l];if(v!=null&&v.$value){if(u.nodeType==="DOCUMENT")v.$value.type==="replacePage"&&(u.children[0]=ze.cloneDeep(v.$value.newPage));else if(v.$value.type==="createChildren"){const{newLayers:x,isGrouping:E}=v.$value;if(E&&Object.keys(x).length!==1)throw new Error("Fault");if(e)ze.forEach(x,_=>{const L=ze.cloneDeep(_);let k=[];E&&(k=L.children.map(N=>N.id),L.children=[]),FA(e,L),E&&(L.children=lf(t,k),L.children.forEach(N=>{N.parentId=L.id}))}),n.children=lf(t,v.$value.children);else{if(n.nodeType==="DOCUMENT")throw new Error;const _=ze.keyBy(n.children,"id");n.children=v.$value.children.map(L=>{if(_[L])return _[L];if(x[L])return ze.cloneDeep(x[L]);throw new Error(`child layer ${L} not found`)})}}else if(v.$value.type==="delete"){const{deletedNodes:x,children:E,isGrouping:_}=v.$value;if(_&&Object.keys(x).length!==1)throw new Error("Fault");if(e)ze.forEach(x,(L,k)=>{const N=$r(e,k);N&&(_&&(N.children=[]),U0(e,N))}),n.children=lf(t,v.$value.children);else{if(n.nodeType==="DOCUMENT")throw new Error;n.children.forEach(k=>{i[k.id]=k,x[k.id]&&k.nodeType==="GROUP"&&k.children.forEach(N=>{i[N.id]=N})});const L=[];E.forEach(k=>{i[k]&&L.push(i[k])}),n.children=L}n.children.forEach(L=>{L.parentId=n.id})}}}else if(l==="children")(h=r.children)!=null&&h.$value&&(n.children=r.children.$value.map(v=>{const x=t.getLayer(v);if(x)return x;if(i[v])return i[v];throw new Error("Layer does not exist")}));else{const v=r[l];typeof((p=r[l])==null?void 0:p.$value)<"u"?n[l]=v==null?void 0:v.$value:n[l]=void 0}})}var b_=Object.defineProperty,S_=Object.getOwnPropertyDescriptor,Ie=(t,e,n,r)=>{for(var i=r>1?void 0:r?S_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(i=(r?c(e,n,i):c(i))||i);return r&&i&&b_(e,n,i),i};class ke{constructor({getNormalLayerList:e,props:n}){this.history=new Us(this),this.currentStep=null,this.getSelectedLayerIdList=()=>this.selectionInfo.selectedLayerIdList,this.getFigma=()=>null,this.libra=null,this.interval=null,this.isFullyFunctional=!0,this.eraserPathCanvas=null,this.cursor="",this.currentFontList=[],this.computed=v_(this),this.currentTool="MoveTool",this.currentStatus="",this.currentTime=0,this.timelineInterval=null,this.workspaceState=_A(),this.workspaceExists=!0,this.workspaceElement=null,this.layersShimmering=!1,this.controlKeyUnderPress=!1,this.layerWithMenuId="",this.layerUnderDraggingId="",this.layerUnderCropping=null,this.layersCanBeScaled=!0,this.layerListInClipboard=[],this.editingText=!1,this.advancedTextEditor={initialSelectionIndex:0,inputText:{compositionText:"",start:0},inputElement:null,inputMode:"single"},this.editingVector=null,this.vectorEditor=null,this.pointerDownX=0,this.pointerDownY=0,this.pointerDownOnRightSide=!1,this.pointerMoved=!1,this.pointerX=0,this.pointerY=0,this.pointerCurrentAngle=0,this.pointerAppliedAngle=0,this.pointerDownOnLayerId="",this.pointerMap={},this.pointerTarget$$=null,this.bunchRectangleRotationFixed=!1,this.pointerRayLengthInPage=0,this.appliedPointX=0,this.appliedPointY=0,this.bunchRectangleXFixed=!1,this.bunchRectangleYFixed=!1,this.interceptionInfo={total:0,currentPosition:0,prevID:"",nextID:"",list:[]},this.pointerDownScalePercent=100,this.resizeTransformOrigin={x:0,y:0},this.resizeOriginType="leftTop",this.resizeAndKeepRatio=!0,this.menuShow=!1,this.menuX=0,this.menuY=0,this.operatingOn={vertexIndex:0},this.bunchRectangleInMagneticField=!1,this.selectionRectStartPoint=null,this.selectionRectEndPoint={x:0,y:0},this.selectionRectExists=!1,this.layerResolvedFrameMap={},this.layerImageHasTransition=!1,this.overlappedLayerIdMap={},this.helperLineList=[],this.helperRectList=[],this.textLayerOutOfPage=!1,this.currentToolsContainer=null,this.filterState={candidateFilterId:"",candidateFilterGroupName:"",candidateFilterTypeId:"",candidateFilterInfo:null,filterPercent:0,filterSucceed:!1},this.state={eraserVisualDiam:50,eraserShadowBlurPercent:0,eraserPathColor:"rgba(253, 93, 125)",lastSwappedLayerId:""},this.options={renderer:"dom",safePadding:30,hasBasicOverlays:!0,hasGridPanels:!1,hasActiveOverlay:!0,hasLayerRotator:!0,hasLayerShortBars:!0,showOverlays:!0,canScalePage:!0,pageMaxScale:4,pageMinScale:.15,thumbnailMaxWidth:88,thumbnailMaxHeight:122,layerOutlineColor:"#80A3FF",LAYER_MINIMUN_SIZE:20,strokePathOverflow:"hidden",applyMagneticEffect:!0,helperRectColor:"purple",helperLineColor:"#a569bd",useTextEditor:"QUILL_EDITOR",hasTimeline:!1,ignoreRootFrames:!1,enableSymbolAndInstance:!0,enableEnterAndLeaveRoom:!1,canResizeLayerFrameWhenCroppingImage:!1},this.shortcutMap={"Meta + c":()=>{},"Meta + x":()=>{},"Meta + v":()=>{},"Meta + g":()=>{},"Meta + Z":()=>{},"Shift + Meta + Z":()=>{},"Shift + Meta + g":()=>{},"Alt + Meta + ArrowDown":()=>{},"Alt + Meta + ArrowUp":()=>{},"Shift + Meta + ArrowDown":()=>{},"Shift + Meta + ArrowUp":()=>{},Escape:()=>{},Backspace:()=>{},Delete:()=>{}},this.lastClickedAt=0,this.sessionID=0,this.localID=0,this.renderCount=0,this.focusedOverlay="",this.getNormalLayerList=e,this.props=n,Os(this),Gu(()=>this.getSelectedLayerIdList().join("--")+this.selectionInfo.selectedLeafLayerId,()=>{var r;this.editingText=!1,((r=this.selectedSingleLayer)==null?void 0:r.nodeType)==="vector"||(this.editingVector=null),dE(this)}),Gu(()=>this.currentStatus,(r,i)=>{r==="playingTimeline"?f_(this):i==="playingTimeline"&&h_(this)}),Gu(()=>this.editingText,()=>{this.editingText===!1&&this.textLayerOutOfPage===!0&&(this.workspaceExists=!1,setTimeout(()=>{this.workspaceExists=!0},0),this.textLayerOutOfPage=!1)}),Gu(()=>this.usedFontMap,()=>{this.currentFontList=[]})}getLayer(e){const n=this.getFigma();if(n)return n.layerMap[e]?n.layerMap[e]:null;if(this.normalLayerFlatMap[e])return this.normalLayerFlatMap[e];const r=this.props.getPanelList().find(i=>i.id===e);return r||null}getPageScale(){return this.workspaceState.pageScale}get figma(){return this.getFigma()}get isMobile(){return typeof window<"u"&&window.ontouchstart!==void 0}setCursor(e){this.cursor=e}get timelineMax(){let e=0;return this.getNormalLayerList().forEach(n=>{n.timeline&&n.timeline.end>e&&(e=n.timeline.end)}),e}get isUpdatingLayer(){return this.currentStatus==="movingLayers"||this.currentStatus==="rotatingLayers"||this.currentStatus==="resizingLayersByCorner"||this.currentStatus==="resizingLayersByBorder"}get isCroppingBackground(){const e=this.props.getBackgroundLayer(),{layerUnderCropping:n}=this;return!!(e&&n&&n.id===e.id)}get usedFontMap(){const e={};function n(i){i.forEach(u=>{u.nodeType==="TEXT"&&u.fontName.fullname&&(e[u.fontName.fullname]=!0),n(u.children||[])})}const r=this.getNormalLayerList();return n(r),e}get currentCursor(){var e,n,r,i,u;if(this.currentStatus==="draggingGridLine"||(e=this.props.grid)!=null&&e.getCurrentActiveLine()){if(((r=(n=this.props.grid)==null?void 0:n.getCurrentActiveLine())==null?void 0:r.type)==="horizontal")return"ns-resize";if(((u=(i=this.props.grid)==null?void 0:i.getCurrentActiveLine())==null?void 0:u.type)==="vertical")return"ew-resize"}return this.currentStatus==="rotatingLayers"?"alias":this.currentStatus==="movingLayers"?"move":this.cursor?this.cursor:"auto"}get segmentCandidate(){var e,n;return((n=(e=this.editingVector)==null?void 0:e.currentOperation)==null?void 0:n.type)==="SegmentCandidate"?this.editingVector.currentOperation:null}get editingGroupLayer(){return!!this.activeGroupLayerId}get selectionInfo(){return this.props.getSelectionInfo()}get activeGroupLayerId(){return this.selectionInfo.activeGroupLayerId}get activeLayerInGroupId(){return this.selectionInfo.activeLayerInGroupId}get selectedLeafLayerId(){return this.selectionInfo.selectedLeafLayerId}get activeGroupLayer(){const e=this.rootNormalLayerMap[this.activeGroupLayerId];return e&&e.nodeType==="GROUP"?e:null}get pointerRayLengthInWindow(){return this.pointerRayLengthInPage*this.getPageScale()}get scalePercentDisplayed(){const e=this.imageLayerUnderEditing;if(e&&e.image){if(e.image.imageScaleMode==="FILL"){const i=T0({frame:e,image:e.image}),u=e.image.width/e.image.naturalWidth/i*100;return Math.round(u)}const n=J2(e),r=e.image.width/n*100;return Math.round(r)}return 100}get bunchRectangle(){return this.selectionInfo.bunchRectangle}get selectionStatus(){if(this.selectedNormalLayerList.length>1)return"multipleLayers";if(this.selectedPanel)return"singlePanel";if(this.selectedSingleLayer){const e=this.selectedSingleLayer;if(e.nodeType==="GROUP")return"singleGroupLayer";if(e.nodeType==="IMAGE")return"singleImageLayer";if(e.nodeType==="TEXT")return"singleTextLayer";if(e.nodeType==="FRAME")return"singleFrameLayer";if(e.nodeType==="SECTION")return"singleSectionLayer"}return""}get leafNormalLayerList(){const e=[];function n(r){r.forEach(i=>{i.nodeType!=="GROUP"&&e.push(i),n(i.children)})}return n(this.getNormalLayerList()),e}get selectionRectangle(){const e={left:0,top:0,width:0,height:0};return this.selectionRectStartPoint&&(e.left=Math.min(this.selectionRectStartPoint.x,this.selectionRectEndPoint.x),e.top=Math.min(this.selectionRectStartPoint.y,this.selectionRectEndPoint.y),e.width=Math.abs(this.selectionRectEndPoint.x-this.selectionRectStartPoint.x),e.height=Math.abs(this.selectionRectEndPoint.y-this.selectionRectStartPoint.y)),e}get pointerCurrentPositionInPage(){return this.getPointInPage({pageX:this.pointerX,pageY:this.pointerY})}get bunchRectangleCenter(){return{x:this.bunchRectangle.left+this.bunchRectangle.width/2,y:this.bunchRectangle.top+this.bunchRectangle.height/2}}get rootNormalLayerMap(){return ze.keyBy(this.getNormalLayerList(),"id")}get normalLayerFlatMap(){var n;if(this.getFigma())return((n=this.getFigma())==null?void 0:n.layerMap)||{};const e={};return this.getNormalLayerList().forEach(r=>{this.processLayer(e,r)}),e}processLayer(e,n){e[n.id]=n,n.children.forEach(r=>{this.processLayer(e,r)})}get selectedLayerList(){return this.getSelectedLayerIdList().map(n=>this.getLayer(n)).filter(n=>n)}get selectedNormalLayerList(){const e=[];return e.push(...this.selectedLayerList),e}get selectedPanel(){const e=ze.keyBy(this.props.getPanelList(),"id"),n=this.getSelectedLayerIdList().filter(r=>e[r]);return n[0]?e[n[0]]:null}get selectedSingleLayer(){return this.selectedLeafLayerId&&this.normalLayerFlatMap[this.selectedLeafLayerId]?this.normalLayerFlatMap[this.selectedLeafLayerId]:this.selectedNormalLayerList.length===1&&this.selectedNormalLayerList[0]?this.selectedNormalLayerList[0]:null}get selectedSingleImageLayer(){return this.selectedSingleLayer&&this.selectedSingleLayer.nodeType==="IMAGE"?this.selectedSingleLayer:null}get textLayerUnderEditing(){return this.selectedSingleLayer&&this.selectedSingleLayer.nodeType==="TEXT"&&this.editingText?this.selectedSingleLayer:null}get textLayerMap(){const e={};return Object.keys(this.normalLayerFlatMap).forEach(n=>{const r=this.normalLayerFlatMap[n];r&&r.nodeType==="TEXT"&&(e[n]=r)}),e}get imageLayerUnderEditing(){var e;if(this.layerUnderCropping)return this.layerUnderCropping;if(((e=this.selectedSingleLayer)==null?void 0:e.nodeType)==="ROUNDED_RECTANGLE")return this.selectedSingleLayer;if(this.selectedPanel)return this.selectedPanel;if(this.selectedSingleImageLayer)return this.selectedSingleImageLayer;if(this.selectedSingleLayer&&this.activeLayerInGroupId){const n=this.normalLayerFlatMap[this.activeLayerInGroupId];return n.nodeType==="IMAGE"?n:null}return null}setCurrentToolsContainer(e){this.currentToolsContainer=e}getPointInContainer(e){const n=ni(this),r=Q0(this);if(n&&r){const i=hm(this,e),{absoluteTransform:u}=zi(n.fileData,{type:"layer",layerId:r.id});return Vo(u,i)}return this.getPointInPage(e)}getPointInPage(e){const n=this.currentToolsContainer;if(n){const r=n.getBoundingClientRect();return{x:(e.pageX-r.left)/this.getPageScale(),y:(e.pageY-r.top)/this.getPageScale()}}return console.warn("Failed to find tools container!"),{x:0,y:0}}setOptions(e){Object.assign(this.options,e)}generateGUID(){const e={sessionID:this.sessionID,localID:this.localID};return this.localID+=1,e}}Ie([We],ke.prototype,"getNormalLayerList",2);Ie([We],ke.prototype,"getFigma",2);Ie([mt],ke.prototype,"figma",1);Ie([We],ke.prototype,"props",2);Ie([mt],ke.prototype,"isMobile",1);Ie([We],ke.prototype,"cursor",2);Ie([We],ke.prototype,"currentFontList",2);Ie([We],ke.prototype,"currentTool",2);Ie([We],ke.prototype,"currentStatus",2);Ie([We],ke.prototype,"currentTime",2);Ie([mt],ke.prototype,"timelineMax",1);Ie([We],ke.prototype,"workspaceState",2);Ie([We],ke.prototype,"workspaceExists",2);Ie([mt],ke.prototype,"isUpdatingLayer",1);Ie([mt],ke.prototype,"isCroppingBackground",1);Ie([We],ke.prototype,"layersShimmering",2);Ie([mt],ke.prototype,"usedFontMap",1);Ie([mt],ke.prototype,"currentCursor",1);Ie([We],ke.prototype,"controlKeyUnderPress",2);Ie([We],ke.prototype,"layerWithMenuId",2);Ie([We],ke.prototype,"layerUnderDraggingId",2);Ie([We],ke.prototype,"layerUnderCropping",2);Ie([We],ke.prototype,"layersCanBeScaled",2);Ie([We],ke.prototype,"layerListInClipboard",2);Ie([We],ke.prototype,"editingText",2);Ie([We],ke.prototype,"editingVector",2);Ie([mt],ke.prototype,"segmentCandidate",1);Ie([mt],ke.prototype,"editingGroupLayer",1);Ie([mt],ke.prototype,"selectionInfo",1);Ie([mt],ke.prototype,"activeGroupLayerId",1);Ie([mt],ke.prototype,"activeLayerInGroupId",1);Ie([mt],ke.prototype,"selectedLeafLayerId",1);Ie([mt],ke.prototype,"activeGroupLayer",1);Ie([We],ke.prototype,"pointerDownX",2);Ie([We],ke.prototype,"pointerDownY",2);Ie([We],ke.prototype,"pointerDownOnRightSide",2);Ie([We],ke.prototype,"pointerMoved",2);Ie([We],ke.prototype,"pointerX",2);Ie([We],ke.prototype,"pointerY",2);Ie([We],ke.prototype,"pointerCurrentAngle",2);Ie([We],ke.prototype,"pointerAppliedAngle",2);Ie([We],ke.prototype,"bunchRectangleRotationFixed",2);Ie([We],ke.prototype,"pointerRayLengthInPage",2);Ie([We],ke.prototype,"appliedPointX",2);Ie([We],ke.prototype,"appliedPointY",2);Ie([We],ke.prototype,"bunchRectangleXFixed",2);Ie([We],ke.prototype,"bunchRectangleYFixed",2);Ie([We],ke.prototype,"interceptionInfo",2);Ie([mt],ke.prototype,"pointerRayLengthInWindow",1);Ie([We],ke.prototype,"pointerDownScalePercent",2);Ie([We],ke.prototype,"resizeTransformOrigin",2);Ie([We],ke.prototype,"resizeOriginType",2);Ie([We],ke.prototype,"resizeAndKeepRatio",2);Ie([mt],ke.prototype,"scalePercentDisplayed",1);Ie([We],ke.prototype,"menuShow",2);Ie([We],ke.prototype,"menuX",2);Ie([We],ke.prototype,"menuY",2);Ie([mt],ke.prototype,"bunchRectangle",1);Ie([We],ke.prototype,"bunchRectangleInMagneticField",2);Ie([We],ke.prototype,"selectionRectStartPoint",2);Ie([We],ke.prototype,"selectionRectEndPoint",2);Ie([We],ke.prototype,"selectionRectExists",2);Ie([mt],ke.prototype,"selectionStatus",1);Ie([We],ke.prototype,"layerResolvedFrameMap",2);Ie([We],ke.prototype,"layerImageHasTransition",2);Ie([We],ke.prototype,"overlappedLayerIdMap",2);Ie([We],ke.prototype,"helperLineList",2);Ie([We],ke.prototype,"helperRectList",2);Ie([mt],ke.prototype,"leafNormalLayerList",1);Ie([mt],ke.prototype,"selectionRectangle",1);Ie([mt],ke.prototype,"pointerCurrentPositionInPage",1);Ie([mt],ke.prototype,"bunchRectangleCenter",1);Ie([mt],ke.prototype,"rootNormalLayerMap",1);Ie([mt],ke.prototype,"normalLayerFlatMap",1);Ie([mt],ke.prototype,"selectedLayerList",1);Ie([mt],ke.prototype,"selectedNormalLayerList",1);Ie([mt],ke.prototype,"selectedPanel",1);Ie([mt],ke.prototype,"selectedSingleLayer",1);Ie([mt],ke.prototype,"selectedSingleImageLayer",1);Ie([mt],ke.prototype,"textLayerUnderEditing",1);Ie([mt],ke.prototype,"textLayerMap",1);Ie([We],ke.prototype,"textLayerOutOfPage",2);Ie([mt],ke.prototype,"imageLayerUnderEditing",1);Ie([We],ke.prototype,"filterState",2);Ie([We],ke.prototype,"state",2);Ie([We],ke.prototype,"options",2);Ie([We],ke.prototype,"renderCount",2);Ie([We],ke.prototype,"focusedOverlay",2);function E_({Raptor:t,image:e}){const r=t.RuntimeEffect.Make(`uniform shader image;
    half4 main(float2 coord) {
      // coord.x += sin(coord.y / 3) * 4;  // Displace each row by up to 4 pixels
      return image.eval(coord).bgra;
    }`);r==null||r.deleteLater();const i=e.makeShaderOptions(t.TileMode.Decal,t.TileMode.Decal,t.FilterMode.Linear,t.MipmapMode.None);i.deleteLater();const u=r==null?void 0:r.makeShaderWithChildren([],[i]);return u==null||u.deleteLater(),u}class Rf{constructor({path:e,commands:n,type:r,styleID:i}){this.styleID=0,this.path=null,this.commands=[],this.scheduledForDelete=!1,this.path=e,this.commands=n,this.type=r,this.styleID=i}getPath(){return this.path}getVisualPath({Raptor:e,scale:n}){if(this.path){const r=this.path.copy();return r.deleteLater(),r.transform(e.Matrix.scaled(n,n)),r}return null}getCommands(){return this.commands}deleteLater(){var e;this.scheduledForDelete===!1&&(this.scheduledForDelete=!0,(e=this.path)==null||e.deleteLater())}}function A_({Raptor:t,strokeJoin:e}){return e==="BEVEL"?t.StrokeJoin.Bevel:e==="MITER"?t.StrokeJoin.Miter:t.StrokeJoin.Round}function C_({strokeAlign:t,strokeWeight:e,Raptor:n}){const r={strokeWidth:e,blendMode:null};return t==="CENTER"||(t==="INSIDE"?(r.strokeWidth=e*2,r.blendMode=n.BlendMode.SrcATop):t==="OUTSIDE"&&(r.strokeWidth=e*2,r.blendMode=n.BlendMode.DstATop)),r}function Yd({Raptor:t,commands:e}){const n=e.map(i=>i==="M"?t.MOVE_VERB:i==="C"?t.CUBIC_VERB:i==="L"?t.LINE_VERB:i==="Z"?t.CLOSE_VERB:i);return t.Path.MakeFromCmds(n)}function __({width:t,height:e,cornerRadius:n,Raptor:r}){const i=Aa({width:t,height:e,cornerRadius:n});return Yd({Raptor:r,commands:i})}function Aa({width:t,height:e,cornerRadius:n,frame:r}){{let i=function(v){p.push(...v)};const u=(r==null?void 0:r.rectangleTopLeftCornerRadius)||n||0,c=(r==null?void 0:r.rectangleTopRightCornerRadius)||n||0,l=(r==null?void 0:r.rectangleBottomRightCornerRadius)||n||0,h=(r==null?void 0:r.rectangleBottomLeftCornerRadius)||n||0,p=[];if(u>0){const v=.44777199999999995*u;i(["M",0,u]),i(["C",0,v,v,0,u,0])}else i(["M",0,0]);if(c>0){const v=.44777199999999995*c;i(["L",t-c,0]),i(["C",t-v,0,t,v,t,c])}else i(["L",t,0]);if(l>0){const v=.44777199999999995*l;i(["L",t,e-l]),i(["C",t,e-v,t-v,e,t-l,e])}else i(["L",t,e]);if(h>0){const v=.44777199999999995*h;i(["L",h,e]),i(["C",v,e,0,e-v,0,e-h])}else i(["L",0,e]);return i(["Z"]),p}}function Um({Raptor:t,layer:e,scale:n}){var v,x,E,_,L,k,N,z;const{width:r,height:i,cornerRadius:u}=e;let c=Aa({width:r,height:i,cornerRadius:u,frame:e});if(((v=e.smartShape)==null?void 0:v.type)==="Line")c=["M",0,0,"L",r,0];else if(((x=e.smartShape)==null?void 0:x.type)==="Parallelogram")c=["M",i/3,0,"L",r,0,"L",r-i/3,i,"L",0,i,"Z"];else if(((E=e.smartShape)==null?void 0:E.type)==="Pill")c=Aa({width:r,height:i,cornerRadius:i/2,frame:e});else if(((_=e.smartShape)==null?void 0:_.type)==="Ribbon")c=["M",0,0,"L",r,0,"L",r-i/4,i/2,"L",r,i,"L",0,i,"L",i/4,i/2,"Z"];else if(((L=e.smartShape)==null?void 0:L.type)==="SimplePath"){c=[];const{vertexList:Q}=e.smartShape;Q.forEach((W,ae)=>{var F,Y,V,oe;const le=ae-1>=0?Q[ae-1]:Q[Q.length-1],te=W,ge=te.x/100*e.width,Ae=te.y/100*e.height;if(ae===0)c.push("M",ge,Ae);else if(le.startControl||te.endControl){const ue=(le.x+(((F=le.startControl)==null?void 0:F.dx)||0))/100*e.width,ee=(le.y+(((Y=le.startControl)==null?void 0:Y.dy)||0))/100*e.height,Se=(te.x+(((V=te.endControl)==null?void 0:V.dx)||0))/100*e.width,j=(te.y+(((oe=te.endControl)==null?void 0:oe.dy)||0))/100*e.height;c.push("C",ue,ee,Se,j,ge,Ae)}else c.push("L",ge,Ae)}),c.push("Z")}let l=null;if(((k=e.smartShape)==null?void 0:k.type)==="SVGPath")e.smartShape.pathString&&(l=t.Path.MakeFromSVGString(e.smartShape.pathString),l==null||l.deleteLater()),l==null||l.transform(t.Matrix.scaled(e.width/e.smartShape.width,e.height/e.smartShape.height));else if(((N=e.smartShape)==null?void 0:N.type)==="Ellipse")l=new t.Path,l.deleteLater(),l.addOval(t.XYWHRect(0,0,r,i));else if(((z=e.smartShape)==null?void 0:z.type)==="Check"){l=new t.Path,l.deleteLater();const Q=Math.ceil(r/40),W=Math.ceil(i/40);for(let le=0;le<Q;le+=1)for(let te=0;te<W;te+=1)le%2===te%2&&l.addRect(t.XYWHRect(le*40,te*40,40,40));const ae=new t.Path;ae.deleteLater(),ae.addRect(t.XYWHRect(0,0,r,i)),l.op(ae,t.ClipOp.Intersect)}else l=Yd({Raptor:t,commands:c}),l==null||l.deleteLater();const h=C_({strokeAlign:e.strokeAlign,strokeWeight:e.strokeWeight,Raptor:t}),p=l==null?void 0:l.copy().stroke({width:h.strokeWidth,join:A_({strokeJoin:e.strokeJoin,Raptor:t})});return p==null||p.deleteLater(),{fillScaledPath:(l==null?void 0:l.transform(t.Matrix.scaled(n,n)))||null,strokeScaledPath:(p==null?void 0:p.transform(t.Matrix.scaled(n,n)))||null,strokeInfo:h}}function Wm({Raptor:t,commands:e}){const n=Yd({Raptor:t,commands:e});return new Rf({path:n,commands:e,type:"CLOSED",styleID:0})}function T_({Raptor:t,localStore:e,layer:n,instanceChain:r}){const i=Zt({localStore:e,layer:n,instanceChain:r});let u=0,{width:c,height:l,cornerRadius:h}=i;i.strokeAlign==="INSIDE"&&(c-=i.strokeWeight,l-=i.strokeWeight,u=i.strokeWeight/2,h>0&&(h-=i.strokeWeight/2)),i.strokeAlign==="OUTSIDE"&&(c+=i.strokeWeight,l+=i.strokeWeight,u-=i.strokeWeight/2,h>0&&(h+=i.strokeWeight/2));let p=Aa({width:c,height:l,cornerRadius:h});p=p.map(x=>typeof x=="number"?x+u:x);const v=Wm({Raptor:t,commands:p});return v==null||v.deleteLater(),[v]}function L_({Raptor:t,localStore:e,layer:n,instanceChain:r}){const i=Zt({localStore:e,layer:n,instanceChain:r});let u=[];const{width:c,height:l}=i;if(n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="ROUNDED_RECTANGLE"){const{cornerRadius:p}=i;p>0&&(u=Aa({width:c,height:l,cornerRadius:p}))}return u.length===0&&(u=Aa({width:c,height:l,cornerRadius:0})),[Wm({Raptor:t,commands:u})]}function P_({vectorData:t,Raptor:e}){const{vertices:n,segments:r,regions:i}=t.vectorNetwork,u=[];function c(l,h){let p=-1;l.forEach((v,x)=>{const E=n[v.start.vertex],_=n[v.end.vertex];v.start.vertex!==p&&h.moveTo(E.x,E.y),v.start.dx===0&&v.start.dy===0&&v.end.dx===0&&v.end.dy===0?h.lineTo(_.x,_.y):h.cubicTo(v.start.dx+E.x,v.start.dy+E.y,v.end.dx+_.x,v.end.dy+_.y,_.x,_.y),p=v.end.vertex})}if(i.length>0&&i.forEach(l=>{const h=new e.Path;u.push({type:"region",path:h}),l.loops.forEach(p=>{l.windingRule==="EVENODD"&&h.setFillType(e.FillType.EvenOdd),p.segments.forEach(v=>{}),c(p.segments.map(v=>r[v]),h),h.close()}),h.close()}),u.length===0){const l=new e.Path;u.push({type:"line",path:l}),c(r,l)}return u}function Of({localStore:t,fileData:e,layer:n,instanceChain:r,Raptor:i}){const u=Zt({localStore:t,layer:n,instanceChain:r}),c={data:{nodeType:u.nodeType,left:u.left,top:u.top,rotate:u.rotate,width:u.width,height:u.height,scaleX:1,scaleY:1,strokeAlign:u.strokeAlign,strokeWeight:u.strokeWeight,dashPattern:[...u.dashPattern]},fillGeometryList:[],strokeGeometryList:[],totalGeometry:null,children:[]};if(n.nodeType==="GROUP"||n.nodeType==="TEXT")return c;if(n.nodeType==="vector"){const p=t.getFigma();if(p){const v=aE(p.context.fileData,n);if(!v)throw new Error;const x=P_({vectorData:n.vectorData,Raptor:i});v.pathBoundsList=x.map(_=>_.path.computeTightBounds());const{vectorData:E}=u;E&&(c.data.scaleX=u.width/E.normalizedSize.x,c.data.scaleY=u.height/E.normalizedSize.y),x.forEach(_=>{if(_.type==="region"){const L=new Rf({path:_.path,commands:[],type:"CLOSED",styleID:0});L.deleteLater(),c.fillGeometryList.push(L),c.strokeGeometryList.push(L)}else if(_.type==="line"){const L=new Rf({path:_.path,commands:[],type:"LINE",styleID:0});L.deleteLater(),c.strokeGeometryList.push(L)}})}return c}const l=L_({Raptor:i,localStore:t,layer:n,instanceChain:r});l.forEach(p=>{p.deleteLater()});const h=T_({Raptor:i,localStore:t,layer:n,instanceChain:r});return u.frameMaskDisabled&&n.children&&n.children.forEach(p=>{const v=Gn(r,p),x=Of({localStore:t,layer:p,instanceChain:v,Raptor:i,fileData:e});c.children.push(x)}),c.fillGeometryList=l,c.strokeGeometryList=h,c}function hg({info:t,styleID:e}){var r;const n=[];if(e===0)n.push(...t.fillPaints||[]);else if(t.nodeType==="vector"){const i=(r=t.vectorData)==null?void 0:r.styleOverrideTable.find(u=>u.styleID===e);i&&n.push(...i.fillPaints)}return{fillPaints:n}}function M_({info:t,styleID:e}){const n=[];return e===0&&n.push(...t.strokePaints||[]),{strokePaints:n}}function pg({Raptor:t,paint:e,path:n}){const r=new t.Paint;if(r.deleteLater(),r.setAntiAlias(!0),e.type==="SOLID"&&(r.setAlphaf(e.opacity),r.setColor(hn(e.color).toFigmaArray())),e.type==="GRADIENT_LINEAR"&&(r.setStyle(t.PaintStyle.Fill),r.setAlphaf(e.opacity),n)){const i=n==null?void 0:n.computeTightBounds(),u=im({paint:e,Raptor:t,leftTop:[i[0],i[1]],bottomRight:[i[2],i[3]]});r.setShader(u),r.setAntiAlias(!0)}return r}function I_({normalizedWidth:t,normalizedHeight:e,normalizedSpan:n,color:r,scale:i,Raptor:u,canvas:c}){const l=new u.Paint;l.deleteLater(),l.setColor(hn(r).toFigmaArray()),l.setAlphaf(.3),l.setStyle(u.PaintStyle.Stroke),l.setStrokeWidth(i),l.setAntiAlias(!0),c.save();let h=0,p=0;for(;h<=t;)c.drawLine(h*i,0,h*i,e*i,l),h+=n;for(;p<=e;)c.drawLine(0,p*i,t*i,p*i,l),p+=n;c.restore()}function wo({canvas:t,Raptor:e,fill:n,scale:r,scaledPath:i,paintStyle:u,layerINFO:c,blendMode:l}){if(!n.visible)return;if(n.type==="GRID"){const p=i.getBounds(),v=p[2]-p[0],x=p[3]-p[1];t.save(),t.clipPath(i,e.ClipOp.Intersect,!0),I_({normalizedWidth:v/r,normalizedHeight:x/r,normalizedSpan:50,scale:r,Raptor:e,canvas:t,color:"#ffffff"}),t.restore();return}let h=null;n.type==="SOLID"&&(h=pg({Raptor:e,paint:n,path:null})),n.type==="GRADIENT_LINEAR"&&(h=pg({Raptor:e,paint:n,path:i})),h&&(l&&h.setBlendMode(l),t.drawPath(i,h))}function gg({Raptor:t,fileData:e,canvas:n,layer:r,instanceChain:i,options:u,geometryInfo:c}){const l=Zt({localStore:e.localStore,layer:r,instanceChain:i});n.save(),r.nodeType==="vector"?c.fillGeometryList.forEach(h=>{const p=h.getPath();if(!p)return;const v=p.copy().transform(t.Matrix.scaled(r.width/r.vectorData.normalizedSize.x*e.scale,r.height/r.vectorData.normalizedSize.y*e.scale));v==null||v.deleteLater();const{fillPaints:x}=hg({info:l,styleID:h.styleID});x==null||x.forEach(E=>{if(E.type!=="SOLID"||E.visible===!1)return;n.saveLayer();const _=new t.Paint;_.deleteLater(),h.type==="CLOSED"&&(_.setStyle(t.PaintStyle.Fill),_.setColor([E.color.r,E.color.g,E.color.b,E.color.a]),_.setAlphaf(E.opacity),_.setAntiAlias(!0),n.drawPath(v,_)),n.restore()})}):c.fillGeometryList.forEach(h=>{const p=h.getPath();if(!p)return;const v=p.copy().transform(t.Matrix.scaled(e.scale,e.scale));v.deleteLater(),v&&(r.nodeType==="FRAME"||r.nodeType==="SYMBOL"||r.nodeType==="INSTANCE")&&(l.frameMaskDisabled||n.clipPath(v,t.ClipOp.Intersect,!0));const{fillPaints:x}=hg({info:l,styleID:h.styleID});x.forEach(E=>{if(E.type==="SOLID"&&E.visible)wo({canvas:n,Raptor:t,fill:E,scaledPath:v,scale:e.scale,layerINFO:l,blendMode:null,paintStyle:null});else if(E.type==="GRADIENT_LINEAR"&&E.visible)wo({Raptor:t,canvas:n,fill:E,scaledPath:v,scale:e.scale,layerINFO:l,blendMode:null,paintStyle:null});else if(E.type==="IMAGE"){u.snapshot&&(u.snapshot.contains.imageUrlMap[E.image.imageSource]=!0);const _=e.assetMap.getAsset(E.image.imageSource);if(_&&_.image){const L=new t.Paint;L.deleteLater(),L.setStyle(t.PaintStyle.Fill),L.setAntiAlias(!0),uc({canvas:n,layer:r,Raptor:t,scale:e.scale,img:_.image,imageInfo:E.image,paint:L})}}})}),n.restore()}function uc({canvas:t,layer:e,Raptor:n,scale:r,img:i,imageInfo:u,paint:c,applyShader:l}){if(t.save(),t.translate(r*(e.width/2),r*(e.height/2)),t.rotate(u.rotate,0,0),t.translate(u.imageX*r,u.imageY*r),c)if(u.opacity<1&&c.setAlphaf(u.opacity),r>0)if(e.nodeType,l){const h=E_({Raptor:n,image:i});if(h){t.saveLayer();const p=u.width/u.naturalWidth*r,v=u.height/u.naturalHeight*r;t.translate(-u.width/2*r,-u.height/2*r),t.scale(p,v);const x=new n.Paint;x.deleteLater(),x.setAntiAlias(!0),x.setShader(h),t.drawRect(n.XYWHRect(0,0,u.naturalWidth,u.naturalHeight),x),t.restore()}}else t.drawImageRectCubic(i,n.XYWHRect(0,0,i.width(),i.height()),n.XYWHRect(-u.width/2*r,-u.height/2*r,u.width*r,u.height*r),0,0,c);else c.setImageFilter(null),t.drawImageRect(i,n.LTRBRect(0,0,i.width(),i.height()),n.LTRBRect(r*(-u.width/2+u.imageX),r*(-u.height/2+u.imageY),r*(u.width/2+u.imageX),r*(u.height/2+u.imageY)),c);t.restore()}function k_({canvas:t,Raptor:e,fileData:n,layer:r,options:i}){if(t.save(),r.nodeType==="TEXT"){const{strokeList:u,shadowList:c,newParagraph:l,fillList:h}=Rd({Raptor:e,fileData:n,layer:r});r.textAutoResize==="WIDTH_AND_HEIGHT"&&(r.textAlignHorizontal==="CENTER"?t.translate(-If(r)*n.scale/2,0):r.textAlignHorizontal==="RIGHT"&&t.translate(-If(r)*n.scale,0)),l&&(c.forEach(v=>{const x=new e.Paint;x.deleteLater();const E=e.ImageFilter.MakeBlur(n.doScale(v.radius),n.doScale(v.radius),e.TileMode.Decal,null);E.deleteLater(),x.setImageFilter(E),t.saveLayer(x),t.drawParagraph(v.paragraph,n.doScale(v.offset.x),n.doScale(v.offset.y)),t.drawParagraph(v.strokedParagraph,n.doScale(v.offset.x),n.doScale(v.offset.y)),t.restore()}),t.saveLayer(),h.forEach(v=>{v.paragraph&&t.drawParagraph(v.paragraph,0,0)}),u.forEach(v=>{v.paragraph&&t.drawParagraph(v.paragraph,0,0)}),t.restore())}t.restore()}function R_({fileData:t,Raptor:e,geometryInfo:n,canvas:r,layer:i,layerInfo:u}){n.strokeGeometryList.forEach(c=>{const l=c.getPath();if(!l)return;const{strokePaints:h}=M_({info:u,styleID:c.styleID}),p=l.copy().transform(e.Matrix.scaled(i.width/i.vectorData.normalizedSize.x*t.scale,i.height/i.vectorData.normalizedSize.y*t.scale));p==null||p.deleteLater(),h.forEach(v=>{var E;if(v.visible===!1)return;const x=new e.Paint;if(x.deleteLater(),x.setAntiAlias(!0),x.setColor(hn({type:"FIGMA",...v.color}).toFigmaArray()),x.setAlphaf(v.opacity),x.setStyle(e.PaintStyle.Stroke),n.data.dashPattern[0]>0||n.data.dashPattern[1]>0){const _=e.PathEffect.MakeDash([t.doScale(n.data.dashPattern[0]),t.doScale(n.data.dashPattern[1])]);_.deleteLater(),x.setPathEffect(_)}if(c.type==="CLOSED"){if(i.strokeAlign==="CENTER"){x.setStrokeWidth(t.doScale(i.strokeWeight)),r.drawPath(p,x);return}if(!((E=i.fillPaints)==null?void 0:E[0]))return;r.saveLayer();const L=new e.Paint;L.deleteLater(),L.setColor(e.BLACK),L.setAntiAlias(!0),r.drawPath(p,L);const k=new e.Paint;k.deleteLater(),i.strokeAlign==="INSIDE"?k.setBlendMode(e.BlendMode.SrcIn):i.strokeAlign==="OUTSIDE"&&k.setBlendMode(e.BlendMode.SrcOut),r.saveLayer(k),x.setStrokeWidth(t.doScale(i.strokeWeight*2)),r.drawPath(p,x),r.restore(),r.restore()}else c.type==="LINE"&&(x.setStrokeJoin(Mf({Raptor:e,value:i.strokeJoin})),i.strokeAlign==="CENTER"&&(x.setStrokeWidth(t.doScale(i.strokeWeight)),r.drawPath(p,x)))})})}function O_({canvas:t,Raptor:e,fileData:n,geometryInfo:r,effect:i}){if(i.visible===!1)return;const u=new e.Paint;u.deleteLater();const c=e.ImageFilter.MakeBlur(n.doScale(i.radius/2),n.doScale(i.radius/2),e.TileMode.Decal,null);c.deleteLater(),u.setImageFilter(c),t.saveLayer(u);const l=new e.Paint;l.deleteLater(),l.setAntiAlias(!0),l.setColor(hn({type:"FIGMA",...i.color}).toFigmaArray()),Hm({canvas:t,Raptor:e,fileData:n,geometryInfo:r,shadowPaint:l,effect:i}),t.restore()}function Hm({canvas:t,Raptor:e,fileData:n,geometryInfo:r,shadowPaint:i,effect:u}){r.fillGeometryList.forEach(c=>{const l=c.getVisualPath({Raptor:e,scale:n.scale});l&&t.drawPath(l,i)}),r.strokeGeometryList.forEach(c=>{const l=c.getVisualPath({Raptor:e,scale:n.scale});if(l){l.transform(e.Matrix.scaled(r.data.scaleX,r.data.scaleY));const h=new e.Paint;h.deleteLater(),h.setAntiAlias(!0),h.setStyle(e.PaintStyle.Stroke),h.setColor(hn({type:"FIGMA",...u.color}).toFigmaArray());const{dashPattern:p}=r.data;if(p[0]>0||p[1]>0){const L=e.PathEffect.MakeDash([n.doScale(p[0]),n.doScale(p[1])]);L.deleteLater(),h.setPathEffect(L)}const{strokeWeight:v,strokeAlign:x,nodeType:E}=r.data;let _=v;E==="vector"&&(x==="INSIDE"?_=0:x==="CENTER"?_=v:x==="OUTSIDE"&&(_*=2)),h.setStrokeWidth(n.doScale(_)),t.drawPath(l,h)}}),r.children.forEach(c=>{t.translate(n.doScale(c.data.left),n.doScale(c.data.top)),t.rotate(c.data.rotate,n.doScale(c.data.width/2),n.doScale(c.data.height/2)),Hm({canvas:t,fileData:n,Raptor:e,geometryInfo:c,shadowPaint:i,effect:u})})}function F_({Raptor:t,fileData:e,canvas:n,path:r,effect:i}){n.save();let u=r;const c=new t.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setStyle(t.PaintStyle.Fill),c.setColor(hn(i.color).toFigmaArray());const l=t.ImageFilter.MakeBlur(e.doScale(i.radius/2),e.doScale(i.radius/2),t.TileMode.Decal,null);if(l.deleteLater(),c.setImageFilter(l),i.spread>0){const h=u.copy().stroke({width:e.doScale(i.spread*2)});h==null||h.deleteLater(),h==null||h.op(u,t.PathOp.Union),h&&(u=h)}n.translate(e.doScale(i.offset.x),e.doScale(i.offset.y)),n.drawPath(u,c),n.restore()}function N_(t,e,n,r,i){const u=Gn(i.instanceChain,r);if(r.nodeType!=="FRAME"&&r.nodeType!=="SYMBOL"&&r.nodeType!=="INSTANCE")return;const c=r,l=Zt({localStore:n.localStore,layer:r,instanceChain:u}),h={frameMaskDisabled:l.frameMaskDisabled,relativeTransform:Kn(l),fillPaints:r.fillPaints,strokePaints:r.strokePaints,children:$s(n,r),snapshot:nE(n,r),pointsRect:$d({fileData:n,Raptor:e,layer:r,instanceChain:u,options:{}}).withShadow};if(t.save(),i.useSnapshot&&h.snapshot){const p=new e.Paint;p.deleteLater(),p.setStyle(e.PaintStyle.Fill),p.setAntiAlias(!0),t.save(),t.drawImageRect(h.snapshot,e.LTRBRect(0,0,h.snapshot.width(),h.snapshot.height()),e.LTRBRect(n.doScale(h.pointsRect[0].x),n.doScale(h.pointsRect[0].y),n.doScale(h.pointsRect[2].x),n.doScale(h.pointsRect[2].y)),p),t.restore()}else{const p=Um({Raptor:e,layer:l,scale:n.scale});zm({Raptor:e,canvas:t,info:l,fileData:n,data:p,layer:c}),jm({Raptor:e,canvas:t,info:l,fileData:n,data:p,layer:c}),h.frameMaskDisabled&&Ff({fileData:n,canvas:t,Raptor:e,info:l,layer:c,data:p}),t.save(),h.frameMaskDisabled===!1&&p.fillScaledPath&&t.clipPath(p.fillScaledPath,e.ClipOp.Intersect,!0);const v={bounds:i.bounds.map(x=>Vo(h.relativeTransform,x)),useSnapshot:i.useSnapshot,tile:i.tile,snapshot:i.snapshot,instanceChain:u};cc(t,e,n,h.children,v),t.restore(),l.frameMaskDisabled===!1&&Ff({fileData:n,canvas:t,Raptor:e,info:l,layer:c,data:p})}t.restore()}function $_(t,e,n,r,i){var p,v,x,E;const u=Gn(i.instanceChain,r),c=$d({fileData:n,Raptor:e,layer:r,instanceChain:u,options:{}}).withShadow.map(_=>({x:_.x,y:_.y})),l=Zt({localStore:n.localStore,layer:r,instanceChain:u});if(l.visible===!1||!Ad(i.bounds.map(_=>Vo(Kn(l),_)),c))return;i.tile&&(i.tile.contains.layerIdMap[r.id]=!0),i.snapshot&&(i.snapshot.contains.layerIdMap[r.id]=!0);let h=null;if((p=l.effects)==null||p.forEach(_=>{_.type==="FOREGROUND_BLUR"&&_.visible&&(h=_)}),h){const _=new e.Paint;_.setAntiAlias(!0);const L=e.ImageFilter.MakeBlur(n.doScale(h.radius/2),n.doScale(h.radius/2),e.TileMode.Decal,null);L.deleteLater(),_.setImageFilter(L),t.saveLayer(_)}if(r.nodeType==="FRAME"||r.nodeType==="SYMBOL"||r.nodeType==="INSTANCE")N_(t,e,n,r,i);else if(r.nodeType==="SECTION"){const _=Of({localStore:n.localStore,fileData:n,layer:r,instanceChain:u,Raptor:e});t.save(),gg({Raptor:e,fileData:n,canvas:t,layer:r,instanceChain:i.instanceChain,options:i,geometryInfo:_});const L={bounds:i.bounds.map(k=>Vo(Kn(l),k)),useSnapshot:i.useSnapshot,tile:i.tile,snapshot:i.snapshot,instanceChain:u};cc(t,e,n,r.children,L),t.restore()}else if(r.nodeType==="GROUP")t.save(),cc(t,e,n,r.children,i),t.restore();else if(r.nodeType==="IMAGE"){const _=((v=r.image)==null?void 0:v.imageSource)||"";i.snapshot&&(i.snapshot.contains.imageUrlMap[_]=!0);const L=(x=n.assetMap.getAsset(_))==null?void 0:x.image;if(_&&L){const k=new e.Paint;k.deleteLater(),k.setStyle(e.PaintStyle.Fill),k.setAntiAlias(!0),t.save(),B_(t,e,n,r),r.image&&uc({canvas:t,layer:r,Raptor:e,scale:n.scale,img:L,imageInfo:r.image,paint:k}),t.restore()}}else if(r.nodeType==="vector"){const _=Of({localStore:n.localStore,fileData:n,layer:r,instanceChain:u,Raptor:e});(E=l.effects)==null||E.forEach(L=>{L.type==="DROP_SHADOW"&&O_({canvas:t,Raptor:e,fileData:n,geometryInfo:_,effect:L})}),gg({Raptor:e,fileData:n,canvas:t,layer:r,instanceChain:i.instanceChain,options:i,geometryInfo:_}),R_({Raptor:e,canvas:t,fileData:n,layer:r,geometryInfo:_,layerInfo:l})}else if(r.nodeType==="ROUNDED_RECTANGLE"){t.save();const _=Um({Raptor:e,layer:l,scale:n.scale});zm({layer:r,info:l,data:_,canvas:t,Raptor:e,fileData:n}),jm({layer:r,info:l,data:_,canvas:t,Raptor:e,fileData:n}),Ff({layer:r,info:l,data:_,canvas:t,Raptor:e,fileData:n}),t.restore()}else r.nodeType==="TEXT"&&k_({canvas:t,Raptor:e,fileData:n,layer:r,options:i});h&&t.restore()}function zm({Raptor:t,canvas:e,info:n,fileData:r,data:i,layer:u}){var c,l;(c=n.effects)!=null&&c.length&&((l=n.effects)==null||l.forEach(h=>{if(h.type==="DROP_SHADOW"&&h.visible){const p=new t.Path;p.deleteLater(),i.fillScaledPath&&p.op(i.fillScaledPath,t.PathOp.Union),n.strokeAlign!=="INSIDE"&&i.strokeScaledPath&&p.op(i.strokeScaledPath,t.PathOp.Union),F_({Raptor:t,fileData:r,canvas:e,path:p,effect:h})}}))}function jm({Raptor:t,canvas:e,info:n,fileData:r,data:i,layer:u}){var l,h,p,v;e.saveLayer(),(l=n.fillPaints)==null||l.forEach(x=>{i.fillScaledPath&&x.visible&&wo({canvas:e,Raptor:t,scaledPath:i.fillScaledPath,scale:r.scale,fill:x,layerINFO:n,blendMode:null,paintStyle:null})});const c=(p=r.assetMap.getAsset(((h=u.image)==null?void 0:h.imageSource)||""))==null?void 0:p.image;if(u.image&&c&&i.fillScaledPath){e.save();const x=new t.Paint;x.deleteLater(),x.setStyle(t.PaintStyle.Fill),x.setAntiAlias(!0),e.clipPath(i.fillScaledPath,t.ClipOp.Intersect,!0),uc({canvas:e,layer:u,Raptor:t,scale:r.scale,img:c,imageInfo:u.image,paint:x}),e.restore()}if(((v=u.smartShape)==null?void 0:v.type)==="Mask"){const x=u.smartShape.url||"https://cdn.jsdelivr.net/gh/assetvoid/images/brush/1.png",E=r.assetMap.getAsset(x);if(E!=null&&E.image){const _=new t.Paint;_.deleteLater(),_.setAntiAlias(!0),_.setColor(t.BLACK),_.setStyle(t.PaintStyle.Stroke),_.setStrokeWidth(r.doScale(3)),_.setBlendMode(t.BlendMode.Clear),e.drawRect(t.XYWHRect(0,0,r.doScale(u.width),r.doScale(u.height)),_),_.setStyle(t.PaintStyle.Fill),_.setStrokeWidth(0),_.setBlendMode(t.BlendMode.DstIn);const L=Sd();L.naturalWidth=E.image.width(),L.naturalHeight=E.image.height(),L.width=u.width,L.height=u.height,uc({canvas:e,layer:u,Raptor:t,scale:r.scale,img:E.image,imageInfo:L,paint:_})}}e.restore()}function Ff({Raptor:t,canvas:e,info:n,fileData:r,data:i,layer:u}){n.strokePaints.length>0&&n.strokePaints.forEach(c=>{e.saveLayer(),n.strokeAlign==="OUTSIDE"?(i.strokeScaledPath&&wo({canvas:e,Raptor:t,scaledPath:i.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null}),i.fillScaledPath&&wo({canvas:e,Raptor:t,scaledPath:i.fillScaledPath,scale:r.scale,layerINFO:n,fill:p0("#000000"),blendMode:t.BlendMode.DstOut,paintStyle:null})):n.strokeAlign==="CENTER"?i.strokeScaledPath&&wo({canvas:e,Raptor:t,scaledPath:i.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null}):n.strokeAlign==="INSIDE"&&i.strokeScaledPath&&i.fillScaledPath&&(i.strokeScaledPath.op(i.fillScaledPath,t.PathOp.Intersect),wo({canvas:e,Raptor:t,scaledPath:i.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null})),e.restore()})}function cc(t,e,n,r,i){r.forEach(u=>{const c=Gn(i.instanceChain,u),l=Ec({localStore:n.localStore,layer:u,instanceChain:c});t.save(),u.nodeType!=="GROUP"&&(t.translate(n.doScale(l.left),n.doScale(l.top)),t.rotate(l.rotate,n.doScale(l.width/2),n.doScale(l.height/2))),$_(t,e,n,u,{...i,instanceChain:c}),t.restore()})}function B_(t,e,n,r){t.clipRect(e.LTRBRect(0,0,n.doScale(r.width),n.doScale(r.height)),e.ClipOp.Intersect,!0)}var Vm={exports:{}};const D_={},G_=Object.freeze(Object.defineProperty({__proto__:null,default:D_},Symbol.toStringTag,{value:"Module"})),mg=m2(G_);/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.7.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA1_NO_WINDOW&&(r=!1);var u=!r&&typeof self=="object",c=!i.JS_SHA1_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?i=va:u&&(i=self);var l=!i.JS_SHA1_NO_COMMON_JS&&!0&&t.exports,h=!i.JS_SHA1_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),v=[-2147483648,8388608,32768,128],x=[24,16,8,0],E=["hex","array","digest","arrayBuffer"],_=[],L=Array.isArray;(i.JS_SHA1_NO_NODE_JS||!L)&&(L=function(F){return Object.prototype.toString.call(F)==="[object Array]"});var k=ArrayBuffer.isView;h&&(i.JS_SHA1_NO_ARRAY_BUFFER_IS_VIEW||!k)&&(k=function(F){return typeof F=="object"&&F.buffer&&F.buffer.constructor===ArrayBuffer});var N=function(F){var Y=typeof F;if(Y==="string")return[F,!0];if(Y!=="object"||F===null)throw new Error(e);if(h&&F.constructor===ArrayBuffer)return[new Uint8Array(F),!1];if(!L(F)&&!k(F))throw new Error(e);return[F,!1]},z=function(F){return function(Y){return new te(!0).update(Y)[F]()}},Q=function(){var F=z("hex");c&&(F=W(F)),F.create=function(){return new te},F.update=function(oe){return F.create().update(oe)};for(var Y=0;Y<E.length;++Y){var V=E[Y];F[V]=z(V)}return F},W=function(F){var Y=mg,V=mg.Buffer,oe;V.from&&!i.JS_SHA1_NO_BUFFER_FROM?oe=V.from:oe=function(ee){return new V(ee)};var ue=function(ee){if(typeof ee=="string")return Y.createHash("sha1").update(ee,"utf8").digest("hex");if(ee==null)throw new Error(e);return ee.constructor===ArrayBuffer&&(ee=new Uint8Array(ee)),L(ee)||k(ee)||ee.constructor===V?Y.createHash("sha1").update(oe(ee)).digest("hex"):F(ee)};return ue},ae=function(F){return function(Y,V){return new ge(Y,!0).update(V)[F]()}},le=function(){var F=ae("hex");F.create=function(oe){return new ge(oe)},F.update=function(oe,ue){return F.create(oe).update(ue)};for(var Y=0;Y<E.length;++Y){var V=E[Y];F[V]=ae(V)}return F};function te(F){F?(_[0]=_[16]=_[1]=_[2]=_[3]=_[4]=_[5]=_[6]=_[7]=_[8]=_[9]=_[10]=_[11]=_[12]=_[13]=_[14]=_[15]=0,this.blocks=_):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}te.prototype.update=function(F){if(this.finalized)throw new Error(n);var Y=N(F);F=Y[0];for(var V=Y[1],oe,ue=0,ee,Se=F.length||0,j=this.blocks;ue<Se;){if(this.hashed&&(this.hashed=!1,j[0]=this.block,this.block=j[16]=j[1]=j[2]=j[3]=j[4]=j[5]=j[6]=j[7]=j[8]=j[9]=j[10]=j[11]=j[12]=j[13]=j[14]=j[15]=0),V)for(ee=this.start;ue<Se&&ee<64;++ue)oe=F.charCodeAt(ue),oe<128?j[ee>>>2]|=oe<<x[ee++&3]:oe<2048?(j[ee>>>2]|=(192|oe>>>6)<<x[ee++&3],j[ee>>>2]|=(128|oe&63)<<x[ee++&3]):oe<55296||oe>=57344?(j[ee>>>2]|=(224|oe>>>12)<<x[ee++&3],j[ee>>>2]|=(128|oe>>>6&63)<<x[ee++&3],j[ee>>>2]|=(128|oe&63)<<x[ee++&3]):(oe=65536+((oe&1023)<<10|F.charCodeAt(++ue)&1023),j[ee>>>2]|=(240|oe>>>18)<<x[ee++&3],j[ee>>>2]|=(128|oe>>>12&63)<<x[ee++&3],j[ee>>>2]|=(128|oe>>>6&63)<<x[ee++&3],j[ee>>>2]|=(128|oe&63)<<x[ee++&3]);else for(ee=this.start;ue<Se&&ee<64;++ue)j[ee>>>2]|=F[ue]<<x[ee++&3];this.lastByteIndex=ee,this.bytes+=ee-this.start,ee>=64?(this.block=j[16],this.start=ee-64,this.hash(),this.hashed=!0):this.start=ee}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},te.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var F=this.blocks,Y=this.lastByteIndex;F[16]=this.block,F[Y>>>2]|=v[Y&3],this.block=F[16],Y>=56&&(this.hashed||this.hash(),F[0]=this.block,F[16]=F[1]=F[2]=F[3]=F[4]=F[5]=F[6]=F[7]=F[8]=F[9]=F[10]=F[11]=F[12]=F[13]=F[14]=F[15]=0),F[14]=this.hBytes<<3|this.bytes>>>29,F[15]=this.bytes<<3,this.hash()}},te.prototype.hash=function(){var F=this.h0,Y=this.h1,V=this.h2,oe=this.h3,ue=this.h4,ee,Se,j,ne=this.blocks;for(Se=16;Se<80;++Se)j=ne[Se-3]^ne[Se-8]^ne[Se-14]^ne[Se-16],ne[Se]=j<<1|j>>>31;for(Se=0;Se<20;Se+=5)ee=Y&V|~Y&oe,j=F<<5|F>>>27,ue=j+ee+ue+1518500249+ne[Se]<<0,Y=Y<<30|Y>>>2,ee=F&Y|~F&V,j=ue<<5|ue>>>27,oe=j+ee+oe+1518500249+ne[Se+1]<<0,F=F<<30|F>>>2,ee=ue&F|~ue&Y,j=oe<<5|oe>>>27,V=j+ee+V+1518500249+ne[Se+2]<<0,ue=ue<<30|ue>>>2,ee=oe&ue|~oe&F,j=V<<5|V>>>27,Y=j+ee+Y+1518500249+ne[Se+3]<<0,oe=oe<<30|oe>>>2,ee=V&oe|~V&ue,j=Y<<5|Y>>>27,F=j+ee+F+1518500249+ne[Se+4]<<0,V=V<<30|V>>>2;for(;Se<40;Se+=5)ee=Y^V^oe,j=F<<5|F>>>27,ue=j+ee+ue+1859775393+ne[Se]<<0,Y=Y<<30|Y>>>2,ee=F^Y^V,j=ue<<5|ue>>>27,oe=j+ee+oe+1859775393+ne[Se+1]<<0,F=F<<30|F>>>2,ee=ue^F^Y,j=oe<<5|oe>>>27,V=j+ee+V+1859775393+ne[Se+2]<<0,ue=ue<<30|ue>>>2,ee=oe^ue^F,j=V<<5|V>>>27,Y=j+ee+Y+1859775393+ne[Se+3]<<0,oe=oe<<30|oe>>>2,ee=V^oe^ue,j=Y<<5|Y>>>27,F=j+ee+F+1859775393+ne[Se+4]<<0,V=V<<30|V>>>2;for(;Se<60;Se+=5)ee=Y&V|Y&oe|V&oe,j=F<<5|F>>>27,ue=j+ee+ue-1894007588+ne[Se]<<0,Y=Y<<30|Y>>>2,ee=F&Y|F&V|Y&V,j=ue<<5|ue>>>27,oe=j+ee+oe-1894007588+ne[Se+1]<<0,F=F<<30|F>>>2,ee=ue&F|ue&Y|F&Y,j=oe<<5|oe>>>27,V=j+ee+V-1894007588+ne[Se+2]<<0,ue=ue<<30|ue>>>2,ee=oe&ue|oe&F|ue&F,j=V<<5|V>>>27,Y=j+ee+Y-1894007588+ne[Se+3]<<0,oe=oe<<30|oe>>>2,ee=V&oe|V&ue|oe&ue,j=Y<<5|Y>>>27,F=j+ee+F-1894007588+ne[Se+4]<<0,V=V<<30|V>>>2;for(;Se<80;Se+=5)ee=Y^V^oe,j=F<<5|F>>>27,ue=j+ee+ue-899497514+ne[Se]<<0,Y=Y<<30|Y>>>2,ee=F^Y^V,j=ue<<5|ue>>>27,oe=j+ee+oe-899497514+ne[Se+1]<<0,F=F<<30|F>>>2,ee=ue^F^Y,j=oe<<5|oe>>>27,V=j+ee+V-899497514+ne[Se+2]<<0,ue=ue<<30|ue>>>2,ee=oe^ue^F,j=V<<5|V>>>27,Y=j+ee+Y-899497514+ne[Se+3]<<0,oe=oe<<30|oe>>>2,ee=V^oe^ue,j=Y<<5|Y>>>27,F=j+ee+F-899497514+ne[Se+4]<<0,V=V<<30|V>>>2;this.h0=this.h0+F<<0,this.h1=this.h1+Y<<0,this.h2=this.h2+V<<0,this.h3=this.h3+oe<<0,this.h4=this.h4+ue<<0},te.prototype.hex=function(){this.finalize();var F=this.h0,Y=this.h1,V=this.h2,oe=this.h3,ue=this.h4;return p[F>>>28&15]+p[F>>>24&15]+p[F>>>20&15]+p[F>>>16&15]+p[F>>>12&15]+p[F>>>8&15]+p[F>>>4&15]+p[F&15]+p[Y>>>28&15]+p[Y>>>24&15]+p[Y>>>20&15]+p[Y>>>16&15]+p[Y>>>12&15]+p[Y>>>8&15]+p[Y>>>4&15]+p[Y&15]+p[V>>>28&15]+p[V>>>24&15]+p[V>>>20&15]+p[V>>>16&15]+p[V>>>12&15]+p[V>>>8&15]+p[V>>>4&15]+p[V&15]+p[oe>>>28&15]+p[oe>>>24&15]+p[oe>>>20&15]+p[oe>>>16&15]+p[oe>>>12&15]+p[oe>>>8&15]+p[oe>>>4&15]+p[oe&15]+p[ue>>>28&15]+p[ue>>>24&15]+p[ue>>>20&15]+p[ue>>>16&15]+p[ue>>>12&15]+p[ue>>>8&15]+p[ue>>>4&15]+p[ue&15]},te.prototype.toString=te.prototype.hex,te.prototype.digest=function(){this.finalize();var F=this.h0,Y=this.h1,V=this.h2,oe=this.h3,ue=this.h4;return[F>>>24&255,F>>>16&255,F>>>8&255,F&255,Y>>>24&255,Y>>>16&255,Y>>>8&255,Y&255,V>>>24&255,V>>>16&255,V>>>8&255,V&255,oe>>>24&255,oe>>>16&255,oe>>>8&255,oe&255,ue>>>24&255,ue>>>16&255,ue>>>8&255,ue&255]},te.prototype.array=te.prototype.digest,te.prototype.arrayBuffer=function(){this.finalize();var F=new ArrayBuffer(20),Y=new DataView(F);return Y.setUint32(0,this.h0),Y.setUint32(4,this.h1),Y.setUint32(8,this.h2),Y.setUint32(12,this.h3),Y.setUint32(16,this.h4),F};function ge(F,Y){var V,oe=N(F);if(F=oe[0],oe[1]){var ue=[],ee=F.length,Se=0,j;for(V=0;V<ee;++V)j=F.charCodeAt(V),j<128?ue[Se++]=j:j<2048?(ue[Se++]=192|j>>>6,ue[Se++]=128|j&63):j<55296||j>=57344?(ue[Se++]=224|j>>>12,ue[Se++]=128|j>>>6&63,ue[Se++]=128|j&63):(j=65536+((j&1023)<<10|F.charCodeAt(++V)&1023),ue[Se++]=240|j>>>18,ue[Se++]=128|j>>>12&63,ue[Se++]=128|j>>>6&63,ue[Se++]=128|j&63);F=ue}F.length>64&&(F=new te(!0).update(F).array());var ne=[],me=[];for(V=0;V<64;++V){var Me=F[V]||0;ne[V]=92^Me,me[V]=54^Me}te.call(this,Y),this.update(me),this.oKeyPad=ne,this.inner=!0,this.sharedMemory=Y}ge.prototype=new te,ge.prototype.finalize=function(){if(te.prototype.finalize.call(this),this.inner){this.inner=!1;var F=this.array();te.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(F),te.prototype.finalize.call(this)}};var Ae=Q();Ae.sha1=Ae,Ae.sha1.hmac=le(),l?t.exports=Ae:i.sha1=Ae})()})(Vm);var U_=Vm.exports;class W_{constructor(e){this.map=new Map,this.Raptor=e}isURL(e){return/^(http:|https:)/.test(e)}getAsset(e){const n=this.map.get(e);return n&&n.status==="done"?n:(this.ensureAsset(e),null)}async ensureAsset(e){let n=this.map.get(e);if(n){if(n.status==="done")return n;if(n.promise)return await n.promise,n}return!n&&this.isURL(e)&&(n={status:"",image:null,arrayBuffer:null,promise:null},this.map.set(e,n)),n&&n.status===""&&n.promise===null&&this.isURL(e)&&(n.promise=fetch(e,{}).then(r=>r.arrayBuffer()).then(r=>{if(n)n.arrayBuffer=r,n.image=this.Raptor.MakeImageFromEncoded(r),n.status="done",n.promise=null;else throw new Error("Asset is null");return r}),await n.promise),n}appendAsset({imageSource:e,buffer:n}){const r=U_.sha1(n),i=e||`${r}.${H_({buffer:n})}`;if(this.map.get(i))return{id:i};const u=this.Raptor.MakeImageFromEncoded(n);return this.map.set(i,{status:"done",image:u,arrayBuffer:n,promise:null}),{id:i}}}function H_({buffer:t}){const e=Uint8Array.from([137,80,78,71,13,10,26,10]),n=Uint8Array.from([255,216]),r=Uint8Array.from([255,217]),i=new Uint8Array(t.slice(0,8));return i.toString()===e.toString()?"png":new Uint8Array(t.slice(0,2)).toString()===n.toString()&&new Uint8Array(t.slice(t.byteLength-2,t.byteLength)).toString()===r.toString()?"jpg":(console.log(`Unknown image format: ${i}`),"png")}const Uo={PURPLE:"#8638E5",BLUE:"#0d99ff"};function z_({fileData:t,layer:e,Raptor:n,canvas:r}){var i,u;if(t.localStore.editingText&&((i=t.localStore.selectedSingleLayer)==null?void 0:i.nodeType)==="TEXT"&&t.localStore.selectedSingleLayer.id===e.id&&e.textData){const{newParagraph:c}=Rd({Raptor:n,fileData:t,layer:e,persistNewParagraph:!0}),l=c;if(!l)return;(u=t.paragraphManager.activeParagraph)==null||u.delete(),t.paragraphManager.activeParagraph=l;const{start:h,end:p}=t.localStore.selectionInfo.textRange$,v=new n.Paint;if(v.deleteLater(),v.setColor(hn(Uo.BLUE).toFigmaArray()),v.setAntiAlias(!0),v.setAlphaf(.5),h===p){const x=RA({textData:e.textData,paragraph:l,index:h});let E=0,_=0,L=0;l.getLineMetrics().forEach((N,z)=>{z<x.lineNumber?_+=N.height:z===x.lineNumber&&(L=N.height,x.glyph?E=x.glyph.graphemeLayoutBounds[0]:E=gm({localStore:t.localStore,layer:e,line:N}))}),r.drawRect([E,_,E+2,_+L],v)}else l.getRectsForRange(h,p,n.RectHeightStyle.Tight,n.RectWidthStyle.Tight).forEach(E=>{r.drawRect(E.rect,v)})}}function Xm(t){const e=new t.Raptor.Paint;return e.setAntiAlias(!0),e.setStrokeWidth(1),e.setColor(hn(Uo.BLUE).toFigmaArray()),e.setStyle(t.Raptor.PaintStyle.Stroke),e}function Kd(t){const e=new t.Raptor.Paint;e.setAntiAlias(!0),e.setStrokeWidth(1),e.setColor(hn(Uo.BLUE).toFigmaArray());const n=t.Raptor.PathEffect.MakeDash([2,2]);return e.setPathEffect(n),n.delete(),e.setStyle(t.Raptor.PaintStyle.Stroke),e}function Hi(t){return t==="BLUE"?hn(Uo.BLUE).toFigmaArray():t==="PURPLE"?hn(Uo.PURPLE).toFigmaArray():hn(Uo.BLUE).toFigmaArray()}function j_({canvas:t,fileData:e,layer:n}){const r=Ns(e,n)?Hi("PURPLE"):Hi("BLUE"),{absoluteTransform:i,rotate:u}=zi(e,{type:"layer",layerId:n.id});t.save(),t.translate(e.doScale(i[0][2]),e.doScale(i[1][2])),t.rotate(u,0,0);const c=Kd(e);c.setColor(r),t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(n.width),e.doScale(n.height)),c),c.delete(),t.restore()}function V_({fileData:t,canvas:e,layer:n,room:r}){if(n&&r&&yE(t.localStore,n)){const{absoluteTransform:i,rotate:u}=zi(t,{type:"layer",layerId:r.id});e.save(),e.translate(t.doScale(i[0][2]),t.doScale(i[1][2])),e.rotate(u,0,0);const c=Kd(t),l=vE(n),h=wE(n);(l==="MIN"||l==="STRETCH")&&e.drawLine(t.doScale(0),t.doScale(n.top+n.height/2),t.doScale(n.left),t.doScale(n.top+n.height/2),c),(l==="MAX"||l==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width),t.doScale(n.top+n.height/2),t.doScale(r.width),t.doScale(n.top+n.height/2),c),(h==="MIN"||h==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width/2),t.doScale(0),t.doScale(n.left+n.width/2),t.doScale(n.top),c),(h==="MAX"||h==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width/2),t.doScale(n.top+n.height),t.doScale(n.left+n.width/2),t.doScale(r.height),c),c.delete(),e.restore()}}function X_(t,e,n,r,i){kf({fileData:t,localStore:t.localStore,layer:n,instanceChain:r}).forEach(({childInfo:u})=>{const c=Kn(u),l=xc(c);e.save(),e.translate(t.doScale(c[0][2]),t.doScale(c[1][2])),e.rotate(l,0,0);const h=Kd(t);h.setColor(i),e.drawRect(t.Raptor.XYWHRect(0,0,t.doScale(u.width),t.doScale(u.height)),h),h.delete(),e.restore()})}function Y_({fileData:t,canvas:e,layer:n,path:r}){const{absoluteTransform:i,rotate:u}=zi(t,{type:"layer",layerId:n.id});if(e.save(),e.translate(t.doScale(i[0][2]),t.doScale(i[1][2])),e.rotate(u,0,0),r){const c=new t.Raptor.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setColor(t.Raptor.RED),c.setAlphaf(.2);const l=n.width/n.vectorData.normalizedSize.x*t.scale,h=n.height/n.vectorData.normalizedSize.y*t.scale,p=t.Raptor.Matrix.scaled(l,h),v=r.copy().transform(p);v.deleteLater(),e.drawPath(v,c)}e.restore()}function K_(t,e,n){var E,_,L;const{absoluteTransform:r,rotate:i}=zi(t,{type:"layer",layerId:n.id});e.save(),e.translate(t.doScale(r[0][2]),t.doScale(r[1][2])),e.rotate(i,0,0);const u=new t.Raptor.Paint;u.deleteLater(),u.setAntiAlias(!0),u.setStyle(t.Raptor.PaintStyle.Stroke),u.setColor(hn(Uo.BLUE).toFigmaArray()),u.setStrokeWidth(2);const c=new t.Raptor.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setStyle(t.Raptor.PaintStyle.Stroke),c.setColor(hn("#E1E4E5").toFigmaArray()),c.setStrokeWidth(2);const l=new t.Raptor.Paint;l.deleteLater(),l.setAntiAlias(!0),l.setStyle(t.Raptor.PaintStyle.Fill),l.setColor(hn("#FFFFFF").toFigmaArray());const h=[];let p=null;((_=(E=t.localStore.editingVector)==null?void 0:E.currentOperation)==null?void 0:_.type)==="SegmentCandidate"&&(p=(L=t.localStore.editingVector)==null?void 0:L.currentOperation);const v=[];n.vectorData.vectorNetwork.vertices.forEach((k,N)=>{const z=ms({layer:n,normalizedPoint:k}),Q=As(r,z);h.push({type:"VectorVertex",vertexIndex:N,localPoint:z,visualPoint:{x:t.doScale(Q.x),y:t.doScale(Q.y)}})});function x({x:k,y:N,dx:z,dy:Q,segmentId:W,kind:ae}){if(!(z===0&&Q===0)){const te=ms({layer:n,normalizedPoint:{x:k,y:N}}),ge=ms({layer:n,normalizedPoint:{x:z,y:Q}}),Ae={x:te.x+ge.x,y:te.y+ge.y};if(e.drawCircle(t.doScale(Ae.x),t.doScale(Ae.y),3,c),e.drawLine(t.doScale(te.x),t.doScale(te.y),t.doScale(Ae.x),t.doScale(Ae.y),c),W>-1){const F=As(r,Ae);t.overlay$$.push({type:"BezierControlPoint",segmentId:W,kind:ae,visualPoint:{x:t.doScale(F.x),y:t.doScale(F.y)},radius:3})}}}if(n.vectorData.vectorNetwork.segments.forEach((k,N)=>{const{start:z,end:Q}=k,W=n.vectorData.vectorNetwork.vertices[z.vertex],ae=n.vectorData.vectorNetwork.vertices[Q.vertex];W&&x({x:W.x,y:W.y,dx:z.dx,dy:z.dy,segmentId:N,kind:"start"}),ae&&x({x:ae.x,y:ae.y,dx:Q.dx,dy:Q.dy,segmentId:N,kind:"end"})}),p){const{startVertex:k,endVertex:N}=p;k.vid&&(k.vid===-1&&v.push({type:"VectorVertex",vertexIndex:-1,localPoint:ms({layer:n,normalizedPoint:{x:k.x,y:k.y}}),visualPoint:{x:0,y:0}}),x({x:k.x,y:k.y,dx:k.dx,dy:k.dy,segmentId:-1,kind:"start"})),N.vid===-1&&(v.push({type:"VectorVertex",vertexIndex:-1,localPoint:ms({layer:n,normalizedPoint:{x:N.x,y:N.y}}),visualPoint:{x:0,y:0}}),x({x:N.x,y:N.y,dx:N.dx,dy:N.dy,segmentId:-1,kind:"end"}))}if(h.forEach((k,N)=>{const z=t.doScale(k.localPoint.x),Q=t.doScale(k.localPoint.y);e.drawCircle(z,Q,3,u),e.drawCircle(z,Q,3,l),t.overlayFont&&e.drawText(`${k.vertexIndex}`,z,Q,l,t.overlayFont)}),v.forEach((k,N)=>{const z=t.doScale(k.localPoint.x),Q=t.doScale(k.localPoint.y);e.drawCircle(z,Q,3,u),e.drawCircle(z,Q,3,l)}),t.overlay$$.push(...h),p&&t.localStore.currentStatus!=="bendingSegment"){const{startVertex:k,endVertex:N}=p;if(k&&t.localStore.currentTool==="VectorPenTool"&&!(k.x===N.x&&k.y===N.y)){const z={x:k.x+k.dx,y:k.y+k.dy},Q={x:N.x+N.dx,y:N.y+N.dy},W=new t.Raptor.Path;if(W.deleteLater(),W.moveTo(k.x,k.y),W.cubicTo(z.x,z.y,Q.x,Q.y,N.x,N.y),n.width>0&&n.height>0){const ae=t.Raptor.Matrix.scaled(n.width/n.vectorData.normalizedSize.x*t.scale,n.height/n.vectorData.normalizedSize.y*t.scale);W.transform(ae)}e.drawPath(W,u)}}e.restore()}function Q_({canvas:t,fileData:e,Raptor:n}){const{hoveredTarget:r}=e,i=(r==null?void 0:r.id)||"",u=e.localStore.getLayer(i);if(u&&r){const{instanceChain:c,absoluteTransform:l,rotate:h}=Pd({fileData:e,target:r}),p=Ns(e,u)||c.length>0?Hi("PURPLE"):Hi("BLUE");{const v=Zt({localStore:e.localStore,layer:u,instanceChain:c});t.save(),t.translate(e.doScale(l[0][2]),e.doScale(l[1][2])),t.rotate(h,0,0);const x=new n.Paint;x.setAntiAlias(!0),x.setColor(p),x.setStrokeWidth(2),x.setStyle(n.PaintStyle.Stroke);const E=H0({layer:u,layerInfo:v});t.drawRect(n.XYWHRect(0,0,e.doScale(E.width),e.doScale(E.height)),x),x.delete(),Mn(u)!=="NONE"&&X_(e,t,u,c,p),t.restore()}}}function q_({canvas:t,fileData:e,layer:n,instanceChain:r}){const i=Zt({localStore:e.localStore,layer:n,instanceChain:r}),{absoluteTransform:u,rotate:c}=zi(e,{type:"layer",layerId:n.id});t.save(),t.translate(e.doScale(u[0][2]),e.doScale(u[1][2])),t.rotate(c,0,0);const l=Xm(e);l.deleteLater(),l.setStrokeWidth(1.5),Ns(e,n)?l.setColor(Hi("PURPLE")):l.setColor(Hi("BLUE"));const h=H0({layer:n,layerInfo:i});t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(h.width),e.doScale(h.height)),l);const p=new e.Raptor.Paint;p.deleteLater(),p.setColor(e.Raptor.WHITE),p.setStyle(e.Raptor.PaintStyle.Fill),p.setAntiAlias(!0),[[0,0],[h.width,0],[0,h.height],[h.width,h.height]].forEach(v=>{t.save(),t.translate(e.doScale(v[0]),e.doScale(v[1])),J_({canvas:t,fillPaint:p,linePaint:l,fileData:e}),t.restore()}),t.restore()}function J_({canvas:t,linePaint:e,fillPaint:n,fileData:r}){t.drawRect(r.Raptor.XYWHRect(-4,-4,8,8),e),t.drawRect(r.Raptor.XYWHRect(-4,-4,8,8),n)}function Z_({canvas:t,fileData:e,options:n}){const{localStore:r}=e;e.overlay$$=[],Q_({canvas:t,fileData:e,Raptor:e.Raptor});const i=e.localStore.props.getSelectionInfo();if(i.phantom===null){const c=ME(e.localStore).layer;if(c){if(c.nodeType==="TEXT"){const l=c,{absoluteTransform:h,rotate:p}=zi(e,{type:"layer",layerId:l.id});t.save(),t.translate(e.doScale(h[0][2]),e.doScale(h[1][2])),t.rotate(p,0,0),z_({fileData:e,Raptor:e.Raptor,canvas:t,layer:c}),t.restore()}if(c.nodeType==="vector"){const l=c,{absoluteTransform:h,rotate:p}=zi(e,{type:"layer",layerId:l.id});t.save(),t.translate(e.doScale(h[0][2]),e.doScale(h[1][2])),t.rotate(p,0,0);const v=new e.Raptor.Paint;v.deleteLater(),v.setColor(Hi("BLUE")),v.setStyle(e.Raptor.PaintStyle.Stroke),v.setStrokeWidth(2),v.setAntiAlias(!0),l.vectorData.vectorNetwork.segments.forEach(x=>{const E=l.vectorData.vectorNetwork.vertices[x.start.vertex],_=l.vectorData.vectorNetwork.vertices[x.end.vertex];if(E&&_){const L=new e.Raptor.Path;L.deleteLater(),L.moveTo(E.x,E.y),x.start.dx===0&&x.start.dy===0&&x.end.dx===0&&x.end.dy===0?L.lineTo(_.x,_.y):L.cubicTo(E.x+x.start.dx,E.y+x.start.dy,_.x+x.end.dx,_.y+x.end.dy,_.x,_.y),L.transform(e.Raptor.Matrix.scaled(l.width/l.vectorData.normalizedSize.x*e.scale,l.height/l.vectorData.normalizedSize.y*e.scale)),t.drawPath(L,v)}}),t.restore()}if(c.nodeType==="vector"&&e.localStore.editingVector){const l=c;if(r.vectorEditor&&r.pointerTarget$$&&r.pointerTarget$$.type==="VectorRegion"){const h=r.pointerTarget$$.regionId,p=r.vectorEditor.closedPathList[h];p&&Y_({fileData:e,canvas:t,layer:l,path:p})}K_(e,t,l)}else{const l=$r(e,c.parentId);l&&Mn(l)!=="NONE"&&j_({canvas:t,fileData:e,layer:l}),n.enableDrawResizer&&q_({fileData:e,canvas:t,layer:c,instanceChain:[]});const h=So(e.localStore,c);h&&V_({fileData:e,canvas:t,layer:c,room:h})}}}if(i.phantom){const{phantom:u}=i,{absoluteTransform:c,instanceChain:l,rotate:h}=Pd({fileData:e,target:u}),{id:p}=u,v=$r(e,p);if(v){const x=Ec({localStore:e.localStore,layer:v,instanceChain:l});t.save(),t.translate(e.doScale(c[0][2]),e.doScale(c[1][2])),t.rotate(h,0,0);const E=Xm(e);E.setColor(Ns(e,v)?Hi("PURPLE"):Hi("BLUE")),t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(x.width),e.doScale(x.height)),E),E.delete(),t.restore()}}}function eT({libra:t,width:e,height:n}){var r;t.canvasElement.width=e*window.devicePixelRatio,t.canvasElement.height=n*window.devicePixelRatio,(r=t.surface)==null||r.deleteLater(),t.surface=t.Raptor.MakeOnScreenGLSurface(t.gr,t.canvasElement.width,t.canvasElement.height,t.Raptor.ColorSpace.SRGB),t.canvasDirty=!0}function $R({path:t,localStore:e,elem:n,width:r,height:i,fontStore:u}){return b2({locateFile:l=>`${t}${l}`}).then(l=>{var E;const h=l.GetWebGLContext(n,{preserveDrawingBuffer:1}),v={gr:l.MakeWebGLContext(h),Raptor:l,canvasElement:n,surface:null,canvasDirty:!1,fileData:{localStore:e,layerAssetsMap:{},layerMap:{},fontProvider:l.TypefaceFontProvider.Make(),fontStore:u,snapshotMap:{},doScale(_){return _*e.getPageScale()},get scale(){return e.getPageScale()},assetMap:new W_(l),paragraphManager:{activeParagraph:null},Raptor:l,hoveredTarget:null,overlay$$:[],overlayFont:null}};eT({libra:v,width:r,height:i}),e.props.doAction=()=>{v.canvasDirty=!0};function x(_){var L;if(v.canvasDirty){v.canvasDirty=!1;try{const k=[...e.getNormalLayerList()],N=e.getPageScale();rT({libra:v,canvas:_,layerList:k,scale:N,page:e.props.getCurrentPage(),...dm({localStore:e,canvasElement:n})})}catch(k){console.error(k)}}(L=v.surface)==null||L.requestAnimationFrame(x)}return(E=v.surface)==null||E.requestAnimationFrame(x),v})}const qr=typeof window<"u"?document.createElement("canvas"):null;let pf=!1;function tT({libra:t,page:e,layerList:n,isThumbnail:r}){if(pf)throw new Error("Offscreen canvas is busy");return pf=!0,new Promise(i=>{if(!qr)throw new Error("Offscreen canvas does not exist");let u=1;qr.width=e.width,qr.height=e.height,r?(qr.width=400,u=400/e.width,qr.height=e.height*u):(u=Math.min(4e3/e.width,4e3/e.height,2),qr.width=e.width*u,qr.height=e.height*u);const c=t.Raptor.MakeWebGLCanvasSurface(qr);c==null||c.drawOnce(l=>{l.clear(t.Raptor.TRANSPARENT),l.save();const h={...t.fileData,scale:u,doScale:p=>p*u};Ym({fileData:h,Raptor:t.Raptor,canvas:l,page:e,layerList:n,scale:u}),l.restore()}),setTimeout(()=>{qr.toBlob(async l=>{if(l){if(r){const h=(await bd(async()=>{const{default:_}=await import("./UPNG-B-vF_xeq.js").then(L=>L.U);return{default:_}},__vite__mapDeps([0,1,2]))).default,p=await l.arrayBuffer(),v=await h.decode(p),x=h.toRGBA8(v),E=h.encode(x,qr.width,qr.height,100);l=new Blob([E],{type:"image/png"})}pf=!1,i(l)}},"image/png",1)},1e3)})}async function BR({libra:t,page:e,layerList:n,filename:r}){const i=await tT({libra:t,page:e,layerList:n,isThumbnail:!1});i&&nT({blob:i,filename:r})}function nT({blob:t,filename:e}){const n=window.URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.href=n,r.download=e,r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)}function Ym({Raptor:t,fileData:e,canvas:n,page:r,layerList:i,scale:u}){const c=__({Raptor:t,width:r.width*u,height:r.height*u,cornerRadius:0});c&&(c==null||c.deleteLater(),r.fillPaints.forEach(l=>{wo({fill:l,Raptor:t,canvas:n,scaledPath:c,scale:u,paintStyle:null,blendMode:null,layerINFO:{}})})),cc(n,t,e,i,{bounds:H2({x:-9e5/e.scale,y:-9e5/e.scale,width:18e5/e.scale,height:18e5/e.scale}),useSnapshot:!1,tile:null,instanceChain:[]})}function rT({left:t,top:e,libra:n,canvas:r,page:i,layerList:u,scale:c}){r.clear(n.Raptor.TRANSPARENT),r.save(),r.scale(window.devicePixelRatio,window.devicePixelRatio),r.translate(t,e),r.save(),r.clipRect(n.Raptor.XYWHRect(0,0,i.width*c,i.height*c),n.Raptor.ClipOp.Intersect,!0),Ym({Raptor:n.Raptor,canvas:r,page:i,layerList:u,scale:c,fileData:n.fileData}),r.restore(),Z_({fileData:n.fileData,canvas:r,options:{enableDrawResizer:!1}}),r.restore()}var iT=Object.defineProperty,oT=Object.getOwnPropertyDescriptor,Km=(t,e,n,r)=>{for(var i=r>1?void 0:r?oT(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(i=(r?c(e,n,i):c(i))||i);return r&&i&&iT(e,n,i),i};class Qm{constructor(e){this.containerAbsoluteTransform=null,this.layerToBeCreated={startWorldPoint:null,endWorldPoint:null},Os(this),this.context=e,this.fileData=e.fileData}get currentPage(){return this.fileData.localStore.props.getCurrentPage()}get topLevelLayerList(){return this.currentPage.children}get layerMap(){return this.fileData.layerMap}get layerToBeCreatedRect(){const e=this,n={left:0,top:0,width:0,height:0};return e&&e.layerToBeCreated.startWorldPoint&&e.layerToBeCreated.endWorldPoint&&(n.left=Math.min(e.layerToBeCreated.startWorldPoint.x,e.layerToBeCreated.endWorldPoint.x),n.top=Math.min(e.layerToBeCreated.startWorldPoint.y,e.layerToBeCreated.endWorldPoint.y),n.width=Math.abs(e.layerToBeCreated.startWorldPoint.x-e.layerToBeCreated.endWorldPoint.x),n.height=Math.abs(e.layerToBeCreated.startWorldPoint.y-e.layerToBeCreated.endWorldPoint.y)),n}}Km([We],Qm.prototype,"layerToBeCreated",2);Km([mt],Qm.prototype,"layerToBeCreatedRect",1);const aT={PIXI:{}};typeof window<"u"&&bd(()=>import("./pixi-legacy-CCOjI8IQ.js"),__vite__mapDeps([3,4,1,5])).then(t=>{aT.PIXI=t});const sT={};typeof window<"u"&&bd(()=>import("./index-Ctga1AvS.js").then(t=>t.i),__vite__mapDeps([6,1,4,7])).then(t=>{sT.ReactQuill=t.default});var qm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var u="",c=0;c<arguments.length;c++){var l=arguments[c];l&&(u=i(u,r(l)))}return u}function r(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var c="";for(var l in u)e.call(u,l)&&u[l]&&(c=i(c,l));return c}function i(u,c){return c?u?u+" "+c:u+c:u}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(qm);var uT=qm.exports;const Zr=Yo(uT);function or(){return or=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},or.apply(null,arguments)}function Ct(t){"@babel/helpers - typeof";return Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(t)}var cT=Symbol.for("react.element"),lT=Symbol.for("react.transitional.element"),fT=Symbol.for("react.fragment");function dT(t){return t&&Ct(t)==="object"&&(t.$$typeof===cT||t.$$typeof===lT)&&t.type===fT}var Nf={},hT=function(e){};function pT(t,e){}function gT(t,e){}function mT(){Nf={}}function Jm(t,e,n){!e&&!Nf[n]&&(t(!1,n),Nf[n]=!0)}function Ws(t,e){Jm(pT,t,e)}function yT(t,e){Jm(gT,t,e)}Ws.preMessage=hT;Ws.resetWarned=mT;Ws.noteOnce=yT;function vT(t,e){if(Ct(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ct(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zm(t){var e=vT(t,"string");return Ct(e)=="symbol"?e:e+""}function Ve(t,e,n){return(e=Zm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yg(Object(n),!0).forEach(function(r){Ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vg(t){return t instanceof HTMLElement||t instanceof SVGElement}function wT(t){return t&&Ct(t)==="object"&&vg(t.nativeElement)?t.nativeElement:vg(t)?t:null}function xT(t){var e=wT(t);if(e)return e;if(t instanceof Xt.Component){var n;return(n=Yp.findDOMNode)===null||n===void 0?void 0:n.call(Yp,t)}return null}var ey={exports:{}},Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=Symbol.for("react.element"),qd=Symbol.for("react.portal"),Oc=Symbol.for("react.fragment"),Fc=Symbol.for("react.strict_mode"),Nc=Symbol.for("react.profiler"),$c=Symbol.for("react.provider"),Bc=Symbol.for("react.context"),bT=Symbol.for("react.server_context"),Dc=Symbol.for("react.forward_ref"),Gc=Symbol.for("react.suspense"),Uc=Symbol.for("react.suspense_list"),Wc=Symbol.for("react.memo"),Hc=Symbol.for("react.lazy"),ST=Symbol.for("react.offscreen"),ty;ty=Symbol.for("react.module.reference");function Ur(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Qd:switch(t=t.type,t){case Oc:case Nc:case Fc:case Gc:case Uc:return t;default:switch(t=t&&t.$$typeof,t){case bT:case Bc:case Dc:case Hc:case Wc:case $c:return t;default:return e}}case qd:return e}}}Ft.ContextConsumer=Bc;Ft.ContextProvider=$c;Ft.Element=Qd;Ft.ForwardRef=Dc;Ft.Fragment=Oc;Ft.Lazy=Hc;Ft.Memo=Wc;Ft.Portal=qd;Ft.Profiler=Nc;Ft.StrictMode=Fc;Ft.Suspense=Gc;Ft.SuspenseList=Uc;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(t){return Ur(t)===Bc};Ft.isContextProvider=function(t){return Ur(t)===$c};Ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qd};Ft.isForwardRef=function(t){return Ur(t)===Dc};Ft.isFragment=function(t){return Ur(t)===Oc};Ft.isLazy=function(t){return Ur(t)===Hc};Ft.isMemo=function(t){return Ur(t)===Wc};Ft.isPortal=function(t){return Ur(t)===qd};Ft.isProfiler=function(t){return Ur(t)===Nc};Ft.isStrictMode=function(t){return Ur(t)===Fc};Ft.isSuspense=function(t){return Ur(t)===Gc};Ft.isSuspenseList=function(t){return Ur(t)===Uc};Ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Oc||t===Nc||t===Fc||t===Gc||t===Uc||t===ST||typeof t=="object"&&t!==null&&(t.$$typeof===Hc||t.$$typeof===Wc||t.$$typeof===$c||t.$$typeof===Bc||t.$$typeof===Dc||t.$$typeof===ty||t.getModuleId!==void 0)};Ft.typeOf=Ur;ey.exports=Ft;var gf=ey.exports;function Jd(t,e,n){var r=ie.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var ET=Number(ie.version.split(".")[0]),ny=function(e,n){typeof e=="function"?e(n):Ct(e)==="object"&&e&&"current"in e&&(e.current=n)},AT=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);return i.length<=1?i[0]:function(u){n.forEach(function(c){ny(c,u)})}},DR=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Jd(function(){return AT.apply(void 0,n)},n,function(i,u){return i.length!==u.length||i.every(function(c,l){return c!==u[l]})})},ry=function(e){var n,r;if(!e)return!1;if(Zd(e)&&ET>=19)return!0;var i=gf.isMemo(e)?e.type.type:e.type;return!(typeof i=="function"&&!((n=i.prototype)!==null&&n!==void 0&&n.render)&&i.$$typeof!==gf.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==gf.ForwardRef)};function Zd(t){return ie.isValidElement(t)&&!dT(t)}var GR=function(e){return Zd(e)&&ry(e)},CT=function(e){if(e&&Zd(e)){var n=e;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null};function yi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zm(r.key),r)}}function vi(t,e,n){return e&&wg(t.prototype,e),n&&wg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $f(t,e){return $f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},$f(t,e)}function zc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$f(t,e)}function lc(t){return lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lc(t)}function iy(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iy=function(){return!!t})()}function Wo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _T(t,e){if(e&&(Ct(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wo(t)}function jc(t){var e=iy();return function(){var n,r=lc(t);if(e){var i=lc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _T(this,n)}}function Bf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function TT(t){if(Array.isArray(t))return Bf(t)}function oy(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eh(t,e){if(t){if(typeof t=="string")return Bf(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bf(t,e):void 0}}function LT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mr(t){return TT(t)||oy(t)||eh(t)||LT()}var ay=function(e){return+setTimeout(e,16)},sy=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(ay=function(e){return window.requestAnimationFrame(e)},sy=function(e){return window.cancelAnimationFrame(e)});var xg=0,th=new Map;function uy(t){th.delete(t)}var Df=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;xg+=1;var r=xg;function i(u){if(u===0)uy(r),e();else{var c=ay(function(){i(u-1)});th.set(r,c)}}return i(n),r};Df.cancel=function(t){var e=th.get(t);return uy(t),sy(e)};function cy(t){if(Array.isArray(t))return t}function PT(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,u,c,l=[],h=!0,p=!1;try{if(u=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=u.call(n)).done)&&(l.push(r.value),l.length!==e);h=!0);}catch(v){p=!0,i=v}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(p)throw i}}return l}}function ly(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function et(t,e){return cy(t)||PT(t,e)||eh(t,e)||ly()}function _s(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Vi(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function MT(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var bg="data-rc-order",Sg="data-rc-priority",IT="rc-util-key",Gf=new Map;function fy(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):IT}function Vc(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function kT(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function nh(t){return Array.from((Gf.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function dy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Vi())return null;var n=e.csp,r=e.prepend,i=e.priority,u=i===void 0?0:i,c=kT(r),l=c==="prependQueue",h=document.createElement("style");h.setAttribute(bg,c),l&&u&&h.setAttribute(Sg,"".concat(u)),n!=null&&n.nonce&&(h.nonce=n==null?void 0:n.nonce),h.innerHTML=t;var p=Vc(e),v=p.firstChild;if(r){if(l){var x=(e.styles||nh(p)).filter(function(E){if(!["prepend","prependQueue"].includes(E.getAttribute(bg)))return!1;var _=Number(E.getAttribute(Sg)||0);return u>=_});if(x.length)return p.insertBefore(h,x[x.length-1].nextSibling),h}p.insertBefore(h,v)}else p.appendChild(h);return h}function hy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Vc(e);return(e.styles||nh(n)).find(function(r){return r.getAttribute(fy(e))===t})}function py(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=hy(t,e);if(n){var r=Vc(e);r.removeChild(n)}}function RT(t,e){var n=Gf.get(t);if(!n||!MT(document,n)){var r=dy("",e),i=r.parentNode;Gf.set(t,i),t.removeChild(r)}}function Ho(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Vc(n),i=nh(r),u=De(De({},n),{},{styles:i});RT(r,u);var c=hy(e,u);if(c){var l,h;if((l=u.csp)!==null&&l!==void 0&&l.nonce&&c.nonce!==((h=u.csp)===null||h===void 0?void 0:h.nonce)){var p;c.nonce=(p=u.csp)===null||p===void 0?void 0:p.nonce}return c.innerHTML!==t&&(c.innerHTML=t),c}var v=dy(t,u);return v.setAttribute(fy(u),e),v}function OT(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xo(t,e){if(t==null)return{};var n,r,i=OT(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(r=0;r<u.length;r++)n=u[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(u,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=r.has(u);if(Ws(!h,"Warning: There may be circular references"),h)return!1;if(u===c)return!0;if(n&&l>1)return!1;r.add(u);var p=l+1;if(Array.isArray(u)){if(!Array.isArray(c)||u.length!==c.length)return!1;for(var v=0;v<u.length;v++)if(!i(u[v],c[v],p))return!1;return!0}if(u&&c&&Ct(u)==="object"&&Ct(c)==="object"){var x=Object.keys(u);return x.length!==Object.keys(c).length?!1:x.every(function(E){return i(u[E],c[E],p)})}return!1}return i(t,e)}var NT="%";function Uf(t){return t.join(NT)}var $T=function(){function t(e){yi(this,t),Ve(this,"instanceId",void 0),Ve(this,"cache",new Map),this.instanceId=e}return vi(t,[{key:"get",value:function(n){return this.opGet(Uf(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(Uf(n),r)}},{key:"opUpdate",value:function(n,r){var i=this.cache.get(n),u=r(i);u===null?this.cache.delete(n):this.cache.set(n,u)}}]),t}(),Ca="data-token-hash",ei="data-css-hash",xo="__cssinjs_instance__";function BT(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(ei,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(i){i[xo]=i[xo]||t,i[xo]===t&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(ei,"]"))).forEach(function(i){var u=i.getAttribute(ei);if(r[u]){if(i[xo]===t){var c;(c=i.parentNode)===null||c===void 0||c.removeChild(i)}}else r[u]=!0})}return new $T(t)}var Hs=ie.createContext({hashPriority:"low",cache:BT(),defaultCache:!0});function DT(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var rh=function(){function t(){yi(this,t),Ve(this,"cache",void 0),Ve(this,"keys",void 0),Ve(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return vi(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c={map:this.cache};return n.forEach(function(l){if(!c)c=void 0;else{var h;c=(h=c)===null||h===void 0||(h=h.map)===null||h===void 0?void 0:h.get(l)}}),(r=c)!==null&&r!==void 0&&r.value&&u&&(c.value[1]=this.cacheCallTimes++),(i=c)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var u=this.keys.reduce(function(p,v){var x=et(p,2),E=x[1];return i.internalGet(v)[1]<E?[v,i.internalGet(v)[1]]:p},[this.keys[0],this.cacheCallTimes]),c=et(u,1),l=c[0];this.delete(l)}this.keys.push(n)}var h=this.cache;n.forEach(function(p,v){if(v===n.length-1)h.set(p,{value:[r,i.cacheCallTimes++]});else{var x=h.get(p);x?x.map||(x.map=new Map):h.set(p,{map:new Map}),h=h.get(p).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var u;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(u=i.value)===null||u===void 0?void 0:u[0]}var c=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),c}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!DT(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();Ve(rh,"MAX_CACHE_SIZE",20);Ve(rh,"MAX_CACHE_OFFSET",5);var Eg=0,gy=function(){function t(e){yi(this,t),Ve(this,"derivatives",void 0),Ve(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=Eg,e.length===0&&(e.length>0,void 0),Eg+=1}return vi(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),t}(),mf=new rh;function Wf(t){var e=Array.isArray(t)?t:[t];return mf.has(e)||mf.set(e,new gy(e)),mf.get(e)}var GT=new WeakMap,yf={};function UT(t,e){for(var n=GT,r=0;r<e.length;r+=1){var i=e[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(yf)||n.set(yf,t()),n.get(yf)}var Ag=new WeakMap;function Ss(t){var e=Ag.get(t)||"";return e||(Object.keys(t).forEach(function(n){var r=t[n];e+=n,r instanceof gy?e+=r.id:r&&Ct(r)==="object"?e+=Ss(r):e+=r}),e=_s(e),Ag.set(t,e)),e}function Cg(t,e){return _s("".concat(e,"_").concat(Ss(t)))}var Hf=Vi();function zf(t){return typeof t=="number"?"".concat(t,"px"):t}function fc(t,e,n){var r,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(u)return t;var c=De(De({},i),{},(r={},Ve(r,Ca,e),Ve(r,ei,n),r)),l=Object.keys(c).map(function(h){var p=c[h];return p?"".concat(h,'="').concat(p,'"'):null}).filter(function(h){return h}).join(" ");return"<style ".concat(l,">").concat(t,"</style>")}var Zu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},WT=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(i){var u=et(i,2),c=u[0],l=u[1];return"".concat(c,":").concat(l,";")}).join(""),"}"):""},my=function(e,n,r){var i={},u={};return Object.entries(e).forEach(function(c){var l,h,p=et(c,2),v=p[0],x=p[1];if(r!=null&&(l=r.preserve)!==null&&l!==void 0&&l[v])u[v]=x;else if((typeof x=="string"||typeof x=="number")&&!(r!=null&&(h=r.ignore)!==null&&h!==void 0&&h[v])){var E,_=Zu(v,r==null?void 0:r.prefix);i[_]=typeof x=="number"&&!(r!=null&&(E=r.unitless)!==null&&E!==void 0&&E[v])?"".concat(x,"px"):String(x),u[v]="var(".concat(_,")")}}),[u,WT(i,n,{scope:r==null?void 0:r.scope})]},_g=Vi()?ie.useLayoutEffect:ie.useEffect,yy=function(e,n){var r=ie.useRef(!0);_g(function(){return e(r.current)},n),_g(function(){return r.current=!1,function(){r.current=!0}},[])},UR=function(e,n){yy(function(r){if(!r)return e()},n)},HT=De({},xd),Tg=HT.useInsertionEffect,zT=function(e,n,r){ie.useMemo(e,r),yy(function(){return n(!0)},r)},jT=Tg?function(t,e,n){return Tg(function(){return t(),e()},n)}:zT,VT=De({},xd),XT=VT.useInsertionEffect,YT=function(e){var n=[],r=!1;function i(u){r||n.push(u)}return ie.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(u){return u()})}},e),i},KT=function(){return function(e){e()}},QT=typeof XT<"u"?YT:KT;function ih(t,e,n,r,i){var u=ie.useContext(Hs),c=u.cache,l=[t].concat(mr(e)),h=Uf(l),p=QT([h]),v=function(L){c.opUpdate(h,function(k){var N=k||[void 0,void 0],z=et(N,2),Q=z[0],W=Q===void 0?0:Q,ae=z[1],le=ae,te=le||n(),ge=[W,te];return L?L(ge):ge})};ie.useMemo(function(){v()},[h]);var x=c.opGet(h),E=x[1];return jT(function(){i==null||i(E)},function(_){return v(function(L){var k=et(L,2),N=k[0],z=k[1];return _&&N===0&&(i==null||i(E)),[N+1,z]}),function(){c.opUpdate(h,function(L){var k=L||[],N=et(k,2),z=N[0],Q=z===void 0?0:z,W=N[1],ae=Q-1;return ae===0?(p(function(){(_||!c.opGet(h))&&(r==null||r(W,!1))}),null):[Q-1,W]})}},[h]),E}var qT={},JT="css",Do=new Map;function ZT(t){Do.set(t,(Do.get(t)||0)+1)}function eL(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Ca,'="').concat(t,'"]'));n.forEach(function(r){if(r[xo]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var tL=0;function nL(t,e){Do.set(t,(Do.get(t)||0)-1);var n=Array.from(Do.keys()),r=n.filter(function(i){var u=Do.get(i)||0;return u<=0});n.length-r.length>tL&&r.forEach(function(i){eL(i,e),Do.delete(i)})}var rL=function(e,n,r,i){var u=r.getDerivativeToken(e),c=De(De({},u),n);return i&&(c=i(c)),c},vy="token";function iL(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=ie.useContext(Hs),i=r.cache.instanceId,u=r.container,c=n.salt,l=c===void 0?"":c,h=n.override,p=h===void 0?qT:h,v=n.formatToken,x=n.getComputedToken,E=n.cssVar,_=UT(function(){return Object.assign.apply(Object,[{}].concat(mr(e)))},e),L=Ss(_),k=Ss(p),N=E?Ss(E):"",z=ih(vy,[l,t.id,L,k,N],function(){var Q,W=x?x(_,p,t):rL(_,p,t,v),ae=De({},W),le="";if(E){var te=my(W,E.key,{prefix:E.prefix,ignore:E.ignore,unitless:E.unitless,preserve:E.preserve}),ge=et(te,2);W=ge[0],le=ge[1]}var Ae=Cg(W,l);W._tokenKey=Ae,ae._tokenKey=Cg(ae,l);var F=(Q=E==null?void 0:E.key)!==null&&Q!==void 0?Q:Ae;W._themeKey=F,ZT(F);var Y="".concat(JT,"-").concat(_s(Ae));return W._hashId=Y,[W,Y,ae,le,(E==null?void 0:E.key)||""]},function(Q){nL(Q[0]._themeKey,i)},function(Q){var W=et(Q,4),ae=W[0],le=W[3];if(E&&le){var te=Ho(le,_s("css-variables-".concat(ae._themeKey)),{mark:ei,prepend:"queue",attachTo:u,priority:-999});te[xo]=i,te.setAttribute(Ca,ae._themeKey)}});return z}var oL=function(e,n,r){var i=et(e,5),u=i[2],c=i[3],l=i[4],h=r||{},p=h.plain;if(!c)return null;var v=u._tokenKey,x=-999,E={"data-rc-order":"prependQueue","data-rc-priority":"".concat(x)},_=fc(c,l,v,E,p);return[x,v,_]},aL={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wy="comm",xy="rule",by="decl",sL="@import",uL="@namespace",cL="@keyframes",lL="@layer",Sy=Math.abs,oh=String.fromCharCode;function Ey(t){return t.trim()}function ec(t,e,n){return t.replace(e,n)}function fL(t,e,n){return t.indexOf(e,n)}function Ea(t,e){return t.charCodeAt(e)|0}function _a(t,e,n){return t.slice(e,n)}function pi(t){return t.length}function dL(t){return t.length}function Hu(t,e){return e.push(t),t}var Xc=1,Ta=1,Ay=0,Gr=0,vn=0,Ma="";function ah(t,e,n,r,i,u,c,l){return{value:t,root:e,parent:n,type:r,props:i,children:u,line:Xc,column:Ta,length:c,return:"",siblings:l}}function hL(){return vn}function pL(){return vn=Gr>0?Ea(Ma,--Gr):0,Ta--,vn===10&&(Ta=1,Xc--),vn}function ti(){return vn=Gr<Ay?Ea(Ma,Gr++):0,Ta++,vn===10&&(Ta=1,Xc++),vn}function bo(){return Ea(Ma,Gr)}function tc(){return Gr}function Yc(t,e){return _a(Ma,t,e)}function Ts(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gL(t){return Xc=Ta=1,Ay=pi(Ma=t),Gr=0,[]}function mL(t){return Ma="",t}function vf(t){return Ey(Yc(Gr-1,jf(t===91?t+2:t===40?t+1:t)))}function yL(t){for(;(vn=bo())&&vn<33;)ti();return Ts(t)>2||Ts(vn)>3?"":" "}function vL(t,e){for(;--e&&ti()&&!(vn<48||vn>102||vn>57&&vn<65||vn>70&&vn<97););return Yc(t,tc()+(e<6&&bo()==32&&ti()==32))}function jf(t){for(;ti();)switch(vn){case t:return Gr;case 34:case 39:t!==34&&t!==39&&jf(vn);break;case 40:t===41&&jf(t);break;case 92:ti();break}return Gr}function wL(t,e){for(;ti()&&t+vn!==57;)if(t+vn===84&&bo()===47)break;return"/*"+Yc(e,Gr-1)+"*"+oh(t===47?t:ti())}function xL(t){for(;!Ts(bo());)ti();return Yc(t,Gr)}function bL(t){return mL(nc("",null,null,null,[""],t=gL(t),0,[0],t))}function nc(t,e,n,r,i,u,c,l,h){for(var p=0,v=0,x=c,E=0,_=0,L=0,k=1,N=1,z=1,Q=0,W="",ae=i,le=u,te=r,ge=W;N;)switch(L=Q,Q=ti()){case 40:if(L!=108&&Ea(ge,x-1)==58){fL(ge+=ec(vf(Q),"&","&\f"),"&\f",Sy(p?l[p-1]:0))!=-1&&(z=-1);break}case 34:case 39:case 91:ge+=vf(Q);break;case 9:case 10:case 13:case 32:ge+=yL(L);break;case 92:ge+=vL(tc()-1,7);continue;case 47:switch(bo()){case 42:case 47:Hu(SL(wL(ti(),tc()),e,n,h),h),(Ts(L||1)==5||Ts(bo()||1)==5)&&pi(ge)&&_a(ge,-1,void 0)!==" "&&(ge+=" ");break;default:ge+="/"}break;case 123*k:l[p++]=pi(ge)*z;case 125*k:case 59:case 0:switch(Q){case 0:case 125:N=0;case 59+v:z==-1&&(ge=ec(ge,/\f/g,"")),_>0&&(pi(ge)-x||k===0&&L===47)&&Hu(_>32?Pg(ge+";",r,n,x-1,h):Pg(ec(ge," ","")+";",r,n,x-2,h),h);break;case 59:ge+=";";default:if(Hu(te=Lg(ge,e,n,p,v,i,l,W,ae=[],le=[],x,u),u),Q===123)if(v===0)nc(ge,e,te,te,ae,u,x,l,le);else{switch(E){case 99:if(Ea(ge,3)===110)break;case 108:if(Ea(ge,2)===97)break;default:v=0;case 100:case 109:case 115:}v?nc(t,te,te,r&&Hu(Lg(t,te,te,0,0,i,l,W,i,ae=[],x,le),le),i,le,x,l,r?ae:le):nc(ge,te,te,te,[""],le,0,l,le)}}p=v=_=0,k=z=1,W=ge="",x=c;break;case 58:x=1+pi(ge),_=L;default:if(k<1){if(Q==123)--k;else if(Q==125&&k++==0&&pL()==125)continue}switch(ge+=oh(Q),Q*k){case 38:z=v>0?1:(ge+="\f",-1);break;case 44:l[p++]=(pi(ge)-1)*z,z=1;break;case 64:bo()===45&&(ge+=vf(ti())),E=bo(),v=x=pi(W=ge+=xL(tc())),Q++;break;case 45:L===45&&pi(ge)==2&&(k=0)}}return u}function Lg(t,e,n,r,i,u,c,l,h,p,v,x){for(var E=i-1,_=i===0?u:[""],L=dL(_),k=0,N=0,z=0;k<r;++k)for(var Q=0,W=_a(t,E+1,E=Sy(N=c[k])),ae=t;Q<L;++Q)(ae=Ey(N>0?_[Q]+" "+W:ec(W,/&\f/g,_[Q])))&&(h[z++]=ae);return ah(t,e,n,i===0?xy:l,h,p,v,x)}function SL(t,e,n,r){return ah(t,e,n,wy,oh(hL()),_a(t,2,-2),0,r)}function Pg(t,e,n,r,i){return ah(t,e,n,by,_a(t,0,r),_a(t,r+1,-1),r,i)}function Vf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function EL(t,e,n,r){switch(t.type){case lL:if(t.children.length)break;case sL:case uL:case by:return t.return=t.return||t.value;case wy:return"";case cL:return t.return=t.value+"{"+Vf(t.children,r)+"}";case xy:if(!pi(t.value=t.props.join(",")))return""}return pi(n=Vf(t.children,r))?t.return=t.value+"{"+n+"}":""}var Mg="data-ant-cssinjs-cache-path",Cy="_FILE_STYLE__",zo,_y=!0;function AL(){if(!zo&&(zo={},Vi())){var t=document.createElement("div");t.className=Mg,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var u=i.split(":"),c=et(u,2),l=c[0],h=c[1];zo[l]=h});var n=document.querySelector("style[".concat(Mg,"]"));if(n){var r;_y=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function CL(t){return AL(),!!zo[t]}function _L(t){var e=zo[t],n=null;if(e&&Vi())if(_y)n=Cy;else{var r=document.querySelector("style[".concat(ei,'="').concat(zo[t],'"]'));r?n=r.innerHTML:delete zo[t]}return[n,e]}var TL="_skip_check_",Ty="_multi_value_";function rc(t){var e=Vf(bL(t),EL);return e.replace(/\{%%%\:[^;];}/g,";")}function LL(t){return Ct(t)==="object"&&t&&(TL in t||Ty in t)}function Ig(t,e,n){if(!e)return t;var r=".".concat(e),i=n==="low"?":where(".concat(r,")"):r,u=t.split(",").map(function(c){var l,h=c.trim().split(/\s+/),p=h[0]||"",v=((l=p.match(/^\w+/))===null||l===void 0?void 0:l[0])||"";return p="".concat(v).concat(i).concat(p.slice(v.length)),[p].concat(mr(h.slice(1))).join(" ")});return u.join(",")}var PL=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,u=r.injectHash,c=r.parentSelectors,l=n.hashId,h=n.layer;n.path;var p=n.hashPriority,v=n.transformers,x=v===void 0?[]:v;n.linters;var E="",_={};function L(z){var Q=z.getName(l);if(!_[Q]){var W=t(z.style,n,{root:!1,parentSelectors:c}),ae=et(W,1),le=ae[0];_[Q]="@keyframes ".concat(z.getName(l)).concat(le)}}function k(z){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return z.forEach(function(W){Array.isArray(W)?k(W,Q):W&&Q.push(W)}),Q}var N=k(Array.isArray(e)?e:[e]);return N.forEach(function(z){var Q=typeof z=="string"&&!i?{}:z;if(typeof Q=="string")E+="".concat(Q,`
`);else if(Q._keyframe)L(Q);else{var W=x.reduce(function(ae,le){var te;return(le==null||(te=le.visit)===null||te===void 0?void 0:te.call(le,ae))||ae},Q);Object.keys(W).forEach(function(ae){var le=W[ae];if(Ct(le)==="object"&&le&&(ae!=="animationName"||!le._keyframe)&&!LL(le)){var te=!1,ge=ae.trim(),Ae=!1;(i||u)&&l?ge.startsWith("@")?te=!0:ge==="&"?ge=Ig("",l,p):ge=Ig(ae,l,p):i&&!l&&(ge==="&"||ge==="")&&(ge="",Ae=!0);var F=t(le,n,{root:Ae,injectHash:te,parentSelectors:[].concat(mr(c),[ge])}),Y=et(F,2),V=Y[0],oe=Y[1];_=De(De({},_),oe),E+="".concat(ge).concat(V)}else{let Se=function(j,ne){var me=j.replace(/[A-Z]/g,function(Oe){return"-".concat(Oe.toLowerCase())}),Me=ne;!aL[j]&&typeof Me=="number"&&Me!==0&&(Me="".concat(Me,"px")),j==="animationName"&&ne!==null&&ne!==void 0&&ne._keyframe&&(L(ne),Me=ne.getName(l)),E+="".concat(me,":").concat(Me,";")};var ue,ee=(ue=le==null?void 0:le.value)!==null&&ue!==void 0?ue:le;Ct(le)==="object"&&le!==null&&le!==void 0&&le[Ty]&&Array.isArray(ee)?ee.forEach(function(j){Se(ae,j)}):Se(ae,ee)}})}}),i?h&&(E&&(E="@layer ".concat(h.name," {").concat(E,"}")),h.dependencies&&(_["@layer ".concat(h.name)]=h.dependencies.map(function(z){return"@layer ".concat(z,", ").concat(h.name,";")}).join(`
`))):E="{".concat(E,"}"),[E,_]};function Ly(t,e){return _s("".concat(t.join("%")).concat(e))}function ML(){return null}var Py="style";function Xf(t,e){var n=t.token,r=t.path,i=t.hashId,u=t.layer,c=t.nonce,l=t.clientOnly,h=t.order,p=h===void 0?0:h,v=ie.useContext(Hs),x=v.autoClear;v.mock;var E=v.defaultCache,_=v.hashPriority,L=v.container,k=v.ssrInline,N=v.transformers,z=v.linters,Q=v.cache,W=v.layer,ae=n._tokenKey,le=[ae];W&&le.push("layer"),le.push.apply(le,mr(r));var te=Hf,ge=ih(Py,le,function(){var oe=le.join("|");if(CL(oe)){var ue=_L(oe),ee=et(ue,2),Se=ee[0],j=ee[1];if(Se)return[Se,ae,j,{},l,p]}var ne=e(),me=PL(ne,{hashId:i,hashPriority:_,layer:W?u:void 0,path:r.join("-"),transformers:N,linters:z}),Me=et(me,2),Oe=Me[0],Le=Me[1],Fe=rc(Oe),ot=Ly(le,Fe);return[Fe,ae,ot,Le,l,p]},function(oe,ue){var ee=et(oe,3),Se=ee[2];(ue||x)&&Hf&&py(Se,{mark:ei})},function(oe){var ue=et(oe,4),ee=ue[0];ue[1];var Se=ue[2],j=ue[3];if(te&&ee!==Cy){var ne={mark:ei,prepend:W?!1:"queue",attachTo:L,priority:p},me=typeof c=="function"?c():c;me&&(ne.csp={nonce:me});var Me=[],Oe=[];Object.keys(j).forEach(function(Fe){Fe.startsWith("@layer")?Me.push(Fe):Oe.push(Fe)}),Me.forEach(function(Fe){Ho(rc(j[Fe]),"_layer-".concat(Fe),De(De({},ne),{},{prepend:!0}))});var Le=Ho(ee,Se,ne);Le[xo]=Q.instanceId,Le.setAttribute(Ca,ae),Oe.forEach(function(Fe){Ho(rc(j[Fe]),"_effect-".concat(Fe),ne)})}}),Ae=et(ge,3),F=Ae[0],Y=Ae[1],V=Ae[2];return function(oe){var ue;if(!k||te||!E)ue=ie.createElement(ML,null);else{var ee;ue=ie.createElement("style",or({},(ee={},Ve(ee,Ca,Y),Ve(ee,ei,V),ee),{dangerouslySetInnerHTML:{__html:F}}))}return ie.createElement(ie.Fragment,null,ue,oe)}}var IL=function(e,n,r){var i=et(e,6),u=i[0],c=i[1],l=i[2],h=i[3],p=i[4],v=i[5],x=r||{},E=x.plain;if(p)return null;var _=u,L={"data-rc-order":"prependQueue","data-rc-priority":"".concat(v)};return _=fc(u,c,l,L,E),h&&Object.keys(h).forEach(function(k){if(!n[k]){n[k]=!0;var N=rc(h[k]),z=fc(N,c,"_effect-".concat(k),L,E);k.startsWith("@layer")?_=z+_:_+=z}}),[v,l,_]},My="cssVar",kL=function(e,n){var r=e.key,i=e.prefix,u=e.unitless,c=e.ignore,l=e.token,h=e.scope,p=h===void 0?"":h,v=ie.useContext(Hs),x=v.cache.instanceId,E=v.container,_=l._tokenKey,L=[].concat(mr(e.path),[r,p,_]),k=ih(My,L,function(){var N=n(),z=my(N,r,{prefix:i,unitless:u,ignore:c,scope:p}),Q=et(z,2),W=Q[0],ae=Q[1],le=Ly(L,ae);return[W,ae,le,r]},function(N){var z=et(N,3),Q=z[2];Hf&&py(Q,{mark:ei})},function(N){var z=et(N,3),Q=z[1],W=z[2];if(Q){var ae=Ho(Q,W,{mark:ei,prepend:"queue",attachTo:E,priority:-999});ae[xo]=x,ae.setAttribute(Ca,r)}});return k},RL=function(e,n,r){var i=et(e,4),u=i[1],c=i[2],l=i[3],h=r||{},p=h.plain;if(!u)return null;var v=-999,x={"data-rc-order":"prependQueue","data-rc-priority":"".concat(v)},E=fc(u,l,c,x,p);return[v,c,E]},ys;ys={},Ve(ys,Py,IL),Ve(ys,vy,oL),Ve(ys,My,RL);var kg=function(){function t(e,n){yi(this,t),Ve(this,"name",void 0),Ve(this,"style",void 0),Ve(this,"_keyframe",!0),this.name=e,this.style=n}return vi(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function ya(t){return t.notSplit=!0,t}ya(["borderTop","borderBottom"]),ya(["borderTop"]),ya(["borderBottom"]),ya(["borderLeft","borderRight"]),ya(["borderLeft"]),ya(["borderRight"]);var sh=ie.createContext({});function OL(t){return cy(t)||oy(t)||eh(t)||ly()}function Yf(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function Iy(t,e,n,r){if(!e.length)return n;var i=OL(e),u=i[0],c=i.slice(1),l;return!t&&typeof u=="number"?l=[]:Array.isArray(t)?l=mr(t):l=De({},t),r&&n===void 0&&c.length===1?delete l[u][c[0]]:l[u]=Iy(l[u],c,n,r),l}function wf(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!Yf(t,e.slice(0,-1))?t:Iy(t,e,n,r)}function FL(t){return Ct(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function Rg(t){return Array.isArray(t)?[]:{}}var NL=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function $L(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Rg(e[0]);return e.forEach(function(i){function u(c,l){var h=new Set(l),p=Yf(i,c),v=Array.isArray(p);if(v||FL(p)){if(!h.has(p)){h.add(p);var x=Yf(r,c);v?r=wf(r,c,[]):(!x||Ct(x)!=="object")&&(r=wf(r,c,Rg(p))),NL(p).forEach(function(E){u([].concat(mr(c),[E]),h)})}}else r=wf(r,c,p)}u([])}),r}function BL(){}const DL=ie.createContext({}),ky=()=>{const t=()=>{};return t.deprecated=BL,t},GL=ie.createContext(void 0);var UL={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},WL={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},HL=De(De({},WL),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const Ry={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Og={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},HL),timePickerLocale:Object.assign({},Ry)},Cr="${label} is not a valid ${type}",Kc={locale:"en",Pagination:UL,DatePicker:Og,TimePicker:Ry,Calendar:Og,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Cr,method:Cr,array:Cr,object:Cr,number:Cr,date:Cr,boolean:Cr,integer:Cr,float:Cr,regexp:Cr,email:Cr,url:Cr,hex:Cr},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let ic=Object.assign({},Kc.Modal),oc=[];const Fg=()=>oc.reduce((t,e)=>Object.assign(Object.assign({},t),e),Kc.Modal);function zL(t){if(t){const e=Object.assign({},t);return oc.push(e),ic=Fg(),()=>{oc=oc.filter(n=>n!==e),ic=Fg()}}ic=Object.assign({},Kc.Modal)}function WR(){return ic}const Oy=ie.createContext(void 0),jL="internalMark",VL=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;ie.useEffect(()=>zL(e==null?void 0:e.Modal),[e]);const i=ie.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return ie.createElement(Oy.Provider,{value:i},n)},Fy={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Ls=Object.assign(Object.assign({},Fy),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Pn=Math.round;function xf(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=e(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Ng=(t,e,n)=>n===0?t:t/100;function vs(t,e){const n=e||255;return t>n?n:t<0?0:t}class dn{constructor(e){Ve(this,"isValid",!0),Ve(this,"r",0),Ve(this,"g",0),Ve(this,"b",0),Ve(this,"a",1),Ve(this,"_h",void 0),Ve(this,"_s",void 0),Ve(this,"_l",void 0),Ve(this,"_v",void 0),Ve(this,"_max",void 0),Ve(this,"_min",void 0),Ve(this,"_brightness",void 0);function n(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let i=function(u){return r.startsWith(u)};const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):i("rgb")?this.fromRgbString(r):i("hsl")?this.fromHslString(r):(i("hsv")||i("hsb"))&&this.fromHsvString(r)}else if(e instanceof dn)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=vs(e.r),this.g=vs(e.g),this.b=vs(e.b),this.a=typeof e.a=="number"?vs(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(u){const c=u/255;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),i=e(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Pn(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(e,n=50){const r=this._c(e),i=n/100,u=l=>(r[l]-this[l])*i+this[l],c={r:Pn(u("r")),g:Pn(u("g")),b:Pn(u("b")),a:Pn(u("a")*100)/100};return this._c(c)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),i=u=>Pn((this[u]*this.a+n[u]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const u=Pn(this.a*255).toString(16);e+=u.length===2?u:"0"+u}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=Pn(this.getSaturation()*100),r=Pn(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const i=this.clone();return i[e]=vs(n,r),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(i,u){return parseInt(n[i]+n[u||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:i}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const E=Pn(r*255);this.r=E,this.g=E,this.b=E}let u=0,c=0,l=0;const h=e/60,p=(1-Math.abs(2*r-1))*n,v=p*(1-Math.abs(h%2-1));h>=0&&h<1?(u=p,c=v):h>=1&&h<2?(u=v,c=p):h>=2&&h<3?(c=p,l=v):h>=3&&h<4?(c=v,l=p):h>=4&&h<5?(u=v,l=p):h>=5&&h<6&&(u=p,l=v);const x=r-p/2;this.r=Pn((u+x)*255),this.g=Pn((c+x)*255),this.b=Pn((l+x)*255)}fromHsv({h:e,s:n,v:r,a:i}){this._h=e%360,this._s=n,this._v=r,this.a=typeof i=="number"?i:1;const u=Pn(r*255);if(this.r=u,this.g=u,this.b=u,n<=0)return;const c=e/60,l=Math.floor(c),h=c-l,p=Pn(r*(1-n)*255),v=Pn(r*(1-n*h)*255),x=Pn(r*(1-n*(1-h))*255);switch(l){case 0:this.g=x,this.b=p;break;case 1:this.r=v,this.b=p;break;case 2:this.r=p,this.b=x;break;case 3:this.r=p,this.g=v;break;case 4:this.r=x,this.g=p;break;case 5:default:this.g=p,this.b=v;break}}fromHsvString(e){const n=xf(e,Ng);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=xf(e,Ng);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=xf(e,(r,i)=>i.includes("%")?Pn(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var zu=2,$g=.16,XL=.05,YL=.05,KL=.15,Ny=5,$y=4,QL=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Bg(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-zu*e:Math.round(t.h)+zu*e:r=n?Math.round(t.h)+zu*e:Math.round(t.h)-zu*e,r<0?r+=360:r>=360&&(r-=360),r}function Dg(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-$g*e:e===$y?r=t.s+$g:r=t.s+XL*e,r>1&&(r=1),n&&e===Ny&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function Gg(t,e,n){var r;return n?r=t.v+YL*e:r=t.v-KL*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Ps(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new dn(t),i=r.toHsv(),u=Ny;u>0;u-=1){var c=new dn({h:Bg(i,u,!0),s:Dg(i,u,!0),v:Gg(i,u,!0)});n.push(c)}n.push(r);for(var l=1;l<=$y;l+=1){var h=new dn({h:Bg(i,l),s:Dg(i,l),v:Gg(i,l)});n.push(h)}return e.theme==="dark"?QL.map(function(p){var v=p.index,x=p.amount;return new dn(e.backgroundColor||"#141414").mix(n[v],x).toHexString()}):n.map(function(p){return p.toHexString()})}var bf={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Kf=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Kf.primary=Kf[5];var Qf=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Qf.primary=Qf[5];var qf=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];qf.primary=qf[5];var Jf=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Jf.primary=Jf[5];var Zf=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Zf.primary=Zf[5];var ed=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];ed.primary=ed[5];var td=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];td.primary=td[5];var nd=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];nd.primary=nd[5];var dc=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];dc.primary=dc[5];var rd=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];rd.primary=rd[5];var id=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];id.primary=id[5];var od=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];od.primary=od[5];var ad=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];ad.primary=ad[5];var Sf={red:Kf,volcano:Qf,orange:qf,gold:Jf,yellow:Zf,lime:ed,green:td,cyan:nd,blue:dc,geekblue:rd,purple:id,magenta:od,grey:ad};function qL(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:u,colorError:c,colorInfo:l,colorPrimary:h,colorBgBase:p,colorTextBase:v}=t,x=n(h),E=n(i),_=n(u),L=n(c),k=n(l),N=r(p,v),z=t.colorLink||t.colorInfo,Q=n(z),W=new dn(L[1]).mix(new dn(L[3]),50).toHexString();return Object.assign(Object.assign({},N),{colorPrimaryBg:x[1],colorPrimaryBgHover:x[2],colorPrimaryBorder:x[3],colorPrimaryBorderHover:x[4],colorPrimaryHover:x[5],colorPrimary:x[6],colorPrimaryActive:x[7],colorPrimaryTextHover:x[8],colorPrimaryText:x[9],colorPrimaryTextActive:x[10],colorSuccessBg:E[1],colorSuccessBgHover:E[2],colorSuccessBorder:E[3],colorSuccessBorderHover:E[4],colorSuccessHover:E[4],colorSuccess:E[6],colorSuccessActive:E[7],colorSuccessTextHover:E[8],colorSuccessText:E[9],colorSuccessTextActive:E[10],colorErrorBg:L[1],colorErrorBgHover:L[2],colorErrorBgFilledHover:W,colorErrorBgActive:L[3],colorErrorBorder:L[3],colorErrorBorderHover:L[4],colorErrorHover:L[5],colorError:L[6],colorErrorActive:L[7],colorErrorTextHover:L[8],colorErrorText:L[9],colorErrorTextActive:L[10],colorWarningBg:_[1],colorWarningBgHover:_[2],colorWarningBorder:_[3],colorWarningBorderHover:_[4],colorWarningHover:_[4],colorWarning:_[6],colorWarningActive:_[7],colorWarningTextHover:_[8],colorWarningText:_[9],colorWarningTextActive:_[10],colorInfoBg:k[1],colorInfoBgHover:k[2],colorInfoBorder:k[3],colorInfoBorderHover:k[4],colorInfoHover:k[4],colorInfo:k[6],colorInfoActive:k[7],colorInfoTextHover:k[8],colorInfoText:k[9],colorInfoTextActive:k[10],colorLinkHover:Q[4],colorLink:Q[6],colorLinkActive:Q[7],colorBgMask:new dn("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const JL=t=>{let e=t,n=t,r=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:i}};function ZL(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:i}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:i+1},JL(r))}const eP=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function tP(t){return(t+8)/t}function nP(t){const e=Array.from({length:10}).map((n,r)=>{const i=r-1,u=t*Math.pow(Math.E,i/5),c=r>1?Math.floor(u):Math.ceil(u);return Math.floor(c/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:tP(n)}))}const rP=t=>{const e=nP(t),n=e.map(v=>v.size),r=e.map(v=>v.lineHeight),i=n[1],u=n[0],c=n[2],l=r[1],h=r[0],p=r[2];return{fontSizeSM:u,fontSize:i,fontSizeLG:c,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:l,lineHeightLG:p,lineHeightSM:h,fontHeight:Math.round(l*i),fontHeightLG:Math.round(p*c),fontHeightSM:Math.round(h*u),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function iP(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const Or=(t,e)=>new dn(t).setA(e).toRgbString(),ws=(t,e)=>new dn(t).darken(e).toHexString(),oP=t=>{const e=Ps(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},aP=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Or(r,.88),colorTextSecondary:Or(r,.65),colorTextTertiary:Or(r,.45),colorTextQuaternary:Or(r,.25),colorFill:Or(r,.15),colorFillSecondary:Or(r,.06),colorFillTertiary:Or(r,.04),colorFillQuaternary:Or(r,.02),colorBgSolid:Or(r,1),colorBgSolidHover:Or(r,.75),colorBgSolidActive:Or(r,.95),colorBgLayout:ws(n,4),colorBgContainer:ws(n,0),colorBgElevated:ws(n,0),colorBgSpotlight:Or(r,.85),colorBgBlur:"transparent",colorBorder:ws(n,15),colorBorderSecondary:ws(n,6)}};function sP(t){bf.pink=bf.magenta,Sf.pink=Sf.magenta;const e=Object.keys(Fy).map(n=>{const r=t[n]===bf[n]?Sf[n]:Ps(t[n]);return Array.from({length:10},()=>1).reduce((i,u,c)=>(i[`${n}-${c+1}`]=r[c],i[`${n}${c+1}`]=r[c],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),qL(t,{generateColorPalettes:oP,generateNeutralColorPalettes:aP})),rP(t.fontSize)),iP(t)),eP(t)),ZL(t))}const By=Wf(sP),sd={token:Ls,override:{override:Ls},hashed:!0},Dy=Xt.createContext(sd),ud="ant",Qc="anticon",HR=["outlined","borderless","filled","underlined"],uP=(t,e)=>e||(t?`${ud}-${t}`:ud),mi=ie.createContext({getPrefixCls:uP,iconPrefixCls:Qc}),{Consumer:zR}=mi,Ug={};function jR(t){const e=ie.useContext(mi),{getPrefixCls:n,direction:r,getPopupContainer:i}=e,u=e[t];return Object.assign(Object.assign({classNames:Ug,styles:Ug},u),{getPrefixCls:n,direction:r,getPopupContainer:i})}const cP=`-ant-${Date.now()}-${Math.random()}`;function lP(t,e){const n={},r=(c,l)=>{let h=c.clone();return h=(l==null?void 0:l(h))||h,h.toRgbString()},i=(c,l)=>{const h=new dn(c),p=Ps(h.toRgbString());n[`${l}-color`]=r(h),n[`${l}-color-disabled`]=p[1],n[`${l}-color-hover`]=p[4],n[`${l}-color-active`]=p[6],n[`${l}-color-outline`]=h.clone().setA(.2).toRgbString(),n[`${l}-color-deprecated-bg`]=p[0],n[`${l}-color-deprecated-border`]=p[2]};if(e.primaryColor){i(e.primaryColor,"primary");const c=new dn(e.primaryColor),l=Ps(c.toRgbString());l.forEach((p,v)=>{n[`primary-${v+1}`]=p}),n["primary-color-deprecated-l-35"]=r(c,p=>p.lighten(35)),n["primary-color-deprecated-l-20"]=r(c,p=>p.lighten(20)),n["primary-color-deprecated-t-20"]=r(c,p=>p.tint(20)),n["primary-color-deprecated-t-50"]=r(c,p=>p.tint(50)),n["primary-color-deprecated-f-12"]=r(c,p=>p.setA(p.a*.12));const h=new dn(l[0]);n["primary-color-active-deprecated-f-30"]=r(h,p=>p.setA(p.a*.3)),n["primary-color-active-deprecated-d-02"]=r(h,p=>p.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(c=>`--${t}-${c}: ${n[c]};`).join(`
`)}
  }
  `.trim()}function fP(t,e){const n=lP(t,e);Vi()&&Ho(n,`${cP}-dynamic-theme`)}const cd=ie.createContext(!1),dP=t=>{let{children:e,disabled:n}=t;const r=ie.useContext(cd);return ie.createElement(cd.Provider,{value:n??r},e)},Ms=ie.createContext(void 0),hP=t=>{let{children:e,size:n}=t;const r=ie.useContext(Ms);return ie.createElement(Ms.Provider,{value:n||r},e)};function pP(){const t=ie.useContext(cd),e=ie.useContext(Ms);return{componentDisabled:t,componentSize:e}}var Gy=vi(function t(){yi(this,t)}),Uy="CALC_UNIT",gP=new RegExp(Uy,"g");function Ef(t){return typeof t=="number"?"".concat(t).concat(Uy):t}var mP=function(t){zc(n,t);var e=jc(n);function n(r,i){var u;yi(this,n),u=e.call(this),Ve(Wo(u),"result",""),Ve(Wo(u),"unitlessCssVar",void 0),Ve(Wo(u),"lowPriority",void 0);var c=Ct(r);return u.unitlessCssVar=i,r instanceof n?u.result="(".concat(r.result,")"):c==="number"?u.result=Ef(r):c==="string"&&(u.result=r),u}return vi(n,[{key:"add",value:function(i){return i instanceof n?this.result="".concat(this.result," + ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," + ").concat(Ef(i))),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof n?this.result="".concat(this.result," - ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," - ").concat(Ef(i))),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," * ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," * ").concat(i)),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," / ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," / ").concat(i)),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(i){var u=this,c=i||{},l=c.unit,h=!0;return typeof l=="boolean"?h=l:Array.from(this.unitlessCssVar).some(function(p){return u.result.includes(p)})&&(h=!1),this.result=this.result.replace(gP,h?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(Gy),yP=function(t){zc(n,t);var e=jc(n);function n(r){var i;return yi(this,n),i=e.call(this),Ve(Wo(i),"result",0),r instanceof n?i.result=r.result:typeof r=="number"&&(i.result=r),i}return vi(n,[{key:"add",value:function(i){return i instanceof n?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof n?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof n?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof n?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),n}(Gy),vP=function(e,n){var r=e==="css"?mP:yP;return function(i){return new r(i,n)}},Wg=function(e,n){return"".concat([n,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function ld(t){var e=ie.useRef();e.current=t;var n=ie.useCallback(function(){for(var r,i=arguments.length,u=new Array(i),c=0;c<i;c++)u[c]=arguments[c];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(u))},[]);return n}function fd(t){var e=ie.useRef(!1),n=ie.useState(t),r=et(n,2),i=r[0],u=r[1];ie.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function c(l,h){h&&e.current||u(l)}return[i,c]}function Hg(t,e,n,r){var i=De({},e[t]);if(r!=null&&r.deprecatedTokens){var u=r.deprecatedTokens;u.forEach(function(l){var h=et(l,2),p=h[0],v=h[1];if(i!=null&&i[p]||i!=null&&i[v]){var x;(x=i[v])!==null&&x!==void 0||(i[v]=i==null?void 0:i[p])}})}var c=De(De({},n),i);return Object.keys(c).forEach(function(l){c[l]===e[l]&&delete c[l]}),c}var Wy=typeof CSSINJS_STATISTIC<"u",dd=!0;function uh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!Wy)return Object.assign.apply(Object,[{}].concat(e));dd=!1;var r={};return e.forEach(function(i){if(Ct(i)==="object"){var u=Object.keys(i);u.forEach(function(c){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:function(){return i[c]}})})}}),dd=!0,r}var zg={};function wP(){}var xP=function(e){var n,r=e,i=wP;return Wy&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(e,{get:function(c,l){if(dd){var h;(h=n)===null||h===void 0||h.add(l)}return c[l]}}),i=function(c,l){var h;zg[c]={global:Array.from(n),component:De(De({},(h=zg[c])===null||h===void 0?void 0:h.component),l)}}),{token:r,keys:n,flush:i}};function jg(t,e,n){if(typeof n=="function"){var r;return n(uh(e,(r=e[t])!==null&&r!==void 0?r:{}))}return n??{}}function bP(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"max(".concat(r.map(function(u){return zf(u)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"min(".concat(r.map(function(u){return zf(u)}).join(","),")")}}}var SP=1e3*60*10,EP=function(){function t(){yi(this,t),Ve(this,"map",new Map),Ve(this,"objectIDMap",new WeakMap),Ve(this,"nextID",0),Ve(this,"lastAccessBeat",new Map),Ve(this,"accessBeat",0)}return vi(t,[{key:"set",value:function(n,r){this.clear();var i=this.getCompositeKey(n);this.map.set(i,r),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),i=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(n){var r=this,i=n.map(function(u){return u&&Ct(u)==="object"?"obj_".concat(r.getObjectID(u)):"".concat(Ct(u),"_").concat(u)});return i.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(i,u){r-i>SP&&(n.map.delete(u),n.lastAccessBeat.delete(u))}),this.accessBeat=0}}}]),t}(),Vg=new EP;function AP(t,e){return Xt.useMemo(function(){var n=Vg.get(e);if(n)return n;var r=t();return Vg.set(e,r),r},e)}var CP=function(){return{}};function _P(t){var e=t.useCSP,n=e===void 0?CP:e,r=t.useToken,i=t.usePrefix,u=t.getResetStyles,c=t.getCommonStyle,l=t.getCompUnitless;function h(E,_,L,k){var N=Array.isArray(E)?E[0]:E;function z(Ae){return"".concat(String(N)).concat(Ae.slice(0,1).toUpperCase()).concat(Ae.slice(1))}var Q=(k==null?void 0:k.unitless)||{},W=typeof l=="function"?l(E):{},ae=De(De({},W),{},Ve({},z("zIndexPopup"),!0));Object.keys(Q).forEach(function(Ae){ae[z(Ae)]=Q[Ae]});var le=De(De({},k),{},{unitless:ae,prefixToken:z}),te=v(E,_,L,le),ge=p(N,L,le);return function(Ae){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ae,Y=te(Ae,F),V=et(Y,2),oe=V[1],ue=ge(F),ee=et(ue,2),Se=ee[0],j=ee[1];return[Se,oe,j]}}function p(E,_,L){var k=L.unitless,N=L.injectStyle,z=N===void 0?!0:N,Q=L.prefixToken,W=L.ignore,ae=function(ge){var Ae=ge.rootCls,F=ge.cssVar,Y=F===void 0?{}:F,V=r(),oe=V.realToken;return kL({path:[E],prefix:Y.prefix,key:Y.key,unitless:k,ignore:W,token:oe,scope:Ae},function(){var ue=jg(E,oe,_),ee=Hg(E,oe,ue,{deprecatedTokens:L==null?void 0:L.deprecatedTokens});return Object.keys(ue).forEach(function(Se){ee[Q(Se)]=ee[Se],delete ee[Se]}),ee}),null},le=function(ge){var Ae=r(),F=Ae.cssVar;return[function(Y){return z&&F?Xt.createElement(Xt.Fragment,null,Xt.createElement(ae,{rootCls:ge,cssVar:F,component:E}),Y):Y},F==null?void 0:F.key]};return le}function v(E,_,L){var k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=Array.isArray(E)?E:[E,E],z=et(N,1),Q=z[0],W=N.join("-"),ae=t.layer||{name:"antd"};return function(le){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le,ge=r(),Ae=ge.theme,F=ge.realToken,Y=ge.hashId,V=ge.token,oe=ge.cssVar,ue=i(),ee=ue.rootPrefixCls,Se=ue.iconPrefixCls,j=n(),ne=oe?"css":"js",me=AP(function(){var it=new Set;return oe&&Object.keys(k.unitless||{}).forEach(function(Ke){it.add(Zu(Ke,oe.prefix)),it.add(Zu(Ke,Wg(Q,oe.prefix)))}),vP(ne,it)},[ne,Q,oe==null?void 0:oe.prefix]),Me=bP(ne),Oe=Me.max,Le=Me.min,Fe={theme:Ae,token:V,hashId:Y,nonce:function(){return j.nonce},clientOnly:k.clientOnly,layer:ae,order:k.order||-999};typeof u=="function"&&Xf(De(De({},Fe),{},{clientOnly:!1,path:["Shared",ee]}),function(){return u(V,{prefix:{rootPrefixCls:ee,iconPrefixCls:Se},csp:j})});var ot=Xf(De(De({},Fe),{},{path:[W,le,Se]}),function(){if(k.injectStyle===!1)return[];var it=xP(V),Ke=it.token,yt=it.flush,Nt=jg(Q,F,L),In=".".concat(le),an=Hg(Q,F,Nt,{deprecatedTokens:k.deprecatedTokens});oe&&Nt&&Ct(Nt)==="object"&&Object.keys(Nt).forEach(function(wn){Nt[wn]="var(".concat(Zu(wn,Wg(Q,oe.prefix)),")")});var pn=uh(Ke,{componentCls:In,prefixCls:le,iconCls:".".concat(Se),antCls:".".concat(ee),calc:me,max:Oe,min:Le},oe?Nt:an),Un=_(pn,{hashId:Y,prefixCls:le,rootPrefixCls:ee,iconPrefixCls:Se});yt(Q,an);var Ut=typeof c=="function"?c(pn,le,te,k.resetFont):null;return[k.resetStyle===!1?null:Ut,Un]});return[ot,Y]}}function x(E,_,L){var k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=v(E,_,L,De({resetStyle:!1,order:-998},k)),z=function(W){var ae=W.prefixCls,le=W.rootCls,te=le===void 0?ae:le;return N(ae,te),null};return z}return{genStyleHooks:h,genSubStyleComponent:x,genComponentStyleHook:v}}const TP="5.24.5";function Af(t){return t>=0&&t<=255}function ju(t,e){const{r:n,g:r,b:i,a:u}=new dn(t).toRgb();if(u<1)return t;const{r:c,g:l,b:h}=new dn(e).toRgb();for(let p=.01;p<=1;p+=.01){const v=Math.round((n-c*(1-p))/p),x=Math.round((r-l*(1-p))/p),E=Math.round((i-h*(1-p))/p);if(Af(v)&&Af(x)&&Af(E))return new dn({r:v,g:x,b:E,a:Math.round(p*100)/100}).toRgbString()}return new dn({r:n,g:r,b:i,a:1}).toRgbString()}var LP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Hy(t){const{override:e}=t,n=LP(t,["override"]),r=Object.assign({},e);Object.keys(Ls).forEach(E=>{delete r[E]});const i=Object.assign(Object.assign({},n),r),u=480,c=576,l=768,h=992,p=1200,v=1600;if(i.motion===!1){const E="0s";i.motionDurationFast=E,i.motionDurationMid=E,i.motionDurationSlow=E}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:ju(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:ju(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:ju(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*3,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:ju(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:u,screenXSMin:u,screenXSMax:c-1,screenSM:c,screenSMMin:c,screenSMMax:l-1,screenMD:l,screenMDMin:l,screenMDMax:h-1,screenLG:h,screenLGMin:h,screenLGMax:p-1,screenXL:p,screenXLMin:p,screenXLMax:v-1,screenXXL:v,screenXXLMin:v,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new dn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new dn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new dn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var Xg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const zy={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},PP={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},MP={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},jy=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:i}=e,u=Xg(e,["override"]);let c=Object.assign(Object.assign({},r),{override:i});return c=Hy(c),u&&Object.entries(u).forEach(l=>{let[h,p]=l;const{theme:v}=p,x=Xg(p,["theme"]);let E=x;v&&(E=jy(Object.assign(Object.assign({},c),x),{override:x},v)),c[h]=E}),c};function zs(){const{token:t,hashed:e,theme:n,override:r,cssVar:i}=Xt.useContext(Dy),u=`${TP}-${e||""}`,c=n||By,[l,h,p]=iL(c,[Ls,t],{salt:u,override:r,getComputedToken:jy,formatToken:Hy,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:zy,ignore:PP,preserve:MP}});return[c,p,e?h:"",l,i]}const VR={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},IP=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},kP=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),XR=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),RP=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),OP=(t,e,n,r)=>{const i=`[class^="${e}"], [class*=" ${e}"]`,u=n?`.${n}`:i,c={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let l={};return r!==!1&&(l={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[u]:Object.assign(Object.assign(Object.assign({},l),c),{[i]:c})}},FP=(t,e)=>({outline:`${zf(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),YR=(t,e)=>({"&:focus-visible":Object.assign({},FP(t,e))}),Vy=t=>({[`.${t}`]:Object.assign(Object.assign({},kP()),{[`.${t} .${t}-icon`]:{display:"block"}})}),{genStyleHooks:NP,genComponentStyleHook:KR,genSubStyleComponent:QR}=_P({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=ie.useContext(mi);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,i]=zs();return{theme:t,realToken:e,hashId:n,token:r,cssVar:i}},useCSP:()=>{const{csp:t}=ie.useContext(mi);return t??{}},getResetStyles:(t,e)=>{var n;const r=RP(t);return[r,{"&":r},Vy((n=e==null?void 0:e.prefix.iconPrefixCls)!==null&&n!==void 0?n:Qc)]},getCommonStyle:OP,getCompUnitless:()=>zy}),$P=(t,e)=>{const[n,r]=zs();return Xf({token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[Vy(t)])},BP=Object.assign({},xd),{useId:Yg}=BP,DP=()=>"",GP=typeof Yg>"u"?DP:Yg;function UP(t,e,n){var r;ky();const i=t||{},u=i.inherit===!1||!e?Object.assign(Object.assign({},sd),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:sd.hashed,cssVar:e==null?void 0:e.cssVar}):e,c=GP();return Jd(()=>{var l,h;if(!t)return e;const p=Object.assign({},u.components);Object.keys(t.components||{}).forEach(E=>{p[E]=Object.assign(Object.assign({},p[E]),t.components[E])});const v=`css-var-${c.replace(/:/g,"")}`,x=((l=i.cssVar)!==null&&l!==void 0?l:u.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof u.cssVar=="object"?u.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((h=i.cssVar)===null||h===void 0?void 0:h.key)||v});return Object.assign(Object.assign(Object.assign({},u),i),{token:Object.assign(Object.assign({},u.token),i.token),components:p,cssVar:x})},[i,u],(l,h)=>l.some((p,v)=>{const x=h[v];return!FT(p,x,!0)}))}var WP=["children"],Xy=ie.createContext({});function HP(t){var e=t.children,n=Xo(t,WP);return ie.createElement(Xy.Provider,{value:n},e)}var zP=function(t){zc(n,t);var e=jc(n);function n(){return yi(this,n),e.apply(this,arguments)}return vi(n,[{key:"render",value:function(){return this.props.children}}]),n}(ie.Component);function jP(t){var e=ie.useReducer(function(l){return l+1},0),n=et(e,2),r=n[1],i=ie.useRef(t),u=ld(function(){return i.current}),c=ld(function(l){i.current=typeof l=="function"?l(i.current):l,r()});return[u,c]}var yo="none",Vu="appear",Xu="enter",Yu="leave",Kg="none",Jr="prepare",wa="start",xa="active",ch="end",Yy="prepared";function Qg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function VP(t,e){var n={animationend:Qg("Animation","AnimationEnd"),transitionend:Qg("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var XP=VP(Vi(),typeof window<"u"?window:{}),Ky={};if(Vi()){var YP=document.createElement("div");Ky=YP.style}var Ku={};function Qy(t){if(Ku[t])return Ku[t];var e=XP[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var u=n[i];if(Object.prototype.hasOwnProperty.call(e,u)&&u in Ky)return Ku[t]=e[u],Ku[t]}return""}var qy=Qy("animationend"),Jy=Qy("transitionend"),Zy=!!(qy&&Jy),qg=qy||"animationend",Jg=Jy||"transitionend";function Zg(t,e){if(!t)return null;if(Ct(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const KP=function(t){var e=ie.useRef();function n(i){i&&(i.removeEventListener(Jg,t),i.removeEventListener(qg,t))}function r(i){e.current&&e.current!==i&&n(e.current),i&&i!==e.current&&(i.addEventListener(Jg,t),i.addEventListener(qg,t),e.current=i)}return ie.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var ev=Vi()?ie.useLayoutEffect:ie.useEffect;const QP=function(){var t=ie.useRef(null);function e(){Df.cancel(t.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var u=Df(function(){i<=1?r({isCanceled:function(){return u!==t.current}}):n(r,i-1)});t.current=u}return ie.useEffect(function(){return function(){e()}},[]),[n,e]};var qP=[Jr,wa,xa,ch],JP=[Jr,Yy],tv=!1,ZP=!0;function nv(t){return t===xa||t===ch}const eM=function(t,e,n){var r=fd(Kg),i=et(r,2),u=i[0],c=i[1],l=QP(),h=et(l,2),p=h[0],v=h[1];function x(){c(Jr,!0)}var E=e?JP:qP;return ev(function(){if(u!==Kg&&u!==ch){var _=E.indexOf(u),L=E[_+1],k=n(u);k===tv?c(L,!0):L&&p(function(N){function z(){N.isCanceled()||c(L,!0)}k===!0?z():Promise.resolve(k).then(z)})}},[t,u]),ie.useEffect(function(){return function(){v()}},[]),[x,u]};function tM(t,e,n,r){var i=r.motionEnter,u=i===void 0?!0:i,c=r.motionAppear,l=c===void 0?!0:c,h=r.motionLeave,p=h===void 0?!0:h,v=r.motionDeadline,x=r.motionLeaveImmediately,E=r.onAppearPrepare,_=r.onEnterPrepare,L=r.onLeavePrepare,k=r.onAppearStart,N=r.onEnterStart,z=r.onLeaveStart,Q=r.onAppearActive,W=r.onEnterActive,ae=r.onLeaveActive,le=r.onAppearEnd,te=r.onEnterEnd,ge=r.onLeaveEnd,Ae=r.onVisibleChanged,F=fd(),Y=et(F,2),V=Y[0],oe=Y[1],ue=jP(yo),ee=et(ue,2),Se=ee[0],j=ee[1],ne=fd(null),me=et(ne,2),Me=me[0],Oe=me[1],Le=Se(),Fe=ie.useRef(!1),ot=ie.useRef(null);function it(){return n()}var Ke=ie.useRef(!1);function yt(){j(yo),Oe(null,!0)}var Nt=ld(function(at){var _t=Se();if(_t!==yo){var tn=it();if(!(at&&!at.deadline&&at.target!==tn)){var bt=Ke.current,Dt;_t===Vu&&bt?Dt=le==null?void 0:le(tn,at):_t===Xu&&bt?Dt=te==null?void 0:te(tn,at):_t===Yu&&bt&&(Dt=ge==null?void 0:ge(tn,at)),bt&&Dt!==!1&&yt()}}}),In=KP(Nt),an=et(In,1),pn=an[0],Un=function(_t){switch(_t){case Vu:return Ve(Ve(Ve({},Jr,E),wa,k),xa,Q);case Xu:return Ve(Ve(Ve({},Jr,_),wa,N),xa,W);case Yu:return Ve(Ve(Ve({},Jr,L),wa,z),xa,ae);default:return{}}},Ut=ie.useMemo(function(){return Un(Le)},[Le]),wn=eM(Le,!t,function(at){if(at===Jr){var _t=Ut[Jr];return _t?_t(it()):tv}if(en in Ut){var tn;Oe(((tn=Ut[en])===null||tn===void 0?void 0:tn.call(Ut,it(),null))||null)}return en===xa&&Le!==yo&&(pn(it()),v>0&&(clearTimeout(ot.current),ot.current=setTimeout(function(){Nt({deadline:!0})},v))),en===Yy&&yt(),ZP}),Wt=et(wn,2),En=Wt[0],en=Wt[1],jt=nv(en);Ke.current=jt;var Wn=ie.useRef(null);ev(function(){if(!(Fe.current&&Wn.current===e)){oe(e);var at=Fe.current;Fe.current=!0;var _t;!at&&e&&l&&(_t=Vu),at&&e&&u&&(_t=Xu),(at&&!e&&p||!at&&x&&!e&&p)&&(_t=Yu);var tn=Un(_t);_t&&(t||tn[Jr])?(j(_t),En()):j(yo),Wn.current=e}},[e]),ie.useEffect(function(){(Le===Vu&&!l||Le===Xu&&!u||Le===Yu&&!p)&&j(yo)},[l,u,p]),ie.useEffect(function(){return function(){Fe.current=!1,clearTimeout(ot.current)}},[]);var yr=ie.useRef(!1);ie.useEffect(function(){V&&(yr.current=!0),V!==void 0&&Le===yo&&((yr.current||V)&&(Ae==null||Ae(V)),yr.current=!0)},[V,Le]);var gn=Me;return Ut[Jr]&&en===wa&&(gn=De({transition:"none"},gn)),[Le,en,gn,V??e]}function nM(t){var e=t;Ct(t)==="object"&&(e=t.transitionSupport);function n(i,u){return!!(i.motionName&&e&&u!==!1)}var r=ie.forwardRef(function(i,u){var c=i.visible,l=c===void 0?!0:c,h=i.removeOnLeave,p=h===void 0?!0:h,v=i.forceRender,x=i.children,E=i.motionName,_=i.leavedClassName,L=i.eventProps,k=ie.useContext(Xy),N=k.motion,z=n(i,N),Q=ie.useRef(),W=ie.useRef();function ae(){try{return Q.current instanceof HTMLElement?Q.current:xT(W.current)}catch{return null}}var le=tM(z,l,ae,i),te=et(le,4),ge=te[0],Ae=te[1],F=te[2],Y=te[3],V=ie.useRef(Y);Y&&(V.current=!0);var oe=ie.useCallback(function(me){Q.current=me,ny(u,me)},[u]),ue,ee=De(De({},L),{},{visible:l});if(!x)ue=null;else if(ge===yo)Y?ue=x(De({},ee),oe):!p&&V.current&&_?ue=x(De(De({},ee),{},{className:_}),oe):v||!p&&!_?ue=x(De(De({},ee),{},{style:{display:"none"}}),oe):ue=null;else{var Se;Ae===Jr?Se="prepare":nv(Ae)?Se="active":Ae===wa&&(Se="start");var j=Zg(E,"".concat(ge,"-").concat(Se));ue=x(De(De({},ee),{},{className:Zr(Zg(E,ge),Ve(Ve({},j,j&&Se),E,typeof E=="string")),style:F}),oe)}if(ie.isValidElement(ue)&&ry(ue)){var ne=CT(ue);ne||(ue=ie.cloneElement(ue,{ref:oe}))}return ie.createElement(zP,{ref:W},ue)});return r.displayName="CSSMotion",r}const rM=nM(Zy);var hd="add",pd="keep",gd="remove",Cf="removed";function iM(t){var e;return t&&Ct(t)==="object"&&"key"in t?e=t:e={key:t},De(De({},e),{},{key:String(e.key)})}function md(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(iM)}function oM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=e.length,u=md(t),c=md(e);u.forEach(function(p){for(var v=!1,x=r;x<i;x+=1){var E=c[x];if(E.key===p.key){r<x&&(n=n.concat(c.slice(r,x).map(function(_){return De(De({},_),{},{status:hd})})),r=x),n.push(De(De({},E),{},{status:pd})),r+=1,v=!0;break}}v||n.push(De(De({},p),{},{status:gd}))}),r<i&&(n=n.concat(c.slice(r).map(function(p){return De(De({},p),{},{status:hd})})));var l={};n.forEach(function(p){var v=p.key;l[v]=(l[v]||0)+1});var h=Object.keys(l).filter(function(p){return l[p]>1});return h.forEach(function(p){n=n.filter(function(v){var x=v.key,E=v.status;return x!==p||E!==gd}),n.forEach(function(v){v.key===p&&(v.status=pd)})}),n}var aM=["component","children","onVisibleChanged","onAllRemoved"],sM=["status"],uM=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function cM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rM,n=function(r){zc(u,r);var i=jc(u);function u(){var c;yi(this,u);for(var l=arguments.length,h=new Array(l),p=0;p<l;p++)h[p]=arguments[p];return c=i.call.apply(i,[this].concat(h)),Ve(Wo(c),"state",{keyEntities:[]}),Ve(Wo(c),"removeKey",function(v){c.setState(function(x){var E=x.keyEntities.map(function(_){return _.key!==v?_:De(De({},_),{},{status:Cf})});return{keyEntities:E}},function(){var x=c.state.keyEntities,E=x.filter(function(_){var L=_.status;return L!==Cf}).length;E===0&&c.props.onAllRemoved&&c.props.onAllRemoved()})}),c}return vi(u,[{key:"render",value:function(){var l=this,h=this.state.keyEntities,p=this.props,v=p.component,x=p.children,E=p.onVisibleChanged;p.onAllRemoved;var _=Xo(p,aM),L=v||ie.Fragment,k={};return uM.forEach(function(N){k[N]=_[N],delete _[N]}),delete _.keys,ie.createElement(L,_,h.map(function(N,z){var Q=N.status,W=Xo(N,sM),ae=Q===hd||Q===pd;return ie.createElement(e,or({},k,{key:W.key,visible:ae,eventProps:W,onVisibleChanged:function(te){E==null||E(te,{key:W.key}),te||l.removeKey(W.key)}}),function(le,te){return x(De(De({},le),{},{index:z}),te)})}))}}],[{key:"getDerivedStateFromProps",value:function(l,h){var p=l.keys,v=h.keyEntities,x=md(p),E=oM(v,x);return{keyEntities:E.filter(function(_){var L=v.find(function(k){var N=k.key;return _.key===N});return!(L&&L.status===Cf&&_.status===gd)})}}}]),u}(ie.Component);return Ve(n,"defaultProps",{component:"div"}),n}const lM=cM(Zy);function fM(t){const{children:e}=t,[,n]=zs(),{motion:r}=n,i=ie.useRef(!1);return i.current=i.current||r===!1,i.current?ie.createElement(HP,{motion:r},e):e}const dM=()=>null;var hM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const pM=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let hc,rv,iv,ov;function ac(){return hc||ud}function gM(){return rv||Qc}function mM(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const yM=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:i}=t;e!==void 0&&(hc=e),n!==void 0&&(rv=n),"holderRender"in t&&(ov=i),r&&(mM(r)?fP(ac(),r):iv=r)},vM=()=>({getPrefixCls:(t,e)=>e||(t?`${ac()}-${t}`:ac()),getIconPrefixCls:gM,getRootPrefixCls:()=>hc||ac(),getTheme:()=>iv,holderRender:ov}),wM=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:u,form:c,locale:l,componentSize:h,direction:p,space:v,splitter:x,virtual:E,dropdownMatchSelectWidth:_,popupMatchSelectWidth:L,popupOverflow:k,legacyLocale:N,parentContext:z,iconPrefixCls:Q,theme:W,componentDisabled:ae,segmented:le,statistic:te,spin:ge,calendar:Ae,carousel:F,cascader:Y,collapse:V,typography:oe,checkbox:ue,descriptions:ee,divider:Se,drawer:j,skeleton:ne,steps:me,image:Me,layout:Oe,list:Le,mentions:Fe,modal:ot,progress:it,result:Ke,slider:yt,breadcrumb:Nt,menu:In,pagination:an,input:pn,textArea:Un,empty:Ut,badge:wn,radio:Wt,rate:En,switch:en,transfer:jt,avatar:Wn,message:yr,tag:gn,table:at,card:_t,tabs:tn,timeline:bt,timePicker:Dt,upload:vt,notification:wi,tree:xn,colorPicker:xi,datePicker:bi,rangePicker:Yi,flex:Ki,wave:Qi,dropdown:qi,warning:Wr,tour:Si,tooltip:Hr,popover:Ei,popconfirm:Ra,floatButtonGroup:Ji,variant:ri,inputNumber:vr,treeSelect:Jo}=t,Zi=ie.useCallback((Kt,nn)=>{const{prefixCls:An}=t;if(nn)return nn;const kn=An||z.getPrefixCls("");return Kt?`${kn}-${Kt}`:kn},[z.getPrefixCls,t.prefixCls]),ii=Q||z.iconPrefixCls||Qc,oi=n||z.csp;$P(ii,oi);const eo=UP(W,z.theme,{prefixCls:Zi("")}),Ai={csp:oi,autoInsertSpaceInButton:r,alert:i,anchor:u,locale:l||N,direction:p,space:v,splitter:x,virtual:E,popupMatchSelectWidth:L??_,popupOverflow:k,getPrefixCls:Zi,iconPrefixCls:ii,theme:eo,segmented:le,statistic:te,spin:ge,calendar:Ae,carousel:F,cascader:Y,collapse:V,typography:oe,checkbox:ue,descriptions:ee,divider:Se,drawer:j,skeleton:ne,steps:me,image:Me,input:pn,textArea:Un,layout:Oe,list:Le,mentions:Fe,modal:ot,progress:it,result:Ke,slider:yt,breadcrumb:Nt,menu:In,pagination:an,empty:Ut,badge:wn,radio:Wt,rate:En,switch:en,transfer:jt,avatar:Wn,message:yr,tag:gn,table:at,card:_t,tabs:tn,timeline:bt,timePicker:Dt,upload:vt,notification:wi,tree:xn,colorPicker:xi,datePicker:bi,rangePicker:Yi,flex:Ki,wave:Qi,dropdown:qi,warning:Wr,tour:Si,tooltip:Hr,popover:Ei,popconfirm:Ra,floatButtonGroup:Ji,variant:ri,inputNumber:vr,treeSelect:Jo},ai=Object.assign({},z);Object.keys(Ai).forEach(Kt=>{Ai[Kt]!==void 0&&(ai[Kt]=Ai[Kt])}),pM.forEach(Kt=>{const nn=t[Kt];nn&&(ai[Kt]=nn)}),typeof r<"u"&&(ai.button=Object.assign({autoInsertSpace:r},ai.button));const si=Jd(()=>ai,ai,(Kt,nn)=>{const An=Object.keys(Kt),kn=Object.keys(nn);return An.length!==kn.length||An.some(zr=>Kt[zr]!==nn[zr])}),{layer:to}=ie.useContext(Hs),ar=ie.useMemo(()=>({prefixCls:ii,csp:oi,layer:to?"antd":void 0}),[ii,oi,to]);let Yt=ie.createElement(ie.Fragment,null,ie.createElement(dM,{dropdownMatchSelectWidth:_}),e);const Zo=ie.useMemo(()=>{var Kt,nn,An,kn;return $L(((Kt=Kc.Form)===null||Kt===void 0?void 0:Kt.defaultValidateMessages)||{},((An=(nn=si.locale)===null||nn===void 0?void 0:nn.Form)===null||An===void 0?void 0:An.defaultValidateMessages)||{},((kn=si.form)===null||kn===void 0?void 0:kn.validateMessages)||{},(c==null?void 0:c.validateMessages)||{})},[si,c==null?void 0:c.validateMessages]);Object.keys(Zo).length>0&&(Yt=ie.createElement(GL.Provider,{value:Zo},Yt)),l&&(Yt=ie.createElement(VL,{locale:l,_ANT_MARK__:jL},Yt)),Yt=ie.createElement(sh.Provider,{value:ar},Yt),h&&(Yt=ie.createElement(hP,{size:h},Yt)),Yt=ie.createElement(fM,null,Yt);const mn=ie.useMemo(()=>{const Kt=eo||{},{algorithm:nn,token:An,components:kn,cssVar:zr}=Kt,ea=hM(Kt,["algorithm","token","components","cssVar"]),Cn=nn&&(!Array.isArray(nn)||nn.length>0)?Wf(nn):By,Ci={};Object.entries(kn||{}).forEach(Hn=>{let[Oa,_i]=Hn;const Qn=Object.assign({},_i);"algorithm"in Qn&&(Qn.algorithm===!0?Qn.theme=Cn:(Array.isArray(Qn.algorithm)||typeof Qn.algorithm=="function")&&(Qn.theme=Wf(Qn.algorithm)),delete Qn.algorithm),Ci[Oa]=Qn});const Rn=Object.assign(Object.assign({},Ls),An);return Object.assign(Object.assign({},ea),{theme:Cn,token:Rn,components:Ci,override:Object.assign({override:Rn},Ci),cssVar:zr})},[eo]);return W&&(Yt=ie.createElement(Dy.Provider,{value:mn},Yt)),si.warning&&(Yt=ie.createElement(DL.Provider,{value:si.warning},Yt)),ae!==void 0&&(Yt=ie.createElement(dP,{disabled:ae},Yt)),ie.createElement(mi.Provider,{value:si},Yt)},Ia=t=>{const e=ie.useContext(mi),n=ie.useContext(Oy);return ie.createElement(wM,Object.assign({parentContext:e,legacyLocale:n},t))};Ia.ConfigContext=mi;Ia.SizeContext=Ms;Ia.config=yM;Ia.useConfig=pP;Object.defineProperty(Ia,"SizeContext",{get:()=>Ms});var xM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function av(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function bM(t){return av(t)instanceof ShadowRoot}function SM(t){return bM(t)?av(t):null}function EM(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function AM(t,e){Ws(t,"[@ant-design/icons] ".concat(e))}function e0(t){return Ct(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(Ct(t.icon)==="object"||typeof t.icon=="function")}function t0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[EM(n)]=r}return e},{})}function yd(t,e,n){return n?Xt.createElement(t.tag,De(De({key:e},t0(t.attrs)),n),(t.children||[]).map(function(r,i){return yd(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):Xt.createElement(t.tag,De({key:e},t0(t.attrs)),(t.children||[]).map(function(r,i){return yd(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function sv(t){return Ps(t)[0]}function uv(t){return t?Array.isArray(t)?t:[t]:[]}var CM=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,_M=function(e){var n=ie.useContext(sh),r=n.csp,i=n.prefixCls,u=n.layer,c=CM;i&&(c=c.replace(/anticon/g,i)),u&&(c="@layer ".concat(u,` {
`).concat(c,`
}`)),ie.useEffect(function(){var l=e.current,h=SM(l);Ho(c,"@ant-design-icons",{prepend:!u,csp:r,attachTo:h})},[])},TM=["icon","className","onClick","style","primaryColor","secondaryColor"],Es={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function LM(t){var e=t.primaryColor,n=t.secondaryColor;Es.primaryColor=e,Es.secondaryColor=n||sv(e),Es.calculated=!!n}function PM(){return De({},Es)}var ka=function(e){var n=e.icon,r=e.className,i=e.onClick,u=e.style,c=e.primaryColor,l=e.secondaryColor,h=Xo(e,TM),p=ie.useRef(),v=Es;if(c&&(v={primaryColor:c,secondaryColor:l||sv(c)}),_M(p),AM(e0(n),"icon should be icon definiton, but got ".concat(n)),!e0(n))return null;var x=n;return x&&typeof x.icon=="function"&&(x=De(De({},x),{},{icon:x.icon(v.primaryColor,v.secondaryColor)})),yd(x.icon,"svg-".concat(x.name),De(De({className:r,onClick:i,style:u,"data-icon":x.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},h),{},{ref:p}))};ka.displayName="IconReact";ka.getTwoToneColors=PM;ka.setTwoToneColors=LM;function cv(t){var e=uv(t),n=et(e,2),r=n[0],i=n[1];return ka.setTwoToneColors({primaryColor:r,secondaryColor:i})}function MM(){var t=ka.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var IM=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];cv(dc.primary);var Xi=ie.forwardRef(function(t,e){var n=t.className,r=t.icon,i=t.spin,u=t.rotate,c=t.tabIndex,l=t.onClick,h=t.twoToneColor,p=Xo(t,IM),v=ie.useContext(sh),x=v.prefixCls,E=x===void 0?"anticon":x,_=v.rootClassName,L=Zr(_,E,Ve(Ve({},"".concat(E,"-").concat(r.name),!!r.name),"".concat(E,"-spin"),!!i||r.name==="loading"),n),k=c;k===void 0&&l&&(k=-1);var N=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,z=uv(h),Q=et(z,2),W=Q[0],ae=Q[1];return ie.createElement("span",or({role:"img","aria-label":r.name},p,{ref:e,tabIndex:k,onClick:l,className:L}),ie.createElement(ka,{icon:r,primaryColor:W,secondaryColor:ae,style:N}))});Xi.displayName="AntdIcon";Xi.getTwoToneColor=MM;Xi.setTwoToneColor=cv;var kM=function(e,n){return ie.createElement(Xi,or({},e,{ref:n,icon:xM}))},RM=ie.forwardRef(kM),OM={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},FM=function(e,n){return ie.createElement(Xi,or({},e,{ref:n,icon:OM}))},NM=ie.forwardRef(FM),$M={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},BM=function(e,n){return ie.createElement(Xi,or({},e,{ref:n,icon:$M}))},DM=ie.forwardRef(BM),GM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},UM=function(e,n){return ie.createElement(Xi,or({},e,{ref:n,icon:GM}))},WM=ie.forwardRef(UM),HM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},zM=function(e,n){return ie.createElement(Xi,or({},e,{ref:n,icon:HM}))},jM=ie.forwardRef(zM),VM=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,XM=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,YM="".concat(VM," ").concat(XM).split(/[\s\n]+/),KM="aria-",QM="data-";function n0(t,e){return t.indexOf(e)===0}function qM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=De({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||n0(i,KM))||n.data&&n0(i,QM)||n.attr&&YM.includes(i))&&(r[i]=t[i])}),r}const lv=t=>{const[,,,,e]=zs();return e?`${t}-css-var`:""};var JM={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},fv=ie.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.className,u=t.duration,c=u===void 0?4.5:u,l=t.showProgress,h=t.pauseOnHover,p=h===void 0?!0:h,v=t.eventKey,x=t.content,E=t.closable,_=t.closeIcon,L=_===void 0?"x":_,k=t.props,N=t.onClick,z=t.onNoticeClose,Q=t.times,W=t.hovering,ae=ie.useState(!1),le=et(ae,2),te=le[0],ge=le[1],Ae=ie.useState(0),F=et(Ae,2),Y=F[0],V=F[1],oe=ie.useState(0),ue=et(oe,2),ee=ue[0],Se=ue[1],j=W||te,ne=c>0&&l,me=function(){z(v)},Me=function(Ke){(Ke.key==="Enter"||Ke.code==="Enter"||Ke.keyCode===JM.ENTER)&&me()};ie.useEffect(function(){if(!j&&c>0){var it=Date.now()-ee,Ke=setTimeout(function(){me()},c*1e3-ee);return function(){p&&clearTimeout(Ke),Se(Date.now()-it)}}},[c,j,Q]),ie.useEffect(function(){if(!j&&ne&&(p||ee===0)){var it=performance.now(),Ke,yt=function Nt(){cancelAnimationFrame(Ke),Ke=requestAnimationFrame(function(In){var an=In+ee-it,pn=Math.min(an/(c*1e3),1);V(pn*100),pn<1&&Nt()})};return yt(),function(){p&&cancelAnimationFrame(Ke)}}},[c,ee,j,ne,Q]);var Oe=ie.useMemo(function(){return Ct(E)==="object"&&E!==null?E:E?{closeIcon:L}:{}},[E,L]),Le=qM(Oe,!0),Fe=100-(!Y||Y<0?0:Y>100?100:Y),ot="".concat(n,"-notice");return ie.createElement("div",or({},k,{ref:e,className:Zr(ot,i,Ve({},"".concat(ot,"-closable"),E)),style:r,onMouseEnter:function(Ke){var yt;ge(!0),k==null||(yt=k.onMouseEnter)===null||yt===void 0||yt.call(k,Ke)},onMouseLeave:function(Ke){var yt;ge(!1),k==null||(yt=k.onMouseLeave)===null||yt===void 0||yt.call(k,Ke)},onClick:N}),ie.createElement("div",{className:"".concat(ot,"-content")},x),E&&ie.createElement("a",or({tabIndex:0,className:"".concat(ot,"-close"),onKeyDown:Me,"aria-label":"Close"},Le,{onClick:function(Ke){Ke.preventDefault(),Ke.stopPropagation(),me()}}),Oe.closeIcon),ne&&ie.createElement("progress",{className:"".concat(ot,"-progress"),max:"100",value:Fe},Fe+"%"))}),dv=Xt.createContext({}),ZM=function(e){var n=e.children,r=e.classNames;return Xt.createElement(dv.Provider,{value:{classNames:r}},n)},r0=8,i0=3,o0=16,eI=function(e){var n={offset:r0,threshold:i0,gap:o0};if(e&&Ct(e)==="object"){var r,i,u;n.offset=(r=e.offset)!==null&&r!==void 0?r:r0,n.threshold=(i=e.threshold)!==null&&i!==void 0?i:i0,n.gap=(u=e.gap)!==null&&u!==void 0?u:o0}return[!!e,n]},tI=["className","style","classNames","styles"],nI=function(e){var n=e.configList,r=e.placement,i=e.prefixCls,u=e.className,c=e.style,l=e.motion,h=e.onAllNoticeRemoved,p=e.onNoticeClose,v=e.stack,x=ie.useContext(dv),E=x.classNames,_=ie.useRef({}),L=ie.useState(null),k=et(L,2),N=k[0],z=k[1],Q=ie.useState([]),W=et(Q,2),ae=W[0],le=W[1],te=n.map(function(j){return{config:j,key:String(j.key)}}),ge=eI(v),Ae=et(ge,2),F=Ae[0],Y=Ae[1],V=Y.offset,oe=Y.threshold,ue=Y.gap,ee=F&&(ae.length>0||te.length<=oe),Se=typeof l=="function"?l(r):l;return ie.useEffect(function(){F&&ae.length>1&&le(function(j){return j.filter(function(ne){return te.some(function(me){var Me=me.key;return ne===Me})})})},[ae,te,F]),ie.useEffect(function(){var j;if(F&&_.current[(j=te[te.length-1])===null||j===void 0?void 0:j.key]){var ne;z(_.current[(ne=te[te.length-1])===null||ne===void 0?void 0:ne.key])}},[te,F]),Xt.createElement(lM,or({key:r,className:Zr(i,"".concat(i,"-").concat(r),E==null?void 0:E.list,u,Ve(Ve({},"".concat(i,"-stack"),!!F),"".concat(i,"-stack-expanded"),ee)),style:c,keys:te,motionAppear:!0},Se,{onAllRemoved:function(){h(r)}}),function(j,ne){var me=j.config,Me=j.className,Oe=j.style,Le=j.index,Fe=me,ot=Fe.key,it=Fe.times,Ke=String(ot),yt=me,Nt=yt.className,In=yt.style,an=yt.classNames,pn=yt.styles,Un=Xo(yt,tI),Ut=te.findIndex(function(bt){return bt.key===Ke}),wn={};if(F){var Wt=te.length-1-(Ut>-1?Ut:Le-1),En=r==="top"||r==="bottom"?"-50%":"0";if(Wt>0){var en,jt,Wn;wn.height=ee?(en=_.current[Ke])===null||en===void 0?void 0:en.offsetHeight:N==null?void 0:N.offsetHeight;for(var yr=0,gn=0;gn<Wt;gn++){var at;yr+=((at=_.current[te[te.length-1-gn].key])===null||at===void 0?void 0:at.offsetHeight)+ue}var _t=(ee?yr:Wt*V)*(r.startsWith("top")?1:-1),tn=!ee&&N!==null&&N!==void 0&&N.offsetWidth&&(jt=_.current[Ke])!==null&&jt!==void 0&&jt.offsetWidth?((N==null?void 0:N.offsetWidth)-V*2*(Wt<3?Wt:3))/((Wn=_.current[Ke])===null||Wn===void 0?void 0:Wn.offsetWidth):1;wn.transform="translate3d(".concat(En,", ").concat(_t,"px, 0) scaleX(").concat(tn,")")}else wn.transform="translate3d(".concat(En,", 0, 0)")}return Xt.createElement("div",{ref:ne,className:Zr("".concat(i,"-notice-wrapper"),Me,an==null?void 0:an.wrapper),style:De(De(De({},Oe),wn),pn==null?void 0:pn.wrapper),onMouseEnter:function(){return le(function(Dt){return Dt.includes(Ke)?Dt:[].concat(mr(Dt),[Ke])})},onMouseLeave:function(){return le(function(Dt){return Dt.filter(function(vt){return vt!==Ke})})}},Xt.createElement(fv,or({},Un,{ref:function(Dt){Ut>-1?_.current[Ke]=Dt:delete _.current[Ke]},prefixCls:i,classNames:an,styles:pn,className:Zr(Nt,E==null?void 0:E.notice),style:In,times:it,key:ot,eventKey:ot,onNoticeClose:p,hovering:F&&ae.length>0})))})},rI=ie.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-notification":n,i=t.container,u=t.motion,c=t.maxCount,l=t.className,h=t.style,p=t.onAllRemoved,v=t.stack,x=t.renderNotifications,E=ie.useState([]),_=et(E,2),L=_[0],k=_[1],N=function(F){var Y,V=L.find(function(oe){return oe.key===F});V==null||(Y=V.onClose)===null||Y===void 0||Y.call(V),k(function(oe){return oe.filter(function(ue){return ue.key!==F})})};ie.useImperativeHandle(e,function(){return{open:function(F){k(function(Y){var V=mr(Y),oe=V.findIndex(function(Se){return Se.key===F.key}),ue=De({},F);if(oe>=0){var ee;ue.times=(((ee=Y[oe])===null||ee===void 0?void 0:ee.times)||0)+1,V[oe]=ue}else ue.times=0,V.push(ue);return c>0&&V.length>c&&(V=V.slice(-c)),V})},close:function(F){N(F)},destroy:function(){k([])}}});var z=ie.useState({}),Q=et(z,2),W=Q[0],ae=Q[1];ie.useEffect(function(){var Ae={};L.forEach(function(F){var Y=F.placement,V=Y===void 0?"topRight":Y;V&&(Ae[V]=Ae[V]||[],Ae[V].push(F))}),Object.keys(W).forEach(function(F){Ae[F]=Ae[F]||[]}),ae(Ae)},[L]);var le=function(F){ae(function(Y){var V=De({},Y),oe=V[F]||[];return oe.length||delete V[F],V})},te=ie.useRef(!1);if(ie.useEffect(function(){Object.keys(W).length>0?te.current=!0:te.current&&(p==null||p(),te.current=!1)},[W]),!i)return null;var ge=Object.keys(W);return y2.createPortal(ie.createElement(ie.Fragment,null,ge.map(function(Ae){var F=W[Ae],Y=ie.createElement(nI,{key:Ae,configList:F,placement:Ae,prefixCls:r,className:l==null?void 0:l(Ae),style:h==null?void 0:h(Ae),motion:u,onNoticeClose:N,onAllNoticeRemoved:le,stack:v});return x?x(Y,{prefixCls:r,key:Ae}):Y})),i)}),iI=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],oI=function(){return document.body},a0=0;function aI(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(i){i&&Object.keys(i).forEach(function(u){var c=i[u];c!==void 0&&(t[u]=c)})}),t}function sI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,n=e===void 0?oI:e,r=t.motion,i=t.prefixCls,u=t.maxCount,c=t.className,l=t.style,h=t.onAllRemoved,p=t.stack,v=t.renderNotifications,x=Xo(t,iI),E=ie.useState(),_=et(E,2),L=_[0],k=_[1],N=ie.useRef(),z=ie.createElement(rI,{container:L,ref:N,prefixCls:i,motion:r,maxCount:u,className:c,style:l,onAllRemoved:h,stack:p,renderNotifications:v}),Q=ie.useState([]),W=et(Q,2),ae=W[0],le=W[1],te=ie.useMemo(function(){return{open:function(Ae){var F=aI(x,Ae);(F.key===null||F.key===void 0)&&(F.key="rc-notification-".concat(a0),a0+=1),le(function(Y){return[].concat(mr(Y),[{type:"open",config:F}])})},close:function(Ae){le(function(F){return[].concat(mr(F),[{type:"close",key:Ae}])})},destroy:function(){le(function(Ae){return[].concat(mr(Ae),[{type:"destroy"}])})}}},[]);return ie.useEffect(function(){k(n())}),ie.useEffect(function(){if(N.current&&ae.length){ae.forEach(function(F){switch(F.type){case"open":N.current.open(F.config);break;case"close":N.current.close(F.key);break;case"destroy":N.current.destroy();break}});var ge,Ae;le(function(F){return(ge!==F||!Ae)&&(ge=F,Ae=F.filter(function(Y){return!ae.includes(Y)})),Ae})}},[ae]),[te,z]}var uI={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},cI=function(e,n){return ie.createElement(Xi,or({},e,{ref:n,icon:uI}))},lI=ie.forwardRef(cI);const fI=Xt.createContext(void 0),vo=100,dI=10,hI=vo*dI,hv={Modal:vo,Drawer:vo,Popover:vo,Popconfirm:vo,Tooltip:vo,Tour:vo,FloatButton:vo},pI={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function gI(t){return t in hv}const qR=(t,e)=>{const[,n]=zs(),r=Xt.useContext(fI),i=gI(t);let u;if(e!==void 0)u=[e,e];else{let c=r??0;i?c+=(r?0:n.zIndexPopupBase)+hv[t]:c+=pI[t],u=[r===void 0?e:c,c]}return u},mI=t=>{const{componentCls:e,iconCls:n,boxShadow:r,colorText:i,colorSuccess:u,colorError:c,colorWarning:l,colorInfo:h,fontSizeLG:p,motionEaseInOutCirc:v,motionDurationSlow:x,marginXS:E,paddingXS:_,borderRadiusLG:L,zIndexPopup:k,contentPadding:N,contentBg:z}=t,Q=`${e}-notice`,W=new kg("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:_,transform:"translateY(0)",opacity:1}}),ae=new kg("MessageMoveOut",{"0%":{maxHeight:t.height,padding:_,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),le={padding:_,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${n}`]:{marginInlineEnd:E,fontSize:p},[`${Q}-content`]:{display:"inline-block",padding:N,background:z,borderRadius:L,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${n}`]:{color:u},[`${e}-error > ${n}`]:{color:c},[`${e}-warning > ${n}`]:{color:l},[`${e}-info > ${n},
      ${e}-loading > ${n}`]:{color:h}};return[{[e]:Object.assign(Object.assign({},IP(t)),{color:i,position:"fixed",top:E,width:"100%",pointerEvents:"none",zIndex:k,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:W,animationDuration:x,animationPlayState:"paused",animationTimingFunction:v},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:ae,animationDuration:x,animationPlayState:"paused",animationTimingFunction:v},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${Q}-wrapper`]:Object.assign({},le)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},le),{padding:0,textAlign:"start"})}]},yI=t=>({zIndexPopup:t.zIndexPopupBase+hI+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),pv=NP("Message",t=>{const e=uh(t,{height:150});return[mI(e)]},yI);var vI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const wI={info:ie.createElement(jM,null),success:ie.createElement(RM,null),error:ie.createElement(NM,null),warning:ie.createElement(WM,null),loading:ie.createElement(lI,null)},gv=t=>{let{prefixCls:e,type:n,icon:r,children:i}=t;return ie.createElement("div",{className:Zr(`${e}-custom-content`,`${e}-${n}`)},r||wI[n],ie.createElement("span",null,i))},xI=t=>{const{prefixCls:e,className:n,type:r,icon:i,content:u}=t,c=vI(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=ie.useContext(mi),h=e||l("message"),p=lv(h),[v,x,E]=pv(h,p);return v(ie.createElement(fv,Object.assign({},c,{prefixCls:h,className:Zr(n,x,`${h}-notice-pure-panel`,E,p),eventKey:"pure",duration:null,content:ie.createElement(gv,{prefixCls:h,type:r,icon:i},u)})))};function bI(t,e){return{motionName:e??`${t}-move-up`}}function lh(t){let e;const n=new Promise(i=>{e=t(()=>{i(!0)})}),r=()=>{e==null||e()};return r.then=(i,u)=>n.then(i,u),r.promise=n,r}var SI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const EI=8,AI=3,CI=t=>{let{children:e,prefixCls:n}=t;const r=lv(n),[i,u,c]=pv(n,r);return i(ie.createElement(ZM,{classNames:{list:Zr(u,c,r)}},e))},_I=(t,e)=>{let{prefixCls:n,key:r}=e;return ie.createElement(CI,{prefixCls:n,key:r},t)},TI=ie.forwardRef((t,e)=>{const{top:n,prefixCls:r,getContainer:i,maxCount:u,duration:c=AI,rtl:l,transitionName:h,onAllRemoved:p}=t,{getPrefixCls:v,getPopupContainer:x,message:E,direction:_}=ie.useContext(mi),L=r||v("message"),k=()=>({left:"50%",transform:"translateX(-50%)",top:n??EI}),N=()=>Zr({[`${L}-rtl`]:l??_==="rtl"}),z=()=>bI(L,h),Q=ie.createElement("span",{className:`${L}-close-x`},ie.createElement(DM,{className:`${L}-close-icon`})),[W,ae]=sI({prefixCls:L,style:k,className:N,motion:z,closable:!1,closeIcon:Q,duration:c,getContainer:()=>(i==null?void 0:i())||(x==null?void 0:x())||document.body,maxCount:u,onAllRemoved:p,renderNotifications:_I});return ie.useImperativeHandle(e,()=>Object.assign(Object.assign({},W),{prefixCls:L,message:E})),ae});let s0=0;function mv(t){const e=ie.useRef(null);return ky(),[ie.useMemo(()=>{const r=h=>{var p;(p=e.current)===null||p===void 0||p.close(h)},i=h=>{if(!e.current){const te=()=>{};return te.then=()=>{},te}const{open:p,prefixCls:v,message:x}=e.current,E=`${v}-notice`,{content:_,icon:L,type:k,key:N,className:z,style:Q,onClose:W}=h,ae=SI(h,["content","icon","type","key","className","style","onClose"]);let le=N;return le==null&&(s0+=1,le=`antd-message-${s0}`),lh(te=>(p(Object.assign(Object.assign({},ae),{key:le,content:ie.createElement(gv,{prefixCls:v,type:k,icon:L},_),placement:"top",className:Zr(k&&`${E}-${k}`,z,x==null?void 0:x.className),style:Object.assign(Object.assign({},x==null?void 0:x.style),Q),onClose:()=>{W==null||W(),te()}})),()=>{r(le)}))},c={open:i,destroy:h=>{var p;h!==void 0?r(h):(p=e.current)===null||p===void 0||p.destroy()}};return["info","success","warning","error","loading"].forEach(h=>{const p=(v,x,E)=>{let _;v&&typeof v=="object"&&"content"in v?_=v:_={content:v};let L,k;typeof x=="function"?k=x:(L=x,k=E);const N=Object.assign(Object.assign({onClose:k,duration:L},_),{type:h});return i(N)};c[h]=p}),c},[]),ie.createElement(TI,Object.assign({key:"message-holder"},t,{ref:e}))]}function LI(t){return mv(t)}function Is(){Is=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(j,ne,me){j[ne]=me.value},u=typeof Symbol=="function"?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function p(j,ne,me){return Object.defineProperty(j,ne,{value:me,enumerable:!0,configurable:!0,writable:!0}),j[ne]}try{p({},"")}catch{p=function(me,Me,Oe){return me[Me]=Oe}}function v(j,ne,me,Me){var Oe=ne&&ne.prototype instanceof z?ne:z,Le=Object.create(Oe.prototype),Fe=new ee(Me||[]);return i(Le,"_invoke",{value:Y(j,me,Fe)}),Le}function x(j,ne,me){try{return{type:"normal",arg:j.call(ne,me)}}catch(Me){return{type:"throw",arg:Me}}}e.wrap=v;var E="suspendedStart",_="suspendedYield",L="executing",k="completed",N={};function z(){}function Q(){}function W(){}var ae={};p(ae,c,function(){return this});var le=Object.getPrototypeOf,te=le&&le(le(Se([])));te&&te!==n&&r.call(te,c)&&(ae=te);var ge=W.prototype=z.prototype=Object.create(ae);function Ae(j){["next","throw","return"].forEach(function(ne){p(j,ne,function(me){return this._invoke(ne,me)})})}function F(j,ne){function me(Oe,Le,Fe,ot){var it=x(j[Oe],j,Le);if(it.type!=="throw"){var Ke=it.arg,yt=Ke.value;return yt&&Ct(yt)=="object"&&r.call(yt,"__await")?ne.resolve(yt.__await).then(function(Nt){me("next",Nt,Fe,ot)},function(Nt){me("throw",Nt,Fe,ot)}):ne.resolve(yt).then(function(Nt){Ke.value=Nt,Fe(Ke)},function(Nt){return me("throw",Nt,Fe,ot)})}ot(it.arg)}var Me;i(this,"_invoke",{value:function(Le,Fe){function ot(){return new ne(function(it,Ke){me(Le,Fe,it,Ke)})}return Me=Me?Me.then(ot,ot):ot()}})}function Y(j,ne,me){var Me=E;return function(Oe,Le){if(Me===L)throw Error("Generator is already running");if(Me===k){if(Oe==="throw")throw Le;return{value:t,done:!0}}for(me.method=Oe,me.arg=Le;;){var Fe=me.delegate;if(Fe){var ot=V(Fe,me);if(ot){if(ot===N)continue;return ot}}if(me.method==="next")me.sent=me._sent=me.arg;else if(me.method==="throw"){if(Me===E)throw Me=k,me.arg;me.dispatchException(me.arg)}else me.method==="return"&&me.abrupt("return",me.arg);Me=L;var it=x(j,ne,me);if(it.type==="normal"){if(Me=me.done?k:_,it.arg===N)continue;return{value:it.arg,done:me.done}}it.type==="throw"&&(Me=k,me.method="throw",me.arg=it.arg)}}}function V(j,ne){var me=ne.method,Me=j.iterator[me];if(Me===t)return ne.delegate=null,me==="throw"&&j.iterator.return&&(ne.method="return",ne.arg=t,V(j,ne),ne.method==="throw")||me!=="return"&&(ne.method="throw",ne.arg=new TypeError("The iterator does not provide a '"+me+"' method")),N;var Oe=x(Me,j.iterator,ne.arg);if(Oe.type==="throw")return ne.method="throw",ne.arg=Oe.arg,ne.delegate=null,N;var Le=Oe.arg;return Le?Le.done?(ne[j.resultName]=Le.value,ne.next=j.nextLoc,ne.method!=="return"&&(ne.method="next",ne.arg=t),ne.delegate=null,N):Le:(ne.method="throw",ne.arg=new TypeError("iterator result is not an object"),ne.delegate=null,N)}function oe(j){var ne={tryLoc:j[0]};1 in j&&(ne.catchLoc=j[1]),2 in j&&(ne.finallyLoc=j[2],ne.afterLoc=j[3]),this.tryEntries.push(ne)}function ue(j){var ne=j.completion||{};ne.type="normal",delete ne.arg,j.completion=ne}function ee(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(oe,this),this.reset(!0)}function Se(j){if(j||j===""){var ne=j[c];if(ne)return ne.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var me=-1,Me=function Oe(){for(;++me<j.length;)if(r.call(j,me))return Oe.value=j[me],Oe.done=!1,Oe;return Oe.value=t,Oe.done=!0,Oe};return Me.next=Me}}throw new TypeError(Ct(j)+" is not iterable")}return Q.prototype=W,i(ge,"constructor",{value:W,configurable:!0}),i(W,"constructor",{value:Q,configurable:!0}),Q.displayName=p(W,h,"GeneratorFunction"),e.isGeneratorFunction=function(j){var ne=typeof j=="function"&&j.constructor;return!!ne&&(ne===Q||(ne.displayName||ne.name)==="GeneratorFunction")},e.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,W):(j.__proto__=W,p(j,h,"GeneratorFunction")),j.prototype=Object.create(ge),j},e.awrap=function(j){return{__await:j}},Ae(F.prototype),p(F.prototype,l,function(){return this}),e.AsyncIterator=F,e.async=function(j,ne,me,Me,Oe){Oe===void 0&&(Oe=Promise);var Le=new F(v(j,ne,me,Me),Oe);return e.isGeneratorFunction(ne)?Le:Le.next().then(function(Fe){return Fe.done?Fe.value:Le.next()})},Ae(ge),p(ge,h,"Generator"),p(ge,c,function(){return this}),p(ge,"toString",function(){return"[object Generator]"}),e.keys=function(j){var ne=Object(j),me=[];for(var Me in ne)me.push(Me);return me.reverse(),function Oe(){for(;me.length;){var Le=me.pop();if(Le in ne)return Oe.value=Le,Oe.done=!1,Oe}return Oe.done=!0,Oe}},e.values=Se,ee.prototype={constructor:ee,reset:function(ne){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(ue),!ne)for(var me in this)me.charAt(0)==="t"&&r.call(this,me)&&!isNaN(+me.slice(1))&&(this[me]=t)},stop:function(){this.done=!0;var ne=this.tryEntries[0].completion;if(ne.type==="throw")throw ne.arg;return this.rval},dispatchException:function(ne){if(this.done)throw ne;var me=this;function Me(Ke,yt){return Fe.type="throw",Fe.arg=ne,me.next=Ke,yt&&(me.method="next",me.arg=t),!!yt}for(var Oe=this.tryEntries.length-1;Oe>=0;--Oe){var Le=this.tryEntries[Oe],Fe=Le.completion;if(Le.tryLoc==="root")return Me("end");if(Le.tryLoc<=this.prev){var ot=r.call(Le,"catchLoc"),it=r.call(Le,"finallyLoc");if(ot&&it){if(this.prev<Le.catchLoc)return Me(Le.catchLoc,!0);if(this.prev<Le.finallyLoc)return Me(Le.finallyLoc)}else if(ot){if(this.prev<Le.catchLoc)return Me(Le.catchLoc,!0)}else{if(!it)throw Error("try statement without catch or finally");if(this.prev<Le.finallyLoc)return Me(Le.finallyLoc)}}}},abrupt:function(ne,me){for(var Me=this.tryEntries.length-1;Me>=0;--Me){var Oe=this.tryEntries[Me];if(Oe.tryLoc<=this.prev&&r.call(Oe,"finallyLoc")&&this.prev<Oe.finallyLoc){var Le=Oe;break}}Le&&(ne==="break"||ne==="continue")&&Le.tryLoc<=me&&me<=Le.finallyLoc&&(Le=null);var Fe=Le?Le.completion:{};return Fe.type=ne,Fe.arg=me,Le?(this.method="next",this.next=Le.finallyLoc,N):this.complete(Fe)},complete:function(ne,me){if(ne.type==="throw")throw ne.arg;return ne.type==="break"||ne.type==="continue"?this.next=ne.arg:ne.type==="return"?(this.rval=this.arg=ne.arg,this.method="return",this.next="end"):ne.type==="normal"&&me&&(this.next=me),N},finish:function(ne){for(var me=this.tryEntries.length-1;me>=0;--me){var Me=this.tryEntries[me];if(Me.finallyLoc===ne)return this.complete(Me.completion,Me.afterLoc),ue(Me),N}},catch:function(ne){for(var me=this.tryEntries.length-1;me>=0;--me){var Me=this.tryEntries[me];if(Me.tryLoc===ne){var Oe=Me.completion;if(Oe.type==="throw"){var Le=Oe.arg;ue(Me)}return Le}}throw Error("illegal catch attempt")},delegateYield:function(ne,me,Me){return this.delegate={iterator:Se(ne),resultName:me,nextLoc:Me},this.method==="next"&&(this.arg=t),N}},e}function u0(t,e,n,r,i,u,c){try{var l=t[u](c),h=l.value}catch(p){return void n(p)}l.done?e(h):Promise.resolve(h).then(r,i)}function yv(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var u=t.apply(e,n);function c(h){u0(u,r,i,c,l,"next",h)}function l(h){u0(u,r,i,c,l,"throw",h)}c(void 0)})}}var js=De({},v2),PI=js.version,_f=js.render,MI=js.unmountComponentAtNode,qc;try{var II=Number((PI||"").split(".")[0]);II>=18&&(qc=js.createRoot)}catch{}function c0(t){var e=js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Ct(e)==="object"&&(e.usingClientEntryPoint=t)}var pc="__rc_react_root__";function kI(t,e){c0(!0);var n=e[pc]||qc(e);c0(!1),n.render(t),e[pc]=n}function RI(t,e){_f==null||_f(t,e)}function OI(t,e){if(qc){kI(t,e);return}RI(t,e)}function FI(t){return vd.apply(this,arguments)}function vd(){return vd=yv(Is().mark(function t(e){return Is().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[pc])===null||i===void 0||i.unmount(),delete e[pc]}));case 1:case"end":return r.stop()}},t)})),vd.apply(this,arguments)}function NI(t){MI(t)}function $I(t){return wd.apply(this,arguments)}function wd(){return wd=yv(Is().mark(function t(e){return Is().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(qc===void 0){r.next=2;break}return r.abrupt("return",FI(e));case 2:NI(e);case 3:case"end":return r.stop()}},t)})),wd.apply(this,arguments)}const BI=(t,e)=>(OI(t,e),()=>$I(e));let DI=BI;function GI(){return DI}const UI=Xt.createContext({});let Fr=null,Go=t=>t(),ks=[],Rs={};function l0(){const{getContainer:t,duration:e,rtl:n,maxCount:r,top:i}=Rs,u=(t==null?void 0:t())||document.body;return{getContainer:()=>u,duration:e,rtl:n,maxCount:r,top:i}}const WI=Xt.forwardRef((t,e)=>{const{messageConfig:n,sync:r}=t,{getPrefixCls:i}=ie.useContext(mi),u=Rs.prefixCls||i("message"),c=ie.useContext(UI),[l,h]=mv(Object.assign(Object.assign(Object.assign({},n),{prefixCls:u}),c.message));return Xt.useImperativeHandle(e,()=>{const p=Object.assign({},l);return Object.keys(p).forEach(v=>{p[v]=function(){return r(),l[v].apply(l,arguments)}}),{instance:p,sync:r}}),h}),HI=Xt.forwardRef((t,e)=>{const[n,r]=Xt.useState(l0),i=()=>{r(l0)};Xt.useEffect(i,[]);const u=vM(),c=u.getRootPrefixCls(),l=u.getIconPrefixCls(),h=u.getTheme(),p=Xt.createElement(WI,{ref:e,sync:i,messageConfig:n});return Xt.createElement(Ia,{prefixCls:c,iconPrefixCls:l,theme:h},u.holderRender?u.holderRender(p):p)});function Jc(){if(!Fr){const t=document.createDocumentFragment(),e={fragment:t};Fr=e,Go(()=>{GI()(Xt.createElement(HI,{ref:r=>{const{instance:i,sync:u}=r||{};Promise.resolve().then(()=>{!e.instance&&i&&(e.instance=i,e.sync=u,Jc())})}}),t)});return}Fr.instance&&(ks.forEach(t=>{const{type:e,skipped:n}=t;if(!n)switch(e){case"open":{Go(()=>{const r=Fr.instance.open(Object.assign(Object.assign({},Rs),t.config));r==null||r.then(t.resolve),t.setCloseFn(r)});break}case"destroy":Go(()=>{Fr==null||Fr.instance.destroy(t.key)});break;default:Go(()=>{var r;const i=(r=Fr.instance)[e].apply(r,mr(t.args));i==null||i.then(t.resolve),t.setCloseFn(i)})}}),ks=[])}function zI(t){Rs=Object.assign(Object.assign({},Rs),t),Go(()=>{var e;(e=Fr==null?void 0:Fr.sync)===null||e===void 0||e.call(Fr)})}function jI(t){const e=lh(n=>{let r;const i={type:"open",config:t,resolve:n,setCloseFn:u=>{r=u}};return ks.push(i),()=>{r?Go(()=>{r()}):i.skipped=!0}});return Jc(),e}function VI(t,e){const n=lh(r=>{let i;const u={type:t,args:e,resolve:r,setCloseFn:c=>{i=c}};return ks.push(u),()=>{i?Go(()=>{i()}):u.skipped=!0}});return Jc(),n}const XI=t=>{ks.push({type:"destroy",key:t}),Jc()},YI=["success","info","warning","error","loading"],KI={open:jI,destroy:XI,config:zI,useMessage:LI,_InternalPanelDoNotUseOrYouWillBeFired:xI},QI=KI;YI.forEach(t=>{QI[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return VI(t,n)}});export{mr as $,Pk as A,kc as B,Ik as C,J0 as D,NP as E,IP as F,zf as G,jR as H,Zr as I,qM as J,rM as K,ke as L,AT as M,NM as N,jM as O,Xd as P,RM as Q,WM as R,_0 as S,DM as T,_T as U,lc as V,iy as W,zc as X,vi as Y,yi as Z,ek as _,m0 as a,bs as a$,kg as a0,fd as a1,DR as a2,De as a3,Ct as a4,or as a5,et as a6,MT as a7,JM as a8,Vi as a9,Sd as aA,q2 as aB,qt as aC,ok as aD,O2 as aE,Gs as aF,X2 as aG,p0 as aH,ni as aI,sk as aJ,Qo as aK,Mn as aL,mk as aM,BR as aN,QI as aO,Cs as aP,tT as aQ,iE as aR,hn as aS,$R as aT,M2 as aU,nT as aV,qk as aW,ck as aX,lI as aY,Ds as aZ,Bs as a_,uh as aa,mi as ab,ld as ac,WR as ad,dP as ae,YR as af,lv as ag,qR as ah,fI as ai,QR as aj,XR as ak,Ia as al,zs as am,hI as an,vM as ao,GI as ap,Kc as aq,Xi as ar,Xo as as,Ws as at,Ve as au,yy as av,aR as aw,AR as ax,_d as ay,Eo as az,Xk as b,Wk as b$,SR as b0,ER as b1,eT as b2,KE as b3,$r as b4,aE as b5,$d as b6,$_ as b7,H2 as b8,Df as b9,So as bA,ME as bB,uk as bC,_c as bD,R2 as bE,ak as bF,ik as bG,xE as bH,Uk as bI,f0 as bJ,FA as bK,lf as bL,cd as bM,tk as bN,U2 as bO,rm as bP,vA as bQ,wA as bR,fR as bS,bA as bT,dR as bU,Yk as bV,Kk as bW,kE as bX,bR as bY,CA as bZ,tR as b_,CT as ba,ry as bb,Jd as bc,FT as bd,jc as be,GR as bf,FP as bg,VR as bh,dn as bi,kP as bj,ky as bk,gk as bl,Gi as bm,uR as bn,Q0 as bo,zi as bp,lm as bq,q0 as br,mA as bs,Sc as bt,yA as bu,Nk as bv,Zt as bw,yE as bx,vE as by,wE as bz,Tk as c,b0 as c$,Cc as c0,Ac as c1,rE as c2,As as c3,jo as c4,Ad as c5,Bk as c6,tE as c7,Dk as c8,xR as c9,OL as cA,Oy as cB,KR as cC,ud as cD,tP as cE,ju as cF,HR as cG,UR as cH,Gn as cI,$s as cJ,hR as cK,Qk as cL,IR as cM,d_ as cN,kR as cO,eg as cP,lk as cQ,Jp as cR,z2 as cS,dk as cT,Lf as cU,Md as cV,eR as cW,mR as cX,hm as cY,Vo as cZ,Jk as c_,$0 as ca,U0 as cb,cc,Z_ as cd,nE as ce,$k as cf,b2 as cg,Qm as ch,W_ as ci,iR as cj,Id as ck,rA as cl,lR as cm,nA as cn,oR as co,rk as cp,k0 as cq,R0 as cr,Zk as cs,xk as ct,bk as cu,Sk as cv,Ek as cw,Rk as cx,cR as cy,pT as cz,h0 as d,SM as d$,Ok as d0,N0 as d1,G2 as d2,EA as d3,um as d4,vk as d5,yk as d6,K2 as d7,W2 as d8,gA as d9,pR as dA,zk as dB,MA as dC,RR as dD,vR as dE,CR as dF,K0 as dG,Hk as dH,Vk as dI,fm as dJ,MR as dK,_E as dL,jk as dM,dT as dN,xT as dO,Ms as dP,Ho as dQ,py as dR,$f as dS,Wo as dT,yv as dU,Is as dV,$L as dW,Yf as dX,wf as dY,ny as dZ,vg as d_,Td as da,ig as db,gR as dc,nR as dd,Y2 as de,T0 as df,L0 as dg,J2 as dh,_R as di,TR as dj,ff as dk,s_ as dl,IA as dm,PR as dn,j0 as dp,LR as dq,Pd as dr,j2 as ds,Kn as dt,wc as du,B0 as dv,Cd as dw,Ec as dx,Nd as dy,Ck as dz,F0 as e,NR as e0,_k as e1,tg as e2,fk as e3,OR as e4,FR as e5,Fk as e6,rR as e7,LA as e8,wR as e9,wk as ea,sR as eb,Tc as ec,sT as ed,pA as ee,Gk as ef,LE as eg,kk as eh,RE as ei,bc as ej,mg as ek,D_ as el,G_ as em,k2 as en,aT as eo,nk as ep,kd as eq,Lk as f,d0 as g,bd as h,O0 as i,ZI as j,OE as k,ze as l,Ed as m,hk as n,uf as o,ir as p,ba as q,Q2 as r,I0 as s,pk as t,Ak as u,mc as v,yR as w,gc as x,Mk as y,E0 as z};
