const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pixi-legacy-_fx4_RaV.js","assets/index-B0I6uHAu.js","assets/index-BpkY95s5.js","assets/__vite-browser-external-DTHgcB49.js","assets/index-Ctga1AvS.js","assets/index-BKNjMPK8.js"])))=>i.map(i=>d[i]);
import{o as Ue,m as Is,a as mt,f as a2,r as Nu}from"./index-CsSXPTiX.js";import{r as q,c as ls,g as Xo,R as Xt,b as Up,d as hd,a as s2,e as u2}from"./index-BpkY95s5.js";function DI(t,e){return q.useState(function(){return Ue(t(),e,{autoBind:!0})})[0]}const c2="modulepreload",l2=function(t){return"https://cdn.jsdelivr.net/gh/assetvoid/static-0/1747389017/"+t},Wp={},rm=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(n.map(h=>{if(h=l2(h),h in Wp)return;Wp[h]=!0;const g=h.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${b}`))return;const S=document.createElement("link");if(S.rel=g?"stylesheet":c2,g||(S.as="script"),S.crossOrigin="",S.href=h,l&&S.setAttribute("nonce",l),document.head.appendChild(S),g)return new Promise((E,L)=>{S.addEventListener("load",E),S.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${h}`)))})}))}function u(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return o.then(c=>{for(const l of c||[])l.status==="rejected"&&u(l.reason);return e().catch(u)})};var rc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */rc.exports;(function(t,e){(function(){var n,r="4.17.21",o=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",l="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",g=500,b="__lodash_placeholder__",S=1,E=2,L=4,P=1,O=2,$=1,H=2,X=4,W=8,te=16,oe=32,re=64,he=128,Ae=256,J=512,pe=30,ae="...",Ie=800,Fe=16,_e=1,Xe=2,se=3,ne=1/0,de=9007199254740991,Te=17976931348623157e292,ke=NaN,Ee=4294967295,Re=Ee-1,ot=Ee>>>1,it=[["ary",he],["bind",$],["bindKey",H],["curry",W],["curryRight",te],["flip",J],["partial",oe],["partialRight",re],["rearg",Ae]],Ke="[object Arguments]",yt="[object Array]",Nt="[object AsyncFunction]",In="[object Boolean]",an="[object Date]",pn="[object DOMException]",Un="[object Error]",Ut="[object Function]",wn="[object GeneratorFunction]",Wt="[object Map]",En="[object Number]",Zt="[object Null]",jt="[object Object]",Wn="[object Promise]",yr="[object Proxy]",gn="[object RegExp]",at="[object Set]",_t="[object String]",en="[object Symbol]",St="[object Undefined]",Dt="[object WeakMap]",vt="[object WeakSet]",vi="[object ArrayBuffer]",bn="[object DataView]",wi="[object Float32Array]",bi="[object Float64Array]",Yi="[object Int8Array]",Ki="[object Int16Array]",Qi="[object Int32Array]",qi="[object Uint8Array]",Wr="[object Uint8ClampedArray]",Si="[object Uint16Array]",Hr="[object Uint32Array]",xi=/\b__p \+= '';/g,Ia=/\b(__p \+=) '' \+/g,Ji=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ni=/&(?:amp|lt|gt|quot|#39);/g,vr=/[&<>"']/g,Qo=RegExp(ni.source),Zi=RegExp(vr.source),ri=/<%-([\s\S]+?)%>/g,ii=/<%([\s\S]+?)%>/g,eo=/<%=([\s\S]+?)%>/g,Ei=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oi=/^\w*$/,ai=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,to=/[\\^$.*+?()[\]{}|]/g,ar=RegExp(to.source),Yt=/^\s+/,qo=/\s/,mn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Kt=/\{\n\/\* \[wrapped with (.+)\] \*/,tn=/,? & /,An=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kn=/[()=,{}\[\]\/\s]/,zr=/\\(\\)?/g,Jo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cn=/\w*$/,Ai=/^[-+]0x[0-9a-f]+$/i,Rn=/^0b[01]+$/i,Hn=/^\[object .+?Constructor\]$/,ka=/^0o[0-7]+$/i,Ci=/^(?:0|[1-9]\d*)$/,Qn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zo=/($^)/,Xc=/['\n\r\u2028\u2029\\]/g,On="\\ud800-\\udfff",sr="\\u0300-\\u036f",Ws="\\ufe20-\\ufe2f",Yc="\\u20d0-\\u20ff",Hs=sr+Ws+Yc,zs="\\u2700-\\u27bf",js="a-z\\xdf-\\xf6\\xf8-\\xff",Kc="\\xac\\xb1\\xd7\\xf7",Qc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",qc="\\u2000-\\u206f",ea=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Eo="A-Z\\xc0-\\xd6\\xd8-\\xde",Ra="\\ufe0e\\ufe0f",Vs=Kc+Qc+qc+ea,Oa="['’]",Xs="["+On+"]",Ys="["+Vs+"]",Ao="["+Hs+"]",Ks="\\d+",Jc="["+zs+"]",Qs="["+js+"]",Na="[^"+On+Vs+Ks+zs+js+Eo+"]",no="\\ud83c[\\udffb-\\udfff]",wr="(?:"+Ao+"|"+no+")",Co="[^"+On+"]",_i="(?:\\ud83c[\\udde6-\\uddff]){2}",zn="[\\ud800-\\udbff][\\udc00-\\udfff]",_n="["+Eo+"]",_o="\\u200d",br="(?:"+Qs+"|"+Na+")",Ti="(?:"+_n+"|"+Na+")",si="(?:"+Oa+"(?:d|ll|m|re|s|t|ve))?",$a="(?:"+Oa+"(?:D|LL|M|RE|S|T|VE))?",Ba=wr+"?",Da="["+Ra+"]?",$t="(?:"+_o+"(?:"+[Co,_i,zn].join("|")+")"+Da+Ba+")*",ro="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qs=Da+Ba+$t,Js="(?:"+[Jc,_i,zn].join("|")+")"+qs,el="(?:"+[Co+Ao+"?",Ao,_i,zn,Xs].join("|")+")",ut=RegExp(Oa,"g"),ta=RegExp(Ao,"g"),To=RegExp(no+"(?="+no+")|"+el+qs,"g"),Zs=RegExp([_n+"?"+Qs+"+"+si+"(?="+[Ys,_n,"$"].join("|")+")",Ti+"+"+$a+"(?="+[Ys,_n+br,"$"].join("|")+")",_n+"?"+br+"+"+si,_n+"+"+$a,Zc,ro,Ks,Js].join("|"),"g"),Ga=RegExp("["+_o+On+Hs+Ra+"]"),tl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tu=-1,Pt={};Pt[wi]=Pt[bi]=Pt[Yi]=Pt[Ki]=Pt[Qi]=Pt[qi]=Pt[Wr]=Pt[Si]=Pt[Hr]=!0,Pt[Ke]=Pt[yt]=Pt[vi]=Pt[In]=Pt[bn]=Pt[an]=Pt[Un]=Pt[Ut]=Pt[Wt]=Pt[En]=Pt[jt]=Pt[gn]=Pt[at]=Pt[_t]=Pt[Dt]=!1;var Rt={};Rt[Ke]=Rt[yt]=Rt[vi]=Rt[bn]=Rt[In]=Rt[an]=Rt[wi]=Rt[bi]=Rt[Yi]=Rt[Ki]=Rt[Qi]=Rt[Wt]=Rt[En]=Rt[jt]=Rt[gn]=Rt[at]=Rt[_t]=Rt[en]=Rt[qi]=Rt[Wr]=Rt[Si]=Rt[Hr]=!0,Rt[Un]=Rt[Ut]=Rt[Dt]=!1;var io={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},nu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ru={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Lo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},iu=parseFloat,na=parseInt,ra=typeof ls=="object"&&ls&&ls.Object===Object&&ls,At=typeof self=="object"&&self&&self.Object===Object&&self,Ht=ra||At||Function("return this")(),Li=e&&!e.nodeType&&e,_r=Li&&!0&&t&&!t.nodeType&&t,Ua=_r&&_r.exports===Li,ia=Ua&&ra.process,ur=function(){try{var K=_r&&_r.require&&_r.require("util").types;return K||ia&&ia.binding&&ia.binding("util")}catch{}}(),ou=ur&&ur.isArrayBuffer,Wa=ur&&ur.isDate,Po=ur&&ur.isMap,Y=ur&&ur.isRegExp,jn=ur&&ur.isSet,au=ur&&ur.isTypedArray;function qn(K,le,ie){switch(ie.length){case 0:return K.call(le);case 1:return K.call(le,ie[0]);case 2:return K.call(le,ie[0],ie[1]);case 3:return K.call(le,ie[0],ie[1],ie[2])}return K.apply(le,ie)}function nl(K,le,ie,$e){for(var nt=-1,Et=K==null?0:K.length;++nt<Et;){var nn=K[nt];le($e,nn,ie(nn),K)}return $e}function Fn(K,le){for(var ie=-1,$e=K==null?0:K.length;++ie<$e&&le(K[ie],ie,K)!==!1;);return K}function jr(K,le){for(var ie=K==null?0:K.length;ie--&&le(K[ie],ie,K)!==!1;);return K}function Ha(K,le){for(var ie=-1,$e=K==null?0:K.length;++ie<$e;)if(!le(K[ie],ie,K))return!1;return!0}function Vt(K,le){for(var ie=-1,$e=K==null?0:K.length,nt=0,Et=[];++ie<$e;){var nn=K[ie];le(nn,ie,K)&&(Et[nt++]=nn)}return Et}function sn(K,le){var ie=K==null?0:K.length;return!!ie&&oo(K,le,0)>-1}function yn(K,le,ie){for(var $e=-1,nt=K==null?0:K.length;++$e<nt;)if(ie(le,K[$e]))return!0;return!1}function zt(K,le){for(var ie=-1,$e=K==null?0:K.length,nt=Array($e);++ie<$e;)nt[ie]=le(K[ie],ie,K);return nt}function ui(K,le){for(var ie=-1,$e=le.length,nt=K.length;++ie<$e;)K[nt+ie]=le[ie];return K}function za(K,le,ie,$e){var nt=-1,Et=K==null?0:K.length;for($e&&Et&&(ie=K[++nt]);++nt<Et;)ie=le(ie,K[nt],nt,K);return ie}function rl(K,le,ie,$e){var nt=K==null?0:K.length;for($e&&nt&&(ie=K[--nt]);nt--;)ie=le(ie,K[nt],nt,K);return ie}function ja(K,le){for(var ie=-1,$e=K==null?0:K.length;++ie<$e;)if(le(K[ie],ie,K))return!0;return!1}var il=Va("length");function ol(K){return K.split("")}function al(K){return K.match(An)||[]}function su(K,le,ie){var $e;return ie(K,function(nt,Et,nn){if(le(nt,Et,nn))return $e=Et,!1}),$e}function oa(K,le,ie,$e){for(var nt=K.length,Et=ie+($e?1:-1);$e?Et--:++Et<nt;)if(le(K[Et],Et,K))return Et;return-1}function oo(K,le,ie){return le===le?uo(K,le,ie):oa(K,uu,ie)}function sl(K,le,ie,$e){for(var nt=ie-1,Et=K.length;++nt<Et;)if($e(K[nt],le))return nt;return-1}function uu(K){return K!==K}function cu(K,le){var ie=K==null?0:K.length;return ie?f(K,le)/ie:ke}function Va(K){return function(le){return le==null?n:le[K]}}function ao(K){return function(le){return K==null?n:K[le]}}function Xa(K,le,ie,$e,nt){return nt(K,function(Et,nn,Ot){ie=$e?($e=!1,Et):le(ie,Et,nn,Ot)}),ie}function a(K,le){var ie=K.length;for(K.sort(le);ie--;)K[ie]=K[ie].value;return K}function f(K,le){for(var ie,$e=-1,nt=K.length;++$e<nt;){var Et=le(K[$e]);Et!==n&&(ie=ie===n?Et:ie+Et)}return ie}function m(K,le){for(var ie=-1,$e=Array(K);++ie<K;)$e[ie]=le(ie);return $e}function v(K,le){return zt(le,function(ie){return[ie,K[ie]]})}function A(K){return K&&K.slice(0,Tn(K)+1).replace(Yt,"")}function I(K){return function(le){return K(le)}}function U(K,le){return zt(le,function(ie){return K[ie]})}function R(K,le){return K.has(le)}function F(K,le){for(var ie=-1,$e=K.length;++ie<$e&&oo(le,K[ie],0)>-1;);return ie}function z(K,le){for(var ie=K.length;ie--&&oo(le,K[ie],0)>-1;);return ie}function ge(K,le){for(var ie=K.length,$e=0;ie--;)K[ie]===le&&++$e;return $e}var be=ao(io),Ge=ao(nu);function Z(K){return"\\"+Lo[K]}function We(K,le){return K==null?n:K[le]}function tt(K){return Ga.test(K)}function rt(K){return tl.test(K)}function Vn(K){for(var le,ie=[];!(le=K.next()).done;)ie.push(le.value);return ie}function un(K){var le=-1,ie=Array(K.size);return K.forEach(function($e,nt){ie[++le]=[nt,$e]}),ie}function so(K,le){return function(ie){return K(le(ie))}}function cr(K,le){for(var ie=-1,$e=K.length,nt=0,Et=[];++ie<$e;){var nn=K[ie];(nn===le||nn===b)&&(K[ie]=b,Et[nt++]=ie)}return Et}function lr(K){var le=-1,ie=Array(K.size);return K.forEach(function($e){ie[++le]=$e}),ie}function Ya(K){var le=-1,ie=Array(K.size);return K.forEach(function($e){ie[++le]=[$e,$e]}),ie}function uo(K,le,ie){for(var $e=ie-1,nt=K.length;++$e<nt;)if(K[$e]===le)return $e;return-1}function Ka(K,le,ie){for(var $e=ie+1;$e--;)if(K[$e]===le)return $e;return $e}function Nn(K){return tt(K)?lu(K):il(K)}function Jn(K){return tt(K)?Vr(K):ol(K)}function Tn(K){for(var le=K.length;le--&&qo.test(K.charAt(le)););return le}var Mt=ao(ru);function lu(K){for(var le=To.lastIndex=0;To.test(K);)++le;return le}function Vr(K){return K.match(To)||[]}function Qa(K){return K.match(Zs)||[]}var co=function K(le){le=le==null?Ht:Pi.defaults(Ht.Object(),le,Pi.pick(Ht,eu));var ie=le.Array,$e=le.Date,nt=le.Error,Et=le.Function,nn=le.Math,Ot=le.Object,lt=le.RegExp,Mo=le.String,fr=le.TypeError,y=ie.prototype,p=Et.prototype,x=Ot.prototype,T=le["__core-js_shared__"],D=p.toString,j=x.hasOwnProperty,ue=0,Ce=function(){var i=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),He=x.toString,je=D.call(Ot),pt=Ht._,dt=lt("^"+D.call(j).replace(to,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=Ua?le.Buffer:n,fe=le.Symbol,st=le.Uint8Array,Tt=B?B.allocUnsafe:n,Qt=so(Ot.getPrototypeOf,Ot),Zn=Ot.create,er=x.propertyIsEnumerable,cn=y.splice,we=fe?fe.isConcatSpreadable:n,C=fe?fe.iterator:n,N=fe?fe.toStringTag:n,ee=function(){try{var i=Fo(Ot,"defineProperty");return i({},"",{}),i}catch{}}(),ce=le.clearTimeout!==Ht.clearTimeout&&le.clearTimeout,ye=$e&&$e.now!==Ht.Date.now&&$e.now,xe=le.setTimeout!==Ht.setTimeout&&le.setTimeout,De=nn.ceil,Lt=nn.floor,It=Ot.getOwnPropertySymbols,Tr=B?B.isBuffer:n,lo=le.isFinite,cv=y.join,lv=so(Ot.keys,Ot),Sn=nn.max,Xn=nn.min,fv=$e.now,dv=le.parseInt,ih=nn.random,hv=y.reverse,ul=Fo(le,"DataView"),qa=Fo(le,"Map"),cl=Fo(le,"Promise"),aa=Fo(le,"Set"),Ja=Fo(le,"WeakMap"),Za=Fo(Ot,"create"),fu=Ja&&new Ja,sa={},pv=No(ul),gv=No(qa),mv=No(cl),yv=No(aa),vv=No(Ja),du=fe?fe.prototype:n,es=du?du.valueOf:n,oh=du?du.toString:n;function M(i){if(rn(i)&&!ct(i)&&!(i instanceof bt)){if(i instanceof Lr)return i;if(j.call(i,"__wrapped__"))return ap(i)}return new Lr(i)}var ua=function(){function i(){}return function(s){if(!qt(s))return{};if(Zn)return Zn(s);i.prototype=s;var d=new i;return i.prototype=n,d}}();function hu(){}function Lr(i,s){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=n}M.templateSettings={escape:ri,evaluate:ii,interpolate:eo,variable:"",imports:{_:M}},M.prototype=hu.prototype,M.prototype.constructor=M,Lr.prototype=ua(hu.prototype),Lr.prototype.constructor=Lr;function bt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ee,this.__views__=[]}function wv(){var i=new bt(this.__wrapped__);return i.__actions__=dr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=dr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=dr(this.__views__),i}function bv(){if(this.__filtered__){var i=new bt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function Sv(){var i=this.__wrapped__.value(),s=this.__dir__,d=ct(i),w=s<0,_=d?i.length:0,k=R1(0,_,this.__views__),G=k.start,V=k.end,Q=V-G,me=w?V:G-1,ve=this.__iteratees__,Se=ve.length,Oe=0,Ve=Xn(Q,this.__takeCount__);if(!d||!w&&_==Q&&Ve==Q)return Ph(i,this.__actions__);var Je=[];e:for(;Q--&&Oe<Ve;){me+=s;for(var ht=-1,Ze=i[me];++ht<Se;){var wt=ve[ht],xt=wt.iteratee,Er=wt.type,rr=xt(Ze);if(Er==Xe)Ze=rr;else if(!rr){if(Er==_e)continue e;break e}}Je[Oe++]=Ze}return Je}bt.prototype=ua(hu.prototype),bt.prototype.constructor=bt;function Io(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var w=i[s];this.set(w[0],w[1])}}function xv(){this.__data__=Za?Za(null):{},this.size=0}function Ev(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function Av(i){var s=this.__data__;if(Za){var d=s[i];return d===h?n:d}return j.call(s,i)?s[i]:n}function Cv(i){var s=this.__data__;return Za?s[i]!==n:j.call(s,i)}function _v(i,s){var d=this.__data__;return this.size+=this.has(i)?0:1,d[i]=Za&&s===n?h:s,this}Io.prototype.clear=xv,Io.prototype.delete=Ev,Io.prototype.get=Av,Io.prototype.has=Cv,Io.prototype.set=_v;function Mi(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var w=i[s];this.set(w[0],w[1])}}function Tv(){this.__data__=[],this.size=0}function Lv(i){var s=this.__data__,d=pu(s,i);if(d<0)return!1;var w=s.length-1;return d==w?s.pop():cn.call(s,d,1),--this.size,!0}function Pv(i){var s=this.__data__,d=pu(s,i);return d<0?n:s[d][1]}function Mv(i){return pu(this.__data__,i)>-1}function Iv(i,s){var d=this.__data__,w=pu(d,i);return w<0?(++this.size,d.push([i,s])):d[w][1]=s,this}Mi.prototype.clear=Tv,Mi.prototype.delete=Lv,Mi.prototype.get=Pv,Mi.prototype.has=Mv,Mi.prototype.set=Iv;function Ii(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var w=i[s];this.set(w[0],w[1])}}function kv(){this.size=0,this.__data__={hash:new Io,map:new(qa||Mi),string:new Io}}function Rv(i){var s=_u(this,i).delete(i);return this.size-=s?1:0,s}function Ov(i){return _u(this,i).get(i)}function Fv(i){return _u(this,i).has(i)}function Nv(i,s){var d=_u(this,i),w=d.size;return d.set(i,s),this.size+=d.size==w?0:1,this}Ii.prototype.clear=kv,Ii.prototype.delete=Rv,Ii.prototype.get=Ov,Ii.prototype.has=Fv,Ii.prototype.set=Nv;function ko(i){var s=-1,d=i==null?0:i.length;for(this.__data__=new Ii;++s<d;)this.add(i[s])}function $v(i){return this.__data__.set(i,h),this}function Bv(i){return this.__data__.has(i)}ko.prototype.add=ko.prototype.push=$v,ko.prototype.has=Bv;function Xr(i){var s=this.__data__=new Mi(i);this.size=s.size}function Dv(){this.__data__=new Mi,this.size=0}function Gv(i){var s=this.__data__,d=s.delete(i);return this.size=s.size,d}function Uv(i){return this.__data__.get(i)}function Wv(i){return this.__data__.has(i)}function Hv(i,s){var d=this.__data__;if(d instanceof Mi){var w=d.__data__;if(!qa||w.length<o-1)return w.push([i,s]),this.size=++d.size,this;d=this.__data__=new Ii(w)}return d.set(i,s),this.size=d.size,this}Xr.prototype.clear=Dv,Xr.prototype.delete=Gv,Xr.prototype.get=Uv,Xr.prototype.has=Wv,Xr.prototype.set=Hv;function ah(i,s){var d=ct(i),w=!d&&$o(i),_=!d&&!w&&mo(i),k=!d&&!w&&!_&&da(i),G=d||w||_||k,V=G?m(i.length,Mo):[],Q=V.length;for(var me in i)(s||j.call(i,me))&&!(G&&(me=="length"||_&&(me=="offset"||me=="parent")||k&&(me=="buffer"||me=="byteLength"||me=="byteOffset")||Fi(me,Q)))&&V.push(me);return V}function sh(i){var s=i.length;return s?i[bl(0,s-1)]:n}function zv(i,s){return Tu(dr(i),Ro(s,0,i.length))}function jv(i){return Tu(dr(i))}function ll(i,s,d){(d!==n&&!Yr(i[s],d)||d===n&&!(s in i))&&ki(i,s,d)}function ts(i,s,d){var w=i[s];(!(j.call(i,s)&&Yr(w,d))||d===n&&!(s in i))&&ki(i,s,d)}function pu(i,s){for(var d=i.length;d--;)if(Yr(i[d][0],s))return d;return-1}function Vv(i,s,d,w){return fo(i,function(_,k,G){s(w,_,d(_),G)}),w}function uh(i,s){return i&&li(s,Ln(s),i)}function Xv(i,s){return i&&li(s,pr(s),i)}function ki(i,s,d){s=="__proto__"&&ee?ee(i,s,{configurable:!0,enumerable:!0,value:d,writable:!0}):i[s]=d}function fl(i,s){for(var d=-1,w=s.length,_=ie(w),k=i==null;++d<w;)_[d]=k?n:jl(i,s[d]);return _}function Ro(i,s,d){return i===i&&(d!==n&&(i=i<=d?i:d),s!==n&&(i=i>=s?i:s)),i}function Pr(i,s,d,w,_,k){var G,V=s&S,Q=s&E,me=s&L;if(d&&(G=_?d(i,w,_,k):d(i)),G!==n)return G;if(!qt(i))return i;var ve=ct(i);if(ve){if(G=F1(i),!V)return dr(i,G)}else{var Se=Yn(i),Oe=Se==Ut||Se==wn;if(mo(i))return kh(i,V);if(Se==jt||Se==Ke||Oe&&!_){if(G=Q||Oe?{}:qh(i),!V)return Q?A1(i,Xv(G,i)):E1(i,uh(G,i))}else{if(!Rt[Se])return _?i:{};G=N1(i,Se,V)}}k||(k=new Xr);var Ve=k.get(i);if(Ve)return Ve;k.set(i,G),_p(i)?i.forEach(function(Ze){G.add(Pr(Ze,s,d,Ze,i,k))}):Ap(i)&&i.forEach(function(Ze,wt){G.set(wt,Pr(Ze,s,d,wt,i,k))});var Je=me?Q?Il:Ml:Q?pr:Ln,ht=ve?n:Je(i);return Fn(ht||i,function(Ze,wt){ht&&(wt=Ze,Ze=i[wt]),ts(G,wt,Pr(Ze,s,d,wt,i,k))}),G}function Yv(i){var s=Ln(i);return function(d){return ch(d,i,s)}}function ch(i,s,d){var w=d.length;if(i==null)return!w;for(i=Ot(i);w--;){var _=d[w],k=s[_],G=i[_];if(G===n&&!(_ in i)||!k(G))return!1}return!0}function lh(i,s,d){if(typeof i!="function")throw new fr(c);return us(function(){i.apply(n,d)},s)}function ns(i,s,d,w){var _=-1,k=sn,G=!0,V=i.length,Q=[],me=s.length;if(!V)return Q;d&&(s=zt(s,I(d))),w?(k=yn,G=!1):s.length>=o&&(k=R,G=!1,s=new ko(s));e:for(;++_<V;){var ve=i[_],Se=d==null?ve:d(ve);if(ve=w||ve!==0?ve:0,G&&Se===Se){for(var Oe=me;Oe--;)if(s[Oe]===Se)continue e;Q.push(ve)}else k(s,Se,w)||Q.push(ve)}return Q}var fo=$h(ci),fh=$h(hl,!0);function Kv(i,s){var d=!0;return fo(i,function(w,_,k){return d=!!s(w,_,k),d}),d}function gu(i,s,d){for(var w=-1,_=i.length;++w<_;){var k=i[w],G=s(k);if(G!=null&&(V===n?G===G&&!xr(G):d(G,V)))var V=G,Q=k}return Q}function Qv(i,s,d,w){var _=i.length;for(d=ft(d),d<0&&(d=-d>_?0:_+d),w=w===n||w>_?_:ft(w),w<0&&(w+=_),w=d>w?0:Lp(w);d<w;)i[d++]=s;return i}function dh(i,s){var d=[];return fo(i,function(w,_,k){s(w,_,k)&&d.push(w)}),d}function $n(i,s,d,w,_){var k=-1,G=i.length;for(d||(d=B1),_||(_=[]);++k<G;){var V=i[k];s>0&&d(V)?s>1?$n(V,s-1,d,w,_):ui(_,V):w||(_[_.length]=V)}return _}var dl=Bh(),hh=Bh(!0);function ci(i,s){return i&&dl(i,s,Ln)}function hl(i,s){return i&&hh(i,s,Ln)}function mu(i,s){return Vt(s,function(d){return Ni(i[d])})}function Oo(i,s){s=po(s,i);for(var d=0,w=s.length;i!=null&&d<w;)i=i[fi(s[d++])];return d&&d==w?i:n}function ph(i,s,d){var w=s(i);return ct(i)?w:ui(w,d(i))}function tr(i){return i==null?i===n?St:Zt:N&&N in Ot(i)?k1(i):j1(i)}function pl(i,s){return i>s}function qv(i,s){return i!=null&&j.call(i,s)}function Jv(i,s){return i!=null&&s in Ot(i)}function Zv(i,s,d){return i>=Xn(s,d)&&i<Sn(s,d)}function gl(i,s,d){for(var w=d?yn:sn,_=i[0].length,k=i.length,G=k,V=ie(k),Q=1/0,me=[];G--;){var ve=i[G];G&&s&&(ve=zt(ve,I(s))),Q=Xn(ve.length,Q),V[G]=!d&&(s||_>=120&&ve.length>=120)?new ko(G&&ve):n}ve=i[0];var Se=-1,Oe=V[0];e:for(;++Se<_&&me.length<Q;){var Ve=ve[Se],Je=s?s(Ve):Ve;if(Ve=d||Ve!==0?Ve:0,!(Oe?R(Oe,Je):w(me,Je,d))){for(G=k;--G;){var ht=V[G];if(!(ht?R(ht,Je):w(i[G],Je,d)))continue e}Oe&&Oe.push(Je),me.push(Ve)}}return me}function e1(i,s,d,w){return ci(i,function(_,k,G){s(w,d(_),k,G)}),w}function rs(i,s,d){s=po(s,i),i=tp(i,s);var w=i==null?i:i[fi(Ir(s))];return w==null?n:qn(w,i,d)}function gh(i){return rn(i)&&tr(i)==Ke}function t1(i){return rn(i)&&tr(i)==vi}function n1(i){return rn(i)&&tr(i)==an}function is(i,s,d,w,_){return i===s?!0:i==null||s==null||!rn(i)&&!rn(s)?i!==i&&s!==s:r1(i,s,d,w,is,_)}function r1(i,s,d,w,_,k){var G=ct(i),V=ct(s),Q=G?yt:Yn(i),me=V?yt:Yn(s);Q=Q==Ke?jt:Q,me=me==Ke?jt:me;var ve=Q==jt,Se=me==jt,Oe=Q==me;if(Oe&&mo(i)){if(!mo(s))return!1;G=!0,ve=!1}if(Oe&&!ve)return k||(k=new Xr),G||da(i)?Yh(i,s,d,w,_,k):M1(i,s,Q,d,w,_,k);if(!(d&P)){var Ve=ve&&j.call(i,"__wrapped__"),Je=Se&&j.call(s,"__wrapped__");if(Ve||Je){var ht=Ve?i.value():i,Ze=Je?s.value():s;return k||(k=new Xr),_(ht,Ze,d,w,k)}}return Oe?(k||(k=new Xr),I1(i,s,d,w,_,k)):!1}function i1(i){return rn(i)&&Yn(i)==Wt}function ml(i,s,d,w){var _=d.length,k=_,G=!w;if(i==null)return!k;for(i=Ot(i);_--;){var V=d[_];if(G&&V[2]?V[1]!==i[V[0]]:!(V[0]in i))return!1}for(;++_<k;){V=d[_];var Q=V[0],me=i[Q],ve=V[1];if(G&&V[2]){if(me===n&&!(Q in i))return!1}else{var Se=new Xr;if(w)var Oe=w(me,ve,Q,i,s,Se);if(!(Oe===n?is(ve,me,P|O,w,Se):Oe))return!1}}return!0}function mh(i){if(!qt(i)||G1(i))return!1;var s=Ni(i)?dt:Hn;return s.test(No(i))}function o1(i){return rn(i)&&tr(i)==gn}function a1(i){return rn(i)&&Yn(i)==at}function s1(i){return rn(i)&&Ru(i.length)&&!!Pt[tr(i)]}function yh(i){return typeof i=="function"?i:i==null?gr:typeof i=="object"?ct(i)?bh(i[0],i[1]):wh(i):Dp(i)}function yl(i){if(!ss(i))return lv(i);var s=[];for(var d in Ot(i))j.call(i,d)&&d!="constructor"&&s.push(d);return s}function u1(i){if(!qt(i))return z1(i);var s=ss(i),d=[];for(var w in i)w=="constructor"&&(s||!j.call(i,w))||d.push(w);return d}function vl(i,s){return i<s}function vh(i,s){var d=-1,w=hr(i)?ie(i.length):[];return fo(i,function(_,k,G){w[++d]=s(_,k,G)}),w}function wh(i){var s=Rl(i);return s.length==1&&s[0][2]?Zh(s[0][0],s[0][1]):function(d){return d===i||ml(d,i,s)}}function bh(i,s){return Fl(i)&&Jh(s)?Zh(fi(i),s):function(d){var w=jl(d,i);return w===n&&w===s?Vl(d,i):is(s,w,P|O)}}function yu(i,s,d,w,_){i!==s&&dl(s,function(k,G){if(_||(_=new Xr),qt(k))c1(i,s,G,d,yu,w,_);else{var V=w?w($l(i,G),k,G+"",i,s,_):n;V===n&&(V=k),ll(i,G,V)}},pr)}function c1(i,s,d,w,_,k,G){var V=$l(i,d),Q=$l(s,d),me=G.get(Q);if(me){ll(i,d,me);return}var ve=k?k(V,Q,d+"",i,s,G):n,Se=ve===n;if(Se){var Oe=ct(Q),Ve=!Oe&&mo(Q),Je=!Oe&&!Ve&&da(Q);ve=Q,Oe||Ve||Je?ct(V)?ve=V:ln(V)?ve=dr(V):Ve?(Se=!1,ve=kh(Q,!0)):Je?(Se=!1,ve=Rh(Q,!0)):ve=[]:cs(Q)||$o(Q)?(ve=V,$o(V)?ve=Pp(V):(!qt(V)||Ni(V))&&(ve=qh(Q))):Se=!1}Se&&(G.set(Q,ve),_(ve,Q,w,k,G),G.delete(Q)),ll(i,d,ve)}function Sh(i,s){var d=i.length;if(d)return s+=s<0?d:0,Fi(s,d)?i[s]:n}function xh(i,s,d){s.length?s=zt(s,function(k){return ct(k)?function(G){return Oo(G,k.length===1?k[0]:k)}:k}):s=[gr];var w=-1;s=zt(s,I(Qe()));var _=vh(i,function(k,G,V){var Q=zt(s,function(me){return me(k)});return{criteria:Q,index:++w,value:k}});return a(_,function(k,G){return x1(k,G,d)})}function l1(i,s){return Eh(i,s,function(d,w){return Vl(i,w)})}function Eh(i,s,d){for(var w=-1,_=s.length,k={};++w<_;){var G=s[w],V=Oo(i,G);d(V,G)&&os(k,po(G,i),V)}return k}function f1(i){return function(s){return Oo(s,i)}}function wl(i,s,d,w){var _=w?sl:oo,k=-1,G=s.length,V=i;for(i===s&&(s=dr(s)),d&&(V=zt(i,I(d)));++k<G;)for(var Q=0,me=s[k],ve=d?d(me):me;(Q=_(V,ve,Q,w))>-1;)V!==i&&cn.call(V,Q,1),cn.call(i,Q,1);return i}function Ah(i,s){for(var d=i?s.length:0,w=d-1;d--;){var _=s[d];if(d==w||_!==k){var k=_;Fi(_)?cn.call(i,_,1):El(i,_)}}return i}function bl(i,s){return i+Lt(ih()*(s-i+1))}function d1(i,s,d,w){for(var _=-1,k=Sn(De((s-i)/(d||1)),0),G=ie(k);k--;)G[w?k:++_]=i,i+=d;return G}function Sl(i,s){var d="";if(!i||s<1||s>de)return d;do s%2&&(d+=i),s=Lt(s/2),s&&(i+=i);while(s);return d}function gt(i,s){return Bl(ep(i,s,gr),i+"")}function h1(i){return sh(ha(i))}function p1(i,s){var d=ha(i);return Tu(d,Ro(s,0,d.length))}function os(i,s,d,w){if(!qt(i))return i;s=po(s,i);for(var _=-1,k=s.length,G=k-1,V=i;V!=null&&++_<k;){var Q=fi(s[_]),me=d;if(Q==="__proto__"||Q==="constructor"||Q==="prototype")return i;if(_!=G){var ve=V[Q];me=w?w(ve,Q,V):n,me===n&&(me=qt(ve)?ve:Fi(s[_+1])?[]:{})}ts(V,Q,me),V=V[Q]}return i}var Ch=fu?function(i,s){return fu.set(i,s),i}:gr,g1=ee?function(i,s){return ee(i,"toString",{configurable:!0,enumerable:!1,value:Yl(s),writable:!0})}:gr;function m1(i){return Tu(ha(i))}function Mr(i,s,d){var w=-1,_=i.length;s<0&&(s=-s>_?0:_+s),d=d>_?_:d,d<0&&(d+=_),_=s>d?0:d-s>>>0,s>>>=0;for(var k=ie(_);++w<_;)k[w]=i[w+s];return k}function y1(i,s){var d;return fo(i,function(w,_,k){return d=s(w,_,k),!d}),!!d}function vu(i,s,d){var w=0,_=i==null?w:i.length;if(typeof s=="number"&&s===s&&_<=ot){for(;w<_;){var k=w+_>>>1,G=i[k];G!==null&&!xr(G)&&(d?G<=s:G<s)?w=k+1:_=k}return _}return xl(i,s,gr,d)}function xl(i,s,d,w){var _=0,k=i==null?0:i.length;if(k===0)return 0;s=d(s);for(var G=s!==s,V=s===null,Q=xr(s),me=s===n;_<k;){var ve=Lt((_+k)/2),Se=d(i[ve]),Oe=Se!==n,Ve=Se===null,Je=Se===Se,ht=xr(Se);if(G)var Ze=w||Je;else me?Ze=Je&&(w||Oe):V?Ze=Je&&Oe&&(w||!Ve):Q?Ze=Je&&Oe&&!Ve&&(w||!ht):Ve||ht?Ze=!1:Ze=w?Se<=s:Se<s;Ze?_=ve+1:k=ve}return Xn(k,Re)}function _h(i,s){for(var d=-1,w=i.length,_=0,k=[];++d<w;){var G=i[d],V=s?s(G):G;if(!d||!Yr(V,Q)){var Q=V;k[_++]=G===0?0:G}}return k}function Th(i){return typeof i=="number"?i:xr(i)?ke:+i}function Sr(i){if(typeof i=="string")return i;if(ct(i))return zt(i,Sr)+"";if(xr(i))return oh?oh.call(i):"";var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}function ho(i,s,d){var w=-1,_=sn,k=i.length,G=!0,V=[],Q=V;if(d)G=!1,_=yn;else if(k>=o){var me=s?null:L1(i);if(me)return lr(me);G=!1,_=R,Q=new ko}else Q=s?[]:V;e:for(;++w<k;){var ve=i[w],Se=s?s(ve):ve;if(ve=d||ve!==0?ve:0,G&&Se===Se){for(var Oe=Q.length;Oe--;)if(Q[Oe]===Se)continue e;s&&Q.push(Se),V.push(ve)}else _(Q,Se,d)||(Q!==V&&Q.push(Se),V.push(ve))}return V}function El(i,s){return s=po(s,i),i=tp(i,s),i==null||delete i[fi(Ir(s))]}function Lh(i,s,d,w){return os(i,s,d(Oo(i,s)),w)}function wu(i,s,d,w){for(var _=i.length,k=w?_:-1;(w?k--:++k<_)&&s(i[k],k,i););return d?Mr(i,w?0:k,w?k+1:_):Mr(i,w?k+1:0,w?_:k)}function Ph(i,s){var d=i;return d instanceof bt&&(d=d.value()),za(s,function(w,_){return _.func.apply(_.thisArg,ui([w],_.args))},d)}function Al(i,s,d){var w=i.length;if(w<2)return w?ho(i[0]):[];for(var _=-1,k=ie(w);++_<w;)for(var G=i[_],V=-1;++V<w;)V!=_&&(k[_]=ns(k[_]||G,i[V],s,d));return ho($n(k,1),s,d)}function Mh(i,s,d){for(var w=-1,_=i.length,k=s.length,G={};++w<_;){var V=w<k?s[w]:n;d(G,i[w],V)}return G}function Cl(i){return ln(i)?i:[]}function _l(i){return typeof i=="function"?i:gr}function po(i,s){return ct(i)?i:Fl(i,s)?[i]:op(kt(i))}var v1=gt;function go(i,s,d){var w=i.length;return d=d===n?w:d,!s&&d>=w?i:Mr(i,s,d)}var Ih=ce||function(i){return Ht.clearTimeout(i)};function kh(i,s){if(s)return i.slice();var d=i.length,w=Tt?Tt(d):new i.constructor(d);return i.copy(w),w}function Tl(i){var s=new i.constructor(i.byteLength);return new st(s).set(new st(i)),s}function w1(i,s){var d=s?Tl(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.byteLength)}function b1(i){var s=new i.constructor(i.source,Cn.exec(i));return s.lastIndex=i.lastIndex,s}function S1(i){return es?Ot(es.call(i)):{}}function Rh(i,s){var d=s?Tl(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.length)}function Oh(i,s){if(i!==s){var d=i!==n,w=i===null,_=i===i,k=xr(i),G=s!==n,V=s===null,Q=s===s,me=xr(s);if(!V&&!me&&!k&&i>s||k&&G&&Q&&!V&&!me||w&&G&&Q||!d&&Q||!_)return 1;if(!w&&!k&&!me&&i<s||me&&d&&_&&!w&&!k||V&&d&&_||!G&&_||!Q)return-1}return 0}function x1(i,s,d){for(var w=-1,_=i.criteria,k=s.criteria,G=_.length,V=d.length;++w<G;){var Q=Oh(_[w],k[w]);if(Q){if(w>=V)return Q;var me=d[w];return Q*(me=="desc"?-1:1)}}return i.index-s.index}function Fh(i,s,d,w){for(var _=-1,k=i.length,G=d.length,V=-1,Q=s.length,me=Sn(k-G,0),ve=ie(Q+me),Se=!w;++V<Q;)ve[V]=s[V];for(;++_<G;)(Se||_<k)&&(ve[d[_]]=i[_]);for(;me--;)ve[V++]=i[_++];return ve}function Nh(i,s,d,w){for(var _=-1,k=i.length,G=-1,V=d.length,Q=-1,me=s.length,ve=Sn(k-V,0),Se=ie(ve+me),Oe=!w;++_<ve;)Se[_]=i[_];for(var Ve=_;++Q<me;)Se[Ve+Q]=s[Q];for(;++G<V;)(Oe||_<k)&&(Se[Ve+d[G]]=i[_++]);return Se}function dr(i,s){var d=-1,w=i.length;for(s||(s=ie(w));++d<w;)s[d]=i[d];return s}function li(i,s,d,w){var _=!d;d||(d={});for(var k=-1,G=s.length;++k<G;){var V=s[k],Q=w?w(d[V],i[V],V,d,i):n;Q===n&&(Q=i[V]),_?ki(d,V,Q):ts(d,V,Q)}return d}function E1(i,s){return li(i,Ol(i),s)}function A1(i,s){return li(i,Kh(i),s)}function bu(i,s){return function(d,w){var _=ct(d)?nl:Vv,k=s?s():{};return _(d,i,Qe(w,2),k)}}function ca(i){return gt(function(s,d){var w=-1,_=d.length,k=_>1?d[_-1]:n,G=_>2?d[2]:n;for(k=i.length>3&&typeof k=="function"?(_--,k):n,G&&nr(d[0],d[1],G)&&(k=_<3?n:k,_=1),s=Ot(s);++w<_;){var V=d[w];V&&i(s,V,w,k)}return s})}function $h(i,s){return function(d,w){if(d==null)return d;if(!hr(d))return i(d,w);for(var _=d.length,k=s?_:-1,G=Ot(d);(s?k--:++k<_)&&w(G[k],k,G)!==!1;);return d}}function Bh(i){return function(s,d,w){for(var _=-1,k=Ot(s),G=w(s),V=G.length;V--;){var Q=G[i?V:++_];if(d(k[Q],Q,k)===!1)break}return s}}function C1(i,s,d){var w=s&$,_=as(i);function k(){var G=this&&this!==Ht&&this instanceof k?_:i;return G.apply(w?d:this,arguments)}return k}function Dh(i){return function(s){s=kt(s);var d=tt(s)?Jn(s):n,w=d?d[0]:s.charAt(0),_=d?go(d,1).join(""):s.slice(1);return w[i]()+_}}function la(i){return function(s){return za($p(Np(s).replace(ut,"")),i,"")}}function as(i){return function(){var s=arguments;switch(s.length){case 0:return new i;case 1:return new i(s[0]);case 2:return new i(s[0],s[1]);case 3:return new i(s[0],s[1],s[2]);case 4:return new i(s[0],s[1],s[2],s[3]);case 5:return new i(s[0],s[1],s[2],s[3],s[4]);case 6:return new i(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new i(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var d=ua(i.prototype),w=i.apply(d,s);return qt(w)?w:d}}function _1(i,s,d){var w=as(i);function _(){for(var k=arguments.length,G=ie(k),V=k,Q=fa(_);V--;)G[V]=arguments[V];var me=k<3&&G[0]!==Q&&G[k-1]!==Q?[]:cr(G,Q);if(k-=me.length,k<d)return zh(i,s,Su,_.placeholder,n,G,me,n,n,d-k);var ve=this&&this!==Ht&&this instanceof _?w:i;return qn(ve,this,G)}return _}function Gh(i){return function(s,d,w){var _=Ot(s);if(!hr(s)){var k=Qe(d,3);s=Ln(s),d=function(V){return k(_[V],V,_)}}var G=i(s,d,w);return G>-1?_[k?s[G]:G]:n}}function Uh(i){return Oi(function(s){var d=s.length,w=d,_=Lr.prototype.thru;for(i&&s.reverse();w--;){var k=s[w];if(typeof k!="function")throw new fr(c);if(_&&!G&&Cu(k)=="wrapper")var G=new Lr([],!0)}for(w=G?w:d;++w<d;){k=s[w];var V=Cu(k),Q=V=="wrapper"?kl(k):n;Q&&Nl(Q[0])&&Q[1]==(he|W|oe|Ae)&&!Q[4].length&&Q[9]==1?G=G[Cu(Q[0])].apply(G,Q[3]):G=k.length==1&&Nl(k)?G[V]():G.thru(k)}return function(){var me=arguments,ve=me[0];if(G&&me.length==1&&ct(ve))return G.plant(ve).value();for(var Se=0,Oe=d?s[Se].apply(this,me):ve;++Se<d;)Oe=s[Se].call(this,Oe);return Oe}})}function Su(i,s,d,w,_,k,G,V,Q,me){var ve=s&he,Se=s&$,Oe=s&H,Ve=s&(W|te),Je=s&J,ht=Oe?n:as(i);function Ze(){for(var wt=arguments.length,xt=ie(wt),Er=wt;Er--;)xt[Er]=arguments[Er];if(Ve)var rr=fa(Ze),Ar=ge(xt,rr);if(w&&(xt=Fh(xt,w,_,Ve)),k&&(xt=Nh(xt,k,G,Ve)),wt-=Ar,Ve&&wt<me){var fn=cr(xt,rr);return zh(i,s,Su,Ze.placeholder,d,xt,fn,V,Q,me-wt)}var Kr=Se?d:this,Bi=Oe?Kr[i]:i;return wt=xt.length,V?xt=V1(xt,V):Je&&wt>1&&xt.reverse(),ve&&Q<wt&&(xt.length=Q),this&&this!==Ht&&this instanceof Ze&&(Bi=ht||as(Bi)),Bi.apply(Kr,xt)}return Ze}function Wh(i,s){return function(d,w){return e1(d,i,s(w),{})}}function xu(i,s){return function(d,w){var _;if(d===n&&w===n)return s;if(d!==n&&(_=d),w!==n){if(_===n)return w;typeof d=="string"||typeof w=="string"?(d=Sr(d),w=Sr(w)):(d=Th(d),w=Th(w)),_=i(d,w)}return _}}function Ll(i){return Oi(function(s){return s=zt(s,I(Qe())),gt(function(d){var w=this;return i(s,function(_){return qn(_,w,d)})})})}function Eu(i,s){s=s===n?" ":Sr(s);var d=s.length;if(d<2)return d?Sl(s,i):s;var w=Sl(s,De(i/Nn(s)));return tt(s)?go(Jn(w),0,i).join(""):w.slice(0,i)}function T1(i,s,d,w){var _=s&$,k=as(i);function G(){for(var V=-1,Q=arguments.length,me=-1,ve=w.length,Se=ie(ve+Q),Oe=this&&this!==Ht&&this instanceof G?k:i;++me<ve;)Se[me]=w[me];for(;Q--;)Se[me++]=arguments[++V];return qn(Oe,_?d:this,Se)}return G}function Hh(i){return function(s,d,w){return w&&typeof w!="number"&&nr(s,d,w)&&(d=w=n),s=$i(s),d===n?(d=s,s=0):d=$i(d),w=w===n?s<d?1:-1:$i(w),d1(s,d,w,i)}}function Au(i){return function(s,d){return typeof s=="string"&&typeof d=="string"||(s=kr(s),d=kr(d)),i(s,d)}}function zh(i,s,d,w,_,k,G,V,Q,me){var ve=s&W,Se=ve?G:n,Oe=ve?n:G,Ve=ve?k:n,Je=ve?n:k;s|=ve?oe:re,s&=~(ve?re:oe),s&X||(s&=-4);var ht=[i,s,_,Ve,Se,Je,Oe,V,Q,me],Ze=d.apply(n,ht);return Nl(i)&&np(Ze,ht),Ze.placeholder=w,rp(Ze,i,s)}function Pl(i){var s=nn[i];return function(d,w){if(d=kr(d),w=w==null?0:Xn(ft(w),292),w&&lo(d)){var _=(kt(d)+"e").split("e"),k=s(_[0]+"e"+(+_[1]+w));return _=(kt(k)+"e").split("e"),+(_[0]+"e"+(+_[1]-w))}return s(d)}}var L1=aa&&1/lr(new aa([,-0]))[1]==ne?function(i){return new aa(i)}:ql;function jh(i){return function(s){var d=Yn(s);return d==Wt?un(s):d==at?Ya(s):v(s,i(s))}}function Ri(i,s,d,w,_,k,G,V){var Q=s&H;if(!Q&&typeof i!="function")throw new fr(c);var me=w?w.length:0;if(me||(s&=-97,w=_=n),G=G===n?G:Sn(ft(G),0),V=V===n?V:ft(V),me-=_?_.length:0,s&re){var ve=w,Se=_;w=_=n}var Oe=Q?n:kl(i),Ve=[i,s,d,w,_,ve,Se,k,G,V];if(Oe&&H1(Ve,Oe),i=Ve[0],s=Ve[1],d=Ve[2],w=Ve[3],_=Ve[4],V=Ve[9]=Ve[9]===n?Q?0:i.length:Sn(Ve[9]-me,0),!V&&s&(W|te)&&(s&=-25),!s||s==$)var Je=C1(i,s,d);else s==W||s==te?Je=_1(i,s,V):(s==oe||s==($|oe))&&!_.length?Je=T1(i,s,d,w):Je=Su.apply(n,Ve);var ht=Oe?Ch:np;return rp(ht(Je,Ve),i,s)}function Vh(i,s,d,w){return i===n||Yr(i,x[d])&&!j.call(w,d)?s:i}function Xh(i,s,d,w,_,k){return qt(i)&&qt(s)&&(k.set(s,i),yu(i,s,n,Xh,k),k.delete(s)),i}function P1(i){return cs(i)?n:i}function Yh(i,s,d,w,_,k){var G=d&P,V=i.length,Q=s.length;if(V!=Q&&!(G&&Q>V))return!1;var me=k.get(i),ve=k.get(s);if(me&&ve)return me==s&&ve==i;var Se=-1,Oe=!0,Ve=d&O?new ko:n;for(k.set(i,s),k.set(s,i);++Se<V;){var Je=i[Se],ht=s[Se];if(w)var Ze=G?w(ht,Je,Se,s,i,k):w(Je,ht,Se,i,s,k);if(Ze!==n){if(Ze)continue;Oe=!1;break}if(Ve){if(!ja(s,function(wt,xt){if(!R(Ve,xt)&&(Je===wt||_(Je,wt,d,w,k)))return Ve.push(xt)})){Oe=!1;break}}else if(!(Je===ht||_(Je,ht,d,w,k))){Oe=!1;break}}return k.delete(i),k.delete(s),Oe}function M1(i,s,d,w,_,k,G){switch(d){case bn:if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case vi:return!(i.byteLength!=s.byteLength||!k(new st(i),new st(s)));case In:case an:case En:return Yr(+i,+s);case Un:return i.name==s.name&&i.message==s.message;case gn:case _t:return i==s+"";case Wt:var V=un;case at:var Q=w&P;if(V||(V=lr),i.size!=s.size&&!Q)return!1;var me=G.get(i);if(me)return me==s;w|=O,G.set(i,s);var ve=Yh(V(i),V(s),w,_,k,G);return G.delete(i),ve;case en:if(es)return es.call(i)==es.call(s)}return!1}function I1(i,s,d,w,_,k){var G=d&P,V=Ml(i),Q=V.length,me=Ml(s),ve=me.length;if(Q!=ve&&!G)return!1;for(var Se=Q;Se--;){var Oe=V[Se];if(!(G?Oe in s:j.call(s,Oe)))return!1}var Ve=k.get(i),Je=k.get(s);if(Ve&&Je)return Ve==s&&Je==i;var ht=!0;k.set(i,s),k.set(s,i);for(var Ze=G;++Se<Q;){Oe=V[Se];var wt=i[Oe],xt=s[Oe];if(w)var Er=G?w(xt,wt,Oe,s,i,k):w(wt,xt,Oe,i,s,k);if(!(Er===n?wt===xt||_(wt,xt,d,w,k):Er)){ht=!1;break}Ze||(Ze=Oe=="constructor")}if(ht&&!Ze){var rr=i.constructor,Ar=s.constructor;rr!=Ar&&"constructor"in i&&"constructor"in s&&!(typeof rr=="function"&&rr instanceof rr&&typeof Ar=="function"&&Ar instanceof Ar)&&(ht=!1)}return k.delete(i),k.delete(s),ht}function Oi(i){return Bl(ep(i,n,cp),i+"")}function Ml(i){return ph(i,Ln,Ol)}function Il(i){return ph(i,pr,Kh)}var kl=fu?function(i){return fu.get(i)}:ql;function Cu(i){for(var s=i.name+"",d=sa[s],w=j.call(sa,s)?d.length:0;w--;){var _=d[w],k=_.func;if(k==null||k==i)return _.name}return s}function fa(i){var s=j.call(M,"placeholder")?M:i;return s.placeholder}function Qe(){var i=M.iteratee||Kl;return i=i===Kl?yh:i,arguments.length?i(arguments[0],arguments[1]):i}function _u(i,s){var d=i.__data__;return D1(s)?d[typeof s=="string"?"string":"hash"]:d.map}function Rl(i){for(var s=Ln(i),d=s.length;d--;){var w=s[d],_=i[w];s[d]=[w,_,Jh(_)]}return s}function Fo(i,s){var d=We(i,s);return mh(d)?d:n}function k1(i){var s=j.call(i,N),d=i[N];try{i[N]=n;var w=!0}catch{}var _=He.call(i);return w&&(s?i[N]=d:delete i[N]),_}var Ol=It?function(i){return i==null?[]:(i=Ot(i),Vt(It(i),function(s){return er.call(i,s)}))}:Jl,Kh=It?function(i){for(var s=[];i;)ui(s,Ol(i)),i=Qt(i);return s}:Jl,Yn=tr;(ul&&Yn(new ul(new ArrayBuffer(1)))!=bn||qa&&Yn(new qa)!=Wt||cl&&Yn(cl.resolve())!=Wn||aa&&Yn(new aa)!=at||Ja&&Yn(new Ja)!=Dt)&&(Yn=function(i){var s=tr(i),d=s==jt?i.constructor:n,w=d?No(d):"";if(w)switch(w){case pv:return bn;case gv:return Wt;case mv:return Wn;case yv:return at;case vv:return Dt}return s});function R1(i,s,d){for(var w=-1,_=d.length;++w<_;){var k=d[w],G=k.size;switch(k.type){case"drop":i+=G;break;case"dropRight":s-=G;break;case"take":s=Xn(s,i+G);break;case"takeRight":i=Sn(i,s-G);break}}return{start:i,end:s}}function O1(i){var s=i.match(Kt);return s?s[1].split(tn):[]}function Qh(i,s,d){s=po(s,i);for(var w=-1,_=s.length,k=!1;++w<_;){var G=fi(s[w]);if(!(k=i!=null&&d(i,G)))break;i=i[G]}return k||++w!=_?k:(_=i==null?0:i.length,!!_&&Ru(_)&&Fi(G,_)&&(ct(i)||$o(i)))}function F1(i){var s=i.length,d=new i.constructor(s);return s&&typeof i[0]=="string"&&j.call(i,"index")&&(d.index=i.index,d.input=i.input),d}function qh(i){return typeof i.constructor=="function"&&!ss(i)?ua(Qt(i)):{}}function N1(i,s,d){var w=i.constructor;switch(s){case vi:return Tl(i);case In:case an:return new w(+i);case bn:return w1(i,d);case wi:case bi:case Yi:case Ki:case Qi:case qi:case Wr:case Si:case Hr:return Rh(i,d);case Wt:return new w;case En:case _t:return new w(i);case gn:return b1(i);case at:return new w;case en:return S1(i)}}function $1(i,s){var d=s.length;if(!d)return i;var w=d-1;return s[w]=(d>1?"& ":"")+s[w],s=s.join(d>2?", ":" "),i.replace(mn,`{
/* [wrapped with `+s+`] */
`)}function B1(i){return ct(i)||$o(i)||!!(we&&i&&i[we])}function Fi(i,s){var d=typeof i;return s=s??de,!!s&&(d=="number"||d!="symbol"&&Ci.test(i))&&i>-1&&i%1==0&&i<s}function nr(i,s,d){if(!qt(d))return!1;var w=typeof s;return(w=="number"?hr(d)&&Fi(s,d.length):w=="string"&&s in d)?Yr(d[s],i):!1}function Fl(i,s){if(ct(i))return!1;var d=typeof i;return d=="number"||d=="symbol"||d=="boolean"||i==null||xr(i)?!0:oi.test(i)||!Ei.test(i)||s!=null&&i in Ot(s)}function D1(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function Nl(i){var s=Cu(i),d=M[s];if(typeof d!="function"||!(s in bt.prototype))return!1;if(i===d)return!0;var w=kl(d);return!!w&&i===w[0]}function G1(i){return!!Ce&&Ce in i}var U1=T?Ni:Zl;function ss(i){var s=i&&i.constructor,d=typeof s=="function"&&s.prototype||x;return i===d}function Jh(i){return i===i&&!qt(i)}function Zh(i,s){return function(d){return d==null?!1:d[i]===s&&(s!==n||i in Ot(d))}}function W1(i){var s=Iu(i,function(w){return d.size===g&&d.clear(),w}),d=s.cache;return s}function H1(i,s){var d=i[1],w=s[1],_=d|w,k=_<($|H|he),G=w==he&&d==W||w==he&&d==Ae&&i[7].length<=s[8]||w==(he|Ae)&&s[7].length<=s[8]&&d==W;if(!(k||G))return i;w&$&&(i[2]=s[2],_|=d&$?0:X);var V=s[3];if(V){var Q=i[3];i[3]=Q?Fh(Q,V,s[4]):V,i[4]=Q?cr(i[3],b):s[4]}return V=s[5],V&&(Q=i[5],i[5]=Q?Nh(Q,V,s[6]):V,i[6]=Q?cr(i[5],b):s[6]),V=s[7],V&&(i[7]=V),w&he&&(i[8]=i[8]==null?s[8]:Xn(i[8],s[8])),i[9]==null&&(i[9]=s[9]),i[0]=s[0],i[1]=_,i}function z1(i){var s=[];if(i!=null)for(var d in Ot(i))s.push(d);return s}function j1(i){return He.call(i)}function ep(i,s,d){return s=Sn(s===n?i.length-1:s,0),function(){for(var w=arguments,_=-1,k=Sn(w.length-s,0),G=ie(k);++_<k;)G[_]=w[s+_];_=-1;for(var V=ie(s+1);++_<s;)V[_]=w[_];return V[s]=d(G),qn(i,this,V)}}function tp(i,s){return s.length<2?i:Oo(i,Mr(s,0,-1))}function V1(i,s){for(var d=i.length,w=Xn(s.length,d),_=dr(i);w--;){var k=s[w];i[w]=Fi(k,d)?_[k]:n}return i}function $l(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var np=ip(Ch),us=xe||function(i,s){return Ht.setTimeout(i,s)},Bl=ip(g1);function rp(i,s,d){var w=s+"";return Bl(i,$1(w,X1(O1(w),d)))}function ip(i){var s=0,d=0;return function(){var w=fv(),_=Fe-(w-d);if(d=w,_>0){if(++s>=Ie)return arguments[0]}else s=0;return i.apply(n,arguments)}}function Tu(i,s){var d=-1,w=i.length,_=w-1;for(s=s===n?w:s;++d<s;){var k=bl(d,_),G=i[k];i[k]=i[d],i[d]=G}return i.length=s,i}var op=W1(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(ai,function(d,w,_,k){s.push(_?k.replace(zr,"$1"):w||d)}),s});function fi(i){if(typeof i=="string"||xr(i))return i;var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}function No(i){if(i!=null){try{return D.call(i)}catch{}try{return i+""}catch{}}return""}function X1(i,s){return Fn(it,function(d){var w="_."+d[0];s&d[1]&&!sn(i,w)&&i.push(w)}),i.sort()}function ap(i){if(i instanceof bt)return i.clone();var s=new Lr(i.__wrapped__,i.__chain__);return s.__actions__=dr(i.__actions__),s.__index__=i.__index__,s.__values__=i.__values__,s}function Y1(i,s,d){(d?nr(i,s,d):s===n)?s=1:s=Sn(ft(s),0);var w=i==null?0:i.length;if(!w||s<1)return[];for(var _=0,k=0,G=ie(De(w/s));_<w;)G[k++]=Mr(i,_,_+=s);return G}function K1(i){for(var s=-1,d=i==null?0:i.length,w=0,_=[];++s<d;){var k=i[s];k&&(_[w++]=k)}return _}function Q1(){var i=arguments.length;if(!i)return[];for(var s=ie(i-1),d=arguments[0],w=i;w--;)s[w-1]=arguments[w];return ui(ct(d)?dr(d):[d],$n(s,1))}var q1=gt(function(i,s){return ln(i)?ns(i,$n(s,1,ln,!0)):[]}),J1=gt(function(i,s){var d=Ir(s);return ln(d)&&(d=n),ln(i)?ns(i,$n(s,1,ln,!0),Qe(d,2)):[]}),Z1=gt(function(i,s){var d=Ir(s);return ln(d)&&(d=n),ln(i)?ns(i,$n(s,1,ln,!0),n,d):[]});function ew(i,s,d){var w=i==null?0:i.length;return w?(s=d||s===n?1:ft(s),Mr(i,s<0?0:s,w)):[]}function tw(i,s,d){var w=i==null?0:i.length;return w?(s=d||s===n?1:ft(s),s=w-s,Mr(i,0,s<0?0:s)):[]}function nw(i,s){return i&&i.length?wu(i,Qe(s,3),!0,!0):[]}function rw(i,s){return i&&i.length?wu(i,Qe(s,3),!0):[]}function iw(i,s,d,w){var _=i==null?0:i.length;return _?(d&&typeof d!="number"&&nr(i,s,d)&&(d=0,w=_),Qv(i,s,d,w)):[]}function sp(i,s,d){var w=i==null?0:i.length;if(!w)return-1;var _=d==null?0:ft(d);return _<0&&(_=Sn(w+_,0)),oa(i,Qe(s,3),_)}function up(i,s,d){var w=i==null?0:i.length;if(!w)return-1;var _=w-1;return d!==n&&(_=ft(d),_=d<0?Sn(w+_,0):Xn(_,w-1)),oa(i,Qe(s,3),_,!0)}function cp(i){var s=i==null?0:i.length;return s?$n(i,1):[]}function ow(i){var s=i==null?0:i.length;return s?$n(i,ne):[]}function aw(i,s){var d=i==null?0:i.length;return d?(s=s===n?1:ft(s),$n(i,s)):[]}function sw(i){for(var s=-1,d=i==null?0:i.length,w={};++s<d;){var _=i[s];w[_[0]]=_[1]}return w}function lp(i){return i&&i.length?i[0]:n}function uw(i,s,d){var w=i==null?0:i.length;if(!w)return-1;var _=d==null?0:ft(d);return _<0&&(_=Sn(w+_,0)),oo(i,s,_)}function cw(i){var s=i==null?0:i.length;return s?Mr(i,0,-1):[]}var lw=gt(function(i){var s=zt(i,Cl);return s.length&&s[0]===i[0]?gl(s):[]}),fw=gt(function(i){var s=Ir(i),d=zt(i,Cl);return s===Ir(d)?s=n:d.pop(),d.length&&d[0]===i[0]?gl(d,Qe(s,2)):[]}),dw=gt(function(i){var s=Ir(i),d=zt(i,Cl);return s=typeof s=="function"?s:n,s&&d.pop(),d.length&&d[0]===i[0]?gl(d,n,s):[]});function hw(i,s){return i==null?"":cv.call(i,s)}function Ir(i){var s=i==null?0:i.length;return s?i[s-1]:n}function pw(i,s,d){var w=i==null?0:i.length;if(!w)return-1;var _=w;return d!==n&&(_=ft(d),_=_<0?Sn(w+_,0):Xn(_,w-1)),s===s?Ka(i,s,_):oa(i,uu,_,!0)}function gw(i,s){return i&&i.length?Sh(i,ft(s)):n}var mw=gt(fp);function fp(i,s){return i&&i.length&&s&&s.length?wl(i,s):i}function yw(i,s,d){return i&&i.length&&s&&s.length?wl(i,s,Qe(d,2)):i}function vw(i,s,d){return i&&i.length&&s&&s.length?wl(i,s,n,d):i}var ww=Oi(function(i,s){var d=i==null?0:i.length,w=fl(i,s);return Ah(i,zt(s,function(_){return Fi(_,d)?+_:_}).sort(Oh)),w});function bw(i,s){var d=[];if(!(i&&i.length))return d;var w=-1,_=[],k=i.length;for(s=Qe(s,3);++w<k;){var G=i[w];s(G,w,i)&&(d.push(G),_.push(w))}return Ah(i,_),d}function Dl(i){return i==null?i:hv.call(i)}function Sw(i,s,d){var w=i==null?0:i.length;return w?(d&&typeof d!="number"&&nr(i,s,d)?(s=0,d=w):(s=s==null?0:ft(s),d=d===n?w:ft(d)),Mr(i,s,d)):[]}function xw(i,s){return vu(i,s)}function Ew(i,s,d){return xl(i,s,Qe(d,2))}function Aw(i,s){var d=i==null?0:i.length;if(d){var w=vu(i,s);if(w<d&&Yr(i[w],s))return w}return-1}function Cw(i,s){return vu(i,s,!0)}function _w(i,s,d){return xl(i,s,Qe(d,2),!0)}function Tw(i,s){var d=i==null?0:i.length;if(d){var w=vu(i,s,!0)-1;if(Yr(i[w],s))return w}return-1}function Lw(i){return i&&i.length?_h(i):[]}function Pw(i,s){return i&&i.length?_h(i,Qe(s,2)):[]}function Mw(i){var s=i==null?0:i.length;return s?Mr(i,1,s):[]}function Iw(i,s,d){return i&&i.length?(s=d||s===n?1:ft(s),Mr(i,0,s<0?0:s)):[]}function kw(i,s,d){var w=i==null?0:i.length;return w?(s=d||s===n?1:ft(s),s=w-s,Mr(i,s<0?0:s,w)):[]}function Rw(i,s){return i&&i.length?wu(i,Qe(s,3),!1,!0):[]}function Ow(i,s){return i&&i.length?wu(i,Qe(s,3)):[]}var Fw=gt(function(i){return ho($n(i,1,ln,!0))}),Nw=gt(function(i){var s=Ir(i);return ln(s)&&(s=n),ho($n(i,1,ln,!0),Qe(s,2))}),$w=gt(function(i){var s=Ir(i);return s=typeof s=="function"?s:n,ho($n(i,1,ln,!0),n,s)});function Bw(i){return i&&i.length?ho(i):[]}function Dw(i,s){return i&&i.length?ho(i,Qe(s,2)):[]}function Gw(i,s){return s=typeof s=="function"?s:n,i&&i.length?ho(i,n,s):[]}function Gl(i){if(!(i&&i.length))return[];var s=0;return i=Vt(i,function(d){if(ln(d))return s=Sn(d.length,s),!0}),m(s,function(d){return zt(i,Va(d))})}function dp(i,s){if(!(i&&i.length))return[];var d=Gl(i);return s==null?d:zt(d,function(w){return qn(s,n,w)})}var Uw=gt(function(i,s){return ln(i)?ns(i,s):[]}),Ww=gt(function(i){return Al(Vt(i,ln))}),Hw=gt(function(i){var s=Ir(i);return ln(s)&&(s=n),Al(Vt(i,ln),Qe(s,2))}),zw=gt(function(i){var s=Ir(i);return s=typeof s=="function"?s:n,Al(Vt(i,ln),n,s)}),jw=gt(Gl);function Vw(i,s){return Mh(i||[],s||[],ts)}function Xw(i,s){return Mh(i||[],s||[],os)}var Yw=gt(function(i){var s=i.length,d=s>1?i[s-1]:n;return d=typeof d=="function"?(i.pop(),d):n,dp(i,d)});function hp(i){var s=M(i);return s.__chain__=!0,s}function Kw(i,s){return s(i),i}function Lu(i,s){return s(i)}var Qw=Oi(function(i){var s=i.length,d=s?i[0]:0,w=this.__wrapped__,_=function(k){return fl(k,i)};return s>1||this.__actions__.length||!(w instanceof bt)||!Fi(d)?this.thru(_):(w=w.slice(d,+d+(s?1:0)),w.__actions__.push({func:Lu,args:[_],thisArg:n}),new Lr(w,this.__chain__).thru(function(k){return s&&!k.length&&k.push(n),k}))});function qw(){return hp(this)}function Jw(){return new Lr(this.value(),this.__chain__)}function Zw(){this.__values__===n&&(this.__values__=Tp(this.value()));var i=this.__index__>=this.__values__.length,s=i?n:this.__values__[this.__index__++];return{done:i,value:s}}function eb(){return this}function tb(i){for(var s,d=this;d instanceof hu;){var w=ap(d);w.__index__=0,w.__values__=n,s?_.__wrapped__=w:s=w;var _=w;d=d.__wrapped__}return _.__wrapped__=i,s}function nb(){var i=this.__wrapped__;if(i instanceof bt){var s=i;return this.__actions__.length&&(s=new bt(this)),s=s.reverse(),s.__actions__.push({func:Lu,args:[Dl],thisArg:n}),new Lr(s,this.__chain__)}return this.thru(Dl)}function rb(){return Ph(this.__wrapped__,this.__actions__)}var ib=bu(function(i,s,d){j.call(i,d)?++i[d]:ki(i,d,1)});function ob(i,s,d){var w=ct(i)?Ha:Kv;return d&&nr(i,s,d)&&(s=n),w(i,Qe(s,3))}function ab(i,s){var d=ct(i)?Vt:dh;return d(i,Qe(s,3))}var sb=Gh(sp),ub=Gh(up);function cb(i,s){return $n(Pu(i,s),1)}function lb(i,s){return $n(Pu(i,s),ne)}function fb(i,s,d){return d=d===n?1:ft(d),$n(Pu(i,s),d)}function pp(i,s){var d=ct(i)?Fn:fo;return d(i,Qe(s,3))}function gp(i,s){var d=ct(i)?jr:fh;return d(i,Qe(s,3))}var db=bu(function(i,s,d){j.call(i,d)?i[d].push(s):ki(i,d,[s])});function hb(i,s,d,w){i=hr(i)?i:ha(i),d=d&&!w?ft(d):0;var _=i.length;return d<0&&(d=Sn(_+d,0)),Ou(i)?d<=_&&i.indexOf(s,d)>-1:!!_&&oo(i,s,d)>-1}var pb=gt(function(i,s,d){var w=-1,_=typeof s=="function",k=hr(i)?ie(i.length):[];return fo(i,function(G){k[++w]=_?qn(s,G,d):rs(G,s,d)}),k}),gb=bu(function(i,s,d){ki(i,d,s)});function Pu(i,s){var d=ct(i)?zt:vh;return d(i,Qe(s,3))}function mb(i,s,d,w){return i==null?[]:(ct(s)||(s=s==null?[]:[s]),d=w?n:d,ct(d)||(d=d==null?[]:[d]),xh(i,s,d))}var yb=bu(function(i,s,d){i[d?0:1].push(s)},function(){return[[],[]]});function vb(i,s,d){var w=ct(i)?za:Xa,_=arguments.length<3;return w(i,Qe(s,4),d,_,fo)}function wb(i,s,d){var w=ct(i)?rl:Xa,_=arguments.length<3;return w(i,Qe(s,4),d,_,fh)}function bb(i,s){var d=ct(i)?Vt:dh;return d(i,ku(Qe(s,3)))}function Sb(i){var s=ct(i)?sh:h1;return s(i)}function xb(i,s,d){(d?nr(i,s,d):s===n)?s=1:s=ft(s);var w=ct(i)?zv:p1;return w(i,s)}function Eb(i){var s=ct(i)?jv:m1;return s(i)}function Ab(i){if(i==null)return 0;if(hr(i))return Ou(i)?Nn(i):i.length;var s=Yn(i);return s==Wt||s==at?i.size:yl(i).length}function Cb(i,s,d){var w=ct(i)?ja:y1;return d&&nr(i,s,d)&&(s=n),w(i,Qe(s,3))}var _b=gt(function(i,s){if(i==null)return[];var d=s.length;return d>1&&nr(i,s[0],s[1])?s=[]:d>2&&nr(s[0],s[1],s[2])&&(s=[s[0]]),xh(i,$n(s,1),[])}),Mu=ye||function(){return Ht.Date.now()};function Tb(i,s){if(typeof s!="function")throw new fr(c);return i=ft(i),function(){if(--i<1)return s.apply(this,arguments)}}function mp(i,s,d){return s=d?n:s,s=i&&s==null?i.length:s,Ri(i,he,n,n,n,n,s)}function yp(i,s){var d;if(typeof s!="function")throw new fr(c);return i=ft(i),function(){return--i>0&&(d=s.apply(this,arguments)),i<=1&&(s=n),d}}var Ul=gt(function(i,s,d){var w=$;if(d.length){var _=cr(d,fa(Ul));w|=oe}return Ri(i,w,s,d,_)}),vp=gt(function(i,s,d){var w=$|H;if(d.length){var _=cr(d,fa(vp));w|=oe}return Ri(s,w,i,d,_)});function wp(i,s,d){s=d?n:s;var w=Ri(i,W,n,n,n,n,n,s);return w.placeholder=wp.placeholder,w}function bp(i,s,d){s=d?n:s;var w=Ri(i,te,n,n,n,n,n,s);return w.placeholder=bp.placeholder,w}function Sp(i,s,d){var w,_,k,G,V,Q,me=0,ve=!1,Se=!1,Oe=!0;if(typeof i!="function")throw new fr(c);s=kr(s)||0,qt(d)&&(ve=!!d.leading,Se="maxWait"in d,k=Se?Sn(kr(d.maxWait)||0,s):k,Oe="trailing"in d?!!d.trailing:Oe);function Ve(fn){var Kr=w,Bi=_;return w=_=n,me=fn,G=i.apply(Bi,Kr),G}function Je(fn){return me=fn,V=us(wt,s),ve?Ve(fn):G}function ht(fn){var Kr=fn-Q,Bi=fn-me,Gp=s-Kr;return Se?Xn(Gp,k-Bi):Gp}function Ze(fn){var Kr=fn-Q,Bi=fn-me;return Q===n||Kr>=s||Kr<0||Se&&Bi>=k}function wt(){var fn=Mu();if(Ze(fn))return xt(fn);V=us(wt,ht(fn))}function xt(fn){return V=n,Oe&&w?Ve(fn):(w=_=n,G)}function Er(){V!==n&&Ih(V),me=0,w=Q=_=V=n}function rr(){return V===n?G:xt(Mu())}function Ar(){var fn=Mu(),Kr=Ze(fn);if(w=arguments,_=this,Q=fn,Kr){if(V===n)return Je(Q);if(Se)return Ih(V),V=us(wt,s),Ve(Q)}return V===n&&(V=us(wt,s)),G}return Ar.cancel=Er,Ar.flush=rr,Ar}var Lb=gt(function(i,s){return lh(i,1,s)}),Pb=gt(function(i,s,d){return lh(i,kr(s)||0,d)});function Mb(i){return Ri(i,J)}function Iu(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new fr(c);var d=function(){var w=arguments,_=s?s.apply(this,w):w[0],k=d.cache;if(k.has(_))return k.get(_);var G=i.apply(this,w);return d.cache=k.set(_,G)||k,G};return d.cache=new(Iu.Cache||Ii),d}Iu.Cache=Ii;function ku(i){if(typeof i!="function")throw new fr(c);return function(){var s=arguments;switch(s.length){case 0:return!i.call(this);case 1:return!i.call(this,s[0]);case 2:return!i.call(this,s[0],s[1]);case 3:return!i.call(this,s[0],s[1],s[2])}return!i.apply(this,s)}}function Ib(i){return yp(2,i)}var kb=v1(function(i,s){s=s.length==1&&ct(s[0])?zt(s[0],I(Qe())):zt($n(s,1),I(Qe()));var d=s.length;return gt(function(w){for(var _=-1,k=Xn(w.length,d);++_<k;)w[_]=s[_].call(this,w[_]);return qn(i,this,w)})}),Wl=gt(function(i,s){var d=cr(s,fa(Wl));return Ri(i,oe,n,s,d)}),xp=gt(function(i,s){var d=cr(s,fa(xp));return Ri(i,re,n,s,d)}),Rb=Oi(function(i,s){return Ri(i,Ae,n,n,n,s)});function Ob(i,s){if(typeof i!="function")throw new fr(c);return s=s===n?s:ft(s),gt(i,s)}function Fb(i,s){if(typeof i!="function")throw new fr(c);return s=s==null?0:Sn(ft(s),0),gt(function(d){var w=d[s],_=go(d,0,s);return w&&ui(_,w),qn(i,this,_)})}function Nb(i,s,d){var w=!0,_=!0;if(typeof i!="function")throw new fr(c);return qt(d)&&(w="leading"in d?!!d.leading:w,_="trailing"in d?!!d.trailing:_),Sp(i,s,{leading:w,maxWait:s,trailing:_})}function $b(i){return mp(i,1)}function Bb(i,s){return Wl(_l(s),i)}function Db(){if(!arguments.length)return[];var i=arguments[0];return ct(i)?i:[i]}function Gb(i){return Pr(i,L)}function Ub(i,s){return s=typeof s=="function"?s:n,Pr(i,L,s)}function Wb(i){return Pr(i,S|L)}function Hb(i,s){return s=typeof s=="function"?s:n,Pr(i,S|L,s)}function zb(i,s){return s==null||ch(i,s,Ln(s))}function Yr(i,s){return i===s||i!==i&&s!==s}var jb=Au(pl),Vb=Au(function(i,s){return i>=s}),$o=gh(function(){return arguments}())?gh:function(i){return rn(i)&&j.call(i,"callee")&&!er.call(i,"callee")},ct=ie.isArray,Xb=ou?I(ou):t1;function hr(i){return i!=null&&Ru(i.length)&&!Ni(i)}function ln(i){return rn(i)&&hr(i)}function Yb(i){return i===!0||i===!1||rn(i)&&tr(i)==In}var mo=Tr||Zl,Kb=Wa?I(Wa):n1;function Qb(i){return rn(i)&&i.nodeType===1&&!cs(i)}function qb(i){if(i==null)return!0;if(hr(i)&&(ct(i)||typeof i=="string"||typeof i.splice=="function"||mo(i)||da(i)||$o(i)))return!i.length;var s=Yn(i);if(s==Wt||s==at)return!i.size;if(ss(i))return!yl(i).length;for(var d in i)if(j.call(i,d))return!1;return!0}function Jb(i,s){return is(i,s)}function Zb(i,s,d){d=typeof d=="function"?d:n;var w=d?d(i,s):n;return w===n?is(i,s,n,d):!!w}function Hl(i){if(!rn(i))return!1;var s=tr(i);return s==Un||s==pn||typeof i.message=="string"&&typeof i.name=="string"&&!cs(i)}function eS(i){return typeof i=="number"&&lo(i)}function Ni(i){if(!qt(i))return!1;var s=tr(i);return s==Ut||s==wn||s==Nt||s==yr}function Ep(i){return typeof i=="number"&&i==ft(i)}function Ru(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=de}function qt(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function rn(i){return i!=null&&typeof i=="object"}var Ap=Po?I(Po):i1;function tS(i,s){return i===s||ml(i,s,Rl(s))}function nS(i,s,d){return d=typeof d=="function"?d:n,ml(i,s,Rl(s),d)}function rS(i){return Cp(i)&&i!=+i}function iS(i){if(U1(i))throw new nt(u);return mh(i)}function oS(i){return i===null}function aS(i){return i==null}function Cp(i){return typeof i=="number"||rn(i)&&tr(i)==En}function cs(i){if(!rn(i)||tr(i)!=jt)return!1;var s=Qt(i);if(s===null)return!0;var d=j.call(s,"constructor")&&s.constructor;return typeof d=="function"&&d instanceof d&&D.call(d)==je}var zl=Y?I(Y):o1;function sS(i){return Ep(i)&&i>=-9007199254740991&&i<=de}var _p=jn?I(jn):a1;function Ou(i){return typeof i=="string"||!ct(i)&&rn(i)&&tr(i)==_t}function xr(i){return typeof i=="symbol"||rn(i)&&tr(i)==en}var da=au?I(au):s1;function uS(i){return i===n}function cS(i){return rn(i)&&Yn(i)==Dt}function lS(i){return rn(i)&&tr(i)==vt}var fS=Au(vl),dS=Au(function(i,s){return i<=s});function Tp(i){if(!i)return[];if(hr(i))return Ou(i)?Jn(i):dr(i);if(C&&i[C])return Vn(i[C]());var s=Yn(i),d=s==Wt?un:s==at?lr:ha;return d(i)}function $i(i){if(!i)return i===0?i:0;if(i=kr(i),i===ne||i===-1/0){var s=i<0?-1:1;return s*Te}return i===i?i:0}function ft(i){var s=$i(i),d=s%1;return s===s?d?s-d:s:0}function Lp(i){return i?Ro(ft(i),0,Ee):0}function kr(i){if(typeof i=="number")return i;if(xr(i))return ke;if(qt(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=qt(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=A(i);var d=Rn.test(i);return d||ka.test(i)?na(i.slice(2),d?2:8):Ai.test(i)?ke:+i}function Pp(i){return li(i,pr(i))}function hS(i){return i?Ro(ft(i),-9007199254740991,de):i===0?i:0}function kt(i){return i==null?"":Sr(i)}var pS=ca(function(i,s){if(ss(s)||hr(s)){li(s,Ln(s),i);return}for(var d in s)j.call(s,d)&&ts(i,d,s[d])}),Mp=ca(function(i,s){li(s,pr(s),i)}),Fu=ca(function(i,s,d,w){li(s,pr(s),i,w)}),gS=ca(function(i,s,d,w){li(s,Ln(s),i,w)}),mS=Oi(fl);function yS(i,s){var d=ua(i);return s==null?d:uh(d,s)}var vS=gt(function(i,s){i=Ot(i);var d=-1,w=s.length,_=w>2?s[2]:n;for(_&&nr(s[0],s[1],_)&&(w=1);++d<w;)for(var k=s[d],G=pr(k),V=-1,Q=G.length;++V<Q;){var me=G[V],ve=i[me];(ve===n||Yr(ve,x[me])&&!j.call(i,me))&&(i[me]=k[me])}return i}),wS=gt(function(i){return i.push(n,Xh),qn(Ip,n,i)});function bS(i,s){return su(i,Qe(s,3),ci)}function SS(i,s){return su(i,Qe(s,3),hl)}function xS(i,s){return i==null?i:dl(i,Qe(s,3),pr)}function ES(i,s){return i==null?i:hh(i,Qe(s,3),pr)}function AS(i,s){return i&&ci(i,Qe(s,3))}function CS(i,s){return i&&hl(i,Qe(s,3))}function _S(i){return i==null?[]:mu(i,Ln(i))}function TS(i){return i==null?[]:mu(i,pr(i))}function jl(i,s,d){var w=i==null?n:Oo(i,s);return w===n?d:w}function LS(i,s){return i!=null&&Qh(i,s,qv)}function Vl(i,s){return i!=null&&Qh(i,s,Jv)}var PS=Wh(function(i,s,d){s!=null&&typeof s.toString!="function"&&(s=He.call(s)),i[s]=d},Yl(gr)),MS=Wh(function(i,s,d){s!=null&&typeof s.toString!="function"&&(s=He.call(s)),j.call(i,s)?i[s].push(d):i[s]=[d]},Qe),IS=gt(rs);function Ln(i){return hr(i)?ah(i):yl(i)}function pr(i){return hr(i)?ah(i,!0):u1(i)}function kS(i,s){var d={};return s=Qe(s,3),ci(i,function(w,_,k){ki(d,s(w,_,k),w)}),d}function RS(i,s){var d={};return s=Qe(s,3),ci(i,function(w,_,k){ki(d,_,s(w,_,k))}),d}var OS=ca(function(i,s,d){yu(i,s,d)}),Ip=ca(function(i,s,d,w){yu(i,s,d,w)}),FS=Oi(function(i,s){var d={};if(i==null)return d;var w=!1;s=zt(s,function(k){return k=po(k,i),w||(w=k.length>1),k}),li(i,Il(i),d),w&&(d=Pr(d,S|E|L,P1));for(var _=s.length;_--;)El(d,s[_]);return d});function NS(i,s){return kp(i,ku(Qe(s)))}var $S=Oi(function(i,s){return i==null?{}:l1(i,s)});function kp(i,s){if(i==null)return{};var d=zt(Il(i),function(w){return[w]});return s=Qe(s),Eh(i,d,function(w,_){return s(w,_[0])})}function BS(i,s,d){s=po(s,i);var w=-1,_=s.length;for(_||(_=1,i=n);++w<_;){var k=i==null?n:i[fi(s[w])];k===n&&(w=_,k=d),i=Ni(k)?k.call(i):k}return i}function DS(i,s,d){return i==null?i:os(i,s,d)}function GS(i,s,d,w){return w=typeof w=="function"?w:n,i==null?i:os(i,s,d,w)}var Rp=jh(Ln),Op=jh(pr);function US(i,s,d){var w=ct(i),_=w||mo(i)||da(i);if(s=Qe(s,4),d==null){var k=i&&i.constructor;_?d=w?new k:[]:qt(i)?d=Ni(k)?ua(Qt(i)):{}:d={}}return(_?Fn:ci)(i,function(G,V,Q){return s(d,G,V,Q)}),d}function WS(i,s){return i==null?!0:El(i,s)}function HS(i,s,d){return i==null?i:Lh(i,s,_l(d))}function zS(i,s,d,w){return w=typeof w=="function"?w:n,i==null?i:Lh(i,s,_l(d),w)}function ha(i){return i==null?[]:U(i,Ln(i))}function jS(i){return i==null?[]:U(i,pr(i))}function VS(i,s,d){return d===n&&(d=s,s=n),d!==n&&(d=kr(d),d=d===d?d:0),s!==n&&(s=kr(s),s=s===s?s:0),Ro(kr(i),s,d)}function XS(i,s,d){return s=$i(s),d===n?(d=s,s=0):d=$i(d),i=kr(i),Zv(i,s,d)}function YS(i,s,d){if(d&&typeof d!="boolean"&&nr(i,s,d)&&(s=d=n),d===n&&(typeof s=="boolean"?(d=s,s=n):typeof i=="boolean"&&(d=i,i=n)),i===n&&s===n?(i=0,s=1):(i=$i(i),s===n?(s=i,i=0):s=$i(s)),i>s){var w=i;i=s,s=w}if(d||i%1||s%1){var _=ih();return Xn(i+_*(s-i+iu("1e-"+((_+"").length-1))),s)}return bl(i,s)}var KS=la(function(i,s,d){return s=s.toLowerCase(),i+(d?Fp(s):s)});function Fp(i){return Xl(kt(i).toLowerCase())}function Np(i){return i=kt(i),i&&i.replace(Qn,be).replace(ta,"")}function QS(i,s,d){i=kt(i),s=Sr(s);var w=i.length;d=d===n?w:Ro(ft(d),0,w);var _=d;return d-=s.length,d>=0&&i.slice(d,_)==s}function qS(i){return i=kt(i),i&&Zi.test(i)?i.replace(vr,Ge):i}function JS(i){return i=kt(i),i&&ar.test(i)?i.replace(to,"\\$&"):i}var ZS=la(function(i,s,d){return i+(d?"-":"")+s.toLowerCase()}),ex=la(function(i,s,d){return i+(d?" ":"")+s.toLowerCase()}),tx=Dh("toLowerCase");function nx(i,s,d){i=kt(i),s=ft(s);var w=s?Nn(i):0;if(!s||w>=s)return i;var _=(s-w)/2;return Eu(Lt(_),d)+i+Eu(De(_),d)}function rx(i,s,d){i=kt(i),s=ft(s);var w=s?Nn(i):0;return s&&w<s?i+Eu(s-w,d):i}function ix(i,s,d){i=kt(i),s=ft(s);var w=s?Nn(i):0;return s&&w<s?Eu(s-w,d)+i:i}function ox(i,s,d){return d||s==null?s=0:s&&(s=+s),dv(kt(i).replace(Yt,""),s||0)}function ax(i,s,d){return(d?nr(i,s,d):s===n)?s=1:s=ft(s),Sl(kt(i),s)}function sx(){var i=arguments,s=kt(i[0]);return i.length<3?s:s.replace(i[1],i[2])}var ux=la(function(i,s,d){return i+(d?"_":"")+s.toLowerCase()});function cx(i,s,d){return d&&typeof d!="number"&&nr(i,s,d)&&(s=d=n),d=d===n?Ee:d>>>0,d?(i=kt(i),i&&(typeof s=="string"||s!=null&&!zl(s))&&(s=Sr(s),!s&&tt(i))?go(Jn(i),0,d):i.split(s,d)):[]}var lx=la(function(i,s,d){return i+(d?" ":"")+Xl(s)});function fx(i,s,d){return i=kt(i),d=d==null?0:Ro(ft(d),0,i.length),s=Sr(s),i.slice(d,d+s.length)==s}function dx(i,s,d){var w=M.templateSettings;d&&nr(i,s,d)&&(s=n),i=kt(i),s=Fu({},s,w,Vh);var _=Fu({},s.imports,w.imports,Vh),k=Ln(_),G=U(_,k),V,Q,me=0,ve=s.interpolate||Zo,Se="__p += '",Oe=lt((s.escape||Zo).source+"|"+ve.source+"|"+(ve===eo?Jo:Zo).source+"|"+(s.evaluate||Zo).source+"|$","g"),Ve="//# sourceURL="+(j.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tu+"]")+`
`;i.replace(Oe,function(Ze,wt,xt,Er,rr,Ar){return xt||(xt=Er),Se+=i.slice(me,Ar).replace(Xc,Z),wt&&(V=!0,Se+=`' +
__e(`+wt+`) +
'`),rr&&(Q=!0,Se+=`';
`+rr+`;
__p += '`),xt&&(Se+=`' +
((__t = (`+xt+`)) == null ? '' : __t) +
'`),me=Ar+Ze.length,Ze}),Se+=`';
`;var Je=j.call(s,"variable")&&s.variable;if(!Je)Se=`with (obj) {
`+Se+`
}
`;else if(kn.test(Je))throw new nt(l);Se=(Q?Se.replace(xi,""):Se).replace(Ia,"$1").replace(Ji,"$1;"),Se="function("+(Je||"obj")+`) {
`+(Je?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(V?", __e = _.escape":"")+(Q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Se+`return __p
}`;var ht=Bp(function(){return Et(k,Ve+"return "+Se).apply(n,G)});if(ht.source=Se,Hl(ht))throw ht;return ht}function hx(i){return kt(i).toLowerCase()}function px(i){return kt(i).toUpperCase()}function gx(i,s,d){if(i=kt(i),i&&(d||s===n))return A(i);if(!i||!(s=Sr(s)))return i;var w=Jn(i),_=Jn(s),k=F(w,_),G=z(w,_)+1;return go(w,k,G).join("")}function mx(i,s,d){if(i=kt(i),i&&(d||s===n))return i.slice(0,Tn(i)+1);if(!i||!(s=Sr(s)))return i;var w=Jn(i),_=z(w,Jn(s))+1;return go(w,0,_).join("")}function yx(i,s,d){if(i=kt(i),i&&(d||s===n))return i.replace(Yt,"");if(!i||!(s=Sr(s)))return i;var w=Jn(i),_=F(w,Jn(s));return go(w,_).join("")}function vx(i,s){var d=pe,w=ae;if(qt(s)){var _="separator"in s?s.separator:_;d="length"in s?ft(s.length):d,w="omission"in s?Sr(s.omission):w}i=kt(i);var k=i.length;if(tt(i)){var G=Jn(i);k=G.length}if(d>=k)return i;var V=d-Nn(w);if(V<1)return w;var Q=G?go(G,0,V).join(""):i.slice(0,V);if(_===n)return Q+w;if(G&&(V+=Q.length-V),zl(_)){if(i.slice(V).search(_)){var me,ve=Q;for(_.global||(_=lt(_.source,kt(Cn.exec(_))+"g")),_.lastIndex=0;me=_.exec(ve);)var Se=me.index;Q=Q.slice(0,Se===n?V:Se)}}else if(i.indexOf(Sr(_),V)!=V){var Oe=Q.lastIndexOf(_);Oe>-1&&(Q=Q.slice(0,Oe))}return Q+w}function wx(i){return i=kt(i),i&&Qo.test(i)?i.replace(ni,Mt):i}var bx=la(function(i,s,d){return i+(d?" ":"")+s.toUpperCase()}),Xl=Dh("toUpperCase");function $p(i,s,d){return i=kt(i),s=d?n:s,s===n?rt(i)?Qa(i):al(i):i.match(s)||[]}var Bp=gt(function(i,s){try{return qn(i,n,s)}catch(d){return Hl(d)?d:new nt(d)}}),Sx=Oi(function(i,s){return Fn(s,function(d){d=fi(d),ki(i,d,Ul(i[d],i))}),i});function xx(i){var s=i==null?0:i.length,d=Qe();return i=s?zt(i,function(w){if(typeof w[1]!="function")throw new fr(c);return[d(w[0]),w[1]]}):[],gt(function(w){for(var _=-1;++_<s;){var k=i[_];if(qn(k[0],this,w))return qn(k[1],this,w)}})}function Ex(i){return Yv(Pr(i,S))}function Yl(i){return function(){return i}}function Ax(i,s){return i==null||i!==i?s:i}var Cx=Uh(),_x=Uh(!0);function gr(i){return i}function Kl(i){return yh(typeof i=="function"?i:Pr(i,S))}function Tx(i){return wh(Pr(i,S))}function Lx(i,s){return bh(i,Pr(s,S))}var Px=gt(function(i,s){return function(d){return rs(d,i,s)}}),Mx=gt(function(i,s){return function(d){return rs(i,d,s)}});function Ql(i,s,d){var w=Ln(s),_=mu(s,w);d==null&&!(qt(s)&&(_.length||!w.length))&&(d=s,s=i,i=this,_=mu(s,Ln(s)));var k=!(qt(d)&&"chain"in d)||!!d.chain,G=Ni(i);return Fn(_,function(V){var Q=s[V];i[V]=Q,G&&(i.prototype[V]=function(){var me=this.__chain__;if(k||me){var ve=i(this.__wrapped__),Se=ve.__actions__=dr(this.__actions__);return Se.push({func:Q,args:arguments,thisArg:i}),ve.__chain__=me,ve}return Q.apply(i,ui([this.value()],arguments))})}),i}function Ix(){return Ht._===this&&(Ht._=pt),this}function ql(){}function kx(i){return i=ft(i),gt(function(s){return Sh(s,i)})}var Rx=Ll(zt),Ox=Ll(Ha),Fx=Ll(ja);function Dp(i){return Fl(i)?Va(fi(i)):f1(i)}function Nx(i){return function(s){return i==null?n:Oo(i,s)}}var $x=Hh(),Bx=Hh(!0);function Jl(){return[]}function Zl(){return!1}function Dx(){return{}}function Gx(){return""}function Ux(){return!0}function Wx(i,s){if(i=ft(i),i<1||i>de)return[];var d=Ee,w=Xn(i,Ee);s=Qe(s),i-=Ee;for(var _=m(w,s);++d<i;)s(d);return _}function Hx(i){return ct(i)?zt(i,fi):xr(i)?[i]:dr(op(kt(i)))}function zx(i){var s=++ue;return kt(i)+s}var jx=xu(function(i,s){return i+s},0),Vx=Pl("ceil"),Xx=xu(function(i,s){return i/s},1),Yx=Pl("floor");function Kx(i){return i&&i.length?gu(i,gr,pl):n}function Qx(i,s){return i&&i.length?gu(i,Qe(s,2),pl):n}function qx(i){return cu(i,gr)}function Jx(i,s){return cu(i,Qe(s,2))}function Zx(i){return i&&i.length?gu(i,gr,vl):n}function e2(i,s){return i&&i.length?gu(i,Qe(s,2),vl):n}var t2=xu(function(i,s){return i*s},1),n2=Pl("round"),r2=xu(function(i,s){return i-s},0);function i2(i){return i&&i.length?f(i,gr):0}function o2(i,s){return i&&i.length?f(i,Qe(s,2)):0}return M.after=Tb,M.ary=mp,M.assign=pS,M.assignIn=Mp,M.assignInWith=Fu,M.assignWith=gS,M.at=mS,M.before=yp,M.bind=Ul,M.bindAll=Sx,M.bindKey=vp,M.castArray=Db,M.chain=hp,M.chunk=Y1,M.compact=K1,M.concat=Q1,M.cond=xx,M.conforms=Ex,M.constant=Yl,M.countBy=ib,M.create=yS,M.curry=wp,M.curryRight=bp,M.debounce=Sp,M.defaults=vS,M.defaultsDeep=wS,M.defer=Lb,M.delay=Pb,M.difference=q1,M.differenceBy=J1,M.differenceWith=Z1,M.drop=ew,M.dropRight=tw,M.dropRightWhile=nw,M.dropWhile=rw,M.fill=iw,M.filter=ab,M.flatMap=cb,M.flatMapDeep=lb,M.flatMapDepth=fb,M.flatten=cp,M.flattenDeep=ow,M.flattenDepth=aw,M.flip=Mb,M.flow=Cx,M.flowRight=_x,M.fromPairs=sw,M.functions=_S,M.functionsIn=TS,M.groupBy=db,M.initial=cw,M.intersection=lw,M.intersectionBy=fw,M.intersectionWith=dw,M.invert=PS,M.invertBy=MS,M.invokeMap=pb,M.iteratee=Kl,M.keyBy=gb,M.keys=Ln,M.keysIn=pr,M.map=Pu,M.mapKeys=kS,M.mapValues=RS,M.matches=Tx,M.matchesProperty=Lx,M.memoize=Iu,M.merge=OS,M.mergeWith=Ip,M.method=Px,M.methodOf=Mx,M.mixin=Ql,M.negate=ku,M.nthArg=kx,M.omit=FS,M.omitBy=NS,M.once=Ib,M.orderBy=mb,M.over=Rx,M.overArgs=kb,M.overEvery=Ox,M.overSome=Fx,M.partial=Wl,M.partialRight=xp,M.partition=yb,M.pick=$S,M.pickBy=kp,M.property=Dp,M.propertyOf=Nx,M.pull=mw,M.pullAll=fp,M.pullAllBy=yw,M.pullAllWith=vw,M.pullAt=ww,M.range=$x,M.rangeRight=Bx,M.rearg=Rb,M.reject=bb,M.remove=bw,M.rest=Ob,M.reverse=Dl,M.sampleSize=xb,M.set=DS,M.setWith=GS,M.shuffle=Eb,M.slice=Sw,M.sortBy=_b,M.sortedUniq=Lw,M.sortedUniqBy=Pw,M.split=cx,M.spread=Fb,M.tail=Mw,M.take=Iw,M.takeRight=kw,M.takeRightWhile=Rw,M.takeWhile=Ow,M.tap=Kw,M.throttle=Nb,M.thru=Lu,M.toArray=Tp,M.toPairs=Rp,M.toPairsIn=Op,M.toPath=Hx,M.toPlainObject=Pp,M.transform=US,M.unary=$b,M.union=Fw,M.unionBy=Nw,M.unionWith=$w,M.uniq=Bw,M.uniqBy=Dw,M.uniqWith=Gw,M.unset=WS,M.unzip=Gl,M.unzipWith=dp,M.update=HS,M.updateWith=zS,M.values=ha,M.valuesIn=jS,M.without=Uw,M.words=$p,M.wrap=Bb,M.xor=Ww,M.xorBy=Hw,M.xorWith=zw,M.zip=jw,M.zipObject=Vw,M.zipObjectDeep=Xw,M.zipWith=Yw,M.entries=Rp,M.entriesIn=Op,M.extend=Mp,M.extendWith=Fu,Ql(M,M),M.add=jx,M.attempt=Bp,M.camelCase=KS,M.capitalize=Fp,M.ceil=Vx,M.clamp=VS,M.clone=Gb,M.cloneDeep=Wb,M.cloneDeepWith=Hb,M.cloneWith=Ub,M.conformsTo=zb,M.deburr=Np,M.defaultTo=Ax,M.divide=Xx,M.endsWith=QS,M.eq=Yr,M.escape=qS,M.escapeRegExp=JS,M.every=ob,M.find=sb,M.findIndex=sp,M.findKey=bS,M.findLast=ub,M.findLastIndex=up,M.findLastKey=SS,M.floor=Yx,M.forEach=pp,M.forEachRight=gp,M.forIn=xS,M.forInRight=ES,M.forOwn=AS,M.forOwnRight=CS,M.get=jl,M.gt=jb,M.gte=Vb,M.has=LS,M.hasIn=Vl,M.head=lp,M.identity=gr,M.includes=hb,M.indexOf=uw,M.inRange=XS,M.invoke=IS,M.isArguments=$o,M.isArray=ct,M.isArrayBuffer=Xb,M.isArrayLike=hr,M.isArrayLikeObject=ln,M.isBoolean=Yb,M.isBuffer=mo,M.isDate=Kb,M.isElement=Qb,M.isEmpty=qb,M.isEqual=Jb,M.isEqualWith=Zb,M.isError=Hl,M.isFinite=eS,M.isFunction=Ni,M.isInteger=Ep,M.isLength=Ru,M.isMap=Ap,M.isMatch=tS,M.isMatchWith=nS,M.isNaN=rS,M.isNative=iS,M.isNil=aS,M.isNull=oS,M.isNumber=Cp,M.isObject=qt,M.isObjectLike=rn,M.isPlainObject=cs,M.isRegExp=zl,M.isSafeInteger=sS,M.isSet=_p,M.isString=Ou,M.isSymbol=xr,M.isTypedArray=da,M.isUndefined=uS,M.isWeakMap=cS,M.isWeakSet=lS,M.join=hw,M.kebabCase=ZS,M.last=Ir,M.lastIndexOf=pw,M.lowerCase=ex,M.lowerFirst=tx,M.lt=fS,M.lte=dS,M.max=Kx,M.maxBy=Qx,M.mean=qx,M.meanBy=Jx,M.min=Zx,M.minBy=e2,M.stubArray=Jl,M.stubFalse=Zl,M.stubObject=Dx,M.stubString=Gx,M.stubTrue=Ux,M.multiply=t2,M.nth=gw,M.noConflict=Ix,M.noop=ql,M.now=Mu,M.pad=nx,M.padEnd=rx,M.padStart=ix,M.parseInt=ox,M.random=YS,M.reduce=vb,M.reduceRight=wb,M.repeat=ax,M.replace=sx,M.result=BS,M.round=n2,M.runInContext=K,M.sample=Sb,M.size=Ab,M.snakeCase=ux,M.some=Cb,M.sortedIndex=xw,M.sortedIndexBy=Ew,M.sortedIndexOf=Aw,M.sortedLastIndex=Cw,M.sortedLastIndexBy=_w,M.sortedLastIndexOf=Tw,M.startCase=lx,M.startsWith=fx,M.subtract=r2,M.sum=i2,M.sumBy=o2,M.template=dx,M.times=Wx,M.toFinite=$i,M.toInteger=ft,M.toLength=Lp,M.toLower=hx,M.toNumber=kr,M.toSafeInteger=hS,M.toString=kt,M.toUpper=px,M.trim=gx,M.trimEnd=mx,M.trimStart=yx,M.truncate=vx,M.unescape=wx,M.uniqueId=zx,M.upperCase=bx,M.upperFirst=Xl,M.each=pp,M.eachRight=gp,M.first=lp,Ql(M,function(){var i={};return ci(M,function(s,d){j.call(M.prototype,d)||(i[d]=s)}),i}(),{chain:!1}),M.VERSION=r,Fn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){M[i].placeholder=M}),Fn(["drop","take"],function(i,s){bt.prototype[i]=function(d){d=d===n?1:Sn(ft(d),0);var w=this.__filtered__&&!s?new bt(this):this.clone();return w.__filtered__?w.__takeCount__=Xn(d,w.__takeCount__):w.__views__.push({size:Xn(d,Ee),type:i+(w.__dir__<0?"Right":"")}),w},bt.prototype[i+"Right"]=function(d){return this.reverse()[i](d).reverse()}}),Fn(["filter","map","takeWhile"],function(i,s){var d=s+1,w=d==_e||d==se;bt.prototype[i]=function(_){var k=this.clone();return k.__iteratees__.push({iteratee:Qe(_,3),type:d}),k.__filtered__=k.__filtered__||w,k}}),Fn(["head","last"],function(i,s){var d="take"+(s?"Right":"");bt.prototype[i]=function(){return this[d](1).value()[0]}}),Fn(["initial","tail"],function(i,s){var d="drop"+(s?"":"Right");bt.prototype[i]=function(){return this.__filtered__?new bt(this):this[d](1)}}),bt.prototype.compact=function(){return this.filter(gr)},bt.prototype.find=function(i){return this.filter(i).head()},bt.prototype.findLast=function(i){return this.reverse().find(i)},bt.prototype.invokeMap=gt(function(i,s){return typeof i=="function"?new bt(this):this.map(function(d){return rs(d,i,s)})}),bt.prototype.reject=function(i){return this.filter(ku(Qe(i)))},bt.prototype.slice=function(i,s){i=ft(i);var d=this;return d.__filtered__&&(i>0||s<0)?new bt(d):(i<0?d=d.takeRight(-i):i&&(d=d.drop(i)),s!==n&&(s=ft(s),d=s<0?d.dropRight(-s):d.take(s-i)),d)},bt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},bt.prototype.toArray=function(){return this.take(Ee)},ci(bt.prototype,function(i,s){var d=/^(?:filter|find|map|reject)|While$/.test(s),w=/^(?:head|last)$/.test(s),_=M[w?"take"+(s=="last"?"Right":""):s],k=w||/^find/.test(s);_&&(M.prototype[s]=function(){var G=this.__wrapped__,V=w?[1]:arguments,Q=G instanceof bt,me=V[0],ve=Q||ct(G),Se=function(wt){var xt=_.apply(M,ui([wt],V));return w&&Oe?xt[0]:xt};ve&&d&&typeof me=="function"&&me.length!=1&&(Q=ve=!1);var Oe=this.__chain__,Ve=!!this.__actions__.length,Je=k&&!Oe,ht=Q&&!Ve;if(!k&&ve){G=ht?G:new bt(this);var Ze=i.apply(G,V);return Ze.__actions__.push({func:Lu,args:[Se],thisArg:n}),new Lr(Ze,Oe)}return Je&&ht?i.apply(this,V):(Ze=this.thru(Se),Je?w?Ze.value()[0]:Ze.value():Ze)})}),Fn(["pop","push","shift","sort","splice","unshift"],function(i){var s=y[i],d=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",w=/^(?:pop|shift)$/.test(i);M.prototype[i]=function(){var _=arguments;if(w&&!this.__chain__){var k=this.value();return s.apply(ct(k)?k:[],_)}return this[d](function(G){return s.apply(ct(G)?G:[],_)})}}),ci(bt.prototype,function(i,s){var d=M[s];if(d){var w=d.name+"";j.call(sa,w)||(sa[w]=[]),sa[w].push({name:s,func:d})}}),sa[Su(n,H).name]=[{name:"wrapper",func:n}],bt.prototype.clone=wv,bt.prototype.reverse=bv,bt.prototype.value=Sv,M.prototype.at=Qw,M.prototype.chain=qw,M.prototype.commit=Jw,M.prototype.next=Zw,M.prototype.plant=tb,M.prototype.reverse=nb,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=rb,M.prototype.first=M.prototype.head,C&&(M.prototype[C]=eb),M},Pi=co();_r?((_r.exports=Pi)._=Pi,Li._=Pi):Ht._=Pi}).call(ls)})(rc,rc.exports);var Ye=rc.exports;const GI=Xo(Ye);var f2=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(e={}){var n=e,r,o;n.ready=new Promise((a,f)=>{r=a,o=f}),function(a){a.Td=a.Td||[],a.Td.push(function(){a.MakeSWCanvasSurface=function(f){var m=f,v=typeof OffscreenCanvas<"u"&&m instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&m instanceof HTMLCanvasElement||v||(m=document.getElementById(f),m)))throw"Canvas with id "+f+" was not found";return(f=a.MakeSurface(m.width,m.height))&&(f.Md=m),f},a.MakeCanvasSurface||(a.MakeCanvasSurface=a.MakeSWCanvasSurface),a.MakeSurface=function(f,m){var v={width:f,height:m,colorType:a.ColorType.RGBA_8888,alphaType:a.AlphaType.Unpremul,colorSpace:a.ColorSpace.SRGB},A=f*m*4,I=a._malloc(A);return(v=a.Surface._makeRasterDirect(v,I,4*f))&&(v.Md=null,v.If=f,v.Ef=m,v.Gf=A,v.cf=I,v.getCanvas().clear(a.TRANSPARENT)),v},a.MakeRasterDirectSurface=function(f,m,v){return a.Surface._makeRasterDirect(f,m.byteOffset,v)},a.Surface.prototype.flush=function(f){if(a.Nd(this.Ld),this._flush(),this.Md){var m=new Uint8ClampedArray(a.HEAPU8.buffer,this.cf,this.Gf);m=new ImageData(m,this.If,this.Ef),f?this.Md.getContext("2d").putImageData(m,0,0,f[0],f[1],f[2]-f[0],f[3]-f[1]):this.Md.getContext("2d").putImageData(m,0,0)}},a.Surface.prototype.dispose=function(){this.cf&&a._free(this.cf),this.delete()},a.Nd=a.Nd||function(){},a.Ue=a.Ue||function(){return null}})}(n),function(a){a.Td=a.Td||[],a.Td.push(function(){function f(R,F,z){return R&&R.hasOwnProperty(F)?R[F]:z}function m(R){var F=ro(zn);return zn[F]=R,F}function v(R){return R.naturalHeight||R.videoHeight||R.displayHeight||R.height}function A(R){return R.naturalWidth||R.videoWidth||R.displayWidth||R.width}function I(R,F,z,ge){return R.bindTexture(R.TEXTURE_2D,F),ge||z.alphaType!==a.AlphaType.Premul||R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),F}function U(R,F,z){z||F.alphaType!==a.AlphaType.Premul||R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),R.bindTexture(R.TEXTURE_2D,null)}a.GetWebGLContext=function(R,F){if(!R)throw"null canvas passed into makeWebGLContext";var z={alpha:f(F,"alpha",1),depth:f(F,"depth",1),stencil:f(F,"stencil",8),antialias:f(F,"antialias",0),premultipliedAlpha:f(F,"premultipliedAlpha",1),preserveDrawingBuffer:f(F,"preserveDrawingBuffer",0),preferLowPowerToHighPerformance:f(F,"preferLowPowerToHighPerformance",0),failIfMajorPerformanceCaveat:f(F,"failIfMajorPerformanceCaveat",0),enableExtensionsByDefault:f(F,"enableExtensionsByDefault",1),explicitSwapControl:f(F,"explicitSwapControl",0),renderViaOffscreenBackBuffer:f(F,"renderViaOffscreenBackBuffer",0)};if(z.majorVersion=F&&F.majorVersion?F.majorVersion:typeof WebGL2RenderingContext<"u"?2:1,z.explicitSwapControl)throw"explicitSwapControl is not supported";return R=Zc(R,z),R?(Js(R),ut.ge.getExtension("WEBGL_debug_renderer_info"),R):0},a.deleteContext=function(R){ut===br[R]&&(ut=null),typeof JSEvents=="object"&&JSEvents.yg(br[R].ge.canvas),br[R]&&br[R].ge.canvas&&(br[R].ge.canvas.Af=void 0),br[R]=null},a._setTextureCleanup({deleteTexture:function(R,F){var z=zn[F];z&&br[R].ge.deleteTexture(z),zn[F]=null}}),a.MakeWebGLContext=function(R){if(!this.Nd(R))return null;var F=this._MakeGrContext();if(!F)return null;F.Ld=R;var z=F.delete.bind(F);return F.delete=(function(){a.Nd(this.Ld),z()}).bind(F),ut.gf=F},a.MakeGrContext=a.MakeWebGLContext,a.GrDirectContext.prototype.getResourceCacheLimitBytes=function(){a.Nd(this.Ld),this._getResourceCacheLimitBytes()},a.GrDirectContext.prototype.getResourceCacheUsageBytes=function(){a.Nd(this.Ld),this._getResourceCacheUsageBytes()},a.GrDirectContext.prototype.releaseResourcesAndAbandonContext=function(){a.Nd(this.Ld),this._releaseResourcesAndAbandonContext()},a.GrDirectContext.prototype.setResourceCacheLimitBytes=function(R){a.Nd(this.Ld),this._setResourceCacheLimitBytes(R)},a.MakeOnScreenGLSurface=function(R,F,z,ge,be,Ge){return!this.Nd(R.Ld)||(F=be===void 0||Ge===void 0?this._MakeOnScreenGLSurface(R,F,z,ge):this._MakeOnScreenGLSurface(R,F,z,ge,be,Ge),!F)?null:(F.Ld=R.Ld,F)},a.MakeRenderTarget=function(){var R=arguments[0];if(!this.Nd(R.Ld))return null;if(arguments.length===3){var F=this._MakeRenderTargetWH(R,arguments[1],arguments[2]);if(!F)return null}else if(arguments.length===2){if(F=this._MakeRenderTargetII(R,arguments[1]),!F)return null}else return null;return F.Ld=R.Ld,F},a.MakeWebGLCanvasSurface=function(R,F,z){F=F||null;var ge=R,be=typeof OffscreenCanvas<"u"&&ge instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&ge instanceof HTMLCanvasElement||be||(ge=document.getElementById(R),ge)))throw"Canvas with id "+R+" was not found";if(R=this.GetWebGLContext(ge,z),!R||0>R)throw"failed to create webgl context: err "+R;return R=this.MakeWebGLContext(R),F=this.MakeOnScreenGLSurface(R,ge.width,ge.height,F),F||(F=ge.cloneNode(!0),ge.parentNode.replaceChild(F,ge),F.classList.add("ck-replaced"),a.MakeSWCanvasSurface(F))},a.MakeCanvasSurface=a.MakeWebGLCanvasSurface,a.Surface.prototype.makeImageFromTexture=function(R,F){return a.Nd(this.Ld),R=m(R),(F=this._makeImageFromTexture(this.Ld,R,F))&&(F.Me=R),F},a.Surface.prototype.makeImageFromTextureSource=function(R,F,z){F||(F={height:v(R),width:A(R),colorType:a.ColorType.RGBA_8888,alphaType:z?a.AlphaType.Premul:a.AlphaType.Unpremul}),F.colorSpace||(F.colorSpace=a.ColorSpace.SRGB),a.Nd(this.Ld);var ge=ut.ge;return z=I(ge,ge.createTexture(),F,z),ut.version===2?ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,F.width,F.height,0,ge.RGBA,ge.UNSIGNED_BYTE,R):ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,ge.RGBA,ge.UNSIGNED_BYTE,R),U(ge,F),this._resetContext(),this.makeImageFromTexture(z,F)},a.Surface.prototype.updateTextureFromSource=function(R,F,z){if(R.Me){a.Nd(this.Ld);var ge=R.getImageInfo(),be=ut.ge,Ge=I(be,zn[R.Me],ge,z);ut.version===2?be.texImage2D(be.TEXTURE_2D,0,be.RGBA,A(F),v(F),0,be.RGBA,be.UNSIGNED_BYTE,F):be.texImage2D(be.TEXTURE_2D,0,be.RGBA,be.RGBA,be.UNSIGNED_BYTE,F),U(be,ge,z),this._resetContext(),zn[R.Me]=null,R.Me=m(Ge),ge.colorSpace=R.getColorSpace(),F=this._makeImageFromTexture(this.Ld,R.Me,ge),z=R.Kd.Sd,be=R.Kd.Zd,R.Kd.Sd=F.Kd.Sd,R.Kd.Zd=F.Kd.Zd,F.Kd.Sd=z,F.Kd.Zd=be,F.delete(),ge.colorSpace.delete()}},a.MakeLazyImageFromTextureSource=function(R,F,z){F||(F={height:v(R),width:A(R),colorType:a.ColorType.RGBA_8888,alphaType:z?a.AlphaType.Premul:a.AlphaType.Unpremul}),F.colorSpace||(F.colorSpace=a.ColorSpace.SRGB);var ge={makeTexture:function(){var be=ut,Ge=be.ge,Z=I(Ge,Ge.createTexture(),F,z);return be.version===2?Ge.texImage2D(Ge.TEXTURE_2D,0,Ge.RGBA,F.width,F.height,0,Ge.RGBA,Ge.UNSIGNED_BYTE,R):Ge.texImage2D(Ge.TEXTURE_2D,0,Ge.RGBA,Ge.RGBA,Ge.UNSIGNED_BYTE,R),U(Ge,F,z),m(Z)},freeSrc:function(){}};return R.constructor.name==="VideoFrame"&&(ge.freeSrc=function(){R.close()}),a.Image._makeFromGenerator(F,ge)},a.Nd=function(R){return R?Js(R):!1},a.Ue=function(){return ut&&ut.gf&&!ut.gf.isDeleted()?ut.gf:null}})}(n),function(a){function f(y,p,x,T,D){for(var j=0;j<y.length;j++)p[j*x+(j*D+T+x)%x]=y[j];return p}function m(y){for(var p=y*y,x=Array(p);p--;)x[p]=p%(y+1)===0?1:0;return x}function v(y){return y?y.constructor===Float32Array&&y.length===4:!1}function A(y){return(R(255*y[3])<<24|R(255*y[0])<<16|R(255*y[1])<<8|R(255*y[2])<<0)>>>0}function I(y){if(y&&y._ck)return y;if(y instanceof Float32Array){for(var p=Math.floor(y.length/4),x=new Uint32Array(p),T=0;T<p;T++)x[T]=A(y.slice(4*T,4*(T+1)));return x}if(y instanceof Uint32Array)return y;if(y instanceof Array&&y[0]instanceof Float32Array)return y.map(A)}function U(y){if(y===void 0)return 1;var p=parseFloat(y);return y&&y.indexOf("%")!==-1?p/100:p}function R(y){return Math.round(Math.max(0,Math.min(y||0,255)))}function F(y,p){p&&p._ck||a._free(y)}function z(y,p,x){if(!y||!y.length)return lt;if(y&&y._ck)return y.byteOffset;var T=a[p].BYTES_PER_ELEMENT;return x||(x=a._malloc(y.length*T)),a[p].set(y,x/T),x}function ge(y){var p={ce:lt,count:y.length,colorType:a.ColorType.RGBA_F32};if(y instanceof Float32Array)p.ce=z(y,"HEAPF32"),p.count=y.length/4;else if(y instanceof Uint32Array)p.ce=z(y,"HEAPU32"),p.colorType=a.ColorType.RGBA_8888;else if(y instanceof Array){if(y&&y.length){for(var x=a._malloc(16*y.length),T=0,D=x/4,j=0;j<y.length;j++)for(var ue=0;4>ue;ue++)a.HEAPF32[D+T]=y[j][ue],T++;y=x}else y=lt;p.ce=y}else throw"Invalid argument to copyFlexibleColorArray, Not a color array "+typeof y;return p}function be(y){if(!y)return lt;var p=Ya.toTypedArray();if(y.length){if(y.length===6||y.length===9)return z(y,"HEAPF32",lr),y.length===6&&a.HEAPF32.set(Ot,6+lr/4),lr;if(y.length===16)return p[0]=y[0],p[1]=y[1],p[2]=y[3],p[3]=y[4],p[4]=y[5],p[5]=y[7],p[6]=y[12],p[7]=y[13],p[8]=y[15],lr;throw"invalid matrix size"}if(y.m11===void 0)throw"invalid matrix argument";return p[0]=y.m11,p[1]=y.m21,p[2]=y.m41,p[3]=y.m12,p[4]=y.m22,p[5]=y.m42,p[6]=y.m14,p[7]=y.m24,p[8]=y.m44,lr}function Ge(y){if(!y)return lt;var p=Ka.toTypedArray();if(y.length){if(y.length!==16&&y.length!==6&&y.length!==9)throw"invalid matrix size";return y.length===16?z(y,"HEAPF32",uo):(p.fill(0),p[0]=y[0],p[1]=y[1],p[3]=y[2],p[4]=y[3],p[5]=y[4],p[7]=y[5],p[10]=1,p[12]=y[6],p[13]=y[7],p[15]=y[8],y.length===6&&(p[12]=0,p[13]=0,p[15]=1),uo)}if(y.m11===void 0)throw"invalid matrix argument";return p[0]=y.m11,p[1]=y.m21,p[2]=y.m31,p[3]=y.m41,p[4]=y.m12,p[5]=y.m22,p[6]=y.m32,p[7]=y.m42,p[8]=y.m13,p[9]=y.m23,p[10]=y.m33,p[11]=y.m43,p[12]=y.m14,p[13]=y.m24,p[14]=y.m34,p[15]=y.m44,uo}function Z(y,p){return z(y,"HEAPF32",p||Nn)}function We(y,p,x,T){var D=Jn.toTypedArray();return D[0]=y,D[1]=p,D[2]=x,D[3]=T,Nn}function tt(y){for(var p=new Float32Array(4),x=0;4>x;x++)p[x]=a.HEAPF32[y/4+x];return p}function rt(y,p){return z(y,"HEAPF32",p||Mt)}function Vn(y,p){return z(y,"HEAPF32",p||nt)}function un(){for(var y=0,p=0;p<arguments.length-1;p+=2)y+=arguments[p]*arguments[p+1];return y}function so(y,p,x){for(var T=Array(y.length),D=0;D<x;D++)for(var j=0;j<x;j++){for(var ue=0,Ce=0;Ce<x;Ce++)ue+=y[x*D+Ce]*p[x*Ce+j];T[D*x+j]=ue}return T}function cr(y,p){for(var x=so(p[0],p[1],y),T=2;T<p.length;)x=so(x,p[T],y),T++;return x}a.Color=function(y,p,x,T){return T===void 0&&(T=1),a.Color4f(R(y)/255,R(p)/255,R(x)/255,T)},a.ColorAsInt=function(y,p,x,T){return T===void 0&&(T=255),(R(T)<<24|R(y)<<16|R(p)<<8|R(x)<<0&268435455)>>>0},a.Color4f=function(y,p,x,T){return T===void 0&&(T=1),Float32Array.of(y,p,x,T)},Object.defineProperty(a,"TRANSPARENT",{get:function(){return a.Color4f(0,0,0,0)}}),Object.defineProperty(a,"BLACK",{get:function(){return a.Color4f(0,0,0,1)}}),Object.defineProperty(a,"WHITE",{get:function(){return a.Color4f(1,1,1,1)}}),Object.defineProperty(a,"RED",{get:function(){return a.Color4f(1,0,0,1)}}),Object.defineProperty(a,"GREEN",{get:function(){return a.Color4f(0,1,0,1)}}),Object.defineProperty(a,"BLUE",{get:function(){return a.Color4f(0,0,1,1)}}),Object.defineProperty(a,"YELLOW",{get:function(){return a.Color4f(1,1,0,1)}}),Object.defineProperty(a,"CYAN",{get:function(){return a.Color4f(0,1,1,1)}}),Object.defineProperty(a,"MAGENTA",{get:function(){return a.Color4f(1,0,1,1)}}),a.getColorComponents=function(y){return[Math.floor(255*y[0]),Math.floor(255*y[1]),Math.floor(255*y[2]),y[3]]},a.parseColorString=function(y,p){if(y=y.toLowerCase(),y.startsWith("#")){switch(p=255,y.length){case 9:p=parseInt(y.slice(7,9),16);case 7:var x=parseInt(y.slice(1,3),16),T=parseInt(y.slice(3,5),16),D=parseInt(y.slice(5,7),16);break;case 5:p=17*parseInt(y.slice(4,5),16);case 4:x=17*parseInt(y.slice(1,2),16),T=17*parseInt(y.slice(2,3),16),D=17*parseInt(y.slice(3,4),16)}return a.Color(x,T,D,p/255)}return y.startsWith("rgba")?(y=y.slice(5,-1),y=y.split(","),a.Color(+y[0],+y[1],+y[2],U(y[3]))):y.startsWith("rgb")?(y=y.slice(4,-1),y=y.split(","),a.Color(+y[0],+y[1],+y[2],U(y[3]))):y.startsWith("gray(")||y.startsWith("hsl")||!p||(y=p[y],y===void 0)?a.BLACK:y},a.multiplyByAlpha=function(y,p){return y=y.slice(),y[3]=Math.max(0,Math.min(y[3]*p,1)),y},a.Malloc=function(y,p){var x=a._malloc(p*y.BYTES_PER_ELEMENT);return{_ck:!0,length:p,byteOffset:x,re:null,subarray:function(T,D){return T=this.toTypedArray().subarray(T,D),T._ck=!0,T},toTypedArray:function(){return this.re&&this.re.length?this.re:(this.re=new y(a.HEAPU8.buffer,x,p),this.re._ck=!0,this.re)}}},a.Free=function(y){a._free(y.byteOffset),y.byteOffset=lt,y.toTypedArray=null,y.re=null};var lr=lt,Ya,uo=lt,Ka,Nn=lt,Jn,Tn,Mt=lt,lu,Vr=lt,Qa,co=lt,Pi,K=lt,le,ie=lt,$e,nt=lt,Et,nn=lt,Ot=Float32Array.of(0,0,1),lt=0;a.onRuntimeInitialized=function(){function y(p,x,T,D,j,ue,Ce){ue||(ue=4*D.width,D.colorType===a.ColorType.RGBA_F16?ue*=2:D.colorType===a.ColorType.RGBA_F32&&(ue*=4));var He=ue*D.height,je=j?j.byteOffset:a._malloc(He);if(Ce?!p._readPixels(D,je,ue,x,T,Ce):!p._readPixels(D,je,ue,x,T))return j||a._free(je),null;if(j)return j.toTypedArray();switch(D.colorType){case a.ColorType.RGBA_8888:case a.ColorType.RGBA_F16:p=new Uint8Array(a.HEAPU8.buffer,je,He).slice();break;case a.ColorType.RGBA_F32:p=new Float32Array(a.HEAPU8.buffer,je,He).slice();break;default:return null}return a._free(je),p}Jn=a.Malloc(Float32Array,4),Nn=Jn.byteOffset,Ka=a.Malloc(Float32Array,16),uo=Ka.byteOffset,Ya=a.Malloc(Float32Array,9),lr=Ya.byteOffset,$e=a.Malloc(Float32Array,12),nt=$e.byteOffset,Et=a.Malloc(Float32Array,12),nn=Et.byteOffset,Tn=a.Malloc(Float32Array,4),Mt=Tn.byteOffset,lu=a.Malloc(Float32Array,4),Vr=lu.byteOffset,Qa=a.Malloc(Float32Array,3),co=Qa.byteOffset,Pi=a.Malloc(Float32Array,3),K=Pi.byteOffset,le=a.Malloc(Int32Array,4),ie=le.byteOffset,a.ColorSpace.SRGB=a.ColorSpace._MakeSRGB(),a.ColorSpace.DISPLAY_P3=a.ColorSpace._MakeDisplayP3(),a.ColorSpace.ADOBE_RGB=a.ColorSpace._MakeAdobeRGB(),a.GlyphRunFlags={IsWhiteSpace:a._GlyphRunFlags_isWhiteSpace},a.Path.MakeFromCmds=function(p){var x=z(p,"HEAPF32"),T=a.Path._MakeFromCmds(x,p.length);return F(x,p),T},a.Path.MakeFromVerbsPointsWeights=function(p,x,T){var D=z(p,"HEAPU8"),j=z(x,"HEAPF32"),ue=z(T,"HEAPF32"),Ce=a.Path._MakeFromVerbsPointsWeights(D,p.length,j,x.length,ue,T&&T.length||0);return F(D,p),F(j,x),F(ue,T),Ce},a.Path.prototype.addArc=function(p,x,T){return p=rt(p),this._addArc(p,x,T),this},a.Path.prototype.addCircle=function(p,x,T,D){return this._addCircle(p,x,T,!!D),this},a.Path.prototype.addOval=function(p,x,T){return T===void 0&&(T=1),p=rt(p),this._addOval(p,!!x,T),this},a.Path.prototype.addPath=function(){var p=Array.prototype.slice.call(arguments),x=p[0],T=!1;if(typeof p[p.length-1]=="boolean"&&(T=p.pop()),p.length===1)this._addPath(x,1,0,0,0,1,0,0,0,1,T);else if(p.length===2)p=p[1],this._addPath(x,p[0],p[1],p[2],p[3],p[4],p[5],p[6]||0,p[7]||0,p[8]||1,T);else if(p.length===7||p.length===10)this._addPath(x,p[1],p[2],p[3],p[4],p[5],p[6],p[7]||0,p[8]||0,p[9]||1,T);else return null;return this},a.Path.prototype.addPoly=function(p,x){var T=z(p,"HEAPF32");return this._addPoly(T,p.length/2,x),F(T,p),this},a.Path.prototype.addRect=function(p,x){return p=rt(p),this._addRect(p,!!x),this},a.Path.prototype.addRRect=function(p,x){return p=Vn(p),this._addRRect(p,!!x),this},a.Path.prototype.addVerbsPointsWeights=function(p,x,T){var D=z(p,"HEAPU8"),j=z(x,"HEAPF32"),ue=z(T,"HEAPF32");this._addVerbsPointsWeights(D,p.length,j,x.length,ue,T&&T.length||0),F(D,p),F(j,x),F(ue,T)},a.Path.prototype.arc=function(p,x,T,D,j,ue){return p=a.LTRBRect(p-T,x-T,p+T,x+T),j=(j-D)/Math.PI*180-360*!!ue,ue=new a.Path,ue.addArc(p,D/Math.PI*180,j),this.addPath(ue,!0),ue.delete(),this},a.Path.prototype.arcToOval=function(p,x,T,D){return p=rt(p),this._arcToOval(p,x,T,D),this},a.Path.prototype.arcToRotated=function(p,x,T,D,j,ue,Ce){return this._arcToRotated(p,x,T,!!D,!!j,ue,Ce),this},a.Path.prototype.arcToTangent=function(p,x,T,D,j){return this._arcToTangent(p,x,T,D,j),this},a.Path.prototype.close=function(){return this._close(),this},a.Path.prototype.conicTo=function(p,x,T,D,j){return this._conicTo(p,x,T,D,j),this},a.Path.prototype.computeTightBounds=function(p){this._computeTightBounds(Mt);var x=Tn.toTypedArray();return p?(p.set(x),p):x.slice()},a.Path.prototype.cubicTo=function(p,x,T,D,j,ue){return this._cubicTo(p,x,T,D,j,ue),this},a.Path.prototype.dash=function(p,x,T){return this._dash(p,x,T)?this:null},a.Path.prototype.getBounds=function(p){this._getBounds(Mt);var x=Tn.toTypedArray();return p?(p.set(x),p):x.slice()},a.Path.prototype.lineTo=function(p,x){return this._lineTo(p,x),this},a.Path.prototype.moveTo=function(p,x){return this._moveTo(p,x),this},a.Path.prototype.offset=function(p,x){return this._transform(1,0,p,0,1,x,0,0,1),this},a.Path.prototype.quadTo=function(p,x,T,D){return this._quadTo(p,x,T,D),this},a.Path.prototype.rArcTo=function(p,x,T,D,j,ue,Ce){return this._rArcTo(p,x,T,D,j,ue,Ce),this},a.Path.prototype.rConicTo=function(p,x,T,D,j){return this._rConicTo(p,x,T,D,j),this},a.Path.prototype.rCubicTo=function(p,x,T,D,j,ue){return this._rCubicTo(p,x,T,D,j,ue),this},a.Path.prototype.rLineTo=function(p,x){return this._rLineTo(p,x),this},a.Path.prototype.rMoveTo=function(p,x){return this._rMoveTo(p,x),this},a.Path.prototype.rQuadTo=function(p,x,T,D){return this._rQuadTo(p,x,T,D),this},a.Path.prototype.stroke=function(p){return p=p||{},p.width=p.width||1,p.miter_limit=p.miter_limit||4,p.cap=p.cap||a.StrokeCap.Butt,p.join=p.join||a.StrokeJoin.Miter,p.precision=p.precision||1,this._stroke(p)?this:null},a.Path.prototype.transform=function(){if(arguments.length===1){var p=arguments[0];this._transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6]||0,p[7]||0,p[8]||1)}else if(arguments.length===6||arguments.length===9)p=arguments,this._transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6]||0,p[7]||0,p[8]||1);else throw"transform expected to take 1 or 9 arguments. Got "+arguments.length;return this},a.Path.prototype.trim=function(p,x,T){return this._trim(p,x,!!T)?this:null},a.Image.prototype.encodeToBytes=function(p,x){var T=a.Ue();return p=p||a.ImageFormat.PNG,x=x||100,T?this._encodeToBytes(p,x,T):this._encodeToBytes(p,x)},a.Image.prototype.makeShaderCubic=function(p,x,T,D,j){return j=be(j),this._makeShaderCubic(p,x,T,D,j)},a.Image.prototype.makeShaderOptions=function(p,x,T,D,j){return j=be(j),this._makeShaderOptions(p,x,T,D,j)},a.Image.prototype.readPixels=function(p,x,T,D,j){var ue=a.Ue();return y(this,p,x,T,D,j,ue)},a.Canvas.prototype.clear=function(p){a.Nd(this.Ld),p=Z(p),this._clear(p)},a.Canvas.prototype.clipRRect=function(p,x,T){a.Nd(this.Ld),p=Vn(p),this._clipRRect(p,x,T)},a.Canvas.prototype.clipRect=function(p,x,T){a.Nd(this.Ld),p=rt(p),this._clipRect(p,x,T)},a.Canvas.prototype.concat=function(p){a.Nd(this.Ld),p=Ge(p),this._concat(p)},a.Canvas.prototype.drawArc=function(p,x,T,D,j){a.Nd(this.Ld),p=rt(p),this._drawArc(p,x,T,D,j)},a.Canvas.prototype.drawAtlas=function(p,x,T,D,j,ue,Ce){if(p&&D&&x&&T&&x.length===T.length){a.Nd(this.Ld),j||(j=a.BlendMode.SrcOver);var He=z(x,"HEAPF32"),je=z(T,"HEAPF32"),pt=T.length/4,dt=z(I(ue),"HEAPU32");if(Ce&&"B"in Ce&&"C"in Ce)this._drawAtlasCubic(p,je,He,dt,pt,j,Ce.B,Ce.C,D);else{let B=a.FilterMode.Linear,fe=a.MipmapMode.None;Ce&&(B=Ce.filter,"mipmap"in Ce&&(fe=Ce.mipmap)),this._drawAtlasOptions(p,je,He,dt,pt,j,B,fe,D)}F(He,x),F(je,T),F(dt,ue)}},a.Canvas.prototype.drawCircle=function(p,x,T,D){a.Nd(this.Ld),this._drawCircle(p,x,T,D)},a.Canvas.prototype.drawColor=function(p,x){a.Nd(this.Ld),p=Z(p),x!==void 0?this._drawColor(p,x):this._drawColor(p)},a.Canvas.prototype.drawColorInt=function(p,x){a.Nd(this.Ld),this._drawColorInt(p,x||a.BlendMode.SrcOver)},a.Canvas.prototype.drawColorComponents=function(p,x,T,D,j){a.Nd(this.Ld),p=We(p,x,T,D),j!==void 0?this._drawColor(p,j):this._drawColor(p)},a.Canvas.prototype.drawDRRect=function(p,x,T){a.Nd(this.Ld),p=Vn(p,nt),x=Vn(x,nn),this._drawDRRect(p,x,T)},a.Canvas.prototype.drawImage=function(p,x,T,D){a.Nd(this.Ld),this._drawImage(p,x,T,D||null)},a.Canvas.prototype.drawImageCubic=function(p,x,T,D,j,ue){a.Nd(this.Ld),this._drawImageCubic(p,x,T,D,j,ue||null)},a.Canvas.prototype.drawImageOptions=function(p,x,T,D,j,ue){a.Nd(this.Ld),this._drawImageOptions(p,x,T,D,j,ue||null)},a.Canvas.prototype.drawImageNine=function(p,x,T,D,j){a.Nd(this.Ld),x=z(x,"HEAP32",ie),T=rt(T),this._drawImageNine(p,x,T,D,j||null)},a.Canvas.prototype.drawImageRect=function(p,x,T,D,j){a.Nd(this.Ld),rt(x,Mt),rt(T,Vr),this._drawImageRect(p,Mt,Vr,D,!!j)},a.Canvas.prototype.drawImageRectCubic=function(p,x,T,D,j,ue){a.Nd(this.Ld),rt(x,Mt),rt(T,Vr),this._drawImageRectCubic(p,Mt,Vr,D,j,ue||null)},a.Canvas.prototype.drawImageRectOptions=function(p,x,T,D,j,ue){a.Nd(this.Ld),rt(x,Mt),rt(T,Vr),this._drawImageRectOptions(p,Mt,Vr,D,j,ue||null)},a.Canvas.prototype.drawLine=function(p,x,T,D,j){a.Nd(this.Ld),this._drawLine(p,x,T,D,j)},a.Canvas.prototype.drawOval=function(p,x){a.Nd(this.Ld),p=rt(p),this._drawOval(p,x)},a.Canvas.prototype.drawPaint=function(p){a.Nd(this.Ld),this._drawPaint(p)},a.Canvas.prototype.drawParagraph=function(p,x,T){a.Nd(this.Ld),this._drawParagraph(p,x,T)},a.Canvas.prototype.drawPatch=function(p,x,T,D,j){if(24>p.length)throw"Need 12 cubic points";if(x&&4>x.length)throw"Need 4 colors";if(T&&8>T.length)throw"Need 4 shader coordinates";a.Nd(this.Ld);const ue=z(p,"HEAPF32"),Ce=x?z(I(x),"HEAPU32"):lt,He=T?z(T,"HEAPF32"):lt;D||(D=a.BlendMode.Modulate),this._drawPatch(ue,Ce,He,D,j),F(He,T),F(Ce,x),F(ue,p)},a.Canvas.prototype.drawPath=function(p,x){a.Nd(this.Ld),this._drawPath(p,x)},a.Canvas.prototype.drawPicture=function(p){a.Nd(this.Ld),this._drawPicture(p)},a.Canvas.prototype.drawPoints=function(p,x,T){a.Nd(this.Ld);var D=z(x,"HEAPF32");this._drawPoints(p,D,x.length/2,T),F(D,x)},a.Canvas.prototype.drawRRect=function(p,x){a.Nd(this.Ld),p=Vn(p),this._drawRRect(p,x)},a.Canvas.prototype.drawRect=function(p,x){a.Nd(this.Ld),p=rt(p),this._drawRect(p,x)},a.Canvas.prototype.drawRect4f=function(p,x,T,D,j){a.Nd(this.Ld),this._drawRect4f(p,x,T,D,j)},a.Canvas.prototype.drawShadow=function(p,x,T,D,j,ue,Ce){a.Nd(this.Ld);var He=z(j,"HEAPF32"),je=z(ue,"HEAPF32");x=z(x,"HEAPF32",co),T=z(T,"HEAPF32",K),this._drawShadow(p,x,T,D,He,je,Ce),F(He,j),F(je,ue)},a.getShadowLocalBounds=function(p,x,T,D,j,ue,Ce){return p=be(p),T=z(T,"HEAPF32",co),D=z(D,"HEAPF32",K),this._getShadowLocalBounds(p,x,T,D,j,ue,Mt)?(x=Tn.toTypedArray(),Ce?(Ce.set(x),Ce):x.slice()):null},a.Canvas.prototype.drawTextBlob=function(p,x,T,D){a.Nd(this.Ld),this._drawTextBlob(p,x,T,D)},a.Canvas.prototype.drawVertices=function(p,x,T){a.Nd(this.Ld),this._drawVertices(p,x,T)},a.Canvas.prototype.getDeviceClipBounds=function(p){this._getDeviceClipBounds(ie);var x=le.toTypedArray();return p?p.set(x):p=x.slice(),p},a.Canvas.prototype.getLocalToDevice=function(){this._getLocalToDevice(uo);for(var p=uo,x=Array(16),T=0;16>T;T++)x[T]=a.HEAPF32[p/4+T];return x},a.Canvas.prototype.getTotalMatrix=function(){this._getTotalMatrix(lr);for(var p=Array(9),x=0;9>x;x++)p[x]=a.HEAPF32[lr/4+x];return p},a.Canvas.prototype.makeSurface=function(p){return p=this._makeSurface(p),p.Ld=this.Ld,p},a.Canvas.prototype.readPixels=function(p,x,T,D,j){return a.Nd(this.Ld),y(this,p,x,T,D,j)},a.Canvas.prototype.saveLayer=function(p,x,T,D){return x=rt(x),this._saveLayer(p||null,x,T||null,D||0)},a.Canvas.prototype.writePixels=function(p,x,T,D,j,ue,Ce,He){if(p.byteLength%(x*T))throw"pixels length must be a multiple of the srcWidth * srcHeight";a.Nd(this.Ld);var je=p.byteLength/(x*T);ue=ue||a.AlphaType.Unpremul,Ce=Ce||a.ColorType.RGBA_8888,He=He||a.ColorSpace.SRGB;var pt=je*x;return je=z(p,"HEAPU8"),x=this._writePixels({width:x,height:T,colorType:Ce,alphaType:ue,colorSpace:He},je,pt,D,j),F(je,p),x},a.ColorFilter.MakeBlend=function(p,x,T){return p=Z(p),T=T||a.ColorSpace.SRGB,a.ColorFilter._MakeBlend(p,x,T)},a.ColorFilter.MakeMatrix=function(p){if(!p||p.length!==20)throw"invalid color matrix";var x=z(p,"HEAPF32"),T=a.ColorFilter._makeMatrix(x);return F(x,p),T},a.ContourMeasure.prototype.getPosTan=function(p,x){return this._getPosTan(p,Mt),p=Tn.toTypedArray(),x?(x.set(p),x):p.slice()},a.ImageFilter.prototype.getOutputBounds=function(p,x,T){return p=rt(p,Mt),x=be(x),this._getOutputBounds(p,x,ie),x=le.toTypedArray(),T?(T.set(x),T):x.slice()},a.ImageFilter.MakeDropShadow=function(p,x,T,D,j,ue){return j=Z(j,Nn),a.ImageFilter._MakeDropShadow(p,x,T,D,j,ue)},a.ImageFilter.MakeDropShadowOnly=function(p,x,T,D,j,ue){return j=Z(j,Nn),a.ImageFilter._MakeDropShadowOnly(p,x,T,D,j,ue)},a.ImageFilter.MakeImage=function(p,x,T,D){if(T=rt(T,Mt),D=rt(D,Vr),"B"in x&&"C"in x)return a.ImageFilter._MakeImageCubic(p,x.B,x.C,T,D);const j=x.filter;let ue=a.MipmapMode.None;return"mipmap"in x&&(ue=x.mipmap),a.ImageFilter._MakeImageOptions(p,j,ue,T,D)},a.ImageFilter.MakeMatrixTransform=function(p,x,T){if(p=be(p),"B"in x&&"C"in x)return a.ImageFilter._MakeMatrixTransformCubic(p,x.B,x.C,T);const D=x.filter;let j=a.MipmapMode.None;return"mipmap"in x&&(j=x.mipmap),a.ImageFilter._MakeMatrixTransformOptions(p,D,j,T)},a.Paint.prototype.getColor=function(){return this._getColor(Nn),tt(Nn)},a.Paint.prototype.setColor=function(p,x){x=x||null,p=Z(p),this._setColor(p,x)},a.Paint.prototype.setColorComponents=function(p,x,T,D,j){j=j||null,p=We(p,x,T,D),this._setColor(p,j)},a.Path.prototype.getPoint=function(p,x){return this._getPoint(p,Mt),p=Tn.toTypedArray(),x?(x[0]=p[0],x[1]=p[1],x):p.slice(0,2)},a.Picture.prototype.makeShader=function(p,x,T,D,j){return D=be(D),j=rt(j),this._makeShader(p,x,T,D,j)},a.Picture.prototype.cullRect=function(p){this._cullRect(Mt);var x=Tn.toTypedArray();return p?(p.set(x),p):x.slice()},a.PictureRecorder.prototype.beginRecording=function(p,x){return p=rt(p),this._beginRecording(p,!!x)},a.Surface.prototype.getCanvas=function(){var p=this._getCanvas();return p.Ld=this.Ld,p},a.Surface.prototype.makeImageSnapshot=function(p){return a.Nd(this.Ld),p=z(p,"HEAP32",ie),this._makeImageSnapshot(p)},a.Surface.prototype.makeSurface=function(p){return a.Nd(this.Ld),p=this._makeSurface(p),p.Ld=this.Ld,p},a.Surface.prototype.Hf=function(p,x){return this.Ie||(this.Ie=this.getCanvas()),requestAnimationFrame((function(){a.Nd(this.Ld),p(this.Ie),this.flush(x)}).bind(this))},a.Surface.prototype.requestAnimationFrame||(a.Surface.prototype.requestAnimationFrame=a.Surface.prototype.Hf),a.Surface.prototype.Df=function(p,x){this.Ie||(this.Ie=this.getCanvas()),requestAnimationFrame((function(){a.Nd(this.Ld),p(this.Ie),this.flush(x),this.dispose()}).bind(this))},a.Surface.prototype.drawOnce||(a.Surface.prototype.drawOnce=a.Surface.prototype.Df),a.PathEffect.MakeDash=function(p,x){if(x||(x=0),!p.length||p.length%2===1)throw"Intervals array must have even length";var T=z(p,"HEAPF32");return x=a.PathEffect._MakeDash(T,p.length,x),F(T,p),x},a.PathEffect.MakeLine2D=function(p,x){return x=be(x),a.PathEffect._MakeLine2D(p,x)},a.PathEffect.MakePath2D=function(p,x){return p=be(p),a.PathEffect._MakePath2D(p,x)},a.Shader.MakeColor=function(p,x){return x=x||null,p=Z(p),a.Shader._MakeColor(p,x)},a.Shader.Blend=a.Shader.MakeBlend,a.Shader.Color=a.Shader.MakeColor,a.Shader.MakeLinearGradient=function(p,x,T,D,j,ue,Ce,He){He=He||null;var je=ge(T),pt=z(D,"HEAPF32");Ce=Ce||0,ue=be(ue);var dt=Tn.toTypedArray();return dt.set(p),dt.set(x,2),p=a.Shader._MakeLinearGradient(Mt,je.ce,je.colorType,pt,je.count,j,Ce,ue,He),F(je.ce,T),D&&F(pt,D),p},a.Shader.MakeRadialGradient=function(p,x,T,D,j,ue,Ce,He){He=He||null;var je=ge(T),pt=z(D,"HEAPF32");return Ce=Ce||0,ue=be(ue),p=a.Shader._MakeRadialGradient(p[0],p[1],x,je.ce,je.colorType,pt,je.count,j,Ce,ue,He),F(je.ce,T),D&&F(pt,D),p},a.Shader.MakeSweepGradient=function(p,x,T,D,j,ue,Ce,He,je,pt){pt=pt||null;var dt=ge(T),B=z(D,"HEAPF32");return Ce=Ce||0,He=He||0,je=je||360,ue=be(ue),p=a.Shader._MakeSweepGradient(p,x,dt.ce,dt.colorType,B,dt.count,j,He,je,Ce,ue,pt),F(dt.ce,T),D&&F(B,D),p},a.Shader.MakeTwoPointConicalGradient=function(p,x,T,D,j,ue,Ce,He,je,pt){pt=pt||null;var dt=ge(j),B=z(ue,"HEAPF32");je=je||0,He=be(He);var fe=Tn.toTypedArray();return fe.set(p),fe.set(T,2),p=a.Shader._MakeTwoPointConicalGradient(Mt,x,D,dt.ce,dt.colorType,B,dt.count,Ce,je,He,pt),F(dt.ce,j),ue&&F(B,ue),p},a.Vertices.prototype.bounds=function(p){this._bounds(Mt);var x=Tn.toTypedArray();return p?(p.set(x),p):x.slice()},a.Td&&a.Td.forEach(function(p){p()})},a.computeTonalColors=function(y){var p=z(y.ambient,"HEAPF32"),x=z(y.spot,"HEAPF32");this._computeTonalColors(p,x);var T={ambient:tt(p),spot:tt(x)};return F(p,y.ambient),F(x,y.spot),T},a.LTRBRect=function(y,p,x,T){return Float32Array.of(y,p,x,T)},a.XYWHRect=function(y,p,x,T){return Float32Array.of(y,p,y+x,p+T)},a.LTRBiRect=function(y,p,x,T){return Int32Array.of(y,p,x,T)},a.XYWHiRect=function(y,p,x,T){return Int32Array.of(y,p,y+x,p+T)},a.RRectXY=function(y,p,x){return Float32Array.of(y[0],y[1],y[2],y[3],p,x,p,x,p,x,p,x)},a.MakeAnimatedImageFromEncoded=function(y){y=new Uint8Array(y);var p=a._malloc(y.byteLength);return a.HEAPU8.set(y,p),(y=a._decodeAnimatedImage(p,y.byteLength))?y:null},a.MakeImageFromEncoded=function(y){y=new Uint8Array(y);var p=a._malloc(y.byteLength);return a.HEAPU8.set(y,p),(y=a._decodeImage(p,y.byteLength))?y:null};var Mo=null;a.MakeImageFromCanvasImageSource=function(y){var p=y.width,x=y.height;Mo||(Mo=document.createElement("canvas")),Mo.width=p,Mo.height=x;var T=Mo.getContext("2d",{willReadFrequently:!0});return T.drawImage(y,0,0),y=T.getImageData(0,0,p,x),a.MakeImage({width:p,height:x,alphaType:a.AlphaType.Unpremul,colorType:a.ColorType.RGBA_8888,colorSpace:a.ColorSpace.SRGB},y.data,4*p)},a.MakeImage=function(y,p,x){var T=a._malloc(p.length);return a.HEAPU8.set(p,T),a._MakeImage(y,T,p.length,x)},a.MakeVertices=function(y,p,x,T,D,j){var ue=D&&D.length||0,Ce=0;return x&&x.length&&(Ce|=1),T&&T.length&&(Ce|=2),j===void 0||j||(Ce|=4),y=new a._VerticesBuilder(y,p.length/2,ue,Ce),z(p,"HEAPF32",y.positions()),y.texCoords()&&z(x,"HEAPF32",y.texCoords()),y.colors()&&z(I(T),"HEAPU32",y.colors()),y.indices()&&z(D,"HEAPU16",y.indices()),y.detach()},a.Matrix={},a.Matrix.identity=function(){return m(3)},a.Matrix.invert=function(y){var p=y[0]*y[4]*y[8]+y[1]*y[5]*y[6]+y[2]*y[3]*y[7]-y[2]*y[4]*y[6]-y[1]*y[3]*y[8]-y[0]*y[5]*y[7];return p?[(y[4]*y[8]-y[5]*y[7])/p,(y[2]*y[7]-y[1]*y[8])/p,(y[1]*y[5]-y[2]*y[4])/p,(y[5]*y[6]-y[3]*y[8])/p,(y[0]*y[8]-y[2]*y[6])/p,(y[2]*y[3]-y[0]*y[5])/p,(y[3]*y[7]-y[4]*y[6])/p,(y[1]*y[6]-y[0]*y[7])/p,(y[0]*y[4]-y[1]*y[3])/p]:null},a.Matrix.mapPoints=function(y,p){for(var x=0;x<p.length;x+=2){var T=p[x],D=p[x+1],j=y[6]*T+y[7]*D+y[8],ue=y[3]*T+y[4]*D+y[5];p[x]=(y[0]*T+y[1]*D+y[2])/j,p[x+1]=ue/j}return p},a.Matrix.multiply=function(){return cr(3,arguments)},a.Matrix.rotated=function(y,p,x){p=p||0,x=x||0;var T=Math.sin(y);return y=Math.cos(y),[y,-T,un(T,x,1-y,p),T,y,un(-T,p,1-y,x),0,0,1]},a.Matrix.scaled=function(y,p,x,T){x=x||0,T=T||0;var D=f([y,p],m(3),3,0,1);return f([x-y*x,T-p*T],D,3,2,0)},a.Matrix.skewed=function(y,p,x,T){x=x||0,T=T||0;var D=f([y,p],m(3),3,1,-1);return f([-y*x,-p*T],D,3,2,0)},a.Matrix.translated=function(y,p){return f(arguments,m(3),3,2,0)},a.Vector={},a.Vector.dot=function(y,p){return y.map(function(x,T){return x*p[T]}).reduce(function(x,T){return x+T})},a.Vector.lengthSquared=function(y){return a.Vector.dot(y,y)},a.Vector.length=function(y){return Math.sqrt(a.Vector.lengthSquared(y))},a.Vector.mulScalar=function(y,p){return y.map(function(x){return x*p})},a.Vector.add=function(y,p){return y.map(function(x,T){return x+p[T]})},a.Vector.sub=function(y,p){return y.map(function(x,T){return x-p[T]})},a.Vector.dist=function(y,p){return a.Vector.length(a.Vector.sub(y,p))},a.Vector.normalize=function(y){return a.Vector.mulScalar(y,1/a.Vector.length(y))},a.Vector.cross=function(y,p){return[y[1]*p[2]-y[2]*p[1],y[2]*p[0]-y[0]*p[2],y[0]*p[1]-y[1]*p[0]]},a.M44={},a.M44.identity=function(){return m(4)},a.M44.translated=function(y){return f(y,m(4),4,3,0)},a.M44.scaled=function(y){return f(y,m(4),4,0,1)},a.M44.rotated=function(y,p){return a.M44.rotatedUnitSinCos(a.Vector.normalize(y),Math.sin(p),Math.cos(p))},a.M44.rotatedUnitSinCos=function(y,p,x){var T=y[0],D=y[1];y=y[2];var j=1-x;return[j*T*T+x,j*T*D-p*y,j*T*y+p*D,0,j*T*D+p*y,j*D*D+x,j*D*y-p*T,0,j*T*y-p*D,j*D*y+p*T,j*y*y+x,0,0,0,0,1]},a.M44.lookat=function(y,p,x){p=a.Vector.normalize(a.Vector.sub(p,y)),x=a.Vector.normalize(x),x=a.Vector.normalize(a.Vector.cross(p,x));var T=a.M44.identity();return f(x,T,4,0,0),f(a.Vector.cross(x,p),T,4,1,0),f(a.Vector.mulScalar(p,-1),T,4,2,0),f(y,T,4,3,0),y=a.M44.invert(T),y===null?a.M44.identity():y},a.M44.perspective=function(y,p,x){var T=1/(p-y);return x/=2,x=Math.cos(x)/Math.sin(x),[x,0,0,0,0,x,0,0,0,0,(p+y)*T,2*p*y*T,0,0,-1,1]},a.M44.rc=function(y,p,x){return y[4*p+x]},a.M44.multiply=function(){return cr(4,arguments)},a.M44.invert=function(y){var p=y[0],x=y[4],T=y[8],D=y[12],j=y[1],ue=y[5],Ce=y[9],He=y[13],je=y[2],pt=y[6],dt=y[10],B=y[14],fe=y[3],st=y[7],Tt=y[11];y=y[15];var Qt=p*ue-x*j,Zn=p*Ce-T*j,er=p*He-D*j,cn=x*Ce-T*ue,we=x*He-D*ue,C=T*He-D*Ce,N=je*st-pt*fe,ee=je*Tt-dt*fe,ce=je*y-B*fe,ye=pt*Tt-dt*st,xe=pt*y-B*st,De=dt*y-B*Tt,Lt=Qt*De-Zn*xe+er*ye+cn*ce-we*ee+C*N,It=1/Lt;return Lt===0||It===1/0?null:(Qt*=It,Zn*=It,er*=It,cn*=It,we*=It,C*=It,N*=It,ee*=It,ce*=It,ye*=It,xe*=It,De*=It,p=[ue*De-Ce*xe+He*ye,Ce*ce-j*De-He*ee,j*xe-ue*ce+He*N,ue*ee-j*ye-Ce*N,T*xe-x*De-D*ye,p*De-T*ce+D*ee,x*ce-p*xe-D*N,p*ye-x*ee+T*N,st*C-Tt*we+y*cn,Tt*er-fe*C-y*Zn,fe*we-st*er+y*Qt,st*Zn-fe*cn-Tt*Qt,dt*we-pt*C-B*cn,je*C-dt*er+B*Zn,pt*er-je*we-B*Qt,je*cn-pt*Zn+dt*Qt],p.every(function(Tr){return!isNaN(Tr)&&Tr!==1/0&&Tr!==-1/0})?p:null)},a.M44.transpose=function(y){return[y[0],y[4],y[8],y[12],y[1],y[5],y[9],y[13],y[2],y[6],y[10],y[14],y[3],y[7],y[11],y[15]]},a.M44.mustInvert=function(y){if(y=a.M44.invert(y),y===null)throw"Matrix not invertible";return y},a.M44.setupCamera=function(y,p,x){var T=a.M44.lookat(x.eye,x.coa,x.up);return x=a.M44.perspective(x.near,x.far,x.angle),p=[(y[2]-y[0])/2,(y[3]-y[1])/2,p],y=a.M44.multiply(a.M44.translated([(y[0]+y[2])/2,(y[1]+y[3])/2,0]),a.M44.scaled(p)),a.M44.multiply(y,x,T,a.M44.mustInvert(y))},a.ColorMatrix={},a.ColorMatrix.identity=function(){var y=new Float32Array(20);return y[0]=1,y[6]=1,y[12]=1,y[18]=1,y},a.ColorMatrix.scaled=function(y,p,x,T){var D=new Float32Array(20);return D[0]=y,D[6]=p,D[12]=x,D[18]=T,D};var fr=[[6,7,11,12],[0,10,2,12],[0,1,5,6]];a.ColorMatrix.rotated=function(y,p,x){var T=a.ColorMatrix.identity();return y=fr[y],T[y[0]]=x,T[y[1]]=p,T[y[2]]=-p,T[y[3]]=x,T},a.ColorMatrix.postTranslate=function(y,p,x,T,D){return y[4]+=p,y[9]+=x,y[14]+=T,y[19]+=D,y},a.ColorMatrix.concat=function(y,p){for(var x=new Float32Array(20),T=0,D=0;20>D;D+=5){for(var j=0;4>j;j++)x[T++]=y[D]*p[j]+y[D+1]*p[j+5]+y[D+2]*p[j+10]+y[D+3]*p[j+15];x[T++]=y[D]*p[4]+y[D+1]*p[9]+y[D+2]*p[14]+y[D+3]*p[19]+y[D+4]}return x},function(y){y.Td=y.Td||[],y.Td.push(function(){function p(B){return B&&(B.dir=B.dir===0?y.TextDirection.RTL:y.TextDirection.LTR),B}function x(B){if(!B||!B.length)return[];for(var fe=[],st=0;st<B.length;st+=5){var Tt=y.LTRBRect(B[st],B[st+1],B[st+2],B[st+3]),Qt=y.TextDirection.LTR;B[st+4]===0&&(Qt=y.TextDirection.RTL),fe.push({rect:Tt,dir:Qt})}return y._free(B.byteOffset),fe}function T(B){return B=B||{},B.weight===void 0&&(B.weight=y.FontWeight.Normal),B.width=B.width||y.FontWidth.Normal,B.slant=B.slant||y.FontSlant.Upright,B}function D(B){if(!B||!B.length)return lt;for(var fe=[],st=0;st<B.length;st++){var Tt=j(B[st]);fe.push(Tt)}return z(fe,"HEAPU32")}function j(B){if(He[B])return He[B];var fe=sr(B)+1,st=y._malloc(fe);return On(B,re,st,fe),He[B]=st}function ue(B){if(B._colorPtr=Z(B.color),B._foregroundColorPtr=lt,B._backgroundColorPtr=lt,B._decorationColorPtr=lt,B.foregroundColor&&(B._foregroundColorPtr=Z(B.foregroundColor,je)),B.backgroundColor&&(B._backgroundColorPtr=Z(B.backgroundColor,pt)),B.decorationColor&&(B._decorationColorPtr=Z(B.decorationColor,dt)),Array.isArray(B.fontFamilies)&&B.fontFamilies.length?(B._fontFamiliesPtr=D(B.fontFamilies),B._fontFamiliesLen=B.fontFamilies.length):(B._fontFamiliesPtr=lt,B._fontFamiliesLen=0),B.locale){var fe=B.locale;B._localePtr=j(fe),B._localeLen=sr(fe)+1}else B._localePtr=lt,B._localeLen=0;if(Array.isArray(B.shadows)&&B.shadows.length){fe=B.shadows;var st=fe.map(function(we){return we.color||y.BLACK}),Tt=fe.map(function(we){return we.blurRadius||0});B._shadowLen=fe.length;for(var Qt=y._malloc(8*fe.length),Zn=Qt/4,er=0;er<fe.length;er++){var cn=fe[er].offset||[0,0];y.HEAPF32[Zn]=cn[0],y.HEAPF32[Zn+1]=cn[1],Zn+=2}B._shadowColorsPtr=ge(st).ce,B._shadowOffsetsPtr=Qt,B._shadowBlurRadiiPtr=z(Tt,"HEAPF32")}else B._shadowLen=0,B._shadowColorsPtr=lt,B._shadowOffsetsPtr=lt,B._shadowBlurRadiiPtr=lt;Array.isArray(B.fontFeatures)&&B.fontFeatures.length?(fe=B.fontFeatures,st=fe.map(function(we){return we.name}),Tt=fe.map(function(we){return we.value}),B._fontFeatureLen=fe.length,B._fontFeatureNamesPtr=D(st),B._fontFeatureValuesPtr=z(Tt,"HEAPU32")):(B._fontFeatureLen=0,B._fontFeatureNamesPtr=lt,B._fontFeatureValuesPtr=lt),Array.isArray(B.fontVariations)&&B.fontVariations.length?(fe=B.fontVariations,st=fe.map(function(we){return we.axis}),Tt=fe.map(function(we){return we.value}),B._fontVariationLen=fe.length,B._fontVariationAxesPtr=D(st),B._fontVariationValuesPtr=z(Tt,"HEAPF32")):(B._fontVariationLen=0,B._fontVariationAxesPtr=lt,B._fontVariationValuesPtr=lt)}function Ce(B){y._free(B._fontFamiliesPtr),y._free(B._shadowColorsPtr),y._free(B._shadowOffsetsPtr),y._free(B._shadowBlurRadiiPtr),y._free(B._fontFeatureNamesPtr),y._free(B._fontFeatureValuesPtr),y._free(B._fontVariationAxesPtr),y._free(B._fontVariationValuesPtr)}y.Paragraph.prototype.getRectsForRange=function(B,fe,st,Tt){return B=this._getRectsForRange(B,fe,st,Tt),x(B)},y.Paragraph.prototype.getRectsForPlaceholders=function(){var B=this._getRectsForPlaceholders();return x(B)},y.Paragraph.prototype.getGlyphInfoAt=function(B){return p(this._getGlyphInfoAt(B))},y.Paragraph.prototype.getClosestGlyphInfoAtCoordinate=function(B,fe){return p(this._getClosestGlyphInfoAtCoordinate(B,fe))},y.TypefaceFontProvider.prototype.registerFont=function(B,fe){if(B=y.Typeface.MakeFreeTypeFaceFromData(B),!B)return null;fe=j(fe),this._registerFont(B,fe)},y.ParagraphStyle=function(B){if(B.disableHinting=B.disableHinting||!1,B.ellipsis){var fe=B.ellipsis;B._ellipsisPtr=j(fe),B._ellipsisLen=sr(fe)+1}else B._ellipsisPtr=lt,B._ellipsisLen=0;return B.heightMultiplier==null&&(B.heightMultiplier=-1),B.maxLines=B.maxLines||0,B.replaceTabCharacters=B.replaceTabCharacters||!1,fe=(fe=B.strutStyle)||{},fe.strutEnabled=fe.strutEnabled||!1,fe.strutEnabled&&Array.isArray(fe.fontFamilies)&&fe.fontFamilies.length?(fe._fontFamiliesPtr=D(fe.fontFamilies),fe._fontFamiliesLen=fe.fontFamilies.length):(fe._fontFamiliesPtr=lt,fe._fontFamiliesLen=0),fe.fontStyle=T(fe.fontStyle),fe.fontSize==null&&(fe.fontSize=-1),fe.heightMultiplier==null&&(fe.heightMultiplier=-1),fe.halfLeading=fe.halfLeading||!1,fe.leading=fe.leading||0,fe.forceStrutHeight=fe.forceStrutHeight||!1,B.strutStyle=fe,B.textAlign=B.textAlign||y.TextAlign.Start,B.textDirection=B.textDirection||y.TextDirection.LTR,B.textHeightBehavior=B.textHeightBehavior||y.TextHeightBehavior.All,B.textStyle=y.TextStyle(B.textStyle),B.applyRoundingHack=B.applyRoundingHack!==!1,B},y.TextStyle=function(B){return B.color||(B.color=y.BLACK),B.decoration=B.decoration||0,B.decorationThickness=B.decorationThickness||0,B.decorationStyle=B.decorationStyle||y.DecorationStyle.Solid,B.textBaseline=B.textBaseline||y.TextBaseline.Alphabetic,B.fontSize==null&&(B.fontSize=-1),B.letterSpacing=B.letterSpacing||0,B.wordSpacing=B.wordSpacing||0,B.heightMultiplier==null&&(B.heightMultiplier=-1),B.halfLeading=B.halfLeading||!1,B.fontStyle=T(B.fontStyle),B};var He={},je=y._malloc(16),pt=y._malloc(16),dt=y._malloc(16);y.ParagraphBuilder.Make=function(B,fe){return ue(B.textStyle),fe=y.ParagraphBuilder._Make(B,fe),Ce(B.textStyle),fe},y.ParagraphBuilder.MakeFromFontProvider=function(B,fe){return ue(B.textStyle),fe=y.ParagraphBuilder._MakeFromFontProvider(B,fe),Ce(B.textStyle),fe},y.ParagraphBuilder.MakeFromFontCollection=function(B,fe){return ue(B.textStyle),fe=y.ParagraphBuilder._MakeFromFontCollection(B,fe),Ce(B.textStyle),fe},y.ParagraphBuilder.ShapeText=function(B,fe,st){let Tt=0;for(const Qt of fe)Tt+=Qt.length;if(Tt!==B.length)throw"Accumulated block lengths must equal text.length";return y.ParagraphBuilder._ShapeText(B,fe,st)},y.ParagraphBuilder.prototype.pushStyle=function(B){ue(B),this._pushStyle(B),Ce(B)},y.ParagraphBuilder.prototype.pushPaintStyle=function(B,fe,st){ue(B),this._pushPaintStyle(B,fe,st),Ce(B)},y.ParagraphBuilder.prototype.addPlaceholder=function(B,fe,st,Tt,Qt){st=st||y.PlaceholderAlignment.Baseline,Tt=Tt||y.TextBaseline.Alphabetic,this._addPlaceholder(B||0,fe||0,st,Tt,Qt||0)},y.ParagraphBuilder.prototype.setWordsUtf8=function(B){var fe=z(B,"HEAPU32");this._setWordsUtf8(fe,B&&B.length||0),F(fe,B)},y.ParagraphBuilder.prototype.setWordsUtf16=function(B){var fe=z(B,"HEAPU32");this._setWordsUtf16(fe,B&&B.length||0),F(fe,B)},y.ParagraphBuilder.prototype.setGraphemeBreaksUtf8=function(B){var fe=z(B,"HEAPU32");this._setGraphemeBreaksUtf8(fe,B&&B.length||0),F(fe,B)},y.ParagraphBuilder.prototype.setGraphemeBreaksUtf16=function(B){var fe=z(B,"HEAPU32");this._setGraphemeBreaksUtf16(fe,B&&B.length||0),F(fe,B)},y.ParagraphBuilder.prototype.setLineBreaksUtf8=function(B){var fe=z(B,"HEAPU32");this._setLineBreaksUtf8(fe,B&&B.length||0),F(fe,B)},y.ParagraphBuilder.prototype.setLineBreaksUtf16=function(B){var fe=z(B,"HEAPU32");this._setLineBreaksUtf16(fe,B&&B.length||0),F(fe,B)}})}(n),a.MakeManagedAnimation=function(y,p,x,T,D){if(!a._MakeManagedAnimation)throw"Not compiled with MakeManagedAnimation";if(x||(x=""),!p)return a._MakeManagedAnimation(y,0,lt,lt,lt,x,T,D);for(var j=[],ue=[],Ce=[],He=Object.keys(p||{}),je=0;je<He.length;je++){var pt=He[je],dt=new Uint8Array(p[pt]),B=a._malloc(dt.byteLength);a.HEAPU8.set(dt,B),ue.push(B),Ce.push(dt.byteLength),dt=sr(pt)+1,B=a._malloc(dt),On(pt,re,B,dt),j.push(B)}return p=z(j,"HEAPU32"),ue=z(ue,"HEAPU32"),Ce=z(Ce,"HEAPU32"),y=a._MakeManagedAnimation(y,He.length,p,ue,Ce,x,T,D),a._free(p),a._free(ue),a._free(Ce),y},a.tg=function(y){return y.text=y.text||"",y.textSize=y.textSize||0,y.minTextSize=y.minTextSize||0,y.maxTextSize=y.maxTextSize||Number.MAX_VALUE,y.strokeWidth=y.strokeWidth||0,y.lineHeight=y.lineHeight||0,y.lineShift=y.lineShift||0,y.ascent=y.ascent||0,y.maxLines=y.maxLines||0,y.horizAlign=y.horizAlign||a.TextAlign.Left,y.vertAlign=y.vertAlign||a.ug.Top,y.strokeJoin=y.strokeJoin||a.StrokeJoin.Miter,y.direction=y.direction||a.TextDirection.LTR,y.linebreak=y.linebreak||a.LineBreakType.HardLineBreak,y.resize=y.resize||a.sg.None,y.fillColor||(y.fillColor=a.TRANSPARENT),y.strokeColor||(y.strokeColor=a.TRANSPARENT),y.boundingBox||(y.boundingBox=[0,0,0,0]),y},function(y){y.Td=y.Td||[],y.Td.push(function(){y.Animation.prototype.render=function(p,x){rt(x,Mt),this._render(p,Mt)},y.Animation.prototype.size=function(p){this._size(Mt);var x=Tn.toTypedArray();return p?(p[0]=x[0],p[1]=x[1],p):x.slice(0,2)},y.ManagedAnimation&&(y.ManagedAnimation.prototype.render=function(p,x){rt(x,Mt),this._render(p,Mt)},y.ManagedAnimation.prototype.seek=function(p,x){return this._seek(p,Mt),p=Tn.toTypedArray(),x?(x.set(p),x):p.slice()},y.ManagedAnimation.prototype.seekFrame=function(p,x){return this._seekFrame(p,Mt),p=Tn.toTypedArray(),x?(x.set(p),x):p.slice()},y.ManagedAnimation.prototype.setColor=function(p,x){return x=Z(x),this._setColor(p,x)},y.ManagedAnimation.prototype.setColorSlot=function(p,x){return x=Z(x),this._setColorSlot(p,x)},y.ManagedAnimation.prototype.getColorSlot=function(p){return this._getColorSlot(p,Nn),p=tt(Nn),p[0]==-1?null:p},y.ManagedAnimation.prototype.setVec2Slot=function(p,x){return z(x,"HEAPF32",co),this._setVec2Slot(p,co)},y.ManagedAnimation.prototype.getVec2Slot=function(p){return this._getVec2Slot(p,co),p=Qa.toTypedArray(),p[2]===-1?null:p.slice(0,2)},y.ManagedAnimation.prototype.setTextSlot=function(p,x){var T=Z(x.fillColor,Nn),D=Z(x.strokeColor,Mt),j=rt(x.boundingBox,Vr);return x._fillColorPtr=T,x._strokeColorPtr=D,x._boundingBoxPtr=j,this._setTextSlot(p,x)},y.ManagedAnimation.prototype.setTransform=function(p,x,T,D,j,ue,Ce){return x=z([x[0],x[1],T[0],T[1],D[0],D[1],j,ue,Ce],"HEAPF32",lr),this._setTransform(p,x)},y.ManagedAnimation.prototype.size=function(p){this._size(Mt);var x=Tn.toTypedArray();return p?(p[0]=x[0],p[1]=x[1],p):x.slice(0,2)})})}(n),a.Td=a.Td||[],a.Td.push(function(){a.Path.prototype.op=function(y,p){return this._op(y,p)?this:null},a.Path.prototype.simplify=function(){return this._simplify()?this:null}}),a.Td=a.Td||[],a.Td.push(function(){a.Canvas.prototype.drawText=function(y,p,x,T,D){var j=sr(y),ue=a._malloc(j+1);On(y,re,ue,j+1),this._drawSimpleText(ue,j,p,x,D,T),a._free(ue)},a.Canvas.prototype.drawGlyphs=function(y,p,x,T,D,j){if(!(2*y.length<=p.length))throw"Not enough positions for the array of gyphs";a.Nd(this.Ld);const ue=z(y,"HEAPU16"),Ce=z(p,"HEAPF32");this._drawGlyphs(y.length,ue,Ce,x,T,D,j),F(Ce,p),F(ue,y)},a.Font.prototype.getGlyphBounds=function(y,p,x){var T=z(y,"HEAPU16"),D=a._malloc(16*y.length);return this._getGlyphWidthBounds(T,y.length,lt,D,p||null),p=new Float32Array(a.HEAPU8.buffer,D,4*y.length),F(T,y),x?(x.set(p),a._free(D),x):(y=Float32Array.from(p),a._free(D),y)},a.Font.prototype.getGlyphIDs=function(y,p,x){p||(p=y.length);var T=sr(y)+1,D=a._malloc(T);return On(y,re,D,T),y=a._malloc(2*p),p=this._getGlyphIDs(D,T-1,p,y),a._free(D),0>p?(a._free(y),null):(D=new Uint16Array(a.HEAPU8.buffer,y,p),x?(x.set(D),a._free(y),x):(x=Uint16Array.from(D),a._free(y),x))},a.Font.prototype.getGlyphIntercepts=function(y,p,x,T){var D=z(y,"HEAPU16"),j=z(p,"HEAPF32");return this._getGlyphIntercepts(D,y.length,!(y&&y._ck),j,p.length,!(p&&p._ck),x,T)},a.Font.prototype.getGlyphWidths=function(y,p,x){var T=z(y,"HEAPU16"),D=a._malloc(4*y.length);return this._getGlyphWidthBounds(T,y.length,D,lt,p||null),p=new Float32Array(a.HEAPU8.buffer,D,y.length),F(T,y),x?(x.set(p),a._free(D),x):(y=Float32Array.from(p),a._free(D),y)},a.FontMgr.FromData=function(){if(!arguments.length)return null;var y=arguments;if(y.length===1&&Array.isArray(y[0])&&(y=arguments[0]),!y.length)return null;for(var p=[],x=[],T=0;T<y.length;T++){var D=new Uint8Array(y[T]),j=z(D,"HEAPU8");p.push(j),x.push(D.byteLength)}return p=z(p,"HEAPU32"),x=z(x,"HEAPU32"),y=a.FontMgr._fromData(p,x,y.length),a._free(p),a._free(x),y},a.Typeface.MakeFreeTypeFaceFromData=function(y){y=new Uint8Array(y);var p=z(y,"HEAPU8");return(y=a.Typeface._MakeFreeTypeFaceFromData(p,y.byteLength))?y:null},a.Typeface.prototype.getGlyphIDs=function(y,p,x){p||(p=y.length);var T=sr(y)+1,D=a._malloc(T);return On(y,re,D,T),y=a._malloc(2*p),p=this._getGlyphIDs(D,T-1,p,y),a._free(D),0>p?(a._free(y),null):(D=new Uint16Array(a.HEAPU8.buffer,y,p),x?(x.set(D),a._free(y),x):(x=Uint16Array.from(D),a._free(y),x))},a.TextBlob.MakeOnPath=function(y,p,x,T){if(y&&y.length&&p&&p.countPoints()){if(p.countPoints()===1)return this.MakeFromText(y,x);T||(T=0);var D=x.getGlyphIDs(y);D=x.getGlyphWidths(D);var j=[];p=new a.ContourMeasureIter(p,!1,1);for(var ue=p.next(),Ce=new Float32Array(4),He=0;He<y.length&&ue;He++){var je=D[He];if(T+=je/2,T>ue.length()){if(ue.delete(),ue=p.next(),!ue){y=y.substring(0,He);break}T=je/2}ue.getPosTan(T,Ce);var pt=Ce[2],dt=Ce[3];j.push(pt,dt,Ce[0]-je/2*pt,Ce[1]-je/2*dt),T+=je/2}return y=this.MakeFromRSXform(y,j,x),ue&&ue.delete(),p.delete(),y}},a.TextBlob.MakeFromRSXform=function(y,p,x){var T=sr(y)+1,D=a._malloc(T);return On(y,re,D,T),y=z(p,"HEAPF32"),x=a.TextBlob._MakeFromRSXform(D,T-1,y,x),a._free(D),x||null},a.TextBlob.MakeFromRSXformGlyphs=function(y,p,x){var T=z(y,"HEAPU16");return p=z(p,"HEAPF32"),x=a.TextBlob._MakeFromRSXformGlyphs(T,2*y.length,p,x),F(T,y),x||null},a.TextBlob.MakeFromGlyphs=function(y,p){var x=z(y,"HEAPU16");return p=a.TextBlob._MakeFromGlyphs(x,2*y.length,p),F(x,y),p||null},a.TextBlob.MakeFromText=function(y,p){var x=sr(y)+1,T=a._malloc(x);return On(y,re,T,x),y=a.TextBlob._MakeFromText(T,x-1,p),a._free(T),y||null},a.MallocGlyphIDs=function(y){return a.Malloc(Uint16Array,y)}}),a.Td=a.Td||[],a.Td.push(function(){a.MakePicture=function(y){y=new Uint8Array(y);var p=a._malloc(y.byteLength);return a.HEAPU8.set(y,p),(y=a._MakePicture(p,y.byteLength))?y:null}}),a.Td=a.Td||[],a.Td.push(function(){a.RuntimeEffect.Make=function(y,p){return a.RuntimeEffect._Make(y,{onError:p||function(x){console.log("RuntimeEffect error",x)}})},a.RuntimeEffect.MakeForBlender=function(y,p){return a.RuntimeEffect._MakeForBlender(y,{onError:p||function(x){console.log("RuntimeEffect error",x)}})},a.RuntimeEffect.prototype.makeShader=function(y,p){var x=!y._ck,T=z(y,"HEAPF32");return p=be(p),this._makeShader(T,4*y.length,x,p)},a.RuntimeEffect.prototype.makeShaderWithChildren=function(y,p,x){var T=!y._ck,D=z(y,"HEAPF32");x=be(x);for(var j=[],ue=0;ue<p.length;ue++)j.push(p[ue].Kd.Sd);return p=z(j,"HEAPU32"),this._makeShaderWithChildren(D,4*y.length,T,p,j.length,x)},a.RuntimeEffect.prototype.makeBlender=function(y){var p=!y._ck,x=z(y,"HEAPF32");return this._makeBlender(x,4*y.length,p)}}),function(){function y(we){for(var C=0;C<we.length;C++)if(we[C]!==void 0&&!Number.isFinite(we[C]))return!1;return!0}function p(we){var C=a.getColorComponents(we);we=C[0];var N=C[1],ee=C[2];return C=C[3],C===1?(we=we.toString(16).toLowerCase(),N=N.toString(16).toLowerCase(),ee=ee.toString(16).toLowerCase(),we=we.length===1?"0"+we:we,N=N.length===1?"0"+N:N,ee=ee.length===1?"0"+ee:ee,"#"+we+N+ee):(C=C===0||C===1?C:C.toFixed(8),"rgba("+we+", "+N+", "+ee+", "+C+")")}function x(we){return a.parseColorString(we,Zn)}function T(we){if(we=er.exec(we),!we)return null;var C=parseFloat(we[4]),N=16;switch(we[5]){case"em":case"rem":N=16*C;break;case"pt":N=4*C/3;break;case"px":N=C;break;case"pc":N=16*C;break;case"in":N=96*C;break;case"cm":N=96*C/2.54;break;case"mm":N=96/25.4*C;break;case"q":N=96/25.4/4*C;break;case"%":N=16/75*C}return{style:we[1],variant:we[2],weight:we[3],sizePx:N,family:we[6].trim()}}function D(we){this.Md=we,this.Pd=new a.Paint,this.Pd.setAntiAlias(!0),this.Pd.setStrokeMiter(10),this.Pd.setStrokeCap(a.StrokeCap.Butt),this.Pd.setStrokeJoin(a.StrokeJoin.Miter),this.Se="10px monospace",this.ne=new a.Font(null,10),this.ne.setSubpixel(!0),this.be=this.he=a.BLACK,this.we=0,this.Ke=a.TRANSPARENT,this.ye=this.xe=0,this.Le=this.je=1,this.Je=0,this.ve=[],this.Od=a.BlendMode.SrcOver,this.Pd.setStrokeWidth(this.Le),this.Pd.setBlendMode(this.Od),this.Rd=new a.Path,this.Ud=a.Matrix.identity(),this.mf=[],this.Ce=[],this.me=function(){this.Rd.delete(),this.Pd.delete(),this.ne.delete(),this.Ce.forEach(function(C){C.me()})},Object.defineProperty(this,"currentTransform",{enumerable:!0,get:function(){return{a:this.Ud[0],c:this.Ud[1],e:this.Ud[2],b:this.Ud[3],d:this.Ud[4],f:this.Ud[5]}},set:function(C){C.a&&this.setTransform(C.a,C.b,C.c,C.d,C.e,C.f)}}),Object.defineProperty(this,"fillStyle",{enumerable:!0,get:function(){return v(this.be)?p(this.be):this.be},set:function(C){typeof C=="string"?this.be=x(C):C.ue&&(this.be=C)}}),Object.defineProperty(this,"font",{enumerable:!0,get:function(){return this.Se},set:function(C){var N=T(C),ee=N.family;N.typeface=cn[ee]?cn[ee][(N.style||"normal")+"|"+(N.variant||"normal")+"|"+(N.weight||"normal")]||cn[ee]["*"]:null,N&&(this.ne.setSize(N.sizePx),this.ne.setTypeface(N.typeface),this.Se=C)}}),Object.defineProperty(this,"globalAlpha",{enumerable:!0,get:function(){return this.je},set:function(C){!isFinite(C)||0>C||1<C||(this.je=C)}}),Object.defineProperty(this,"globalCompositeOperation",{enumerable:!0,get:function(){switch(this.Od){case a.BlendMode.SrcOver:return"source-over";case a.BlendMode.DstOver:return"destination-over";case a.BlendMode.Src:return"copy";case a.BlendMode.Dst:return"destination";case a.BlendMode.Clear:return"clear";case a.BlendMode.SrcIn:return"source-in";case a.BlendMode.DstIn:return"destination-in";case a.BlendMode.SrcOut:return"source-out";case a.BlendMode.DstOut:return"destination-out";case a.BlendMode.SrcATop:return"source-atop";case a.BlendMode.DstATop:return"destination-atop";case a.BlendMode.Xor:return"xor";case a.BlendMode.Plus:return"lighter";case a.BlendMode.Multiply:return"multiply";case a.BlendMode.Screen:return"screen";case a.BlendMode.Overlay:return"overlay";case a.BlendMode.Darken:return"darken";case a.BlendMode.Lighten:return"lighten";case a.BlendMode.ColorDodge:return"color-dodge";case a.BlendMode.ColorBurn:return"color-burn";case a.BlendMode.HardLight:return"hard-light";case a.BlendMode.SoftLight:return"soft-light";case a.BlendMode.Difference:return"difference";case a.BlendMode.Exclusion:return"exclusion";case a.BlendMode.Hue:return"hue";case a.BlendMode.Saturation:return"saturation";case a.BlendMode.Color:return"color";case a.BlendMode.Luminosity:return"luminosity"}},set:function(C){switch(C){case"source-over":this.Od=a.BlendMode.SrcOver;break;case"destination-over":this.Od=a.BlendMode.DstOver;break;case"copy":this.Od=a.BlendMode.Src;break;case"destination":this.Od=a.BlendMode.Dst;break;case"clear":this.Od=a.BlendMode.Clear;break;case"source-in":this.Od=a.BlendMode.SrcIn;break;case"destination-in":this.Od=a.BlendMode.DstIn;break;case"source-out":this.Od=a.BlendMode.SrcOut;break;case"destination-out":this.Od=a.BlendMode.DstOut;break;case"source-atop":this.Od=a.BlendMode.SrcATop;break;case"destination-atop":this.Od=a.BlendMode.DstATop;break;case"xor":this.Od=a.BlendMode.Xor;break;case"lighter":this.Od=a.BlendMode.Plus;break;case"plus-lighter":this.Od=a.BlendMode.Plus;break;case"plus-darker":throw"plus-darker is not supported";case"multiply":this.Od=a.BlendMode.Multiply;break;case"screen":this.Od=a.BlendMode.Screen;break;case"overlay":this.Od=a.BlendMode.Overlay;break;case"darken":this.Od=a.BlendMode.Darken;break;case"lighten":this.Od=a.BlendMode.Lighten;break;case"color-dodge":this.Od=a.BlendMode.ColorDodge;break;case"color-burn":this.Od=a.BlendMode.ColorBurn;break;case"hard-light":this.Od=a.BlendMode.HardLight;break;case"soft-light":this.Od=a.BlendMode.SoftLight;break;case"difference":this.Od=a.BlendMode.Difference;break;case"exclusion":this.Od=a.BlendMode.Exclusion;break;case"hue":this.Od=a.BlendMode.Hue;break;case"saturation":this.Od=a.BlendMode.Saturation;break;case"color":this.Od=a.BlendMode.Color;break;case"luminosity":this.Od=a.BlendMode.Luminosity;break;default:return}this.Pd.setBlendMode(this.Od)}}),Object.defineProperty(this,"imageSmoothingEnabled",{enumerable:!0,get:function(){return!0},set:function(){}}),Object.defineProperty(this,"imageSmoothingQuality",{enumerable:!0,get:function(){return"high"},set:function(){}}),Object.defineProperty(this,"lineCap",{enumerable:!0,get:function(){switch(this.Pd.getStrokeCap()){case a.StrokeCap.Butt:return"butt";case a.StrokeCap.Round:return"round";case a.StrokeCap.Square:return"square"}},set:function(C){switch(C){case"butt":this.Pd.setStrokeCap(a.StrokeCap.Butt);break;case"round":this.Pd.setStrokeCap(a.StrokeCap.Round);break;case"square":this.Pd.setStrokeCap(a.StrokeCap.Square)}}}),Object.defineProperty(this,"lineDashOffset",{enumerable:!0,get:function(){return this.Je},set:function(C){isFinite(C)&&(this.Je=C)}}),Object.defineProperty(this,"lineJoin",{enumerable:!0,get:function(){switch(this.Pd.getStrokeJoin()){case a.StrokeJoin.Miter:return"miter";case a.StrokeJoin.Round:return"round";case a.StrokeJoin.Bevel:return"bevel"}},set:function(C){switch(C){case"miter":this.Pd.setStrokeJoin(a.StrokeJoin.Miter);break;case"round":this.Pd.setStrokeJoin(a.StrokeJoin.Round);break;case"bevel":this.Pd.setStrokeJoin(a.StrokeJoin.Bevel)}}}),Object.defineProperty(this,"lineWidth",{enumerable:!0,get:function(){return this.Pd.getStrokeWidth()},set:function(C){0>=C||!C||(this.Le=C,this.Pd.setStrokeWidth(C))}}),Object.defineProperty(this,"miterLimit",{enumerable:!0,get:function(){return this.Pd.getStrokeMiter()},set:function(C){0>=C||!C||this.Pd.setStrokeMiter(C)}}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,get:function(){return this.we},set:function(C){0>C||!isFinite(C)||(this.we=C)}}),Object.defineProperty(this,"shadowColor",{enumerable:!0,get:function(){return p(this.Ke)},set:function(C){this.Ke=x(C)}}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,get:function(){return this.xe},set:function(C){isFinite(C)&&(this.xe=C)}}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,get:function(){return this.ye},set:function(C){isFinite(C)&&(this.ye=C)}}),Object.defineProperty(this,"strokeStyle",{enumerable:!0,get:function(){return p(this.he)},set:function(C){typeof C=="string"?this.he=x(C):C.ue&&(this.he=C)}}),this.arc=function(C,N,ee,ce,ye,xe){B(this.Rd,C,N,ee,ee,0,ce,ye,xe)},this.arcTo=function(C,N,ee,ce,ye){je(this.Rd,C,N,ee,ce,ye)},this.beginPath=function(){this.Rd.delete(),this.Rd=new a.Path},this.bezierCurveTo=function(C,N,ee,ce,ye,xe){var De=this.Rd;y([C,N,ee,ce,ye,xe])&&(De.isEmpty()&&De.moveTo(C,N),De.cubicTo(C,N,ee,ce,ye,xe))},this.clearRect=function(C,N,ee,ce){this.Pd.setStyle(a.PaintStyle.Fill),this.Pd.setBlendMode(a.BlendMode.Clear),this.Md.drawRect(a.XYWHRect(C,N,ee,ce),this.Pd),this.Pd.setBlendMode(this.Od)},this.clip=function(C,N){typeof C=="string"?(N=C,C=this.Rd):C&&C.bf&&(C=C.Vd),C||(C=this.Rd),C=C.copy(),N&&N.toLowerCase()==="evenodd"?C.setFillType(a.FillType.EvenOdd):C.setFillType(a.FillType.Winding),this.Md.clipPath(C,a.ClipOp.Intersect,!0),C.delete()},this.closePath=function(){pt(this.Rd)},this.createImageData=function(){if(arguments.length===1){var C=arguments[0];return new Ce(new Uint8ClampedArray(4*C.width*C.height),C.width,C.height)}if(arguments.length===2){C=arguments[0];var N=arguments[1];return new Ce(new Uint8ClampedArray(4*C*N),C,N)}throw"createImageData expects 1 or 2 arguments, got "+arguments.length},this.createLinearGradient=function(C,N,ee,ce){if(y(arguments)){var ye=new He(C,N,ee,ce);return this.Ce.push(ye),ye}},this.createPattern=function(C,N){return C=new Tt(C,N),this.Ce.push(C),C},this.createRadialGradient=function(C,N,ee,ce,ye,xe){if(y(arguments)){var De=new Qt(C,N,ee,ce,ye,xe);return this.Ce.push(De),De}},this.drawImage=function(C){C instanceof ue&&(C=C.uf());var N=this.Re();if(arguments.length===3||arguments.length===5)var ee=a.XYWHRect(arguments[1],arguments[2],arguments[3]||C.width(),arguments[4]||C.height()),ce=a.XYWHRect(0,0,C.width(),C.height());else if(arguments.length===9)ee=a.XYWHRect(arguments[5],arguments[6],arguments[7],arguments[8]),ce=a.XYWHRect(arguments[1],arguments[2],arguments[3],arguments[4]);else throw"invalid number of args for drawImage, need 3, 5, or 9; got "+arguments.length;this.Md.drawImageRect(C,ce,ee,N,!1),N.dispose()},this.ellipse=function(C,N,ee,ce,ye,xe,De,Lt){B(this.Rd,C,N,ee,ce,ye,xe,De,Lt)},this.Re=function(){var C=this.Pd.copy();if(C.setStyle(a.PaintStyle.Fill),v(this.be)){var N=a.multiplyByAlpha(this.be,this.je);C.setColor(N)}else N=this.be.ue(this.Ud),C.setColor(a.Color(0,0,0,this.je)),C.setShader(N);return C.dispose=function(){this.delete()},C},this.fill=function(C,N){if(typeof C=="string"?(N=C,C=this.Rd):C&&C.bf&&(C=C.Vd),N==="evenodd")this.Rd.setFillType(a.FillType.EvenOdd);else{if(N!=="nonzero"&&N)throw"invalid fill rule";this.Rd.setFillType(a.FillType.Winding)}C||(C=this.Rd),N=this.Re();var ee=this.ze(N);ee&&(this.Md.save(),this.se(),this.Md.drawPath(C,ee),this.Md.restore(),ee.dispose()),this.Md.drawPath(C,N),N.dispose()},this.fillRect=function(C,N,ee,ce){var ye=this.Re(),xe=this.ze(ye);xe&&(this.Md.save(),this.se(),this.Md.drawRect(a.XYWHRect(C,N,ee,ce),xe),this.Md.restore(),xe.dispose()),this.Md.drawRect(a.XYWHRect(C,N,ee,ce),ye),ye.dispose()},this.fillText=function(C,N,ee){var ce=this.Re();C=a.TextBlob.MakeFromText(C,this.ne);var ye=this.ze(ce);ye&&(this.Md.save(),this.se(),this.Md.drawTextBlob(C,N,ee,ye),this.Md.restore(),ye.dispose()),this.Md.drawTextBlob(C,N,ee,ce),C.delete(),ce.dispose()},this.getImageData=function(C,N,ee,ce){return(C=this.Md.readPixels(C,N,{width:ee,height:ce,colorType:a.ColorType.RGBA_8888,alphaType:a.AlphaType.Unpremul,colorSpace:a.ColorSpace.SRGB}))?new Ce(new Uint8ClampedArray(C.buffer),ee,ce):null},this.getLineDash=function(){return this.ve.slice()},this.nf=function(C){var N=a.Matrix.invert(this.Ud);return a.Matrix.mapPoints(N,C),C},this.isPointInPath=function(C,N,ee){var ce=arguments;if(ce.length===3)var ye=this.Rd;else if(ce.length===4)ye=ce[0],C=ce[1],N=ce[2],ee=ce[3];else throw"invalid arg count, need 3 or 4, got "+ce.length;return!isFinite(C)||!isFinite(N)||(ee=ee||"nonzero",ee!=="nonzero"&&ee!=="evenodd")?!1:(ce=this.nf([C,N]),C=ce[0],N=ce[1],ye.setFillType(ee==="nonzero"?a.FillType.Winding:a.FillType.EvenOdd),ye.contains(C,N))},this.isPointInStroke=function(C,N){var ee=arguments;if(ee.length===2)var ce=this.Rd;else if(ee.length===3)ce=ee[0],C=ee[1],N=ee[2];else throw"invalid arg count, need 2 or 3, got "+ee.length;return!isFinite(C)||!isFinite(N)?!1:(ee=this.nf([C,N]),C=ee[0],N=ee[1],ce=ce.copy(),ce.setFillType(a.FillType.Winding),ce.stroke({width:this.lineWidth,miter_limit:this.miterLimit,cap:this.Pd.getStrokeCap(),join:this.Pd.getStrokeJoin(),precision:.3}),ee=ce.contains(C,N),ce.delete(),ee)},this.lineTo=function(C,N){fe(this.Rd,C,N)},this.measureText=function(C){C=this.ne.getGlyphIDs(C),C=this.ne.getGlyphWidths(C);let N=0;for(const ee of C)N+=ee;return{width:N}},this.moveTo=function(C,N){var ee=this.Rd;y([C,N])&&ee.moveTo(C,N)},this.putImageData=function(C,N,ee,ce,ye,xe,De){if(y([N,ee,ce,ye,xe,De])){if(ce===void 0)this.Md.writePixels(C.data,C.width,C.height,N,ee);else if(ce=ce||0,ye=ye||0,xe=xe||C.width,De=De||C.height,0>xe&&(ce+=xe,xe=Math.abs(xe)),0>De&&(ye+=De,De=Math.abs(De)),0>ce&&(xe+=ce,ce=0),0>ye&&(De+=ye,ye=0),!(0>=xe||0>=De)){C=a.MakeImage({width:C.width,height:C.height,alphaType:a.AlphaType.Unpremul,colorType:a.ColorType.RGBA_8888,colorSpace:a.ColorSpace.SRGB},C.data,4*C.width);var Lt=a.XYWHRect(ce,ye,xe,De);N=a.XYWHRect(N+ce,ee+ye,xe,De),ee=a.Matrix.invert(this.Ud),this.Md.save(),this.Md.concat(ee),this.Md.drawImageRect(C,Lt,N,null,!1),this.Md.restore(),C.delete()}}},this.quadraticCurveTo=function(C,N,ee,ce){var ye=this.Rd;y([C,N,ee,ce])&&(ye.isEmpty()&&ye.moveTo(C,N),ye.quadTo(C,N,ee,ce))},this.rect=function(C,N,ee,ce){var ye=this.Rd;C=a.XYWHRect(C,N,ee,ce),y(C)&&ye.addRect(C)},this.resetTransform=function(){this.Rd.transform(this.Ud);var C=a.Matrix.invert(this.Ud);this.Md.concat(C),this.Ud=this.Md.getTotalMatrix()},this.restore=function(){var C=this.mf.pop();if(C){var N=a.Matrix.multiply(this.Ud,a.Matrix.invert(C.Kf));this.Rd.transform(N),this.Pd.delete(),this.Pd=C.bg,this.ve=C.$f,this.Le=C.ng,this.he=C.mg,this.be=C.fs,this.xe=C.kg,this.ye=C.lg,this.we=C.sb,this.Ke=C.jg,this.je=C.ga,this.Od=C.Rf,this.Je=C.ag,this.Se=C.Qf,this.Md.restore(),this.Ud=this.Md.getTotalMatrix()}},this.rotate=function(C){if(isFinite(C)){var N=a.Matrix.rotated(-C);this.Rd.transform(N),this.Md.rotate(C/Math.PI*180,0,0),this.Ud=this.Md.getTotalMatrix()}},this.save=function(){if(this.be.te){var C=this.be.te();this.Ce.push(C)}else C=this.be;if(this.he.te){var N=this.he.te();this.Ce.push(N)}else N=this.he;this.mf.push({Kf:this.Ud.slice(),$f:this.ve.slice(),ng:this.Le,mg:N,fs:C,kg:this.xe,lg:this.ye,sb:this.we,jg:this.Ke,ga:this.je,ag:this.Je,Rf:this.Od,bg:this.Pd.copy(),Qf:this.Se}),this.Md.save()},this.scale=function(C,N){if(y(arguments)){var ee=a.Matrix.scaled(1/C,1/N);this.Rd.transform(ee),this.Md.scale(C,N),this.Ud=this.Md.getTotalMatrix()}},this.setLineDash=function(C){for(var N=0;N<C.length;N++)if(!isFinite(C[N])||0>C[N])return;C.length%2===1&&Array.prototype.push.apply(C,C),this.ve=C},this.setTransform=function(C,N,ee,ce,ye,xe){y(arguments)&&(this.resetTransform(),this.transform(C,N,ee,ce,ye,xe))},this.se=function(){var C=a.Matrix.invert(this.Ud);this.Md.concat(C),this.Md.concat(a.Matrix.translated(this.xe,this.ye)),this.Md.concat(this.Ud)},this.ze=function(C){var N=a.multiplyByAlpha(this.Ke,this.je);if(!a.getColorComponents(N)[3]||!(this.we||this.ye||this.xe))return null;C=C.copy(),C.setColor(N);var ee=a.MaskFilter.MakeBlur(a.BlurStyle.Normal,this.we/2,!1);return C.setMaskFilter(ee),C.dispose=function(){ee.delete(),this.delete()},C},this.df=function(){var C=this.Pd.copy();if(C.setStyle(a.PaintStyle.Stroke),v(this.he)){var N=a.multiplyByAlpha(this.he,this.je);C.setColor(N)}else N=this.he.ue(this.Ud),C.setColor(a.Color(0,0,0,this.je)),C.setShader(N);if(C.setStrokeWidth(this.Le),this.ve.length){var ee=a.PathEffect.MakeDash(this.ve,this.Je);C.setPathEffect(ee)}return C.dispose=function(){ee&&ee.delete(),this.delete()},C},this.stroke=function(C){C=C?C.Vd:this.Rd;var N=this.df(),ee=this.ze(N);ee&&(this.Md.save(),this.se(),this.Md.drawPath(C,ee),this.Md.restore(),ee.dispose()),this.Md.drawPath(C,N),N.dispose()},this.strokeRect=function(C,N,ee,ce){var ye=this.df(),xe=this.ze(ye);xe&&(this.Md.save(),this.se(),this.Md.drawRect(a.XYWHRect(C,N,ee,ce),xe),this.Md.restore(),xe.dispose()),this.Md.drawRect(a.XYWHRect(C,N,ee,ce),ye),ye.dispose()},this.strokeText=function(C,N,ee){var ce=this.df();C=a.TextBlob.MakeFromText(C,this.ne);var ye=this.ze(ce);ye&&(this.Md.save(),this.se(),this.Md.drawTextBlob(C,N,ee,ye),this.Md.restore(),ye.dispose()),this.Md.drawTextBlob(C,N,ee,ce),C.delete(),ce.dispose()},this.translate=function(C,N){if(y(arguments)){var ee=a.Matrix.translated(-C,-N);this.Rd.transform(ee),this.Md.translate(C,N),this.Ud=this.Md.getTotalMatrix()}},this.transform=function(C,N,ee,ce,ye,xe){C=[C,ee,ye,N,ce,xe,0,0,1],N=a.Matrix.invert(C),this.Rd.transform(N),this.Md.concat(C),this.Ud=this.Md.getTotalMatrix()},this.addHitRegion=function(){},this.clearHitRegions=function(){},this.drawFocusIfNeeded=function(){},this.removeHitRegion=function(){},this.scrollPathIntoView=function(){},Object.defineProperty(this,"canvas",{value:null,writable:!1})}function j(we){this.ef=we,this.Ld=new D(we.getCanvas()),this.Te=[],this.decodeImage=function(C){if(C=a.MakeImageFromEncoded(C),!C)throw"Invalid input";return this.Te.push(C),new ue(C)},this.loadFont=function(C,N){if(C=a.Typeface.MakeFreeTypeFaceFromData(C),!C)return null;this.Te.push(C);var ee=(N.style||"normal")+"|"+(N.variant||"normal")+"|"+(N.weight||"normal");N=N.family,cn[N]||(cn[N]={"*":C}),cn[N][ee]=C},this.makePath2D=function(C){return C=new st(C),this.Te.push(C.Vd),C},this.getContext=function(C){return C==="2d"?this.Ld:null},this.toDataURL=function(C,N){this.ef.flush();var ee=this.ef.makeImageSnapshot();if(ee){C=C||"image/png";var ce=a.ImageFormat.PNG;if(C==="image/jpeg"&&(ce=a.ImageFormat.JPEG),N=ee.encodeToBytes(ce,N||.92)){if(ee.delete(),C="data:"+C+";base64,",typeof Buffer<"u")N=Buffer.from(N).toString("base64");else{ee=0,ce=N.length;for(var ye="",xe;ee<ce;)xe=N.slice(ee,Math.min(ee+32768,ce)),ye+=String.fromCharCode.apply(null,xe),ee+=32768;N=btoa(ye)}return C+N}}},this.dispose=function(){this.Ld.me(),this.Te.forEach(function(C){C.delete()}),this.ef.dispose()}}function ue(we){this.width=we.width(),this.height=we.height(),this.naturalWidth=this.width,this.naturalHeight=this.height,this.uf=function(){return we}}function Ce(we,C,N){if(!C||N===0)throw"invalid dimensions, width and height must be non-zero";if(we.length%4)throw"arr must be a multiple of 4";N=N||we.length/(4*C),Object.defineProperty(this,"data",{value:we,writable:!1}),Object.defineProperty(this,"height",{value:N,writable:!1}),Object.defineProperty(this,"width",{value:C,writable:!1})}function He(we,C,N,ee){this.Xd=null,this.de=[],this.$d=[],this.addColorStop=function(ce,ye){if(0>ce||1<ce||!isFinite(ce))throw"offset must be between 0 and 1 inclusively";ye=x(ye);var xe=this.$d.indexOf(ce);if(xe!==-1)this.de[xe]=ye;else{for(xe=0;xe<this.$d.length&&!(this.$d[xe]>ce);xe++);this.$d.splice(xe,0,ce),this.de.splice(xe,0,ye)}},this.te=function(){var ce=new He(we,C,N,ee);return ce.de=this.de.slice(),ce.$d=this.$d.slice(),ce},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(ce){var ye=[we,C,N,ee];a.Matrix.mapPoints(ce,ye),ce=ye[0];var xe=ye[1],De=ye[2];return ye=ye[3],this.me(),this.Xd=a.Shader.MakeLinearGradient([ce,xe],[De,ye],this.de,this.$d,a.TileMode.Clamp)}}function je(we,C,N,ee,ce,ye){if(y([C,N,ee,ce,ye])){if(0>ye)throw"radii cannot be negative";we.isEmpty()&&we.moveTo(C,N),we.arcToTangent(C,N,ee,ce,ye)}}function pt(we){if(!we.isEmpty()){var C=we.getBounds();(C[3]-C[1]||C[2]-C[0])&&we.close()}}function dt(we,C,N,ee,ce,ye,xe){xe=(xe-ye)/Math.PI*180,ye=ye/Math.PI*180,C=a.LTRBRect(C-ee,N-ce,C+ee,N+ce),1e-5>Math.abs(Math.abs(xe)-360)?(N=xe/2,we.arcToOval(C,ye,N,!1),we.arcToOval(C,ye+N,N,!1)):we.arcToOval(C,ye,xe,!1)}function B(we,C,N,ee,ce,ye,xe,De,Lt){if(y([C,N,ee,ce,ye,xe,De])){if(0>ee||0>ce)throw"radii cannot be negative";var It=2*Math.PI,Tr=xe%It;0>Tr&&(Tr+=It);var lo=Tr-xe;xe=Tr,De+=lo,!Lt&&De-xe>=It?De=xe+It:Lt&&xe-De>=It?De=xe-It:!Lt&&xe>De?De=xe+(It-(xe-De)%It):Lt&&xe<De&&(De=xe-(It-(De-xe)%It)),ye?(Lt=a.Matrix.rotated(ye,C,N),ye=a.Matrix.rotated(-ye,C,N),we.transform(ye),dt(we,C,N,ee,ce,xe,De),we.transform(Lt)):dt(we,C,N,ee,ce,xe,De)}}function fe(we,C,N){y([C,N])&&(we.isEmpty()&&we.moveTo(C,N),we.lineTo(C,N))}function st(we){this.Vd=null,this.Vd=typeof we=="string"?a.Path.MakeFromSVGString(we):we&&we.bf?we.Vd.copy():new a.Path,this.bf=function(){return this.Vd},this.addPath=function(C,N){N||(N={a:1,c:0,e:0,b:0,d:1,f:0}),this.Vd.addPath(C.Vd,[N.a,N.c,N.e,N.b,N.d,N.f])},this.arc=function(C,N,ee,ce,ye,xe){B(this.Vd,C,N,ee,ee,0,ce,ye,xe)},this.arcTo=function(C,N,ee,ce,ye){je(this.Vd,C,N,ee,ce,ye)},this.bezierCurveTo=function(C,N,ee,ce,ye,xe){var De=this.Vd;y([C,N,ee,ce,ye,xe])&&(De.isEmpty()&&De.moveTo(C,N),De.cubicTo(C,N,ee,ce,ye,xe))},this.closePath=function(){pt(this.Vd)},this.ellipse=function(C,N,ee,ce,ye,xe,De,Lt){B(this.Vd,C,N,ee,ce,ye,xe,De,Lt)},this.lineTo=function(C,N){fe(this.Vd,C,N)},this.moveTo=function(C,N){var ee=this.Vd;y([C,N])&&ee.moveTo(C,N)},this.quadraticCurveTo=function(C,N,ee,ce){var ye=this.Vd;y([C,N,ee,ce])&&(ye.isEmpty()&&ye.moveTo(C,N),ye.quadTo(C,N,ee,ce))},this.rect=function(C,N,ee,ce){var ye=this.Vd;C=a.XYWHRect(C,N,ee,ce),y(C)&&ye.addRect(C)}}function Tt(we,C){switch(this.Xd=null,we instanceof ue&&(we=we.uf()),this.Ff=we,this._transform=a.Matrix.identity(),C===""&&(C="repeat"),C){case"repeat-x":this.Ae=a.TileMode.Repeat,this.Be=a.TileMode.Decal;break;case"repeat-y":this.Ae=a.TileMode.Decal,this.Be=a.TileMode.Repeat;break;case"repeat":this.Be=this.Ae=a.TileMode.Repeat;break;case"no-repeat":this.Be=this.Ae=a.TileMode.Decal;break;default:throw"invalid repetition mode "+C}this.setTransform=function(N){N=[N.a,N.c,N.e,N.b,N.d,N.f,0,0,1],y(N)&&(this._transform=N)},this.te=function(){var N=new Tt;return N.Ae=this.Ae,N.Be=this.Be,N},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(){return this.me(),this.Xd=this.Ff.makeShaderCubic(this.Ae,this.Be,1/3,1/3,this._transform)}}function Qt(we,C,N,ee,ce,ye){this.Xd=null,this.de=[],this.$d=[],this.addColorStop=function(xe,De){if(0>xe||1<xe||!isFinite(xe))throw"offset must be between 0 and 1 inclusively";De=x(De);var Lt=this.$d.indexOf(xe);if(Lt!==-1)this.de[Lt]=De;else{for(Lt=0;Lt<this.$d.length&&!(this.$d[Lt]>xe);Lt++);this.$d.splice(Lt,0,xe),this.de.splice(Lt,0,De)}},this.te=function(){var xe=new Qt(we,C,N,ee,ce,ye);return xe.de=this.de.slice(),xe.$d=this.$d.slice(),xe},this.me=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.ue=function(xe){var De=[we,C,ee,ce];a.Matrix.mapPoints(xe,De);var Lt=De[0],It=De[1],Tr=De[2];De=De[3];var lo=(Math.abs(xe[0])+Math.abs(xe[4]))/2;return xe=N*lo,lo*=ye,this.me(),this.Xd=a.Shader.MakeTwoPointConicalGradient([Lt,It],xe,[Tr,De],lo,this.de,this.$d,a.TileMode.Clamp)}}a._testing={};var Zn={aliceblue:Float32Array.of(.941,.973,1,1),antiquewhite:Float32Array.of(.98,.922,.843,1),aqua:Float32Array.of(0,1,1,1),aquamarine:Float32Array.of(.498,1,.831,1),azure:Float32Array.of(.941,1,1,1),beige:Float32Array.of(.961,.961,.863,1),bisque:Float32Array.of(1,.894,.769,1),black:Float32Array.of(0,0,0,1),blanchedalmond:Float32Array.of(1,.922,.804,1),blue:Float32Array.of(0,0,1,1),blueviolet:Float32Array.of(.541,.169,.886,1),brown:Float32Array.of(.647,.165,.165,1),burlywood:Float32Array.of(.871,.722,.529,1),cadetblue:Float32Array.of(.373,.62,.627,1),chartreuse:Float32Array.of(.498,1,0,1),chocolate:Float32Array.of(.824,.412,.118,1),coral:Float32Array.of(1,.498,.314,1),cornflowerblue:Float32Array.of(.392,.584,.929,1),cornsilk:Float32Array.of(1,.973,.863,1),crimson:Float32Array.of(.863,.078,.235,1),cyan:Float32Array.of(0,1,1,1),darkblue:Float32Array.of(0,0,.545,1),darkcyan:Float32Array.of(0,.545,.545,1),darkgoldenrod:Float32Array.of(.722,.525,.043,1),darkgray:Float32Array.of(.663,.663,.663,1),darkgreen:Float32Array.of(0,.392,0,1),darkgrey:Float32Array.of(.663,.663,.663,1),darkkhaki:Float32Array.of(.741,.718,.42,1),darkmagenta:Float32Array.of(.545,0,.545,1),darkolivegreen:Float32Array.of(.333,.42,.184,1),darkorange:Float32Array.of(1,.549,0,1),darkorchid:Float32Array.of(.6,.196,.8,1),darkred:Float32Array.of(.545,0,0,1),darksalmon:Float32Array.of(.914,.588,.478,1),darkseagreen:Float32Array.of(.561,.737,.561,1),darkslateblue:Float32Array.of(.282,.239,.545,1),darkslategray:Float32Array.of(.184,.31,.31,1),darkslategrey:Float32Array.of(.184,.31,.31,1),darkturquoise:Float32Array.of(0,.808,.82,1),darkviolet:Float32Array.of(.58,0,.827,1),deeppink:Float32Array.of(1,.078,.576,1),deepskyblue:Float32Array.of(0,.749,1,1),dimgray:Float32Array.of(.412,.412,.412,1),dimgrey:Float32Array.of(.412,.412,.412,1),dodgerblue:Float32Array.of(.118,.565,1,1),firebrick:Float32Array.of(.698,.133,.133,1),floralwhite:Float32Array.of(1,.98,.941,1),forestgreen:Float32Array.of(.133,.545,.133,1),fuchsia:Float32Array.of(1,0,1,1),gainsboro:Float32Array.of(.863,.863,.863,1),ghostwhite:Float32Array.of(.973,.973,1,1),gold:Float32Array.of(1,.843,0,1),goldenrod:Float32Array.of(.855,.647,.125,1),gray:Float32Array.of(.502,.502,.502,1),green:Float32Array.of(0,.502,0,1),greenyellow:Float32Array.of(.678,1,.184,1),grey:Float32Array.of(.502,.502,.502,1),honeydew:Float32Array.of(.941,1,.941,1),hotpink:Float32Array.of(1,.412,.706,1),indianred:Float32Array.of(.804,.361,.361,1),indigo:Float32Array.of(.294,0,.51,1),ivory:Float32Array.of(1,1,.941,1),khaki:Float32Array.of(.941,.902,.549,1),lavender:Float32Array.of(.902,.902,.98,1),lavenderblush:Float32Array.of(1,.941,.961,1),lawngreen:Float32Array.of(.486,.988,0,1),lemonchiffon:Float32Array.of(1,.98,.804,1),lightblue:Float32Array.of(.678,.847,.902,1),lightcoral:Float32Array.of(.941,.502,.502,1),lightcyan:Float32Array.of(.878,1,1,1),lightgoldenrodyellow:Float32Array.of(.98,.98,.824,1),lightgray:Float32Array.of(.827,.827,.827,1),lightgreen:Float32Array.of(.565,.933,.565,1),lightgrey:Float32Array.of(.827,.827,.827,1),lightpink:Float32Array.of(1,.714,.757,1),lightsalmon:Float32Array.of(1,.627,.478,1),lightseagreen:Float32Array.of(.125,.698,.667,1),lightskyblue:Float32Array.of(.529,.808,.98,1),lightslategray:Float32Array.of(.467,.533,.6,1),lightslategrey:Float32Array.of(.467,.533,.6,1),lightsteelblue:Float32Array.of(.69,.769,.871,1),lightyellow:Float32Array.of(1,1,.878,1),lime:Float32Array.of(0,1,0,1),limegreen:Float32Array.of(.196,.804,.196,1),linen:Float32Array.of(.98,.941,.902,1),magenta:Float32Array.of(1,0,1,1),maroon:Float32Array.of(.502,0,0,1),mediumaquamarine:Float32Array.of(.4,.804,.667,1),mediumblue:Float32Array.of(0,0,.804,1),mediumorchid:Float32Array.of(.729,.333,.827,1),mediumpurple:Float32Array.of(.576,.439,.859,1),mediumseagreen:Float32Array.of(.235,.702,.443,1),mediumslateblue:Float32Array.of(.482,.408,.933,1),mediumspringgreen:Float32Array.of(0,.98,.604,1),mediumturquoise:Float32Array.of(.282,.82,.8,1),mediumvioletred:Float32Array.of(.78,.082,.522,1),midnightblue:Float32Array.of(.098,.098,.439,1),mintcream:Float32Array.of(.961,1,.98,1),mistyrose:Float32Array.of(1,.894,.882,1),moccasin:Float32Array.of(1,.894,.71,1),navajowhite:Float32Array.of(1,.871,.678,1),navy:Float32Array.of(0,0,.502,1),oldlace:Float32Array.of(.992,.961,.902,1),olive:Float32Array.of(.502,.502,0,1),olivedrab:Float32Array.of(.42,.557,.137,1),orange:Float32Array.of(1,.647,0,1),orangered:Float32Array.of(1,.271,0,1),orchid:Float32Array.of(.855,.439,.839,1),palegoldenrod:Float32Array.of(.933,.91,.667,1),palegreen:Float32Array.of(.596,.984,.596,1),paleturquoise:Float32Array.of(.686,.933,.933,1),palevioletred:Float32Array.of(.859,.439,.576,1),papayawhip:Float32Array.of(1,.937,.835,1),peachpuff:Float32Array.of(1,.855,.725,1),peru:Float32Array.of(.804,.522,.247,1),pink:Float32Array.of(1,.753,.796,1),plum:Float32Array.of(.867,.627,.867,1),powderblue:Float32Array.of(.69,.878,.902,1),purple:Float32Array.of(.502,0,.502,1),rebeccapurple:Float32Array.of(.4,.2,.6,1),red:Float32Array.of(1,0,0,1),rosybrown:Float32Array.of(.737,.561,.561,1),royalblue:Float32Array.of(.255,.412,.882,1),saddlebrown:Float32Array.of(.545,.271,.075,1),salmon:Float32Array.of(.98,.502,.447,1),sandybrown:Float32Array.of(.957,.643,.376,1),seagreen:Float32Array.of(.18,.545,.341,1),seashell:Float32Array.of(1,.961,.933,1),sienna:Float32Array.of(.627,.322,.176,1),silver:Float32Array.of(.753,.753,.753,1),skyblue:Float32Array.of(.529,.808,.922,1),slateblue:Float32Array.of(.416,.353,.804,1),slategray:Float32Array.of(.439,.502,.565,1),slategrey:Float32Array.of(.439,.502,.565,1),snow:Float32Array.of(1,.98,.98,1),springgreen:Float32Array.of(0,1,.498,1),steelblue:Float32Array.of(.275,.51,.706,1),tan:Float32Array.of(.824,.706,.549,1),teal:Float32Array.of(0,.502,.502,1),thistle:Float32Array.of(.847,.749,.847,1),tomato:Float32Array.of(1,.388,.278,1),transparent:Float32Array.of(0,0,0,0),turquoise:Float32Array.of(.251,.878,.816,1),violet:Float32Array.of(.933,.51,.933,1),wheat:Float32Array.of(.961,.871,.702,1),white:Float32Array.of(1,1,1,1),whitesmoke:Float32Array.of(.961,.961,.961,1),yellow:Float32Array.of(1,1,0,1),yellowgreen:Float32Array.of(.604,.804,.196,1)};a._testing.parseColor=x,a._testing.colorToString=p;var er=RegExp("(italic|oblique|normal|)\\s*(small-caps|normal|)\\s*(bold|bolder|lighter|[1-9]00|normal|)\\s*([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q)(.+)"),cn={"Noto Mono":{"*":null},monospace:{"*":null}};a._testing.parseFontString=T,a.MakeCanvas=function(we,C){return(we=a.MakeSurface(we,C))?new j(we):null},a.ImageData=function(){if(arguments.length===2){var we=arguments[0],C=arguments[1];return new Ce(new Uint8ClampedArray(4*we*C),we,C)}if(arguments.length===3){var N=arguments[0];if(N.prototype.constructor!==Uint8ClampedArray)throw"bytes must be given as a Uint8ClampedArray";if(we=arguments[1],C=arguments[2],N%4)throw"bytes must be given in a multiple of 4";if(N%we)throw"bytes must divide evenly by width";if(C&&C!==N/(4*we))throw"invalid height given";return new Ce(N,we,N/(4*we))}throw"invalid number of arguments - takes 2 or 3, saw "+arguments.length}}()}(n);var u=Object.assign({},n),c="./this.program",l=(a,f)=>{throw f},h=typeof window=="object",g=typeof importScripts=="function",b=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",S="",E,L,P;b?(S=g?Fa.dirname(S)+"/":__dirname+"/",E=(a,f)=>(a=a.startsWith("file://")?new URL(a):Fa.normalize(a),fs.readFileSync(a,f?void 0:"utf8")),P=a=>(a=E(a,!0),a.buffer||(a=new Uint8Array(a)),a),L=(a,f,m,v=!0)=>{a=a.startsWith("file://")?new URL(a):Fa.normalize(a),fs.readFile(a,v?void 0:"utf8",(A,I)=>{A?m(A):f(v?I.buffer:I)})},!n.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),l=(a,f)=>{throw process.exitCode=a,f},n.inspect=()=>"[Emscripten Module object]"):(h||g)&&(g?S=self.location.href:typeof document<"u"&&document.currentScript&&(S=document.currentScript.src),t&&(S=t),S.indexOf("blob:")!==0?S=S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):S="",E=a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.send(null),f.responseText},g&&(P=a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),L=(a,f,m)=>{var v=new XMLHttpRequest;v.open("GET",a,!0),v.responseType="arraybuffer",v.onload=()=>{v.status==200||v.status==0&&v.response?f(v.response):m()},v.onerror=m,v.send(null)});var O=n.print||console.log.bind(console),$=n.printErr||console.error.bind(console);Object.assign(n,u),u=null,n.thisProgram&&(c=n.thisProgram),n.quit&&(l=n.quit);var H;n.wasmBinary&&(H=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&Ee("no native wasm support detected");var X,W,te=!1,oe,re,he,Ae,J,pe,ae,Ie;function Fe(){var a=X.buffer;n.HEAP8=oe=new Int8Array(a),n.HEAP16=he=new Int16Array(a),n.HEAP32=J=new Int32Array(a),n.HEAPU8=re=new Uint8Array(a),n.HEAPU16=Ae=new Uint16Array(a),n.HEAPU32=pe=new Uint32Array(a),n.HEAPF32=ae=new Float32Array(a),n.HEAPF64=Ie=new Float64Array(a)}var _e,Xe=[],se=[],ne=[];function de(){var a=n.preRun.shift();Xe.unshift(a)}var Te=0,ke=null;function Ee(a){throw n.onAbort&&n.onAbort(a),a="Aborted("+a+")",$(a),te=!0,a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info."),o(a),a}function Re(a){return a.startsWith("data:application/octet-stream;base64,")}var ot;if(ot="canvaskit.wasm",!Re(ot)){var it=ot;ot=n.locateFile?n.locateFile(it,S):S+it}function Ke(a){if(a==ot&&H)return new Uint8Array(H);if(P)return P(a);throw"both async and sync fetching of the wasm failed"}function yt(a){if(!H&&(h||g)){if(typeof fetch=="function"&&!a.startsWith("file://"))return fetch(a,{credentials:"same-origin"}).then(f=>{if(!f.ok)throw"failed to load wasm binary file at '"+a+"'";return f.arrayBuffer()}).catch(()=>Ke(a));if(L)return new Promise((f,m)=>{L(a,v=>f(new Uint8Array(v)),m)})}return Promise.resolve().then(()=>Ke(a))}function Nt(a,f,m){return yt(a).then(v=>WebAssembly.instantiate(v,f)).then(v=>v).then(m,v=>{$("failed to asynchronously prepare wasm: "+v),Ee(v)})}function In(a,f){var m=ot;return H||typeof WebAssembly.instantiateStreaming!="function"||Re(m)||m.startsWith("file://")||b||typeof fetch!="function"?Nt(m,a,f):fetch(m,{credentials:"same-origin"}).then(v=>WebAssembly.instantiateStreaming(v,a).then(f,function(A){return $("wasm streaming compile failed: "+A),$("falling back to ArrayBuffer instantiation"),Nt(m,a,f)}))}function an(a){this.name="ExitStatus",this.message=`Program terminated with exit(${a})`,this.status=a}var pn=a=>{for(;0<a.length;)a.shift()(n)},Un=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ut=(a,f,m)=>{var v=f+m;for(m=f;a[m]&&!(m>=v);)++m;if(16<m-f&&a.buffer&&Un)return Un.decode(a.subarray(f,m));for(v="";f<m;){var A=a[f++];if(A&128){var I=a[f++]&63;if((A&224)==192)v+=String.fromCharCode((A&31)<<6|I);else{var U=a[f++]&63;A=(A&240)==224?(A&15)<<12|I<<6|U:(A&7)<<18|I<<12|U<<6|a[f++]&63,65536>A?v+=String.fromCharCode(A):(A-=65536,v+=String.fromCharCode(55296|A>>10,56320|A&1023))}}else v+=String.fromCharCode(A)}return v},wn={};function Wt(a){for(;a.length;){var f=a.pop();a.pop()(f)}}function En(a){return this.fromWireType(J[a>>2])}var Zt={},jt={},Wn={},yr=void 0;function gn(a){throw new yr(a)}function at(a,f,m){function v(R){R=m(R),R.length!==a.length&&gn("Mismatched type converter count");for(var F=0;F<a.length;++F)bn(a[F],R[F])}a.forEach(function(R){Wn[R]=f});var A=Array(f.length),I=[],U=0;f.forEach((R,F)=>{jt.hasOwnProperty(R)?A[F]=jt[R]:(I.push(R),Zt.hasOwnProperty(R)||(Zt[R]=[]),Zt[R].push(()=>{A[F]=jt[R],++U,U===I.length&&v(A)}))}),I.length===0&&v(A)}function _t(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${a}`)}}var en=void 0;function St(a){for(var f="";re[a];)f+=en[re[a++]];return f}var Dt=void 0;function vt(a){throw new Dt(a)}function vi(a,f,m={}){var v=f.name;if(a||vt(`type "${v}" must have a positive integer typeid pointer`),jt.hasOwnProperty(a)){if(m.Xf)return;vt(`Cannot register type '${v}' twice`)}jt[a]=f,delete Wn[a],Zt.hasOwnProperty(a)&&(f=Zt[a],delete Zt[a],f.forEach(A=>A()))}function bn(a,f,m={}){if(!("argPackAdvance"in f))throw new TypeError("registerType registeredInstance requires argPackAdvance");vi(a,f,m)}function wi(a){vt(a.Kd.Wd.Qd.name+" instance already deleted")}var bi=!1;function Yi(){}function Ki(a){--a.count.value,a.count.value===0&&(a.Zd?a.fe.le(a.Zd):a.Wd.Qd.le(a.Sd))}function Qi(a,f,m){return f===m?a:m.ae===void 0?null:(a=Qi(a,f,m.ae),a===null?null:m.Nf(a))}var qi={},Wr=[];function Si(){for(;Wr.length;){var a=Wr.pop();a.Kd.Fe=!1,a.delete()}}var Hr=void 0,xi={};function Ia(a,f){for(f===void 0&&vt("ptr should not be undefined");a.ae;)f=a.Pe(f),a=a.ae;return xi[f]}function Ji(a,f){return f.Wd&&f.Sd||gn("makeClassHandle requires ptr and ptrType"),!!f.fe!=!!f.Zd&&gn("Both smartPtrType and smartPtr must be specified"),f.count={value:1},ni(Object.create(a,{Kd:{value:f}}))}function ni(a){return typeof FinalizationRegistry>"u"?(ni=f=>f,a):(bi=new FinalizationRegistry(f=>{Ki(f.Kd)}),ni=f=>{var m=f.Kd;return m.Zd&&bi.register(f,{Kd:m},f),f},Yi=f=>{bi.unregister(f)},ni(a))}function vr(){}function Qo(a){if(a===void 0)return"_unknown";a=a.replace(/[^a-zA-Z0-9_]/g,"$");var f=a.charCodeAt(0);return 48<=f&&57>=f?`_${a}`:a}function Zi(a,f){return a=Qo(a),{[a]:function(){return f.apply(this,arguments)}}[a]}function ri(a,f,m){if(a[f].Yd===void 0){var v=a[f];a[f]=function(){return a[f].Yd.hasOwnProperty(arguments.length)||vt(`Function '${m}' called with an invalid number of arguments (${arguments.length}) - expects one of (${a[f].Yd})!`),a[f].Yd[arguments.length].apply(this,arguments)},a[f].Yd=[],a[f].Yd[v.De]=v}}function ii(a,f,m){n.hasOwnProperty(a)?((m===void 0||n[a].Yd!==void 0&&n[a].Yd[m]!==void 0)&&vt(`Cannot register public name '${a}' twice`),ri(n,a,a),n.hasOwnProperty(m)&&vt(`Cannot register multiple overloads of a function with the same number of arguments (${m})!`),n[a].Yd[m]=f):(n[a]=f,m!==void 0&&(n[a].xg=m))}function eo(a,f,m,v,A,I,U,R){this.name=a,this.constructor=f,this.Ge=m,this.le=v,this.ae=A,this.Sf=I,this.Pe=U,this.Nf=R,this.dg=[]}function Ei(a,f,m){for(;f!==m;)f.Pe||vt(`Expected null or instance of ${m.name}, got an instance of ${f.name}`),a=f.Pe(a),f=f.ae;return a}function oi(a,f){return f===null?(this.hf&&vt(`null is not a valid ${this.name}`),0):(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),Ei(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd))}function ai(a,f){if(f===null){if(this.hf&&vt(`null is not a valid ${this.name}`),this.We){var m=this.jf();return a!==null&&a.push(this.le,m),m}return 0}if(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.Ve&&f.Kd.Wd.Ve&&vt(`Cannot convert argument of type ${f.Kd.fe?f.Kd.fe.name:f.Kd.Wd.name} to parameter type ${this.name}`),m=Ei(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd),this.We)switch(f.Kd.Zd===void 0&&vt("Passing raw pointer to smart pointer is illegal"),this.ig){case 0:f.Kd.fe===this?m=f.Kd.Zd:vt(`Cannot convert argument of type ${f.Kd.fe?f.Kd.fe.name:f.Kd.Wd.name} to parameter type ${this.name}`);break;case 1:m=f.Kd.Zd;break;case 2:if(f.Kd.fe===this)m=f.Kd.Zd;else{var v=f.clone();m=this.eg(m,Hn(function(){v.delete()})),a!==null&&a.push(this.le,m)}break;default:vt("Unsupporting sharing policy")}return m}function to(a,f){return f===null?(this.hf&&vt(`null is not a valid ${this.name}`),0):(f.Kd||vt(`Cannot pass "${Qn(f)}" as a ${this.name}`),f.Kd.Sd||vt(`Cannot pass deleted object as a pointer of type ${this.name}`),f.Kd.Wd.Ve&&vt(`Cannot convert argument of type ${f.Kd.Wd.name} to parameter type ${this.name}`),Ei(f.Kd.Sd,f.Kd.Wd.Qd,this.Qd))}function ar(a,f,m,v,A,I,U,R,F,z,ge){this.name=a,this.Qd=f,this.hf=m,this.Ve=v,this.We=A,this.cg=I,this.ig=U,this.wf=R,this.jf=F,this.eg=z,this.le=ge,A||f.ae!==void 0?this.toWireType=ai:(this.toWireType=v?oi:to,this.ee=null)}function Yt(a,f,m){n.hasOwnProperty(a)||gn("Replacing nonexistant public symbol"),n[a].Yd!==void 0&&m!==void 0?n[a].Yd[m]=f:(n[a]=f,n[a].De=m)}var qo=(a,f)=>{var m=[];return function(){if(m.length=0,Object.assign(m,arguments),a.includes("j")){var v=n["dynCall_"+a];v=m&&m.length?v.apply(null,[f].concat(m)):v.call(null,f)}else v=_e.get(f).apply(null,m);return v}};function mn(a,f){a=St(a);var m=a.includes("j")?qo(a,f):_e.get(f);return typeof m!="function"&&vt(`unknown function pointer with signature ${a}: ${f}`),m}var Kt=void 0;function tn(a){a=Ha(a);var f=St(a);return jr(a),f}function An(a,f){function m(I){A[I]||jt[I]||(Wn[I]?Wn[I].forEach(m):(v.push(I),A[I]=!0))}var v=[],A={};throw f.forEach(m),new Kt(`${a}: `+v.map(tn).join([", "]))}function kn(a,f,m,v,A){var I=f.length;2>I&&vt("argTypes array size mismatch! Must at least get return value and 'this' types!");var U=f[1]!==null&&m!==null,R=!1;for(m=1;m<f.length;++m)if(f[m]!==null&&f[m].ee===void 0){R=!0;break}var F=f[0].name!=="void",z=I-2,ge=Array(z),be=[],Ge=[];return function(){if(arguments.length!==z&&vt(`function ${a} called with ${arguments.length} arguments, expected ${z} args!`),Ge.length=0,be.length=U?2:1,be[0]=A,U){var Z=f[1].toWireType(Ge,this);be[1]=Z}for(var We=0;We<z;++We)ge[We]=f[We+2].toWireType(Ge,arguments[We]),be.push(ge[We]);if(We=v.apply(null,be),R)Wt(Ge);else for(var tt=U?1:2;tt<f.length;tt++){var rt=tt===1?Z:ge[tt-2];f[tt].ee!==null&&f[tt].ee(rt)}return Z=F?f[0].fromWireType(We):void 0,Z}}function zr(a,f){for(var m=[],v=0;v<a;v++)m.push(pe[f+4*v>>2]);return m}function Jo(){this.ke=[void 0],this.tf=[]}var Cn=new Jo;function Ai(a){a>=Cn.He&&--Cn.get(a).xf===0&&Cn.Cf(a)}var Rn=a=>(a||vt("Cannot use deleted val. handle = "+a),Cn.get(a).value),Hn=a=>{switch(a){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Cn.Bf({xf:1,value:a})}};function ka(a,f,m){switch(f){case 0:return function(v){return this.fromWireType((m?oe:re)[v])};case 1:return function(v){return this.fromWireType((m?he:Ae)[v>>1])};case 2:return function(v){return this.fromWireType((m?J:pe)[v>>2])};default:throw new TypeError("Unknown integer type: "+a)}}function Ci(a,f){var m=jt[a];return m===void 0&&vt(f+" has unknown type "+tn(a)),m}function Qn(a){if(a===null)return"null";var f=typeof a;return f==="object"||f==="array"||f==="function"?a.toString():""+a}function Zo(a,f){switch(f){case 2:return function(m){return this.fromWireType(ae[m>>2])};case 3:return function(m){return this.fromWireType(Ie[m>>3])};default:throw new TypeError("Unknown float type: "+a)}}function Xc(a,f,m){switch(f){case 0:return m?function(v){return oe[v]}:function(v){return re[v]};case 1:return m?function(v){return he[v>>1]}:function(v){return Ae[v>>1]};case 2:return m?function(v){return J[v>>2]}:function(v){return pe[v>>2]};default:throw new TypeError("Unknown integer type: "+a)}}var On=(a,f,m,v)=>{if(!(0<v))return 0;var A=m;v=m+v-1;for(var I=0;I<a.length;++I){var U=a.charCodeAt(I);if(55296<=U&&57343>=U){var R=a.charCodeAt(++I);U=65536+((U&1023)<<10)|R&1023}if(127>=U){if(m>=v)break;f[m++]=U}else{if(2047>=U){if(m+1>=v)break;f[m++]=192|U>>6}else{if(65535>=U){if(m+2>=v)break;f[m++]=224|U>>12}else{if(m+3>=v)break;f[m++]=240|U>>18,f[m++]=128|U>>12&63}f[m++]=128|U>>6&63}f[m++]=128|U&63}}return f[m]=0,m-A},sr=a=>{for(var f=0,m=0;m<a.length;++m){var v=a.charCodeAt(m);127>=v?f++:2047>=v?f+=2:55296<=v&&57343>=v?(f+=4,++m):f+=3}return f},Ws=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Yc=(a,f)=>{for(var m=a>>1,v=m+f/2;!(m>=v)&&Ae[m];)++m;if(m<<=1,32<m-a&&Ws)return Ws.decode(re.subarray(a,m));for(m="",v=0;!(v>=f/2);++v){var A=he[a+2*v>>1];if(A==0)break;m+=String.fromCharCode(A)}return m},Hs=(a,f,m)=>{if(m===void 0&&(m=2147483647),2>m)return 0;m-=2;var v=f;m=m<2*a.length?m/2:a.length;for(var A=0;A<m;++A)he[f>>1]=a.charCodeAt(A),f+=2;return he[f>>1]=0,f-v},zs=a=>2*a.length,js=(a,f)=>{for(var m=0,v="";!(m>=f/4);){var A=J[a+4*m>>2];if(A==0)break;++m,65536<=A?(A-=65536,v+=String.fromCharCode(55296|A>>10,56320|A&1023)):v+=String.fromCharCode(A)}return v},Kc=(a,f,m)=>{if(m===void 0&&(m=2147483647),4>m)return 0;var v=f;m=v+m-4;for(var A=0;A<a.length;++A){var I=a.charCodeAt(A);if(55296<=I&&57343>=I){var U=a.charCodeAt(++A);I=65536+((I&1023)<<10)|U&1023}if(J[f>>2]=I,f+=4,f+4>m)break}return J[f>>2]=0,f-v},Qc=a=>{for(var f=0,m=0;m<a.length;++m){var v=a.charCodeAt(m);55296<=v&&57343>=v&&++m,f+=4}return f},qc={};function ea(a){var f=qc[a];return f===void 0?St(a):f}var Eo=[];function Ra(){function a(f){f.$$$embind_global$$$=f;var m=typeof $$$embind_global$$$=="object"&&f.$$$embind_global$$$==f;return m||delete f.$$$embind_global$$$,m}if(typeof globalThis=="object")return globalThis;if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&a(global)?$$$embind_global$$$=global:typeof self=="object"&&a(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function Vs(a){var f=Eo.length;return Eo.push(a),f}function Oa(a,f){for(var m=Array(a),v=0;v<a;++v)m[v]=Ci(pe[f+4*v>>2],"parameter "+v);return m}var Xs=[];function Ys(a){var f=Array(a+1);return function(m,v,A){f[0]=m;for(var I=0;I<a;++I){var U=Ci(pe[v+4*I>>2],"parameter "+I);f[I+1]=U.readValueFromPointer(A),A+=U.argPackAdvance}return m=new(m.bind.apply(m,f)),Hn(m)}}var Ao={};function Ks(a){var f=a.getExtension("ANGLE_instanced_arrays");f&&(a.vertexAttribDivisor=function(m,v){f.vertexAttribDivisorANGLE(m,v)},a.drawArraysInstanced=function(m,v,A,I){f.drawArraysInstancedANGLE(m,v,A,I)},a.drawElementsInstanced=function(m,v,A,I,U){f.drawElementsInstancedANGLE(m,v,A,I,U)})}function Jc(a){var f=a.getExtension("OES_vertex_array_object");f&&(a.createVertexArray=function(){return f.createVertexArrayOES()},a.deleteVertexArray=function(m){f.deleteVertexArrayOES(m)},a.bindVertexArray=function(m){f.bindVertexArrayOES(m)},a.isVertexArray=function(m){return f.isVertexArrayOES(m)})}function Qs(a){var f=a.getExtension("WEBGL_draw_buffers");f&&(a.drawBuffers=function(m,v){f.drawBuffersWEBGL(m,v)})}var Na=1,no=[],wr=[],Co=[],_i=[],zn=[],_n=[],_o=[],br=[],Ti=[],si=[],$a={},Ba={},Da=4;function $t(a){ta||(ta=a)}function ro(a){for(var f=Na++,m=a.length;m<f;m++)a[m]=null;return f}function Zc(a,f){a.He||(a.He=a.getContext,a.getContext=function(v,A){return A=a.He(v,A),v=="webgl"==A instanceof WebGLRenderingContext?A:null});var m=1<f.majorVersion?a.getContext("webgl2",f):a.getContext("webgl",f);return m?qs(m,f):0}function qs(a,f){var m=ro(br),v={handle:m,attributes:f,version:f.majorVersion,ge:a};return a.canvas&&(a.canvas.Af=v),br[m]=v,(typeof f.Of>"u"||f.Of)&&el(v),m}function Js(a){return ut=br[a],n.vg=Y=ut&&ut.ge,!(a&&!Y)}function el(a){if(a||(a=ut),!a.Yf){a.Yf=!0;var f=a.ge;Ks(f),Jc(f),Qs(f),f.qf=f.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),f.vf=f.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"),2<=a.version&&(f.rf=f.getExtension("EXT_disjoint_timer_query_webgl2")),(2>a.version||!f.rf)&&(f.rf=f.getExtension("EXT_disjoint_timer_query")),f.wg=f.getExtension("WEBGL_multi_draw"),(f.getSupportedExtensions()||[]).forEach(function(m){m.includes("lose_context")||m.includes("debug")||f.getExtension(m)})}}var ut,ta,To={},Zs=()=>{if(!Ga){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"},f;for(f in To)To[f]===void 0?delete a[f]:a[f]=To[f];var m=[];for(f in a)m.push(`${f}=${a[f]}`);Ga=m}return Ga},Ga,tl=[null,[],[]];function eu(a){Y.bindVertexArray(_o[a])}function tu(a,f){for(var m=0;m<a;m++){var v=J[f+4*m>>2];Y.deleteVertexArray(_o[v]),_o[v]=null}}var Pt=[];function Rt(a,f,m,v){Y.drawElements(a,f,m,v)}function io(a,f,m,v){for(var A=0;A<a;A++){var I=Y[m](),U=I&&ro(v);I?(I.name=U,v[U]=I):$t(1282),J[f+4*A>>2]=U}}function nu(a,f){io(a,f,"createVertexArray",_o)}function ru(a,f,m){if(f){var v=void 0;switch(a){case 36346:v=1;break;case 36344:m!=0&&m!=1&&$t(1280);return;case 34814:case 36345:v=0;break;case 34466:var A=Y.getParameter(34467);v=A?A.length:0;break;case 33309:if(2>ut.version){$t(1282);return}v=2*(Y.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>ut.version){$t(1280);return}v=a==33307?3:0}if(v===void 0)switch(A=Y.getParameter(a),typeof A){case"number":v=A;break;case"boolean":v=A?1:0;break;case"string":$t(1280);return;case"object":if(A===null)switch(a){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:v=0;break;default:$t(1280);return}else{if(A instanceof Float32Array||A instanceof Uint32Array||A instanceof Int32Array||A instanceof Array){for(a=0;a<A.length;++a)switch(m){case 0:J[f+4*a>>2]=A[a];break;case 2:ae[f+4*a>>2]=A[a];break;case 4:oe[f+a>>0]=A[a]?1:0}return}try{v=A.name|0}catch(I){$t(1280),$("GL_INVALID_ENUM in glGet"+m+"v: Unknown object returned from WebGL getParameter("+a+")! (error: "+I+")");return}}break;default:$t(1280),$("GL_INVALID_ENUM in glGet"+m+"v: Native code calling glGet"+m+"v("+a+") and it returns "+A+" of type "+typeof A+"!");return}switch(m){case 1:m=v,pe[f>>2]=m,pe[f+4>>2]=(m-pe[f>>2])/4294967296;break;case 0:J[f>>2]=v;break;case 2:ae[f>>2]=v;break;case 4:oe[f>>0]=v?1:0}}else $t(1281)}var Lo=a=>{var f=sr(a)+1,m=Fn(f);return m&&On(a,re,m,f),m};function iu(a){return a.slice(-1)=="]"&&a.lastIndexOf("[")}function na(a){return a-=5120,a==0?oe:a==1?re:a==2?he:a==4?J:a==6?ae:a==5||a==28922||a==28520||a==30779||a==30782?pe:Ae}function ra(a,f,m,v,A){a=na(a);var I=31-Math.clz32(a.BYTES_PER_ELEMENT),U=Da;return a.subarray(A>>I,A+v*(m*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[f-6402]||1)*(1<<I)+U-1&-U)>>I)}function At(a){var f=Y.Lf;if(f){var m=f.Oe[a];return typeof m=="number"&&(f.Oe[a]=m=Y.getUniformLocation(f,f.yf[a]+(0<m?"["+m+"]":""))),m}$t(1282)}var Ht=[],Li=[],_r=a=>a%4===0&&(a%100!==0||a%400===0),Ua=[31,29,31,30,31,30,31,31,30,31,30,31],ia=[31,28,31,30,31,30,31,31,30,31,30,31];function ur(a){var f=Array(sr(a)+1);return On(a,f,0,f.length),f}var ou=(a,f,m,v)=>{function A(Z,We,tt){for(Z=typeof Z=="number"?Z.toString():Z||"";Z.length<We;)Z=tt[0]+Z;return Z}function I(Z,We){return A(Z,We,"0")}function U(Z,We){function tt(Vn){return 0>Vn?-1:0<Vn?1:0}var rt;return(rt=tt(Z.getFullYear()-We.getFullYear()))===0&&(rt=tt(Z.getMonth()-We.getMonth()))===0&&(rt=tt(Z.getDate()-We.getDate())),rt}function R(Z){switch(Z.getDay()){case 0:return new Date(Z.getFullYear()-1,11,29);case 1:return Z;case 2:return new Date(Z.getFullYear(),0,3);case 3:return new Date(Z.getFullYear(),0,2);case 4:return new Date(Z.getFullYear(),0,1);case 5:return new Date(Z.getFullYear()-1,11,31);case 6:return new Date(Z.getFullYear()-1,11,30)}}function F(Z){var We=Z.pe;for(Z=new Date(new Date(Z.qe+1900,0,1).getTime());0<We;){var tt=Z.getMonth(),rt=(_r(Z.getFullYear())?Ua:ia)[tt];if(We>rt-Z.getDate())We-=rt-Z.getDate()+1,Z.setDate(1),11>tt?Z.setMonth(tt+1):(Z.setMonth(0),Z.setFullYear(Z.getFullYear()+1));else{Z.setDate(Z.getDate()+We);break}}return tt=new Date(Z.getFullYear()+1,0,4),We=R(new Date(Z.getFullYear(),0,4)),tt=R(tt),0>=U(We,Z)?0>=U(tt,Z)?Z.getFullYear()+1:Z.getFullYear():Z.getFullYear()-1}var z=J[v+40>>2];v={qg:J[v>>2],pg:J[v+4>>2],$e:J[v+8>>2],kf:J[v+12>>2],af:J[v+16>>2],qe:J[v+20>>2],ie:J[v+24>>2],pe:J[v+28>>2],zg:J[v+32>>2],og:J[v+36>>2],rg:z&&z?Ut(re,z):""},m=m?Ut(re,m):"",z={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ge in z)m=m.replace(new RegExp(ge,"g"),z[ge]);var be="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ge="January February March April May June July August September October November December".split(" ");z={"%a":Z=>be[Z.ie].substring(0,3),"%A":Z=>be[Z.ie],"%b":Z=>Ge[Z.af].substring(0,3),"%B":Z=>Ge[Z.af],"%C":Z=>I((Z.qe+1900)/100|0,2),"%d":Z=>I(Z.kf,2),"%e":Z=>A(Z.kf,2," "),"%g":Z=>F(Z).toString().substring(2),"%G":Z=>F(Z),"%H":Z=>I(Z.$e,2),"%I":Z=>(Z=Z.$e,Z==0?Z=12:12<Z&&(Z-=12),I(Z,2)),"%j":Z=>{for(var We=0,tt=0;tt<=Z.af-1;We+=(_r(Z.qe+1900)?Ua:ia)[tt++]);return I(Z.kf+We,3)},"%m":Z=>I(Z.af+1,2),"%M":Z=>I(Z.pg,2),"%n":()=>`
`,"%p":Z=>0<=Z.$e&&12>Z.$e?"AM":"PM","%S":Z=>I(Z.qg,2),"%t":()=>"	","%u":Z=>Z.ie||7,"%U":Z=>I(Math.floor((Z.pe+7-Z.ie)/7),2),"%V":Z=>{var We=Math.floor((Z.pe+7-(Z.ie+6)%7)/7);if(2>=(Z.ie+371-Z.pe-2)%7&&We++,We)We==53&&(tt=(Z.ie+371-Z.pe)%7,tt==4||tt==3&&_r(Z.qe)||(We=1));else{We=52;var tt=(Z.ie+7-Z.pe-1)%7;(tt==4||tt==5&&_r(Z.qe%400-1))&&We++}return I(We,2)},"%w":Z=>Z.ie,"%W":Z=>I(Math.floor((Z.pe+7-(Z.ie+6)%7)/7),2),"%y":Z=>(Z.qe+1900).toString().substring(2),"%Y":Z=>Z.qe+1900,"%z":Z=>{Z=Z.og;var We=0<=Z;return Z=Math.abs(Z)/60,(We?"+":"-")+("0000"+(Z/60*100+Z%60)).slice(-4)},"%Z":Z=>Z.rg,"%%":()=>"%"},m=m.replace(/%%/g,"\0\0");for(ge in z)m.includes(ge)&&(m=m.replace(new RegExp(ge,"g"),z[ge](v)));return m=m.replace(/\0\0/g,"%"),ge=ur(m),ge.length>f?0:(oe.set(ge,a),ge.length-1)};yr=n.InternalError=class extends Error{constructor(a){super(a),this.name="InternalError"}};for(var Wa=Array(256),Po=0;256>Po;++Po)Wa[Po]=String.fromCharCode(Po);en=Wa,Dt=n.BindingError=class extends Error{constructor(a){super(a),this.name="BindingError"}},vr.prototype.isAliasOf=function(a){if(!(this instanceof vr&&a instanceof vr))return!1;var f=this.Kd.Wd.Qd,m=this.Kd.Sd,v=a.Kd.Wd.Qd;for(a=a.Kd.Sd;f.ae;)m=f.Pe(m),f=f.ae;for(;v.ae;)a=v.Pe(a),v=v.ae;return f===v&&m===a},vr.prototype.clone=function(){if(this.Kd.Sd||wi(this),this.Kd.Ne)return this.Kd.count.value+=1,this;var a=ni,f=Object,m=f.create,v=Object.getPrototypeOf(this),A=this.Kd;return a=a(m.call(f,v,{Kd:{value:{count:A.count,Fe:A.Fe,Ne:A.Ne,Sd:A.Sd,Wd:A.Wd,Zd:A.Zd,fe:A.fe}}})),a.Kd.count.value+=1,a.Kd.Fe=!1,a},vr.prototype.delete=function(){this.Kd.Sd||wi(this),this.Kd.Fe&&!this.Kd.Ne&&vt("Object already scheduled for deletion"),Yi(this),Ki(this.Kd),this.Kd.Ne||(this.Kd.Zd=void 0,this.Kd.Sd=void 0)},vr.prototype.isDeleted=function(){return!this.Kd.Sd},vr.prototype.deleteLater=function(){return this.Kd.Sd||wi(this),this.Kd.Fe&&!this.Kd.Ne&&vt("Object already scheduled for deletion"),Wr.push(this),Wr.length===1&&Hr&&Hr(Si),this.Kd.Fe=!0,this},n.getInheritedInstanceCount=function(){return Object.keys(xi).length},n.getLiveInheritedInstances=function(){var a=[],f;for(f in xi)xi.hasOwnProperty(f)&&a.push(xi[f]);return a},n.flushPendingDeletes=Si,n.setDelayFunction=function(a){Hr=a,Wr.length&&Hr&&Hr(Si)},ar.prototype.Tf=function(a){return this.wf&&(a=this.wf(a)),a},ar.prototype.pf=function(a){this.le&&this.le(a)},ar.prototype.argPackAdvance=8,ar.prototype.readValueFromPointer=En,ar.prototype.deleteObject=function(a){a!==null&&a.delete()},ar.prototype.fromWireType=function(a){function f(){return this.We?Ji(this.Qd.Ge,{Wd:this.cg,Sd:m,fe:this,Zd:a}):Ji(this.Qd.Ge,{Wd:this,Sd:a})}var m=this.Tf(a);if(!m)return this.pf(a),null;var v=Ia(this.Qd,m);if(v!==void 0)return v.Kd.count.value===0?(v.Kd.Sd=m,v.Kd.Zd=a,v.clone()):(v=v.clone(),this.pf(a),v);if(v=this.Qd.Sf(m),v=qi[v],!v)return f.call(this);v=this.Ve?v.Jf:v.pointerType;var A=Qi(m,this.Qd,v.Qd);return A===null?f.call(this):this.We?Ji(v.Qd.Ge,{Wd:v,Sd:A,fe:this,Zd:a}):Ji(v.Qd.Ge,{Wd:v,Sd:A})},Kt=n.UnboundTypeError=function(a,f){var m=Zi(f,function(v){this.name=f,this.message=v,v=Error(v).stack,v!==void 0&&(this.stack=this.toString()+`
`+v.replace(/^Error(:[^\n]*)?\n/,""))});return m.prototype=Object.create(a.prototype),m.prototype.constructor=m,m.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},m}(Error,"UnboundTypeError"),Object.assign(Jo.prototype,{get(a){return this.ke[a]},has(a){return this.ke[a]!==void 0},Bf(a){var f=this.tf.pop()||this.ke.length;return this.ke[f]=a,f},Cf(a){this.ke[a]=void 0,this.tf.push(a)}}),Cn.ke.push({value:void 0},{value:null},{value:!0},{value:!1}),Cn.He=Cn.ke.length,n.count_emval_handles=function(){for(var a=0,f=Cn.He;f<Cn.ke.length;++f)Cn.ke[f]!==void 0&&++a;return a};for(var Y,jn=0;32>jn;++jn)Pt.push(Array(jn));var au=new Float32Array(288);for(jn=0;288>jn;++jn)Ht[jn]=au.subarray(0,jn+1);var qn=new Int32Array(288);for(jn=0;288>jn;++jn)Li[jn]=qn.subarray(0,jn+1);var nl={U:function(){return 0},Bb:()=>{},Db:function(){return 0},yb:()=>{},zb:()=>{},V:function(){},Ab:()=>{},E:function(a){var f=wn[a];delete wn[a];var m=f.jf,v=f.le,A=f.sf,I=A.map(U=>U.Wf).concat(A.map(U=>U.gg));at([a],I,U=>{var R={};return A.forEach((F,z)=>{var ge=U[z],be=F.Uf,Ge=F.Vf,Z=U[z+A.length],We=F.fg,tt=F.hg;R[F.Pf]={read:rt=>ge.fromWireType(be(Ge,rt)),write:(rt,Vn)=>{var un=[];We(tt,rt,Z.toWireType(un,Vn)),Wt(un)}}}),[{name:f.name,fromWireType:function(F){var z={},ge;for(ge in R)z[ge]=R[ge].read(F);return v(F),z},toWireType:function(F,z){for(var ge in R)if(!(ge in z))throw new TypeError(`Missing field: "${ge}"`);var be=m();for(ge in R)R[ge].write(be,z[ge]);return F!==null&&F.push(v,be),be},argPackAdvance:8,readValueFromPointer:En,ee:v}]})},qb:function(){},Hb:function(a,f,m,v,A){var I=_t(m);f=St(f),bn(a,{name:f,fromWireType:function(U){return!!U},toWireType:function(U,R){return R?v:A},argPackAdvance:8,readValueFromPointer:function(U){if(m===1)var R=oe;else if(m===2)R=he;else if(m===4)R=J;else throw new TypeError("Unknown boolean type size: "+f);return this.fromWireType(R[U>>I])},ee:null})},p:function(a,f,m,v,A,I,U,R,F,z,ge,be,Ge){ge=St(ge),I=mn(A,I),R&&(R=mn(U,R)),z&&(z=mn(F,z)),Ge=mn(be,Ge);var Z=Qo(ge);ii(Z,function(){An(`Cannot construct ${ge} due to unbound types`,[v])}),at([a,f,m],v?[v]:[],function(We){if(We=We[0],v)var tt=We.Qd,rt=tt.Ge;else rt=vr.prototype;We=Zi(Z,function(){if(Object.getPrototypeOf(this)!==Vn)throw new Dt("Use 'new' to construct "+ge);if(un.oe===void 0)throw new Dt(ge+" has no accessible constructor");var cr=un.oe[arguments.length];if(cr===void 0)throw new Dt(`Tried to invoke ctor of ${ge} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(un.oe).toString()}) parameters instead!`);return cr.apply(this,arguments)});var Vn=Object.create(rt,{constructor:{value:We}});We.prototype=Vn;var un=new eo(ge,We,Vn,Ge,tt,I,R,z);un.ae&&(un.ae.Qe===void 0&&(un.ae.Qe=[]),un.ae.Qe.push(un)),tt=new ar(ge,un,!0,!1,!1),rt=new ar(ge+"*",un,!1,!1,!1);var so=new ar(ge+" const*",un,!1,!0,!1);return qi[a]={pointerType:rt,Jf:so},Yt(Z,We),[tt,rt,so]})},i:function(a,f,m,v,A,I,U){var R=zr(m,v);f=St(f),I=mn(A,I),at([],[a],function(F){function z(){An(`Cannot call ${ge} due to unbound types`,R)}F=F[0];var ge=`${F.name}.${f}`;f.startsWith("@@")&&(f=Symbol[f.substring(2)]);var be=F.Qd.constructor;return be[f]===void 0?(z.De=m-1,be[f]=z):(ri(be,f,ge),be[f].Yd[m-1]=z),at([],R,function(Ge){if(Ge=[Ge[0],null].concat(Ge.slice(1)),Ge=kn(ge,Ge,null,I,U),be[f].Yd===void 0?(Ge.De=m-1,be[f]=Ge):be[f].Yd[m-1]=Ge,F.Qd.Qe)for(const Z of F.Qd.Qe)Z.constructor.hasOwnProperty(f)||(Z.constructor[f]=Ge);return[]}),[]})},G:function(a,f,m,v,A,I){var U=zr(f,m);A=mn(v,A),at([],[a],function(R){R=R[0];var F=`constructor ${R.name}`;if(R.Qd.oe===void 0&&(R.Qd.oe=[]),R.Qd.oe[f-1]!==void 0)throw new Dt(`Cannot register multiple constructors with identical number of parameters (${f-1}) for class '${R.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return R.Qd.oe[f-1]=()=>{An(`Cannot construct ${R.name} due to unbound types`,U)},at([],U,function(z){return z.splice(1,0,null),R.Qd.oe[f-1]=kn(F,z,null,A,I),[]}),[]})},b:function(a,f,m,v,A,I,U,R){var F=zr(m,v);f=St(f),I=mn(A,I),at([],[a],function(z){function ge(){An(`Cannot call ${be} due to unbound types`,F)}z=z[0];var be=`${z.name}.${f}`;f.startsWith("@@")&&(f=Symbol[f.substring(2)]),R&&z.Qd.dg.push(f);var Ge=z.Qd.Ge,Z=Ge[f];return Z===void 0||Z.Yd===void 0&&Z.className!==z.name&&Z.De===m-2?(ge.De=m-2,ge.className=z.name,Ge[f]=ge):(ri(Ge,f,be),Ge[f].Yd[m-2]=ge),at([],F,function(We){return We=kn(be,We,z,I,U),Ge[f].Yd===void 0?(We.De=m-2,Ge[f]=We):Ge[f].Yd[m-2]=We,[]}),[]})},v:function(a,f,m){a=St(a),at([],[f],function(v){return v=v[0],n[a]=v.fromWireType(m),[]})},Gb:function(a,f){f=St(f),bn(a,{name:f,fromWireType:function(m){var v=Rn(m);return Ai(m),v},toWireType:function(m,v){return Hn(v)},argPackAdvance:8,readValueFromPointer:En,ee:null})},l:function(a,f,m,v){function A(){}m=_t(m),f=St(f),A.values={},bn(a,{name:f,constructor:A,fromWireType:function(I){return this.constructor.values[I]},toWireType:function(I,U){return U.value},argPackAdvance:8,readValueFromPointer:ka(f,m,v),ee:null}),ii(f,A)},d:function(a,f,m){var v=Ci(a,"enum");f=St(f),a=v.constructor,v=Object.create(v.constructor.prototype,{value:{value:m},constructor:{value:Zi(`${v.name}_${f}`,function(){})}}),a.values[m]=v,a[f]=v},X:function(a,f,m){m=_t(m),f=St(f),bn(a,{name:f,fromWireType:function(v){return v},toWireType:function(v,A){return A},argPackAdvance:8,readValueFromPointer:Zo(f,m),ee:null})},z:function(a,f,m,v,A,I){var U=zr(f,m);a=St(a),A=mn(v,A),ii(a,function(){An(`Cannot call ${a} due to unbound types`,U)},f-1),at([],U,function(R){return R=[R[0],null].concat(R.slice(1)),Yt(a,kn(a,R,null,A,I),f-1),[]})},I:function(a,f,m,v,A){f=St(f),A===-1&&(A=4294967295),A=_t(m);var I=R=>R;if(v===0){var U=32-8*m;I=R=>R<<U>>>U}m=f.includes("unsigned")?function(R,F){return F>>>0}:function(R,F){return F},bn(a,{name:f,fromWireType:I,toWireType:m,argPackAdvance:8,readValueFromPointer:Xc(f,A,v!==0),ee:null})},w:function(a,f,m){function v(I){I>>=2;var U=pe;return new A(U.buffer,U[I+1],U[I])}var A=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][f];m=St(m),bn(a,{name:m,fromWireType:v,argPackAdvance:8,readValueFromPointer:v},{Xf:!0})},s:function(a,f,m,v,A,I,U,R,F,z,ge,be){m=St(m),I=mn(A,I),R=mn(U,R),z=mn(F,z),be=mn(ge,be),at([a],[f],function(Ge){return Ge=Ge[0],[new ar(m,Ge.Qd,!1,!1,!0,Ge,v,I,R,z,be)]})},W:function(a,f){f=St(f);var m=f==="std::string";bn(a,{name:f,fromWireType:function(v){var A=pe[v>>2],I=v+4;if(m)for(var U=I,R=0;R<=A;++R){var F=I+R;if(R==A||re[F]==0){if(U=U?Ut(re,U,F-U):"",z===void 0)var z=U;else z+="\0",z+=U;U=F+1}}else{for(z=Array(A),R=0;R<A;++R)z[R]=String.fromCharCode(re[I+R]);z=z.join("")}return jr(v),z},toWireType:function(v,A){A instanceof ArrayBuffer&&(A=new Uint8Array(A));var I=typeof A=="string";I||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int8Array||vt("Cannot pass non-string to std::string");var U=m&&I?sr(A):A.length,R=Fn(4+U+1),F=R+4;if(pe[R>>2]=U,m&&I)On(A,re,F,U+1);else if(I)for(I=0;I<U;++I){var z=A.charCodeAt(I);255<z&&(jr(F),vt("String has UTF-16 code units that do not fit in 8 bits")),re[F+I]=z}else for(I=0;I<U;++I)re[F+I]=A[I];return v!==null&&v.push(jr,R),R},argPackAdvance:8,readValueFromPointer:En,ee:function(v){jr(v)}})},O:function(a,f,m){if(m=St(m),f===2)var v=Yc,A=Hs,I=zs,U=()=>Ae,R=1;else f===4&&(v=js,A=Kc,I=Qc,U=()=>pe,R=2);bn(a,{name:m,fromWireType:function(F){for(var z=pe[F>>2],ge=U(),be,Ge=F+4,Z=0;Z<=z;++Z){var We=F+4+Z*f;(Z==z||ge[We>>R]==0)&&(Ge=v(Ge,We-Ge),be===void 0?be=Ge:(be+="\0",be+=Ge),Ge=We+f)}return jr(F),be},toWireType:function(F,z){typeof z!="string"&&vt(`Cannot pass non-string to C++ string type ${m}`);var ge=I(z),be=Fn(4+ge+f);return pe[be>>2]=ge>>R,A(z,be+4,ge+f),F!==null&&F.push(jr,be),be},argPackAdvance:8,readValueFromPointer:En,ee:function(F){jr(F)}})},F:function(a,f,m,v,A,I){wn[a]={name:St(f),jf:mn(m,v),le:mn(A,I),sf:[]}},f:function(a,f,m,v,A,I,U,R,F,z){wn[a].sf.push({Pf:St(f),Wf:m,Uf:mn(v,A),Vf:I,gg:U,fg:mn(R,F),hg:z})},Ib:function(a,f){f=St(f),bn(a,{Zf:!0,name:f,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},Fb:()=>!0,ub:()=>{throw 1/0},C:function(a,f,m){a=Rn(a),f=Ci(f,"emval::as");var v=[],A=Hn(v);return pe[m>>2]=A,f.toWireType(v,a)},K:function(a,f,m,v,A){a=Eo[a],f=Rn(f),m=ea(m);var I=[];return pe[v>>2]=Hn(I),a(f,m,I,A)},r:function(a,f,m,v){a=Eo[a],f=Rn(f),m=ea(m),a(f,m,null,v)},c:Ai,J:function(a){return a===0?Hn(Ra()):(a=ea(a),Hn(Ra()[a]))},q:function(a,f){var m=Oa(a,f),v=m[0];f=v.name+"_$"+m.slice(1).map(function(U){return U.name}).join("_")+"$";var A=Xs[f];if(A!==void 0)return A;var I=Array(a-1);return A=Vs((U,R,F,z)=>{for(var ge=0,be=0;be<a-1;++be)I[be]=m[be+1].readValueFromPointer(z+ge),ge+=m[be+1].argPackAdvance;for(U=U[R].apply(U,I),be=0;be<a-1;++be)m[be+1].Mf&&m[be+1].Mf(I[be]);if(!v.Zf)return v.toWireType(F,U)}),Xs[f]=A},B:function(a,f){return a=Rn(a),f=Rn(f),Hn(a[f])},n:function(a){4<a&&(Cn.get(a).xf+=1)},L:function(a,f,m,v){a=Rn(a);var A=Ao[f];return A||(A=Ys(f),Ao[f]=A),A(a,m,v)},D:function(){return Hn([])},e:function(a){return Hn(ea(a))},x:function(){return Hn({})},kb:function(a){return a=Rn(a),!a},A:function(a){var f=Rn(a);Wt(f),Ai(a)},g:function(a,f,m){a=Rn(a),f=Rn(f),m=Rn(m),a[f]=m},h:function(a,f){return a=Ci(a,"_emval_take_value"),a=a.readValueFromPointer(f),Hn(a)},nb:function(){return-52},ob:function(){},a:()=>{Ee("")},Eb:()=>performance.now(),vb:a=>{var f=re.length;if(a>>>=0,2147483648<a)return!1;for(var m=1;4>=m;m*=2){var v=f*(1+.2/m);v=Math.min(v,a+100663296);var A=Math;v=Math.max(a,v);e:{A=A.min.call(A,2147483648,v+(65536-v%65536)%65536)-X.buffer.byteLength+65535>>>16;try{X.grow(A),Fe();var I=1;break e}catch{}I=void 0}if(I)return!0}return!1},lb:function(){return ut?ut.handle:0},wb:(a,f)=>{var m=0;return Zs().forEach(function(v,A){var I=f+m;for(A=pe[a+4*A>>2]=I,I=0;I<v.length;++I)oe[A++>>0]=v.charCodeAt(I);oe[A>>0]=0,m+=v.length+1}),0},xb:(a,f)=>{var m=Zs();pe[a>>2]=m.length;var v=0;return m.forEach(function(A){v+=A.length+1}),pe[f>>2]=v,0},Jb:a=>{l(a,new an(a))},N:()=>52,mb:function(){return 52},Cb:()=>52,pb:function(){return 70},T:(a,f,m,v)=>{for(var A=0,I=0;I<m;I++){var U=pe[f>>2],R=pe[f+4>>2];f+=8;for(var F=0;F<R;F++){var z=re[U+F],ge=tl[a];z===0||z===10?((a===1?O:$)(Ut(ge,0)),ge.length=0):ge.push(z)}A+=R}return pe[v>>2]=A,0},aa:function(a){Y.activeTexture(a)},ba:function(a,f){Y.attachShader(wr[a],_n[f])},ca:function(a,f,m){Y.bindAttribLocation(wr[a],f,m?Ut(re,m):"")},da:function(a,f){a==35051?Y.ff=f:a==35052&&(Y.Ee=f),Y.bindBuffer(a,no[f])},$:function(a,f){Y.bindFramebuffer(a,Co[f])},fc:function(a,f){Y.bindRenderbuffer(a,_i[f])},Rb:function(a,f){Y.bindSampler(a,Ti[f])},ea:function(a,f){Y.bindTexture(a,zn[f])},zc:eu,Cc:eu,fa:function(a,f,m,v){Y.blendColor(a,f,m,v)},ga:function(a){Y.blendEquation(a)},ha:function(a,f){Y.blendFunc(a,f)},$b:function(a,f,m,v,A,I,U,R,F,z){Y.blitFramebuffer(a,f,m,v,A,I,U,R,F,z)},ia:function(a,f,m,v){2<=ut.version?m&&f?Y.bufferData(a,re,v,m,f):Y.bufferData(a,f,v):Y.bufferData(a,m?re.subarray(m,m+f):f,v)},ja:function(a,f,m,v){2<=ut.version?m&&Y.bufferSubData(a,f,re,v,m):Y.bufferSubData(a,f,re.subarray(v,v+m))},gc:function(a){return Y.checkFramebufferStatus(a)},R:function(a){Y.clear(a)},_:function(a,f,m,v){Y.clearColor(a,f,m,v)},S:function(a){Y.clearStencil(a)},sb:function(a,f,m,v){return Y.clientWaitSync(si[a],f,(m>>>0)+4294967296*v)},ka:function(a,f,m,v){Y.colorMask(!!a,!!f,!!m,!!v)},la:function(a){Y.compileShader(_n[a])},ma:function(a,f,m,v,A,I,U,R){2<=ut.version?Y.Ee||!U?Y.compressedTexImage2D(a,f,m,v,A,I,U,R):Y.compressedTexImage2D(a,f,m,v,A,I,re,R,U):Y.compressedTexImage2D(a,f,m,v,A,I,R?re.subarray(R,R+U):null)},na:function(a,f,m,v,A,I,U,R,F){2<=ut.version?Y.Ee||!R?Y.compressedTexSubImage2D(a,f,m,v,A,I,U,R,F):Y.compressedTexSubImage2D(a,f,m,v,A,I,U,re,F,R):Y.compressedTexSubImage2D(a,f,m,v,A,I,U,F?re.subarray(F,F+R):null)},Zb:function(a,f,m,v,A){Y.copyBufferSubData(a,f,m,v,A)},oa:function(a,f,m,v,A,I,U,R){Y.copyTexSubImage2D(a,f,m,v,A,I,U,R)},pa:function(){var a=ro(wr),f=Y.createProgram();return f.name=a,f.Ze=f.Xe=f.Ye=0,f.lf=1,wr[a]=f,a},qa:function(a){var f=ro(_n);return _n[f]=Y.createShader(a),f},ra:function(a){Y.cullFace(a)},sa:function(a,f){for(var m=0;m<a;m++){var v=J[f+4*m>>2],A=no[v];A&&(Y.deleteBuffer(A),A.name=0,no[v]=null,v==Y.ff&&(Y.ff=0),v==Y.Ee&&(Y.Ee=0))}},hc:function(a,f){for(var m=0;m<a;++m){var v=J[f+4*m>>2],A=Co[v];A&&(Y.deleteFramebuffer(A),A.name=0,Co[v]=null)}},ta:function(a){if(a){var f=wr[a];f?(Y.deleteProgram(f),f.name=0,wr[a]=null):$t(1281)}},ic:function(a,f){for(var m=0;m<a;m++){var v=J[f+4*m>>2],A=_i[v];A&&(Y.deleteRenderbuffer(A),A.name=0,_i[v]=null)}},Sb:function(a,f){for(var m=0;m<a;m++){var v=J[f+4*m>>2],A=Ti[v];A&&(Y.deleteSampler(A),A.name=0,Ti[v]=null)}},ua:function(a){if(a){var f=_n[a];f?(Y.deleteShader(f),_n[a]=null):$t(1281)}},_b:function(a){if(a){var f=si[a];f?(Y.deleteSync(f),f.name=0,si[a]=null):$t(1281)}},va:function(a,f){for(var m=0;m<a;m++){var v=J[f+4*m>>2],A=zn[v];A&&(Y.deleteTexture(A),A.name=0,zn[v]=null)}},Ac:tu,Dc:tu,wa:function(a){Y.depthMask(!!a)},xa:function(a){Y.disable(a)},ya:function(a){Y.disableVertexAttribArray(a)},za:function(a,f,m){Y.drawArrays(a,f,m)},xc:function(a,f,m,v){Y.drawArraysInstanced(a,f,m,v)},vc:function(a,f,m,v,A){Y.qf.drawArraysInstancedBaseInstanceWEBGL(a,f,m,v,A)},tc:function(a,f){for(var m=Pt[a],v=0;v<a;v++)m[v]=J[f+4*v>>2];Y.drawBuffers(m)},Aa:Rt,yc:function(a,f,m,v,A){Y.drawElementsInstanced(a,f,m,v,A)},wc:function(a,f,m,v,A,I,U){Y.qf.drawElementsInstancedBaseVertexBaseInstanceWEBGL(a,f,m,v,A,I,U)},nc:function(a,f,m,v,A,I){Rt(a,v,A,I)},Ba:function(a){Y.enable(a)},Ca:function(a){Y.enableVertexAttribArray(a)},Xb:function(a,f){return(a=Y.fenceSync(a,f))?(f=ro(si),a.name=f,si[f]=a,f):0},Da:function(){Y.finish()},Ea:function(){Y.flush()},jc:function(a,f,m,v){Y.framebufferRenderbuffer(a,f,m,_i[v])},kc:function(a,f,m,v,A){Y.framebufferTexture2D(a,f,m,zn[v],A)},Fa:function(a){Y.frontFace(a)},Ga:function(a,f){io(a,f,"createBuffer",no)},lc:function(a,f){io(a,f,"createFramebuffer",Co)},mc:function(a,f){io(a,f,"createRenderbuffer",_i)},Tb:function(a,f){io(a,f,"createSampler",Ti)},Ha:function(a,f){io(a,f,"createTexture",zn)},Bc:nu,Ec:nu,bc:function(a){Y.generateMipmap(a)},Ia:function(a,f,m){m?J[m>>2]=Y.getBufferParameter(a,f):$t(1281)},Ja:function(){var a=Y.getError()||ta;return ta=0,a},Ka:function(a,f){ru(a,f,2)},cc:function(a,f,m,v){a=Y.getFramebufferAttachmentParameter(a,f,m),(a instanceof WebGLRenderbuffer||a instanceof WebGLTexture)&&(a=a.name|0),J[v>>2]=a},M:function(a,f){ru(a,f,0)},La:function(a,f,m,v){a=Y.getProgramInfoLog(wr[a]),a===null&&(a="(unknown error)"),f=0<f&&v?On(a,re,v,f):0,m&&(J[m>>2]=f)},Ma:function(a,f,m){if(m)if(a>=Na)$t(1281);else if(a=wr[a],f==35716)a=Y.getProgramInfoLog(a),a===null&&(a="(unknown error)"),J[m>>2]=a.length+1;else if(f==35719){if(!a.Ze)for(f=0;f<Y.getProgramParameter(a,35718);++f)a.Ze=Math.max(a.Ze,Y.getActiveUniform(a,f).name.length+1);J[m>>2]=a.Ze}else if(f==35722){if(!a.Xe)for(f=0;f<Y.getProgramParameter(a,35721);++f)a.Xe=Math.max(a.Xe,Y.getActiveAttrib(a,f).name.length+1);J[m>>2]=a.Xe}else if(f==35381){if(!a.Ye)for(f=0;f<Y.getProgramParameter(a,35382);++f)a.Ye=Math.max(a.Ye,Y.getActiveUniformBlockName(a,f).length+1);J[m>>2]=a.Ye}else J[m>>2]=Y.getProgramParameter(a,f);else $t(1281)},dc:function(a,f,m){m?J[m>>2]=Y.getRenderbufferParameter(a,f):$t(1281)},Na:function(a,f,m,v){a=Y.getShaderInfoLog(_n[a]),a===null&&(a="(unknown error)"),f=0<f&&v?On(a,re,v,f):0,m&&(J[m>>2]=f)},Ob:function(a,f,m,v){a=Y.getShaderPrecisionFormat(a,f),J[m>>2]=a.rangeMin,J[m+4>>2]=a.rangeMax,J[v>>2]=a.precision},Oa:function(a,f,m){m?f==35716?(a=Y.getShaderInfoLog(_n[a]),a===null&&(a="(unknown error)"),J[m>>2]=a?a.length+1:0):f==35720?(a=Y.getShaderSource(_n[a]),J[m>>2]=a?a.length+1:0):J[m>>2]=Y.getShaderParameter(_n[a],f):$t(1281)},Q:function(a){var f=$a[a];if(!f){switch(a){case 7939:f=Y.getSupportedExtensions()||[],f=f.concat(f.map(function(v){return"GL_"+v})),f=Lo(f.join(" "));break;case 7936:case 7937:case 37445:case 37446:(f=Y.getParameter(a))||$t(1280),f=f&&Lo(f);break;case 7938:f=Y.getParameter(7938),f=2<=ut.version?"OpenGL ES 3.0 ("+f+")":"OpenGL ES 2.0 ("+f+")",f=Lo(f);break;case 35724:f=Y.getParameter(35724);var m=f.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);m!==null&&(m[1].length==3&&(m[1]+="0"),f="OpenGL ES GLSL ES "+m[1]+" ("+f+")"),f=Lo(f);break;default:$t(1280)}$a[a]=f}return f},jb:function(a,f){if(2>ut.version)return $t(1282),0;var m=Ba[a];if(m)return 0>f||f>=m.length?($t(1281),0):m[f];switch(a){case 7939:return m=Y.getSupportedExtensions()||[],m=m.concat(m.map(function(v){return"GL_"+v})),m=m.map(function(v){return Lo(v)}),m=Ba[a]=m,0>f||f>=m.length?($t(1281),0):m[f];default:return $t(1280),0}},Pa:function(a,f){if(f=f?Ut(re,f):"",a=wr[a]){var m=a,v=m.Oe,A=m.zf,I;if(!v)for(m.Oe=v={},m.yf={},I=0;I<Y.getProgramParameter(m,35718);++I){var U=Y.getActiveUniform(m,I),R=U.name;U=U.size;var F=iu(R);F=0<F?R.slice(0,F):R;var z=m.lf;for(m.lf+=U,A[F]=[U,z],R=0;R<U;++R)v[z]=R,m.yf[z++]=F}if(m=a.Oe,v=0,A=f,I=iu(f),0<I&&(v=parseInt(f.slice(I+1))>>>0,A=f.slice(0,I)),(A=a.zf[A])&&v<A[0]&&(v+=A[1],m[v]=m[v]||Y.getUniformLocation(a,f)))return v}else $t(1281);return-1},Pb:function(a,f,m){for(var v=Pt[f],A=0;A<f;A++)v[A]=J[m+4*A>>2];Y.invalidateFramebuffer(a,v)},Qb:function(a,f,m,v,A,I,U){for(var R=Pt[f],F=0;F<f;F++)R[F]=J[m+4*F>>2];Y.invalidateSubFramebuffer(a,R,v,A,I,U)},Yb:function(a){return Y.isSync(si[a])},Qa:function(a){return(a=zn[a])?Y.isTexture(a):0},Ra:function(a){Y.lineWidth(a)},Sa:function(a){a=wr[a],Y.linkProgram(a),a.Oe=0,a.zf={}},rc:function(a,f,m,v,A,I){Y.vf.multiDrawArraysInstancedBaseInstanceWEBGL(a,J,f>>2,J,m>>2,J,v>>2,pe,A>>2,I)},sc:function(a,f,m,v,A,I,U,R){Y.vf.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(a,J,f>>2,m,J,v>>2,J,A>>2,J,I>>2,pe,U>>2,R)},Ta:function(a,f){a==3317&&(Da=f),Y.pixelStorei(a,f)},uc:function(a){Y.readBuffer(a)},Ua:function(a,f,m,v,A,I,U){if(2<=ut.version)if(Y.ff)Y.readPixels(a,f,m,v,A,I,U);else{var R=na(I);Y.readPixels(a,f,m,v,A,I,R,U>>31-Math.clz32(R.BYTES_PER_ELEMENT))}else(U=ra(I,A,m,v,U))?Y.readPixels(a,f,m,v,A,I,U):$t(1280)},ec:function(a,f,m,v){Y.renderbufferStorage(a,f,m,v)},ac:function(a,f,m,v,A){Y.renderbufferStorageMultisample(a,f,m,v,A)},Ub:function(a,f,m){Y.samplerParameterf(Ti[a],f,m)},Vb:function(a,f,m){Y.samplerParameteri(Ti[a],f,m)},Wb:function(a,f,m){Y.samplerParameteri(Ti[a],f,J[m>>2])},Va:function(a,f,m,v){Y.scissor(a,f,m,v)},Wa:function(a,f,m,v){for(var A="",I=0;I<f;++I){var U=v?J[v+4*I>>2]:-1,R=J[m+4*I>>2];U=R?Ut(re,R,0>U?void 0:U):"",A+=U}Y.shaderSource(_n[a],A)},Xa:function(a,f,m){Y.stencilFunc(a,f,m)},Ya:function(a,f,m,v){Y.stencilFuncSeparate(a,f,m,v)},Za:function(a){Y.stencilMask(a)},_a:function(a,f){Y.stencilMaskSeparate(a,f)},$a:function(a,f,m){Y.stencilOp(a,f,m)},ab:function(a,f,m,v){Y.stencilOpSeparate(a,f,m,v)},bb:function(a,f,m,v,A,I,U,R,F){if(2<=ut.version)if(Y.Ee)Y.texImage2D(a,f,m,v,A,I,U,R,F);else if(F){var z=na(R);Y.texImage2D(a,f,m,v,A,I,U,R,z,F>>31-Math.clz32(z.BYTES_PER_ELEMENT))}else Y.texImage2D(a,f,m,v,A,I,U,R,null);else Y.texImage2D(a,f,m,v,A,I,U,R,F?ra(R,U,v,A,F):null)},cb:function(a,f,m){Y.texParameterf(a,f,m)},db:function(a,f,m){Y.texParameterf(a,f,ae[m>>2])},eb:function(a,f,m){Y.texParameteri(a,f,m)},fb:function(a,f,m){Y.texParameteri(a,f,J[m>>2])},oc:function(a,f,m,v,A){Y.texStorage2D(a,f,m,v,A)},gb:function(a,f,m,v,A,I,U,R,F){if(2<=ut.version)if(Y.Ee)Y.texSubImage2D(a,f,m,v,A,I,U,R,F);else if(F){var z=na(R);Y.texSubImage2D(a,f,m,v,A,I,U,R,z,F>>31-Math.clz32(z.BYTES_PER_ELEMENT))}else Y.texSubImage2D(a,f,m,v,A,I,U,R,null);else z=null,F&&(z=ra(R,U,A,I,F)),Y.texSubImage2D(a,f,m,v,A,I,U,R,z)},hb:function(a,f){Y.uniform1f(At(a),f)},ib:function(a,f,m){if(2<=ut.version)f&&Y.uniform1fv(At(a),ae,m>>2,f);else{if(288>=f)for(var v=Ht[f-1],A=0;A<f;++A)v[A]=ae[m+4*A>>2];else v=ae.subarray(m>>2,m+4*f>>2);Y.uniform1fv(At(a),v)}},Zc:function(a,f){Y.uniform1i(At(a),f)},_c:function(a,f,m){if(2<=ut.version)f&&Y.uniform1iv(At(a),J,m>>2,f);else{if(288>=f)for(var v=Li[f-1],A=0;A<f;++A)v[A]=J[m+4*A>>2];else v=J.subarray(m>>2,m+4*f>>2);Y.uniform1iv(At(a),v)}},$c:function(a,f,m){Y.uniform2f(At(a),f,m)},ad:function(a,f,m){if(2<=ut.version)f&&Y.uniform2fv(At(a),ae,m>>2,2*f);else{if(144>=f)for(var v=Ht[2*f-1],A=0;A<2*f;A+=2)v[A]=ae[m+4*A>>2],v[A+1]=ae[m+(4*A+4)>>2];else v=ae.subarray(m>>2,m+8*f>>2);Y.uniform2fv(At(a),v)}},Yc:function(a,f,m){Y.uniform2i(At(a),f,m)},Xc:function(a,f,m){if(2<=ut.version)f&&Y.uniform2iv(At(a),J,m>>2,2*f);else{if(144>=f)for(var v=Li[2*f-1],A=0;A<2*f;A+=2)v[A]=J[m+4*A>>2],v[A+1]=J[m+(4*A+4)>>2];else v=J.subarray(m>>2,m+8*f>>2);Y.uniform2iv(At(a),v)}},Wc:function(a,f,m,v){Y.uniform3f(At(a),f,m,v)},Vc:function(a,f,m){if(2<=ut.version)f&&Y.uniform3fv(At(a),ae,m>>2,3*f);else{if(96>=f)for(var v=Ht[3*f-1],A=0;A<3*f;A+=3)v[A]=ae[m+4*A>>2],v[A+1]=ae[m+(4*A+4)>>2],v[A+2]=ae[m+(4*A+8)>>2];else v=ae.subarray(m>>2,m+12*f>>2);Y.uniform3fv(At(a),v)}},Uc:function(a,f,m,v){Y.uniform3i(At(a),f,m,v)},Tc:function(a,f,m){if(2<=ut.version)f&&Y.uniform3iv(At(a),J,m>>2,3*f);else{if(96>=f)for(var v=Li[3*f-1],A=0;A<3*f;A+=3)v[A]=J[m+4*A>>2],v[A+1]=J[m+(4*A+4)>>2],v[A+2]=J[m+(4*A+8)>>2];else v=J.subarray(m>>2,m+12*f>>2);Y.uniform3iv(At(a),v)}},Sc:function(a,f,m,v,A){Y.uniform4f(At(a),f,m,v,A)},Rc:function(a,f,m){if(2<=ut.version)f&&Y.uniform4fv(At(a),ae,m>>2,4*f);else{if(72>=f){var v=Ht[4*f-1],A=ae;m>>=2;for(var I=0;I<4*f;I+=4){var U=m+I;v[I]=A[U],v[I+1]=A[U+1],v[I+2]=A[U+2],v[I+3]=A[U+3]}}else v=ae.subarray(m>>2,m+16*f>>2);Y.uniform4fv(At(a),v)}},Fc:function(a,f,m,v,A){Y.uniform4i(At(a),f,m,v,A)},Gc:function(a,f,m){if(2<=ut.version)f&&Y.uniform4iv(At(a),J,m>>2,4*f);else{if(72>=f)for(var v=Li[4*f-1],A=0;A<4*f;A+=4)v[A]=J[m+4*A>>2],v[A+1]=J[m+(4*A+4)>>2],v[A+2]=J[m+(4*A+8)>>2],v[A+3]=J[m+(4*A+12)>>2];else v=J.subarray(m>>2,m+16*f>>2);Y.uniform4iv(At(a),v)}},Hc:function(a,f,m,v){if(2<=ut.version)f&&Y.uniformMatrix2fv(At(a),!!m,ae,v>>2,4*f);else{if(72>=f)for(var A=Ht[4*f-1],I=0;I<4*f;I+=4)A[I]=ae[v+4*I>>2],A[I+1]=ae[v+(4*I+4)>>2],A[I+2]=ae[v+(4*I+8)>>2],A[I+3]=ae[v+(4*I+12)>>2];else A=ae.subarray(v>>2,v+16*f>>2);Y.uniformMatrix2fv(At(a),!!m,A)}},Ic:function(a,f,m,v){if(2<=ut.version)f&&Y.uniformMatrix3fv(At(a),!!m,ae,v>>2,9*f);else{if(32>=f)for(var A=Ht[9*f-1],I=0;I<9*f;I+=9)A[I]=ae[v+4*I>>2],A[I+1]=ae[v+(4*I+4)>>2],A[I+2]=ae[v+(4*I+8)>>2],A[I+3]=ae[v+(4*I+12)>>2],A[I+4]=ae[v+(4*I+16)>>2],A[I+5]=ae[v+(4*I+20)>>2],A[I+6]=ae[v+(4*I+24)>>2],A[I+7]=ae[v+(4*I+28)>>2],A[I+8]=ae[v+(4*I+32)>>2];else A=ae.subarray(v>>2,v+36*f>>2);Y.uniformMatrix3fv(At(a),!!m,A)}},Jc:function(a,f,m,v){if(2<=ut.version)f&&Y.uniformMatrix4fv(At(a),!!m,ae,v>>2,16*f);else{if(18>=f){var A=Ht[16*f-1],I=ae;v>>=2;for(var U=0;U<16*f;U+=16){var R=v+U;A[U]=I[R],A[U+1]=I[R+1],A[U+2]=I[R+2],A[U+3]=I[R+3],A[U+4]=I[R+4],A[U+5]=I[R+5],A[U+6]=I[R+6],A[U+7]=I[R+7],A[U+8]=I[R+8],A[U+9]=I[R+9],A[U+10]=I[R+10],A[U+11]=I[R+11],A[U+12]=I[R+12],A[U+13]=I[R+13],A[U+14]=I[R+14],A[U+15]=I[R+15]}}else A=ae.subarray(v>>2,v+64*f>>2);Y.uniformMatrix4fv(At(a),!!m,A)}},Kc:function(a){a=wr[a],Y.useProgram(a),Y.Lf=a},Lc:function(a,f){Y.vertexAttrib1f(a,f)},Mc:function(a,f){Y.vertexAttrib2f(a,ae[f>>2],ae[f+4>>2])},Nc:function(a,f){Y.vertexAttrib3f(a,ae[f>>2],ae[f+4>>2],ae[f+8>>2])},Oc:function(a,f){Y.vertexAttrib4f(a,ae[f>>2],ae[f+4>>2],ae[f+8>>2],ae[f+12>>2])},pc:function(a,f){Y.vertexAttribDivisor(a,f)},qc:function(a,f,m,v,A){Y.vertexAttribIPointer(a,f,m,v,A)},Pc:function(a,f,m,v,A,I){Y.vertexAttribPointer(a,f,m,!!v,A,I)},Qc:function(a,f,m,v){Y.viewport(a,f,m,v)},rb:function(a,f,m,v){Y.waitSync(si[a],f,(m>>>0)+4294967296*v)},j:ja,m:zt,k:rl,H:za,Lb:sl,Z:uu,Y:Va,P:oa,o:il,y:al,u:ol,t:ui,Kb:cu,Mb:oo,Nb:su,tb:(a,f,m,v)=>ou(a,f,m,v)};(function(){function a(m){if(W=m=m.exports,X=W.bd,Fe(),_e=W.ed,se.unshift(W.cd),Te--,n.monitorRunDependencies&&n.monitorRunDependencies(Te),Te==0&&ke){var v=ke;ke=null,v()}return m}var f={a:nl};if(Te++,n.monitorRunDependencies&&n.monitorRunDependencies(Te),n.instantiateWasm)try{return n.instantiateWasm(f,a)}catch(m){$("Module.instantiateWasm callback failed with error: "+m),o(m)}return In(f,function(m){a(m.instance)}).catch(o),{}})();var Fn=n._malloc=a=>(Fn=n._malloc=W.dd)(a),jr=n._free=a=>(jr=n._free=W.fd)(a),Ha=a=>(Ha=W.gd)(a);n.__embind_initialize_bindings=()=>(n.__embind_initialize_bindings=W.hd)();var Vt=(a,f)=>(Vt=W.id)(a,f),sn=()=>(sn=W.jd)(),yn=a=>(yn=W.kd)(a);n.dynCall_viji=(a,f,m,v,A)=>(n.dynCall_viji=W.ld)(a,f,m,v,A),n.dynCall_vijiii=(a,f,m,v,A,I,U)=>(n.dynCall_vijiii=W.md)(a,f,m,v,A,I,U),n.dynCall_viiiiij=(a,f,m,v,A,I,U,R)=>(n.dynCall_viiiiij=W.nd)(a,f,m,v,A,I,U,R),n.dynCall_jiiiijiiiii=(a,f,m,v,A,I,U,R,F,z,ge,be)=>(n.dynCall_jiiiijiiiii=W.od)(a,f,m,v,A,I,U,R,F,z,ge,be),n.dynCall_viiij=(a,f,m,v,A,I)=>(n.dynCall_viiij=W.pd)(a,f,m,v,A,I),n.dynCall_jii=(a,f,m)=>(n.dynCall_jii=W.qd)(a,f,m),n.dynCall_vij=(a,f,m,v)=>(n.dynCall_vij=W.rd)(a,f,m,v),n.dynCall_iiij=(a,f,m,v,A)=>(n.dynCall_iiij=W.sd)(a,f,m,v,A),n.dynCall_iiiij=(a,f,m,v,A,I)=>(n.dynCall_iiiij=W.td)(a,f,m,v,A,I),n.dynCall_viij=(a,f,m,v,A)=>(n.dynCall_viij=W.ud)(a,f,m,v,A),n.dynCall_ji=(a,f)=>(n.dynCall_ji=W.vd)(a,f),n.dynCall_iij=(a,f,m,v)=>(n.dynCall_iij=W.wd)(a,f,m,v),n.dynCall_jiiiii=(a,f,m,v,A,I)=>(n.dynCall_jiiiii=W.xd)(a,f,m,v,A,I),n.dynCall_jiiiiii=(a,f,m,v,A,I,U)=>(n.dynCall_jiiiiii=W.yd)(a,f,m,v,A,I,U),n.dynCall_jiiiiji=(a,f,m,v,A,I,U,R)=>(n.dynCall_jiiiiji=W.zd)(a,f,m,v,A,I,U,R),n.dynCall_iijj=(a,f,m,v,A,I)=>(n.dynCall_iijj=W.Ad)(a,f,m,v,A,I),n.dynCall_iiiji=(a,f,m,v,A,I)=>(n.dynCall_iiiji=W.Bd)(a,f,m,v,A,I),n.dynCall_iiji=(a,f,m,v,A)=>(n.dynCall_iiji=W.Cd)(a,f,m,v,A),n.dynCall_iijjiii=(a,f,m,v,A,I,U,R,F)=>(n.dynCall_iijjiii=W.Dd)(a,f,m,v,A,I,U,R,F),n.dynCall_vijjjii=(a,f,m,v,A,I,U,R,F,z)=>(n.dynCall_vijjjii=W.Ed)(a,f,m,v,A,I,U,R,F,z),n.dynCall_jiji=(a,f,m,v,A)=>(n.dynCall_jiji=W.Fd)(a,f,m,v,A),n.dynCall_viijii=(a,f,m,v,A,I,U)=>(n.dynCall_viijii=W.Gd)(a,f,m,v,A,I,U),n.dynCall_iiiiij=(a,f,m,v,A,I,U)=>(n.dynCall_iiiiij=W.Hd)(a,f,m,v,A,I,U),n.dynCall_iiiiijj=(a,f,m,v,A,I,U,R,F)=>(n.dynCall_iiiiijj=W.Id)(a,f,m,v,A,I,U,R,F),n.dynCall_iiiiiijj=(a,f,m,v,A,I,U,R,F,z)=>(n.dynCall_iiiiiijj=W.Jd)(a,f,m,v,A,I,U,R,F,z);function zt(a,f,m){var v=sn();try{return _e.get(a)(f,m)}catch(A){if(yn(v),A!==A+0)throw A;Vt(1,0)}}function ui(a,f,m,v,A){var I=sn();try{_e.get(a)(f,m,v,A)}catch(U){if(yn(I),U!==U+0)throw U;Vt(1,0)}}function za(a,f,m,v,A){var I=sn();try{return _e.get(a)(f,m,v,A)}catch(U){if(yn(I),U!==U+0)throw U;Vt(1,0)}}function rl(a,f,m,v){var A=sn();try{return _e.get(a)(f,m,v)}catch(I){if(yn(A),I!==I+0)throw I;Vt(1,0)}}function ja(a,f){var m=sn();try{return _e.get(a)(f)}catch(v){if(yn(m),v!==v+0)throw v;Vt(1,0)}}function il(a,f){var m=sn();try{_e.get(a)(f)}catch(v){if(yn(m),v!==v+0)throw v;Vt(1,0)}}function ol(a,f,m,v){var A=sn();try{_e.get(a)(f,m,v)}catch(I){if(yn(A),I!==I+0)throw I;Vt(1,0)}}function al(a,f,m){var v=sn();try{_e.get(a)(f,m)}catch(A){if(yn(v),A!==A+0)throw A;Vt(1,0)}}function su(a,f,m,v,A,I,U,R,F,z){var ge=sn();try{_e.get(a)(f,m,v,A,I,U,R,F,z)}catch(be){if(yn(ge),be!==be+0)throw be;Vt(1,0)}}function oa(a){var f=sn();try{_e.get(a)()}catch(m){if(yn(f),m!==m+0)throw m;Vt(1,0)}}function oo(a,f,m,v,A,I,U){var R=sn();try{_e.get(a)(f,m,v,A,I,U)}catch(F){if(yn(R),F!==F+0)throw F;Vt(1,0)}}function sl(a,f,m,v,A,I){var U=sn();try{return _e.get(a)(f,m,v,A,I)}catch(R){if(yn(U),R!==R+0)throw R;Vt(1,0)}}function uu(a,f,m,v,A,I,U){var R=sn();try{return _e.get(a)(f,m,v,A,I,U)}catch(F){if(yn(R),F!==F+0)throw F;Vt(1,0)}}function cu(a,f,m,v,A,I){var U=sn();try{_e.get(a)(f,m,v,A,I)}catch(R){if(yn(U),R!==R+0)throw R;Vt(1,0)}}function Va(a,f,m,v,A,I,U,R,F,z){var ge=sn();try{return _e.get(a)(f,m,v,A,I,U,R,F,z)}catch(be){if(yn(ge),be!==be+0)throw be;Vt(1,0)}}var ao;ke=function a(){ao||Xa(),ao||(ke=a)};function Xa(){function a(){if(!ao&&(ao=!0,n.calledRun=!0,!te)){if(pn(se),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;){var f=n.postRun.shift();ne.unshift(f)}pn(ne)}}if(!(0<Te)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)de();pn(Xe),0<Te||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),a()},1)):a())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return Xa(),e.ready}})();const ws=255,Hp=100,d2=({h:t,s:e,v:n,a:r})=>{const o=t/60,u=e/Hp;let c=n/Hp;const l=Math.floor(o)%6,h=o-Math.floor(o),g=ws*c*(1-u),b=ws*c*(1-u*h),S=ws*c*(1-u*(1-h));c*=ws;const E={};switch(l){case 0:E.r=c,E.g=S,E.b=g;break;case 1:E.r=b,E.g=c,E.b=g;break;case 2:E.r=g,E.g=c,E.b=S;break;case 3:E.r=g,E.g=b,E.b=c;break;case 4:E.r=S,E.g=g,E.b=c;break;case 5:E.r=c,E.g=g,E.b=b;break}return E.r=Math.round(E.r),E.g=Math.round(E.g),E.b=Math.round(E.b),{...E,a:r}};function h2(t){const e=t.replace("#","");let n=t;/^#?/.test(n)&&e.length===3&&(n=`#${e.charAt(0)}${e.charAt(0)}${e.charAt(1)}${e.charAt(1)}${e.charAt(2)}${e.charAt(2)}`);const[r,o,u=0,c]=n.match(/[A-Za-z0-9]{2}/g).map(l=>parseInt(l,16));return{r,g:o,b:u,a:c?c/ws:1}}function im({r:t,g:e,b:n}){const r=t<<16|e<<8|n;return`#${(o=>new Array(7-o.length).join("0")+o)(r.toString(16))}`}function p2(t){return im(d2(t))}function UI(t,e,n){return p2({h:t,s:e,v:n,a:1})}function WI(t,e,n=180){let r=n;if(r>=360&&(r-=360),r<0&&(r+=360),r=Math.round(r),r===0)return{x0:Math.round(t/2),y0:e,x1:Math.round(t/2),y1:0};if(r===180)return{x0:Math.round(t/2),y0:0,x1:Math.round(t/2),y1:e};if(r===90)return{x0:0,y0:Math.round(e/2),x1:t,y1:Math.round(e/2)};if(r===270)return{x0:t,y0:Math.round(e/2),x1:0,y1:Math.round(e/2)};const o=Math.round(Math.asin(t/Math.sqrt(t**2+e**2))*180/Math.PI);if(r===o)return{x0:0,y0:e,x1:t,y1:0};if(r===180-o)return{x0:0,y0:0,x1:t,y1:e};if(r===180+o)return{x0:t,y0:0,x1:0,y1:e};if(r===360-o)return{x0:t,y0:e,x1:0,y1:0};let u=0,c=0,l=0,h=0;if(r<o||r>180-o&&r<180||r>180&&r<180+o||r>360-o){const g=r*Math.PI/180,b=r<o||r>360-o?e/2:-e/2,S=Math.tan(g)*b,E=r<o||r>180-o&&r<180?t/2-S:-t/2-S,L=Math.sin(g)**2*E;l=S+L,h=b+L/Math.tan(g),u=-l,c=-h}if(r>o&&r<90||r>90&&r<180-o||r>180+o&&r<270||r>270&&r<360-o){const g=(90-r)*Math.PI/180,b=r>o&&r<90||r>90&&r<180-o?t/2:-t/2,S=Math.tan(g)*b,E=r>o&&r<90||r>270&&r<360-o?e/2-S:-e/2-S,L=Math.sin(g)**2*E;l=b+L/Math.tan(g),h=S+L,u=-l,c=-h}return u=Math.round(u+t/2),c=Math.round(e/2-c),l=Math.round(l+t/2),h=Math.round(e/2-h),{x0:u,y0:c,x1:l,y1:h}}class zp{constructor(e){this.r=0,this.g=0,this.b=0,this.a=1,this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}toFigmaArray(){return[this.r/255,this.g/255,this.b/255,this.a]}toFigmaColor(){return{r:this.r/255,g:this.g/255,b:this.b/255,a:this.a}}toHex(){return im({r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b)})}}function hn(t){if(typeof t=="string"){const e=h2(t);return typeof e.a!="number"&&(e.a=1),new zp(e)}return new zp({r:t.r*255,g:t.g*255,b:t.b*255,a:t.a})}var $u,g2=new Uint8Array(16);function m2(){if(!$u&&($u=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!$u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $u(g2)}const y2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function v2(t){return typeof t=="string"&&y2.test(t)}var Bn=[];for(var ef=0;ef<256;++ef)Bn.push((ef+256).toString(16).substr(1));function w2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Bn[t[e+0]]+Bn[t[e+1]]+Bn[t[e+2]]+Bn[t[e+3]]+"-"+Bn[t[e+4]]+Bn[t[e+5]]+"-"+Bn[t[e+6]]+Bn[t[e+7]]+"-"+Bn[t[e+8]]+Bn[t[e+9]]+"-"+Bn[t[e+10]]+Bn[t[e+11]]+Bn[t[e+12]]+Bn[t[e+13]]+Bn[t[e+14]]+Bn[t[e+15]]).toLowerCase();if(!v2(n))throw TypeError("Stringified UUID is invalid");return n}function b2(t,e,n){t=t||{};var r=t.random||(t.rng||m2)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,w2(r)}function S2(t,e){throw new Error([t,e.toString()].join(`
`))}function om(){return b2()}const pd=om;function tf(t,e,n="color"){let r=1,o="",u=t;if(/^#/.test(t)||(u=""),/^#[0-9a-fA-F]{3}$/.test(t)){const h=t.replace("#","");u=`#${h}${h}`}const c=u.replace("#","").match(/\w{1,2}/g),l=[];return c&&c.forEach((h,g)=>{if(g===3){const S=parseInt(h,16);r=Math.round(S/255*100)/100;return}let b=h;e!=="6hex"&&(b=parseInt(h,16)),l.push(b)}),l.length&&(e==="6hex"&&(o=`#${l.join("")}`),e==="rgb"&&(o=`rgb(${l.join(",")})`),e==="rgba"&&(o=`rgba(${l.join(",")},${r})`)),n==="colorList"?{color:JSON.stringify(l),opacity:r}:{color:o,opacity:r}}function HI(t){if(/xxtool-release\.obs\.cn-north-4\.myhuaweicloud\.com\/pc\/sucai\/parse_xml/.test(t))return`/dev-proxy/xxtool-release${t.split("parse_xml")[1]}`;const e=/data:image\/svg\+xml;charset=utf-8,/;if(e.test(t)){const n=t.replace(e,"");return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`}return t}function x2(){if(typeof window<"u"){const t=navigator.userAgent.toLowerCase();return/msie/.test(t)?"ie":/firefox/.test(t)?"firefox":/chrome/.test(t)?"chrome":/opera/.test(t)?"opera":/safari/.test(t)?"safari":/tencenttraveler/.test(t)||/qqbrowse/.test(t)?"qq":""}return""}function am(t,e){const n={type:"SOLID",color:hn(t).toFigmaColor(),blendMode:"NORMAL",visible:!0,opacity:1};return e==null||e(n),n}function gd(){return{imageSource:"",naturalWidth:0,naturalHeight:0,imageX:0,imageY:0,width:0,height:0,rotate:0,opacity:1,flipH:!1,flipV:!1,imageScaleMode:"FILL"}}function Yo(t){const e=pd();return{id:e,guid:t.generateGUID(),parentId:"",left:0,top:0,width:0,height:0,rotate:0,name:e.slice(0,8),isLocked:!1,visible:!0,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()}}}function sm(t){return{...Yo(t),nodeType:"GROUP",shimmerAtApearance:!1}}function zI(t,e){const n={...Yo(t),nodeType:"SECTION",shimmerAtApearance:!1,fillPaints:[],sectionStatusInfo:{status:"BUILD"}};return e==null||e(n),n}function jI(t,e){const n={...Yo(t),nodeType:"FRAME",shimmerAtApearance:!1,frameMaskDisabled:!1,cornerRadius:0,fillGeometry:[],strokeGeometry:[],strokePaints:[],fillPaints:[{type:"SOLID",blendMode:"NORMAL",opacity:1,color:hn("#FFFFFF").toFigmaColor(),visible:!0}],resizeToFit:!1};return e==null||e(n),n}function VI(t,e){const n={...Yo(t),nodeType:"SYMBOL",userFacingVersion:"",sharedSymbolVersion:"",isSymbolPublishable:!0,shimmerAtApearance:!1,frameMaskDisabled:!1,cornerRadius:0,fillGeometry:[],fillPaints:[],strokeGeometry:[],strokePaints:[],resizeToFit:!1};return e==null||e(n),n}function um(t){return{id:pd(),guid:{sessionID:0,localID:0},parentId:"",nodeType:"IMAGE",left:0,top:0,width:0,height:0,rotate:0,name:"",isLocked:!1,visible:!0,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()},shimmerAtApearance:!1,strokePaints:[],extra:{mattingMask:{maskURL:""},minimumScalePercent:100,backgroundColor:"",polygonPointIdList:[],shapeMask:{id:"",maskURL:"",maskType:0},rectList:[],sourceList:[]}}}function E2(t){return{characters:t,characterStyleIDs:t.split("").map(()=>0),styleOverrideTable:[],lines:[]}}const XI=A2;function A2(t,{width:e,height:n,text:r,fontSize:o,lineHeight$$:u,letterSpacing:c,bold:l,italic:h,textDecoration:g,writingMode:b,fontName:S},E){const L={...Yo(t),shimmerAtApearance:!1,nodeType:"TEXT",fontSize:o,fontName:S||{fullname:"",family:"",style:"",postscript:""},fontStyle:h?"ITALIC":"NORMAL",fontWeight:l?"BOLD":"NORMAL",textData:E2(r),textAutoResize:"NONE",textAlignHorizontal:"LEFT",textDecoration:g||"NONE",letterSpacing:{value:c||0,units:"PERCENT"},lineHeight:{value:u||1.2,units:"PERCENT"},writingMode:b||"horizontal-tb",width:e,height:n||0,strokeWeight:1,strokeAlign:"CENTER",strokeJoin:"MITER",strokeCap:"ROUND",dashPattern:[0,0],miterLimit:0,fillPaints:[am("#000000")],strokePaints:[],effects:[]};return E==null||E(L),L}function YI(t,e){const n={...Yo(t),nodeType:"vector",...cm(),vectorData:{vectorNetwork:{vertices:[],segments:[],regions:[]},normalizedSize:{x:0,y:0},styleOverrideTable:[]},shimmerAtApearance:!1};return n.strokeAlign="CENTER",e==null||e(n),n}function cm(){return{strokeGeometry:[],strokePaints:[],fillGeometry:[],fillPaints:[],strokeAlign:"INSIDE",strokeCap:"NONE",strokeJoin:"MITER",miterLimit:0,strokeWeight:1,dashPattern:[0,0]}}function KI(t,e){const n={...Yo(t),nodeType:"ROUNDED_RECTANGLE",shimmerAtApearance:!1,cornerRadius:0,...cm()};return e==null||e(n),n}var lm={exports:{}},fm={exports:{}};(function(t){function e(o,u,c,l,h,g){return(o<=h||c<=h)&&(h<=o||h<=c)&&(u<=g||l<=g)&&(g<=u||g<=l)}function n(o,u,c,l,h,g){var b=(h-o)*(l-u),S=(c-o)*(g-u);return b<S?-1:b>S?1:0}function r(o,u,c,l,h,g,b,S){var E=n(h,g,b,S,o,u),L=n(h,g,b,S,c,l),P=n(o,u,c,l,h,g),O=n(o,u,c,l,b,S);return(E>0&&L<0||E<0&&L>0)&&(P>0&&O<0||P<0&&O>0)||E===0&&e(h,g,b,S,o,u)||L===0&&e(h,g,b,S,c,l)||P===0&&e(o,u,c,l,h,g)||O===0&&e(o,u,c,l,b,S)}t.exports&&(t.exports=r)})(fm);var C2=fm.exports,dm={exports:{}};(function(t){function e(n,r){var o,u,c=!1,l=r.length;for(o=0,u=l-1;o<l;u=o++)r[o][1]>n[1]!=r[u][1]>n[1]&&n[0]<(r[u][0]-r[o][0])*(n[1]-r[o][1])/(r[u][1]-r[o][1])+r[o][0]&&(c=!c);return c}t.exports&&(t.exports=e)})(dm);var _2=dm.exports;(function(t){var e=C2,n=_2;function r(c,l){var h;for(h=0;h<c.length;h+=1)if(n(c[h],l))return!0;for(h=0;h<l.length;h+=1)if(n(l[h],c))return!0;return!1}function o(c,l){for(var h=0;h<c.length-1;h+=1)for(var g=0;g<l.length-1;g+=1)if(e(c[h][0],c[h][1],c[h+1][0],c[h+1][1],l[g][0],l[g][1],l[g+1][0],l[g+1][1]))return!0;return!1}function u(c,l){return!!(r(c,l)||o(c,l))}t.exports&&(t.exports=u)})(lm);var T2=lm.exports;const L2=Xo(T2);function P2(t,e){return Math.sqrt(t*t+e*e)}function QI(t,e,n,r,o,u,c,l){if(t===n&&e===r||o===c&&u===l)return null;const h=(l-u)*(n-t)-(c-o)*(r-e);if(h===0)return null;const g=((c-o)*(e-u)-(l-u)*(t-o))/h,b=t+g*(n-t),S=e+g*(r-e);return{x:b,y:S}}function hm({x:t,y:e,width:n,height:r,rotate:o}){const u=pm({leftTop:{x:t,y:e},width:n,height:r,rotate:o});return{left:u.x-n/2,top:u.y-r/2}}function pm({leftTop:t,width:e,height:n,rotate:r}){const o=P2(e,n)/2,u=r,c=Math.atan(n/e)/Math.PI*180,l=u+c;return Xu(t,Vu(o,l))}function M2(t,e,n,r){const{leftTop:o,rightTop:u,leftBottom:c}=Ca(t),l=Math.sqrt(e*e+n*n)/2;let h={x:0,y:0};if(r==="left"||r==="top"){const b=t.rotate,S=Math.atan(n/e)/Math.PI*180,E=b+S;h=Xu(o,Vu(l,E))}else if(r==="right"){const b=90+t.rotate+Math.atan(e/n)/Math.PI*180;h=Xu(u,Vu(l,b))}else if(r==="bottom"){const b=t.rotate,S=-Math.atan(n/e)/Math.PI*180,E=b+S;h=Xu(c,Vu(l,E))}return{x:h.x-e/2,y:h.y-n/2}}function md(t){return{x:t.left+t.width/2,y:t.top+t.height/2}}function I2(t){let e=Math.round(t);for(;e>180;)e-=360;for(;e<-180;)e+=360;return e}function gm(t,e){const n={x:t.x-e.x,y:t.y-e.y};return Math.atan2(n.y,n.x)*(180/Math.PI)}function Vu(t,e){return{x:t*Math.cos(e/180*Math.PI),y:t*Math.sin(e/180*Math.PI)}}function k2(t,e){return{x:e.x-t.x,y:e.y-t.y}}function Xu(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Ca(t){const e=md(t),n=Gi("global",{x:-t.width/2,y:-t.height/2},-t.rotate),r=Gi("global",{x:t.width/2,y:-t.height/2},-t.rotate),o=Gi("global",{x:-t.width/2,y:t.height/2},-t.rotate),u=Gi("global",{x:t.width/2,y:t.height/2},-t.rotate);return{center:e,leftTop:{x:n.x+e.x,y:n.y+e.y},rightTop:{x:r.x+e.x,y:r.y+e.y},leftBottom:{x:o.x+e.x,y:o.y+e.y},rightBottom:{x:u.x+e.x,y:u.y+e.y}}}function zo(t){const e=Ca(t);return[e.leftTop,e.leftBottom,e.rightBottom,e.rightTop]}function Gi(t,e,n,r){const o={x:e.x-((r==null?void 0:r.x)||0),y:e.y-((r==null?void 0:r.y)||0)},u=n/360*2*Math.PI,c=Math.cos(u),l=-o.y,h=[o.x*c,o.x*Math.cos(u-.5*Math.PI)],g=[l*Math.cos(.5*Math.PI+u),l*c];return{x:h[0]+g[0],y:-(h[1]+g[1])}}function yd(t,e){return L2(t.map(r=>[r.x,r.y]),e.map(r=>[r.x,r.y]))}function vd(t,e){const n=[t.x,t.y],r=e.map(u=>[u.x,u.y]);let o=!1;for(let u=0,c=r.length-1;u<r.length;u+=1)r[u][1]>n[1]!=r[c][1]>n[1]&&n[0]<(r[c][0]-r[u][0])*(n[1]-r[u][1])/(r[c][1]-r[u][1])+r[u][0]&&(o=!o),c=u;return o}function ks(t){const e=Ye.min(t.map(c=>c.x))||0,n=Ye.max(t.map(c=>c.x))||0,r=Ye.min(t.map(c=>c.y))||0,o=Ye.max(t.map(c=>c.y))||0,u={left:0,top:0,width:0,height:0};return u.left=e,u.top=r,u.width=n-e,u.height=o-r,u}function R2(t){return[{x:t.x,y:t.y},{x:t.x,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height},{x:t.x+t.width,y:t.y}]}function nf(t){const e=Ye.min(t.map(u=>u.x))||0,n=Ye.max(t.map(u=>u.x))||0,r=Ye.min(t.map(u=>u.y))||0,o=Ye.max(t.map(u=>u.y))||0;return[{x:e,y:r},{x:e,y:o},{x:n,y:o},{x:n,y:r}]}function O2(t,e){const n=ks(t.map(u=>Gi("rotated",u,e))),r=pm({width:n.width,height:n.height,leftTop:{x:n.left,y:n.top},rotate:0}),o=Gi("global",r,-e);return{left:o.x-n.width/2,top:o.y-n.height/2,width:n.width,height:n.height,rotate:e}}function qI(t){return ks(zo(t))}function JI(t,e){const n=t.width/t.height;return e.height*n<=e.width?{width:e.height*n,height:e.height}:{width:e.width,height:e.width/n}}function jp(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function F2(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function N2(t,e){return t.x>=0&&t.x<=e.width&&t.y>=0&&t.y<=e.height}function mm(t,e,n,r,o,u,c,l){const h=[],g=[t,c],b=[e,l];let S,E,L,P,O,$,H,X;for(let oe=0;oe<2;++oe){if(oe===0?(E=6*t-12*n+6*o,S=-3*t+9*n-9*o+3*c,L=3*n-3*t):(E=6*e-12*r+6*u,S=-3*e+9*r-9*u+3*l,L=3*r-3*e),Math.abs(S)<1e-12){if(Math.abs(E)<1e-12)continue;P=-L/E,P>0&&P<1&&h.push(P);continue}if(H=E*E-4*L*S,H<0){Math.abs(H)<1e-12&&(P=-E/(2*S),P>0&&P<1&&h.push(P));continue}X=Math.sqrt(H),O=(-E+X)/(2*S),O>0&&O<1&&h.push(O),$=(-E-X)/(2*S),$>0&&$<1&&h.push($)}let W=h.length,te;for(;W--;)P=h[W],te=1-P,g[W]=te*te*te*t+3*te*te*P*n+3*te*P*P*o+P*P*P*c,b[W]=te*te*te*e+3*te*te*P*r+3*te*P*P*u+P*P*P*l;return{min:{x:Math.min.apply(0,g),y:Math.min.apply(0,b)},max:{x:Math.max.apply(0,g),y:Math.max.apply(0,b)}}}function Vp(t,e){return Math.abs(t-e)<1}function Sf(t){let e=t[0];return t.forEach(n=>{n>e&&(e=n)}),e}function ZI(t){if(t.length===0)throw new Error("");let e=t[0];return t.forEach(n=>{n<e&&(e=n)}),e}function ek(t,e){return Math.atan2(-e,t)*180/Math.PI}function tk(t,e){return Math.sqrt(t*t+e*e)}function $2(t,e){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function ym(t){return t.currentStep===null?wd(t):t.currentStep}function wd(t){return t.currentStep=new wm(""),t.currentStep.getOldState().selectionInfo=Ye.cloneDeep(t.selectionInfo),t.currentStep}function vm(t,e){if(t.currentStep)e&&(t.currentStep.name=e);else throw new Error("Current step does not exist");t.history.record()}function B2(){return new wm("")}class wm{constructor(e){this.name="",this.oldState={selectionInfo:null,nodeMap:{}},this.newState={selectionInfo:null,nodeMap:{}},this.mutatedNodesInThisAction={},this.name=e}getOldState(){return this.oldState}getNewState(){return this.newState}handleChildren(e,n){var u;const r=this.oldState.nodeMap[e.id],o=this.newState.nodeMap[e.id];r.children||(r.children={$value:e.children.map(c=>c.id)}),o.children={$value:(u=n.children)==null?void 0:u.map(c=>c)}}handleLife(e,n){const r=this.oldState.nodeMap[e.id],o=this.newState.nodeMap[e.id];if(n.life){if(n.life.type==="replacePage"){if(e.nodeType!=="DOCUMENT")throw new Error;r.life={$value:{type:"replacePage",newPage:Ye.cloneDeep(e.children[0])}},o.life={$value:{type:"replacePage",newPage:Ye.cloneDeep(n.life.newPage)}}}else if(n.life.type==="createChildren"){const u={};Ye.mapKeys(n.life.newLayers,c=>{u[c.id]=!0}),r.life={$value:{type:"delete",deletedNodes:u,children:e.children.map(c=>c.id),isGrouping:n.life.isGrouping}},o.life={$value:{type:"createChildren",newLayers:Ye.cloneDeep(n.life.newLayers),children:Ye.cloneDeep(n.life.children),isGrouping:n.life.isGrouping}}}else if(n.life.type==="delete"){const{deletedNodes:u}=n.life,c={};e.children.forEach(l=>{u[l.id]&&l.nodeType!=="CANVAS"&&(c[l.id]=Ye.cloneDeep(l))}),r.life={$value:{type:"createChildren",newLayers:c,children:e.children.map(l=>l.id),isGrouping:n.life.isGrouping}},o.life={$value:{type:"delete",deletedNodes:Ye.cloneDeep(n.life.deletedNodes),children:Ye.cloneDeep(n.life.children),isGrouping:n.life.isGrouping}}}}}update(e){if(e.type==="CanvasNode")return;const{layer:n,data:r}=e;this.mutatedNodesInThisAction[n.id]=!0;const{id:o}=n;this.oldState.nodeMap[o]||(this.oldState.nodeMap[o]={editInfo:{$value:{...n.editInfo}}},this.newState.nodeMap[o]={editInfo:{$value:{userId:"",createdAt:n.editInfo.createdAt,lastEditedAt:new Date().getTime()}}});const u=this.oldState.nodeMap[o],c=this.newState.nodeMap[o];Object.keys(r).forEach(l=>{var g;const h=l;if(!(typeof r[h]>"u"&&!(h==="smartShape"||h==="image"))){if(h==="life"){this.handleLife(n,r);return}if(l!=="editInfo"){if(h==="children"){this.handleChildren(n,r);return}if(u[h]||(u[h]={$value:Ye.cloneDeep(n[h])},(h==="effects"||h==="strokeGeometry"||h==="strokePaints"||h==="fillPaints")&&n.nodeType!=="CANVAS"&&typeof n[h]>"u"&&(n[h]=[]),(n.nodeType==="ROUNDED_RECTANGLE"||n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE")&&h==="image"&&!n.image&&(n.image=gd()),c[h]={$value:Ye.cloneDeep(n[h])}),typeof r[h]=="function"){const b=r[h];if(b((g=c[h])==null?void 0:g.$value),b(n[h]),n.nodeType==="TEXT"&&n.textData.characters.length!==n.textData.characterStyleIDs.length)throw new Error("textData mismatch")}else n[h]=Ye.cloneDeep(r[h]),c[h]={$value:Ye.cloneDeep(r[h])}}}})}getNewAction(){const e={};Object.keys(this.mutatedNodesInThisAction).length===0?Object.assign(e,this.newState.nodeMap):Object.keys(this.mutatedNodesInThisAction).forEach(r=>{this.newState.nodeMap[r]&&(e[r]=this.newState.nodeMap[r])});const n={type:"UpdateNodes",payload:{layerMap:e}};return this.mutatedNodesInThisAction={},n}getOldAction(){return{type:"UpdateNodes",payload:{layerMap:this.oldState.nodeMap}}}}const D2=300;function fc(t){return t/180*Math.PI}function dc(t,e,n){const r=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n));return{width:e*o+t*r,height:e*r+t*o}}function bm({frame:t,image:e}){const n=t.width/e.naturalWidth,r=t.height/e.naturalHeight;return Math.max(n,r)}function Sm({frame:t,image:e}){const n=dc(t.width,t.height,fc(e.rotate)),r=2*(n.width/2+Math.abs(e.imageX))/e.naturalWidth,o=2*(n.height/2+Math.abs(e.imageY))/e.naturalHeight;return Math.max(r,o)}function xm(t){if(t.image){const e=Sm({frame:t,image:t.image});if((t.image.width+.5)/t.image.naturalWidth<e||(t.image.height+.5)/t.image.naturalHeight<e)return!1}return!0}function nk(t,e){e.imageX=0,e.imageY=0;let n=t.width,r=e.naturalHeight*(t.width/e.naturalWidth);r<t.height&&(r=t.height,n=e.naturalWidth*(t.height/e.naturalHeight)),e.width=n,e.height=r}function rk({layer:t,step:e}){if(t.image){let n=t.width,r=t.image.naturalHeight*(t.width/t.image.naturalWidth);r<t.height&&(r=t.height,n=t.image.naturalWidth*(t.height/t.image.naturalHeight)),e.update({layer:t,data:{image(o){o.imageX=0,o.imageY=0,o.rotate=0,o.width=n,o.height=r}}})}}function G2(t,e){if(t.image){const n=Gi("rotated",{x:-e.x,y:-e.y},t.rotate+t.image.rotate);t.image.imageX+=n.x,t.image.imageY+=n.y}}function Em(t,e,n){if(t.image){n.resetImagePosition&&e.update({layer:t,data:{image(o){o.imageX=0,o.imageY=0}}});const r=Sm({frame:t,image:t.image});e.update({layer:t,data:{image(o){o.width=o.naturalWidth*r,o.height=o.naturalHeight*r}}})}}function Am(t,e,n){const r=ym(t),{image:o}=e;if(o){const u=dc(e.width,e.height,fc(o.rotate));u.width=2*(u.width/2+Math.abs(o.imageX)),u.height=2*(u.height/2+Math.abs(o.imageY));let c=1;n?c=Sf([u.width/o.width,u.height/o.height]):c=Sf([1,u.width/o.width,u.height/o.height]);const l=bm({frame:e,image:o});o.width*c/o.naturalWidth/l*100>D2?Em(e,r,{resetImagePosition:!0}):r.update({layer:e,data:{image(g){g.width*=c,g.height*=c,g.imageX*=c,g.imageY*=c}}})}}function ik(t,e,n){xm(e)===!1&&Em(e,n,{resetImagePosition:!0})}function ok({layer:t,step:e}){if(t.image&&xm(t)===!1){const n=dc(t.width,t.height,fc(t.image.rotate)),r=t.image.width<n.width?n.width/t.image.width:1,o=t.image.height<n.height?n.height/t.image.height:1,u=Ye.max([r,o]);u&&(t.image.width*=u,t.image.height*=u,Cm(t,{step:e}))}}function Cm(t,{step:e}){const{image:n}=t;if(n){const r=dc(t.width,t.height,fc(n.rotate)),o=Sf([1,r.width/n.width,r.height/n.height]),u={width:n.width,height:n.height,imageX:n.imageX,imageY:n.imageY};u.width*=o,u.height*=o;const c=r.width/2-u.width/2,l=-(r.width/2)+u.width/2,h=r.height/2-u.height/2,g=-(r.height/2)+u.height/2,b={x:Math.min(l,Math.max(c,n.imageX)),y:Math.min(g,Math.max(h,n.imageY))};u.imageX=b.x,u.imageY=b.y,e.update({layer:t,data:{image(S){S.width=u.width,S.height=u.height,S.imageX=u.imageX,S.imageY=u.imageY}}})}}const Xp=6,ak="150ms";async function U2(t){return new Promise((e,n)=>{const r=new Image;r.crossOrigin="anonymous",r.src=t,r.onload=()=>{e(r)},r.onerror=()=>{n()}})}async function _m(t){const e=await U2(t),{naturalWidth:n,naturalHeight:r}=e,o=gd();return o.width=n,o.height=r,o.naturalWidth=n,o.naturalHeight=r,o.imageSource=t,{imageInfo:o,imageElement:e}}function W2({frame:t,image:e}){e.imageX=0,e.imageY=0;let n=t.width,r=e.naturalHeight*(t.width/e.naturalWidth);r<t.height&&(r=t.height,n=e.naturalWidth*(t.height/e.naturalHeight)),e.width=n,e.height=r}function Tm(t){t.image&&W2({frame:t,image:t.image})}function sk(t){t.image&&(t.image.rotate=0,t.extra.minimumScalePercent=100)}function H2(t){if(t.image){const e=t.image.height/t.image.width;return Ye.max([t.width,t.height/e])||0}return 0}function uk(t,e){t.image&&(t.image.opacity=e/100)}function ck(t){t.image&&(t.image.flipH=!t.image.flipH)}function lk(t){t.image&&(t.image.flipV=!t.image.flipV)}async function fk(t,e){if(!e){t&&t.nodeType==="IMAGE"&&(t.image=void 0);return}const{imageInfo:n}=await _m(e);t&&t.nodeType==="IMAGE"&&(t.image=n,Tm(t))}function dk(t,e,n,{step:r,autoAdjust:o}){if(t&&t.image){const u=Gi("rotated",{x:e,y:n},t.rotate+t.image.rotate),c=t.image.imageX+u.x,l=t.image.imageY+u.y;r.update({layer:t,data:{image(h){h.imageX=c,h.imageY=l}}}),o&&Cm(t,{step:r})}}function hk(t,e){return Math.min(t.width,t.height)*(.5*e/100)}function pk(t,e=!1){const n=[];function r(o){o.forEach(u=>{u.nodeType==="IMAGE"&&(e||Lm(u))&&n.push(u),u.nodeType==="GROUP"&&r(u.children)})}return r(t),n}function gk(t){const e=[];function n(r){r.forEach(o=>{o.nodeType==="IMAGE"&&Lm(o)&&!o.isLocked&&e.push(o),o.nodeType==="GROUP"&&!o.isLocked&&n(o.children)})}return n(t),e}function mk(t,{padding:e=0,rotate:n=0,flipV:r=!1,flipH:o=!1}){return new Promise(u=>{const c=document.createElement("canvas"),l=c.getContext("2d");let h=1;const g=Math.max(t.width,t.height);g>1e3&&(h=g/1e3);const b=t.width/h,S=t.height/h,E=$2({x:0,y:0},{x:b,y:S});c.width=E,c.height=E;const L=c.width/2,P=c.height/2,O=document.createElement("canvas"),$=O.getContext("2d");O.width=b,O.height=S,(r||o)&&($==null||$.translate(o?b:0,r?S:0),$==null||$.scale(o?-1:1,r?-1:1)),$==null||$.drawImage(t,0,0,b,S),l==null||l.translate(L,P),n&&(l==null||l.rotate(n*Math.PI/180)),l==null||l.translate(-L,-P),l==null||l.drawImage(O,L-b/2,P-S/2);const H=l==null?void 0:l.getImageData(0,0,c.width,c.height),{data:X=[],width:W=0,height:te=0}=H||{},oe=()=>{for(let pe=0;pe<W;pe+=1)for(let ae=0;ae<te;ae+=1){const Ie=(ae*W+pe)*4;if(X[Ie+3]>0)return Promise.resolve(pe)}return Promise.resolve(0)},re=()=>{for(let pe=0;pe<te;pe+=1)for(let ae=0;ae<W;ae+=1){const Ie=(pe*W+ae)*4;if(X[Ie+3]>0)return Promise.resolve(pe)}return Promise.resolve(0)},he=()=>{for(let pe=W-1;pe>=0;pe-=1)for(let ae=0;ae<te;ae+=1){const Ie=(ae*W+pe)*4;if(X[Ie+3]>0)return Promise.resolve(pe)}return Promise.resolve(0)},Ae=()=>{for(let pe=te-1;pe>=0;pe-=1)for(let ae=0;ae<W;ae+=1){const Ie=(pe*W+ae)*4;if(X[Ie+3]>0)return Promise.resolve(pe)}return Promise.resolve(0)},J=[oe(),re(),he(),Ae()];Promise.all(J).then(pe=>{let[ae,Ie,Fe,_e]=pe;ae-=e,Ie-=e,Fe+=e,_e+=e;const Xe=Fe-ae,se=_e-Ie,ne=Ie,de=ae;u({contentWidth:Xe*h,contentHeight:se*h,top:ne*h,left:de*h,frameSize:E*h})})})}function Lm(t){return t.nodeType==="IMAGE"&&!!t.extra.shapeMask.maskURL}async function yk(t,e){const n=um(),{imageInfo:r}=await _m(e);return n.image=r,n.width=r.naturalWidth,n.height=r.naturalHeight,Tm(n),n.left=0,n.top=0,n}function Yp(t){return`mainLayer-${t}`}function vk(t){const e=document.querySelectorAll(`#${Yp(t.id)}`);e.length>1&&console.warn("More than one canvas",e);const n=document.getElementById(Yp(t.id));return n||(console.warn("当前图层不存在"),document.createElement("canvas"))}function wk(t){const e=[];function n(r){r.forEach(o=>{o.nodeType!=="GROUP"&&e.push(o),n(o.children)})}return n(t.children),e}function z2(t,e){return t.props.getPanelList().find(r=>r.id===e)||null}function bk(t,e){return z2(t,e)||Pm(t,e)}function Pm(t,e){return t.normalLayerFlatMap[e]?t.normalLayerFlatMap[e]:null}function Sk(t){return t.image?t.image.width/t.image.naturalWidth:1}function xk(t,e){return!(t.options.hasTimeline&&e.timeline&&(t.currentTime<e.timeline.start||t.currentTime>e.timeline.end))}function ti(t){const e=t.getFigma();return e?{fileData:e.context.fileData}:t.libra?{fileData:t.libra.fileData}:null}function j2(t){return t.nodeType==="FRAME"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"||t.nodeType==="SECTION"}function Mm(t){return t.nodeType==="FRAME"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"}function Ek(t){return!!(Mm(t)||t.nodeType==="GROUP")}function Ak(t,e,n){var u;const r=t.snapshotMap;r[e.id]||(r[e.id]={lastUsedAt:0,image:null,contains:{layerIdMap:{},imageUrlMap:{}}});const o=r[e.id];return o.lastUsedAt=new Date().getTime(),(u=o.image)==null||u.delete(),o.image=n,o}function V2(t,e){var r;const n=t.snapshotMap;n[e.id]&&((r=n[e.id].image)==null||r.delete(),delete n[e.id])}function X2(t,e){const n=t.snapshotMap;return n[e.id]?(n[e.id].lastUsedAt=new Date().getTime(),n[e.id].image):null}function $r(t,e){return t.localStore.getLayer(e)}function Im(t,e){const n=[e];return km(t,e,n),n}function km(t,e,n){if(e.parentId){const r=t.getLayer(e.parentId);r&&(j2(r)&&n.unshift(r),km(t,r,n))}}function Rs(t,e){if(e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")return!0;const n=t.localStore.getLayer(e.parentId);return n?Rs(t,n):!1}function Ck(t,e){const n=[];return Rm(t,e,n),n}function Rm(t,e,n){if(e.nodeType==="SYMBOL"&&n.unshift(e.id),e.parentId){const r=$r(t,e.parentId);r&&Rm(t,r,n)}}function Y2(t,e){if(e.parentId){const n=$r(t,e.parentId);return n?Y2(t,n):null}return e}function Om(t,e){delete t.layerAssetsMap[e.id],delete t.layerMap[e.id],V2(t,e),e.nodeType==="FRAME"||e.nodeType==="GROUP"||e.nodeType==="SECTION"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE"?e.children.forEach(n=>{Om(t,n)}):e.nodeType==="IMAGE"||e.nodeType}function _k(t,e){K2(t.localStore.props.getCurrentPage(),e)}function K2(t,e){t.children.forEach(n=>{Fm(n,e)})}function Q2(t){return t.nodeType==="FRAME"||t.nodeType==="GROUP"||t.nodeType==="SECTION"||t.nodeType==="SYMBOL"||t.nodeType==="INSTANCE"?t.children:null}function Fm(t,e){var n;e(t),(n=Q2(t))==null||n.forEach(r=>{Fm(r,e)})}function Os(t,e){if(e.nodeType==="INSTANCE"){const n=e.symbolData.symbolID.id,r=t.localStore.getLayer(n);if(!r)throw new Error("");return r.children}return e.children}function q2(t,e){return t.layerAssetsMap[e.id]||null}function Nm({layer:t,layerInfo:e}){return{width:e.width,height:e.height}}console.log(Kn({left:10,top:10,width:200,height:300,rotate:30}));function Kn({left:t,top:e,width:n,height:r,rotate:o}){const u=-o/180*Math.PI,{leftTop:c}=Ca({left:t,top:e,width:n,height:r,rotate:o}),l=o===90||o===-90?0:Math.cos(u);return[[l,Math.sin(u),c.x],[-Math.sin(u),l,c.y],[0,0,1]]}function hc(t,e){const n=t,r=e,o=[];for(let u=0;u<n.length;u+=1){o[u]=[];for(let c=0;c<r[0].length;c+=1){let l=0;for(let h=0;h<n[0].length;h+=1)l+=n[u][h]*r[h][c];o[u][c]=l}}return o}function xs(t,e){const n=[...t],r=[[e.x],[e.y],[1]],o=hc(n,r);return{x:o[0][0],y:o[1][0]}}function J2(t,e){return hc(t,e)}function jo(t,e){const n=[...t],r=[[e.x],[e.y],[1]],o=hc($m(n),r);return{x:o[0][0],y:o[1][0]}}function Z2(t,e){return hc($m(t),e)}function pc(t){return-Math.atan2(-t[1][0],t[0][0])*(180/Math.PI)}function gc({width:t,height:e,t:n}){const r=n[0][2],o=n[1][2],u=pc(n),{left:c,top:l}=hm({x:r,y:o,width:t,height:e,rotate:u});return{left:c,top:l,rotate:u}}function $m(t){if(t.length!==t[0].length)throw new Error("");let e=0,n=0,r=0;const o=t.length;let u=0;const c=[],l=[];for(e=0;e<o;e+=1)for(c[c.length]=[],l[l.length]=[],r=0;r<o;r+=1)e===r?c[e][r]=1:c[e][r]=0,l[e][r]=t[e][r];for(e=0;e<o;e+=1){if(u=l[e][e],u===0){for(n=e+1;n<o;n+=1)if(l[n][e]!==0){for(r=0;r<o;r+=1)u=l[e][r],l[e][r]=l[n][r],l[n][r]=u,u=c[e][r],c[e][r]=c[n][r],c[n][r]=u;break}if(u=l[e][e],u===0)throw new Error}for(r=0;r<o;r+=1)l[e][r]=l[e][r]/u,c[e][r]=c[e][r]/u;for(n=0;n<o;n+=1)if(n!==e)for(u=l[n][e],r=0;r<o;r+=1)l[n][r]-=u*l[e][r],c[n][r]-=u*c[e][r]}return c}function eE(t,e){const n=[t[0],t[1],[0,0,1]],r=[e[0],e[1],[0,0,1]];return tE(n,r)}function tE(t,e){const n=[];for(let r=0;r<t.length;r+=1){n[r]=[];for(let o=0;o<e[0].length;o+=1){let u=0;for(let c=0;c<t[0].length;c+=1)u+=t[r][c]*e[c][o];n[r][o]=u}}return n}function Bm({fileData:t,info:e}){const n=[];if(e.type==="layer"){const r=$r(t,e.layerId);r&&n.push(...Im(t.localStore,r).map(o=>Kn({left:o.left,top:o.top,width:o.width,height:o.height,rotate:o.rotate})))}return Dm(n)}function Dm(t){let e=[[1,0,0],[0,1,0],[0,0,1]];return[...t].reverse().forEach(n=>{e=eE(n,e)}),e}function zi(t,e){const n=Bm({fileData:t,info:e});return{absoluteTransform:n,rotate:pc(n)}}function Tk(t){const e=nE({localStore:t})||t.bunchRectangle;return{left:e.left*t.getPageScale(),top:e.top*t.getPageScale(),width:e.width*t.getPageScale(),height:e.height*t.getPageScale(),transform:`rotate(${e.rotate}deg)`}}function nE({localStore:t}){const e=ti(t);if(e){const n=t.selectedSingleLayer;if(n){const r=zi(e.fileData,{type:"layer",layerId:n.id}),o=gc({width:n.width,height:n.height,t:r.absoluteTransform});return{width:n.width,height:n.height,...o}}}return null}function bd(t,e){t.bunchRectangle.left=e.left,t.bunchRectangle.top=e.top,t.bunchRectangle.width=e.width,t.bunchRectangle.height=e.height,t.bunchRectangle.rotate=e.rotate}function rE(t){if(t.selectedSingleLayer){const e=t.selectedSingleLayer;e&&bd(t,e)}else{const e=[];t.selectedLayerList.forEach(n=>{if(n){const r=Ca(n);e.push(r.leftTop),e.push(r.rightTop),e.push(r.leftBottom),e.push(r.rightBottom)}}),Object.assign(t.bunchRectangle,ks(e)),t.bunchRectangle.rotate=0}}function iE({layerList:t}){const e=[];return t.forEach(r=>{if(r){const o=Ca(r);e.push(o.leftTop),e.push(o.rightTop),e.push(o.leftBottom),e.push(o.rightBottom)}}),{...ks(e),rotate:0}}function xo(t,e){if(e.parentId){const n=t.getLayer(e.parentId);if(n)return n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="SECTION"?n:xo(t,n)}return null}function Gm(t,e){if(e.parentId){const n=$r(t,e.parentId);if(n)return n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="SECTION"?n:Gm(t,n)}return t.localStore.props.getCurrentPage()}function rf(t,e){return e.map(n=>{const r=t.getLayer(n);if(!r)throw new Error;return r})}function Lk({localStore:t,idList:e}){return e.map(n=>{const r=t.getLayer(n);if(!r)throw new Error(`Layer ${n} does not exist`);return r})}function Mn(t){return!t.stackMode||t.stackMode==="NONE"?"NONE":t.stackMode}function Gn(t,e){const n=[...t];return e.nodeType==="INSTANCE"&&t[t.length-1]!==e&&n.push(e),n}function Sd(t,e){const n={};return Ye.forEach(t.layerMap,(r,o)=>{r.nodeType==="INSTANCE"&&r.symbolData.symbolID.id===e.id&&(n[o]=r)}),n}function oE(t,e,n){const r=Sd(t.fileData,e);Ye.forEach(r,o=>{n(o)})}function Um({layer:t,instanceChain:e}){const n=[...e];return n[n.length-1]!==t&&n.push(t),n}const aE={nodeType:"IMAGE",left:0,top:0,width:0,height:0,rotate:0,name:"",stackMode:"NONE",stackPrimarySizing:"FIXED",stackCounterSizing:"FIXED",stackChildAlignSelf:"AUTO",stackChildPrimaryGrow:0,stackPrimaryAlignItems:"MIN",stackCounterAlignItems:"MIN",stackPositioning:"",stackPaddingTop:0,stackPaddingBottom:0,stackPaddingLeft:0,stackPaddingRight:0,stackSpacing:0,strokeAlign:"INSIDE",strokeCap:"NONE",strokeWeight:1,strokeJoin:"MITER",miterLimit:0,fillGeometry:[],fillPaints:void 0,strokeGeometry:[],strokePaints:[],dashPattern:[0,0],frameMaskDisabled:!1,cornerRadius:0,textAutoResize:"NONE",textData:void 0,vectorData:void 0,effects:void 0,visible:!0};function Jt({localStore:t,layer:e,instanceChain:n,debugging:r}){function o(u){if(e.nodeType==="INSTANCE"&&e===n[0]&&(u==="left"||u==="top"))return e[u];if(n.length>0){let c;for(let l=0;l<n.length;l+=1){const h=n.slice(l);if(c=sE(e,u,n[l],h),c)break}if(c!==void 0)return c}if(e[u]!==void 0)return e[u];if(u==="textData"||u==="vectorData")throw new Error;return aE[u]}return new Proxy({},{get:(u,c)=>o(c)})}function sE(t,e,n,r){let o;const u=Um({layer:t,instanceChain:r});return n.symbolData.symbolOverrides.forEach(c=>{c.guidPath.guids.map(l=>l.id).join("--")===u.map(l=>l.id).join("--")&&c[e]!==void 0&&(o=c[e])}),n.derivedSymbolData.forEach(c=>{c.guidPath.guids.map(l=>l.id).join("--")===u.map(l=>l.id).join("--")&&c[e]!==void 0&&(o=c[e])}),o}const mc=Jt;function xd({localStore:t,layer:e,instanceChain:n,constraintsMap:r}){n=Gn(n,e);const o=mc({localStore:t,layer:e,instanceChain:n});let u=[];const c=t.getFigma();return c&&(u=Os(c.context.fileData,e)),u.length===0||u.forEach(l=>{const h=Jt({localStore:t,layer:l,instanceChain:Gn(n,l)}),g=h;if(g.stackMode==="NONE"||g.stackPositioning==="ABSOLUTE"){const b={};r[l.id]=b,l.horizontalConstraint==="MIN"&&(b.left=h.left),l.horizontalConstraint==="MAX"&&(b.right=o.width-h.left-h.width),l.horizontalConstraint==="STRETCH"&&(b.left=h.left,b.right=o.width-h.left-h.width),l.verticalConstraint==="MIN"&&(b.top=h.top),l.verticalConstraint==="MAX"&&(b.bottom=o.height-h.top-h.height),l.verticalConstraint==="STRETCH"&&(b.top=h.top,b.bottom=o.height-h.top-h.height)}xd({localStore:t,layer:l,instanceChain:n,constraintsMap:r})}),r}function uE(t,e){const n=xo(t,e);return!!(n&&(Mn(n)==="NONE"||e.stackPositioning==="ABSOLUTE"))}function cE(t){return t.horizontalConstraint||"MIN"}function lE(t){return t.verticalConstraint||"MIN"}function fE({localStore:t}){if(t.selectedSingleLayer)return{type:"entity",id:t.selectedSingleLayer.id,completeChain:Im(t,t.selectedSingleLayer).map(n=>({id:n.id,nodeType:n.nodeType}))};const{phantom:e}=t.props.getSelectionInfo();return e?{...e}:null}function Ed({fileData:t,target:e}){const n=[...e.completeChain],r=[],o=[];n.forEach(l=>{l.nodeType==="INSTANCE"&&o.push($r(t,l.id));const h=$r(t,l.id);if(!h)throw new Error("");const g=Jt({localStore:t.localStore,layer:h,instanceChain:o});r.push(Kn(g))});const u=Dm(r),c=$r(t,e.id);if(!c)throw new Error("");return{layer:c,instanceChain:o,absoluteTransform:u,rotate:pc(u)}}function dE(t,e,n){const r=Wm(t,n,t.selectedNormalLayerList);return ir(t,{type:"$selectActiveGroupChild",layerId:r}),r}function hE(t,e,n){ir(t,{type:"$selectGroupLeafLayer",layerId:n.id}),bd(t,n),console.log(Ye.cloneDeep(t.selectedSingleLayer))}function pE(t,e,n){if(ir(t,{type:"replace",idList:[e.id]}),e.nodeType==="GROUP"){if(e.isLocked)return;dE(t,e,n)}}function Pk(t,e){t.layerResolvedFrameMap={},t.getNormalLayerList().forEach(r=>{t.layerResolvedFrameMap[r.id]=Ca(r)});const n=t.getPointInPage(e);t.selectionRectStartPoint=n}function Mk(t,e){t.selectionRectStartPoint=null;const n=t.getPointInPage(e);t.selectionRectEndPoint=n,ir(t,{type:t.controlKeyUnderPress?"add":"replace",idList:Object.keys(t.overlappedLayerIdMap)}),t.overlappedLayerIdMap={},t.selectionRectExists=!1,t.currentStatus=""}const gE=Ye.throttle((t,e)=>{if(t.overlappedLayerIdMap={},t.getFigma()){mE(t);return}Ye.forEach(t.layerResolvedFrameMap,(n,r)=>{var u;if(t.getLayer(r)&&((u=t.getLayer(r))!=null&&u.isLocked))return;yd([{x:t.selectionRectangle.left,y:t.selectionRectangle.top},{x:t.selectionRectangle.left,y:t.selectionRectangle.top+t.selectionRectangle.height},{x:t.selectionRectangle.left+t.selectionRectangle.width,y:t.selectionRectangle.top+t.selectionRectangle.height},{x:t.selectionRectangle.left+t.selectionRectangle.width,y:t.selectionRectangle.top}],[n.leftTop,n.leftBottom,n.rightBottom,n.rightTop])&&(t.overlappedLayerIdMap[r]=!0)})},100);function mE(t){var r;const e={},n=[...((r=t.figma)==null?void 0:r.topLevelLayerList)||[]].reverse();n==null||n.forEach(o=>{const u=zo({...t.selectionRectangle,rotate:0}),c=zo(o);yd(u,c)&&(e[o.id]=!0)}),t.overlappedLayerIdMap=e}function Ik(t,e){t.selectionRectExists=!0;const n=t.getPointInPage(e);t.selectionRectEndPoint=n,gE(t,e)}function yE(t,e,n){for(let r=n.length-1;r>=0;r-=1){const o=n[r],u=t.getPointInPage(e),c=zo(o);if(vd(u,c))return o.id}return""}function Wm(t,e,n){for(let r=n.length-1;r>=0;r-=1){const o=n[r],u=t.getPointInPage(e),c=zo(o);if(vd(u,c))return o.children.length>0?Wm(t,e,o.children):o.id}return""}function vE(t,e){return yE(t,e,t.getNormalLayerList().filter(r=>t.getSelectedLayerIdList().includes(r.id)===!1))}function kk(t,e){const n=vE(t,e);return n&&(t.controlKeyUnderPress?ir(t,{type:"add",idList:[n]}):ir(t,{type:"replace",idList:[n]})),n}function wE(t,e){return t.getSelectedLayerIdList().indexOf(e.id)>-1}function Rk(t,e,n){const r=t.getLayer(e.parentId);r&&r.nodeType==="GROUP"?hE(t,r,e):e.nodeType==="FRAME"?ir(t,{type:"replace",idList:[e.id]}):t.controlKeyUnderPress?bE({localStore:t,layer:e}):pE(t,e,n)}function bE({localStore:t,layer:e}){var r,o;if(t.selectedNormalLayerList.find(u=>u.parentId!=="")){(o=(r=t.props).showMessageForUser)==null||o.call(r,{type:"warn",message:"只能多选同级的图层"});return}wE(t,e)?ir(t,{type:"remove",idList:[e.id]}):ir(t,{type:"add",idList:[e.id]})}function SE(t){const e={layer:null,instanceChain:[]},n=ti(t);if(n){const r=fE({localStore:t});if(r){const{layer:o,instanceChain:u}=Ed({fileData:n.fileData,target:r});e.layer=o,e.instanceChain=u}}return e}function Ok(){return{currentPageIndex:0,selectedLayerIdList:[],phantom:null,activeLayerInGroupId:"",activeGroupLayerId:"",selectedLeafLayerId:"",bunchRectangle:{nodeType:"GROUP",parentId:"",id:"bunchRectangle",name:"",guid:{sessionID:0,localID:0},left:0,top:0,width:0,height:0,rotate:0,isLocked:!1,children:[],editInfo:{userId:"",createdAt:0,lastEditedAt:0},shimmerAtApearance:!1,visible:!0},textRange$:{start:0,end:0}}}function ir(t,e){var r,o;const{selectionInfo:n}=t;if(e.type==="$selectActiveGroupChild")n.activeLayerInGroupId=e.layerId;else if(e.type==="$selectGroupLeafLayer")n.selectedLeafLayerId=e.layerId;else if(e.type==="$startEdittingGroupLayer")n.selectedLayerIdList=[],n.activeLayerInGroupId="",n.activeGroupLayerId=e.layerId;else if(e.type==="$target")n.activeLayerInGroupId="",n.activeGroupLayerId="",n.selectedLeafLayerId="",e.target.type==="entity"?(n.phantom=null,n.selectedLayerIdList=[e.target.id]):(t.selectionInfo.phantom=e.target,n.selectedLayerIdList=[]);else{t.selectionInfo.phantom=null,n.activeLayerInGroupId="",n.activeGroupLayerId="",n.selectedLeafLayerId="";let u=[];e.type==="replace"?u.push(...e.idList):e.type==="add"?(u.push(...t.getSelectedLayerIdList()),u.push(...e.idList)):e.type==="remove"?u.push(...t.getSelectedLayerIdList().filter(c=>!Ye.includes(e.idList,c))):e.type,u=Ye.uniq(u).filter(c=>c),u.length>1&&(u=u.filter(c=>t.getLayer(c)).filter(c=>!t.rootNormalLayerMap[c].isLocked)),t.selectionInfo.selectedLayerIdList.length=0,t.getSelectedLayerIdList().push(...u)}(o=(r=t.props).doAction)==null||o.call(r,{type:"UpdateNodes",payload:{layerMap:{}}})}function Fk(t){var o,u,c,l;const e=(u=(o=t.props).getCurrentPage)==null?void 0:u.call(o);if(!e)return;const n=wd(t),r=xE({localStore:t,candidate:t.bunchRectangle,groupedLayerIdList:t.getSelectedLayerIdList(),parentNode:e,step:n});(l=(c=t.props).doAction)==null||l.call(c,n.getNewAction()),vm(t),ir(t,{type:"replace",idList:[r.id]})}function Nk({localStore:t}){var r,o,u,c;const e=(o=(r=t.props).getCurrentPage)==null?void 0:o.call(r);if(!e)throw new Error("Page not found");const n=t.selectedSingleLayer;if(n&&n.nodeType==="GROUP"){const l=wd(t),h=e.children,g=[];h.forEach(b=>{b.id===n.id?b.children.forEach(S=>{S.parentId="",g.push(S)}):g.push(b)}),l.update({layer:e,data:{life:{type:"delete",deletedNodes:{[n.id]:!0},children:g.map(b=>b.id)}}}),h.length=0,h.push(...g),(c=(u=t.props).doAction)==null||c.call(u,l.getNewAction()),vm(t),ir(t,{type:"replace",idList:n.children.map(b=>b.id)}),n.children=[],t.selectionInfo.bunchRectangle.left=n.left,t.selectionInfo.bunchRectangle.top=n.top,t.selectionInfo.bunchRectangle.width=n.width,t.selectionInfo.bunchRectangle.height=n.height,t.selectionInfo.bunchRectangle.rotate=n.rotate}}function $k(t){if(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="GROUP"){const{id:e}=t.selectedSingleLayer;ir(t,{type:"$startEdittingGroupLayer",layerId:e})}}function Hm(t,e,{step:n}){if(e.parentId){const r=Pm(t,e.parentId);if(r&&r.nodeType==="GROUP"){const o=[];r.children.forEach(c=>{o.push(...zo(c))});const u=O2(o,r.rotate);n.update({layer:r,data:u}),Hm(t,r,{step:n})}}}function Bk({localStore:t,layerList:e}){const n=iE({layerList:e}),r=sm(t);return Object.assign(r,n),e.forEach(o=>{o.parentId=r.id}),r.children=[...e],r}function xE({localStore:t,candidate:e,groupedLayerIdList:n,parentNode:r,step:o}){const u=sm(t);u.left=e.left,u.top=e.top,u.width=e.width,u.height=e.height,u.rotate=e.rotate;const c=[...r.children],l=[];return c.forEach(h=>{n.indexOf(h.id)>-1?(u.children.push(h),h.parentId=u.id,u.children.length===n.length&&l.push(u)):l.push(h)}),o.update({layer:r,data:{life:{type:"createChildren",isGrouping:!0,newLayers:{[u.id]:Ye.cloneDeep(u)},children:l.map(h=>h.id)}}}),r.children.length=0,r.children.push(...l),u}function zm(t){return t.selectedNormalLayerList.length===1?xo(t,t.selectedNormalLayerList[0]):null}function Dk({context:t,localStore:e,singleLayer:n,step:r,pointInContainer:o}){if(e.options.enableEnterAndLeaveRoom===!1)return;const u=zm(e);if(u&&N2(o,u)===!1)EE({localStore:e,context:t,currentRoom:u,singleLayer:n,step:r});else{const c=Gm(t.fileData,n);let l=null;[...c.children].reverse().forEach(h=>{if(h.id!==n.id&&(h.nodeType==="FRAME"||h.nodeType==="SECTION"||h.nodeType==="SYMBOL")&&vd(o,zo(h))&&l===null&&h.width>=n.width&&h.height>=n.height){if(n.nodeType==="SYMBOL"&&h.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"&&n.symbolData.symbolID.id===h.id)return;l=h}}),l&&l.children&&AE({fileData:t.fileData,room:c,nextRoom:l,singleLayer:n,step:r})}}function EE({localStore:t,context:e,currentRoom:n,singleLayer:r,step:o}){if(t.isFullyFunctional===!1)return;const u=xo(t,n)||t.props.getCurrentPage(),c=[];u.children.forEach(S=>{S.id===n.id?(c.push(S.id),c.push(r.id)):S.id!==r.id&&c.push(S.id)}),o.update({layer:u,data:{children:c}}),u.children=c.map(S=>$r(e.fileData,S)),o.update({layer:n,data:{children:n.children.map(S=>S.id).filter(S=>S!==r.id)}}),n.children=n.children.filter(S=>S.id!==r.id);const l=Kn(n),h=Kn(r),g=J2(l,h),b=gc({width:r.width,height:r.height,t:g});o.update({layer:r,data:{parentId:u.nodeType==="CANVAS"?"":u.id,left:b.left,top:b.top,rotate:b.rotate}})}function AE({fileData:t,room:e,nextRoom:n,singleLayer:r,step:o}){const u=e.children.map(S=>S.id).filter(S=>S!==r.id);o.update({layer:e,data:{children:u}}),e.children=u.map(S=>$r(t,S)).filter(S=>S);const c=n.children.map(S=>S.id).concat([r.id]);o.update({layer:n,data:{children:c}}),n.children.push(r);const l=Kn(r),h=Kn(n),g=Z2(h,l),b=gc({width:r.width,height:r.height,t:g});o.update({layer:r,data:{parentId:n.id,left:b.left,top:b.top,rotate:b.rotate}})}function Fs(t){var n;if(!t)throw new Error("element is missing!");return Number((n=document==null?void 0:document.defaultView)==null?void 0:n.getComputedStyle(t).height.replace(/px/,""))}function Ns(t){var n;if(!t)throw new Error("element is missing!");return Number((n=document==null?void 0:document.defaultView)==null?void 0:n.getComputedStyle(t).width.replace(/px/,""))}function yc(t){if(!t)throw new Error("element is missing!");let e=0;return e+=t.offsetTop,t.offsetParent&&(e+=yc(t.offsetParent)),e}function vc(t){if(!t)throw new Error("element is missing!");let e=0;return e+=t.offsetLeft,t.offsetParent&&(e+=vc(t.offsetParent)),e}function Gk(t,e){if(!t)throw new Error("element is missing!");let n=0,r=0;return e&&e.paddingTop&&(n=e.paddingTop),e&&e.paddingBottom&&(r=e.paddingBottom),!(t.getBoundingClientRect().top>=window.innerHeight-r||t.getBoundingClientRect().bottom<=n)}function Uk(t,e,n){let r=(e.pageX-t.appliedPointX)/t.getPageScale(),o=(e.pageY-t.appliedPointY)/t.getPageScale();if(n){const u=jo(n,{x:r,y:o});r=u.x,o=u.y}return t.bunchRectangleXFixed?Math.abs(r)>Xp/t.getPageScale()?(t.bunchRectangleXFixed=!1,t.appliedPointX=e.pageX):r=0:t.appliedPointX=e.pageX,t.bunchRectangleYFixed?Math.abs(o)>Xp/t.getPageScale()?(t.bunchRectangleYFixed=!1,t.appliedPointY=e.pageY):o=0:t.appliedPointY=e.pageY,{x:r,y:o}}function jm(t,e){const n=vc(e),r=yc(e);return{x:t.pageX-n,y:t.pageY-r}}function CE(t,e){t.pointerDownX=e.pageX,t.pointerDownY=e.pageY,t.pointerX=e.pageX,t.pointerY=e.pageY,t.appliedPointX=e.pageX,t.appliedPointY=e.pageY,t.pointerMoved=!1,t.pointerCurrentAngle=I2(gm(t.getPointInContainer(e),t.bunchRectangleCenter)),t.pointerAppliedAngle=t.pointerCurrentAngle,t.bunchRectangleRotationFixed=!1}function Vm(t,e){t.pointerX=e.pageX,t.pointerY=e.pageY}function Wk(t,e){return Vp(t.pointerDownX,e.pageX)&&Vp(t.pointerDownY,e.pageY)}function Hk(t,e){t.pointerRayLengthInPage=e}function zk(t){var e;return(e=t.changedTouches)!=null&&e[0]&&(t.pageX=t.changedTouches[0].pageX,t.pageY=t.changedTouches[0].pageY),t}const _E={name:"",isLocked:!1,width:0,height:0,frameMaskDisabled:!1,stackMode:"NONE",stackPrimarySizing:"FIXED",stackCounterSizing:"FIXED",stackChildAlignSelf:"AUTO",stackChildPrimaryGrow:0,stackPrimaryAlignItems:"MIN",stackCounterAlignItems:"MIN",stackPositioning:"",stackPaddingTop:0,stackPaddingBottom:0,stackPaddingLeft:0,stackPaddingRight:0,stackSpacing:0,visible:!0,effects:[]},TE=Object.keys(_E),LE=["left","top","width","height"];function on({localStore:t,node:e,instanceChain:n,nodeSize:r,data:o,step:u,isResizingInstanceManually:c}){r&&(typeof r.width=="number"||typeof r.height=="number")&&IE({localStore:t,layer:e,step:u,width:r.width,height:r.height}),o&&(e.nodeType==="CANVAS"?u.update({layer:e,data:o}):ME({localStore:t,layer:e,instanceChain:n,data:o,step:u,isResizingInstanceManually:c}))}function PE({localStore:t,layer:e,instanceChain:n,data:r,step:o,topInstance:u,isResizingInstanceManually:c}){const l=Um({layer:e,instanceChain:n}),h={symbolData(g){let b=!1,S=null,E=-1;if(g.symbolOverrides.forEach((L,P)=>{L.guidPath.guids.map(O=>O.id).join("-")===l.map(O=>O.id).join("-")&&(b=!0,E=P,S=L)}),b===!1&&(S={guidPath:{guids:l.map(L=>({...L.guid,id:L.id}))}},g.symbolOverrides.push(S),E=g.symbolOverrides.length-1),S)TE.forEach(L=>{if(S&&r[L]!==void 0)if(L==="width"||L==="height")c&&e===u&&(S[L]=r[L]);else if(L==="effects"){if(!S.effects){const{effects:P}=Jt({localStore:t,layer:e,instanceChain:n});S.effects=Ye.cloneDeep(P||[])}typeof r.effects=="function"&&r.effects(S.effects)}else S[L]=r[L]});else throw new Error;Object.keys(S).filter(L=>L!=="guidPath").length===0&&g.symbolOverrides.splice(E,1)},derivedSymbolData(g){let b=null;g.forEach(S=>{S.guidPath.guids.map(E=>E.id).join("-")===l.map(E=>E.id).join("-")&&(b=S)}),b===null&&(b={guidPath:{guids:l.map(S=>({...S.guid,id:S.id}))}},g.push(b)),LE.forEach(S=>{const E=r[S];b&&typeof E<"u"&&(b[S]=E)})}};o.update({layer:u,data:h})}function ME({localStore:t,layer:e,instanceChain:n,data:r,step:o,isResizingInstanceManually:u}){const c=n[0];t.options.enableSymbolAndInstance&&c&&PE({localStore:t,layer:e,instanceChain:n,isResizingInstanceManually:u,topInstance:c,step:o,data:r}),(!c||e===c)&&o.update({layer:e,data:r})}function IE({localStore:t,layer:e,width:n,height:r,step:o}){if(typeof n=="number"||typeof r=="number"){let u=1,c=1;typeof n=="number"&&(u=n/e.width),typeof r=="number"&&(c=r/e.height);let l=!1;u.toFixed(3)===c.toFixed(3)&&(l=!0),o.update({layer:e,data:{width:n,height:r}}),e.nodeType==="FRAME"&&e.image&&(l?o.update({layer:e,data:{image(h){h.width*=u,h.height*=u,h.imageX*=u,h.imageY*=u}}}):e.image.imageScaleMode==="FILL"?Am(t,e,!0):e.image.imageScaleMode==="STRETCH"&&e.image&&o.update({layer:e,data:{image(h){h.width*=u,h.imageX*=u,h.height*=c,h.imageY*=c}}}))}}var Xm={exports:{}};(function(t){(function(){function e(O,$){document.addEventListener?O.addEventListener("scroll",$,!1):O.attachEvent("scroll",$)}function n(O){document.body?O():document.addEventListener?document.addEventListener("DOMContentLoaded",function $(){document.removeEventListener("DOMContentLoaded",$),O()}):document.attachEvent("onreadystatechange",function $(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",$),O())})}function r(O){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(O)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function o(O,$){O.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+$+";"}function u(O){var $=O.g.offsetWidth,H=$+100;return O.j.style.width=H+"px",O.i.scrollLeft=H,O.h.scrollLeft=O.h.scrollWidth+100,O.l!==$?(O.l=$,!0):!1}function c(O,$){function H(){var W=X;u(W)&&W.g.parentNode!==null&&$(W.l)}var X=O;e(O.h,H),e(O.i,H),u(O)}function l(O,$,H){$=$||{},H=H||window,this.family=O,this.style=$.style||"normal",this.weight=$.weight||"normal",this.stretch=$.stretch||"normal",this.context=H}var h=null,g=null,b=null,S=null;function E(O){return g===null&&(L(O)&&/Apple/.test(window.navigator.vendor)?(O=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),g=!!O&&603>parseInt(O[1],10)):g=!1),g}function L(O){return S===null&&(S=!!O.document.fonts),S}function P(O,$){var H=O.style,X=O.weight;if(b===null){var W=document.createElement("div");try{W.style.font="condensed 100px sans-serif"}catch{}b=W.style.font!==""}return[H,X,b?O.stretch:"","100px",$].join(" ")}l.prototype.load=function(O,$){var H=this,X=O||"BESbswy",W=0,te=$||3e3,oe=new Date().getTime();return new Promise(function(re,he){if(L(H.context)&&!E(H.context)){var Ae=new Promise(function(pe,ae){function Ie(){new Date().getTime()-oe>=te?ae(Error(""+te+"ms timeout exceeded")):H.context.document.fonts.load(P(H,'"'+H.family+'"'),X).then(function(Fe){1<=Fe.length?pe():setTimeout(Ie,25)},ae)}Ie()}),J=new Promise(function(pe,ae){W=setTimeout(function(){ae(Error(""+te+"ms timeout exceeded"))},te)});Promise.race([J,Ae]).then(function(){clearTimeout(W),re(H)},he)}else n(function(){function pe(){var Re;(Re=Xe!=-1&&se!=-1||Xe!=-1&&ne!=-1||se!=-1&&ne!=-1)&&((Re=Xe!=se&&Xe!=ne&&se!=ne)||(h===null&&(Re=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),h=!!Re&&(536>parseInt(Re[1],10)||parseInt(Re[1],10)===536&&11>=parseInt(Re[2],10))),Re=h&&(Xe==de&&se==de&&ne==de||Xe==Te&&se==Te&&ne==Te||Xe==ke&&se==ke&&ne==ke)),Re=!Re),Re&&(Ee.parentNode!==null&&Ee.parentNode.removeChild(Ee),clearTimeout(W),re(H))}function ae(){if(new Date().getTime()-oe>=te)Ee.parentNode!==null&&Ee.parentNode.removeChild(Ee),he(Error(""+te+"ms timeout exceeded"));else{var Re=H.context.document.hidden;(Re===!0||Re===void 0)&&(Xe=Ie.g.offsetWidth,se=Fe.g.offsetWidth,ne=_e.g.offsetWidth,pe()),W=setTimeout(ae,50)}}var Ie=new r(X),Fe=new r(X),_e=new r(X),Xe=-1,se=-1,ne=-1,de=-1,Te=-1,ke=-1,Ee=document.createElement("div");Ee.dir="ltr",o(Ie,P(H,"sans-serif")),o(Fe,P(H,"serif")),o(_e,P(H,"monospace")),Ee.appendChild(Ie.g),Ee.appendChild(Fe.g),Ee.appendChild(_e.g),H.context.document.body.appendChild(Ee),de=Ie.g.offsetWidth,Te=Fe.g.offsetWidth,ke=_e.g.offsetWidth,ae(),c(Ie,function(Re){Xe=Re,pe()}),o(Ie,P(H,'"'+H.family+'",sans-serif')),c(Fe,function(Re){se=Re,pe()}),o(Fe,P(H,'"'+H.family+'",serif')),c(_e,function(Re){ne=Re,pe()}),o(_e,P(H,'"'+H.family+'",monospace'))})})},t.exports=l})()})(Xm);var kE=Xm.exports;const RE=Xo(kE);function Ad(t){console.log("[dev]",...t)}function OE(t){return new Promise(e=>{const n=new FileReader;t instanceof Blob?n.readAsDataURL(t):n.readAsDataURL(new Blob([t])),n.onload=function(){e(this.result)},n.onerror=r=>{S2("Failed to get base64","")}})}function FE(t,e){Ye.forEach(e,r=>{r.subset.charCodeList=[],r.subset.charMap={}});const n={};return Ye.forEach(t,r=>{const{characters:o}=r.textData,u=r.fontName.fullname;n[u]=!0;const c=e[u];if(c)for(let l=0;l<o.length;l+=1){const h=o.charCodeAt(l);c.subset.charMap[h]={char:o[l],unicode:h,glyph:null},c.subset.charCodeList.push(h)}}),Ye.forEach(n,(r,o)=>{const u=e[o];if(u){const c=Ym(u);u.subset.currentText!==c&&(u.subset.subsetBase64=""),u.subset.currentText=c}}),n}function Ym(t){return Ye.sortBy(Ye.uniq(t.subset.charCodeList)).map(e=>t.subset.charMap[e].char).filter(e=>e!==`
`).join("")}function NE(t,e,n){return Promise.all(Object.keys(e).map(r=>new Promise(o=>{const u=n[r];u?u.subset.subsetBase64?o(""):$E(t,r,n).then(()=>{o("")}):o("")})))}function $E(t,e,n){const r=t.props.getRootStore().fontMap[e],o=n[r.fontName],u=Ym(o);return t.props.getRootStore().getFontSubsetFileFromBackend({src:r.woff2FileUrl||r.ttfURL,chars:u}).then(c=>(o.subset.subsetBase64=c,c))}const Ui={};function BE(t,e){return t.props.getRootStore().fontMap[e]||null}function DE(t){return Ui[t]||null}async function GE(t,e){const n=BE(t,e);if(DE(e)||(Ui[e]={styleTagReady:!1,parsed:null,newFont:null,subset:{charMap:{},charCodeList:[],currentText:"",subsetBase64:""},base64String:"",fontkitFont:null,fontkitString:""}),n.fontFaceReady===!0)return"";n.fontFaceReady=!0;const r=o=>{n.fontFaceReady=!1};return HE(n).then(()=>(Ad([`Loading ${e}`]),Km(n),"")).catch(o=>{throw r(),new Error(`Failed to ensure font ${n.fontName}`)})}async function Km(t){const{fontName:e}=t,n=t.woff2FileUrl||t.ttfURL;return UE(n).then(r=>{Ui[e].base64String=r})}function UE(t){return WE(t).then(e=>e.blob()).then(e=>OE(e))}function WE(t){return fetch(t,{method:"GET"})}async function HE(t,e){const{fontName:n}=t,r=Ui[n];if(r.styleTagReady)return"";const o=document.createElement("style");let u=t.woff2FileUrl||t.ttfURL;const c=new RE(Cd(n));return o.setAttribute("data-font-name",n),o.setAttribute("id",n),o.innerHTML=xf(n,u),document.getElementsByTagName("head")[0].appendChild(o),c.load(null,60*60*1e3).then(()=>(r.styleTagReady=!0,"")).catch(l=>{throw new Error(l.message)})}function Cd(t){return t.replace(/\./g,"")}async function jk(t,e){const n=FE(e,Ui);await NE(t,n,Ui),Ad([Ui,n])}function xf(t,e){return`@font-face {
    font-family: "${Cd(t)}";
    font-display: swap;
    src:url('${e}') format('truetype');
  }`}async function Vk(t,e,n){if(n==="")return"";const r=Ui[n];if(r.subset.subsetBase64)return xf(n,r.subset.subsetBase64);r||(Ad([`${n} is not initialized yet.`,Ui]),await GE(t,n));{if(!r.base64String){const o=t.props.getRootStore().fontMap[n];await Km(o)}return xf(n,r.base64String)}}const zE="break-word";let di=1;function jE(){return di}const Nr={textContainer:null,divElement:null};typeof window<"u"&&(Nr.textContainer=document.createElement("div"),Nr.textContainer.style.cssText+=["position: fixed;","left: 0;","top: 0;","overflow: hidden;"].join(""),document.body.appendChild(Nr.textContainer),Nr.divElement=document.createElement("div"),Nr.divElement.style.cssText+=["position: fixed;","left: 0;","top: 0;","visibility: hidden;","pointer-events: none;","z-index: 1000;"].join(""),Nr.textContainer.appendChild(Nr.divElement));function VE(t){const e=x2()==="safari"?1:4;return t<12*e?12/t:1/e}function XE(t){di=VE(t.fontSize);const e=t.fontSize*di,n={position:"absolute",left:"0",top:"0",transformOrigin:"0 0",width:`${t.width*di}px`,lineHeight:`${t.lineHeight.value}`,fontFamily:`${Cd(t.fontName.fullname)}`,fontSize:`${e}px`,wordWrap:`${zE}`,fontWeight:`${t.fontWeight==="BOLD"?"bold":"normal"}`,whiteSpace:"pre-wrap",textAlign:t.textAlignHorizontal.toLowerCase(),writingMode:t.writingMode,fontStyle:t.fontStyle==="ITALIC"?"italic":"normal",textDecoration:`${t.textDecoration==="STRIKE_THROUGH"?"line-through":""} ${t.textDecoration==="UNDERLINE"?"underline":""}`,letterSpacing:`${t.letterSpacing.value*di}px`};return n.transform=`scale(${1/di})`,t.writingMode==="horizontal-tb"?(n.width=`${t.width*di}px`,n.height="auto"):(n.width="auto",n.height=`${t.height*di}px`),n}function Qm(t){const e=XE(t);return YE(e)}function YE(t){return Object.keys(t).map(n=>`${Ye.kebabCase(n).replace("webkit","-webkit")}: ${t[n]}`).join(";")}function KE(t){if(!Nr.divElement)return{nextWidth:0,nextHeight:0};Nr.divElement.style.cssText+=Qm(t),Nr.divElement.innerText=t.textData.characters;let e=t.width,n=t.height;if(t.writingMode==="horizontal-tb"){const r=Fs(Nr.divElement);e=t.width,n=r/di}else e=Ns(Nr.divElement)/di,n=t.height;return{nextWidth:e,nextHeight:n}}function QE(t){const e=[];if(t.textData){const{textData:n}=t;let r=-1e3,o={styleID:-1e3,start:0,end:0};n.characterStyleIDs.forEach((u,c)=>{u!==r?(r=u,o={styleID:u,start:c,end:c},e.push(o)):o.end=c})}return e}function qE({start:t,end:e,textData:n}){const r=[];let o=null;for(let u=t;u<e;u+=1){const c=n.characterStyleIDs[u-1],l=n.characterStyleIDs[u+1],h=n.characterStyleIDs[u];(u===t||h!==c)&&(o={styleID:h,start:u,end:u,prevOne:c,nextOne:void 0}),(u===e-1||h!==l)&&(o.nextOne=l,o.end=u+1,r.push(o))}return r}function Xk({localStore:t,layer:e}){const{start:n,end:r}=t.selectionInfo.textRange$,o={fontName:new Set,fontSize:new Set,fontStyle:new Set,textDecoration:new Set};function u({styleID:c}){var l;if(c!==0){const h=e.textData.styleOverrideTable.find(g=>g.styleID===c);o.fontName.add(((l=h==null?void 0:h.fontName)==null?void 0:l.fullname)||e.fontName.fullname),o.fontSize.add((h==null?void 0:h.fontSize)||e.fontSize),o.fontStyle.add((h==null?void 0:h.fontStyle)||e.fontStyle),o.textDecoration.add((h==null?void 0:h.textDecoration)||e.textDecoration)}else o.fontName.add(e.fontName.fullname),o.fontSize.add(e.fontSize),o.fontStyle.add(e.fontStyle),o.textDecoration.add(e.textDecoration)}if(t.editingText)if(n!==r)qE({start:n,end:r,textData:e.textData}).forEach(l=>{u({styleID:l.styleID})});else{const c=e.textData.characterStyleIDs[n-1]||0;u({styleID:c})}else u({styleID:0});return o}function Ef({Raptor:t,value:e}){return e==="ROUND"?t.StrokeJoin.Round:e==="BEVEL"?t.StrokeJoin.Bevel:t.StrokeJoin.Miter}function qm({paint:t,Raptor:e,leftTop:n,bottomRight:r}){const o=e.Shader.MakeLinearGradient([.5,n[1]],[.5,r[1]],t.stops.map(u=>new Float32Array(hn(u.color).toFigmaArray())),t.stops.map(u=>u.position),e.TileMode.Decal);return o.deleteLater(),o}function JE({Raptor:t,fileData:e,layer:n}){const r=new t.ParagraphStyle({textStyle:{color:t.BLACK,fontFamilies:[n.fontName.fullname],fontSize:n.fontSize},textAlign:t.TextAlign.Left}),{textStyle:o}=r;if(n.textAlignHorizontal==="LEFT"?r.textAlign=t.TextAlign.Left:n.textAlignHorizontal==="RIGHT"?r.textAlign=t.TextAlign.Right:n.textAlignHorizontal==="CENTER"&&(r.textAlign=t.TextAlign.Center),o&&Jm({Raptor:t,styleData:{...n,fillPaints:[],effects:[]},fileData:e,textStyle:o}),o){const{strutStyle:u}=r;u&&(u.strutEnabled=!0,u.fontFamilies=[n.fontName.fullname],u.fontSize=o.fontSize,u.heightMultiplier=n.lineHeight.value,u.fontStyle&&(n.fontStyle==="ITALIC"?u.fontStyle.slant=t.FontSlant.Italic:u.fontStyle.slant=t.FontSlant.Oblique))}return r}function Jm({Raptor:t,fileData:e,styleData:n,textStyle:r}){var o,u;r!=null&&r.fontStyle&&(n.fontStyle==="ITALIC"?r.fontStyle.slant=t.FontSlant.Italic:r.fontStyle.slant=t.FontSlant.Oblique,n.fontWeight==="BOLD"?r.fontStyle.weight=t.FontWeight.Bold:r.fontStyle.weight=t.FontWeight.Normal,n.textDecoration==="UNDERLINE"?(r.decoration=1,r.decorationStyle=t.DecorationStyle.Solid):r.decoration=0),(o=n.fillPaints)!=null&&o[0]?n.fillPaints[0].type==="SOLID"&&(r.color=[n.fillPaints[0].color.r,n.fillPaints[0].color.g,n.fillPaints[0].color.b,n.fillPaints[0].color.a]):r.color=t.TRANSPARENT,r.halfLeading=!0,n.lineHeight&&(r.heightMultiplier=n.lineHeight.value),(u=n.effects)==null||u.forEach(c=>{if(c.visible&&c.type==="DROP_SHADOW"){const l={blurRadius:e.doScale(c.radius),offset:[e.doScale(c.offset.x),e.doScale(c.offset.y)],color:hn(c.color).toFigmaArray()};r.shadows=[l]}}),r&&(n.fontName&&(r.fontFamilies=[n.fontName.fullname]),n.fontSize&&(r.fontSize=e.doScale(n.fontSize)))}function Af(t){return t.fontSize/5}function ds({Raptor:t,layer:e,paragraph:n,scale:r}){e.textAutoResize==="WIDTH_AND_HEIGHT"&&n.layout((e.width+Af(e))*r),e.textAutoResize==="HEIGHT"&&n.layout(e.width*r)}function ZE({Raptor:t,fileData:e,layer:n,persistNewParagraph:r}){var h,g;const o={newParagraph:null,strokeList:[],shadowList:[],fillList:[]},u=QE(n),c=JE({Raptor:t,fileData:e,layer:n}),l=t.ParagraphBuilder.MakeFromFontProvider(c,e.fontProvider);if(l.deleteLater(),n.textData&&u.length>0){const b=u.map(P=>{const O=n.textData.characters.slice(P.start,P.end+1),$=n.textData.styleOverrideTable.find(X=>X.styleID===P.styleID),H=new t.TextStyle({});return Jm({Raptor:t,fileData:e,styleData:{...n,...$},textStyle:H}),{start:P.start,end:P.end,blockStyle:H,text:O,fillPaints:($==null?void 0:$.fillPaints)||n.fillPaints||[]}});l.reset(),b.forEach(P=>{P.blockStyle.shadows=void 0,l.pushStyle(P.blockStyle),l.addText(P.text)});const S=l.build();ds({Raptor:t,layer:n,paragraph:S,scale:e.scale}),r||S.deleteLater(),o.newParagraph=S;let E=0;n.fillPaints.length>E&&(E=n.fillPaints.length),n.textData.styleOverrideTable.forEach(P=>{P.fillPaints&&P.fillPaints.length>E&&(E=P.fillPaints.length)});for(let P=0;P<E;P+=1){l.reset(),b.forEach($=>{const H=$.fillPaints[P],X=new t.Paint;if(X.deleteLater(),X.setAntiAlias(!0),H&&H.visible){if(H.type==="SOLID"&&X.setColor(hn(H.color).toFigmaArray()),H.type==="GRADIENT_LINEAR"){const te=S.getHeight(),oe=S.getMaxWidth(),re=qm({Raptor:t,leftTop:[0,0],bottomRight:[oe,te],paint:H});X.setShader(re)}}else X.setColor(t.TRANSPARENT);const W=new t.Paint;W.deleteLater(),W.setStyle(t.PaintStyle.Fill),W.setColor(t.TRANSPARENT),l.pushPaintStyle($.blockStyle,X,W),l.addText($.text)});const O=l.build();O.deleteLater(),ds({Raptor:t,layer:n,paragraph:O,scale:e.scale}),o.fillList.push({paragraph:O})}const L=n.strokePaints.length>0?n.strokeWeight:0;(h=n.strokePaints)==null||h.forEach(P=>{if(P.visible){l.reset(),b.forEach($=>{$.blockStyle.shadows=void 0;const H=new t.Paint;H.deleteLater(),P.type==="SOLID"?H.setColor([P.color.r,P.color.g,P.color.b,P.color.a]):P.type==="GRADIENT_LINEAR"&&H.setColor(hn(P.stops[0].color).toFigmaArray()),H.setAntiAlias(!0),H.setStyle(t.PaintStyle.Stroke),H.setStrokeJoin(Ef({Raptor:t,value:n.strokeJoin})),n.strokeAlign==="CENTER"?H.setStrokeWidth(e.doScale(L)):n.strokeAlign==="INSIDE"?(H.setStrokeWidth(e.doScale(L*2)),H.setBlendMode(t.BlendMode.SrcATop)):n.strokeAlign==="OUTSIDE"&&(H.setStrokeWidth(e.doScale(L*2)),H.setBlendMode(t.BlendMode.DstATop));const X=new t.Paint;X.deleteLater(),X.setStyle(t.PaintStyle.Fill),X.setColor(t.TRANSPARENT),l.pushPaintStyle($.blockStyle,H,X),l.addText($.text)});const O=l.build();ds({Raptor:t,layer:n,paragraph:O,scale:e.scale}),O.deleteLater(),o.strokeList.push({paragraph:O})}}),(g=n.effects)==null||g.forEach(P=>{if(P&&P.visible===!0&&P.type==="DROP_SHADOW"){l.reset(),b.forEach(H=>{H.blockStyle.shadows=void 0;const X=new t.Paint;X.deleteLater(),X.setColor([P.color.r,P.color.g,P.color.b,P.color.a]),X.setAntiAlias(!0),X.setStyle(t.PaintStyle.Fill);const W=new t.Paint;W.deleteLater(),W.setStyle(t.PaintStyle.Fill),W.setColor(t.TRANSPARENT),l.pushPaintStyle(H.blockStyle,X,W),l.addText(H.text)});const O=l.build();ds({Raptor:t,layer:n,paragraph:O,scale:e.scale}),O.deleteLater(),l.reset(),b.forEach(H=>{H.blockStyle.shadows=void 0;const X=new t.Paint;X.deleteLater(),X.setColor([P.color.r,P.color.g,P.color.b,P.color.a]),X.setAntiAlias(!0),X.setStrokeJoin(Ef({Raptor:t,value:n.strokeJoin})),X.setStyle(t.PaintStyle.Stroke);let W=0;n.strokeAlign==="CENTER"?W=L+P.spread:n.strokeAlign==="OUTSIDE"&&(W=(L+P.spread)*2),X.setStrokeWidth(e.doScale(W));const te=new t.Paint;te.deleteLater(),te.setStyle(t.PaintStyle.Fill),te.setColor(t.TRANSPARENT),l.pushPaintStyle(H.blockStyle,X,te),l.addText(H.text)});const $=l.build();ds({Raptor:t,layer:n,paragraph:$,scale:e.scale}),$.deleteLater(),o.shadowList.push({paragraph:O,strokedParagraph:$,offset:{x:P.offset.x,y:P.offset.y},radius:P.radius})}})}return o}function _d({Raptor:t,fileData:e,layer:n,src:r,persistNewParagraph:o}){var g;if(!r)return ZE({Raptor:t,fileData:e,layer:n,persistNewParagraph:o});const u={newParagraph:null,strokeList:[],shadowList:[],fillList:[]},{text:c}=r,l=new t.ParagraphStyle({textStyle:{color:t.BLACK}});(g=l.textStyle)!=null&&g.fontStyle&&(n.fontStyle==="ITALIC"?l.textStyle.fontStyle.slant=t.FontSlant.Italic:l.textStyle.fontStyle.slant=t.FontSlant.Oblique,n.fontWeight==="BOLD"?l.textStyle.fontStyle.weight=t.FontWeight.Bold:l.textStyle.fontStyle.weight=t.FontWeight.Normal);const h=e.fontStore.getFontInfo(n.fontName.fullname);if(h&&l.textStyle){l.textStyle.fontFamilies=[h.name],l.textStyle.fontSize=e.doScale(n.fontSize);const{strutStyle:b}=l;if(b&&(b.strutEnabled=!0,b.forceStrutHeight=!0,b.fontFamilies=[h.name],b.fontSize=l.textStyle.fontSize,b.heightMultiplier=n.lineHeight.value,b.fontStyle&&(n.fontStyle==="ITALIC"?b.fontStyle.slant=t.FontSlant.Italic:b.fontStyle.slant=t.FontSlant.Oblique)),h.fontMgr){const S=t.ParagraphBuilder.Make(l,h.fontMgr);S.deleteLater(),S.addText(c);const E=S.build();E.deleteLater(),u.newParagraph=E}}return u}function eA({fileData:t,layer:e,instanceChain:n}){const r=Jt({localStore:t.localStore,layer:e,instanceChain:n}),o={left:0,top:0,width:r.width,height:r.height};if(r.textAutoResize==="NONE")return o;const c=_d({Raptor:t.Raptor,fileData:t,layer:e}).newParagraph;if(c){if(r.textAutoResize==="HEIGHT"){let l=0;c.getLineMetrics().forEach(g=>{l+=g.height}),o.width=r.width,o.height=l/t.scale}else if(r.textAutoResize==="WIDTH_AND_HEIGHT"){c.layout(t.doScale(1e5));let l=0;c.getLineMetrics().forEach(h=>{h.width>l&&(l=h.width)}),o.width=l/t.scale,o.height=c.getHeight()/t.scale}}return o}let Zm=null;function Yk(t){Zm=t}function tA(t,e){return t/1e3*e}function nA(t){return t/1e3+1.2}function rA(t,e){return t==null?void 0:t.map(n=>{const r=n.width*e/128*5;return{...n,width:r}})}function iA(t,e){return t==null?void 0:t.map(n=>({...n,width:n.width*25/512*e}))}function oA(t,e){return t==null?void 0:t.map(n=>({...n,blur:n.blur*e/128*5}))}function Kk(t){const e=t,{fontSize:n,lineSpacing:r,letterSpacing:o,textGlow:u=[],textShadow:c=[],textStroke:l=[]}=t;return e.letterSpacing=tA(o,n),e.lineSpacing=nA(r),e.textGlow=iA(u,n),e.textShadow=oA(c,n),e.textStroke=rA(l,n),e}function Qk(t,e,n,r=!0){const o={},u=r?jE():1;n.forEach(l=>{if(l.hidden)return;const{color:h}=tf(l.color,"rgba");o.WebkitTextStroke=`${l.width*2*u}px ${h}`});const c=[];return t.forEach(l=>{const{width:h,color:g,hidden:b}=l;b||c.push(`0 0 ${h*u}px ${tf(g,"rgba").color}`)}),e.forEach(l=>{const{color:h,x:g,y:b,blur:S,hidden:E}=l;E||c.push(`${g*u}px ${b*u}px ${S*u}px ${tf(h,"rgba").color}`)}),o.textShadow=c.join(","),o.color="transparent",o}function qk(t){return{color:"transparent"}}function Jk(t){const e=Zm;e&&e.getEditor()&&(e.getEditor().root.style.cssText=Qm(t))}const aA=wc;function wc({localStore:t,layer:e,instanceChain:n,step:r}){let o=0,u=0;const c=ti(t);if(c){const h=eA({fileData:c.fileData,layer:e,instanceChain:n});o=h.width,u=h.height}else{const h=KE(e);o=h.nextWidth,u=h.nextHeight}const l=M2(e,o,u,e.writingMode==="horizontal-tb"?"left":"right");on({localStore:t,node:e,instanceChain:n,nodeSize:{width:o,height:u},data:{left:l.x,top:l.y},step:r})}function sA({localStore:t,layer:e,size:n,containerStackMode:r,instanceChain:o,step:u}){const c={};n==="Fill"?(r==="VERTICAL"?c.stackChildAlignSelf="STRETCH":r==="HORIZONTAL"&&(c.stackChildPrimaryGrow=1),e.nodeType==="TEXT"&&(c.textAutoResize="HEIGHT")):(r==="VERTICAL"?c.stackChildAlignSelf="AUTO":r==="HORIZONTAL"&&(c.stackChildPrimaryGrow=0),n==="Fixed"?(e.nodeType==="TEXT"&&(c.textAutoResize="HEIGHT"),Mn(e)==="HORIZONTAL"?c.stackPrimarySizing="FIXED":Mn(e)==="VERTICAL"&&(c.stackCounterSizing="FIXED")):n==="Hug"&&(e.nodeType==="TEXT"&&(c.textAutoResize="WIDTH_AND_HEIGHT"),Mn(e)==="HORIZONTAL"?c.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE":Mn(e)==="VERTICAL"&&(c.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"))),on({localStore:t,node:e,instanceChain:o,data:c,step:u}),e.nodeType==="TEXT"&&wc({localStore:t,layer:e,step:u,instanceChain:o})}function uA({localStore:t,layer:e,size:n,containerStackMode:r,instanceChain:o,step:u}){const c={};n==="Fill"?r==="HORIZONTAL"?c.stackChildAlignSelf="STRETCH":r==="VERTICAL"&&(c.stackChildPrimaryGrow=1):(r==="VERTICAL"?c.stackChildPrimaryGrow=0:r==="HORIZONTAL"&&(c.stackChildAlignSelf="AUTO"),n==="Fixed"?Mn(e)==="VERTICAL"?c.stackPrimarySizing="FIXED":Mn(e)==="HORIZONTAL"&&(c.stackCounterSizing="FIXED"):n==="Hug"&&(Mn(e)==="VERTICAL"?c.stackPrimarySizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE":Mn(e)==="HORIZONTAL"&&(c.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"))),on({localStore:t,node:e,instanceChain:o,data:c,step:u})}function cA({localStore:t,layer:e,instanceChain:n}){const r=Jt({localStore:t,layer:e,instanceChain:n});if(e.nodeType==="TEXT"&&r.textAutoResize==="WIDTH_AND_HEIGHT")return"Hug";const o=xo(t,e);if(o&&Mn(o)==="VERTICAL"&&r.stackChildAlignSelf==="STRETCH"||o&&Mn(o)==="HORIZONTAL"&&r.stackChildPrimaryGrow===1)return"Fill";if(r.stackMode==="HORIZONTAL"){if(r.stackPrimarySizing==="FIXED")return"Fixed";if(r.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}if(r.stackMode==="VERTICAL"){if(r.stackCounterSizing==="FIXED")return"Fixed";if(r.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}return"Fixed"}function lA({localStore:t,layer:e,instanceChain:n}){const r=Jt({localStore:t,layer:e,instanceChain:n}),o=xo(t,e);if(o&&Mn(o)==="HORIZONTAL"&&r.stackChildAlignSelf==="STRETCH"||o&&Mn(o)==="VERTICAL"&&r.stackChildPrimaryGrow===1)return"Fill";if(r.stackMode==="VERTICAL"){if(r.stackPrimarySizing==="FIXED")return"Fixed";if(r.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}if(r.stackMode==="HORIZONTAL"){if(r.stackCounterSizing==="FIXED")return"Fixed";if(r.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE")return"Hug"}return"Fixed"}function Zk(t,e,n){const r={Fill:!1,Hug:!1,Fixed:!0},o=xo(t,e),u=Jt({localStore:t,layer:e,instanceChain:n});return o&&Mn(o)!=="NONE"&&u.stackPositioning!=="ABSOLUTE"&&(r.Fill=!0),Mn(e)!=="NONE"&&(r.Hug=!0),e.nodeType==="TEXT"&&(r.Hug=!0),r}function Kp(t){return t.stackMode==="HORIZONTAL"?{start:"left",size:"width",paddingStart:"stackPaddingLeft",paddtinEnd:"stackPaddingRight"}:{start:"top",size:"height",paddingStart:"stackPaddingTop",paddtinEnd:"stackPaddingBottom"}}function Qp(t){return t.stackMode==="HORIZONTAL"?{start:"top",size:"height",paddingStart:"stackPaddingTop",paddtinEnd:"stackPaddingBottom"}:{start:"left",size:"width",paddingStart:"stackPaddingLeft",paddtinEnd:"stackPaddingRight"}}function Td({localStore:t,layer:e,instanceChain:n,options:r}){const o=[...n];if(e.nodeType==="INSTANCE"&&o[o.length-1]===e&&o.pop(),e.parentId){let u=t.getLayer(e.parentId);if(u&&u.stackMode){if(u.nodeType==="SYMBOL"){let c=o.length-1;for(;c>=0;)o[c].symbolData.symbolID.id===u.id&&(u=o[c]),c-=1}return Td({localStore:t,layer:u,instanceChain:o,options:r})}}return(e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&e.stackMode?(e.nodeType==="INSTANCE"&&o[o.length-1]!==e&&o.push(e),{layer:e,instanceChain:o}):null}function bc({localStore:t,layer:e,instanceChain:n,step:r,options:o}){n=Gn(n,e);const u=Td({localStore:t,layer:e,instanceChain:n,options:o});u&&Sc({localStore:t,layer:u.layer,parent:null,instanceChain:u.instanceChain,data:{},constraintsMap:{},step:r,options:o})}function Cf({fileData:t,localStore:e,layer:n,instanceChain:r}){return Os(t,n).filter(o=>{const u=Jt({localStore:e,layer:o,instanceChain:Gn(r,o)});return!(!u.visible||u.stackPositioning==="ABSOLUTE")}).map(o=>({child:o,childInstanceChain:Gn(r,o),childInfo:Jt({localStore:e,layer:o,instanceChain:Gn(r,o)})}))}function fA({context:t,localStore:e,instanceChain:n,parentInstanceChain:r,parent:o,layer:u,constraintsMap:c,step:l,options:h}){n=Gn(n,u);const g=Jt({localStore:e,layer:u,instanceChain:n});let b=!1,S=!1;g.stackPrimarySizing==="FIXED"&&(b=!0),g.stackCounterSizing==="FIXED"&&(S=!0);const E=Kp(g),L=Qp(g);if(o){const P=Jt({localStore:e,layer:o,instanceChain:r});if(g.stackChildPrimaryGrow===1&&P.stackMode!=="NONE"&&P.stackPrimarySizing!=="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"){const O=Kp(P);let $=P[O.size]-P[O.paddingStart]-P[O.paddtinEnd],H=0;Cf({fileData:t.fileData,localStore:e,layer:o,instanceChain:r}).forEach(({childInfo:X})=>{X.stackChildPrimaryGrow!==1?$-=X[O.size]:H+=1,$-=P.stackSpacing}),$+=P.stackSpacing,on({localStore:e,node:u,instanceChain:n,nodeSize:{[O.size]:$/H},step:l}),O.start===E.start?b=!0:S=!0}if(g.stackChildAlignSelf==="STRETCH"){const O=Qp(P);P.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"||(on({localStore:e,node:u,instanceChain:n,nodeSize:{[O.size]:P[O.size]-P[O.paddingStart]-P[O.paddtinEnd]},step:l}),O.start===E.start?b=!0:S=!0)}}if(g.stackMode!=="NONE"){if(u.nodeType==="FRAME"||u.nodeType==="SYMBOL"||u.nodeType==="INSTANCE"){const P=Cf({localStore:e,fileData:t.fileData,layer:u,instanceChain:n});let O=0,$=0,H=0;const X=(P.length-1)*g.stackSpacing;if(P.forEach(({child:W,childInfo:te,childInstanceChain:oe})=>{Sc({localStore:e,parent:u,layer:W,instanceChain:oe,data:{},constraintsMap:c,step:l,options:h}),te[L.size]>O&&(O=te[L.size]),H+=te[E.size]}),b===!1&&g.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&g.stackPrimaryAlignItems!=="SPACE_EVENLY"&&(on({localStore:e,node:u,instanceChain:n,nodeSize:{[E.size]:g[E.paddingStart]+g[E.paddtinEnd]+H+X},step:l}),b=!0),S===!1&&g.stackCounterSizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&(on({localStore:e,node:u,instanceChain:n,nodeSize:{[L.size]:O+g[L.paddingStart]+g[L.paddtinEnd]},step:l}),S=!0),g.stackPrimaryAlignItems==="SPACE_EVENLY"){let W=g[E.paddingStart];$=g[E.size]-g[E.paddingStart]-g[E.paddtinEnd],P.forEach(({childInfo:te})=>{$-=te[E.size]}),P.length>=2&&($/=P.length-1),P.forEach(({child:te,childInfo:oe,childInstanceChain:re},he)=>{on({localStore:e,node:te,instanceChain:re,data:{[E.start]:W},step:l}),W+=oe[E.size],he<P.length-1&&(W+=$)})}else if(g.stackPrimaryAlignItems==="CENTER"&&b){let W=g[E.paddingStart];W+=(g[E.size]-g[E.paddingStart]-g[E.paddtinEnd]-H-X)/2,P.forEach(({child:te,childInfo:oe,childInstanceChain:re})=>{on({localStore:e,node:te,instanceChain:re,data:{[E.start]:W},step:l}),W+=oe[E.size],W+=g.stackSpacing})}else if(g.stackPrimaryAlignItems==="MAX"){let W=g[E.size]-g[E.paddingStart]-H-X;P.forEach(({child:te,childInfo:oe,childInstanceChain:re})=>{on({localStore:e,node:te,instanceChain:n,data:{[E.start]:W},step:l}),W+=oe[E.size],W+=g.stackSpacing})}else{let W=g[E.paddingStart];P.forEach(({child:te,childInfo:oe,childInstanceChain:re})=>{on({localStore:e,node:te,instanceChain:re,data:{[E.start]:W},step:l}),W+=oe[E.size],W+=g.stackSpacing})}P.forEach(({child:W,childInfo:te,childInstanceChain:oe})=>{g.stackCounterAlignItems==="CENTER"?on({localStore:e,node:W,instanceChain:oe,data:{[L.start]:(g[L.size]-te[L.size])/2},step:l}):g.stackCounterAlignItems==="MAX"?on({localStore:e,node:W,instanceChain:n,data:{[L.start]:g[L.size]-g[L.paddtinEnd]-te[L.size]},step:l}):on({localStore:e,node:W,instanceChain:n,data:{[L.start]:g[L.paddingStart]},step:l})})}}}function Sc({localStore:t,layer:e,parent:n,instanceChain:r,constraintsMap:o,data:u,step:c,options:l}){const h=ti(t);if(!h)return;let g=[...r];n!==null&&(g=Gn(g,n)),r=Gn(r,e);const b=Jt({localStore:t,layer:e,instanceChain:r});if(n===null&&xd({localStore:t,layer:e,instanceChain:r,constraintsMap:o}),r[0]&&r[0]===e&&c.update({layer:r[0],data:{derivedSymbolData(S){S.length=0}}}),e.nodeType==="TEXT"&&b.textAutoResize==="WIDTH_AND_HEIGHT"){aA({localStore:t,layer:e,step:c,instanceChain:r});return}if(on({localStore:t,node:e,instanceChain:r,nodeSize:{width:u.width,height:u.height},data:{left:u.left,top:u.top},step:c}),e.nodeType!=="SECTION"&&(fA({context:h,localStore:t,instanceChain:r,parent:n,parentInstanceChain:g,layer:e,constraintsMap:o,step:c,options:l}),e.nodeType==="TEXT"&&wc({localStore:t,layer:e,step:c,instanceChain:r}),ey({localStore:t,room:e,instanceChain:r,map:o,step:c}),e.nodeType==="SYMBOL")){const S=Sd(h.fileData,e),E={};Ye.forEach(S,L=>{const P=Td({localStore:t,layer:L,instanceChain:[]});P&&(E[P.instanceChain.map(O=>O.id).join("--")]=P)}),Ye.forEach(E,L=>{bc({localStore:t,layer:L.layer,instanceChain:L.instanceChain,step:c})})}}function dA(t,e,n,r){var u,c;const o=ti(t);if(o&&Mm(e)){const l=Gn([],e),h={};if(e.stackMode==="HORIZONTAL"&&n==="VERTICAL"||e.stackMode==="VERTICAL"&&n==="HORIZONTAL"){const g=e.stackPrimarySizing,b=e.stackCounterSizing;e.children.forEach(S=>{const E=Gn(l,S),L=cA({localStore:t,layer:S,instanceChain:E}),P=lA({localStore:t,layer:S,instanceChain:E});sA({localStore:t,layer:S,size:L,containerStackMode:n,instanceChain:E,step:r}),uA({localStore:t,layer:S,size:P,containerStackMode:n,step:r,instanceChain:E})}),h.stackPrimarySizing=b,h.stackCounterSizing=g,e.stackPrimaryAlignItems==="SPACE_EVENLY"?(h.stackPrimaryAlignItems="SPACE_EVENLY",h.stackCounterAlignItems="MIN"):(h.stackPrimaryAlignItems=e.stackCounterAlignItems,h.stackCounterAlignItems=e.stackPrimaryAlignItems)}h.stackMode=n,on({localStore:t,node:e,instanceChain:l,data:h,step:r}),bc({localStore:t,layer:e,instanceChain:l,step:r}),(c=(u=t.props).doAction)==null||c.call(u,r.getNewAction()),e.nodeType==="SYMBOL"&&oE(o,e,g=>{dA(t,g,n,r)})}}function eR({localStore:t,layer:e,value:n,instanceChain:r,step:o}){var u,c;if(Mn(e)!=="NONE"){if(n==="SPACE_EVENLY"){const l={stackPrimaryAlignItems:"SPACE_EVENLY"};e.stackPrimarySizing==="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"&&(l.stackPrimarySizing="FIXED"),on({localStore:t,node:e,instanceChain:r,step:o,data:l})}else on({localStore:t,node:e,instanceChain:r,step:o,data:{stackPrimaryAlignItems:"MIN",stackSpacing:n}});bc({localStore:t,layer:e,instanceChain:r,step:o}),(c=(u=t.props).doAction)==null||c.call(u,o.getNewAction())}}function ey({localStore:t,room:e,instanceChain:n,map:r,step:o}){const u=t.getFigma();u&&(n=Gn(n,e),Os(u.context.fileData,e).forEach(c=>{const l=r[c.id];if(c&&l&&e){const h=mc({localStore:t,layer:e,instanceChain:n}),g={};typeof l.left=="number"&&typeof l.right=="number"?(g.left=l.left,g.width=h.width-l.left-l.right):typeof l.right=="number"?g.left=h.width-l.right-c.width:typeof l.left=="number"&&(g.left=l.left),typeof l.top=="number"&&typeof l.bottom=="number"?(g.top=l.top,g.height=h.height-l.top-l.bottom):typeof l.bottom=="number"?g.top=h.height-l.bottom-c.height:typeof l.top=="number"&&(g.top=l.top),Sc({localStore:t,layer:c,parent:null,instanceChain:n,data:g,constraintsMap:{},step:o})}}))}function hA({localStore:t,fileData:e,layer:n,step:r,width:o,height:u}){const c=Sd(e,n);Ye.forEach(c,l=>{let h=!1;if(n.width.toFixed(1)===l.width.toFixed(1)&&n.height.toFixed(1)===l.height.toFixed(1)?h=!1:h=!0,h){const{left:g,top:b}=gc({width:o,height:u,t:Kn(l)});r.update({layer:l,data:{left:g,top:b,width:o,height:u}})}})}function pA({localStore:t,layer:e,left:n,top:r,width:o,height:u,step:c}){const l=ti(t);if(l){const h=Gn([],e);e.nodeType==="SYMBOL"&&hA({localStore:t,fileData:l.fileData,layer:e,width:o,height:u,step:c}),e.nodeType==="INSTANCE"&&on({localStore:t,node:e,instanceChain:h,nodeSize:{width:e.width,height:e.height},step:c,isResizingInstanceManually:!0}),Sc({localStore:t,layer:e,parent:null,instanceChain:h,step:c,constraintsMap:{},data:{left:n,top:r,width:o,height:u}})}else on({localStore:t,node:e,nodeSize:{width:o,height:u},data:{left:n,top:r},step:c,instanceChain:[]})}function gA(t){return t.strokeWidth*10}function tR({localStore:t,type:e}){const n={nodeType:"svg",id:om(),guid:t.generateGUID(),parentId:"",name:"",left:0,top:0,width:200,height:20,rotate:0,data:{type:"line",p1:{x:0,y:0},p2:{x:0,y:0},markerEnd:""},stroke:"red",strokeWidth:20,strokeLineJoin:"miter",fill:"transparent",isLocked:!1,visible:!0,shimmerAtApearance:!1,children:[],editInfo:{userId:"",createdAt:new Date().getTime(),lastEditedAt:new Date().getTime()}};return e==="rect"&&(n.width=200,n.height=200,n.data={type:"rect"}),ty(n),n}function ty(t){t.data.type==="line"&&(t.height=gA(t),t.data.p1.x=0,t.data.p1.y=t.height/2,t.data.p2.x=t.width,t.data.p2.y=t.height/2),t.data.type}async function nR(t,e,n){var o,u,c;t.editingText=!1;let r=1;t.selectedSingleLayer?r=qp(t,t.selectedSingleLayer,e,n):r=qp(t,t.bunchRectangle,e,n);try{const l=ym(t);if(t.selectedSingleLayer){const h=t.selectedSingleLayer;Jp(t,[h],r),va(t,h,e,r,l),ti(t)&&h.nodeType==="FRAME"&&((o=t.getLayer(h.parentId))==null||o.nodeType),bc({localStore:t,layer:h,instanceChain:[],step:l}),bd(t,h),Hm(t,h,{step:l})}else Jp(t,t.selectedNormalLayerList,r),va(t,t.bunchRectangle,e,r,l),t.selectedNormalLayerList.forEach(h=>{h&&va(t,h,e,r,l)});(c=(u=t.props).doAction)==null||c.call(u,l.getNewAction()),t.layersCanBeScaled=!0}catch(l){t.layersCanBeScaled=!1,console.warn(l)}Vm(t,n)}function qp(t,e,n,r){const o=t.getPointInContainer(r),u=Gi("rotated",{x:o.x-n.x,y:o.y-n.y},gm(md(e),n)),{width:c,height:l}=e,h=Math.sqrt(c*c+l*l);return u.x/h}function Jp(t,e,n){e.forEach(r=>{ny(t,r,n)})}function ny(t,e,n){if(!(n>1)){if(e.nodeType==="TEXT"){if(e.height*n<5)throw new Error("Incoming text layer height is too small!")}else if(e.width*n<t.options.LAYER_MINIMUN_SIZE||e.height*n<t.options.LAYER_MINIMUN_SIZE)throw new Error("")}e.nodeType==="GROUP"&&e.children&&e.children.forEach(r=>{ny(t,r,n)})}function Ld(t,e,n,r,o){const u=md(e),c={x:u.x-n.x,y:u.y-n.y},l={x:c.x*r+n.x,y:c.y*r+n.y},h=e.width*r,g=e.height*r,b=l.x-h/2,S=l.y-g/2;return e.nodeType==="GROUP"||e.nodeType==="TEXT"?(on({localStore:t,node:e,data:{left:b,top:S},step:o,instanceChain:[]}),on({localStore:t,node:e,step:o,nodeSize:{width:h,height:g},instanceChain:[]})):pA({localStore:t,layer:e,left:b,top:S,width:h,height:g,step:o}),k2(u,l)}function rR(t,e,n,r,o){const u=Ld(t,e,n,r,o);(e.nodeType==="IMAGE"||e.nodeType==="ROUNDED_RECTANGLE")&&e.image&&G2(e,u)}function va(t,e,n,r,o){if(Math.min(e.width*r,e.height*r)>=0){const u=[];e.nodeType==="INSTANCE"&&u.push(e);let c={};if((e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&(c=xd({localStore:t,layer:e,instanceChain:u,constraintsMap:{}})),Ld(t,e,n,r,o),e.nodeType==="video"?(e.video.width*=r,e.video.height*=r):e.nodeType==="svg"?ty(e):e.nodeType==="TEXT"&&(o.update({layer:e,data:{fontSize:e.fontSize*r,strokeWeight:e.strokeWeight*r,effects(l){l.forEach(h=>{h.offset.x*=r,h.offset.y*=r,h.spread*=r,h.radius*=r})}}}),wc({localStore:t,layer:e,instanceChain:[],step:o})),e.nodeType==="GROUP"&&e.children.length>0&&e.children.forEach(l=>va(t,l,n,r,o)),e.nodeType==="IMAGE"&&e.extra.rectList&&e.extra.rectList.length>0&&e.extra.rectList.forEach(l=>va(t,l,n,r,o)),e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE"){{const l={};e.stackPaddingLeft&&(l.stackPaddingLeft=e.stackPaddingLeft*r),e.stackPaddingRight&&(l.stackPaddingRight=e.stackPaddingRight*r),e.stackPaddingTop&&(l.stackPaddingTop=e.stackPaddingTop*r),e.stackPaddingBottom&&(l.stackPaddingBottom=e.stackPaddingBottom*r),e.stackSpacing&&(l.stackSpacing=e.stackSpacing*r),o.update({layer:e,data:l}),e.children.forEach(h=>{const g=Kn(h),b=jo(g,n),S=h.left*r,E=h.top*r;va(t,h,b,r,o),o.update({layer:h,data:{left:S,top:E}})})}ey({localStore:t,room:e,map:c,step:o,instanceChain:u})}}}const mA="WorkspaceView";function yA(){return{positionLeft:0,positionTop:0,workspaceScrollLeft:0,workspaceScrollTop:0,pageScale:1,toolsContainerShow:!0,navigatorShow:!1,layerSettingsContent:"main",isPageCenteredAtX:!1,isPageCenteredAtY:!1,scroll:{x:{totalLength:0,viewportLength:0,barStart:0,barLength:0},y:{totalLength:0,viewportLength:0,barStart:0,barLength:0}}}}function iR(t,e){const{workspaceState:n}=t,r=Ns(e),o=Fs(e),{width:u,height:c}=t.props.getPageSize(),l=t.getPageScale(),h=r/2+u*l/2-40;n.positionLeft>h?n.positionLeft=h:n.positionLeft<-h&&(n.positionLeft=-h);const g=o/2+c*l/2-40;n.positionTop>g?n.positionTop=g:n.positionTop<-g&&(n.positionTop=-g)}function oR({localStore:t,workspaceState:e,workspaceElement:n,safePadding:r}){const o=n||document.querySelector(`.${mA}`);if(o){const u=t.props.getPageSize(),c=Ns(o),l=Fs(o),h=r||60,g=(c-h)/u.width,b=(l-h)/u.height;let S=Math.min(g,b);Number.isNaN(S)&&(S=.3),S<.01&&(S=.01),S>4&&(S=4),e.pageScale=S,e.positionLeft=0,e.positionTop=0}}function vA(t,e,n,r){const o=um();return o.left=e.left,o.top=e.top,o.width=e.width,o.height=e.height,Ld(t,o,n,r,B2()),o}function ry(t,e,n){const{pageMinScale:r,pageMaxScale:o}=t.options;let u=1;return e>0?(u=n*.97,u<r&&(u=r)):e<0&&(u=n*1.03,u>o&&(u=o)),u}function wA(t,e){const n=t.getPageScale(),r=ry(t,e.deltaY,n),{workspaceState:o}=t,u={left:o.positionLeft,top:o.positionTop,width:t.props.getPageSize().width*t.getPageScale(),height:t.props.getPageSize().height*t.getPageScale()},c=e.currentTarget,l=vc(c),h=yc(c),g={x:e.pageX-l-Ns(c)/2,y:e.pageY-h-Fs(c)/2},{width:b,height:S}=t.props.getPageSize(),E=o.positionLeft+b*n/2,L=o.positionLeft-b*n/2;g.x>E?g.x=E:g.x<L&&(g.x=L);const P=o.positionTop+S*n/2,O=o.positionTop-S*n/2;g.y>P?g.y=P:g.y<O&&(g.y=O);const $=r*b/(n*b),H=vA(t,u,g,$);o.positionLeft=H.left,o.positionTop=H.top,o.pageScale=r}function aR(t,e){const n=e,{length:r}=Object.keys(t.pointerMap);if(r===1)SA({localStore:t,deltaX:-(n.touches[0].pageX-t.pointerMap[0].current.x),deltaY:-(n.touches[0].pageY-t.pointerMap[0].current.y)});else if(r===2&&n.touches.length===2){const o={x:n.touches[0].pageX,y:n.touches[0].pageY},u={x:n.touches[1].pageX,y:n.touches[1].pageY},c=jp(o,u),l=F2(o,u),h=jp(t.pointerMap[0].current,t.pointerMap[1].current),g=c-h;g!==0&&wA(t,{currentTarget:t.workspaceElement,pageX:l.x,pageY:l.y,deltaY:-g}),t.workspaceElement&&iy({localStore:t,workspace:t.workspaceElement})}for(let o=0;o<n.touches.length;o+=1){const u=n.touches[o];t.pointerMap[o]=t.pointerMap[o]||{start:{x:u.pageX,y:u.pageY},current:{x:0,y:0},deltaX:0,deltaY:0};const c=t.pointerMap[o];c&&(c.deltaX=u.pageX-c.current.x,c.deltaY=u.pageY-c.current.y,c.current={x:u.pageX,y:u.pageY})}}function bA({localStore:t,workspaceState:e,pageWidth:n,pageHeight:r,workspaceWidth:o,workspaceHeight:u}){const{safePadding:c}=t.options,{pageScale:l}=e,h=n*l/2+c-o/2,g=r*l/2+c-u/2;return{minX:-h,maxX:h,minY:-g,maxY:g}}function SA({localStore:t,deltaX:e,deltaY:n}){t.workspaceState.isPageCenteredAtX===!1&&(t.workspaceState.positionLeft-=e),t.workspaceState.isPageCenteredAtY===!1&&(t.workspaceState.positionTop-=n),t.workspaceElement&&iy({localStore:t,workspace:t.workspaceElement})}function iy({localStore:t,workspace:e}){const{workspaceState:n}=t,r=t.getPageScale(),{width:o,height:u}=t.props.getPageSize(),c=Ns(e),l=Fs(e),{safePadding:h}=t.options,g=n.positionLeft+c/2-o*r/2,b=c/2-o*r/2-n.positionLeft;g>h&&b>h?(n.positionLeft=0,n.isPageCenteredAtX=!0):(n.isPageCenteredAtX=!1,g>=h?n.positionLeft-=g-h:b>=h&&(n.positionLeft+=b-h));const S=n.positionTop+l/2-u*r/2,E=l/2-u*r/2-n.positionTop;S>h&&E>h?(n.positionTop=0,n.isPageCenteredAtY=!0):(n.isPageCenteredAtY=!1,S>h?n.positionTop-=S-h:E>h&&(n.positionTop+=E-h));const L=bA({localStore:t,workspaceState:n,workspaceWidth:c,workspaceHeight:l,pageWidth:o,pageHeight:u});{n.scroll.x.totalLength=o*r+h*2,n.scroll.x.viewportLength=c;const P=(-n.positionLeft+L.maxX)/(L.maxX*2);n.scroll.x.barLength=n.scroll.x.viewportLength*n.scroll.x.viewportLength/n.scroll.x.totalLength,n.scroll.x.barStart=(n.scroll.x.viewportLength-n.scroll.x.barLength)*P}{n.scroll.y.totalLength=u*r+h*2,n.scroll.y.viewportLength=l;const P=(-n.positionTop+L.maxY)/(L.maxY*2);n.scroll.y.barLength=n.scroll.y.viewportLength*n.scroll.y.viewportLength/n.scroll.y.totalLength,n.scroll.y.barStart=(n.scroll.y.viewportLength-n.scroll.y.barLength)*P}}function sR(t,e,n){const r=t.getPageScale(),o=ry(t,e.deltaY,r),u=e.currentTarget,c=vc(u),l=yc(u),{width:h,height:g}=t.props.getPageSize(),b=e.pageX-c,S=e.pageY-l,E=(b+u.scrollLeft-n)/(h*r),L=(S+u.scrollTop-n)/(g*r),P=o*h*E+n-b,O=o*g*L+n-S;t.workspaceState.pageScale=o,u.scrollLeft=P,u.scrollTop=O}function xA(t,e){let n={x:0,y:0};return t.canvasElement&&(n=jm(e,t.canvasElement),n.x+=t.viewport.x,n.y+=t.viewport.y,n.x/=t.scale,n.y/=t.scale),n}function oy({localStore:t,canvasElement:e}){const n=t.getPageScale(),r=e.width/window.devicePixelRatio/2+t.workspaceState.positionLeft-t.props.getPageSize().width*n/2,o=e.height/window.devicePixelRatio/2+t.workspaceState.positionTop-t.props.getPageSize().height*n/2;return{left:r,top:o}}function ay(t,e){if(t.libra){let r={x:0,y:0};if(t.libra.canvasElement){const o=oy({localStore:t,canvasElement:t.libra.canvasElement});r=jm(e,t.libra.canvasElement),r.x-=o.left,r.y-=o.top,r.x/=t.getPageScale(),r.y/=t.getPageScale()}return r}const n=t.getFigma();return n?xA(n.context.fileData,e):t.getPointInPage(e)}function xc({index:t,textData:e,paragraph:n}){const r=e.characters[t],o=n.getLineMetrics();let u=0;for(let c=0;c<o.length;c+=1){const l=o[c];if(r===`
`){if(l.endIncludingNewline-1===t){u=c;break}if(l.startIndex===t){u=c;break}}else if(t===e.characters.length){u=o.length-1;break}else l.startIndex<=t&&(u=c)}return u}function EA({textData:t,paragraph:e,index:n}){const r={total:t.characters.length,index:n,char:t.characters[n]||"",glyph:e.getGlyphInfoAt(n),lineNumber:0},o=xc({textData:t,paragraph:e,index:n});return r.lineNumber=o,r}function uR(t,e){var o,u;const n=t.selectedSingleLayer,r=ti(t);if(r&&(n==null?void 0:n.nodeType)==="TEXT"&&n.textData){const c=ay(t,e);if(c){const l=Bm({fileData:r.fileData,info:{type:"layer",layerId:n.id}}),h=jo(l,c);if(r.fileData.paragraphManager.activeParagraph){const g=r.fileData.paragraphManager.activeParagraph;Pd({localStore:t,layer:n,paragraph:g,textData:n.textData,scaledX:r.fileData.doScale(h.x),scaledY:r.fileData.doScale(h.y)});const{start:b}=t.selectionInfo.textRange$,{initialSelectionIndex:S}=t.advancedTextEditor;b>S?(t.selectionInfo.textRange$.start=S,t.selectionInfo.textRange$.end=b+1):b===S?(t.selectionInfo.textRange$.start=b,t.selectionInfo.textRange$.end=b+1):(t.selectionInfo.textRange$.start=b,t.selectionInfo.textRange$.end=S)}(u=(o=t.props).doAction)==null||u.call(o,{type:"RerenderCanvas"})}}}function sy({localStore:t,layer:e,line:n}){let r=n.width;return e.textAlignHorizontal==="RIGHT"?r=e.width*t.getPageScale():e.textAlignHorizontal==="CENTER"&&(r=e.width*t.getPageScale()/2+n.width/2),r}function Pd({localStore:t,layer:e,paragraph:n,scaledX:r,scaledY:o,textData:u}){const c=n.getClosestGlyphInfoAtCoordinate(r,o);if(c){const l=c.graphemeClusterTextRange.start,h=xc({textData:u,paragraph:n,index:l}),g=n.getLineMetricsAt(h);if(g){const b=sy({layer:e,line:g,localStore:t});if(r>b){let S=g.endIndex;S>=e.textData.characters.length&&e.textData.characters[e.textData.characters.length-1]===`
`&&(S=e.textData.characters.length-1),S<0&&(S=0),t.selectionInfo.textRange$.start=S,t.selectionInfo.textRange$.end=S;return}}t.selectionInfo.textRange$.start=c.graphemeClusterTextRange.start,t.selectionInfo.textRange$.end=c.graphemeClusterTextRange.start}else t.selectionInfo.textRange$.start=u.characters.length,t.selectionInfo.textRange$.end=u.characters.length}function cR({localStore:t,layer:e}){const{start:n}=t.selectionInfo.textRange$,r=ti(t);if(r&&e.textData){const o=r.fileData.paragraphManager.activeParagraph;if(o){const u=xc({index:n,textData:e.textData,paragraph:o}),c=o.getGlyphInfoAt(n);let l=0;if(c)l=c.graphemeLayoutBounds[0];else{const g=o.getLineMetricsAt(u);g&&(l=g.width)}const h=o.getLineMetricsAt(Math.max(0,u-1));if(h){const g=h.baseline;Pd({localStore:t,layer:e,paragraph:o,textData:e.textData,scaledX:l,scaledY:g})}}}}function lR({localStore:t,layer:e}){const{start:n}=t.selectionInfo.textRange$,r=ti(t);if(r&&e.textData){const o=r.fileData.paragraphManager.activeParagraph;if(o){const u=xc({index:n,textData:e.textData,paragraph:o});let c=u+1;c>o.getNumberOfLines()-1&&(c=o.getNumberOfLines()-1);const l=o.getGlyphInfoAt(n);if(l){const h=l.graphemeLayoutBounds[0],g=o.getLineMetricsAt(c);if(g){const b=g.baseline;console.log({name:"down",start:n,lineNumber:u,targetLineNumber:c,g:l,line:g,left:h,top:b}),Pd({localStore:t,layer:e,paragraph:o,textData:e.textData,scaledX:h,scaledY:b})}}}}}function Md({fileData:t,layer:e,Raptor:n,instanceChain:r,options:o}){var l;const u=Jt({localStore:t.localStore,layer:e,instanceChain:r}),c={withStrokes:Zp({layerInfo:u,width:u.width,height:u.height}),withShadow:Zp({layerInfo:u,width:u.width,height:u.height})};return(e.nodeType==="FRAME"||e.nodeType==="SYMBOL"||e.nodeType==="INSTANCE")&&u.frameMaskDisabled!==!0||Os(t,e).map(g=>{const b=[...r];g.nodeType==="INSTANCE"&&b.push(g);const S=Jt({localStore:t.localStore,layer:g,instanceChain:b});return{child:g,nextInstanceChain:b,relativeTransform:Kn(S)}}).forEach(({child:g,nextInstanceChain:b,relativeTransform:S})=>{const E=Md({fileData:t,Raptor:n,layer:g,instanceChain:b,options:o});E.withStrokes=E.withStrokes.map(L=>xs(S,L)),E.withShadow=E.withShadow.map(L=>xs(S,L)),c.withStrokes=nf([...c.withStrokes,...E.withStrokes]),c.withShadow=nf([...c.withShadow,...E.withShadow])}),(l=u.effects)==null||l.forEach(h=>{if(h.type==="DROP_SHADOW"&&h.visible&&h.radius>0){const g=h.radius*3,b=Ye.cloneDeep(c.withStrokes);b.forEach((S,E)=>{E===0?(S.x-=g,S.y-=g):E===1?(S.x-=g,S.y+=g):E===2?(S.x+=g,S.y+=g):E===3&&(S.x+=g,S.y-=g),c.withShadow=nf([...c.withShadow,...b])})}}),c}class AA{constructor(e,n){this.lastUpdatedAt=-1,this.pathBoundsList=[],this.instanceMap={},this.relativeTransformDirty=!0,this.relativeTransform=[[1,0,0],[0,1,0],[0,0,1]],this.boundingPointsDirty=!0,this.exportPointsRectDirty=!0,this.fileData=e,this.layer=n}getRelativeTransform(){return this.relativeTransformDirty&&(this.relativeTransform=Kn(this.layer),this.relativeTransformDirty=!1),this.relativeTransform}markDirty(){this.relativeTransformDirty=!0,this.markBoundingPointsDirty(),this.markParentDirty()}markBoundingPointsDirty(){this.boundingPointsDirty=!0,this.exportPointsRectDirty=!0}markParentDirty(){const{parentId:e}=this.layer,n=this.fileData.layerAssetsMap[e];n&&(n.markBoundingPointsDirty(),n.markParentDirty())}}function Zp({width:t,height:e,layerInfo:n}){let r=0,o=0,u=t,c=e;if(n.strokeGeometry.length>0){let h=0;n.strokeAlign==="CENTER"?h=n.strokeWeight/2:n.strokeAlign==="OUTSIDE"&&(h=n.strokeWeight),r=Math.min(r,r-h),o=Math.min(o,o-h),u=Math.max(u,u+h),c=Math.max(c,c+h)}return[{x:r,y:o},{x:r,y:c},{x:u,y:c},{x:u,y:o}]}function uy(t,e){t&&e(t),t.children&&t.children.forEach(n=>{uy(n,e)})}function CA(t,e){uy(e,n=>{t.layerMap[n.id]=n,t.layerAssetsMap[n.id]=new AA(t,n)})}function of(t,e){var o,u;const n=t.getLayer(e);if(n)return n;const r=(u=(o=t.props).getDocumentNode)==null?void 0:u.call(o);return r?r.id===e?r:r.children.find(c=>c.id===e)||null:null}var Id={exports:{}},wa=typeof Reflect=="object"?Reflect:null,eg=wa&&typeof wa.apply=="function"?wa.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Yu;wa&&typeof wa.ownKeys=="function"?Yu=wa.ownKeys:Object.getOwnPropertySymbols?Yu=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Yu=function(e){return Object.getOwnPropertyNames(e)};function _A(t){console&&console.warn&&console.warn(t)}var cy=Number.isNaN||function(e){return e!==e};function Bt(){Bt.init.call(this)}Id.exports=Bt;Id.exports.once=MA;Bt.EventEmitter=Bt;Bt.prototype._events=void 0;Bt.prototype._eventsCount=0;Bt.prototype._maxListeners=void 0;var tg=10;function Ec(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Bt,"defaultMaxListeners",{enumerable:!0,get:function(){return tg},set:function(t){if(typeof t!="number"||t<0||cy(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");tg=t}});Bt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Bt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||cy(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ly(t){return t._maxListeners===void 0?Bt.defaultMaxListeners:t._maxListeners}Bt.prototype.getMaxListeners=function(){return ly(this)};Bt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var o=e==="error",u=this._events;if(u!==void 0)o=o&&u.error===void 0;else if(!o)return!1;if(o){var c;if(n.length>0&&(c=n[0]),c instanceof Error)throw c;var l=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw l.context=c,l}var h=u[e];if(h===void 0)return!1;if(typeof h=="function")eg(h,this,n);else for(var g=h.length,b=gy(h,g),r=0;r<g;++r)eg(b[r],this,n);return!0};function fy(t,e,n,r){var o,u,c;if(Ec(n),u=t._events,u===void 0?(u=t._events=Object.create(null),t._eventsCount=0):(u.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),u=t._events),c=u[e]),c===void 0)c=u[e]=n,++t._eventsCount;else if(typeof c=="function"?c=u[e]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),o=ly(t),o>0&&c.length>o&&!c.warned){c.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=c.length,_A(l)}return t}Bt.prototype.addListener=function(e,n){return fy(this,e,n,!1)};Bt.prototype.on=Bt.prototype.addListener;Bt.prototype.prependListener=function(e,n){return fy(this,e,n,!0)};function TA(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function dy(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=TA.bind(r);return o.listener=n,r.wrapFn=o,o}Bt.prototype.once=function(e,n){return Ec(n),this.on(e,dy(this,e,n)),this};Bt.prototype.prependOnceListener=function(e,n){return Ec(n),this.prependListener(e,dy(this,e,n)),this};Bt.prototype.removeListener=function(e,n){var r,o,u,c,l;if(Ec(n),o=this._events,o===void 0)return this;if(r=o[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(u=-1,c=r.length-1;c>=0;c--)if(r[c]===n||r[c].listener===n){l=r[c].listener,u=c;break}if(u<0)return this;u===0?r.shift():LA(r,u),r.length===1&&(o[e]=r[0]),o.removeListener!==void 0&&this.emit("removeListener",e,l||n)}return this};Bt.prototype.off=Bt.prototype.removeListener;Bt.prototype.removeAllListeners=function(e){var n,r,o;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var u=Object.keys(r),c;for(o=0;o<u.length;++o)c=u[o],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(o=n.length-1;o>=0;o--)this.removeListener(e,n[o]);return this};function hy(t,e,n){var r=t._events;if(r===void 0)return[];var o=r[e];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?PA(o):gy(o,o.length)}Bt.prototype.listeners=function(e){return hy(this,e,!0)};Bt.prototype.rawListeners=function(e){return hy(this,e,!1)};Bt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):py.call(t,e)};Bt.prototype.listenerCount=py;function py(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Bt.prototype.eventNames=function(){return this._eventsCount>0?Yu(this._events):[]};function gy(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function LA(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function PA(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function MA(t,e){return new Promise(function(n,r){function o(c){t.removeListener(e,u),r(c)}function u(){typeof t.removeListener=="function"&&t.removeListener("error",o),n([].slice.call(arguments))}my(t,e,u,{once:!0}),e!=="error"&&IA(t,o,{once:!0})})}function IA(t,e,n){typeof t.on=="function"&&my(t,"error",e,n)}function my(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(u){r.once&&t.removeEventListener(e,o),n(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var kA=Id.exports;function pi(t){if(typeof t!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=t}typeof Symbol<"u"&&(pi.prototype[Symbol.iterator]=function(){return this});pi.of=function(){var t=arguments,e=t.length,n=0;return new pi(function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}})};pi.empty=function(){var t=new pi(function(){return{done:!0}});return t};pi.fromSequence=function(t){var e=0,n=t.length;return new pi(function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}})};pi.is=function(t){return t instanceof pi?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};var kd=pi;const Dr=Xo(kd);var Rd={};Rd.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";Rd.SYMBOL_SUPPORT=typeof Symbol<"u";var RA=kd,yy=Rd,OA=yy.ARRAY_BUFFER_SUPPORT,FA=yy.SYMBOL_SUPPORT;function NA(t){return typeof t=="string"||Array.isArray(t)||OA&&ArrayBuffer.isView(t)?RA.fromSequence(t):typeof t!="object"||t===null?null:FA&&typeof t[Symbol.iterator]=="function"?t[Symbol.iterator]():typeof t.next=="function"?t:null}var vy=function(e){var n=NA(e);if(!n)throw new Error("obliterator: target is not iterable nor a valid iterator.");return n},$A=vy,BA=function(e,n){for(var r=arguments.length>1?n:1/0,o=r!==1/0?new Array(r):[],u,c=0,l=$A(e);;){if(c===r)return o;if(u=l.next(),u.done)return c!==n&&(o.length=c),o;o[c++]=u.value}};const wy=Xo(BA);var DA=kd,GA=vy,UA=function(){var e=arguments,n=null,r=-1;return new DA(function(){var u=null;do{if(n===null){if(r++,r>=e.length)return{done:!0};n=GA(e[r])}if(u=n.next(),u.done===!0){n=null;continue}break}while(!0);return u})};const Wi=Xo(UA);function WA(){const t=arguments[0];for(let e=1,n=arguments.length;e<n;e++)if(arguments[e])for(const r in arguments[e])t[r]=arguments[e][r];return t}let xn=WA;typeof Object.assign=="function"&&(xn=Object.assign);function Br(t,e,n,r){const o=t._nodes.get(e);let u=null;return o&&(r==="mixed"?u=o.out&&o.out[n]||o.undirected&&o.undirected[n]:r==="directed"?u=o.out&&o.out[n]:u=o.undirected&&o.undirected[n]),u}function Dn(t){return typeof t=="object"&&t!==null}function by(t){let e;for(e in t)return!1;return!0}function Rr(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function Qr(t,e,n){const r={enumerable:!0,configurable:!0};typeof n=="function"?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function ng(t){return!(!Dn(t)||t.attributes&&!Array.isArray(t.attributes))}function HA(){let t=Math.floor(Math.random()*256)&255;return()=>t++}class Od extends Error{constructor(e){super(),this.name="GraphError",this.message=e}}class Ne extends Od{constructor(e){super(e),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ne.prototype.constructor)}}class Me extends Od{constructor(e){super(e),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Me.prototype.constructor)}}class qe extends Od{constructor(e){super(e),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,qe.prototype.constructor)}}function Sy(t,e){this.key=t,this.attributes=e,this.clear()}Sy.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function xy(t,e){this.key=t,this.attributes=e,this.clear()}xy.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function Ey(t,e){this.key=t,this.attributes=e,this.clear()}Ey.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function _a(t,e,n,r,o){this.key=e,this.attributes=o,this.undirected=t,this.source=n,this.target=r}_a.prototype.attach=function(){let t="out",e="in";this.undirected&&(t=e="undirected");const n=this.source.key,r=this.target.key;this.source[t][r]=this,!(this.undirected&&n===r)&&(this.target[e][n]=this)};_a.prototype.attachMulti=function(){let t="out",e="in";const n=this.source.key,r=this.target.key;this.undirected&&(t=e="undirected");const o=this.source[t],u=o[r];if(typeof u>"u"){o[r]=this,this.undirected&&n===r||(this.target[e][n]=this);return}u.previous=this,this.next=u,o[r]=this,this.target[e][n]=this};_a.prototype.detach=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][e],delete this.target[r][t]};_a.prototype.detachMulti=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const Ay=0,Cy=1,zA=2,_y=3;function ji(t,e,n,r,o,u,c){let l,h,g,b;if(r=""+r,n===Ay){if(l=t._nodes.get(r),!l)throw new Me(`Graph.${e}: could not find the "${r}" node in the graph.`);g=o,b=u}else if(n===_y){if(o=""+o,h=t._edges.get(o),!h)throw new Me(`Graph.${e}: could not find the "${o}" edge in the graph.`);const S=h.source.key,E=h.target.key;if(r===S)l=h.target;else if(r===E)l=h.source;else throw new Me(`Graph.${e}: the "${r}" node is not attached to the "${o}" edge (${S}, ${E}).`);g=u,b=c}else{if(h=t._edges.get(r),!h)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`);n===Cy?l=h.source:l=h.target,g=o,b=u}return[l,g,b]}function jA(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);return c.attributes[l]}}function VA(t,e,n){t.prototype[e]=function(r,o){const[u]=ji(this,e,n,r,o);return u.attributes}}function XA(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);return c.attributes.hasOwnProperty(l)}}function YA(t,e,n){t.prototype[e]=function(r,o,u,c){const[l,h,g]=ji(this,e,n,r,o,u,c);return l.attributes[h]=g,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:h}),this}}function KA(t,e,n){t.prototype[e]=function(r,o,u,c){const[l,h,g]=ji(this,e,n,r,o,u,c);if(typeof g!="function")throw new Ne(`Graph.${e}: updater should be a function.`);const b=l.attributes,S=g(b[h]);return b[h]=S,this.emit("nodeAttributesUpdated",{key:l.key,type:"set",attributes:l.attributes,name:h}),this}}function QA(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);return delete c.attributes[l],this.emit("nodeAttributesUpdated",{key:c.key,type:"remove",attributes:c.attributes,name:l}),this}}function qA(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);if(!Dn(l))throw new Ne(`Graph.${e}: provided attributes are not a plain object.`);return c.attributes=l,this.emit("nodeAttributesUpdated",{key:c.key,type:"replace",attributes:c.attributes}),this}}function JA(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);if(!Dn(l))throw new Ne(`Graph.${e}: provided attributes are not a plain object.`);return xn(c.attributes,l),this.emit("nodeAttributesUpdated",{key:c.key,type:"merge",attributes:c.attributes,data:l}),this}}function ZA(t,e,n){t.prototype[e]=function(r,o,u){const[c,l]=ji(this,e,n,r,o,u);if(typeof l!="function")throw new Ne(`Graph.${e}: provided updater is not a function.`);return c.attributes=l(c.attributes),this.emit("nodeAttributesUpdated",{key:c.key,type:"update",attributes:c.attributes}),this}}const eC=[{name:t=>`get${t}Attribute`,attacher:jA},{name:t=>`get${t}Attributes`,attacher:VA},{name:t=>`has${t}Attribute`,attacher:XA},{name:t=>`set${t}Attribute`,attacher:YA},{name:t=>`update${t}Attribute`,attacher:KA},{name:t=>`remove${t}Attribute`,attacher:QA},{name:t=>`replace${t}Attributes`,attacher:qA},{name:t=>`merge${t}Attributes`,attacher:JA},{name:t=>`update${t}Attributes`,attacher:ZA}];function tC(t){eC.forEach(function({name:e,attacher:n}){n(t,e("Node"),Ay),n(t,e("Source"),Cy),n(t,e("Target"),zA),n(t,e("Opposite"),_y)})}function nC(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return u.attributes[o]}}function rC(t,e,n){t.prototype[e]=function(r){let o;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+r,c=""+arguments[1];if(o=Br(this,u,c,n),!o)throw new Me(`Graph.${e}: could not find an edge for the given path ("${u}" - "${c}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return o.attributes}}function iC(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return u.attributes.hasOwnProperty(o)}}function oC(t,e,n){t.prototype[e]=function(r,o,u){let c;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+r,h=""+o;if(o=arguments[2],u=arguments[3],c=Br(this,l,h,n),!c)throw new Me(`Graph.${e}: could not find an edge for the given path ("${l}" - "${h}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,c=this._edges.get(r),!c)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return c.attributes[o]=u,this.emit("edgeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:o}),this}}function aC(t,e,n){t.prototype[e]=function(r,o,u){let c;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+r,h=""+o;if(o=arguments[2],u=arguments[3],c=Br(this,l,h,n),!c)throw new Me(`Graph.${e}: could not find an edge for the given path ("${l}" - "${h}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,c=this._edges.get(r),!c)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof u!="function")throw new Ne(`Graph.${e}: updater should be a function.`);return c.attributes[o]=u(c.attributes[o]),this.emit("edgeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:o}),this}}function sC(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return delete u.attributes[o],this.emit("edgeAttributesUpdated",{key:u.key,type:"remove",attributes:u.attributes,name:o}),this}}function uC(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Dn(o))throw new Ne(`Graph.${e}: provided attributes are not a plain object.`);return u.attributes=o,this.emit("edgeAttributesUpdated",{key:u.key,type:"replace",attributes:u.attributes}),this}}function cC(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Dn(o))throw new Ne(`Graph.${e}: provided attributes are not a plain object.`);return xn(u.attributes,o),this.emit("edgeAttributesUpdated",{key:u.key,type:"merge",attributes:u.attributes,data:o}),this}}function lC(t,e,n){t.prototype[e]=function(r,o){let u;if(this.type!=="mixed"&&n!=="mixed"&&n!==this.type)throw new qe(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new qe(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+r,l=""+o;if(o=arguments[2],u=Br(this,c,l,n),!u)throw new Me(`Graph.${e}: could not find an edge for the given path ("${c}" - "${l}").`)}else{if(n!=="mixed")throw new qe(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,u=this._edges.get(r),!u)throw new Me(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof o!="function")throw new Ne(`Graph.${e}: provided updater is not a function.`);return u.attributes=o(u.attributes),this.emit("edgeAttributesUpdated",{key:u.key,type:"update",attributes:u.attributes}),this}}const fC=[{name:t=>`get${t}Attribute`,attacher:nC},{name:t=>`get${t}Attributes`,attacher:rC},{name:t=>`has${t}Attribute`,attacher:iC},{name:t=>`set${t}Attribute`,attacher:oC},{name:t=>`update${t}Attribute`,attacher:aC},{name:t=>`remove${t}Attribute`,attacher:sC},{name:t=>`replace${t}Attributes`,attacher:uC},{name:t=>`merge${t}Attributes`,attacher:cC},{name:t=>`update${t}Attributes`,attacher:lC}];function dC(t){fC.forEach(function({name:e,attacher:n}){n(t,e("Edge"),"mixed"),n(t,e("DirectedEdge"),"directed"),n(t,e("UndirectedEdge"),"undirected")})}const hC=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function pC(t,e,n,r){let o=!1;for(const u in e){if(u===r)continue;const c=e[u];if(o=n(c.key,c.attributes,c.source.key,c.target.key,c.source.attributes,c.target.attributes,c.undirected),t&&o)return c.key}}function gC(t,e,n,r){let o,u,c,l=!1;for(const h in e)if(h!==r){o=e[h];do{if(u=o.source,c=o.target,l=n(o.key,o.attributes,u.key,c.key,u.attributes,c.attributes,o.undirected),t&&l)return o.key;o=o.next}while(o!==void 0)}}function af(t,e){const n=Object.keys(t),r=n.length;let o,u=0;return new Dr(function(){do if(o)o=o.next;else{if(u>=r)return{done:!0};const l=n[u++];if(l===e){o=void 0;continue}o=t[l]}while(!o);return{done:!1,value:{edge:o.key,attributes:o.attributes,source:o.source.key,target:o.target.key,sourceAttributes:o.source.attributes,targetAttributes:o.target.attributes,undirected:o.undirected}}})}function mC(t,e,n,r){const o=e[n];if(!o)return;const u=o.source,c=o.target;if(r(o.key,o.attributes,u.key,c.key,u.attributes,c.attributes,o.undirected)&&t)return o.key}function yC(t,e,n,r){let o=e[n];if(!o)return;let u=!1;do{if(u=r(o.key,o.attributes,o.source.key,o.target.key,o.source.attributes,o.target.attributes,o.undirected),t&&u)return o.key;o=o.next}while(o!==void 0)}function sf(t,e){let n=t[e];return n.next!==void 0?new Dr(function(){if(!n)return{done:!0};const r={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:r}}):Dr.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function vC(t,e){if(t.size===0)return[];if(e==="mixed"||e===t.type)return typeof Array.from=="function"?Array.from(t._edges.keys()):wy(t._edges.keys(),t._edges.size);const n=e==="undirected"?t.undirectedSize:t.directedSize,r=new Array(n),o=e==="undirected",u=t._edges.values();let c=0,l,h;for(;l=u.next(),l.done!==!0;)h=l.value,h.undirected===o&&(r[c++]=h.key);return r}function Ty(t,e,n,r){if(e.size===0)return;const o=n!=="mixed"&&n!==e.type,u=n==="undirected";let c,l,h=!1;const g=e._edges.values();for(;c=g.next(),c.done!==!0;){if(l=c.value,o&&l.undirected!==u)continue;const{key:b,attributes:S,source:E,target:L}=l;if(h=r(b,S,E.key,L.key,E.attributes,L.attributes,l.undirected),t&&h)return b}}function wC(t,e){if(t.size===0)return Dr.empty();const n=e!=="mixed"&&e!==t.type,r=e==="undirected",o=t._edges.values();return new Dr(function(){let c,l;for(;;){if(c=o.next(),c.done)return c;if(l=c.value,!(n&&l.undirected!==r))break}return{value:{edge:l.key,attributes:l.attributes,source:l.source.key,target:l.target.key,sourceAttributes:l.source.attributes,targetAttributes:l.target.attributes,undirected:l.undirected},done:!1}})}function Fd(t,e,n,r,o,u){const c=e?gC:pC;let l;if(n!=="undirected"&&(r!=="out"&&(l=c(t,o.in,u),t&&l)||r!=="in"&&(l=c(t,o.out,u,r?void 0:o.key),t&&l))||n!=="directed"&&(l=c(t,o.undirected,u),t&&l))return l}function bC(t,e,n,r){const o=[];return Fd(!1,t,e,n,r,function(u){o.push(u)}),o}function SC(t,e,n){let r=Dr.empty();return t!=="undirected"&&(e!=="out"&&typeof n.in<"u"&&(r=Wi(r,af(n.in))),e!=="in"&&typeof n.out<"u"&&(r=Wi(r,af(n.out,e?void 0:n.key)))),t!=="directed"&&typeof n.undirected<"u"&&(r=Wi(r,af(n.undirected))),r}function Nd(t,e,n,r,o,u,c){const l=n?yC:mC;let h;if(e!=="undirected"&&(typeof o.in<"u"&&r!=="out"&&(h=l(t,o.in,u,c),t&&h)||typeof o.out<"u"&&r!=="in"&&(r||o.key!==u)&&(h=l(t,o.out,u,c),t&&h))||e!=="directed"&&typeof o.undirected<"u"&&(h=l(t,o.undirected,u,c),t&&h))return h}function xC(t,e,n,r,o){const u=[];return Nd(!1,t,e,n,r,o,function(c){u.push(c)}),u}function EC(t,e,n,r){let o=Dr.empty();return t!=="undirected"&&(typeof n.in<"u"&&e!=="out"&&r in n.in&&(o=Wi(o,sf(n.in,r))),typeof n.out<"u"&&e!=="in"&&r in n.out&&(e||n.key!==r)&&(o=Wi(o,sf(n.out,r)))),t!=="directed"&&typeof n.undirected<"u"&&r in n.undirected&&(o=Wi(o,sf(n.undirected,r))),o}function AC(t,e){const{name:n,type:r,direction:o}=e;t.prototype[n]=function(u,c){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];if(!arguments.length)return vC(this,r);if(arguments.length===1){u=""+u;const l=this._nodes.get(u);if(typeof l>"u")throw new Me(`Graph.${n}: could not find the "${u}" node in the graph.`);return bC(this.multi,r==="mixed"?this.type:r,o,l)}if(arguments.length===2){u=""+u,c=""+c;const l=this._nodes.get(u);if(!l)throw new Me(`Graph.${n}:  could not find the "${u}" source node in the graph.`);if(!this._nodes.has(c))throw new Me(`Graph.${n}:  could not find the "${c}" target node in the graph.`);return xC(r,this.multi,o,l,c)}throw new Ne(`Graph.${n}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function CC(t,e){const{name:n,type:r,direction:o}=e,u="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(g,b,S){if(!(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)){if(arguments.length===1)return S=g,Ty(!1,this,r,S);if(arguments.length===2){g=""+g,S=b;const E=this._nodes.get(g);if(typeof E>"u")throw new Me(`Graph.${u}: could not find the "${g}" node in the graph.`);return Fd(!1,this.multi,r==="mixed"?this.type:r,o,E,S)}if(arguments.length===3){g=""+g,b=""+b;const E=this._nodes.get(g);if(!E)throw new Me(`Graph.${u}:  could not find the "${g}" source node in the graph.`);if(!this._nodes.has(b))throw new Me(`Graph.${u}:  could not find the "${b}" target node in the graph.`);return Nd(!1,r,this.multi,o,E,b,S)}throw new Ne(`Graph.${u}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const c="map"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){const g=Array.prototype.slice.call(arguments),b=g.pop();let S;if(g.length===0){let E=0;r!=="directed"&&(E+=this.undirectedSize),r!=="undirected"&&(E+=this.directedSize),S=new Array(E);let L=0;g.push((P,O,$,H,X,W,te)=>{S[L++]=b(P,O,$,H,X,W,te)})}else S=[],g.push((E,L,P,O,$,H,X)=>{S.push(b(E,L,P,O,$,H,X))});return this[u].apply(this,g),S};const l="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[l]=function(){const g=Array.prototype.slice.call(arguments),b=g.pop(),S=[];return g.push((E,L,P,O,$,H,X)=>{b(E,L,P,O,$,H,X)&&S.push(E)}),this[u].apply(this,g),S};const h="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[h]=function(){let g=Array.prototype.slice.call(arguments);if(g.length<2||g.length>4)throw new Ne(`Graph.${h}: invalid number of arguments (expecting 2, 3 or 4 and got ${g.length}).`);if(typeof g[g.length-1]=="function"&&typeof g[g.length-2]!="function")throw new Ne(`Graph.${h}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let b,S;g.length===2?(b=g[0],S=g[1],g=[]):g.length===3?(b=g[1],S=g[2],g=[g[0]]):g.length===4&&(b=g[2],S=g[3],g=[g[0],g[1]]);let E=S;return g.push((L,P,O,$,H,X,W)=>{E=b(E,L,P,O,$,H,X,W)}),this[u].apply(this,g),E}}function _C(t,e){const{name:n,type:r,direction:o}=e,u="find"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(h,g,b){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return!1;if(arguments.length===1)return b=h,Ty(!0,this,r,b);if(arguments.length===2){h=""+h,b=g;const S=this._nodes.get(h);if(typeof S>"u")throw new Me(`Graph.${u}: could not find the "${h}" node in the graph.`);return Fd(!0,this.multi,r==="mixed"?this.type:r,o,S,b)}if(arguments.length===3){h=""+h,g=""+g;const S=this._nodes.get(h);if(!S)throw new Me(`Graph.${u}:  could not find the "${h}" source node in the graph.`);if(!this._nodes.has(g))throw new Me(`Graph.${u}:  could not find the "${g}" target node in the graph.`);return Nd(!0,r,this.multi,o,S,g,b)}throw new Ne(`Graph.${u}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const c="some"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[c]=function(){const h=Array.prototype.slice.call(arguments),g=h.pop();return h.push((S,E,L,P,O,$,H)=>g(S,E,L,P,O,$,H)),!!this[u].apply(this,h)};const l="every"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[l]=function(){const h=Array.prototype.slice.call(arguments),g=h.pop();return h.push((S,E,L,P,O,$,H)=>!g(S,E,L,P,O,$,H)),!this[u].apply(this,h)}}function TC(t,e){const{name:n,type:r,direction:o}=e,u=n.slice(0,-1)+"Entries";t.prototype[u]=function(c,l){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return Dr.empty();if(!arguments.length)return wC(this,r);if(arguments.length===1){c=""+c;const h=this._nodes.get(c);if(!h)throw new Me(`Graph.${u}: could not find the "${c}" node in the graph.`);return SC(r,o,h)}if(arguments.length===2){c=""+c,l=""+l;const h=this._nodes.get(c);if(!h)throw new Me(`Graph.${u}:  could not find the "${c}" source node in the graph.`);if(!this._nodes.has(l))throw new Me(`Graph.${u}:  could not find the "${l}" target node in the graph.`);return EC(r,o,h,l)}throw new Ne(`Graph.${u}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function LC(t){hC.forEach(e=>{AC(t,e),CC(t,e),_C(t,e),TC(t,e)})}const PC=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Ac(){this.A=null,this.B=null}Ac.prototype.wrap=function(t){this.A===null?this.A=t:this.B===null&&(this.B=t)};Ac.prototype.has=function(t){return this.A!==null&&t in this.A||this.B!==null&&t in this.B};function hs(t,e,n,r,o){for(const u in r){const c=r[u],l=c.source,h=c.target,g=l===n?h:l;if(e&&e.has(g.key))continue;const b=o(g.key,g.attributes);if(t&&b)return g.key}}function $d(t,e,n,r,o){if(e!=="mixed"){if(e==="undirected")return hs(t,null,r,r.undirected,o);if(typeof n=="string")return hs(t,null,r,r[n],o)}const u=new Ac;let c;if(e!=="undirected"){if(n!=="out"){if(c=hs(t,null,r,r.in,o),t&&c)return c;u.wrap(r.in)}if(n!=="in"){if(c=hs(t,u,r,r.out,o),t&&c)return c;u.wrap(r.out)}}if(e!=="directed"&&(c=hs(t,u,r,r.undirected,o),t&&c))return c}function MC(t,e,n){if(t!=="mixed"){if(t==="undirected")return Object.keys(n.undirected);if(typeof e=="string")return Object.keys(n[e])}const r=[];return $d(!1,t,e,n,function(o){r.push(o)}),r}function ps(t,e,n){const r=Object.keys(n),o=r.length;let u=0;return new Dr(function(){let l=null;do{if(u>=o)return t&&t.wrap(n),{done:!0};const h=n[r[u++]],g=h.source,b=h.target;if(l=g===e?b:g,t&&t.has(l.key)){l=null;continue}}while(l===null);return{done:!1,value:{neighbor:l.key,attributes:l.attributes}}})}function IC(t,e,n){if(t!=="mixed"){if(t==="undirected")return ps(null,n,n.undirected);if(typeof e=="string")return ps(null,n,n[e])}let r=Dr.empty();const o=new Ac;return t!=="undirected"&&(e!=="out"&&(r=Wi(r,ps(o,n,n.in))),e!=="in"&&(r=Wi(r,ps(o,n,n.out)))),t!=="directed"&&(r=Wi(r,ps(o,n,n.undirected))),r}function kC(t,e){const{name:n,type:r,direction:o}=e;t.prototype[n]=function(u){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];u=""+u;const c=this._nodes.get(u);if(typeof c>"u")throw new Me(`Graph.${n}: could not find the "${u}" node in the graph.`);return MC(r==="mixed"?this.type:r,o,c)}}function RC(t,e){const{name:n,type:r,direction:o}=e,u="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(g,b){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;g=""+g;const S=this._nodes.get(g);if(typeof S>"u")throw new Me(`Graph.${u}: could not find the "${g}" node in the graph.`);$d(!1,r==="mixed"?this.type:r,o,S,b)};const c="map"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(g,b){const S=[];return this[u](g,(E,L)=>{S.push(b(E,L))}),S};const l="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[l]=function(g,b){const S=[];return this[u](g,(E,L)=>{b(E,L)&&S.push(E)}),S};const h="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[h]=function(g,b,S){if(arguments.length<3)throw new Ne(`Graph.${h}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let E=S;return this[u](g,(L,P)=>{E=b(E,L,P)}),E}}function OC(t,e){const{name:n,type:r,direction:o}=e,u=n[0].toUpperCase()+n.slice(1,-1),c="find"+u;t.prototype[c]=function(g,b){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;g=""+g;const S=this._nodes.get(g);if(typeof S>"u")throw new Me(`Graph.${c}: could not find the "${g}" node in the graph.`);return $d(!0,r==="mixed"?this.type:r,o,S,b)};const l="some"+u;t.prototype[l]=function(g,b){return!!this[c](g,b)};const h="every"+u;t.prototype[h]=function(g,b){return!this[c](g,(E,L)=>!b(E,L))}}function FC(t,e){const{name:n,type:r,direction:o}=e,u=n.slice(0,-1)+"Entries";t.prototype[u]=function(c){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return Dr.empty();c=""+c;const l=this._nodes.get(c);if(typeof l>"u")throw new Me(`Graph.${u}: could not find the "${c}" node in the graph.`);return IC(r==="mixed"?this.type:r,o,l)}}function NC(t){PC.forEach(e=>{kC(t,e),RC(t,e),OC(t,e),FC(t,e)})}function Bu(t,e,n,r,o){const u=r._nodes.values(),c=r.type;let l,h,g,b,S,E;for(;l=u.next(),l.done!==!0;){let L=!1;if(h=l.value,c!=="undirected"){b=h.out;for(g in b){S=b[g];do E=S.target,L=!0,o(h.key,E.key,h.attributes,E.attributes,S.key,S.attributes,S.undirected),S=S.next;while(S)}}if(c!=="directed"){b=h.undirected;for(g in b)if(!(e&&h.key>g)){S=b[g];do E=S.target,E.key!==g&&(E=S.source),L=!0,o(h.key,E.key,h.attributes,E.attributes,S.key,S.attributes,S.undirected),S=S.next;while(S)}}n&&!L&&o(h.key,null,h.attributes,null,null,null,null)}}function $C(t,e){const n={key:t};return by(e.attributes)||(n.attributes=xn({},e.attributes)),n}function BC(t,e,n){const r={key:e,source:n.source.key,target:n.target.key};return by(n.attributes)||(r.attributes=xn({},n.attributes)),t==="mixed"&&n.undirected&&(r.undirected=!0),r}function DC(t){if(!Dn(t))throw new Ne('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in t))throw new Ne("Graph.import: serialized node is missing its key.");if("attributes"in t&&(!Dn(t.attributes)||t.attributes===null))throw new Ne("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function GC(t){if(!Dn(t))throw new Ne('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in t))throw new Ne("Graph.import: serialized edge is missing its source.");if(!("target"in t))throw new Ne("Graph.import: serialized edge is missing its target.");if("attributes"in t&&(!Dn(t.attributes)||t.attributes===null))throw new Ne("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in t&&typeof t.undirected!="boolean")throw new Ne("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const UC=HA(),WC=new Set(["directed","undirected","mixed"]),rg=new Set(["domain","_events","_eventsCount","_maxListeners"]),HC=[{name:t=>`${t}Edge`,generateKey:!0},{name:t=>`${t}DirectedEdge`,generateKey:!0,type:"directed"},{name:t=>`${t}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:t=>`${t}EdgeWithKey`},{name:t=>`${t}DirectedEdgeWithKey`,type:"directed"},{name:t=>`${t}UndirectedEdgeWithKey`,type:"undirected"}],zC={allowSelfLoops:!0,multi:!1,type:"mixed"};function jC(t,e,n){if(n&&!Dn(n))throw new Ne(`Graph.addNode: invalid attributes. Expecting an object but got "${n}"`);if(e=""+e,n=n||{},t._nodes.has(e))throw new qe(`Graph.addNode: the "${e}" node already exist in the graph.`);const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function ig(t,e,n){const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function Ly(t,e,n,r,o,u,c,l){if(!r&&t.type==="undirected")throw new qe(`Graph.${e}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(r&&t.type==="directed")throw new qe(`Graph.${e}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(l&&!Dn(l))throw new Ne(`Graph.${e}: invalid attributes. Expecting an object but got "${l}"`);if(u=""+u,c=""+c,l=l||{},!t.allowSelfLoops&&u===c)throw new qe(`Graph.${e}: source & target are the same ("${u}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const h=t._nodes.get(u),g=t._nodes.get(c);if(!h)throw new Me(`Graph.${e}: source node "${u}" not found.`);if(!g)throw new Me(`Graph.${e}: target node "${c}" not found.`);const b={key:null,undirected:r,source:u,target:c,attributes:l};if(n)o=t._edgeKeyGenerator();else if(o=""+o,t._edges.has(o))throw new qe(`Graph.${e}: the "${o}" edge already exists in the graph.`);if(!t.multi&&(r?typeof h.undirected[c]<"u":typeof h.out[c]<"u"))throw new qe(`Graph.${e}: an edge linking "${u}" to "${c}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const S=new _a(r,o,h,g,l);t._edges.set(o,S);const E=u===c;return r?(h.undirectedDegree++,g.undirectedDegree++,E&&(h.undirectedLoops++,t._undirectedSelfLoopCount++)):(h.outDegree++,g.inDegree++,E&&(h.directedLoops++,t._directedSelfLoopCount++)),t.multi?S.attachMulti():S.attach(),r?t._undirectedSize++:t._directedSize++,b.key=o,t.emit("edgeAdded",b),o}function VC(t,e,n,r,o,u,c,l,h){if(!r&&t.type==="undirected")throw new qe(`Graph.${e}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(r&&t.type==="directed")throw new qe(`Graph.${e}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(l){if(h){if(typeof l!="function")throw new Ne(`Graph.${e}: invalid updater function. Expecting a function but got "${l}"`)}else if(!Dn(l))throw new Ne(`Graph.${e}: invalid attributes. Expecting an object but got "${l}"`)}u=""+u,c=""+c;let g;if(h&&(g=l,l=void 0),!t.allowSelfLoops&&u===c)throw new qe(`Graph.${e}: source & target are the same ("${u}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let b=t._nodes.get(u),S=t._nodes.get(c),E,L;if(!n&&(E=t._edges.get(o),E)){if((E.source.key!==u||E.target.key!==c)&&(!r||E.source.key!==c||E.target.key!==u))throw new qe(`Graph.${e}: inconsistency detected when attempting to merge the "${o}" edge with "${u}" source & "${c}" target vs. ("${E.source.key}", "${E.target.key}").`);L=E}if(!L&&!t.multi&&b&&(L=r?b.undirected[c]:b.out[c]),L){const X=[L.key,!1,!1,!1];if(h?!g:!l)return X;if(h){const W=L.attributes;L.attributes=g(W),t.emit("edgeAttributesUpdated",{type:"replace",key:L.key,attributes:L.attributes})}else xn(L.attributes,l),t.emit("edgeAttributesUpdated",{type:"merge",key:L.key,attributes:L.attributes,data:l});return X}l=l||{},h&&g&&(l=g(l));const P={key:null,undirected:r,source:u,target:c,attributes:l};if(n)o=t._edgeKeyGenerator();else if(o=""+o,t._edges.has(o))throw new qe(`Graph.${e}: the "${o}" edge already exists in the graph.`);let O=!1,$=!1;b||(b=ig(t,u,{}),O=!0,u===c&&(S=b,$=!0)),S||(S=ig(t,c,{}),$=!0),E=new _a(r,o,b,S,l),t._edges.set(o,E);const H=u===c;return r?(b.undirectedDegree++,S.undirectedDegree++,H&&(b.undirectedLoops++,t._undirectedSelfLoopCount++)):(b.outDegree++,S.inDegree++,H&&(b.directedLoops++,t._directedSelfLoopCount++)),t.multi?E.attachMulti():E.attach(),r?t._undirectedSize++:t._directedSize++,P.key=o,t.emit("edgeAdded",P),[o,!0,O,$]}function pa(t,e){t._edges.delete(e.key);const{source:n,target:r,attributes:o}=e,u=e.undirected,c=n===r;u?(n.undirectedDegree--,r.undirectedDegree--,c&&(n.undirectedLoops--,t._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,c&&(n.directedLoops--,t._directedSelfLoopCount--)),t.multi?e.detachMulti():e.detach(),u?t._undirectedSize--:t._directedSize--,t.emit("edgeDropped",{key:e.key,attributes:o,source:n.key,target:r.key,undirected:u})}class Gt extends kA.EventEmitter{constructor(e){if(super(),e=xn({},zC,e),typeof e.multi!="boolean")throw new Ne(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${e.multi}".`);if(!WC.has(e.type))throw new Ne(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${e.type}".`);if(typeof e.allowSelfLoops!="boolean")throw new Ne(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${e.allowSelfLoops}".`);const n=e.type==="mixed"?Sy:e.type==="directed"?xy:Ey;Rr(this,"NodeDataClass",n);const r="geid_"+UC()+"_";let o=0;const u=()=>{let c;do c=r+o++;while(this._edges.has(c));return c};Rr(this,"_attributes",{}),Rr(this,"_nodes",new Map),Rr(this,"_edges",new Map),Rr(this,"_directedSize",0),Rr(this,"_undirectedSize",0),Rr(this,"_directedSelfLoopCount",0),Rr(this,"_undirectedSelfLoopCount",0),Rr(this,"_edgeKeyGenerator",u),Rr(this,"_options",e),rg.forEach(c=>Rr(this,c,this[c])),Qr(this,"order",()=>this._nodes.size),Qr(this,"size",()=>this._edges.size),Qr(this,"directedSize",()=>this._directedSize),Qr(this,"undirectedSize",()=>this._undirectedSize),Qr(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),Qr(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),Qr(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),Qr(this,"multi",this._options.multi),Qr(this,"type",this._options.type),Qr(this,"allowSelfLoops",this._options.allowSelfLoops),Qr(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(e){return this._nodes.has(""+e)}hasDirectedEdge(e,n){if(this.type==="undirected")return!1;if(arguments.length===1){const r=""+e,o=this._edges.get(r);return!!o&&!o.undirected}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?r.out.hasOwnProperty(n):!1}throw new Ne(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(e,n){if(this.type==="directed")return!1;if(arguments.length===1){const r=""+e,o=this._edges.get(r);return!!o&&o.undirected}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?r.undirected.hasOwnProperty(n):!1}throw new Ne(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(e,n){if(arguments.length===1){const r=""+e;return this._edges.has(r)}else if(arguments.length===2){e=""+e,n=""+n;const r=this._nodes.get(e);return r?typeof r.out<"u"&&r.out.hasOwnProperty(n)||typeof r.undirected<"u"&&r.undirected.hasOwnProperty(n):!1}throw new Ne(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(e,n){if(this.type==="undirected")return;if(e=""+e,n=""+n,this.multi)throw new qe("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const r=this._nodes.get(e);if(!r)throw new Me(`Graph.directedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Me(`Graph.directedEdge: could not find the "${n}" target node in the graph.`);const o=r.out&&r.out[n]||void 0;if(o)return o.key}undirectedEdge(e,n){if(this.type==="directed")return;if(e=""+e,n=""+n,this.multi)throw new qe("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const r=this._nodes.get(e);if(!r)throw new Me(`Graph.undirectedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Me(`Graph.undirectedEdge: could not find the "${n}" target node in the graph.`);const o=r.undirected&&r.undirected[n]||void 0;if(o)return o.key}edge(e,n){if(this.multi)throw new qe("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.edge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(n))throw new Me(`Graph.edge: could not find the "${n}" target node in the graph.`);const o=r.out&&r.out[n]||r.undirected&&r.undirected[n]||void 0;if(o)return o.key}areDirectedNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areDirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.in||n in r.out}areOutNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areOutNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.out}areInNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areInNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:n in r.in}areUndirectedNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areUndirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="directed"?!1:n in r.undirected}areNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&(n in r.in||n in r.out)||this.type!=="directed"&&n in r.undirected}areInboundNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areInboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&n in r.in||this.type!=="directed"&&n in r.undirected}areOutboundNeighbors(e,n){e=""+e,n=""+n;const r=this._nodes.get(e);if(!r)throw new Me(`Graph.areOutboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&n in r.out||this.type!=="directed"&&n in r.undirected}inDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.inDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree}outDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.outDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.outDegree}directedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.directedDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree}undirectedDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.undirectedDegree: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree}inboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.inboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree),r}outboundDegree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.outboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.outDegree),r}degree(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.degree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=n.undirectedDegree),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree),r}inDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.inDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree-n.directedLoops}outDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.outDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.outDegree-n.directedLoops}directedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.directedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:n.inDegree+n.outDegree-n.directedLoops*2}undirectedDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:n.undirectedDegree-n.undirectedLoops*2}inboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,o=0;return this.type!=="directed"&&(r+=n.undirectedDegree,o+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree,o+=n.directedLoops),r-o}outboundDegreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,o=0;return this.type!=="directed"&&(r+=n.undirectedDegree,o+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.outDegree,o+=n.directedLoops),r-o}degreeWithoutSelfLoops(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.degreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,o=0;return this.type!=="directed"&&(r+=n.undirectedDegree,o+=n.undirectedLoops*2),this.type!=="undirected"&&(r+=n.inDegree+n.outDegree,o+=n.directedLoops*2),r-o}source(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.source: could not find the "${e}" edge in the graph.`);return n.source.key}target(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.target: could not find the "${e}" edge in the graph.`);return n.target.key}extremities(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.extremities: could not find the "${e}" edge in the graph.`);return[n.source.key,n.target.key]}opposite(e,n){e=""+e,n=""+n;const r=this._edges.get(n);if(!r)throw new Me(`Graph.opposite: could not find the "${n}" edge in the graph.`);const o=r.source.key,u=r.target.key;if(e===o)return u;if(e===u)return o;throw new Me(`Graph.opposite: the "${e}" node is not attached to the "${n}" edge (${o}, ${u}).`)}hasExtremity(e,n){e=""+e,n=""+n;const r=this._edges.get(e);if(!r)throw new Me(`Graph.hasExtremity: could not find the "${e}" edge in the graph.`);return r.source.key===n||r.target.key===n}isUndirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.isUndirected: could not find the "${e}" edge in the graph.`);return n.undirected}isDirected(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.isDirected: could not find the "${e}" edge in the graph.`);return!n.undirected}isSelfLoop(e){e=""+e;const n=this._edges.get(e);if(!n)throw new Me(`Graph.isSelfLoop: could not find the "${e}" edge in the graph.`);return n.source===n.target}addNode(e,n){return jC(this,e,n).key}mergeNode(e,n){if(n&&!Dn(n))throw new Ne(`Graph.mergeNode: invalid attributes. Expecting an object but got "${n}"`);e=""+e,n=n||{};let r=this._nodes.get(e);return r?(n&&(xn(r.attributes,n),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:r.attributes,data:n})),[e,!1]):(r=new this.NodeDataClass(e,n),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:n}),[e,!0])}updateNode(e,n){if(n&&typeof n!="function")throw new Ne(`Graph.updateNode: invalid updater function. Expecting a function but got "${n}"`);e=""+e;let r=this._nodes.get(e);if(r){if(n){const u=r.attributes;r.attributes=n(u),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:r.attributes})}return[e,!1]}const o=n?n({}):{};return r=new this.NodeDataClass(e,o),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:o}),[e,!0]}dropNode(e){e=""+e;const n=this._nodes.get(e);if(!n)throw new Me(`Graph.dropNode: could not find the "${e}" node in the graph.`);let r;if(this.type!=="undirected"){for(const o in n.out){r=n.out[o];do pa(this,r),r=r.next;while(r)}for(const o in n.in){r=n.in[o];do pa(this,r),r=r.next;while(r)}}if(this.type!=="directed")for(const o in n.undirected){r=n.undirected[o];do pa(this,r),r=r.next;while(r)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:n.attributes})}dropEdge(e){let n;if(arguments.length>1){const r=""+arguments[0],o=""+arguments[1];if(n=Br(this,r,o,this.type),!n)throw new Me(`Graph.dropEdge: could not find the "${r}" -> "${o}" edge in the graph.`)}else if(e=""+e,n=this._edges.get(e),!n)throw new Me(`Graph.dropEdge: could not find the "${e}" edge in the graph.`);return pa(this,n),this}dropDirectedEdge(e,n){if(arguments.length<2)throw new qe("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new qe("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");e=""+e,n=""+n;const r=Br(this,e,n,"directed");if(!r)throw new Me(`Graph.dropDirectedEdge: could not find a "${e}" -> "${n}" edge in the graph.`);return pa(this,r),this}dropUndirectedEdge(e,n){if(arguments.length<2)throw new qe("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new qe("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const r=Br(this,e,n,"undirected");if(!r)throw new Me(`Graph.dropUndirectedEdge: could not find a "${e}" -> "${n}" edge in the graph.`);return pa(this,r),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const e=this._nodes.values();let n;for(;n=e.next(),n.done!==!0;)n.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(e){return this._attributes[e]}getAttributes(){return this._attributes}hasAttribute(e){return this._attributes.hasOwnProperty(e)}setAttribute(e,n){return this._attributes[e]=n,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}updateAttribute(e,n){if(typeof n!="function")throw new Ne("Graph.updateAttribute: updater should be a function.");const r=this._attributes[e];return this._attributes[e]=n(r),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}removeAttribute(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this}replaceAttributes(e){if(!Dn(e))throw new Ne("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(e){if(!Dn(e))throw new Ne("Graph.mergeAttributes: provided attributes are not a plain object.");return xn(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this}updateAttributes(e){if(typeof e!="function")throw new Ne("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(e,n){if(typeof e!="function")throw new Ne("Graph.updateEachNodeAttributes: expecting an updater function.");if(n&&!ng(n))throw new Ne("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._nodes.values();let o,u;for(;o=r.next(),o.done!==!0;)u=o.value,u.attributes=e(u.key,u.attributes);this.emit("eachNodeAttributesUpdated",{hints:n||null})}updateEachEdgeAttributes(e,n){if(typeof e!="function")throw new Ne("Graph.updateEachEdgeAttributes: expecting an updater function.");if(n&&!ng(n))throw new Ne("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const r=this._edges.values();let o,u,c,l;for(;o=r.next(),o.done!==!0;)u=o.value,c=u.source,l=u.target,u.attributes=e(u.key,u.attributes,c.key,l.key,c.attributes,l.attributes,u.undirected);this.emit("eachEdgeAttributesUpdated",{hints:n||null})}forEachAdjacencyEntry(e){if(typeof e!="function")throw new Ne("Graph.forEachAdjacencyEntry: expecting a callback.");Bu(!1,!1,!1,this,e)}forEachAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new Ne("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");Bu(!1,!1,!0,this,e)}forEachAssymetricAdjacencyEntry(e){if(typeof e!="function")throw new Ne("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");Bu(!1,!0,!1,this,e)}forEachAssymetricAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new Ne("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");Bu(!1,!0,!0,this,e)}nodes(){return typeof Array.from=="function"?Array.from(this._nodes.keys()):wy(this._nodes.keys(),this._nodes.size)}forEachNode(e){if(typeof e!="function")throw new Ne("Graph.forEachNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)o=r.value,e(o.key,o.attributes)}findNode(e){if(typeof e!="function")throw new Ne("Graph.findNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)if(o=r.value,e(o.key,o.attributes))return o.key}mapNodes(e){if(typeof e!="function")throw new Ne("Graph.mapNode: expecting a callback.");const n=this._nodes.values();let r,o;const u=new Array(this.order);let c=0;for(;r=n.next(),r.done!==!0;)o=r.value,u[c++]=e(o.key,o.attributes);return u}someNode(e){if(typeof e!="function")throw new Ne("Graph.someNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)if(o=r.value,e(o.key,o.attributes))return!0;return!1}everyNode(e){if(typeof e!="function")throw new Ne("Graph.everyNode: expecting a callback.");const n=this._nodes.values();let r,o;for(;r=n.next(),r.done!==!0;)if(o=r.value,!e(o.key,o.attributes))return!1;return!0}filterNodes(e){if(typeof e!="function")throw new Ne("Graph.filterNodes: expecting a callback.");const n=this._nodes.values();let r,o;const u=[];for(;r=n.next(),r.done!==!0;)o=r.value,e(o.key,o.attributes)&&u.push(o.key);return u}reduceNodes(e,n){if(typeof e!="function")throw new Ne("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new Ne("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let r=n;const o=this._nodes.values();let u,c;for(;u=o.next(),u.done!==!0;)c=u.value,r=e(r,c.key,c.attributes);return r}nodeEntries(){const e=this._nodes.values();return new Dr(()=>{const n=e.next();if(n.done)return n;const r=n.value;return{value:{node:r.key,attributes:r.attributes},done:!1}})}export(){const e=new Array(this._nodes.size);let n=0;this._nodes.forEach((o,u)=>{e[n++]=$C(u,o)});const r=new Array(this._edges.size);return n=0,this._edges.forEach((o,u)=>{r[n++]=BC(this.type,u,o)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:r}}import(e,n=!1){if(e instanceof Gt)return e.forEachNode((h,g)=>{n?this.mergeNode(h,g):this.addNode(h,g)}),e.forEachEdge((h,g,b,S,E,L,P)=>{n?P?this.mergeUndirectedEdgeWithKey(h,b,S,g):this.mergeDirectedEdgeWithKey(h,b,S,g):P?this.addUndirectedEdgeWithKey(h,b,S,g):this.addDirectedEdgeWithKey(h,b,S,g)}),this;if(!Dn(e))throw new Ne("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!Dn(e.attributes))throw new Ne("Graph.import: invalid attributes. Expecting a plain object.");n?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}let r,o,u,c,l;if(e.nodes){if(u=e.nodes,!Array.isArray(u))throw new Ne("Graph.import: invalid nodes. Expecting an array.");for(r=0,o=u.length;r<o;r++){c=u[r],DC(c);const{key:h,attributes:g}=c;n?this.mergeNode(h,g):this.addNode(h,g)}}if(e.edges){let h=!1;if(this.type==="undirected"&&(h=!0),u=e.edges,!Array.isArray(u))throw new Ne("Graph.import: invalid edges. Expecting an array.");for(r=0,o=u.length;r<o;r++){l=u[r],GC(l);const{source:g,target:b,attributes:S,undirected:E=h}=l;let L;"key"in l?(L=n?E?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:E?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,L.call(this,l.key,g,b,S)):(L=n?E?this.mergeUndirectedEdge:this.mergeDirectedEdge:E?this.addUndirectedEdge:this.addDirectedEdge,L.call(this,g,b,S))}}return this}nullCopy(e){const n=new Gt(xn({},this._options,e));return n.replaceAttributes(xn({},this.getAttributes())),n}emptyCopy(e){const n=this.nullCopy(e);return this._nodes.forEach((r,o)=>{const u=xn({},r.attributes);r=new n.NodeDataClass(o,u),n._nodes.set(o,r)}),n}copy(e){if(e=e||{},typeof e.type=="string"&&e.type!==this.type&&e.type!=="mixed")throw new qe(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${e.type}" because this would mean losing information about the current graph.`);if(typeof e.multi=="boolean"&&e.multi!==this.multi&&e.multi!==!0)throw new qe("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof e.allowSelfLoops=="boolean"&&e.allowSelfLoops!==this.allowSelfLoops&&e.allowSelfLoops!==!0)throw new qe("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const n=this.emptyCopy(e),r=this._edges.values();let o,u;for(;o=r.next(),o.done!==!0;)u=o.value,Ly(n,"copy",!1,u.undirected,u.key,u.source.key,u.target.key,xn({},u.attributes));return n}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const e={};this._nodes.forEach((u,c)=>{e[c]=u.attributes});const n={},r={};this._edges.forEach((u,c)=>{const l=u.undirected?"--":"->";let h="",g=u.source.key,b=u.target.key,S;u.undirected&&g>b&&(S=g,g=b,b=S);const E=`(${g})${l}(${b})`;c.startsWith("geid_")?this.multi&&(typeof r[E]>"u"?r[E]=0:r[E]++,h+=`${r[E]}. `):h+=`[${c}]: `,h+=E,n[h]=u.attributes});const o={};for(const u in this)this.hasOwnProperty(u)&&!rg.has(u)&&typeof this[u]!="function"&&typeof u!="symbol"&&(o[u]=this[u]);return o.attributes=this._attributes,o.nodes=e,o.edges=n,Rr(o,"constructor",this.constructor),o}}typeof Symbol<"u"&&(Gt.prototype[Symbol.for("nodejs.util.inspect.custom")]=Gt.prototype.inspect);HC.forEach(t=>{["add","merge","update"].forEach(e=>{const n=t.name(e),r=e==="add"?Ly:VC;t.generateKey?Gt.prototype[n]=function(o,u,c){return r(this,n,!0,(t.type||this.type)==="undirected",null,o,u,c,e==="update")}:Gt.prototype[n]=function(o,u,c,l){return r(this,n,!1,(t.type||this.type)==="undirected",o,u,c,l,e==="update")}})});tC(Gt);dC(Gt);LC(Gt);NC(Gt);class Py extends Gt{constructor(e){const n=xn({type:"directed"},e);if("multi"in n&&n.multi!==!1)throw new Ne("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="directed")throw new Ne('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class My extends Gt{constructor(e){const n=xn({type:"undirected"},e);if("multi"in n&&n.multi!==!1)throw new Ne("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="undirected")throw new Ne('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class Bd extends Gt{constructor(e){const n=xn({multi:!0},e);if("multi"in n&&n.multi!==!0)throw new Ne("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(n)}}class Iy extends Gt{constructor(e){const n=xn({type:"directed",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new Ne("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="directed")throw new Ne('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}class ky extends Gt{constructor(e){const n=xn({type:"undirected",multi:!0},e);if("multi"in n&&n.multi!==!0)throw new Ne("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="undirected")throw new Ne('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');super(n)}}function Ta(t){t.from=function(e,n){const r=xn({},e.options,n),o=new t(r);return o.import(e),o}}Ta(Gt);Ta(Py);Ta(My);Ta(Bd);Ta(Iy);Ta(ky);Gt.Graph=Gt;Gt.DirectedGraph=Py;Gt.UndirectedGraph=My;Gt.MultiGraph=Bd;Gt.MultiDirectedGraph=Iy;Gt.MultiUndirectedGraph=ky;Gt.InvalidArgumentsGraphError=Ne;Gt.NotFoundGraphError=Me;Gt.UsageGraphError=qe;var XC=function(e){return e!==null&&typeof e=="object"&&typeof e.addUndirectedEdgeWithKey=="function"&&typeof e.dropNode=="function"&&typeof e.multi=="boolean"};function Ko(t){this.graph=t,this.stack=new Array(t.order),this.seen=new Set,this.size=0}Ko.prototype.hasAlreadySeenEverything=function(){return this.seen.size===this.graph.order};Ko.prototype.countUnseenNodes=function(){return this.graph.order-this.seen.size};Ko.prototype.forEachNodeYetUnseen=function(t){var e=this.seen,n=this.graph;n.someNode(function(r,o){if(e.size===n.order)return!0;if(e.has(r))return!1;var u=t(r,o);return!!u})};Ko.prototype.has=function(t){return this.seen.has(t)};Ko.prototype.push=function(t){var e=this.seen.size;return this.seen.add(t),e===this.seen.size?!1:(this.stack[this.size++]=t,!0)};Ko.prototype.pushWith=function(t,e){var n=this.seen.size;return this.seen.add(t),n===this.seen.size?!1:(this.stack[this.size++]=e,!0)};Ko.prototype.pop=function(){if(this.size!==0)return this.stack[--this.size]};var YC=XC;function KC(t){if(!YC(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!t.order)return[];if(t.type==="undirected")throw new Error("graphology-components: the given graph is undirected");var e=t.nodes(),n=[],r,o;if(!t.size){for(r=0,o=e.length;r<o;r++)n.push([e[r]]);return n}var u=1,c=[],l=[],h=new Map,g=new Set,b,S,E,L=function(P){var O,$=t.outboundNeighbors(P),H;h.set(P,u++),c.push(P),l.push(P);for(var X=0,W=$.length;X<W;X++)if(O=$[X],h.has(O)){if(H=h.get(O),!g.has(O))for(;h.get(c[c.length-1])>H;)c.pop()}else L(O);if(h.get(c[c.length-1])===h.get(P)){b=[];do S=l.pop(),b.push(S),g.add(S);while(S!==P);n.push(b),c.pop()}};for(r=0,o=e.length;r<o;r++)E=e[r],g.has(E)||L(E);return n}var QC=KC;function qC({vectorData:t,localStore:e}){var c;const n=e.getFigma(),r=new Bd;t.vectorNetwork.vertices.forEach((l,h)=>{r.addNode(h)}),t.vectorNetwork.segments.forEach((l,h)=>{r.addUndirectedEdge(l.start.vertex,l.end.vertex,{})});const o=QC(r);if((c=e.vectorEditor)==null||c.closedPathList.forEach(l=>{l.delete()}),e.vectorEditor={graph:r,closedPathList:[]},!n)return;const{Raptor:u}=n.context;console.log({componentList:o}),o.forEach(l=>{var h;if(l.length>1){const g=new u.Path;l.reverse(),l.forEach((b,S)=>{const E=t.vectorNetwork.vertices[b],L=t.vectorNetwork.vertices[l[S+1]];if(S===0&&g.moveTo(E.x,E.y),E&&L){const P=JC({vectorData:t,startVid:b,endVid:l[S+1]});P&&(P.start.dx===0&&P.start.dy===0&&P.end.dx===0&&P.end.dy===0?g.lineTo(P.end.x,P.end.dy):g.cubicTo(P.start.x+P.start.dx,P.start.y+P.start.dy,P.end.x+P.end.dx,P.end.y+P.end.dy,P.end.x,P.end.y))}}),g.close(),(h=e.vectorEditor)==null||h.closedPathList.push(g)}})}function JC({vectorData:t,startVid:e,endVid:n}){let r=null;if(t.vectorNetwork.segments.forEach(o=>{`${o.start.vertex}`===e&&`${o.end.vertex}`===n&&(r=o)}),r!==null){const o=t.vectorNetwork.vertices[e],u=t.vectorNetwork.vertices[n];return{start:{x:o.x,y:o.y,dx:r.start.dx,dy:r.start.dy},end:{x:u.x,y:u.y,dx:r.end.dx,dy:r.end.dy}}}return null}function gs({layer:t,normalizedPoint:e}){return t.width===0?e:{x:e.x/t.vectorData.normalizedSize.x*t.width,y:e.y/t.vectorData.normalizedSize.y*t.height}}function fR({layer:t,localPoint:e}){return t.width===0?e:{x:t.vectorData.normalizedSize.x/t.width*e.x,y:t.vectorData.normalizedSize.y/t.height*e.y}}function ZC(t){const{vertices:e,segments:n}=t.vectorNetwork;let r=1/0,o=-1/0,u=1/0,c=-1/0;return e.forEach(l=>{r=Math.min(r,l.x),o=Math.max(o,l.x),u=Math.min(u,l.y),c=Math.max(c,l.y)}),n.forEach(l=>{const h=e[l.start.vertex],g=e[l.end.vertex];if(!(l.start.dx===0&&l.start.dy===0&&l.end.dx===0&&l.end.dy===0)){const b=mm(h.x,h.y,h.x+l.start.dx,h.y+l.start.dy,g.x+l.end.dx,g.y+l.end.dy,g.x,g.y);r=Math.min(r,b.min.x),o=Math.max(o,b.max.x),u=Math.min(u,b.min.y),c=Math.max(c,b.max.y)}}),{left:r,right:o,top:u,bottom:c,x:o-r,y:c-u}}function dR(t){const{vertices:e,segments:n}=t.vectorNetwork;let r=0,o=0,u=0,c=0;return e.forEach(l=>{l.x<0&&(r=Math.min(r,l.x)),l.x>0&&(o=Math.max(o,l.x)),l.y<0&&(u=Math.min(u,l.y)),l.y>0&&(c=Math.max(c,l.y))}),n.forEach(l=>{const h=e[l.start.vertex],g=e[l.end.vertex];if(!(l.start.dx===0&&l.start.dy===0&&l.end.dx===0&&l.end.dy===0)){const b=mm(h.x,h.y,h.x+l.start.dx,h.y+l.start.dy,g.x+l.end.dx,g.y+l.end.dy,g.x,g.y);r=Math.min(r,b.min.x),o=Math.max(o,b.max.x),u=Math.min(u,b.min.y),c=Math.max(c,b.max.y)}}),{left:r,right:o,top:u,bottom:c,x:o-r,y:c-u}}function hR({localStore:t,layer:e,step:n}){if((e==null?void 0:e.nodeType)==="vector"&&e.width&&e.height){const r=ZC(e.vectorData),o=e.width/e.vectorData.normalizedSize.x,u=e.height/e.vectorData.normalizedSize.y,c=r.x*o,l=r.y*u,h=r.left,g=r.top,b=Kn(e),S=xs(b,{x:h*o,y:g*u}),E=hm({x:S.x,y:S.y,width:c,height:l,rotate:e.rotate});t.segmentCandidate&&(t.segmentCandidate.startVertex.x-=h,t.segmentCandidate.startVertex.y-=g,t.segmentCandidate.endVertex.x-=h,t.segmentCandidate.endVertex.y-=g),n.update({layer:e,data:{width:c,height:l,left:E.left,top:E.top,vectorData(L){L.vectorNetwork.vertices.forEach(P=>{P.x-=h,P.y-=g}),L.normalizedSize={...r}}}}),qC({vectorData:e.vectorData,localStore:t})}}const e_=20;function pR(t){t.currentStatus="playingTimeline"}function t_(t){if(t.timelineInterval===null){ir(t,{type:"clear"}),t.currentTime>=t.timelineMax&&(t.currentTime=0);let e=new Date().getTime();t.timelineInterval=setInterval(()=>{const n=new Date().getTime();t.currentTime+=n-e,e=n,t.currentTime>=t.timelineMax&&(t.currentTime=t.timelineMax,n_(t))},10)}}function n_(t){t.currentStatus=""}function r_(t){t.timelineInterval!==null&&clearInterval(t.timelineInterval),t.timelineInterval=null}function gR(t,e){e.stopPropagation(),t.currentStatus="movingTimelineNeedle",CE(t,e)}function mR(t,e){const r=(e.pageX-t.pointerX)/e_*1e3;t.currentTime+=r,t.currentTime<0&&(t.currentTime=0),ir(t,{type:"clear"}),Vm(t,e)}function yR(t){var n;const e=(n=t.timeline)==null?void 0:n.entrance;if(e){if(e.type==="slideIn"){if(e.from==="left")return[{translateX:-t.width,opacity:0,duration:0},{translateX:-t.width,opacity:0,duration:0},{translateX:0,opacity:1}];if(e.from==="right")return[{translateX:t.width,opacity:0,duration:0},{translateX:t.width,opacity:0,duration:0},{translateX:0,opacity:1}]}if(e.type==="zoomIn")return[{opacity:0,scaleX:.3,scaleY:.3,scaleZ:.3,duration:0},{opacity:0,scaleX:.3,scaleY:.3,scaleZ:.3,duration:0},{opacity:1,scaleX:1,scaleY:1,scaleZ:1}]}return[]}function vR(t){var n;const e=(n=t.timeline)==null?void 0:n.exit;return e&&e.type==="rotateOut"?[{rotateZ:0,opacity:1,duration:0},{rotateZ:0,opacity:1,duration:0},{rotateZ:"200deg",opacity:0}]:[]}var i_=Object.defineProperty,o_=Object.getOwnPropertyDescriptor,Cc=(t,e,n,r)=>{for(var o=r>1?void 0:r?o_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&i_(e,n,o),o};class _c{constructor(e,n){this.stepIdIndex=-1,this.maxStepLength=50,this.stepCursor=-1,this.stepList=[],Is(this),this.getState=e,typeof n=="number"&&(this.maxStepLength=n)}save(e){this.stepIdIndex+=1;const n=this.stepIdIndex;this.stepCursor<this.stepList.length-1&&(this.stepList=this.stepList.slice(0,this.stepCursor+1)),this.stepList.push({id:n,...e,resultSnapshot:Ye.cloneDeep(this.getState())}),this.stepCursor+=1,this.stepList.length>this.maxStepLength&&(this.stepList.shift(),this.stepCursor-=1)}undo(){if(this.canUndo){const e=this.stepList[this.stepCursor-1];Object.assign(this.getState(),Ye.cloneDeep(e.resultSnapshot)),this.stepCursor-=1}}redo(){if(this.canRedo){const e=this.stepList[this.stepCursor+1];e&&Object.assign(this.getState(),Ye.cloneDeep(e.resultSnapshot)),this.stepCursor+=1}}record(e){this.save({name:e,redo:()=>{},undo:()=>{}})}cancelRecordsByCursor(e){const n=this.stepList[e];n&&(Object.assign(this.getState(),Ye.cloneDeep(n.resultSnapshot)),this.stepCursor=e,this.stepList.splice(e+1,this.stepList.length-1))}clearRecords(){this.stepList=[],this.stepCursor=-1}get canUndo(){return this.stepCursor>0}get canRedo(){return this.stepCursor<this.stepList.length-1}}Cc([Ue],_c.prototype,"stepCursor",2);Cc([Ue],_c.prototype,"stepList",2);Cc([mt],_c.prototype,"canUndo",1);Cc([mt],_c.prototype,"canRedo",1);var a_=Object.defineProperty,s_=Object.getOwnPropertyDescriptor,Dd=(t,e,n,r)=>{for(var o=r>1?void 0:r?s_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&a_(e,n,o),o};function wR(t){return`clip-path-${t.id}`}class Gd{constructor({localStore:e,getPage:n,getGridCollageInfo:r}){this.activePointDotKey="",this.localStore=e,this.getPage=n,this.getGridCollageInfo=r,Is(this)}get isActive(){return this.getGridCollageInfo().subType==="POLYGONS"}updateActivePointDot(e){const n=this.getPage().pointPercentMap[this.activePointDotKey];Object.assign(n,e),this.getPage().imageLayerList.forEach(r=>{this.updateLayerSize(r)})}get pointMap(){const e={};return Ye.forEach(this.getPage().pointPercentMap,(n,r)=>{e[r]={x:n.x*this.getPage().width,y:n.y*this.getPage().height}}),e}updateLayerSize(e){const n=ks(this.getPointList(e));Object.assign(e,n),Am(this.localStore,e)}getPointList(e){return e.extra.polygonPointIdList.map(n=>n==="leftTop"?{x:0,y:0}:n==="rightTop"?{x:this.getPage().width,y:0}:n==="leftBottom"?{x:0,y:this.getPage().height}:n==="rightBottom"?{x:this.getPage().width,y:this.getPage().height}:this.pointMap[n])}}Dd([mt],Gd.prototype,"isActive",1);Dd([Ue],Gd.prototype,"activePointDotKey",2);Dd([mt],Gd.prototype,"pointMap",1);function u_(t){return a2({get hasAnchorPoints(){var n;return!(((n=t.selectedSingleLayer)==null?void 0:n.nodeType)==="svg"&&t.selectedSingleLayer.data.type==="line")},get hasTopBottomBar(){return!(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="TEXT"&&t.selectedSingleLayer.writingMode==="horizontal-tb"||t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="svg"&&t.selectedSingleLayer.data.type==="line")},get hasLeftRightBar(){return!(t.selectedSingleLayer&&t.selectedSingleLayer.nodeType==="TEXT"&&t.selectedSingleLayer.writingMode==="vertical-rl")}})}var c_=Object.defineProperty,l_=Object.getOwnPropertyDescriptor,Tc=(t,e,n,r)=>{for(var o=r>1?void 0:r?l_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&c_(e,n,o),o};class $s{constructor(e,n){this.maxStepLength=50,this.stepCursor=0,this.stepList=[{}],this.localStore=e,Is(this),typeof n=="number"&&(this.maxStepLength=n)}collectLayerMap({nodeMap:e}){const n={};return Object.keys(e).forEach(r=>{var u;if((u=e[r].children)!=null&&u.$value){const c=of(this.localStore,r);c&&c.children.forEach(l=>{l.nodeType!=="CANVAS"&&(n[l.id]=l)})}}),n}undo(){var e,n;if(this.canUndo){const r=this.stepList[this.stepCursor];this.restoreSelectionInfo(r,r.getOldState().selectionInfo);const o=this.collectLayerMap({nodeMap:r.oldState.nodeMap});Object.keys(r.oldState.nodeMap).forEach(u=>{const c=of(this.localStore,u),l=this.localStore.getFigma();c?og({localStore:this.localStore,fileData:l==null?void 0:l.context.fileData,layer:c,data:r.oldState.nodeMap[u],layerMap:o}):console.log("Node may already be deleted")}),(n=(e=this.localStore.props).doAction)==null||n.call(e,r.getOldAction()),this.stepCursor-=1}}redo(){var e,n;if(this.canRedo){const r=this.stepList[this.stepCursor+1];if(r){this.restoreSelectionInfo(r,r.getNewState().selectionInfo);const o=this.collectLayerMap({nodeMap:r.oldState.nodeMap});Object.keys(r.newState.nodeMap).forEach(u=>{const c=of(this.localStore,u),l=this.localStore.getFigma();c&&og({localStore:this.localStore,fileData:l==null?void 0:l.context.fileData,layer:c,data:r.newState.nodeMap[u],layerMap:o})}),(n=(e=this.localStore.props).doAction)==null||n.call(e,r.getNewAction()),this.stepCursor+=1}}}restoreSelectionInfo(e,n){n?Object.assign(this.localStore.selectionInfo,Ye.cloneDeep(n)):ir(this.localStore,{type:"clear"})}record(){this.localStore.currentStep!==null&&(this.stepCursor<this.stepList.length-1&&(this.stepList=this.stepList.slice(0,this.stepCursor+1)),this.localStore.currentStep.getNewState().selectionInfo=Ye.cloneDeep(this.localStore.selectionInfo),this.stepList.push(this.localStore.currentStep),this.stepCursor+=1,this.stepList.length>this.maxStepLength&&(this.stepList.shift(),this.stepCursor-=1),console.log(this.localStore.currentStep),this.localStore.currentStep=null)}resetHistory(){this.stepList=[{}],this.stepCursor=0}get canUndo(){return this.stepCursor>0}get canRedo(){return this.stepCursor<this.stepList.length-1}}Tc([Ue],$s.prototype,"stepCursor",2);Tc([Ue],$s.prototype,"stepList",2);Tc([mt],$s.prototype,"canUndo",1);Tc([mt],$s.prototype,"canRedo",1);function og({localStore:t,fileData:e,layer:n,data:r,layerMap:o}){const u=n;Object.keys(r).forEach(c=>{var h,g;const l=c;if(l==="life"){const b=r[l];if(b!=null&&b.$value){if(u.nodeType==="DOCUMENT")b.$value.type==="replacePage"&&(u.children[0]=Ye.cloneDeep(b.$value.newPage));else if(b.$value.type==="createChildren"){const{newLayers:S,isGrouping:E}=b.$value;if(E&&Object.keys(S).length!==1)throw new Error("Fault");if(e)Ye.forEach(S,L=>{const P=Ye.cloneDeep(L);let O=[];E&&(O=P.children.map($=>$.id),P.children=[]),CA(e,P),E&&(P.children=rf(t,O),P.children.forEach($=>{$.parentId=P.id}))}),n.children=rf(t,b.$value.children);else{if(n.nodeType==="DOCUMENT")throw new Error;const L=Ye.keyBy(n.children,"id");n.children=b.$value.children.map(P=>{if(L[P])return L[P];if(S[P])return Ye.cloneDeep(S[P]);throw new Error(`child layer ${P} not found`)})}}else if(b.$value.type==="delete"){const{deletedNodes:S,children:E,isGrouping:L}=b.$value;if(L&&Object.keys(S).length!==1)throw new Error("Fault");if(e)Ye.forEach(S,(P,O)=>{const $=$r(e,O);$&&(L&&($.children=[]),Om(e,$))}),n.children=rf(t,b.$value.children);else{if(n.nodeType==="DOCUMENT")throw new Error;n.children.forEach(O=>{o[O.id]=O,S[O.id]&&O.nodeType==="GROUP"&&O.children.forEach($=>{o[$.id]=$})});const P=[];E.forEach(O=>{o[O]&&P.push(o[O])}),n.children=P}n.children.forEach(P=>{P.parentId=n.id})}}}else if(l==="children")(h=r.children)!=null&&h.$value&&(n.children=r.children.$value.map(b=>{const S=t.getLayer(b);if(S)return S;if(o[b])return o[b];throw new Error("Layer does not exist")}));else{const b=r[l];typeof((g=r[l])==null?void 0:g.$value)<"u"?n[l]=b==null?void 0:b.$value:n[l]=void 0}})}var f_=Object.defineProperty,d_=Object.getOwnPropertyDescriptor,Le=(t,e,n,r)=>{for(var o=r>1?void 0:r?d_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&f_(e,n,o),o};class Pe{constructor({getNormalLayerList:e,props:n}){this.history=new $s(this),this.currentStep=null,this.getSelectedLayerIdList=()=>this.selectionInfo.selectedLayerIdList,this.getFigma=()=>null,this.libra=null,this.interval=null,this.isFullyFunctional=!0,this.eraserPathCanvas=null,this.cursor="",this.currentFontList=[],this.computed=u_(this),this.currentTool="MoveTool",this.currentStatus="",this.currentTime=0,this.timelineInterval=null,this.workspaceState=yA(),this.workspaceExists=!0,this.workspaceElement=null,this.layersShimmering=!1,this.controlKeyUnderPress=!1,this.layerWithMenuId="",this.layerUnderDraggingId="",this.layerUnderCropping=null,this.layersCanBeScaled=!0,this.layerListInClipboard=[],this.editingText=!1,this.advancedTextEditor={initialSelectionIndex:0,inputText:{compositionText:"",start:0},inputElement:null,inputMode:"single"},this.editingVector=null,this.vectorEditor=null,this.pointerDownX=0,this.pointerDownY=0,this.pointerDownOnRightSide=!1,this.pointerMoved=!1,this.pointerX=0,this.pointerY=0,this.pointerCurrentAngle=0,this.pointerAppliedAngle=0,this.pointerDownOnLayerId="",this.pointerMap={},this.pointerTarget$$=null,this.bunchRectangleRotationFixed=!1,this.pointerRayLengthInPage=0,this.appliedPointX=0,this.appliedPointY=0,this.bunchRectangleXFixed=!1,this.bunchRectangleYFixed=!1,this.interceptionInfo={total:0,currentPosition:0,prevID:"",nextID:"",list:[]},this.pointerDownScalePercent=100,this.resizeTransformOrigin={x:0,y:0},this.resizeOriginType="leftTop",this.resizeAndKeepRatio=!0,this.menuShow=!1,this.menuX=0,this.menuY=0,this.operatingOn={vertexIndex:0},this.bunchRectangleInMagneticField=!1,this.selectionRectStartPoint=null,this.selectionRectEndPoint={x:0,y:0},this.selectionRectExists=!1,this.layerResolvedFrameMap={},this.layerImageHasTransition=!1,this.overlappedLayerIdMap={},this.helperLineList=[],this.helperRectList=[],this.textLayerOutOfPage=!1,this.currentToolsContainer=null,this.filterState={candidateFilterId:"",candidateFilterGroupName:"",candidateFilterTypeId:"",candidateFilterInfo:null,filterPercent:0,filterSucceed:!1},this.state={eraserVisualDiam:50,eraserShadowBlurPercent:0,eraserPathColor:"rgba(253, 93, 125)",lastSwappedLayerId:""},this.options={renderer:"dom",safePadding:30,hasBasicOverlays:!0,hasGridPanels:!1,hasActiveOverlay:!0,hasLayerRotator:!0,hasLayerShortBars:!0,showOverlays:!0,canScalePage:!0,pageMaxScale:4,pageMinScale:.15,thumbnailMaxWidth:88,thumbnailMaxHeight:122,layerOutlineColor:"#80A3FF",LAYER_MINIMUN_SIZE:20,strokePathOverflow:"hidden",applyMagneticEffect:!0,helperRectColor:"purple",helperLineColor:"#a569bd",useTextEditor:"QUILL_EDITOR",hasTimeline:!1,ignoreRootFrames:!1,enableSymbolAndInstance:!0,enableEnterAndLeaveRoom:!1,canResizeLayerFrameWhenCroppingImage:!1},this.shortcutMap={"Meta + c":()=>{},"Meta + x":()=>{},"Meta + v":()=>{},"Meta + g":()=>{},"Meta + Z":()=>{},"Shift + Meta + Z":()=>{},"Shift + Meta + g":()=>{},"Alt + Meta + ArrowDown":()=>{},"Alt + Meta + ArrowUp":()=>{},"Shift + Meta + ArrowDown":()=>{},"Shift + Meta + ArrowUp":()=>{},Escape:()=>{},Backspace:()=>{},Delete:()=>{}},this.lastClickedAt=0,this.sessionID=0,this.localID=0,this.renderCount=0,this.showFrameSelector=!1,this.getNormalLayerList=e,this.props=n,Is(this),Nu(()=>this.getSelectedLayerIdList().join("--")+this.selectionInfo.selectedLeafLayerId,()=>{var r;this.editingText=!1,((r=this.selectedSingleLayer)==null?void 0:r.nodeType)==="vector"||(this.editingVector=null),rE(this)}),Nu(()=>this.currentStatus,(r,o)=>{r==="playingTimeline"?t_(this):o==="playingTimeline"&&r_(this)}),Nu(()=>this.editingText,()=>{this.editingText===!1&&this.textLayerOutOfPage===!0&&(this.workspaceExists=!1,setTimeout(()=>{this.workspaceExists=!0},0),this.textLayerOutOfPage=!1)}),Nu(()=>this.usedFontMap,()=>{this.currentFontList=[]})}getLayer(e){const n=this.getFigma();if(n)return n.layerMap[e]?n.layerMap[e]:null;if(this.normalLayerFlatMap[e])return this.normalLayerFlatMap[e];const r=this.props.getPanelList().find(o=>o.id===e);return r||null}getPageScale(){return this.workspaceState.pageScale}get figma(){return this.getFigma()}get isMobile(){return typeof window<"u"&&window.ontouchstart!==void 0}setCursor(e){this.cursor=e}get timelineMax(){let e=0;return this.getNormalLayerList().forEach(n=>{n.timeline&&n.timeline.end>e&&(e=n.timeline.end)}),e}get isUpdatingLayer(){return this.currentStatus==="movingLayers"||this.currentStatus==="rotatingLayers"||this.currentStatus==="resizingLayersByCorner"||this.currentStatus==="resizingLayersByBorder"}get isCroppingBackground(){const e=this.props.getBackgroundLayer(),{layerUnderCropping:n}=this;return!!(e&&n&&n.id===e.id)}get usedFontMap(){const e={};function n(o){o.forEach(u=>{u.nodeType==="TEXT"&&u.fontName.fullname&&(e[u.fontName.fullname]=!0),n(u.children||[])})}const r=this.getNormalLayerList();return n(r),e}get currentCursor(){var e,n,r,o,u;if(this.currentStatus==="draggingGridLine"||(e=this.props.grid)!=null&&e.getCurrentActiveLine()){if(((r=(n=this.props.grid)==null?void 0:n.getCurrentActiveLine())==null?void 0:r.type)==="horizontal")return"ns-resize";if(((u=(o=this.props.grid)==null?void 0:o.getCurrentActiveLine())==null?void 0:u.type)==="vertical")return"ew-resize"}return this.currentStatus==="rotatingLayers"?"alias":this.currentStatus==="movingLayers"?"move":this.cursor?this.cursor:"auto"}get segmentCandidate(){var e,n;return((n=(e=this.editingVector)==null?void 0:e.currentOperation)==null?void 0:n.type)==="SegmentCandidate"?this.editingVector.currentOperation:null}get editingGroupLayer(){return!!this.activeGroupLayerId}get selectionInfo(){return this.props.getSelectionInfo()}get activeGroupLayerId(){return this.selectionInfo.activeGroupLayerId}get activeLayerInGroupId(){return this.selectionInfo.activeLayerInGroupId}get selectedLeafLayerId(){return this.selectionInfo.selectedLeafLayerId}get activeGroupLayer(){const e=this.rootNormalLayerMap[this.activeGroupLayerId];return e&&e.nodeType==="GROUP"?e:null}get pointerRayLengthInWindow(){return this.pointerRayLengthInPage*this.getPageScale()}get scalePercentDisplayed(){const e=this.imageLayerUnderEditing;if(e&&e.image){if(e.image.imageScaleMode==="FILL"){const o=bm({frame:e,image:e.image}),u=e.image.width/e.image.naturalWidth/o*100;return Math.round(u)}const n=H2(e),r=e.image.width/n*100;return Math.round(r)}return 100}get bunchRectangle(){return this.selectionInfo.bunchRectangle}get selectionStatus(){if(this.selectedNormalLayerList.length>1)return"multipleLayers";if(this.selectedPanel)return"singlePanel";if(this.selectedSingleLayer){const e=this.selectedSingleLayer;if(e.nodeType==="GROUP")return"singleGroupLayer";if(e.nodeType==="IMAGE")return"singleImageLayer";if(e.nodeType==="TEXT")return"singleTextLayer";if(e.nodeType==="FRAME")return"singleFrameLayer";if(e.nodeType==="SECTION")return"singleSectionLayer"}return""}get leafNormalLayerList(){const e=[];function n(r){r.forEach(o=>{o.nodeType!=="GROUP"&&e.push(o),n(o.children)})}return n(this.getNormalLayerList()),e}get selectionRectangle(){const e={left:0,top:0,width:0,height:0};return this.selectionRectStartPoint&&(e.left=Math.min(this.selectionRectStartPoint.x,this.selectionRectEndPoint.x),e.top=Math.min(this.selectionRectStartPoint.y,this.selectionRectEndPoint.y),e.width=Math.abs(this.selectionRectEndPoint.x-this.selectionRectStartPoint.x),e.height=Math.abs(this.selectionRectEndPoint.y-this.selectionRectStartPoint.y)),e}get pointerCurrentPositionInPage(){return this.getPointInPage({pageX:this.pointerX,pageY:this.pointerY})}get bunchRectangleCenter(){return{x:this.bunchRectangle.left+this.bunchRectangle.width/2,y:this.bunchRectangle.top+this.bunchRectangle.height/2}}get rootNormalLayerMap(){return Ye.keyBy(this.getNormalLayerList(),"id")}get normalLayerFlatMap(){var n;if(this.getFigma())return((n=this.getFigma())==null?void 0:n.layerMap)||{};const e={};return this.getNormalLayerList().forEach(r=>{this.processLayer(e,r)}),e}processLayer(e,n){e[n.id]=n,n.children.forEach(r=>{this.processLayer(e,r)})}get selectedLayerList(){return this.getSelectedLayerIdList().map(n=>this.getLayer(n)).filter(n=>n)}get selectedNormalLayerList(){const e=[];return e.push(...this.selectedLayerList),e}get selectedPanel(){const e=Ye.keyBy(this.props.getPanelList(),"id"),n=this.getSelectedLayerIdList().filter(r=>e[r]);return n[0]?e[n[0]]:null}get selectedSingleLayer(){return this.selectedLeafLayerId&&this.normalLayerFlatMap[this.selectedLeafLayerId]?this.normalLayerFlatMap[this.selectedLeafLayerId]:this.selectedNormalLayerList.length===1&&this.selectedNormalLayerList[0]?this.selectedNormalLayerList[0]:null}get selectedSingleImageLayer(){return this.selectedSingleLayer&&this.selectedSingleLayer.nodeType==="IMAGE"?this.selectedSingleLayer:null}get textLayerUnderEditing(){return this.selectedSingleLayer&&this.selectedSingleLayer.nodeType==="TEXT"&&this.editingText?this.selectedSingleLayer:null}get textLayerMap(){const e={};return Object.keys(this.normalLayerFlatMap).forEach(n=>{const r=this.normalLayerFlatMap[n];r&&r.nodeType==="TEXT"&&(e[n]=r)}),e}get imageLayerUnderEditing(){var e;if(this.layerUnderCropping)return this.layerUnderCropping;if(((e=this.selectedSingleLayer)==null?void 0:e.nodeType)==="ROUNDED_RECTANGLE")return this.selectedSingleLayer;if(this.selectedPanel)return this.selectedPanel;if(this.selectedSingleImageLayer)return this.selectedSingleImageLayer;if(this.selectedSingleLayer&&this.activeLayerInGroupId){const n=this.normalLayerFlatMap[this.activeLayerInGroupId];return n.nodeType==="IMAGE"?n:null}return null}setCurrentToolsContainer(e){this.currentToolsContainer=e}getPointInContainer(e){const n=ti(this),r=zm(this);if(n&&r){const o=ay(this,e),{absoluteTransform:u}=zi(n.fileData,{type:"layer",layerId:r.id});return jo(u,o)}return this.getPointInPage(e)}getPointInPage(e){const n=this.currentToolsContainer;if(n){const r=n.getBoundingClientRect();return{x:(e.pageX-r.left)/this.getPageScale(),y:(e.pageY-r.top)/this.getPageScale()}}return console.warn("Failed to find tools container!"),{x:0,y:0}}setOptions(e){Object.assign(this.options,e)}generateGUID(){const e={sessionID:this.sessionID,localID:this.localID};return this.localID+=1,e}}Le([Ue],Pe.prototype,"getNormalLayerList",2);Le([Ue],Pe.prototype,"getFigma",2);Le([mt],Pe.prototype,"figma",1);Le([Ue],Pe.prototype,"props",2);Le([mt],Pe.prototype,"isMobile",1);Le([Ue],Pe.prototype,"cursor",2);Le([Ue],Pe.prototype,"currentFontList",2);Le([Ue],Pe.prototype,"currentTool",2);Le([Ue],Pe.prototype,"currentStatus",2);Le([Ue],Pe.prototype,"currentTime",2);Le([mt],Pe.prototype,"timelineMax",1);Le([Ue],Pe.prototype,"workspaceState",2);Le([Ue],Pe.prototype,"workspaceExists",2);Le([mt],Pe.prototype,"isUpdatingLayer",1);Le([mt],Pe.prototype,"isCroppingBackground",1);Le([Ue],Pe.prototype,"layersShimmering",2);Le([mt],Pe.prototype,"usedFontMap",1);Le([mt],Pe.prototype,"currentCursor",1);Le([Ue],Pe.prototype,"controlKeyUnderPress",2);Le([Ue],Pe.prototype,"layerWithMenuId",2);Le([Ue],Pe.prototype,"layerUnderDraggingId",2);Le([Ue],Pe.prototype,"layerUnderCropping",2);Le([Ue],Pe.prototype,"layersCanBeScaled",2);Le([Ue],Pe.prototype,"layerListInClipboard",2);Le([Ue],Pe.prototype,"editingText",2);Le([Ue],Pe.prototype,"editingVector",2);Le([mt],Pe.prototype,"segmentCandidate",1);Le([mt],Pe.prototype,"editingGroupLayer",1);Le([mt],Pe.prototype,"selectionInfo",1);Le([mt],Pe.prototype,"activeGroupLayerId",1);Le([mt],Pe.prototype,"activeLayerInGroupId",1);Le([mt],Pe.prototype,"selectedLeafLayerId",1);Le([mt],Pe.prototype,"activeGroupLayer",1);Le([Ue],Pe.prototype,"pointerDownX",2);Le([Ue],Pe.prototype,"pointerDownY",2);Le([Ue],Pe.prototype,"pointerDownOnRightSide",2);Le([Ue],Pe.prototype,"pointerMoved",2);Le([Ue],Pe.prototype,"pointerX",2);Le([Ue],Pe.prototype,"pointerY",2);Le([Ue],Pe.prototype,"pointerCurrentAngle",2);Le([Ue],Pe.prototype,"pointerAppliedAngle",2);Le([Ue],Pe.prototype,"bunchRectangleRotationFixed",2);Le([Ue],Pe.prototype,"pointerRayLengthInPage",2);Le([Ue],Pe.prototype,"appliedPointX",2);Le([Ue],Pe.prototype,"appliedPointY",2);Le([Ue],Pe.prototype,"bunchRectangleXFixed",2);Le([Ue],Pe.prototype,"bunchRectangleYFixed",2);Le([Ue],Pe.prototype,"interceptionInfo",2);Le([mt],Pe.prototype,"pointerRayLengthInWindow",1);Le([Ue],Pe.prototype,"pointerDownScalePercent",2);Le([Ue],Pe.prototype,"resizeTransformOrigin",2);Le([Ue],Pe.prototype,"resizeOriginType",2);Le([Ue],Pe.prototype,"resizeAndKeepRatio",2);Le([mt],Pe.prototype,"scalePercentDisplayed",1);Le([Ue],Pe.prototype,"menuShow",2);Le([Ue],Pe.prototype,"menuX",2);Le([Ue],Pe.prototype,"menuY",2);Le([mt],Pe.prototype,"bunchRectangle",1);Le([Ue],Pe.prototype,"bunchRectangleInMagneticField",2);Le([Ue],Pe.prototype,"selectionRectStartPoint",2);Le([Ue],Pe.prototype,"selectionRectEndPoint",2);Le([Ue],Pe.prototype,"selectionRectExists",2);Le([mt],Pe.prototype,"selectionStatus",1);Le([Ue],Pe.prototype,"layerResolvedFrameMap",2);Le([Ue],Pe.prototype,"layerImageHasTransition",2);Le([Ue],Pe.prototype,"overlappedLayerIdMap",2);Le([Ue],Pe.prototype,"helperLineList",2);Le([Ue],Pe.prototype,"helperRectList",2);Le([mt],Pe.prototype,"leafNormalLayerList",1);Le([mt],Pe.prototype,"selectionRectangle",1);Le([mt],Pe.prototype,"pointerCurrentPositionInPage",1);Le([mt],Pe.prototype,"bunchRectangleCenter",1);Le([mt],Pe.prototype,"rootNormalLayerMap",1);Le([mt],Pe.prototype,"normalLayerFlatMap",1);Le([mt],Pe.prototype,"selectedLayerList",1);Le([mt],Pe.prototype,"selectedNormalLayerList",1);Le([mt],Pe.prototype,"selectedPanel",1);Le([mt],Pe.prototype,"selectedSingleLayer",1);Le([mt],Pe.prototype,"selectedSingleImageLayer",1);Le([mt],Pe.prototype,"textLayerUnderEditing",1);Le([mt],Pe.prototype,"textLayerMap",1);Le([Ue],Pe.prototype,"textLayerOutOfPage",2);Le([mt],Pe.prototype,"imageLayerUnderEditing",1);Le([Ue],Pe.prototype,"filterState",2);Le([Ue],Pe.prototype,"state",2);Le([Ue],Pe.prototype,"options",2);Le([Ue],Pe.prototype,"renderCount",2);Le([Ue],Pe.prototype,"showFrameSelector",2);class _f{constructor({path:e,commands:n,type:r,styleID:o}){this.styleID=0,this.path=null,this.commands=[],this.scheduledForDelete=!1,this.path=e,this.commands=n,this.type=r,this.styleID=o}getPath(){return this.path}getVisualPath({Raptor:e,scale:n}){if(this.path){const r=this.path.copy();return r.deleteLater(),r.transform(e.Matrix.scaled(n,n)),r}return null}getCommands(){return this.commands}deleteLater(){var e;this.scheduledForDelete===!1&&(this.scheduledForDelete=!0,(e=this.path)==null||e.deleteLater())}}function h_({Raptor:t,strokeJoin:e}){return e==="BEVEL"?t.StrokeJoin.Bevel:e==="MITER"?t.StrokeJoin.Miter:t.StrokeJoin.Round}function p_({strokeAlign:t,strokeWeight:e,Raptor:n}){const r={strokeWidth:e,blendMode:null};return t==="CENTER"||(t==="INSIDE"?(r.strokeWidth=e*2,r.blendMode=n.BlendMode.SrcATop):t==="OUTSIDE"&&(r.strokeWidth=e*2,r.blendMode=n.BlendMode.DstATop)),r}function Ud({Raptor:t,commands:e}){const n=e.map(o=>o==="M"?t.MOVE_VERB:o==="C"?t.CUBIC_VERB:o==="L"?t.LINE_VERB:o==="Z"?t.CLOSE_VERB:o);return t.Path.MakeFromCmds(n)}function g_({width:t,height:e,cornerRadius:n,Raptor:r}){const o=Sa({width:t,height:e,cornerRadius:n});return Ud({Raptor:r,commands:o})}function Sa({width:t,height:e,cornerRadius:n}){if(n>0){const o=.44777199999999995*n;return["M",0,n,"C",0,o,o,0,n,0,"L",t-n,0,"C",t-o,0,t,o,t,n,"L",t,e-n,"C",t,e-o,t-o,e,t-n,e,"L",n,e,"C",o,e,0,e-o,0,e-n,"Z"]}return["M",0,0,"L",0,e,"L",t,e,"L",t,0,"Z"]}function Ry({Raptor:t,layer:e,scale:n}){var b,S,E,L,P,O;const{width:r,height:o,cornerRadius:u}=e;let c=Sa({width:r,height:o,cornerRadius:u});((b=e.smartShape)==null?void 0:b.type)==="Parallelogram"?c=["M",o/3,0,"L",r,0,"L",r-o/3,o,"L",0,o,"Z"]:((S=e.smartShape)==null?void 0:S.type)==="Pill"?c=Sa({width:r,height:o,cornerRadius:o/2}):((E=e.smartShape)==null?void 0:E.type)==="Ribbon"?c=["M",0,0,"L",r,0,"L",r-o/4,o/2,"L",r,o,"L",0,o,"L",o/4,o/2,"Z"]:((L=e.smartShape)==null?void 0:L.type)==="Path"&&e.smartShape.commands.length>0&&(c=[...e.smartShape.commands]);let l=Ud({Raptor:t,commands:c});if(l==null||l.deleteLater(),((P=e.smartShape)==null?void 0:P.type)==="Path"){const $=l==null?void 0:l.computeTightBounds();if($){const H=$[2]-$[0],X=$[3]-$[1];l==null||l.transform(t.Matrix.scaled(e.width/H,e.height/X))}}((O=e.smartShape)==null?void 0:O.type)==="Ellipse"&&(l=new t.Path,l.deleteLater(),l.addOval(t.XYWHRect(0,0,r,o)));const h=p_({strokeAlign:e.strokeAlign,strokeWeight:e.strokeWeight,Raptor:t}),g=l==null?void 0:l.copy().stroke({width:h.strokeWidth,join:h_({strokeJoin:e.strokeJoin,Raptor:t})});return g==null||g.deleteLater(),{fillScaledPath:(l==null?void 0:l.transform(t.Matrix.scaled(n,n)))||null,strokeScaledPath:(g==null?void 0:g.transform(t.Matrix.scaled(n,n)))||null,strokeInfo:h}}function Oy({Raptor:t,commands:e}){const n=Ud({Raptor:t,commands:e});return new _f({path:n,commands:e,type:"CLOSED",styleID:0})}function m_({Raptor:t,localStore:e,layer:n,instanceChain:r}){const o=Jt({localStore:e,layer:n,instanceChain:r});let u=0,{width:c,height:l,cornerRadius:h}=o;o.strokeAlign==="INSIDE"&&(c-=o.strokeWeight,l-=o.strokeWeight,u=o.strokeWeight/2,h>0&&(h-=o.strokeWeight/2)),o.strokeAlign==="OUTSIDE"&&(c+=o.strokeWeight,l+=o.strokeWeight,u-=o.strokeWeight/2,h>0&&(h+=o.strokeWeight/2));let g=Sa({width:c,height:l,cornerRadius:h});g=g.map(S=>typeof S=="number"?S+u:S);const b=Oy({Raptor:t,commands:g});return b==null||b.deleteLater(),[b]}function y_({Raptor:t,localStore:e,layer:n,instanceChain:r}){const o=Jt({localStore:e,layer:n,instanceChain:r});let u=[];const{width:c,height:l}=o;if(n.nodeType==="FRAME"||n.nodeType==="SYMBOL"||n.nodeType==="INSTANCE"||n.nodeType==="ROUNDED_RECTANGLE"){const{cornerRadius:g}=o;g>0&&(u=Sa({width:c,height:l,cornerRadius:g}))}return u.length===0&&(u=Sa({width:c,height:l,cornerRadius:0})),[Oy({Raptor:t,commands:u})]}function v_({vectorData:t,Raptor:e}){const{vertices:n,segments:r,regions:o}=t.vectorNetwork,u=[];function c(l,h){let g=-1;l.forEach((b,S)=>{const E=n[b.start.vertex],L=n[b.end.vertex];b.start.vertex!==g&&h.moveTo(E.x,E.y),b.start.dx===0&&b.start.dy===0&&b.end.dx===0&&b.end.dy===0?h.lineTo(L.x,L.y):h.cubicTo(b.start.dx+E.x,b.start.dy+E.y,b.end.dx+L.x,b.end.dy+L.y,L.x,L.y),g=b.end.vertex})}if(o.length>0&&o.forEach(l=>{const h=new e.Path;u.push({type:"region",path:h}),l.loops.forEach(g=>{l.windingRule==="EVENODD"&&h.setFillType(e.FillType.EvenOdd),g.segments.forEach(b=>{}),c(g.segments.map(b=>r[b]),h),h.close()}),h.close()}),u.length===0){const l=new e.Path;u.push({type:"line",path:l}),c(r,l)}return u}function Tf({localStore:t,fileData:e,layer:n,instanceChain:r,Raptor:o}){const u=Jt({localStore:t,layer:n,instanceChain:r}),c={data:{nodeType:u.nodeType,left:u.left,top:u.top,rotate:u.rotate,width:u.width,height:u.height,scaleX:1,scaleY:1,strokeAlign:u.strokeAlign,strokeWeight:u.strokeWeight,dashPattern:[...u.dashPattern]},fillGeometryList:[],strokeGeometryList:[],totalGeometry:null,children:[]};if(n.nodeType==="GROUP"||n.nodeType==="TEXT")return c;if(n.nodeType==="vector"){const g=t.getFigma();if(g){const b=q2(g.context.fileData,n);if(!b)throw new Error;const S=v_({vectorData:n.vectorData,Raptor:o});b.pathBoundsList=S.map(L=>L.path.computeTightBounds());const{vectorData:E}=u;E&&(c.data.scaleX=u.width/E.normalizedSize.x,c.data.scaleY=u.height/E.normalizedSize.y),S.forEach(L=>{if(L.type==="region"){const P=new _f({path:L.path,commands:[],type:"CLOSED",styleID:0});P.deleteLater(),c.fillGeometryList.push(P),c.strokeGeometryList.push(P)}else if(L.type==="line"){const P=new _f({path:L.path,commands:[],type:"LINE",styleID:0});P.deleteLater(),c.strokeGeometryList.push(P)}})}return c}const l=y_({Raptor:o,localStore:t,layer:n,instanceChain:r});l.forEach(g=>{g.deleteLater()});const h=m_({Raptor:o,localStore:t,layer:n,instanceChain:r});return u.frameMaskDisabled&&n.children&&n.children.forEach(g=>{const b=Gn(r,g),S=Tf({localStore:t,layer:g,instanceChain:b,Raptor:o,fileData:e});c.children.push(S)}),c.fillGeometryList=l,c.strokeGeometryList=h,c}function ag({info:t,styleID:e}){var r;const n=[];if(e===0)n.push(...t.fillPaints||[]);else if(t.nodeType==="vector"){const o=(r=t.vectorData)==null?void 0:r.styleOverrideTable.find(u=>u.styleID===e);o&&n.push(...o.fillPaints)}return{fillPaints:n}}function w_({info:t,styleID:e}){const n=[];return e===0&&n.push(...t.strokePaints||[]),{strokePaints:n}}function sg({Raptor:t,paint:e,path:n}){const r=new t.Paint;if(r.deleteLater(),r.setAntiAlias(!0),e.type==="SOLID"&&(r.setAlphaf(e.opacity),r.setColor(hn(e.color).toFigmaArray())),e.type==="GRADIENT_LINEAR"&&(r.setStyle(t.PaintStyle.Fill),r.setAlphaf(e.opacity),n)){const o=n==null?void 0:n.computeTightBounds(),u=qm({paint:e,Raptor:t,leftTop:[o[0],o[1]],bottomRight:[o[2],o[3]]});r.setShader(u),r.setAntiAlias(!0)}return r}function b_({normalizedWidth:t,normalizedHeight:e,normalizedSpan:n,color:r,scale:o,Raptor:u,canvas:c}){const l=new u.Paint;l.deleteLater(),l.setColor(hn(r).toFigmaArray()),l.setAlphaf(.3),l.setStyle(u.PaintStyle.Stroke),l.setStrokeWidth(o),l.setAntiAlias(!0),c.save();let h=0,g=0;for(;h<=t;)c.drawLine(h*o,0,h*o,e*o,l),h+=n;for(;g<=e;)c.drawLine(0,g*o,t*o,g*o,l),g+=n;c.restore()}function wo({canvas:t,Raptor:e,fill:n,scale:r,scaledPath:o,paintStyle:u,layerINFO:c,blendMode:l}){if(!n.visible)return;if(n.type==="GRID"){const g=o.getBounds(),b=g[2]-g[0],S=g[3]-g[1];t.save(),t.clipPath(o,e.ClipOp.Intersect,!0),b_({normalizedWidth:b/r,normalizedHeight:S/r,normalizedSpan:50,scale:r,Raptor:e,canvas:t,color:"#ffffff"}),t.restore();return}let h=null;n.type==="SOLID"&&(h=sg({Raptor:e,paint:n,path:null})),n.type==="GRADIENT_LINEAR"&&(h=sg({Raptor:e,paint:n,path:o})),h&&(l&&h.setBlendMode(l),t.drawPath(o,h))}function ug({Raptor:t,fileData:e,canvas:n,layer:r,instanceChain:o,options:u,geometryInfo:c}){const l=Jt({localStore:e.localStore,layer:r,instanceChain:o});n.save(),r.nodeType==="vector"?c.fillGeometryList.forEach(h=>{const g=h.getPath();if(!g)return;const b=g.copy().transform(t.Matrix.scaled(r.width/r.vectorData.normalizedSize.x*e.scale,r.height/r.vectorData.normalizedSize.y*e.scale));b==null||b.deleteLater();const{fillPaints:S}=ag({info:l,styleID:h.styleID});S==null||S.forEach(E=>{if(E.type!=="SOLID"||E.visible===!1)return;n.saveLayer();const L=new t.Paint;L.deleteLater(),h.type==="CLOSED"&&(L.setStyle(t.PaintStyle.Fill),L.setColor([E.color.r,E.color.g,E.color.b,E.color.a]),L.setAlphaf(E.opacity),L.setAntiAlias(!0),n.drawPath(b,L)),n.restore()})}):c.fillGeometryList.forEach(h=>{const g=h.getPath();if(!g)return;const b=g.copy().transform(t.Matrix.scaled(e.scale,e.scale));b.deleteLater(),b&&(r.nodeType==="FRAME"||r.nodeType==="SYMBOL"||r.nodeType==="INSTANCE")&&(l.frameMaskDisabled||n.clipPath(b,t.ClipOp.Intersect,!0));const{fillPaints:S}=ag({info:l,styleID:h.styleID});S.forEach(E=>{if(E.type==="SOLID"&&E.visible)wo({canvas:n,Raptor:t,fill:E,scaledPath:b,scale:e.scale,layerINFO:l,blendMode:null,paintStyle:null});else if(E.type==="GRADIENT_LINEAR"&&E.visible)wo({Raptor:t,canvas:n,fill:E,scaledPath:b,scale:e.scale,layerINFO:l,blendMode:null,paintStyle:null});else if(E.type==="IMAGE"){u.snapshot&&(u.snapshot.contains.imageUrlMap[E.image.imageSource]=!0);const L=e.assetMap.getAsset(E.image.imageSource);if(L&&L.image){const P=new t.Paint;P.deleteLater(),P.setStyle(t.PaintStyle.Fill),P.setAntiAlias(!0),ic({canvas:n,layer:r,Raptor:t,scale:e.scale,img:L.image,imageInfo:E.image,paint:P})}}})}),n.restore()}function ic({canvas:t,layer:e,Raptor:n,scale:r,img:o,imageInfo:u,paint:c}){t.save(),t.translate(r*(e.width/2),r*(e.height/2)),t.rotate(u.rotate,0,0),t.translate(u.imageX*r,u.imageY*r),c&&(r>0?(e.nodeType,t.drawImageRectCubic(o,n.XYWHRect(0,0,o.width(),o.height()),n.XYWHRect(-u.width/2*r,-u.height/2*r,u.width*r,u.height*r),0,0,c)):(c.setImageFilter(null),t.drawImageRect(o,n.LTRBRect(0,0,o.width(),o.height()),n.LTRBRect(r*(-u.width/2+u.imageX),r*(-u.height/2+u.imageY),r*(u.width/2+u.imageX),r*(u.height/2+u.imageY)),c))),t.restore()}function S_({canvas:t,Raptor:e,fileData:n,layer:r,options:o}){if(t.save(),r.nodeType==="TEXT"){const{strokeList:u,shadowList:c,newParagraph:l,fillList:h}=_d({Raptor:e,fileData:n,layer:r});r.textAutoResize==="WIDTH_AND_HEIGHT"&&(r.textAlignHorizontal==="CENTER"?t.translate(-Af(r)*n.scale/2,0):r.textAlignHorizontal==="RIGHT"&&t.translate(-Af(r)*n.scale,0)),l&&(c.forEach(b=>{const S=new e.Paint;S.deleteLater();const E=e.ImageFilter.MakeBlur(n.doScale(b.radius),n.doScale(b.radius),e.TileMode.Decal,null);E.deleteLater(),S.setImageFilter(E),t.saveLayer(S),t.drawParagraph(b.paragraph,n.doScale(b.offset.x),n.doScale(b.offset.y)),t.drawParagraph(b.strokedParagraph,n.doScale(b.offset.x),n.doScale(b.offset.y)),t.restore()}),t.saveLayer(),h.forEach(b=>{b.paragraph&&t.drawParagraph(b.paragraph,0,0)}),u.forEach(b=>{b.paragraph&&t.drawParagraph(b.paragraph,0,0)}),t.restore())}t.restore()}function x_({fileData:t,Raptor:e,geometryInfo:n,canvas:r,layer:o,layerInfo:u}){n.strokeGeometryList.forEach(c=>{const l=c.getPath();if(!l)return;const{strokePaints:h}=w_({info:u,styleID:c.styleID}),g=l.copy().transform(e.Matrix.scaled(o.width/o.vectorData.normalizedSize.x*t.scale,o.height/o.vectorData.normalizedSize.y*t.scale));g==null||g.deleteLater(),h.forEach(b=>{var E;if(b.visible===!1)return;const S=new e.Paint;if(S.deleteLater(),S.setAntiAlias(!0),S.setColor(hn({type:"FIGMA",...b.color}).toFigmaArray()),S.setAlphaf(b.opacity),S.setStyle(e.PaintStyle.Stroke),n.data.dashPattern[0]>0||n.data.dashPattern[1]>0){const L=e.PathEffect.MakeDash([t.doScale(n.data.dashPattern[0]),t.doScale(n.data.dashPattern[1])]);L.deleteLater(),S.setPathEffect(L)}if(c.type==="CLOSED"){if(o.strokeAlign==="CENTER"){S.setStrokeWidth(t.doScale(o.strokeWeight)),r.drawPath(g,S);return}if(!((E=o.fillPaints)==null?void 0:E[0]))return;r.saveLayer();const P=new e.Paint;P.deleteLater(),P.setColor(e.BLACK),P.setAntiAlias(!0),r.drawPath(g,P);const O=new e.Paint;O.deleteLater(),o.strokeAlign==="INSIDE"?O.setBlendMode(e.BlendMode.SrcIn):o.strokeAlign==="OUTSIDE"&&O.setBlendMode(e.BlendMode.SrcOut),r.saveLayer(O),S.setStrokeWidth(t.doScale(o.strokeWeight*2)),r.drawPath(g,S),r.restore(),r.restore()}else c.type==="LINE"&&(S.setStrokeJoin(Ef({Raptor:e,value:o.strokeJoin})),o.strokeAlign==="CENTER"&&(S.setStrokeWidth(t.doScale(o.strokeWeight)),r.drawPath(g,S)))})})}function E_({canvas:t,Raptor:e,fileData:n,geometryInfo:r,effect:o}){if(o.visible===!1)return;const u=new e.Paint;u.deleteLater();const c=e.ImageFilter.MakeBlur(n.doScale(o.radius/2),n.doScale(o.radius/2),e.TileMode.Decal,null);c.deleteLater(),u.setImageFilter(c),t.saveLayer(u);const l=new e.Paint;l.deleteLater(),l.setAntiAlias(!0),l.setColor(hn({type:"FIGMA",...o.color}).toFigmaArray()),Fy({canvas:t,Raptor:e,fileData:n,geometryInfo:r,shadowPaint:l,effect:o}),t.restore()}function Fy({canvas:t,Raptor:e,fileData:n,geometryInfo:r,shadowPaint:o,effect:u}){r.fillGeometryList.forEach(c=>{const l=c.getVisualPath({Raptor:e,scale:n.scale});l&&t.drawPath(l,o)}),r.strokeGeometryList.forEach(c=>{const l=c.getVisualPath({Raptor:e,scale:n.scale});if(l){l.transform(e.Matrix.scaled(r.data.scaleX,r.data.scaleY));const h=new e.Paint;h.deleteLater(),h.setAntiAlias(!0),h.setStyle(e.PaintStyle.Stroke),h.setColor(hn({type:"FIGMA",...u.color}).toFigmaArray());const{dashPattern:g}=r.data;if(g[0]>0||g[1]>0){const P=e.PathEffect.MakeDash([n.doScale(g[0]),n.doScale(g[1])]);P.deleteLater(),h.setPathEffect(P)}const{strokeWeight:b,strokeAlign:S,nodeType:E}=r.data;let L=b;E==="vector"&&(S==="INSIDE"?L=0:S==="CENTER"?L=b:S==="OUTSIDE"&&(L*=2)),h.setStrokeWidth(n.doScale(L)),t.drawPath(l,h)}}),r.children.forEach(c=>{t.translate(n.doScale(c.data.left),n.doScale(c.data.top)),t.rotate(c.data.rotate,n.doScale(c.data.width/2),n.doScale(c.data.height/2)),Fy({canvas:t,fileData:n,Raptor:e,geometryInfo:c,shadowPaint:o,effect:u})})}function A_({Raptor:t,fileData:e,canvas:n,path:r,effect:o}){n.save();let u=r;const c=new t.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setStyle(t.PaintStyle.Fill),c.setColor(hn(o.color).toFigmaArray());const l=t.ImageFilter.MakeBlur(e.doScale(o.radius/2),e.doScale(o.radius/2),t.TileMode.Decal,null);if(l.deleteLater(),c.setImageFilter(l),o.spread>0){const h=u.copy().stroke({width:e.doScale(o.spread*2)});h==null||h.deleteLater(),h==null||h.op(u,t.PathOp.Union),h&&(u=h)}n.translate(e.doScale(o.offset.x),e.doScale(o.offset.y)),n.drawPath(u,c),n.restore()}function C_(t,e,n,r,o){const u=Gn(o.instanceChain,r);if(r.nodeType!=="FRAME"&&r.nodeType!=="SYMBOL"&&r.nodeType!=="INSTANCE")return;const c=r,l=Jt({localStore:n.localStore,layer:r,instanceChain:u}),h={frameMaskDisabled:l.frameMaskDisabled,relativeTransform:Kn(l),fillPaints:r.fillPaints,strokePaints:r.strokePaints,children:Os(n,r),snapshot:X2(n,r),pointsRect:Md({fileData:n,Raptor:e,layer:r,instanceChain:u,options:{}}).withShadow};if(t.save(),o.useSnapshot&&h.snapshot){const g=new e.Paint;g.deleteLater(),g.setStyle(e.PaintStyle.Fill),g.setAntiAlias(!0),t.save(),t.drawImageRect(h.snapshot,e.LTRBRect(0,0,h.snapshot.width(),h.snapshot.height()),e.LTRBRect(n.doScale(h.pointsRect[0].x),n.doScale(h.pointsRect[0].y),n.doScale(h.pointsRect[2].x),n.doScale(h.pointsRect[2].y)),g),t.restore()}else{const g=Ry({Raptor:e,layer:l,scale:n.scale});Ny({Raptor:e,canvas:t,info:l,fileData:n,data:g,layer:c}),$y({Raptor:e,canvas:t,info:l,fileData:n,data:g,layer:c}),h.frameMaskDisabled&&Lf({fileData:n,canvas:t,Raptor:e,info:l,layer:c,data:g}),t.save(),h.frameMaskDisabled===!1&&g.fillScaledPath&&t.clipPath(g.fillScaledPath,e.ClipOp.Intersect,!0);const b={bounds:o.bounds.map(S=>jo(h.relativeTransform,S)),useSnapshot:o.useSnapshot,tile:o.tile,snapshot:o.snapshot,instanceChain:u};oc(t,e,n,h.children,b),t.restore(),l.frameMaskDisabled===!1&&Lf({fileData:n,canvas:t,Raptor:e,info:l,layer:c,data:g})}t.restore()}function __(t,e,n,r,o){var g,b,S,E;const u=Gn(o.instanceChain,r),c=Md({fileData:n,Raptor:e,layer:r,instanceChain:u,options:{}}).withShadow.map(L=>({x:L.x,y:L.y})),l=Jt({localStore:n.localStore,layer:r,instanceChain:u});if(l.visible===!1||!yd(o.bounds.map(L=>jo(Kn(l),L)),c))return;o.tile&&(o.tile.contains.layerIdMap[r.id]=!0),o.snapshot&&(o.snapshot.contains.layerIdMap[r.id]=!0);let h=null;if((g=l.effects)==null||g.forEach(L=>{L.type==="FOREGROUND_BLUR"&&L.visible&&(h=L)}),h){const L=new e.Paint;L.setAntiAlias(!0);const P=e.ImageFilter.MakeBlur(n.doScale(h.radius/2),n.doScale(h.radius/2),e.TileMode.Decal,null);P.deleteLater(),L.setImageFilter(P),t.saveLayer(L)}if(r.nodeType==="FRAME"||r.nodeType==="SYMBOL"||r.nodeType==="INSTANCE")C_(t,e,n,r,o);else if(r.nodeType==="SECTION"){const L=Tf({localStore:n.localStore,fileData:n,layer:r,instanceChain:u,Raptor:e});t.save(),ug({Raptor:e,fileData:n,canvas:t,layer:r,instanceChain:o.instanceChain,options:o,geometryInfo:L});const P={bounds:o.bounds.map(O=>jo(Kn(l),O)),useSnapshot:o.useSnapshot,tile:o.tile,snapshot:o.snapshot,instanceChain:u};oc(t,e,n,r.children,P),t.restore()}else if(r.nodeType==="GROUP")t.save(),oc(t,e,n,r.children,o),t.restore();else if(r.nodeType==="IMAGE"){const L=((b=r.image)==null?void 0:b.imageSource)||"";o.snapshot&&(o.snapshot.contains.imageUrlMap[L]=!0);const P=(S=n.assetMap.getAsset(L))==null?void 0:S.image;if(L&&P){const O=new e.Paint;O.deleteLater(),O.setStyle(e.PaintStyle.Fill),O.setAntiAlias(!0),t.save(),T_(t,e,n,r),r.image&&ic({canvas:t,layer:r,Raptor:e,scale:n.scale,img:P,imageInfo:r.image,paint:O}),t.restore()}}else if(r.nodeType==="vector"){const L=Tf({localStore:n.localStore,fileData:n,layer:r,instanceChain:u,Raptor:e});(E=l.effects)==null||E.forEach(P=>{P.type==="DROP_SHADOW"&&E_({canvas:t,Raptor:e,fileData:n,geometryInfo:L,effect:P})}),ug({Raptor:e,fileData:n,canvas:t,layer:r,instanceChain:o.instanceChain,options:o,geometryInfo:L}),x_({Raptor:e,canvas:t,fileData:n,layer:r,geometryInfo:L,layerInfo:l})}else if(r.nodeType==="ROUNDED_RECTANGLE"){t.save();const L=Ry({Raptor:e,layer:r,scale:n.scale});Ny({layer:r,info:l,data:L,canvas:t,Raptor:e,fileData:n}),$y({layer:r,info:l,data:L,canvas:t,Raptor:e,fileData:n}),Lf({layer:r,info:l,data:L,canvas:t,Raptor:e,fileData:n}),t.restore()}else r.nodeType==="TEXT"&&S_({canvas:t,Raptor:e,fileData:n,layer:r,options:o});h&&t.restore()}function Ny({Raptor:t,canvas:e,info:n,fileData:r,data:o,layer:u}){var c,l;(c=n.effects)!=null&&c.length&&((l=n.effects)==null||l.forEach(h=>{if(h.type==="DROP_SHADOW"&&h.visible){const g=new t.Path;g.deleteLater(),o.fillScaledPath&&g.op(o.fillScaledPath,t.PathOp.Union),n.strokeAlign!=="INSIDE"&&o.strokeScaledPath&&g.op(o.strokeScaledPath,t.PathOp.Union),A_({Raptor:t,fileData:r,canvas:e,path:g,effect:h})}}))}function $y({Raptor:t,canvas:e,info:n,fileData:r,data:o,layer:u}){var l,h,g,b;e.saveLayer(),(l=n.fillPaints)==null||l.forEach(S=>{o.fillScaledPath&&S.visible&&wo({canvas:e,Raptor:t,scaledPath:o.fillScaledPath,scale:r.scale,fill:S,layerINFO:n,blendMode:null,paintStyle:null})});const c=(g=r.assetMap.getAsset(((h=u.image)==null?void 0:h.imageSource)||""))==null?void 0:g.image;if(u.image&&c&&o.fillScaledPath){e.save();const S=new t.Paint;S.deleteLater(),S.setStyle(t.PaintStyle.Fill),S.setAntiAlias(!0),e.clipPath(o.fillScaledPath,t.ClipOp.Intersect,!0),ic({canvas:e,layer:u,Raptor:t,scale:r.scale,img:c,imageInfo:u.image,paint:S}),e.restore()}if(((b=u.smartShape)==null?void 0:b.type)==="Mask"){const S=u.smartShape.url||"https://cdn.jsdelivr.net/gh/assetvoid/images/brush/1.png",E=r.assetMap.getAsset(S);if(E!=null&&E.image){const L=new t.Paint;L.deleteLater(),L.setAntiAlias(!0),L.setColor(t.BLACK),L.setStyle(t.PaintStyle.Stroke),L.setStrokeWidth(r.doScale(3)),L.setBlendMode(t.BlendMode.Clear),e.drawRect(t.XYWHRect(0,0,r.doScale(u.width),r.doScale(u.height)),L),L.setStyle(t.PaintStyle.Fill),L.setStrokeWidth(0),L.setBlendMode(t.BlendMode.DstIn);const P=gd();P.naturalWidth=E.image.width(),P.naturalHeight=E.image.height(),P.width=u.width,P.height=u.height,ic({canvas:e,layer:u,Raptor:t,scale:r.scale,img:E.image,imageInfo:P,paint:L})}}e.restore()}function Lf({Raptor:t,canvas:e,info:n,fileData:r,data:o,layer:u}){n.strokePaints.length>0&&n.strokePaints.forEach(c=>{e.saveLayer(),n.strokeAlign==="OUTSIDE"?(o.strokeScaledPath&&wo({canvas:e,Raptor:t,scaledPath:o.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null}),o.fillScaledPath&&wo({canvas:e,Raptor:t,scaledPath:o.fillScaledPath,scale:r.scale,layerINFO:n,fill:am("#000000"),blendMode:t.BlendMode.DstOut,paintStyle:null})):n.strokeAlign==="CENTER"?o.strokeScaledPath&&wo({canvas:e,Raptor:t,scaledPath:o.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null}):n.strokeAlign==="INSIDE"&&o.strokeScaledPath&&o.fillScaledPath&&(o.strokeScaledPath.op(o.fillScaledPath,t.PathOp.Intersect),wo({canvas:e,Raptor:t,scaledPath:o.strokeScaledPath,scale:r.scale,layerINFO:n,fill:c,blendMode:null,paintStyle:null})),e.restore()})}function oc(t,e,n,r,o){r.forEach(u=>{const c=Gn(o.instanceChain,u),l=mc({localStore:n.localStore,layer:u,instanceChain:c});t.save(),u.nodeType!=="GROUP"&&(t.translate(n.doScale(l.left),n.doScale(l.top)),t.rotate(l.rotate,n.doScale(l.width/2),n.doScale(l.height/2))),__(t,e,n,u,{...o,instanceChain:c}),t.restore()})}function T_(t,e,n,r){t.clipRect(e.LTRBRect(0,0,n.doScale(r.width),n.doScale(r.height)),e.ClipOp.Intersect,!0)}class L_{constructor(e){this.map=new Map,this.Raptor=e}isURL(e){return/^(http:|https:)/.test(e)}getAsset(e){const n=this.map.get(e);return n&&n.status==="done"?n:(this.ensureAsset(e),null)}async ensureAsset(e){let n=this.map.get(e);if(n){if(n.status==="done")return n;if(n.promise)return await n.promise,n}return!n&&this.isURL(e)&&(n={status:"",image:null,arrayBuffer:null,promise:null},this.map.set(e,n)),n&&n.status===""&&n.promise===null&&this.isURL(e)&&(n.promise=fetch(e,{}).then(r=>r.arrayBuffer()).then(r=>{if(n)n.arrayBuffer=r,n.image=this.Raptor.MakeImageFromEncoded(r),n.status="done",n.promise=null;else throw new Error("Asset is null");return r}),await n.promise),n}appendAsset({imageSource:e,buffer:n}){const r=e||`${pd()}.${P_({buffer:n})}`,o=this.Raptor.MakeImageFromEncoded(n);return this.map.set(r,{status:"done",image:o,arrayBuffer:n,promise:null}),{id:r}}}function P_({buffer:t}){const e=Uint8Array.from([137,80,78,71,13,10,26,10]),n=Uint8Array.from([255,216]),r=Uint8Array.from([255,217]),o=new Uint8Array(t.slice(0,8));return o.toString()===e.toString()?"png":new Uint8Array(t.slice(0,2)).toString()===n.toString()&&new Uint8Array(t.slice(t.byteLength-2,t.byteLength)).toString()===r.toString()?"jpg":(console.log(`Unknown image format: ${o}`),"png")}const Go={PURPLE:"#8638E5",BLUE:"#0d99ff"};function M_({fileData:t,layer:e,Raptor:n,canvas:r}){var o,u;if(t.localStore.editingText&&((o=t.localStore.selectedSingleLayer)==null?void 0:o.nodeType)==="TEXT"&&t.localStore.selectedSingleLayer.id===e.id&&e.textData){const{newParagraph:c}=_d({Raptor:n,fileData:t,layer:e,persistNewParagraph:!0}),l=c;if(!l)return;(u=t.paragraphManager.activeParagraph)==null||u.delete(),t.paragraphManager.activeParagraph=l;const{start:h,end:g}=t.localStore.selectionInfo.textRange$,b=new n.Paint;if(b.deleteLater(),b.setColor(hn(Go.BLUE).toFigmaArray()),b.setAntiAlias(!0),b.setAlphaf(.5),h===g){const S=EA({textData:e.textData,paragraph:l,index:h});let E=0,L=0,P=0;l.getLineMetrics().forEach(($,H)=>{H<S.lineNumber?L+=$.height:H===S.lineNumber&&(P=$.height,S.glyph?E=S.glyph.graphemeLayoutBounds[0]:E=sy({localStore:t.localStore,layer:e,line:$}))}),r.drawRect([E,L,E+2,L+P],b)}else l.getRectsForRange(h,g,n.RectHeightStyle.Tight,n.RectWidthStyle.Tight).forEach(E=>{r.drawRect(E.rect,b)})}}function By(t){const e=new t.Raptor.Paint;return e.setAntiAlias(!0),e.setStrokeWidth(1),e.setColor(hn(Go.BLUE).toFigmaArray()),e.setStyle(t.Raptor.PaintStyle.Stroke),e}function Wd(t){const e=new t.Raptor.Paint;e.setAntiAlias(!0),e.setStrokeWidth(1),e.setColor(hn(Go.BLUE).toFigmaArray());const n=t.Raptor.PathEffect.MakeDash([2,2]);return e.setPathEffect(n),n.delete(),e.setStyle(t.Raptor.PaintStyle.Stroke),e}function Hi(t){return t==="BLUE"?hn(Go.BLUE).toFigmaArray():t==="PURPLE"?hn(Go.PURPLE).toFigmaArray():hn(Go.BLUE).toFigmaArray()}function I_({canvas:t,fileData:e,layer:n}){const r=Rs(e,n)?Hi("PURPLE"):Hi("BLUE"),{absoluteTransform:o,rotate:u}=zi(e,{type:"layer",layerId:n.id});t.save(),t.translate(e.doScale(o[0][2]),e.doScale(o[1][2])),t.rotate(u,0,0);const c=Wd(e);c.setColor(r),t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(n.width),e.doScale(n.height)),c),c.delete(),t.restore()}function k_({fileData:t,canvas:e,layer:n,room:r}){if(n&&r&&uE(t.localStore,n)){const{absoluteTransform:o,rotate:u}=zi(t,{type:"layer",layerId:r.id});e.save(),e.translate(t.doScale(o[0][2]),t.doScale(o[1][2])),e.rotate(u,0,0);const c=Wd(t),l=cE(n),h=lE(n);(l==="MIN"||l==="STRETCH")&&e.drawLine(t.doScale(0),t.doScale(n.top+n.height/2),t.doScale(n.left),t.doScale(n.top+n.height/2),c),(l==="MAX"||l==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width),t.doScale(n.top+n.height/2),t.doScale(r.width),t.doScale(n.top+n.height/2),c),(h==="MIN"||h==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width/2),t.doScale(0),t.doScale(n.left+n.width/2),t.doScale(n.top),c),(h==="MAX"||h==="STRETCH")&&e.drawLine(t.doScale(n.left+n.width/2),t.doScale(n.top+n.height),t.doScale(n.left+n.width/2),t.doScale(r.height),c),c.delete(),e.restore()}}function R_(t,e,n,r,o){Cf({fileData:t,localStore:t.localStore,layer:n,instanceChain:r}).forEach(({childInfo:u})=>{const c=Kn(u),l=pc(c);e.save(),e.translate(t.doScale(c[0][2]),t.doScale(c[1][2])),e.rotate(l,0,0);const h=Wd(t);h.setColor(o),e.drawRect(t.Raptor.XYWHRect(0,0,t.doScale(u.width),t.doScale(u.height)),h),h.delete(),e.restore()})}function O_({fileData:t,canvas:e,layer:n,path:r}){const{absoluteTransform:o,rotate:u}=zi(t,{type:"layer",layerId:n.id});if(e.save(),e.translate(t.doScale(o[0][2]),t.doScale(o[1][2])),e.rotate(u,0,0),r){const c=new t.Raptor.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setColor(t.Raptor.RED),c.setAlphaf(.2);const l=n.width/n.vectorData.normalizedSize.x*t.scale,h=n.height/n.vectorData.normalizedSize.y*t.scale,g=t.Raptor.Matrix.scaled(l,h),b=r.copy().transform(g);b.deleteLater(),e.drawPath(b,c)}e.restore()}function F_(t,e,n){var E,L,P;const{absoluteTransform:r,rotate:o}=zi(t,{type:"layer",layerId:n.id});e.save(),e.translate(t.doScale(r[0][2]),t.doScale(r[1][2])),e.rotate(o,0,0);const u=new t.Raptor.Paint;u.deleteLater(),u.setAntiAlias(!0),u.setStyle(t.Raptor.PaintStyle.Stroke),u.setColor(hn(Go.BLUE).toFigmaArray()),u.setStrokeWidth(2);const c=new t.Raptor.Paint;c.deleteLater(),c.setAntiAlias(!0),c.setStyle(t.Raptor.PaintStyle.Stroke),c.setColor(hn("#E1E4E5").toFigmaArray()),c.setStrokeWidth(2);const l=new t.Raptor.Paint;l.deleteLater(),l.setAntiAlias(!0),l.setStyle(t.Raptor.PaintStyle.Fill),l.setColor(hn("#FFFFFF").toFigmaArray());const h=[];let g=null;((L=(E=t.localStore.editingVector)==null?void 0:E.currentOperation)==null?void 0:L.type)==="SegmentCandidate"&&(g=(P=t.localStore.editingVector)==null?void 0:P.currentOperation);const b=[];n.vectorData.vectorNetwork.vertices.forEach((O,$)=>{const H=gs({layer:n,normalizedPoint:O}),X=xs(r,H);h.push({type:"VectorVertex",vertexIndex:$,localPoint:H,visualPoint:{x:t.doScale(X.x),y:t.doScale(X.y)}})});function S({x:O,y:$,dx:H,dy:X,segmentId:W,kind:te}){if(!(H===0&&X===0)){const re=gs({layer:n,normalizedPoint:{x:O,y:$}}),he=gs({layer:n,normalizedPoint:{x:H,y:X}}),Ae={x:re.x+he.x,y:re.y+he.y};if(e.drawCircle(t.doScale(Ae.x),t.doScale(Ae.y),3,c),e.drawLine(t.doScale(re.x),t.doScale(re.y),t.doScale(Ae.x),t.doScale(Ae.y),c),W>-1){const J=xs(r,Ae);t.overlay$$.push({type:"BezierControlPoint",segmentId:W,kind:te,visualPoint:{x:t.doScale(J.x),y:t.doScale(J.y)},radius:3})}}}if(n.vectorData.vectorNetwork.segments.forEach((O,$)=>{const{start:H,end:X}=O,W=n.vectorData.vectorNetwork.vertices[H.vertex],te=n.vectorData.vectorNetwork.vertices[X.vertex];W&&S({x:W.x,y:W.y,dx:H.dx,dy:H.dy,segmentId:$,kind:"start"}),te&&S({x:te.x,y:te.y,dx:X.dx,dy:X.dy,segmentId:$,kind:"end"})}),g){const{startVertex:O,endVertex:$}=g;O.vid&&(O.vid===-1&&b.push({type:"VectorVertex",vertexIndex:-1,localPoint:gs({layer:n,normalizedPoint:{x:O.x,y:O.y}}),visualPoint:{x:0,y:0}}),S({x:O.x,y:O.y,dx:O.dx,dy:O.dy,segmentId:-1,kind:"start"})),$.vid===-1&&(b.push({type:"VectorVertex",vertexIndex:-1,localPoint:gs({layer:n,normalizedPoint:{x:$.x,y:$.y}}),visualPoint:{x:0,y:0}}),S({x:$.x,y:$.y,dx:$.dx,dy:$.dy,segmentId:-1,kind:"end"}))}if(h.forEach((O,$)=>{const H=t.doScale(O.localPoint.x),X=t.doScale(O.localPoint.y);e.drawCircle(H,X,3,u),e.drawCircle(H,X,3,l),t.overlayFont&&e.drawText(`${O.vertexIndex}`,H,X,l,t.overlayFont)}),b.forEach((O,$)=>{const H=t.doScale(O.localPoint.x),X=t.doScale(O.localPoint.y);e.drawCircle(H,X,3,u),e.drawCircle(H,X,3,l)}),t.overlay$$.push(...h),g&&t.localStore.currentStatus!=="bendingSegment"){const{startVertex:O,endVertex:$}=g;if(O&&t.localStore.currentTool==="VectorPenTool"&&!(O.x===$.x&&O.y===$.y)){const H={x:O.x+O.dx,y:O.y+O.dy},X={x:$.x+$.dx,y:$.y+$.dy},W=new t.Raptor.Path;if(W.deleteLater(),W.moveTo(O.x,O.y),W.cubicTo(H.x,H.y,X.x,X.y,$.x,$.y),n.width>0&&n.height>0){const te=t.Raptor.Matrix.scaled(n.width/n.vectorData.normalizedSize.x*t.scale,n.height/n.vectorData.normalizedSize.y*t.scale);W.transform(te)}e.drawPath(W,u)}}e.restore()}function N_({canvas:t,fileData:e,Raptor:n}){const{hoveredTarget:r}=e,o=(r==null?void 0:r.id)||"",u=e.localStore.getLayer(o);if(u&&r){const{instanceChain:c,absoluteTransform:l,rotate:h}=Ed({fileData:e,target:r}),g=Rs(e,u)||c.length>0?Hi("PURPLE"):Hi("BLUE");{const b=Jt({localStore:e.localStore,layer:u,instanceChain:c});t.save(),t.translate(e.doScale(l[0][2]),e.doScale(l[1][2])),t.rotate(h,0,0);const S=new n.Paint;S.setAntiAlias(!0),S.setColor(g),S.setStrokeWidth(2),S.setStyle(n.PaintStyle.Stroke);const E=Nm({layer:u,layerInfo:b});t.drawRect(n.XYWHRect(0,0,e.doScale(E.width),e.doScale(E.height)),S),S.delete(),Mn(u)!=="NONE"&&R_(e,t,u,c,g),t.restore()}}}function $_({canvas:t,fileData:e,layer:n,instanceChain:r}){const o=Jt({localStore:e.localStore,layer:n,instanceChain:r}),{absoluteTransform:u,rotate:c}=zi(e,{type:"layer",layerId:n.id});t.save(),t.translate(e.doScale(u[0][2]),e.doScale(u[1][2])),t.rotate(c,0,0);const l=By(e);l.deleteLater(),l.setStrokeWidth(1.5),Rs(e,n)?l.setColor(Hi("PURPLE")):l.setColor(Hi("BLUE"));const h=Nm({layer:n,layerInfo:o});t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(h.width),e.doScale(h.height)),l);const g=new e.Raptor.Paint;g.deleteLater(),g.setColor(e.Raptor.WHITE),g.setStyle(e.Raptor.PaintStyle.Fill),g.setAntiAlias(!0),[[0,0],[h.width,0],[0,h.height],[h.width,h.height]].forEach(b=>{t.save(),t.translate(e.doScale(b[0]),e.doScale(b[1])),B_({canvas:t,fillPaint:g,linePaint:l,fileData:e}),t.restore()}),t.restore()}function B_({canvas:t,linePaint:e,fillPaint:n,fileData:r}){t.drawRect(r.Raptor.XYWHRect(-4,-4,8,8),e),t.drawRect(r.Raptor.XYWHRect(-4,-4,8,8),n)}function D_({canvas:t,fileData:e,options:n}){const{localStore:r}=e;e.overlay$$=[],N_({canvas:t,fileData:e,Raptor:e.Raptor});const o=e.localStore.props.getSelectionInfo();if(o.phantom===null){const c=SE(e.localStore).layer;if(c){if(c.nodeType==="TEXT"){const l=c,{absoluteTransform:h,rotate:g}=zi(e,{type:"layer",layerId:l.id});t.save(),t.translate(e.doScale(h[0][2]),e.doScale(h[1][2])),t.rotate(g,0,0),M_({fileData:e,Raptor:e.Raptor,canvas:t,layer:c}),t.restore()}if(c.nodeType==="vector"){const l=c,{absoluteTransform:h,rotate:g}=zi(e,{type:"layer",layerId:l.id});t.save(),t.translate(e.doScale(h[0][2]),e.doScale(h[1][2])),t.rotate(g,0,0);const b=new e.Raptor.Paint;b.deleteLater(),b.setColor(Hi("BLUE")),b.setStyle(e.Raptor.PaintStyle.Stroke),b.setStrokeWidth(2),b.setAntiAlias(!0),l.vectorData.vectorNetwork.segments.forEach(S=>{const E=l.vectorData.vectorNetwork.vertices[S.start.vertex],L=l.vectorData.vectorNetwork.vertices[S.end.vertex];if(E&&L){const P=new e.Raptor.Path;P.deleteLater(),P.moveTo(E.x,E.y),S.start.dx===0&&S.start.dy===0&&S.end.dx===0&&S.end.dy===0?P.lineTo(L.x,L.y):P.cubicTo(E.x+S.start.dx,E.y+S.start.dy,L.x+S.end.dx,L.y+S.end.dy,L.x,L.y),P.transform(e.Raptor.Matrix.scaled(l.width/l.vectorData.normalizedSize.x*e.scale,l.height/l.vectorData.normalizedSize.y*e.scale)),t.drawPath(P,b)}}),t.restore()}if(c.nodeType==="vector"&&e.localStore.editingVector){const l=c;if(r.vectorEditor&&r.pointerTarget$$&&r.pointerTarget$$.type==="VectorRegion"){const h=r.pointerTarget$$.regionId,g=r.vectorEditor.closedPathList[h];g&&O_({fileData:e,canvas:t,layer:l,path:g})}F_(e,t,l)}else{const l=$r(e,c.parentId);l&&Mn(l)!=="NONE"&&I_({canvas:t,fileData:e,layer:l}),n.enableDrawResizer&&$_({fileData:e,canvas:t,layer:c,instanceChain:[]});const h=xo(e.localStore,c);h&&k_({fileData:e,canvas:t,layer:c,room:h})}}}if(o.phantom){const{phantom:u}=o,{absoluteTransform:c,instanceChain:l,rotate:h}=Ed({fileData:e,target:u}),{id:g}=u,b=$r(e,g);if(b){const S=mc({localStore:e.localStore,layer:b,instanceChain:l});t.save(),t.translate(e.doScale(c[0][2]),e.doScale(c[1][2])),t.rotate(h,0,0);const E=By(e);E.setColor(Rs(e,b)?Hi("PURPLE"):Hi("BLUE")),t.drawRect(e.Raptor.XYWHRect(0,0,e.doScale(S.width),e.doScale(S.height)),E),E.delete(),t.restore()}}}function G_({libra:t,width:e,height:n}){var r;t.canvasElement.width=e*window.devicePixelRatio,t.canvasElement.height=n*window.devicePixelRatio,(r=t.surface)==null||r.deleteLater(),t.surface=t.Raptor.MakeOnScreenGLSurface(t.gr,t.canvasElement.width,t.canvasElement.height,t.Raptor.ColorSpace.SRGB),t.canvasDirty=!0}function bR({path:t,localStore:e,elem:n,width:r,height:o,fontStore:u}){return f2({locateFile:l=>`${t}${l}`}).then(l=>{var E;const h=l.GetWebGLContext(n,{preserveDrawingBuffer:1}),b={gr:l.MakeWebGLContext(h),Raptor:l,canvasElement:n,surface:null,canvasDirty:!1,fileData:{localStore:e,layerAssetsMap:{},layerMap:{},fontProvider:l.TypefaceFontProvider.Make(),fontStore:u,snapshotMap:{},doScale(L){return L*e.getPageScale()},get scale(){return e.getPageScale()},assetMap:new L_(l),paragraphManager:{activeParagraph:null},Raptor:l,hoveredTarget:null,overlay$$:[],overlayFont:null}};G_({libra:b,width:r,height:o}),e.props.doAction=()=>{b.canvasDirty=!0};function S(L){var P;if(b.canvasDirty){b.canvasDirty=!1;try{const O=[...e.getNormalLayerList()],$=e.getPageScale();H_({libra:b,canvas:L,layerList:O,scale:$,page:e.props.getCurrentPage(),...oy({localStore:e,canvasElement:n})})}catch(O){console.error(O)}}(P=b.surface)==null||P.requestAnimationFrame(S)}return(E=b.surface)==null||E.requestAnimationFrame(S),b})}const Di=typeof window<"u"?document.createElement("canvas"):null;let uf=!1;function U_({libra:t,page:e,layerList:n,isThumbnail:r}){if(uf)throw new Error("Offscreen canvas is busy");return uf=!0,new Promise(o=>{if(!Di)throw new Error("Offscreen canvas does not exist");let u=1;Di.width=e.width,Di.height=e.height,r?(Di.width=300,u=300/e.width,Di.height=e.height*u):(u=Math.min(4e3/e.width,4e3/e.height,2),Di.width=e.width*u,Di.height=e.height*u);const c=t.Raptor.MakeWebGLCanvasSurface(Di);c==null||c.drawOnce(l=>{l.clear(t.Raptor.TRANSPARENT),l.save();const h={...t.fileData,scale:u,doScale:g=>g*u};Dy({fileData:h,Raptor:t.Raptor,canvas:l,page:e,layerList:n,scale:u}),l.restore()}),setTimeout(()=>{Di.toBlob(l=>{l&&(uf=!1,o(l))},"image/png",1)},1e3)})}async function SR({libra:t,page:e,layerList:n,filename:r}){const o=await U_({libra:t,page:e,layerList:n,isThumbnail:!1});o&&W_({blob:o,filename:r})}function W_({blob:t,filename:e}){const n=window.URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.href=n,r.download=e,r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)}function Dy({Raptor:t,fileData:e,canvas:n,page:r,layerList:o,scale:u}){const c=g_({Raptor:t,width:r.width*u,height:r.height*u,cornerRadius:0});c&&(c==null||c.deleteLater(),r.fillPaints.forEach(l=>{wo({fill:l,Raptor:t,canvas:n,scaledPath:c,scale:u,paintStyle:null,blendMode:null,layerINFO:{}})})),oc(n,t,e,o,{bounds:R2({x:-9e5/e.scale,y:-9e5/e.scale,width:18e5/e.scale,height:18e5/e.scale}),useSnapshot:!1,tile:null,instanceChain:[]})}function H_({left:t,top:e,libra:n,canvas:r,page:o,layerList:u,scale:c}){r.clear(n.Raptor.TRANSPARENT),r.save(),r.scale(window.devicePixelRatio,window.devicePixelRatio),r.translate(t,e),r.save(),r.clipRect(n.Raptor.XYWHRect(0,0,o.width*c,o.height*c),n.Raptor.ClipOp.Intersect,!0),Dy({Raptor:n.Raptor,canvas:r,page:o,layerList:u,scale:c,fileData:n.fileData}),r.restore(),D_({fileData:n.fileData,canvas:r,options:{enableDrawResizer:!1}}),r.restore()}var z_=Object.defineProperty,j_=Object.getOwnPropertyDescriptor,Gy=(t,e,n,r)=>{for(var o=r>1?void 0:r?j_(e,n):e,u=t.length-1,c;u>=0;u--)(c=t[u])&&(o=(r?c(e,n,o):c(o))||o);return r&&o&&z_(e,n,o),o};class Uy{constructor(e){this.containerAbsoluteTransform=null,this.layerToBeCreated={startWorldPoint:null,endWorldPoint:null},Is(this),this.context=e,this.fileData=e.fileData}get currentPage(){return this.fileData.localStore.props.getCurrentPage()}get topLevelLayerList(){return this.currentPage.children}get layerMap(){return this.fileData.layerMap}get layerToBeCreatedRect(){const e=this,n={left:0,top:0,width:0,height:0};return e&&e.layerToBeCreated.startWorldPoint&&e.layerToBeCreated.endWorldPoint&&(n.left=Math.min(e.layerToBeCreated.startWorldPoint.x,e.layerToBeCreated.endWorldPoint.x),n.top=Math.min(e.layerToBeCreated.startWorldPoint.y,e.layerToBeCreated.endWorldPoint.y),n.width=Math.abs(e.layerToBeCreated.startWorldPoint.x-e.layerToBeCreated.endWorldPoint.x),n.height=Math.abs(e.layerToBeCreated.startWorldPoint.y-e.layerToBeCreated.endWorldPoint.y)),n}}Gy([Ue],Uy.prototype,"layerToBeCreated",2);Gy([mt],Uy.prototype,"layerToBeCreatedRect",1);const V_={PIXI:{}};typeof window<"u"&&rm(()=>import("./pixi-legacy-_fx4_RaV.js"),__vite__mapDeps([0,1,2,3])).then(t=>{V_.PIXI=t});const X_={};typeof window<"u"&&rm(()=>import("./index-Ctga1AvS.js").then(t=>t.i),__vite__mapDeps([4,2,1,5])).then(t=>{X_.ReactQuill=t.default});var Wy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var u="",c=0;c<arguments.length;c++){var l=arguments[c];l&&(u=o(u,r(l)))}return u}function r(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var c="";for(var l in u)e.call(u,l)&&u[l]&&(c=o(c,l));return c}function o(u,c){return c?u?u+" "+c:u+c:u}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Wy);var Y_=Wy.exports;const Jr=Xo(Y_);function or(){return or=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},or.apply(null,arguments)}function Ct(t){"@babel/helpers - typeof";return Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(t)}var K_=Symbol.for("react.element"),Q_=Symbol.for("react.transitional.element"),q_=Symbol.for("react.fragment");function J_(t){return t&&Ct(t)==="object"&&(t.$$typeof===K_||t.$$typeof===Q_)&&t.type===q_}var Pf={},Z_=function(e){};function eT(t,e){}function tT(t,e){}function nT(){Pf={}}function Hy(t,e,n){!e&&!Pf[n]&&(t(!1,n),Pf[n]=!0)}function Bs(t,e){Hy(eT,t,e)}function rT(t,e){Hy(tT,t,e)}Bs.preMessage=Z_;Bs.resetWarned=nT;Bs.noteOnce=rT;function iT(t,e){if(Ct(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ct(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zy(t){var e=iT(t,"string");return Ct(e)=="symbol"?e:e+""}function ze(t,e,n){return(e=zy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cg(Object(n),!0).forEach(function(r){ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lg(t){return t instanceof HTMLElement||t instanceof SVGElement}function oT(t){return t&&Ct(t)==="object"&&lg(t.nativeElement)?t.nativeElement:lg(t)?t:null}function aT(t){var e=oT(t);if(e)return e;if(t instanceof Xt.Component){var n;return(n=Up.findDOMNode)===null||n===void 0?void 0:n.call(Up,t)}return null}var jy={exports:{}},Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=Symbol.for("react.element"),zd=Symbol.for("react.portal"),Lc=Symbol.for("react.fragment"),Pc=Symbol.for("react.strict_mode"),Mc=Symbol.for("react.profiler"),Ic=Symbol.for("react.provider"),kc=Symbol.for("react.context"),sT=Symbol.for("react.server_context"),Rc=Symbol.for("react.forward_ref"),Oc=Symbol.for("react.suspense"),Fc=Symbol.for("react.suspense_list"),Nc=Symbol.for("react.memo"),$c=Symbol.for("react.lazy"),uT=Symbol.for("react.offscreen"),Vy;Vy=Symbol.for("react.module.reference");function Ur(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Hd:switch(t=t.type,t){case Lc:case Mc:case Pc:case Oc:case Fc:return t;default:switch(t=t&&t.$$typeof,t){case sT:case kc:case Rc:case $c:case Nc:case Ic:return t;default:return e}}case zd:return e}}}Ft.ContextConsumer=kc;Ft.ContextProvider=Ic;Ft.Element=Hd;Ft.ForwardRef=Rc;Ft.Fragment=Lc;Ft.Lazy=$c;Ft.Memo=Nc;Ft.Portal=zd;Ft.Profiler=Mc;Ft.StrictMode=Pc;Ft.Suspense=Oc;Ft.SuspenseList=Fc;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(t){return Ur(t)===kc};Ft.isContextProvider=function(t){return Ur(t)===Ic};Ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hd};Ft.isForwardRef=function(t){return Ur(t)===Rc};Ft.isFragment=function(t){return Ur(t)===Lc};Ft.isLazy=function(t){return Ur(t)===$c};Ft.isMemo=function(t){return Ur(t)===Nc};Ft.isPortal=function(t){return Ur(t)===zd};Ft.isProfiler=function(t){return Ur(t)===Mc};Ft.isStrictMode=function(t){return Ur(t)===Pc};Ft.isSuspense=function(t){return Ur(t)===Oc};Ft.isSuspenseList=function(t){return Ur(t)===Fc};Ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lc||t===Mc||t===Pc||t===Oc||t===Fc||t===uT||typeof t=="object"&&t!==null&&(t.$$typeof===$c||t.$$typeof===Nc||t.$$typeof===Ic||t.$$typeof===kc||t.$$typeof===Rc||t.$$typeof===Vy||t.getModuleId!==void 0)};Ft.typeOf=Ur;jy.exports=Ft;var cf=jy.exports;function jd(t,e,n){var r=q.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var cT=Number(q.version.split(".")[0]),Xy=function(e,n){typeof e=="function"?e(n):Ct(e)==="object"&&e&&"current"in e&&(e.current=n)},lT=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.filter(Boolean);return o.length<=1?o[0]:function(u){n.forEach(function(c){Xy(c,u)})}},xR=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return jd(function(){return lT.apply(void 0,n)},n,function(o,u){return o.length!==u.length||o.every(function(c,l){return c!==u[l]})})},Yy=function(e){var n,r;if(!e)return!1;if(Vd(e)&&cT>=19)return!0;var o=cf.isMemo(e)?e.type.type:e.type;return!(typeof o=="function"&&!((n=o.prototype)!==null&&n!==void 0&&n.render)&&o.$$typeof!==cf.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==cf.ForwardRef)};function Vd(t){return q.isValidElement(t)&&!J_(t)}var ER=function(e){return Vd(e)&&Yy(e)},fT=function(e){if(e&&Vd(e)){var n=e;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null};function mi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zy(r.key),r)}}function yi(t,e,n){return e&&fg(t.prototype,e),n&&fg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mf(t,e){return Mf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Mf(t,e)}function Bc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mf(t,e)}function ac(t){return ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ac(t)}function Ky(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ky=function(){return!!t})()}function Uo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dT(t,e){if(e&&(Ct(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uo(t)}function Dc(t){var e=Ky();return function(){var n,r=ac(t);if(e){var o=ac(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dT(this,n)}}function If(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function hT(t){if(Array.isArray(t))return If(t)}function Qy(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xd(t,e){if(t){if(typeof t=="string")return If(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?If(t,e):void 0}}function pT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mr(t){return hT(t)||Qy(t)||Xd(t)||pT()}var qy=function(e){return+setTimeout(e,16)},Jy=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(qy=function(e){return window.requestAnimationFrame(e)},Jy=function(e){return window.cancelAnimationFrame(e)});var dg=0,Yd=new Map;function Zy(t){Yd.delete(t)}var kf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;dg+=1;var r=dg;function o(u){if(u===0)Zy(r),e();else{var c=qy(function(){o(u-1)});Yd.set(r,c)}}return o(n),r};kf.cancel=function(t){var e=Yd.get(t);return Zy(t),Jy(e)};function e0(t){if(Array.isArray(t))return t}function gT(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,u,c,l=[],h=!0,g=!1;try{if(u=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=u.call(n)).done)&&(l.push(r.value),l.length!==e);h=!0);}catch(b){g=!0,o=b}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(g)throw o}}return l}}function t0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function et(t,e){return e0(t)||gT(t,e)||Xd(t,e)||t0()}function Es(t){for(var e=0,n,r=0,o=t.length;o>=4;++r,o-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Vi(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function mT(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var hg="data-rc-order",pg="data-rc-priority",yT="rc-util-key",Rf=new Map;function n0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):yT}function Gc(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function vT(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function Kd(t){return Array.from((Rf.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function r0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Vi())return null;var n=e.csp,r=e.prepend,o=e.priority,u=o===void 0?0:o,c=vT(r),l=c==="prependQueue",h=document.createElement("style");h.setAttribute(hg,c),l&&u&&h.setAttribute(pg,"".concat(u)),n!=null&&n.nonce&&(h.nonce=n==null?void 0:n.nonce),h.innerHTML=t;var g=Gc(e),b=g.firstChild;if(r){if(l){var S=(e.styles||Kd(g)).filter(function(E){if(!["prepend","prependQueue"].includes(E.getAttribute(hg)))return!1;var L=Number(E.getAttribute(pg)||0);return u>=L});if(S.length)return g.insertBefore(h,S[S.length-1].nextSibling),h}g.insertBefore(h,b)}else g.appendChild(h);return h}function i0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Gc(e);return(e.styles||Kd(n)).find(function(r){return r.getAttribute(n0(e))===t})}function o0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=i0(t,e);if(n){var r=Gc(e);r.removeChild(n)}}function wT(t,e){var n=Rf.get(t);if(!n||!mT(document,n)){var r=r0("",e),o=r.parentNode;Rf.set(t,o),t.removeChild(r)}}function Wo(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Gc(n),o=Kd(r),u=Be(Be({},n),{},{styles:o});wT(r,u);var c=i0(e,u);if(c){var l,h;if((l=u.csp)!==null&&l!==void 0&&l.nonce&&c.nonce!==((h=u.csp)===null||h===void 0?void 0:h.nonce)){var g;c.nonce=(g=u.csp)===null||g===void 0?void 0:g.nonce}return c.innerHTML!==t&&(c.innerHTML=t),c}var b=r0(t,u);return b.setAttribute(n0(u),e),b}function bT(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vo(t,e){if(t==null)return{};var n,r,o=bT(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(r=0;r<u.length;r++)n=u[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function ST(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function o(u,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=r.has(u);if(Bs(!h,"Warning: There may be circular references"),h)return!1;if(u===c)return!0;if(n&&l>1)return!1;r.add(u);var g=l+1;if(Array.isArray(u)){if(!Array.isArray(c)||u.length!==c.length)return!1;for(var b=0;b<u.length;b++)if(!o(u[b],c[b],g))return!1;return!0}if(u&&c&&Ct(u)==="object"&&Ct(c)==="object"){var S=Object.keys(u);return S.length!==Object.keys(c).length?!1:S.every(function(E){return o(u[E],c[E],g)})}return!1}return o(t,e)}var xT="%";function Of(t){return t.join(xT)}var ET=function(){function t(e){mi(this,t),ze(this,"instanceId",void 0),ze(this,"cache",new Map),this.instanceId=e}return yi(t,[{key:"get",value:function(n){return this.opGet(Of(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(Of(n),r)}},{key:"opUpdate",value:function(n,r){var o=this.cache.get(n),u=r(o);u===null?this.cache.delete(n):this.cache.set(n,u)}}]),t}(),xa="data-token-hash",Zr="data-css-hash",bo="__cssinjs_instance__";function AT(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Zr,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(o){o[bo]=o[bo]||t,o[bo]===t&&document.head.insertBefore(o,n)});var r={};Array.from(document.querySelectorAll("style[".concat(Zr,"]"))).forEach(function(o){var u=o.getAttribute(Zr);if(r[u]){if(o[bo]===t){var c;(c=o.parentNode)===null||c===void 0||c.removeChild(o)}}else r[u]=!0})}return new ET(t)}var Ds=q.createContext({hashPriority:"low",cache:AT(),defaultCache:!0});function CT(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var Qd=function(){function t(){mi(this,t),ze(this,"cache",void 0),ze(this,"keys",void 0),ze(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return yi(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,o,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c={map:this.cache};return n.forEach(function(l){if(!c)c=void 0;else{var h;c=(h=c)===null||h===void 0||(h=h.map)===null||h===void 0?void 0:h.get(l)}}),(r=c)!==null&&r!==void 0&&r.value&&u&&(c.value[1]=this.cacheCallTimes++),(o=c)===null||o===void 0?void 0:o.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var o=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var u=this.keys.reduce(function(g,b){var S=et(g,2),E=S[1];return o.internalGet(b)[1]<E?[b,o.internalGet(b)[1]]:g},[this.keys[0],this.cacheCallTimes]),c=et(u,1),l=c[0];this.delete(l)}this.keys.push(n)}var h=this.cache;n.forEach(function(g,b){if(b===n.length-1)h.set(g,{value:[r,o.cacheCallTimes++]});else{var S=h.get(g);S?S.map||(S.map=new Map):h.set(g,{map:new Map}),h=h.get(g).map}})}},{key:"deleteByPath",value:function(n,r){var o=n.get(r[0]);if(r.length===1){var u;return o.map?n.set(r[0],{map:o.map}):n.delete(r[0]),(u=o.value)===null||u===void 0?void 0:u[0]}var c=this.deleteByPath(o.map,r.slice(1));return(!o.map||o.map.size===0)&&!o.value&&n.delete(r[0]),c}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!CT(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();ze(Qd,"MAX_CACHE_SIZE",20);ze(Qd,"MAX_CACHE_OFFSET",5);var gg=0,a0=function(){function t(e){mi(this,t),ze(this,"derivatives",void 0),ze(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=gg,e.length===0&&(e.length>0,void 0),gg+=1}return yi(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,o){return o(n,r)},void 0)}}]),t}(),lf=new Qd;function Ff(t){var e=Array.isArray(t)?t:[t];return lf.has(e)||lf.set(e,new a0(e)),lf.get(e)}var _T=new WeakMap,ff={};function TT(t,e){for(var n=_T,r=0;r<e.length;r+=1){var o=e[r];n.has(o)||n.set(o,new WeakMap),n=n.get(o)}return n.has(ff)||n.set(ff,t()),n.get(ff)}var mg=new WeakMap;function bs(t){var e=mg.get(t)||"";return e||(Object.keys(t).forEach(function(n){var r=t[n];e+=n,r instanceof a0?e+=r.id:r&&Ct(r)==="object"?e+=bs(r):e+=r}),e=Es(e),mg.set(t,e)),e}function yg(t,e){return Es("".concat(e,"_").concat(bs(t)))}var Nf=Vi();function $f(t){return typeof t=="number"?"".concat(t,"px"):t}function sc(t,e,n){var r,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(u)return t;var c=Be(Be({},o),{},(r={},ze(r,xa,e),ze(r,Zr,n),r)),l=Object.keys(c).map(function(h){var g=c[h];return g?"".concat(h,'="').concat(g,'"'):null}).filter(function(h){return h}).join(" ");return"<style ".concat(l,">").concat(t,"</style>")}var Ku=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},LT=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(o){var u=et(o,2),c=u[0],l=u[1];return"".concat(c,":").concat(l,";")}).join(""),"}"):""},s0=function(e,n,r){var o={},u={};return Object.entries(e).forEach(function(c){var l,h,g=et(c,2),b=g[0],S=g[1];if(r!=null&&(l=r.preserve)!==null&&l!==void 0&&l[b])u[b]=S;else if((typeof S=="string"||typeof S=="number")&&!(r!=null&&(h=r.ignore)!==null&&h!==void 0&&h[b])){var E,L=Ku(b,r==null?void 0:r.prefix);o[L]=typeof S=="number"&&!(r!=null&&(E=r.unitless)!==null&&E!==void 0&&E[b])?"".concat(S,"px"):String(S),u[b]="var(".concat(L,")")}}),[u,LT(o,n,{scope:r==null?void 0:r.scope})]},vg=Vi()?q.useLayoutEffect:q.useEffect,u0=function(e,n){var r=q.useRef(!0);vg(function(){return e(r.current)},n),vg(function(){return r.current=!1,function(){r.current=!0}},[])},AR=function(e,n){u0(function(r){if(!r)return e()},n)},PT=Be({},hd),wg=PT.useInsertionEffect,MT=function(e,n,r){q.useMemo(e,r),u0(function(){return n(!0)},r)},IT=wg?function(t,e,n){return wg(function(){return t(),e()},n)}:MT,kT=Be({},hd),RT=kT.useInsertionEffect,OT=function(e){var n=[],r=!1;function o(u){r||n.push(u)}return q.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(u){return u()})}},e),o},FT=function(){return function(e){e()}},NT=typeof RT<"u"?OT:FT;function qd(t,e,n,r,o){var u=q.useContext(Ds),c=u.cache,l=[t].concat(mr(e)),h=Of(l),g=NT([h]),b=function(P){c.opUpdate(h,function(O){var $=O||[void 0,void 0],H=et($,2),X=H[0],W=X===void 0?0:X,te=H[1],oe=te,re=oe||n(),he=[W,re];return P?P(he):he})};q.useMemo(function(){b()},[h]);var S=c.opGet(h),E=S[1];return IT(function(){o==null||o(E)},function(L){return b(function(P){var O=et(P,2),$=O[0],H=O[1];return L&&$===0&&(o==null||o(E)),[$+1,H]}),function(){c.opUpdate(h,function(P){var O=P||[],$=et(O,2),H=$[0],X=H===void 0?0:H,W=$[1],te=X-1;return te===0?(g(function(){(L||!c.opGet(h))&&(r==null||r(W,!1))}),null):[X-1,W]})}},[h]),E}var $T={},BT="css",Bo=new Map;function DT(t){Bo.set(t,(Bo.get(t)||0)+1)}function GT(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(xa,'="').concat(t,'"]'));n.forEach(function(r){if(r[bo]===e){var o;(o=r.parentNode)===null||o===void 0||o.removeChild(r)}})}}var UT=0;function WT(t,e){Bo.set(t,(Bo.get(t)||0)-1);var n=Array.from(Bo.keys()),r=n.filter(function(o){var u=Bo.get(o)||0;return u<=0});n.length-r.length>UT&&r.forEach(function(o){GT(o,e),Bo.delete(o)})}var HT=function(e,n,r,o){var u=r.getDerivativeToken(e),c=Be(Be({},u),n);return o&&(c=o(c)),c},c0="token";function zT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=q.useContext(Ds),o=r.cache.instanceId,u=r.container,c=n.salt,l=c===void 0?"":c,h=n.override,g=h===void 0?$T:h,b=n.formatToken,S=n.getComputedToken,E=n.cssVar,L=TT(function(){return Object.assign.apply(Object,[{}].concat(mr(e)))},e),P=bs(L),O=bs(g),$=E?bs(E):"",H=qd(c0,[l,t.id,P,O,$],function(){var X,W=S?S(L,g,t):HT(L,g,t,b),te=Be({},W),oe="";if(E){var re=s0(W,E.key,{prefix:E.prefix,ignore:E.ignore,unitless:E.unitless,preserve:E.preserve}),he=et(re,2);W=he[0],oe=he[1]}var Ae=yg(W,l);W._tokenKey=Ae,te._tokenKey=yg(te,l);var J=(X=E==null?void 0:E.key)!==null&&X!==void 0?X:Ae;W._themeKey=J,DT(J);var pe="".concat(BT,"-").concat(Es(Ae));return W._hashId=pe,[W,pe,te,oe,(E==null?void 0:E.key)||""]},function(X){WT(X[0]._themeKey,o)},function(X){var W=et(X,4),te=W[0],oe=W[3];if(E&&oe){var re=Wo(oe,Es("css-variables-".concat(te._themeKey)),{mark:Zr,prepend:"queue",attachTo:u,priority:-999});re[bo]=o,re.setAttribute(xa,te._themeKey)}});return H}var jT=function(e,n,r){var o=et(e,5),u=o[2],c=o[3],l=o[4],h=r||{},g=h.plain;if(!c)return null;var b=u._tokenKey,S=-999,E={"data-rc-order":"prependQueue","data-rc-priority":"".concat(S)},L=sc(c,l,b,E,g);return[S,b,L]},VT={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},l0="comm",f0="rule",d0="decl",XT="@import",YT="@namespace",KT="@keyframes",QT="@layer",h0=Math.abs,Jd=String.fromCharCode;function p0(t){return t.trim()}function Qu(t,e,n){return t.replace(e,n)}function qT(t,e,n){return t.indexOf(e,n)}function ba(t,e){return t.charCodeAt(e)|0}function Ea(t,e,n){return t.slice(e,n)}function hi(t){return t.length}function JT(t){return t.length}function Du(t,e){return e.push(t),t}var Uc=1,Aa=1,g0=0,Gr=0,vn=0,La="";function Zd(t,e,n,r,o,u,c,l){return{value:t,root:e,parent:n,type:r,props:o,children:u,line:Uc,column:Aa,length:c,return:"",siblings:l}}function ZT(){return vn}function eL(){return vn=Gr>0?ba(La,--Gr):0,Aa--,vn===10&&(Aa=1,Uc--),vn}function ei(){return vn=Gr<g0?ba(La,Gr++):0,Aa++,vn===10&&(Aa=1,Uc++),vn}function So(){return ba(La,Gr)}function qu(){return Gr}function Wc(t,e){return Ea(La,t,e)}function As(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tL(t){return Uc=Aa=1,g0=hi(La=t),Gr=0,[]}function nL(t){return La="",t}function df(t){return p0(Wc(Gr-1,Bf(t===91?t+2:t===40?t+1:t)))}function rL(t){for(;(vn=So())&&vn<33;)ei();return As(t)>2||As(vn)>3?"":" "}function iL(t,e){for(;--e&&ei()&&!(vn<48||vn>102||vn>57&&vn<65||vn>70&&vn<97););return Wc(t,qu()+(e<6&&So()==32&&ei()==32))}function Bf(t){for(;ei();)switch(vn){case t:return Gr;case 34:case 39:t!==34&&t!==39&&Bf(vn);break;case 40:t===41&&Bf(t);break;case 92:ei();break}return Gr}function oL(t,e){for(;ei()&&t+vn!==57;)if(t+vn===84&&So()===47)break;return"/*"+Wc(e,Gr-1)+"*"+Jd(t===47?t:ei())}function aL(t){for(;!As(So());)ei();return Wc(t,Gr)}function sL(t){return nL(Ju("",null,null,null,[""],t=tL(t),0,[0],t))}function Ju(t,e,n,r,o,u,c,l,h){for(var g=0,b=0,S=c,E=0,L=0,P=0,O=1,$=1,H=1,X=0,W="",te=o,oe=u,re=r,he=W;$;)switch(P=X,X=ei()){case 40:if(P!=108&&ba(he,S-1)==58){qT(he+=Qu(df(X),"&","&\f"),"&\f",h0(g?l[g-1]:0))!=-1&&(H=-1);break}case 34:case 39:case 91:he+=df(X);break;case 9:case 10:case 13:case 32:he+=rL(P);break;case 92:he+=iL(qu()-1,7);continue;case 47:switch(So()){case 42:case 47:Du(uL(oL(ei(),qu()),e,n,h),h),(As(P||1)==5||As(So()||1)==5)&&hi(he)&&Ea(he,-1,void 0)!==" "&&(he+=" ");break;default:he+="/"}break;case 123*O:l[g++]=hi(he)*H;case 125*O:case 59:case 0:switch(X){case 0:case 125:$=0;case 59+b:H==-1&&(he=Qu(he,/\f/g,"")),L>0&&(hi(he)-S||O===0&&P===47)&&Du(L>32?Sg(he+";",r,n,S-1,h):Sg(Qu(he," ","")+";",r,n,S-2,h),h);break;case 59:he+=";";default:if(Du(re=bg(he,e,n,g,b,o,l,W,te=[],oe=[],S,u),u),X===123)if(b===0)Ju(he,e,re,re,te,u,S,l,oe);else{switch(E){case 99:if(ba(he,3)===110)break;case 108:if(ba(he,2)===97)break;default:b=0;case 100:case 109:case 115:}b?Ju(t,re,re,r&&Du(bg(t,re,re,0,0,o,l,W,o,te=[],S,oe),oe),o,oe,S,l,r?te:oe):Ju(he,re,re,re,[""],oe,0,l,oe)}}g=b=L=0,O=H=1,W=he="",S=c;break;case 58:S=1+hi(he),L=P;default:if(O<1){if(X==123)--O;else if(X==125&&O++==0&&eL()==125)continue}switch(he+=Jd(X),X*O){case 38:H=b>0?1:(he+="\f",-1);break;case 44:l[g++]=(hi(he)-1)*H,H=1;break;case 64:So()===45&&(he+=df(ei())),E=So(),b=S=hi(W=he+=aL(qu())),X++;break;case 45:P===45&&hi(he)==2&&(O=0)}}return u}function bg(t,e,n,r,o,u,c,l,h,g,b,S){for(var E=o-1,L=o===0?u:[""],P=JT(L),O=0,$=0,H=0;O<r;++O)for(var X=0,W=Ea(t,E+1,E=h0($=c[O])),te=t;X<P;++X)(te=p0($>0?L[X]+" "+W:Qu(W,/&\f/g,L[X])))&&(h[H++]=te);return Zd(t,e,n,o===0?f0:l,h,g,b,S)}function uL(t,e,n,r){return Zd(t,e,n,l0,Jd(ZT()),Ea(t,2,-2),0,r)}function Sg(t,e,n,r,o){return Zd(t,e,n,d0,Ea(t,0,r),Ea(t,r+1,-1),r,o)}function Df(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function cL(t,e,n,r){switch(t.type){case QT:if(t.children.length)break;case XT:case YT:case d0:return t.return=t.return||t.value;case l0:return"";case KT:return t.return=t.value+"{"+Df(t.children,r)+"}";case f0:if(!hi(t.value=t.props.join(",")))return""}return hi(n=Df(t.children,r))?t.return=t.value+"{"+n+"}":""}var xg="data-ant-cssinjs-cache-path",m0="_FILE_STYLE__",Ho,y0=!0;function lL(){if(!Ho&&(Ho={},Vi())){var t=document.createElement("div");t.className=xg,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(o){var u=o.split(":"),c=et(u,2),l=c[0],h=c[1];Ho[l]=h});var n=document.querySelector("style[".concat(xg,"]"));if(n){var r;y0=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function fL(t){return lL(),!!Ho[t]}function dL(t){var e=Ho[t],n=null;if(e&&Vi())if(y0)n=m0;else{var r=document.querySelector("style[".concat(Zr,'="').concat(Ho[t],'"]'));r?n=r.innerHTML:delete Ho[t]}return[n,e]}var hL="_skip_check_",v0="_multi_value_";function Zu(t){var e=Df(sL(t),cL);return e.replace(/\{%%%\:[^;];}/g,";")}function pL(t){return Ct(t)==="object"&&t&&(hL in t||v0 in t)}function Eg(t,e,n){if(!e)return t;var r=".".concat(e),o=n==="low"?":where(".concat(r,")"):r,u=t.split(",").map(function(c){var l,h=c.trim().split(/\s+/),g=h[0]||"",b=((l=g.match(/^\w+/))===null||l===void 0?void 0:l[0])||"";return g="".concat(b).concat(o).concat(g.slice(b.length)),[g].concat(mr(h.slice(1))).join(" ")});return u.join(",")}var gL=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},o=r.root,u=r.injectHash,c=r.parentSelectors,l=n.hashId,h=n.layer;n.path;var g=n.hashPriority,b=n.transformers,S=b===void 0?[]:b;n.linters;var E="",L={};function P(H){var X=H.getName(l);if(!L[X]){var W=t(H.style,n,{root:!1,parentSelectors:c}),te=et(W,1),oe=te[0];L[X]="@keyframes ".concat(H.getName(l)).concat(oe)}}function O(H){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return H.forEach(function(W){Array.isArray(W)?O(W,X):W&&X.push(W)}),X}var $=O(Array.isArray(e)?e:[e]);return $.forEach(function(H){var X=typeof H=="string"&&!o?{}:H;if(typeof X=="string")E+="".concat(X,`
`);else if(X._keyframe)P(X);else{var W=S.reduce(function(te,oe){var re;return(oe==null||(re=oe.visit)===null||re===void 0?void 0:re.call(oe,te))||te},X);Object.keys(W).forEach(function(te){var oe=W[te];if(Ct(oe)==="object"&&oe&&(te!=="animationName"||!oe._keyframe)&&!pL(oe)){var re=!1,he=te.trim(),Ae=!1;(o||u)&&l?he.startsWith("@")?re=!0:he==="&"?he=Eg("",l,g):he=Eg(te,l,g):o&&!l&&(he==="&"||he==="")&&(he="",Ae=!0);var J=t(oe,n,{root:Ae,injectHash:re,parentSelectors:[].concat(mr(c),[he])}),pe=et(J,2),ae=pe[0],Ie=pe[1];L=Be(Be({},L),Ie),E+="".concat(he).concat(ae)}else{let Xe=function(se,ne){var de=se.replace(/[A-Z]/g,function(ke){return"-".concat(ke.toLowerCase())}),Te=ne;!VT[se]&&typeof Te=="number"&&Te!==0&&(Te="".concat(Te,"px")),se==="animationName"&&ne!==null&&ne!==void 0&&ne._keyframe&&(P(ne),Te=ne.getName(l)),E+="".concat(de,":").concat(Te,";")};var Fe,_e=(Fe=oe==null?void 0:oe.value)!==null&&Fe!==void 0?Fe:oe;Ct(oe)==="object"&&oe!==null&&oe!==void 0&&oe[v0]&&Array.isArray(_e)?_e.forEach(function(se){Xe(te,se)}):Xe(te,_e)}})}}),o?h&&(E&&(E="@layer ".concat(h.name," {").concat(E,"}")),h.dependencies&&(L["@layer ".concat(h.name)]=h.dependencies.map(function(H){return"@layer ".concat(H,", ").concat(h.name,";")}).join(`
`))):E="{".concat(E,"}"),[E,L]};function w0(t,e){return Es("".concat(t.join("%")).concat(e))}function mL(){return null}var b0="style";function Gf(t,e){var n=t.token,r=t.path,o=t.hashId,u=t.layer,c=t.nonce,l=t.clientOnly,h=t.order,g=h===void 0?0:h,b=q.useContext(Ds),S=b.autoClear;b.mock;var E=b.defaultCache,L=b.hashPriority,P=b.container,O=b.ssrInline,$=b.transformers,H=b.linters,X=b.cache,W=b.layer,te=n._tokenKey,oe=[te];W&&oe.push("layer"),oe.push.apply(oe,mr(r));var re=Nf,he=qd(b0,oe,function(){var Ie=oe.join("|");if(fL(Ie)){var Fe=dL(Ie),_e=et(Fe,2),Xe=_e[0],se=_e[1];if(Xe)return[Xe,te,se,{},l,g]}var ne=e(),de=gL(ne,{hashId:o,hashPriority:L,layer:W?u:void 0,path:r.join("-"),transformers:$,linters:H}),Te=et(de,2),ke=Te[0],Ee=Te[1],Re=Zu(ke),ot=w0(oe,Re);return[Re,te,ot,Ee,l,g]},function(Ie,Fe){var _e=et(Ie,3),Xe=_e[2];(Fe||S)&&Nf&&o0(Xe,{mark:Zr})},function(Ie){var Fe=et(Ie,4),_e=Fe[0];Fe[1];var Xe=Fe[2],se=Fe[3];if(re&&_e!==m0){var ne={mark:Zr,prepend:W?!1:"queue",attachTo:P,priority:g},de=typeof c=="function"?c():c;de&&(ne.csp={nonce:de});var Te=[],ke=[];Object.keys(se).forEach(function(Re){Re.startsWith("@layer")?Te.push(Re):ke.push(Re)}),Te.forEach(function(Re){Wo(Zu(se[Re]),"_layer-".concat(Re),Be(Be({},ne),{},{prepend:!0}))});var Ee=Wo(_e,Xe,ne);Ee[bo]=X.instanceId,Ee.setAttribute(xa,te),ke.forEach(function(Re){Wo(Zu(se[Re]),"_effect-".concat(Re),ne)})}}),Ae=et(he,3),J=Ae[0],pe=Ae[1],ae=Ae[2];return function(Ie){var Fe;if(!O||re||!E)Fe=q.createElement(mL,null);else{var _e;Fe=q.createElement("style",or({},(_e={},ze(_e,xa,pe),ze(_e,Zr,ae),_e),{dangerouslySetInnerHTML:{__html:J}}))}return q.createElement(q.Fragment,null,Fe,Ie)}}var yL=function(e,n,r){var o=et(e,6),u=o[0],c=o[1],l=o[2],h=o[3],g=o[4],b=o[5],S=r||{},E=S.plain;if(g)return null;var L=u,P={"data-rc-order":"prependQueue","data-rc-priority":"".concat(b)};return L=sc(u,c,l,P,E),h&&Object.keys(h).forEach(function(O){if(!n[O]){n[O]=!0;var $=Zu(h[O]),H=sc($,c,"_effect-".concat(O),P,E);O.startsWith("@layer")?L=H+L:L+=H}}),[b,l,L]},S0="cssVar",vL=function(e,n){var r=e.key,o=e.prefix,u=e.unitless,c=e.ignore,l=e.token,h=e.scope,g=h===void 0?"":h,b=q.useContext(Ds),S=b.cache.instanceId,E=b.container,L=l._tokenKey,P=[].concat(mr(e.path),[r,g,L]),O=qd(S0,P,function(){var $=n(),H=s0($,r,{prefix:o,unitless:u,ignore:c,scope:g}),X=et(H,2),W=X[0],te=X[1],oe=w0(P,te);return[W,te,oe,r]},function($){var H=et($,3),X=H[2];Nf&&o0(X,{mark:Zr})},function($){var H=et($,3),X=H[1],W=H[2];if(X){var te=Wo(X,W,{mark:Zr,prepend:"queue",attachTo:E,priority:-999});te[bo]=S,te.setAttribute(xa,r)}});return O},wL=function(e,n,r){var o=et(e,4),u=o[1],c=o[2],l=o[3],h=r||{},g=h.plain;if(!u)return null;var b=-999,S={"data-rc-order":"prependQueue","data-rc-priority":"".concat(b)},E=sc(u,l,c,S,g);return[b,c,E]},ms;ms={},ze(ms,b0,yL),ze(ms,c0,jT),ze(ms,S0,wL);var Ag=function(){function t(e,n){mi(this,t),ze(this,"name",void 0),ze(this,"style",void 0),ze(this,"_keyframe",!0),this.name=e,this.style=n}return yi(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function ga(t){return t.notSplit=!0,t}ga(["borderTop","borderBottom"]),ga(["borderTop"]),ga(["borderBottom"]),ga(["borderLeft","borderRight"]),ga(["borderLeft"]),ga(["borderRight"]);var eh=q.createContext({});function bL(t){return e0(t)||Qy(t)||Xd(t)||t0()}function Uf(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function x0(t,e,n,r){if(!e.length)return n;var o=bL(e),u=o[0],c=o.slice(1),l;return!t&&typeof u=="number"?l=[]:Array.isArray(t)?l=mr(t):l=Be({},t),r&&n===void 0&&c.length===1?delete l[u][c[0]]:l[u]=x0(l[u],c,n,r),l}function hf(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!Uf(t,e.slice(0,-1))?t:x0(t,e,n,r)}function SL(t){return Ct(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function Cg(t){return Array.isArray(t)?[]:{}}var xL=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function EL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Cg(e[0]);return e.forEach(function(o){function u(c,l){var h=new Set(l),g=Uf(o,c),b=Array.isArray(g);if(b||SL(g)){if(!h.has(g)){h.add(g);var S=Uf(r,c);b?r=hf(r,c,[]):(!S||Ct(S)!=="object")&&(r=hf(r,c,Cg(g))),xL(g).forEach(function(E){u([].concat(mr(c),[E]),h)})}}else r=hf(r,c,g)}u([])}),r}function AL(){}const CL=q.createContext({}),E0=()=>{const t=()=>{};return t.deprecated=AL,t},_L=q.createContext(void 0);var TL={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},LL={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},PL=Be(Be({},LL),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const A0={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},_g={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},PL),timePickerLocale:Object.assign({},A0)},Cr="${label} is not a valid ${type}",Hc={locale:"en",Pagination:TL,DatePicker:_g,TimePicker:A0,Calendar:_g,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Cr,method:Cr,array:Cr,object:Cr,number:Cr,date:Cr,boolean:Cr,integer:Cr,float:Cr,regexp:Cr,email:Cr,url:Cr,hex:Cr},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let ec=Object.assign({},Hc.Modal),tc=[];const Tg=()=>tc.reduce((t,e)=>Object.assign(Object.assign({},t),e),Hc.Modal);function ML(t){if(t){const e=Object.assign({},t);return tc.push(e),ec=Tg(),()=>{tc=tc.filter(n=>n!==e),ec=Tg()}}ec=Object.assign({},Hc.Modal)}function CR(){return ec}const C0=q.createContext(void 0),IL="internalMark",kL=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;q.useEffect(()=>ML(e==null?void 0:e.Modal),[e]);const o=q.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return q.createElement(C0.Provider,{value:o},n)},_0={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Cs=Object.assign(Object.assign({},_0),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Pn=Math.round;function pf(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(o=>parseFloat(o));for(let o=0;o<3;o+=1)r[o]=e(r[o]||0,n[o]||"",o);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Lg=(t,e,n)=>n===0?t:t/100;function ys(t,e){const n=e||255;return t>n?n:t<0?0:t}class dn{constructor(e){ze(this,"isValid",!0),ze(this,"r",0),ze(this,"g",0),ze(this,"b",0),ze(this,"a",1),ze(this,"_h",void 0),ze(this,"_s",void 0),ze(this,"_l",void 0),ze(this,"_v",void 0),ze(this,"_max",void 0),ze(this,"_min",void 0),ze(this,"_brightness",void 0);function n(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let o=function(u){return r.startsWith(u)};const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):o("rgb")?this.fromRgbString(r):o("hsl")?this.fromHslString(r):(o("hsv")||o("hsb"))&&this.fromHsvString(r)}else if(e instanceof dn)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=ys(e.r),this.g=ys(e.g),this.b=ys(e.b),this.a=typeof e.a=="number"?ys(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(u){const c=u/255;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),o=e(this.b);return .2126*n+.7152*r+.0722*o}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Pn(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let o=this.getLightness()-e/100;return o<0&&(o=0),this._c({h:n,s:r,l:o,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let o=this.getLightness()+e/100;return o>1&&(o=1),this._c({h:n,s:r,l:o,a:this.a})}mix(e,n=50){const r=this._c(e),o=n/100,u=l=>(r[l]-this[l])*o+this[l],c={r:Pn(u("r")),g:Pn(u("g")),b:Pn(u("b")),a:Pn(u("a")*100)/100};return this._c(c)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),o=u=>Pn((this[u]*this.a+n[u]*n.a*(1-this.a))/r);return this._c({r:o("r"),g:o("g"),b:o("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const o=(this.b||0).toString(16);if(e+=o.length===2?o:"0"+o,typeof this.a=="number"&&this.a>=0&&this.a<1){const u=Pn(this.a*255).toString(16);e+=u.length===2?u:"0"+u}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=Pn(this.getSaturation()*100),r=Pn(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const o=this.clone();return o[e]=ys(n,r),o}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(o,u){return parseInt(n[o]+n[u||o],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:o}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof o=="number"?o:1,n<=0){const E=Pn(r*255);this.r=E,this.g=E,this.b=E}let u=0,c=0,l=0;const h=e/60,g=(1-Math.abs(2*r-1))*n,b=g*(1-Math.abs(h%2-1));h>=0&&h<1?(u=g,c=b):h>=1&&h<2?(u=b,c=g):h>=2&&h<3?(c=g,l=b):h>=3&&h<4?(c=b,l=g):h>=4&&h<5?(u=b,l=g):h>=5&&h<6&&(u=g,l=b);const S=r-g/2;this.r=Pn((u+S)*255),this.g=Pn((c+S)*255),this.b=Pn((l+S)*255)}fromHsv({h:e,s:n,v:r,a:o}){this._h=e%360,this._s=n,this._v=r,this.a=typeof o=="number"?o:1;const u=Pn(r*255);if(this.r=u,this.g=u,this.b=u,n<=0)return;const c=e/60,l=Math.floor(c),h=c-l,g=Pn(r*(1-n)*255),b=Pn(r*(1-n*h)*255),S=Pn(r*(1-n*(1-h))*255);switch(l){case 0:this.g=S,this.b=g;break;case 1:this.r=b,this.b=g;break;case 2:this.r=g,this.b=S;break;case 3:this.r=g,this.g=b;break;case 4:this.r=S,this.g=g;break;case 5:default:this.g=g,this.b=b;break}}fromHsvString(e){const n=pf(e,Lg);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=pf(e,Lg);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=pf(e,(r,o)=>o.includes("%")?Pn(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var Gu=2,Pg=.16,RL=.05,OL=.05,FL=.15,T0=5,L0=4,NL=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Mg(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-Gu*e:Math.round(t.h)+Gu*e:r=n?Math.round(t.h)+Gu*e:Math.round(t.h)-Gu*e,r<0?r+=360:r>=360&&(r-=360),r}function Ig(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-Pg*e:e===L0?r=t.s+Pg:r=t.s+RL*e,r>1&&(r=1),n&&e===T0&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function kg(t,e,n){var r;return n?r=t.v+OL*e:r=t.v-FL*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function _s(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new dn(t),o=r.toHsv(),u=T0;u>0;u-=1){var c=new dn({h:Mg(o,u,!0),s:Ig(o,u,!0),v:kg(o,u,!0)});n.push(c)}n.push(r);for(var l=1;l<=L0;l+=1){var h=new dn({h:Mg(o,l),s:Ig(o,l),v:kg(o,l)});n.push(h)}return e.theme==="dark"?NL.map(function(g){var b=g.index,S=g.amount;return new dn(e.backgroundColor||"#141414").mix(n[b],S).toHexString()}):n.map(function(g){return g.toHexString()})}var gf={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Wf=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Wf.primary=Wf[5];var Hf=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Hf.primary=Hf[5];var zf=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];zf.primary=zf[5];var jf=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];jf.primary=jf[5];var Vf=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Vf.primary=Vf[5];var Xf=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Xf.primary=Xf[5];var Yf=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Yf.primary=Yf[5];var Kf=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Kf.primary=Kf[5];var uc=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];uc.primary=uc[5];var Qf=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Qf.primary=Qf[5];var qf=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];qf.primary=qf[5];var Jf=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Jf.primary=Jf[5];var Zf=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Zf.primary=Zf[5];var mf={red:Wf,volcano:Hf,orange:zf,gold:jf,yellow:Vf,lime:Xf,green:Yf,cyan:Kf,blue:uc,geekblue:Qf,purple:qf,magenta:Jf,grey:Zf};function $L(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:o,colorWarning:u,colorError:c,colorInfo:l,colorPrimary:h,colorBgBase:g,colorTextBase:b}=t,S=n(h),E=n(o),L=n(u),P=n(c),O=n(l),$=r(g,b),H=t.colorLink||t.colorInfo,X=n(H),W=new dn(P[1]).mix(new dn(P[3]),50).toHexString();return Object.assign(Object.assign({},$),{colorPrimaryBg:S[1],colorPrimaryBgHover:S[2],colorPrimaryBorder:S[3],colorPrimaryBorderHover:S[4],colorPrimaryHover:S[5],colorPrimary:S[6],colorPrimaryActive:S[7],colorPrimaryTextHover:S[8],colorPrimaryText:S[9],colorPrimaryTextActive:S[10],colorSuccessBg:E[1],colorSuccessBgHover:E[2],colorSuccessBorder:E[3],colorSuccessBorderHover:E[4],colorSuccessHover:E[4],colorSuccess:E[6],colorSuccessActive:E[7],colorSuccessTextHover:E[8],colorSuccessText:E[9],colorSuccessTextActive:E[10],colorErrorBg:P[1],colorErrorBgHover:P[2],colorErrorBgFilledHover:W,colorErrorBgActive:P[3],colorErrorBorder:P[3],colorErrorBorderHover:P[4],colorErrorHover:P[5],colorError:P[6],colorErrorActive:P[7],colorErrorTextHover:P[8],colorErrorText:P[9],colorErrorTextActive:P[10],colorWarningBg:L[1],colorWarningBgHover:L[2],colorWarningBorder:L[3],colorWarningBorderHover:L[4],colorWarningHover:L[4],colorWarning:L[6],colorWarningActive:L[7],colorWarningTextHover:L[8],colorWarningText:L[9],colorWarningTextActive:L[10],colorInfoBg:O[1],colorInfoBgHover:O[2],colorInfoBorder:O[3],colorInfoBorderHover:O[4],colorInfoHover:O[4],colorInfo:O[6],colorInfoActive:O[7],colorInfoTextHover:O[8],colorInfoText:O[9],colorInfoTextActive:O[10],colorLinkHover:X[4],colorLink:X[6],colorLinkActive:X[7],colorBgMask:new dn("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const BL=t=>{let e=t,n=t,r=t,o=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?o=4:t>=8&&(o=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:o}};function DL(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:o}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:o+1},BL(r))}const GL=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function UL(t){return(t+8)/t}function WL(t){const e=Array.from({length:10}).map((n,r)=>{const o=r-1,u=t*Math.pow(Math.E,o/5),c=r>1?Math.floor(u):Math.ceil(u);return Math.floor(c/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:UL(n)}))}const HL=t=>{const e=WL(t),n=e.map(b=>b.size),r=e.map(b=>b.lineHeight),o=n[1],u=n[0],c=n[2],l=r[1],h=r[0],g=r[2];return{fontSizeSM:u,fontSize:o,fontSizeLG:c,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:l,lineHeightLG:g,lineHeightSM:h,fontHeight:Math.round(l*o),fontHeightLG:Math.round(g*c),fontHeightSM:Math.round(h*u),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function zL(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const Or=(t,e)=>new dn(t).setA(e).toRgbString(),vs=(t,e)=>new dn(t).darken(e).toHexString(),jL=t=>{const e=_s(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},VL=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Or(r,.88),colorTextSecondary:Or(r,.65),colorTextTertiary:Or(r,.45),colorTextQuaternary:Or(r,.25),colorFill:Or(r,.15),colorFillSecondary:Or(r,.06),colorFillTertiary:Or(r,.04),colorFillQuaternary:Or(r,.02),colorBgSolid:Or(r,1),colorBgSolidHover:Or(r,.75),colorBgSolidActive:Or(r,.95),colorBgLayout:vs(n,4),colorBgContainer:vs(n,0),colorBgElevated:vs(n,0),colorBgSpotlight:Or(r,.85),colorBgBlur:"transparent",colorBorder:vs(n,15),colorBorderSecondary:vs(n,6)}};function XL(t){gf.pink=gf.magenta,mf.pink=mf.magenta;const e=Object.keys(_0).map(n=>{const r=t[n]===gf[n]?mf[n]:_s(t[n]);return Array.from({length:10},()=>1).reduce((o,u,c)=>(o[`${n}-${c+1}`]=r[c],o[`${n}${c+1}`]=r[c],o),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),$L(t,{generateColorPalettes:jL,generateNeutralColorPalettes:VL})),HL(t.fontSize)),zL(t)),GL(t)),DL(t))}const P0=Ff(XL),ed={token:Cs,override:{override:Cs},hashed:!0},M0=Xt.createContext(ed),td="ant",zc="anticon",_R=["outlined","borderless","filled","underlined"],YL=(t,e)=>e||(t?`${td}-${t}`:td),gi=q.createContext({getPrefixCls:YL,iconPrefixCls:zc}),{Consumer:TR}=gi,Rg={};function LR(t){const e=q.useContext(gi),{getPrefixCls:n,direction:r,getPopupContainer:o}=e,u=e[t];return Object.assign(Object.assign({classNames:Rg,styles:Rg},u),{getPrefixCls:n,direction:r,getPopupContainer:o})}const KL=`-ant-${Date.now()}-${Math.random()}`;function QL(t,e){const n={},r=(c,l)=>{let h=c.clone();return h=(l==null?void 0:l(h))||h,h.toRgbString()},o=(c,l)=>{const h=new dn(c),g=_s(h.toRgbString());n[`${l}-color`]=r(h),n[`${l}-color-disabled`]=g[1],n[`${l}-color-hover`]=g[4],n[`${l}-color-active`]=g[6],n[`${l}-color-outline`]=h.clone().setA(.2).toRgbString(),n[`${l}-color-deprecated-bg`]=g[0],n[`${l}-color-deprecated-border`]=g[2]};if(e.primaryColor){o(e.primaryColor,"primary");const c=new dn(e.primaryColor),l=_s(c.toRgbString());l.forEach((g,b)=>{n[`primary-${b+1}`]=g}),n["primary-color-deprecated-l-35"]=r(c,g=>g.lighten(35)),n["primary-color-deprecated-l-20"]=r(c,g=>g.lighten(20)),n["primary-color-deprecated-t-20"]=r(c,g=>g.tint(20)),n["primary-color-deprecated-t-50"]=r(c,g=>g.tint(50)),n["primary-color-deprecated-f-12"]=r(c,g=>g.setA(g.a*.12));const h=new dn(l[0]);n["primary-color-active-deprecated-f-30"]=r(h,g=>g.setA(g.a*.3)),n["primary-color-active-deprecated-d-02"]=r(h,g=>g.darken(2))}return e.successColor&&o(e.successColor,"success"),e.warningColor&&o(e.warningColor,"warning"),e.errorColor&&o(e.errorColor,"error"),e.infoColor&&o(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(c=>`--${t}-${c}: ${n[c]};`).join(`
`)}
  }
  `.trim()}function qL(t,e){const n=QL(t,e);Vi()&&Wo(n,`${KL}-dynamic-theme`)}const nd=q.createContext(!1),JL=t=>{let{children:e,disabled:n}=t;const r=q.useContext(nd);return q.createElement(nd.Provider,{value:n??r},e)},Ts=q.createContext(void 0),ZL=t=>{let{children:e,size:n}=t;const r=q.useContext(Ts);return q.createElement(Ts.Provider,{value:n||r},e)};function eP(){const t=q.useContext(nd),e=q.useContext(Ts);return{componentDisabled:t,componentSize:e}}var I0=yi(function t(){mi(this,t)}),k0="CALC_UNIT",tP=new RegExp(k0,"g");function yf(t){return typeof t=="number"?"".concat(t).concat(k0):t}var nP=function(t){Bc(n,t);var e=Dc(n);function n(r,o){var u;mi(this,n),u=e.call(this),ze(Uo(u),"result",""),ze(Uo(u),"unitlessCssVar",void 0),ze(Uo(u),"lowPriority",void 0);var c=Ct(r);return u.unitlessCssVar=o,r instanceof n?u.result="(".concat(r.result,")"):c==="number"?u.result=yf(r):c==="string"&&(u.result=r),u}return yi(n,[{key:"add",value:function(o){return o instanceof n?this.result="".concat(this.result," + ").concat(o.getResult()):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," + ").concat(yf(o))),this.lowPriority=!0,this}},{key:"sub",value:function(o){return o instanceof n?this.result="".concat(this.result," - ").concat(o.getResult()):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," - ").concat(yf(o))),this.lowPriority=!0,this}},{key:"mul",value:function(o){return this.lowPriority&&(this.result="(".concat(this.result,")")),o instanceof n?this.result="".concat(this.result," * ").concat(o.getResult(!0)):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," * ").concat(o)),this.lowPriority=!1,this}},{key:"div",value:function(o){return this.lowPriority&&(this.result="(".concat(this.result,")")),o instanceof n?this.result="".concat(this.result," / ").concat(o.getResult(!0)):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," / ").concat(o)),this.lowPriority=!1,this}},{key:"getResult",value:function(o){return this.lowPriority||o?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(o){var u=this,c=o||{},l=c.unit,h=!0;return typeof l=="boolean"?h=l:Array.from(this.unitlessCssVar).some(function(g){return u.result.includes(g)})&&(h=!1),this.result=this.result.replace(tP,h?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(I0),rP=function(t){Bc(n,t);var e=Dc(n);function n(r){var o;return mi(this,n),o=e.call(this),ze(Uo(o),"result",0),r instanceof n?o.result=r.result:typeof r=="number"&&(o.result=r),o}return yi(n,[{key:"add",value:function(o){return o instanceof n?this.result+=o.result:typeof o=="number"&&(this.result+=o),this}},{key:"sub",value:function(o){return o instanceof n?this.result-=o.result:typeof o=="number"&&(this.result-=o),this}},{key:"mul",value:function(o){return o instanceof n?this.result*=o.result:typeof o=="number"&&(this.result*=o),this}},{key:"div",value:function(o){return o instanceof n?this.result/=o.result:typeof o=="number"&&(this.result/=o),this}},{key:"equal",value:function(){return this.result}}]),n}(I0),iP=function(e,n){var r=e==="css"?nP:rP;return function(o){return new r(o,n)}},Og=function(e,n){return"".concat([n,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function rd(t){var e=q.useRef();e.current=t;var n=q.useCallback(function(){for(var r,o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(u))},[]);return n}function id(t){var e=q.useRef(!1),n=q.useState(t),r=et(n,2),o=r[0],u=r[1];q.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function c(l,h){h&&e.current||u(l)}return[o,c]}function Fg(t,e,n,r){var o=Be({},e[t]);if(r!=null&&r.deprecatedTokens){var u=r.deprecatedTokens;u.forEach(function(l){var h=et(l,2),g=h[0],b=h[1];if(o!=null&&o[g]||o!=null&&o[b]){var S;(S=o[b])!==null&&S!==void 0||(o[b]=o==null?void 0:o[g])}})}var c=Be(Be({},n),o);return Object.keys(c).forEach(function(l){c[l]===e[l]&&delete c[l]}),c}var R0=typeof CSSINJS_STATISTIC<"u",od=!0;function th(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!R0)return Object.assign.apply(Object,[{}].concat(e));od=!1;var r={};return e.forEach(function(o){if(Ct(o)==="object"){var u=Object.keys(o);u.forEach(function(c){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:function(){return o[c]}})})}}),od=!0,r}var Ng={};function oP(){}var aP=function(e){var n,r=e,o=oP;return R0&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(e,{get:function(c,l){if(od){var h;(h=n)===null||h===void 0||h.add(l)}return c[l]}}),o=function(c,l){var h;Ng[c]={global:Array.from(n),component:Be(Be({},(h=Ng[c])===null||h===void 0?void 0:h.component),l)}}),{token:r,keys:n,flush:o}};function $g(t,e,n){if(typeof n=="function"){var r;return n(th(e,(r=e[t])!==null&&r!==void 0?r:{}))}return n??{}}function sP(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return"max(".concat(r.map(function(u){return $f(u)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return"min(".concat(r.map(function(u){return $f(u)}).join(","),")")}}}var uP=1e3*60*10,cP=function(){function t(){mi(this,t),ze(this,"map",new Map),ze(this,"objectIDMap",new WeakMap),ze(this,"nextID",0),ze(this,"lastAccessBeat",new Map),ze(this,"accessBeat",0)}return yi(t,[{key:"set",value:function(n,r){this.clear();var o=this.getCompositeKey(n);this.map.set(o,r),this.lastAccessBeat.set(o,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),o=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,o}},{key:"getCompositeKey",value:function(n){var r=this,o=n.map(function(u){return u&&Ct(u)==="object"?"obj_".concat(r.getObjectID(u)):"".concat(Ct(u),"_").concat(u)});return o.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(o,u){r-o>uP&&(n.map.delete(u),n.lastAccessBeat.delete(u))}),this.accessBeat=0}}}]),t}(),Bg=new cP;function lP(t,e){return Xt.useMemo(function(){var n=Bg.get(e);if(n)return n;var r=t();return Bg.set(e,r),r},e)}var fP=function(){return{}};function dP(t){var e=t.useCSP,n=e===void 0?fP:e,r=t.useToken,o=t.usePrefix,u=t.getResetStyles,c=t.getCommonStyle,l=t.getCompUnitless;function h(E,L,P,O){var $=Array.isArray(E)?E[0]:E;function H(Ae){return"".concat(String($)).concat(Ae.slice(0,1).toUpperCase()).concat(Ae.slice(1))}var X=(O==null?void 0:O.unitless)||{},W=typeof l=="function"?l(E):{},te=Be(Be({},W),{},ze({},H("zIndexPopup"),!0));Object.keys(X).forEach(function(Ae){te[H(Ae)]=X[Ae]});var oe=Be(Be({},O),{},{unitless:te,prefixToken:H}),re=b(E,L,P,oe),he=g($,P,oe);return function(Ae){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ae,pe=re(Ae,J),ae=et(pe,2),Ie=ae[1],Fe=he(J),_e=et(Fe,2),Xe=_e[0],se=_e[1];return[Xe,Ie,se]}}function g(E,L,P){var O=P.unitless,$=P.injectStyle,H=$===void 0?!0:$,X=P.prefixToken,W=P.ignore,te=function(he){var Ae=he.rootCls,J=he.cssVar,pe=J===void 0?{}:J,ae=r(),Ie=ae.realToken;return vL({path:[E],prefix:pe.prefix,key:pe.key,unitless:O,ignore:W,token:Ie,scope:Ae},function(){var Fe=$g(E,Ie,L),_e=Fg(E,Ie,Fe,{deprecatedTokens:P==null?void 0:P.deprecatedTokens});return Object.keys(Fe).forEach(function(Xe){_e[X(Xe)]=_e[Xe],delete _e[Xe]}),_e}),null},oe=function(he){var Ae=r(),J=Ae.cssVar;return[function(pe){return H&&J?Xt.createElement(Xt.Fragment,null,Xt.createElement(te,{rootCls:he,cssVar:J,component:E}),pe):pe},J==null?void 0:J.key]};return oe}function b(E,L,P){var O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},$=Array.isArray(E)?E:[E,E],H=et($,1),X=H[0],W=$.join("-"),te=t.layer||{name:"antd"};return function(oe){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oe,he=r(),Ae=he.theme,J=he.realToken,pe=he.hashId,ae=he.token,Ie=he.cssVar,Fe=o(),_e=Fe.rootPrefixCls,Xe=Fe.iconPrefixCls,se=n(),ne=Ie?"css":"js",de=lP(function(){var it=new Set;return Ie&&Object.keys(O.unitless||{}).forEach(function(Ke){it.add(Ku(Ke,Ie.prefix)),it.add(Ku(Ke,Og(X,Ie.prefix)))}),iP(ne,it)},[ne,X,Ie==null?void 0:Ie.prefix]),Te=sP(ne),ke=Te.max,Ee=Te.min,Re={theme:Ae,token:ae,hashId:pe,nonce:function(){return se.nonce},clientOnly:O.clientOnly,layer:te,order:O.order||-999};typeof u=="function"&&Gf(Be(Be({},Re),{},{clientOnly:!1,path:["Shared",_e]}),function(){return u(ae,{prefix:{rootPrefixCls:_e,iconPrefixCls:Xe},csp:se})});var ot=Gf(Be(Be({},Re),{},{path:[W,oe,Xe]}),function(){if(O.injectStyle===!1)return[];var it=aP(ae),Ke=it.token,yt=it.flush,Nt=$g(X,J,P),In=".".concat(oe),an=Fg(X,J,Nt,{deprecatedTokens:O.deprecatedTokens});Ie&&Nt&&Ct(Nt)==="object"&&Object.keys(Nt).forEach(function(wn){Nt[wn]="var(".concat(Ku(wn,Og(X,Ie.prefix)),")")});var pn=th(Ke,{componentCls:In,prefixCls:oe,iconCls:".".concat(Xe),antCls:".".concat(_e),calc:de,max:ke,min:Ee},Ie?Nt:an),Un=L(pn,{hashId:pe,prefixCls:oe,rootPrefixCls:_e,iconPrefixCls:Xe});yt(X,an);var Ut=typeof c=="function"?c(pn,oe,re,O.resetFont):null;return[O.resetStyle===!1?null:Ut,Un]});return[ot,pe]}}function S(E,L,P){var O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},$=b(E,L,P,Be({resetStyle:!1,order:-998},O)),H=function(W){var te=W.prefixCls,oe=W.rootCls,re=oe===void 0?te:oe;return $(te,re),null};return H}return{genStyleHooks:h,genSubStyleComponent:S,genComponentStyleHook:b}}const hP="5.24.5";function vf(t){return t>=0&&t<=255}function Uu(t,e){const{r:n,g:r,b:o,a:u}=new dn(t).toRgb();if(u<1)return t;const{r:c,g:l,b:h}=new dn(e).toRgb();for(let g=.01;g<=1;g+=.01){const b=Math.round((n-c*(1-g))/g),S=Math.round((r-l*(1-g))/g),E=Math.round((o-h*(1-g))/g);if(vf(b)&&vf(S)&&vf(E))return new dn({r:b,g:S,b:E,a:Math.round(g*100)/100}).toRgbString()}return new dn({r:n,g:r,b:o,a:1}).toRgbString()}var pP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function O0(t){const{override:e}=t,n=pP(t,["override"]),r=Object.assign({},e);Object.keys(Cs).forEach(E=>{delete r[E]});const o=Object.assign(Object.assign({},n),r),u=480,c=576,l=768,h=992,g=1200,b=1600;if(o.motion===!1){const E="0s";o.motionDurationFast=E,o.motionDurationMid=E,o.motionDurationSlow=E}return Object.assign(Object.assign(Object.assign({},o),{colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:Uu(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:Uu(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:Uu(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidthFocus:o.lineWidth*3,lineWidth:o.lineWidth,controlOutlineWidth:o.lineWidth*2,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:Uu(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:u,screenXSMin:u,screenXSMax:c-1,screenSM:c,screenSMMin:c,screenSMMax:l-1,screenMD:l,screenMDMin:l,screenMDMax:h-1,screenLG:h,screenLGMin:h,screenLGMax:g-1,screenXL:g,screenXLMin:g,screenXLMax:b-1,screenXXL:b,screenXXLMin:b,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new dn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new dn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new dn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var Dg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const F0={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},gP={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},mP={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},N0=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:o}=e,u=Dg(e,["override"]);let c=Object.assign(Object.assign({},r),{override:o});return c=O0(c),u&&Object.entries(u).forEach(l=>{let[h,g]=l;const{theme:b}=g,S=Dg(g,["theme"]);let E=S;b&&(E=N0(Object.assign(Object.assign({},c),S),{override:S},b)),c[h]=E}),c};function Gs(){const{token:t,hashed:e,theme:n,override:r,cssVar:o}=Xt.useContext(M0),u=`${hP}-${e||""}`,c=n||P0,[l,h,g]=zT(c,[Cs,t],{salt:u,override:r,getComputedToken:N0,formatToken:O0,cssVar:o&&{prefix:o.prefix,key:o.key,unitless:F0,ignore:gP,preserve:mP}});return[c,g,e?h:"",l,o]}const PR={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},yP=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},vP=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),MR=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),wP=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),bP=(t,e,n,r)=>{const o=`[class^="${e}"], [class*=" ${e}"]`,u=n?`.${n}`:o,c={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let l={};return r!==!1&&(l={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[u]:Object.assign(Object.assign(Object.assign({},l),c),{[o]:c})}},SP=(t,e)=>({outline:`${$f(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),IR=(t,e)=>({"&:focus-visible":Object.assign({},SP(t,e))}),$0=t=>({[`.${t}`]:Object.assign(Object.assign({},vP()),{[`.${t} .${t}-icon`]:{display:"block"}})}),{genStyleHooks:xP,genComponentStyleHook:kR,genSubStyleComponent:RR}=dP({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=q.useContext(gi);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,o]=Gs();return{theme:t,realToken:e,hashId:n,token:r,cssVar:o}},useCSP:()=>{const{csp:t}=q.useContext(gi);return t??{}},getResetStyles:(t,e)=>{var n;const r=wP(t);return[r,{"&":r},$0((n=e==null?void 0:e.prefix.iconPrefixCls)!==null&&n!==void 0?n:zc)]},getCommonStyle:bP,getCompUnitless:()=>F0}),EP=(t,e)=>{const[n,r]=Gs();return Gf({token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[$0(t)])},AP=Object.assign({},hd),{useId:Gg}=AP,CP=()=>"",_P=typeof Gg>"u"?CP:Gg;function TP(t,e,n){var r;E0();const o=t||{},u=o.inherit===!1||!e?Object.assign(Object.assign({},ed),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:ed.hashed,cssVar:e==null?void 0:e.cssVar}):e,c=_P();return jd(()=>{var l,h;if(!t)return e;const g=Object.assign({},u.components);Object.keys(t.components||{}).forEach(E=>{g[E]=Object.assign(Object.assign({},g[E]),t.components[E])});const b=`css-var-${c.replace(/:/g,"")}`,S=((l=o.cssVar)!==null&&l!==void 0?l:u.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof u.cssVar=="object"?u.cssVar:{}),typeof o.cssVar=="object"?o.cssVar:{}),{key:typeof o.cssVar=="object"&&((h=o.cssVar)===null||h===void 0?void 0:h.key)||b});return Object.assign(Object.assign(Object.assign({},u),o),{token:Object.assign(Object.assign({},u.token),o.token),components:g,cssVar:S})},[o,u],(l,h)=>l.some((g,b)=>{const S=h[b];return!ST(g,S,!0)}))}var LP=["children"],B0=q.createContext({});function PP(t){var e=t.children,n=Vo(t,LP);return q.createElement(B0.Provider,{value:n},e)}var MP=function(t){Bc(n,t);var e=Dc(n);function n(){return mi(this,n),e.apply(this,arguments)}return yi(n,[{key:"render",value:function(){return this.props.children}}]),n}(q.Component);function IP(t){var e=q.useReducer(function(l){return l+1},0),n=et(e,2),r=n[1],o=q.useRef(t),u=rd(function(){return o.current}),c=rd(function(l){o.current=typeof l=="function"?l(o.current):l,r()});return[u,c]}var yo="none",Wu="appear",Hu="enter",zu="leave",Ug="none",qr="prepare",ma="start",ya="active",nh="end",D0="prepared";function Wg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function kP(t,e){var n={animationend:Wg("Animation","AnimationEnd"),transitionend:Wg("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var RP=kP(Vi(),typeof window<"u"?window:{}),G0={};if(Vi()){var OP=document.createElement("div");G0=OP.style}var ju={};function U0(t){if(ju[t])return ju[t];var e=RP[t];if(e)for(var n=Object.keys(e),r=n.length,o=0;o<r;o+=1){var u=n[o];if(Object.prototype.hasOwnProperty.call(e,u)&&u in G0)return ju[t]=e[u],ju[t]}return""}var W0=U0("animationend"),H0=U0("transitionend"),z0=!!(W0&&H0),Hg=W0||"animationend",zg=H0||"transitionend";function jg(t,e){if(!t)return null;if(Ct(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const FP=function(t){var e=q.useRef();function n(o){o&&(o.removeEventListener(zg,t),o.removeEventListener(Hg,t))}function r(o){e.current&&e.current!==o&&n(e.current),o&&o!==e.current&&(o.addEventListener(zg,t),o.addEventListener(Hg,t),e.current=o)}return q.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var j0=Vi()?q.useLayoutEffect:q.useEffect;const NP=function(){var t=q.useRef(null);function e(){kf.cancel(t.current)}function n(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var u=kf(function(){o<=1?r({isCanceled:function(){return u!==t.current}}):n(r,o-1)});t.current=u}return q.useEffect(function(){return function(){e()}},[]),[n,e]};var $P=[qr,ma,ya,nh],BP=[qr,D0],V0=!1,DP=!0;function X0(t){return t===ya||t===nh}const GP=function(t,e,n){var r=id(Ug),o=et(r,2),u=o[0],c=o[1],l=NP(),h=et(l,2),g=h[0],b=h[1];function S(){c(qr,!0)}var E=e?BP:$P;return j0(function(){if(u!==Ug&&u!==nh){var L=E.indexOf(u),P=E[L+1],O=n(u);O===V0?c(P,!0):P&&g(function($){function H(){$.isCanceled()||c(P,!0)}O===!0?H():Promise.resolve(O).then(H)})}},[t,u]),q.useEffect(function(){return function(){b()}},[]),[S,u]};function UP(t,e,n,r){var o=r.motionEnter,u=o===void 0?!0:o,c=r.motionAppear,l=c===void 0?!0:c,h=r.motionLeave,g=h===void 0?!0:h,b=r.motionDeadline,S=r.motionLeaveImmediately,E=r.onAppearPrepare,L=r.onEnterPrepare,P=r.onLeavePrepare,O=r.onAppearStart,$=r.onEnterStart,H=r.onLeaveStart,X=r.onAppearActive,W=r.onEnterActive,te=r.onLeaveActive,oe=r.onAppearEnd,re=r.onEnterEnd,he=r.onLeaveEnd,Ae=r.onVisibleChanged,J=id(),pe=et(J,2),ae=pe[0],Ie=pe[1],Fe=IP(yo),_e=et(Fe,2),Xe=_e[0],se=_e[1],ne=id(null),de=et(ne,2),Te=de[0],ke=de[1],Ee=Xe(),Re=q.useRef(!1),ot=q.useRef(null);function it(){return n()}var Ke=q.useRef(!1);function yt(){se(yo),ke(null,!0)}var Nt=rd(function(at){var _t=Xe();if(_t!==yo){var en=it();if(!(at&&!at.deadline&&at.target!==en)){var St=Ke.current,Dt;_t===Wu&&St?Dt=oe==null?void 0:oe(en,at):_t===Hu&&St?Dt=re==null?void 0:re(en,at):_t===zu&&St&&(Dt=he==null?void 0:he(en,at)),St&&Dt!==!1&&yt()}}}),In=FP(Nt),an=et(In,1),pn=an[0],Un=function(_t){switch(_t){case Wu:return ze(ze(ze({},qr,E),ma,O),ya,X);case Hu:return ze(ze(ze({},qr,L),ma,$),ya,W);case zu:return ze(ze(ze({},qr,P),ma,H),ya,te);default:return{}}},Ut=q.useMemo(function(){return Un(Ee)},[Ee]),wn=GP(Ee,!t,function(at){if(at===qr){var _t=Ut[qr];return _t?_t(it()):V0}if(Zt in Ut){var en;ke(((en=Ut[Zt])===null||en===void 0?void 0:en.call(Ut,it(),null))||null)}return Zt===ya&&Ee!==yo&&(pn(it()),b>0&&(clearTimeout(ot.current),ot.current=setTimeout(function(){Nt({deadline:!0})},b))),Zt===D0&&yt(),DP}),Wt=et(wn,2),En=Wt[0],Zt=Wt[1],jt=X0(Zt);Ke.current=jt;var Wn=q.useRef(null);j0(function(){if(!(Re.current&&Wn.current===e)){Ie(e);var at=Re.current;Re.current=!0;var _t;!at&&e&&l&&(_t=Wu),at&&e&&u&&(_t=Hu),(at&&!e&&g||!at&&S&&!e&&g)&&(_t=zu);var en=Un(_t);_t&&(t||en[qr])?(se(_t),En()):se(yo),Wn.current=e}},[e]),q.useEffect(function(){(Ee===Wu&&!l||Ee===Hu&&!u||Ee===zu&&!g)&&se(yo)},[l,u,g]),q.useEffect(function(){return function(){Re.current=!1,clearTimeout(ot.current)}},[]);var yr=q.useRef(!1);q.useEffect(function(){ae&&(yr.current=!0),ae!==void 0&&Ee===yo&&((yr.current||ae)&&(Ae==null||Ae(ae)),yr.current=!0)},[ae,Ee]);var gn=Te;return Ut[qr]&&Zt===ma&&(gn=Be({transition:"none"},gn)),[Ee,Zt,gn,ae??e]}function WP(t){var e=t;Ct(t)==="object"&&(e=t.transitionSupport);function n(o,u){return!!(o.motionName&&e&&u!==!1)}var r=q.forwardRef(function(o,u){var c=o.visible,l=c===void 0?!0:c,h=o.removeOnLeave,g=h===void 0?!0:h,b=o.forceRender,S=o.children,E=o.motionName,L=o.leavedClassName,P=o.eventProps,O=q.useContext(B0),$=O.motion,H=n(o,$),X=q.useRef(),W=q.useRef();function te(){try{return X.current instanceof HTMLElement?X.current:aT(W.current)}catch{return null}}var oe=UP(H,l,te,o),re=et(oe,4),he=re[0],Ae=re[1],J=re[2],pe=re[3],ae=q.useRef(pe);pe&&(ae.current=!0);var Ie=q.useCallback(function(de){X.current=de,Xy(u,de)},[u]),Fe,_e=Be(Be({},P),{},{visible:l});if(!S)Fe=null;else if(he===yo)pe?Fe=S(Be({},_e),Ie):!g&&ae.current&&L?Fe=S(Be(Be({},_e),{},{className:L}),Ie):b||!g&&!L?Fe=S(Be(Be({},_e),{},{style:{display:"none"}}),Ie):Fe=null;else{var Xe;Ae===qr?Xe="prepare":X0(Ae)?Xe="active":Ae===ma&&(Xe="start");var se=jg(E,"".concat(he,"-").concat(Xe));Fe=S(Be(Be({},_e),{},{className:Jr(jg(E,he),ze(ze({},se,se&&Xe),E,typeof E=="string")),style:J}),Ie)}if(q.isValidElement(Fe)&&Yy(Fe)){var ne=fT(Fe);ne||(Fe=q.cloneElement(Fe,{ref:Ie}))}return q.createElement(MP,{ref:W},Fe)});return r.displayName="CSSMotion",r}const HP=WP(z0);var ad="add",sd="keep",ud="remove",wf="removed";function zP(t){var e;return t&&Ct(t)==="object"&&"key"in t?e=t:e={key:t},Be(Be({},e),{},{key:String(e.key)})}function cd(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(zP)}function jP(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,o=e.length,u=cd(t),c=cd(e);u.forEach(function(g){for(var b=!1,S=r;S<o;S+=1){var E=c[S];if(E.key===g.key){r<S&&(n=n.concat(c.slice(r,S).map(function(L){return Be(Be({},L),{},{status:ad})})),r=S),n.push(Be(Be({},E),{},{status:sd})),r+=1,b=!0;break}}b||n.push(Be(Be({},g),{},{status:ud}))}),r<o&&(n=n.concat(c.slice(r).map(function(g){return Be(Be({},g),{},{status:ad})})));var l={};n.forEach(function(g){var b=g.key;l[b]=(l[b]||0)+1});var h=Object.keys(l).filter(function(g){return l[g]>1});return h.forEach(function(g){n=n.filter(function(b){var S=b.key,E=b.status;return S!==g||E!==ud}),n.forEach(function(b){b.key===g&&(b.status=sd)})}),n}var VP=["component","children","onVisibleChanged","onAllRemoved"],XP=["status"],YP=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function KP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HP,n=function(r){Bc(u,r);var o=Dc(u);function u(){var c;mi(this,u);for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];return c=o.call.apply(o,[this].concat(h)),ze(Uo(c),"state",{keyEntities:[]}),ze(Uo(c),"removeKey",function(b){c.setState(function(S){var E=S.keyEntities.map(function(L){return L.key!==b?L:Be(Be({},L),{},{status:wf})});return{keyEntities:E}},function(){var S=c.state.keyEntities,E=S.filter(function(L){var P=L.status;return P!==wf}).length;E===0&&c.props.onAllRemoved&&c.props.onAllRemoved()})}),c}return yi(u,[{key:"render",value:function(){var l=this,h=this.state.keyEntities,g=this.props,b=g.component,S=g.children,E=g.onVisibleChanged;g.onAllRemoved;var L=Vo(g,VP),P=b||q.Fragment,O={};return YP.forEach(function($){O[$]=L[$],delete L[$]}),delete L.keys,q.createElement(P,L,h.map(function($,H){var X=$.status,W=Vo($,XP),te=X===ad||X===sd;return q.createElement(e,or({},O,{key:W.key,visible:te,eventProps:W,onVisibleChanged:function(re){E==null||E(re,{key:W.key}),re||l.removeKey(W.key)}}),function(oe,re){return S(Be(Be({},oe),{},{index:H}),re)})}))}}],[{key:"getDerivedStateFromProps",value:function(l,h){var g=l.keys,b=h.keyEntities,S=cd(g),E=jP(b,S);return{keyEntities:E.filter(function(L){var P=b.find(function(O){var $=O.key;return L.key===$});return!(P&&P.status===wf&&L.status===ud)})}}}]),u}(q.Component);return ze(n,"defaultProps",{component:"div"}),n}const QP=KP(z0);function qP(t){const{children:e}=t,[,n]=Gs(),{motion:r}=n,o=q.useRef(!1);return o.current=o.current||r===!1,o.current?q.createElement(PP,{motion:r},e):e}const JP=()=>null;var ZP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const eM=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let cc,Y0,K0,Q0;function nc(){return cc||td}function tM(){return Y0||zc}function nM(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const rM=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:o}=t;e!==void 0&&(cc=e),n!==void 0&&(Y0=n),"holderRender"in t&&(Q0=o),r&&(nM(r)?qL(nc(),r):K0=r)},iM=()=>({getPrefixCls:(t,e)=>e||(t?`${nc()}-${t}`:nc()),getIconPrefixCls:tM,getRootPrefixCls:()=>cc||nc(),getTheme:()=>K0,holderRender:Q0}),oM=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:o,anchor:u,form:c,locale:l,componentSize:h,direction:g,space:b,splitter:S,virtual:E,dropdownMatchSelectWidth:L,popupMatchSelectWidth:P,popupOverflow:O,legacyLocale:$,parentContext:H,iconPrefixCls:X,theme:W,componentDisabled:te,segmented:oe,statistic:re,spin:he,calendar:Ae,carousel:J,cascader:pe,collapse:ae,typography:Ie,checkbox:Fe,descriptions:_e,divider:Xe,drawer:se,skeleton:ne,steps:de,image:Te,layout:ke,list:Ee,mentions:Re,modal:ot,progress:it,result:Ke,slider:yt,breadcrumb:Nt,menu:In,pagination:an,input:pn,textArea:Un,empty:Ut,badge:wn,radio:Wt,rate:En,switch:Zt,transfer:jt,avatar:Wn,message:yr,tag:gn,table:at,card:_t,tabs:en,timeline:St,timePicker:Dt,upload:vt,notification:vi,tree:bn,colorPicker:wi,datePicker:bi,rangePicker:Yi,flex:Ki,wave:Qi,dropdown:qi,warning:Wr,tour:Si,tooltip:Hr,popover:xi,popconfirm:Ia,floatButtonGroup:Ji,variant:ni,inputNumber:vr,treeSelect:Qo}=t,Zi=q.useCallback((Kt,tn)=>{const{prefixCls:An}=t;if(tn)return tn;const kn=An||H.getPrefixCls("");return Kt?`${kn}-${Kt}`:kn},[H.getPrefixCls,t.prefixCls]),ri=X||H.iconPrefixCls||zc,ii=n||H.csp;EP(ri,ii);const eo=TP(W,H.theme,{prefixCls:Zi("")}),Ei={csp:ii,autoInsertSpaceInButton:r,alert:o,anchor:u,locale:l||$,direction:g,space:b,splitter:S,virtual:E,popupMatchSelectWidth:P??L,popupOverflow:O,getPrefixCls:Zi,iconPrefixCls:ri,theme:eo,segmented:oe,statistic:re,spin:he,calendar:Ae,carousel:J,cascader:pe,collapse:ae,typography:Ie,checkbox:Fe,descriptions:_e,divider:Xe,drawer:se,skeleton:ne,steps:de,image:Te,input:pn,textArea:Un,layout:ke,list:Ee,mentions:Re,modal:ot,progress:it,result:Ke,slider:yt,breadcrumb:Nt,menu:In,pagination:an,empty:Ut,badge:wn,radio:Wt,rate:En,switch:Zt,transfer:jt,avatar:Wn,message:yr,tag:gn,table:at,card:_t,tabs:en,timeline:St,timePicker:Dt,upload:vt,notification:vi,tree:bn,colorPicker:wi,datePicker:bi,rangePicker:Yi,flex:Ki,wave:Qi,dropdown:qi,warning:Wr,tour:Si,tooltip:Hr,popover:xi,popconfirm:Ia,floatButtonGroup:Ji,variant:ni,inputNumber:vr,treeSelect:Qo},oi=Object.assign({},H);Object.keys(Ei).forEach(Kt=>{Ei[Kt]!==void 0&&(oi[Kt]=Ei[Kt])}),eM.forEach(Kt=>{const tn=t[Kt];tn&&(oi[Kt]=tn)}),typeof r<"u"&&(oi.button=Object.assign({autoInsertSpace:r},oi.button));const ai=jd(()=>oi,oi,(Kt,tn)=>{const An=Object.keys(Kt),kn=Object.keys(tn);return An.length!==kn.length||An.some(zr=>Kt[zr]!==tn[zr])}),{layer:to}=q.useContext(Ds),ar=q.useMemo(()=>({prefixCls:ri,csp:ii,layer:to?"antd":void 0}),[ri,ii,to]);let Yt=q.createElement(q.Fragment,null,q.createElement(JP,{dropdownMatchSelectWidth:L}),e);const qo=q.useMemo(()=>{var Kt,tn,An,kn;return EL(((Kt=Hc.Form)===null||Kt===void 0?void 0:Kt.defaultValidateMessages)||{},((An=(tn=ai.locale)===null||tn===void 0?void 0:tn.Form)===null||An===void 0?void 0:An.defaultValidateMessages)||{},((kn=ai.form)===null||kn===void 0?void 0:kn.validateMessages)||{},(c==null?void 0:c.validateMessages)||{})},[ai,c==null?void 0:c.validateMessages]);Object.keys(qo).length>0&&(Yt=q.createElement(_L.Provider,{value:qo},Yt)),l&&(Yt=q.createElement(kL,{locale:l,_ANT_MARK__:IL},Yt)),Yt=q.createElement(eh.Provider,{value:ar},Yt),h&&(Yt=q.createElement(ZL,{size:h},Yt)),Yt=q.createElement(qP,null,Yt);const mn=q.useMemo(()=>{const Kt=eo||{},{algorithm:tn,token:An,components:kn,cssVar:zr}=Kt,Jo=ZP(Kt,["algorithm","token","components","cssVar"]),Cn=tn&&(!Array.isArray(tn)||tn.length>0)?Ff(tn):P0,Ai={};Object.entries(kn||{}).forEach(Hn=>{let[ka,Ci]=Hn;const Qn=Object.assign({},Ci);"algorithm"in Qn&&(Qn.algorithm===!0?Qn.theme=Cn:(Array.isArray(Qn.algorithm)||typeof Qn.algorithm=="function")&&(Qn.theme=Ff(Qn.algorithm)),delete Qn.algorithm),Ai[ka]=Qn});const Rn=Object.assign(Object.assign({},Cs),An);return Object.assign(Object.assign({},Jo),{theme:Cn,token:Rn,components:Ai,override:Object.assign({override:Rn},Ai),cssVar:zr})},[eo]);return W&&(Yt=q.createElement(M0.Provider,{value:mn},Yt)),ai.warning&&(Yt=q.createElement(CL.Provider,{value:ai.warning},Yt)),te!==void 0&&(Yt=q.createElement(JL,{disabled:te},Yt)),q.createElement(gi.Provider,{value:ai},Yt)},Pa=t=>{const e=q.useContext(gi),n=q.useContext(C0);return q.createElement(oM,Object.assign({parentContext:e,legacyLocale:n},t))};Pa.ConfigContext=gi;Pa.SizeContext=Ts;Pa.config=rM;Pa.useConfig=eP;Object.defineProperty(Pa,"SizeContext",{get:()=>Ts});var aM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function q0(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function sM(t){return q0(t)instanceof ShadowRoot}function uM(t){return sM(t)?q0(t):null}function cM(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function lM(t,e){Bs(t,"[@ant-design/icons] ".concat(e))}function Vg(t){return Ct(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(Ct(t.icon)==="object"||typeof t.icon=="function")}function Xg(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[cM(n)]=r}return e},{})}function ld(t,e,n){return n?Xt.createElement(t.tag,Be(Be({key:e},Xg(t.attrs)),n),(t.children||[]).map(function(r,o){return ld(r,"".concat(e,"-").concat(t.tag,"-").concat(o))})):Xt.createElement(t.tag,Be({key:e},Xg(t.attrs)),(t.children||[]).map(function(r,o){return ld(r,"".concat(e,"-").concat(t.tag,"-").concat(o))}))}function J0(t){return _s(t)[0]}function Z0(t){return t?Array.isArray(t)?t:[t]:[]}var fM=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,dM=function(e){var n=q.useContext(eh),r=n.csp,o=n.prefixCls,u=n.layer,c=fM;o&&(c=c.replace(/anticon/g,o)),u&&(c="@layer ".concat(u,` {
`).concat(c,`
}`)),q.useEffect(function(){var l=e.current,h=uM(l);Wo(c,"@ant-design-icons",{prepend:!u,csp:r,attachTo:h})},[])},hM=["icon","className","onClick","style","primaryColor","secondaryColor"],Ss={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function pM(t){var e=t.primaryColor,n=t.secondaryColor;Ss.primaryColor=e,Ss.secondaryColor=n||J0(e),Ss.calculated=!!n}function gM(){return Be({},Ss)}var Ma=function(e){var n=e.icon,r=e.className,o=e.onClick,u=e.style,c=e.primaryColor,l=e.secondaryColor,h=Vo(e,hM),g=q.useRef(),b=Ss;if(c&&(b={primaryColor:c,secondaryColor:l||J0(c)}),dM(g),lM(Vg(n),"icon should be icon definiton, but got ".concat(n)),!Vg(n))return null;var S=n;return S&&typeof S.icon=="function"&&(S=Be(Be({},S),{},{icon:S.icon(b.primaryColor,b.secondaryColor)})),ld(S.icon,"svg-".concat(S.name),Be(Be({className:r,onClick:o,style:u,"data-icon":S.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},h),{},{ref:g}))};Ma.displayName="IconReact";Ma.getTwoToneColors=gM;Ma.setTwoToneColors=pM;function ev(t){var e=Z0(t),n=et(e,2),r=n[0],o=n[1];return Ma.setTwoToneColors({primaryColor:r,secondaryColor:o})}function mM(){var t=Ma.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var yM=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];ev(uc.primary);var Xi=q.forwardRef(function(t,e){var n=t.className,r=t.icon,o=t.spin,u=t.rotate,c=t.tabIndex,l=t.onClick,h=t.twoToneColor,g=Vo(t,yM),b=q.useContext(eh),S=b.prefixCls,E=S===void 0?"anticon":S,L=b.rootClassName,P=Jr(L,E,ze(ze({},"".concat(E,"-").concat(r.name),!!r.name),"".concat(E,"-spin"),!!o||r.name==="loading"),n),O=c;O===void 0&&l&&(O=-1);var $=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,H=Z0(h),X=et(H,2),W=X[0],te=X[1];return q.createElement("span",or({role:"img","aria-label":r.name},g,{ref:e,tabIndex:O,onClick:l,className:P}),q.createElement(Ma,{icon:r,primaryColor:W,secondaryColor:te,style:$}))});Xi.displayName="AntdIcon";Xi.getTwoToneColor=mM;Xi.setTwoToneColor=ev;var vM=function(e,n){return q.createElement(Xi,or({},e,{ref:n,icon:aM}))},wM=q.forwardRef(vM),bM={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},SM=function(e,n){return q.createElement(Xi,or({},e,{ref:n,icon:bM}))},xM=q.forwardRef(SM),EM={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},AM=function(e,n){return q.createElement(Xi,or({},e,{ref:n,icon:EM}))},CM=q.forwardRef(AM),_M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},TM=function(e,n){return q.createElement(Xi,or({},e,{ref:n,icon:_M}))},LM=q.forwardRef(TM),PM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},MM=function(e,n){return q.createElement(Xi,or({},e,{ref:n,icon:PM}))},IM=q.forwardRef(MM),kM=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,RM=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,OM="".concat(kM," ").concat(RM).split(/[\s\n]+/),FM="aria-",NM="data-";function Yg(t,e){return t.indexOf(e)===0}function $M(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=Be({},e);var r={};return Object.keys(t).forEach(function(o){(n.aria&&(o==="role"||Yg(o,FM))||n.data&&Yg(o,NM)||n.attr&&OM.includes(o))&&(r[o]=t[o])}),r}const tv=t=>{const[,,,,e]=Gs();return e?`${t}-css-var`:""};var BM={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},nv=q.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,o=t.className,u=t.duration,c=u===void 0?4.5:u,l=t.showProgress,h=t.pauseOnHover,g=h===void 0?!0:h,b=t.eventKey,S=t.content,E=t.closable,L=t.closeIcon,P=L===void 0?"x":L,O=t.props,$=t.onClick,H=t.onNoticeClose,X=t.times,W=t.hovering,te=q.useState(!1),oe=et(te,2),re=oe[0],he=oe[1],Ae=q.useState(0),J=et(Ae,2),pe=J[0],ae=J[1],Ie=q.useState(0),Fe=et(Ie,2),_e=Fe[0],Xe=Fe[1],se=W||re,ne=c>0&&l,de=function(){H(b)},Te=function(Ke){(Ke.key==="Enter"||Ke.code==="Enter"||Ke.keyCode===BM.ENTER)&&de()};q.useEffect(function(){if(!se&&c>0){var it=Date.now()-_e,Ke=setTimeout(function(){de()},c*1e3-_e);return function(){g&&clearTimeout(Ke),Xe(Date.now()-it)}}},[c,se,X]),q.useEffect(function(){if(!se&&ne&&(g||_e===0)){var it=performance.now(),Ke,yt=function Nt(){cancelAnimationFrame(Ke),Ke=requestAnimationFrame(function(In){var an=In+_e-it,pn=Math.min(an/(c*1e3),1);ae(pn*100),pn<1&&Nt()})};return yt(),function(){g&&cancelAnimationFrame(Ke)}}},[c,_e,se,ne,X]);var ke=q.useMemo(function(){return Ct(E)==="object"&&E!==null?E:E?{closeIcon:P}:{}},[E,P]),Ee=$M(ke,!0),Re=100-(!pe||pe<0?0:pe>100?100:pe),ot="".concat(n,"-notice");return q.createElement("div",or({},O,{ref:e,className:Jr(ot,o,ze({},"".concat(ot,"-closable"),E)),style:r,onMouseEnter:function(Ke){var yt;he(!0),O==null||(yt=O.onMouseEnter)===null||yt===void 0||yt.call(O,Ke)},onMouseLeave:function(Ke){var yt;he(!1),O==null||(yt=O.onMouseLeave)===null||yt===void 0||yt.call(O,Ke)},onClick:$}),q.createElement("div",{className:"".concat(ot,"-content")},S),E&&q.createElement("a",or({tabIndex:0,className:"".concat(ot,"-close"),onKeyDown:Te,"aria-label":"Close"},Ee,{onClick:function(Ke){Ke.preventDefault(),Ke.stopPropagation(),de()}}),ke.closeIcon),ne&&q.createElement("progress",{className:"".concat(ot,"-progress"),max:"100",value:Re},Re+"%"))}),rv=Xt.createContext({}),DM=function(e){var n=e.children,r=e.classNames;return Xt.createElement(rv.Provider,{value:{classNames:r}},n)},Kg=8,Qg=3,qg=16,GM=function(e){var n={offset:Kg,threshold:Qg,gap:qg};if(e&&Ct(e)==="object"){var r,o,u;n.offset=(r=e.offset)!==null&&r!==void 0?r:Kg,n.threshold=(o=e.threshold)!==null&&o!==void 0?o:Qg,n.gap=(u=e.gap)!==null&&u!==void 0?u:qg}return[!!e,n]},UM=["className","style","classNames","styles"],WM=function(e){var n=e.configList,r=e.placement,o=e.prefixCls,u=e.className,c=e.style,l=e.motion,h=e.onAllNoticeRemoved,g=e.onNoticeClose,b=e.stack,S=q.useContext(rv),E=S.classNames,L=q.useRef({}),P=q.useState(null),O=et(P,2),$=O[0],H=O[1],X=q.useState([]),W=et(X,2),te=W[0],oe=W[1],re=n.map(function(se){return{config:se,key:String(se.key)}}),he=GM(b),Ae=et(he,2),J=Ae[0],pe=Ae[1],ae=pe.offset,Ie=pe.threshold,Fe=pe.gap,_e=J&&(te.length>0||re.length<=Ie),Xe=typeof l=="function"?l(r):l;return q.useEffect(function(){J&&te.length>1&&oe(function(se){return se.filter(function(ne){return re.some(function(de){var Te=de.key;return ne===Te})})})},[te,re,J]),q.useEffect(function(){var se;if(J&&L.current[(se=re[re.length-1])===null||se===void 0?void 0:se.key]){var ne;H(L.current[(ne=re[re.length-1])===null||ne===void 0?void 0:ne.key])}},[re,J]),Xt.createElement(QP,or({key:r,className:Jr(o,"".concat(o,"-").concat(r),E==null?void 0:E.list,u,ze(ze({},"".concat(o,"-stack"),!!J),"".concat(o,"-stack-expanded"),_e)),style:c,keys:re,motionAppear:!0},Xe,{onAllRemoved:function(){h(r)}}),function(se,ne){var de=se.config,Te=se.className,ke=se.style,Ee=se.index,Re=de,ot=Re.key,it=Re.times,Ke=String(ot),yt=de,Nt=yt.className,In=yt.style,an=yt.classNames,pn=yt.styles,Un=Vo(yt,UM),Ut=re.findIndex(function(St){return St.key===Ke}),wn={};if(J){var Wt=re.length-1-(Ut>-1?Ut:Ee-1),En=r==="top"||r==="bottom"?"-50%":"0";if(Wt>0){var Zt,jt,Wn;wn.height=_e?(Zt=L.current[Ke])===null||Zt===void 0?void 0:Zt.offsetHeight:$==null?void 0:$.offsetHeight;for(var yr=0,gn=0;gn<Wt;gn++){var at;yr+=((at=L.current[re[re.length-1-gn].key])===null||at===void 0?void 0:at.offsetHeight)+Fe}var _t=(_e?yr:Wt*ae)*(r.startsWith("top")?1:-1),en=!_e&&$!==null&&$!==void 0&&$.offsetWidth&&(jt=L.current[Ke])!==null&&jt!==void 0&&jt.offsetWidth?(($==null?void 0:$.offsetWidth)-ae*2*(Wt<3?Wt:3))/((Wn=L.current[Ke])===null||Wn===void 0?void 0:Wn.offsetWidth):1;wn.transform="translate3d(".concat(En,", ").concat(_t,"px, 0) scaleX(").concat(en,")")}else wn.transform="translate3d(".concat(En,", 0, 0)")}return Xt.createElement("div",{ref:ne,className:Jr("".concat(o,"-notice-wrapper"),Te,an==null?void 0:an.wrapper),style:Be(Be(Be({},ke),wn),pn==null?void 0:pn.wrapper),onMouseEnter:function(){return oe(function(Dt){return Dt.includes(Ke)?Dt:[].concat(mr(Dt),[Ke])})},onMouseLeave:function(){return oe(function(Dt){return Dt.filter(function(vt){return vt!==Ke})})}},Xt.createElement(nv,or({},Un,{ref:function(Dt){Ut>-1?L.current[Ke]=Dt:delete L.current[Ke]},prefixCls:o,classNames:an,styles:pn,className:Jr(Nt,E==null?void 0:E.notice),style:In,times:it,key:ot,eventKey:ot,onNoticeClose:g,hovering:J&&te.length>0})))})},HM=q.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-notification":n,o=t.container,u=t.motion,c=t.maxCount,l=t.className,h=t.style,g=t.onAllRemoved,b=t.stack,S=t.renderNotifications,E=q.useState([]),L=et(E,2),P=L[0],O=L[1],$=function(J){var pe,ae=P.find(function(Ie){return Ie.key===J});ae==null||(pe=ae.onClose)===null||pe===void 0||pe.call(ae),O(function(Ie){return Ie.filter(function(Fe){return Fe.key!==J})})};q.useImperativeHandle(e,function(){return{open:function(J){O(function(pe){var ae=mr(pe),Ie=ae.findIndex(function(Xe){return Xe.key===J.key}),Fe=Be({},J);if(Ie>=0){var _e;Fe.times=(((_e=pe[Ie])===null||_e===void 0?void 0:_e.times)||0)+1,ae[Ie]=Fe}else Fe.times=0,ae.push(Fe);return c>0&&ae.length>c&&(ae=ae.slice(-c)),ae})},close:function(J){$(J)},destroy:function(){O([])}}});var H=q.useState({}),X=et(H,2),W=X[0],te=X[1];q.useEffect(function(){var Ae={};P.forEach(function(J){var pe=J.placement,ae=pe===void 0?"topRight":pe;ae&&(Ae[ae]=Ae[ae]||[],Ae[ae].push(J))}),Object.keys(W).forEach(function(J){Ae[J]=Ae[J]||[]}),te(Ae)},[P]);var oe=function(J){te(function(pe){var ae=Be({},pe),Ie=ae[J]||[];return Ie.length||delete ae[J],ae})},re=q.useRef(!1);if(q.useEffect(function(){Object.keys(W).length>0?re.current=!0:re.current&&(g==null||g(),re.current=!1)},[W]),!o)return null;var he=Object.keys(W);return s2.createPortal(q.createElement(q.Fragment,null,he.map(function(Ae){var J=W[Ae],pe=q.createElement(WM,{key:Ae,configList:J,placement:Ae,prefixCls:r,className:l==null?void 0:l(Ae),style:h==null?void 0:h(Ae),motion:u,onNoticeClose:$,onAllNoticeRemoved:oe,stack:b});return S?S(pe,{prefixCls:r,key:Ae}):pe})),o)}),zM=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],jM=function(){return document.body},Jg=0;function VM(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(o){o&&Object.keys(o).forEach(function(u){var c=o[u];c!==void 0&&(t[u]=c)})}),t}function XM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,n=e===void 0?jM:e,r=t.motion,o=t.prefixCls,u=t.maxCount,c=t.className,l=t.style,h=t.onAllRemoved,g=t.stack,b=t.renderNotifications,S=Vo(t,zM),E=q.useState(),L=et(E,2),P=L[0],O=L[1],$=q.useRef(),H=q.createElement(HM,{container:P,ref:$,prefixCls:o,motion:r,maxCount:u,className:c,style:l,onAllRemoved:h,stack:g,renderNotifications:b}),X=q.useState([]),W=et(X,2),te=W[0],oe=W[1],re=q.useMemo(function(){return{open:function(Ae){var J=VM(S,Ae);(J.key===null||J.key===void 0)&&(J.key="rc-notification-".concat(Jg),Jg+=1),oe(function(pe){return[].concat(mr(pe),[{type:"open",config:J}])})},close:function(Ae){oe(function(J){return[].concat(mr(J),[{type:"close",key:Ae}])})},destroy:function(){oe(function(Ae){return[].concat(mr(Ae),[{type:"destroy"}])})}}},[]);return q.useEffect(function(){O(n())}),q.useEffect(function(){if($.current&&te.length){te.forEach(function(J){switch(J.type){case"open":$.current.open(J.config);break;case"close":$.current.close(J.key);break;case"destroy":$.current.destroy();break}});var he,Ae;oe(function(J){return(he!==J||!Ae)&&(he=J,Ae=J.filter(function(pe){return!te.includes(pe)})),Ae})}},[te]),[re,H]}var YM={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},KM=function(e,n){return q.createElement(Xi,or({},e,{ref:n,icon:YM}))},QM=q.forwardRef(KM);const qM=Xt.createContext(void 0),vo=100,JM=10,ZM=vo*JM,iv={Modal:vo,Drawer:vo,Popover:vo,Popconfirm:vo,Tooltip:vo,Tour:vo,FloatButton:vo},eI={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function tI(t){return t in iv}const OR=(t,e)=>{const[,n]=Gs(),r=Xt.useContext(qM),o=tI(t);let u;if(e!==void 0)u=[e,e];else{let c=r??0;o?c+=(r?0:n.zIndexPopupBase)+iv[t]:c+=eI[t],u=[r===void 0?e:c,c]}return u},nI=t=>{const{componentCls:e,iconCls:n,boxShadow:r,colorText:o,colorSuccess:u,colorError:c,colorWarning:l,colorInfo:h,fontSizeLG:g,motionEaseInOutCirc:b,motionDurationSlow:S,marginXS:E,paddingXS:L,borderRadiusLG:P,zIndexPopup:O,contentPadding:$,contentBg:H}=t,X=`${e}-notice`,W=new Ag("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:L,transform:"translateY(0)",opacity:1}}),te=new Ag("MessageMoveOut",{"0%":{maxHeight:t.height,padding:L,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),oe={padding:L,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${n}`]:{marginInlineEnd:E,fontSize:g},[`${X}-content`]:{display:"inline-block",padding:$,background:H,borderRadius:P,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${n}`]:{color:u},[`${e}-error > ${n}`]:{color:c},[`${e}-warning > ${n}`]:{color:l},[`${e}-info > ${n},
      ${e}-loading > ${n}`]:{color:h}};return[{[e]:Object.assign(Object.assign({},yP(t)),{color:o,position:"fixed",top:E,width:"100%",pointerEvents:"none",zIndex:O,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:W,animationDuration:S,animationPlayState:"paused",animationTimingFunction:b},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:te,animationDuration:S,animationPlayState:"paused",animationTimingFunction:b},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${X}-wrapper`]:Object.assign({},oe)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},oe),{padding:0,textAlign:"start"})}]},rI=t=>({zIndexPopup:t.zIndexPopupBase+ZM+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),ov=xP("Message",t=>{const e=th(t,{height:150});return[nI(e)]},rI);var iI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const oI={info:q.createElement(IM,null),success:q.createElement(wM,null),error:q.createElement(xM,null),warning:q.createElement(LM,null),loading:q.createElement(QM,null)},av=t=>{let{prefixCls:e,type:n,icon:r,children:o}=t;return q.createElement("div",{className:Jr(`${e}-custom-content`,`${e}-${n}`)},r||oI[n],q.createElement("span",null,o))},aI=t=>{const{prefixCls:e,className:n,type:r,icon:o,content:u}=t,c=iI(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=q.useContext(gi),h=e||l("message"),g=tv(h),[b,S,E]=ov(h,g);return b(q.createElement(nv,Object.assign({},c,{prefixCls:h,className:Jr(n,S,`${h}-notice-pure-panel`,E,g),eventKey:"pure",duration:null,content:q.createElement(av,{prefixCls:h,type:r,icon:o},u)})))};function sI(t,e){return{motionName:e??`${t}-move-up`}}function rh(t){let e;const n=new Promise(o=>{e=t(()=>{o(!0)})}),r=()=>{e==null||e()};return r.then=(o,u)=>n.then(o,u),r.promise=n,r}var uI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const cI=8,lI=3,fI=t=>{let{children:e,prefixCls:n}=t;const r=tv(n),[o,u,c]=ov(n,r);return o(q.createElement(DM,{classNames:{list:Jr(u,c,r)}},e))},dI=(t,e)=>{let{prefixCls:n,key:r}=e;return q.createElement(fI,{prefixCls:n,key:r},t)},hI=q.forwardRef((t,e)=>{const{top:n,prefixCls:r,getContainer:o,maxCount:u,duration:c=lI,rtl:l,transitionName:h,onAllRemoved:g}=t,{getPrefixCls:b,getPopupContainer:S,message:E,direction:L}=q.useContext(gi),P=r||b("message"),O=()=>({left:"50%",transform:"translateX(-50%)",top:n??cI}),$=()=>Jr({[`${P}-rtl`]:l??L==="rtl"}),H=()=>sI(P,h),X=q.createElement("span",{className:`${P}-close-x`},q.createElement(CM,{className:`${P}-close-icon`})),[W,te]=XM({prefixCls:P,style:O,className:$,motion:H,closable:!1,closeIcon:X,duration:c,getContainer:()=>(o==null?void 0:o())||(S==null?void 0:S())||document.body,maxCount:u,onAllRemoved:g,renderNotifications:dI});return q.useImperativeHandle(e,()=>Object.assign(Object.assign({},W),{prefixCls:P,message:E})),te});let Zg=0;function sv(t){const e=q.useRef(null);return E0(),[q.useMemo(()=>{const r=h=>{var g;(g=e.current)===null||g===void 0||g.close(h)},o=h=>{if(!e.current){const re=()=>{};return re.then=()=>{},re}const{open:g,prefixCls:b,message:S}=e.current,E=`${b}-notice`,{content:L,icon:P,type:O,key:$,className:H,style:X,onClose:W}=h,te=uI(h,["content","icon","type","key","className","style","onClose"]);let oe=$;return oe==null&&(Zg+=1,oe=`antd-message-${Zg}`),rh(re=>(g(Object.assign(Object.assign({},te),{key:oe,content:q.createElement(av,{prefixCls:b,type:O,icon:P},L),placement:"top",className:Jr(O&&`${E}-${O}`,H,S==null?void 0:S.className),style:Object.assign(Object.assign({},S==null?void 0:S.style),X),onClose:()=>{W==null||W(),re()}})),()=>{r(oe)}))},c={open:o,destroy:h=>{var g;h!==void 0?r(h):(g=e.current)===null||g===void 0||g.destroy()}};return["info","success","warning","error","loading"].forEach(h=>{const g=(b,S,E)=>{let L;b&&typeof b=="object"&&"content"in b?L=b:L={content:b};let P,O;typeof S=="function"?O=S:(P=S,O=E);const $=Object.assign(Object.assign({onClose:O,duration:P},L),{type:h});return o($)};c[h]=g}),c},[]),q.createElement(hI,Object.assign({key:"message-holder"},t,{ref:e}))]}function pI(t){return sv(t)}function Ls(){Ls=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(se,ne,de){se[ne]=de.value},u=typeof Symbol=="function"?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function g(se,ne,de){return Object.defineProperty(se,ne,{value:de,enumerable:!0,configurable:!0,writable:!0}),se[ne]}try{g({},"")}catch{g=function(de,Te,ke){return de[Te]=ke}}function b(se,ne,de,Te){var ke=ne&&ne.prototype instanceof H?ne:H,Ee=Object.create(ke.prototype),Re=new _e(Te||[]);return o(Ee,"_invoke",{value:pe(se,de,Re)}),Ee}function S(se,ne,de){try{return{type:"normal",arg:se.call(ne,de)}}catch(Te){return{type:"throw",arg:Te}}}e.wrap=b;var E="suspendedStart",L="suspendedYield",P="executing",O="completed",$={};function H(){}function X(){}function W(){}var te={};g(te,c,function(){return this});var oe=Object.getPrototypeOf,re=oe&&oe(oe(Xe([])));re&&re!==n&&r.call(re,c)&&(te=re);var he=W.prototype=H.prototype=Object.create(te);function Ae(se){["next","throw","return"].forEach(function(ne){g(se,ne,function(de){return this._invoke(ne,de)})})}function J(se,ne){function de(ke,Ee,Re,ot){var it=S(se[ke],se,Ee);if(it.type!=="throw"){var Ke=it.arg,yt=Ke.value;return yt&&Ct(yt)=="object"&&r.call(yt,"__await")?ne.resolve(yt.__await).then(function(Nt){de("next",Nt,Re,ot)},function(Nt){de("throw",Nt,Re,ot)}):ne.resolve(yt).then(function(Nt){Ke.value=Nt,Re(Ke)},function(Nt){return de("throw",Nt,Re,ot)})}ot(it.arg)}var Te;o(this,"_invoke",{value:function(Ee,Re){function ot(){return new ne(function(it,Ke){de(Ee,Re,it,Ke)})}return Te=Te?Te.then(ot,ot):ot()}})}function pe(se,ne,de){var Te=E;return function(ke,Ee){if(Te===P)throw Error("Generator is already running");if(Te===O){if(ke==="throw")throw Ee;return{value:t,done:!0}}for(de.method=ke,de.arg=Ee;;){var Re=de.delegate;if(Re){var ot=ae(Re,de);if(ot){if(ot===$)continue;return ot}}if(de.method==="next")de.sent=de._sent=de.arg;else if(de.method==="throw"){if(Te===E)throw Te=O,de.arg;de.dispatchException(de.arg)}else de.method==="return"&&de.abrupt("return",de.arg);Te=P;var it=S(se,ne,de);if(it.type==="normal"){if(Te=de.done?O:L,it.arg===$)continue;return{value:it.arg,done:de.done}}it.type==="throw"&&(Te=O,de.method="throw",de.arg=it.arg)}}}function ae(se,ne){var de=ne.method,Te=se.iterator[de];if(Te===t)return ne.delegate=null,de==="throw"&&se.iterator.return&&(ne.method="return",ne.arg=t,ae(se,ne),ne.method==="throw")||de!=="return"&&(ne.method="throw",ne.arg=new TypeError("The iterator does not provide a '"+de+"' method")),$;var ke=S(Te,se.iterator,ne.arg);if(ke.type==="throw")return ne.method="throw",ne.arg=ke.arg,ne.delegate=null,$;var Ee=ke.arg;return Ee?Ee.done?(ne[se.resultName]=Ee.value,ne.next=se.nextLoc,ne.method!=="return"&&(ne.method="next",ne.arg=t),ne.delegate=null,$):Ee:(ne.method="throw",ne.arg=new TypeError("iterator result is not an object"),ne.delegate=null,$)}function Ie(se){var ne={tryLoc:se[0]};1 in se&&(ne.catchLoc=se[1]),2 in se&&(ne.finallyLoc=se[2],ne.afterLoc=se[3]),this.tryEntries.push(ne)}function Fe(se){var ne=se.completion||{};ne.type="normal",delete ne.arg,se.completion=ne}function _e(se){this.tryEntries=[{tryLoc:"root"}],se.forEach(Ie,this),this.reset(!0)}function Xe(se){if(se||se===""){var ne=se[c];if(ne)return ne.call(se);if(typeof se.next=="function")return se;if(!isNaN(se.length)){var de=-1,Te=function ke(){for(;++de<se.length;)if(r.call(se,de))return ke.value=se[de],ke.done=!1,ke;return ke.value=t,ke.done=!0,ke};return Te.next=Te}}throw new TypeError(Ct(se)+" is not iterable")}return X.prototype=W,o(he,"constructor",{value:W,configurable:!0}),o(W,"constructor",{value:X,configurable:!0}),X.displayName=g(W,h,"GeneratorFunction"),e.isGeneratorFunction=function(se){var ne=typeof se=="function"&&se.constructor;return!!ne&&(ne===X||(ne.displayName||ne.name)==="GeneratorFunction")},e.mark=function(se){return Object.setPrototypeOf?Object.setPrototypeOf(se,W):(se.__proto__=W,g(se,h,"GeneratorFunction")),se.prototype=Object.create(he),se},e.awrap=function(se){return{__await:se}},Ae(J.prototype),g(J.prototype,l,function(){return this}),e.AsyncIterator=J,e.async=function(se,ne,de,Te,ke){ke===void 0&&(ke=Promise);var Ee=new J(b(se,ne,de,Te),ke);return e.isGeneratorFunction(ne)?Ee:Ee.next().then(function(Re){return Re.done?Re.value:Ee.next()})},Ae(he),g(he,h,"Generator"),g(he,c,function(){return this}),g(he,"toString",function(){return"[object Generator]"}),e.keys=function(se){var ne=Object(se),de=[];for(var Te in ne)de.push(Te);return de.reverse(),function ke(){for(;de.length;){var Ee=de.pop();if(Ee in ne)return ke.value=Ee,ke.done=!1,ke}return ke.done=!0,ke}},e.values=Xe,_e.prototype={constructor:_e,reset:function(ne){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(Fe),!ne)for(var de in this)de.charAt(0)==="t"&&r.call(this,de)&&!isNaN(+de.slice(1))&&(this[de]=t)},stop:function(){this.done=!0;var ne=this.tryEntries[0].completion;if(ne.type==="throw")throw ne.arg;return this.rval},dispatchException:function(ne){if(this.done)throw ne;var de=this;function Te(Ke,yt){return Re.type="throw",Re.arg=ne,de.next=Ke,yt&&(de.method="next",de.arg=t),!!yt}for(var ke=this.tryEntries.length-1;ke>=0;--ke){var Ee=this.tryEntries[ke],Re=Ee.completion;if(Ee.tryLoc==="root")return Te("end");if(Ee.tryLoc<=this.prev){var ot=r.call(Ee,"catchLoc"),it=r.call(Ee,"finallyLoc");if(ot&&it){if(this.prev<Ee.catchLoc)return Te(Ee.catchLoc,!0);if(this.prev<Ee.finallyLoc)return Te(Ee.finallyLoc)}else if(ot){if(this.prev<Ee.catchLoc)return Te(Ee.catchLoc,!0)}else{if(!it)throw Error("try statement without catch or finally");if(this.prev<Ee.finallyLoc)return Te(Ee.finallyLoc)}}}},abrupt:function(ne,de){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ke=this.tryEntries[Te];if(ke.tryLoc<=this.prev&&r.call(ke,"finallyLoc")&&this.prev<ke.finallyLoc){var Ee=ke;break}}Ee&&(ne==="break"||ne==="continue")&&Ee.tryLoc<=de&&de<=Ee.finallyLoc&&(Ee=null);var Re=Ee?Ee.completion:{};return Re.type=ne,Re.arg=de,Ee?(this.method="next",this.next=Ee.finallyLoc,$):this.complete(Re)},complete:function(ne,de){if(ne.type==="throw")throw ne.arg;return ne.type==="break"||ne.type==="continue"?this.next=ne.arg:ne.type==="return"?(this.rval=this.arg=ne.arg,this.method="return",this.next="end"):ne.type==="normal"&&de&&(this.next=de),$},finish:function(ne){for(var de=this.tryEntries.length-1;de>=0;--de){var Te=this.tryEntries[de];if(Te.finallyLoc===ne)return this.complete(Te.completion,Te.afterLoc),Fe(Te),$}},catch:function(ne){for(var de=this.tryEntries.length-1;de>=0;--de){var Te=this.tryEntries[de];if(Te.tryLoc===ne){var ke=Te.completion;if(ke.type==="throw"){var Ee=ke.arg;Fe(Te)}return Ee}}throw Error("illegal catch attempt")},delegateYield:function(ne,de,Te){return this.delegate={iterator:Xe(ne),resultName:de,nextLoc:Te},this.method==="next"&&(this.arg=t),$}},e}function em(t,e,n,r,o,u,c){try{var l=t[u](c),h=l.value}catch(g){return void n(g)}l.done?e(h):Promise.resolve(h).then(r,o)}function uv(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var u=t.apply(e,n);function c(h){em(u,r,o,c,l,"next",h)}function l(h){em(u,r,o,c,l,"throw",h)}c(void 0)})}}var Us=Be({},u2),gI=Us.version,bf=Us.render,mI=Us.unmountComponentAtNode,jc;try{var yI=Number((gI||"").split(".")[0]);yI>=18&&(jc=Us.createRoot)}catch{}function tm(t){var e=Us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Ct(e)==="object"&&(e.usingClientEntryPoint=t)}var lc="__rc_react_root__";function vI(t,e){tm(!0);var n=e[lc]||jc(e);tm(!1),n.render(t),e[lc]=n}function wI(t,e){bf==null||bf(t,e)}function bI(t,e){if(jc){vI(t,e);return}wI(t,e)}function SI(t){return fd.apply(this,arguments)}function fd(){return fd=uv(Ls().mark(function t(e){return Ls().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var o;(o=e[lc])===null||o===void 0||o.unmount(),delete e[lc]}));case 1:case"end":return r.stop()}},t)})),fd.apply(this,arguments)}function xI(t){mI(t)}function EI(t){return dd.apply(this,arguments)}function dd(){return dd=uv(Ls().mark(function t(e){return Ls().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(jc===void 0){r.next=2;break}return r.abrupt("return",SI(e));case 2:xI(e);case 3:case"end":return r.stop()}},t)})),dd.apply(this,arguments)}const AI=(t,e)=>(bI(t,e),()=>EI(e));let CI=AI;function _I(){return CI}const TI=Xt.createContext({});let Fr=null,Do=t=>t(),Ps=[],Ms={};function nm(){const{getContainer:t,duration:e,rtl:n,maxCount:r,top:o}=Ms,u=(t==null?void 0:t())||document.body;return{getContainer:()=>u,duration:e,rtl:n,maxCount:r,top:o}}const LI=Xt.forwardRef((t,e)=>{const{messageConfig:n,sync:r}=t,{getPrefixCls:o}=q.useContext(gi),u=Ms.prefixCls||o("message"),c=q.useContext(TI),[l,h]=sv(Object.assign(Object.assign(Object.assign({},n),{prefixCls:u}),c.message));return Xt.useImperativeHandle(e,()=>{const g=Object.assign({},l);return Object.keys(g).forEach(b=>{g[b]=function(){return r(),l[b].apply(l,arguments)}}),{instance:g,sync:r}}),h}),PI=Xt.forwardRef((t,e)=>{const[n,r]=Xt.useState(nm),o=()=>{r(nm)};Xt.useEffect(o,[]);const u=iM(),c=u.getRootPrefixCls(),l=u.getIconPrefixCls(),h=u.getTheme(),g=Xt.createElement(LI,{ref:e,sync:o,messageConfig:n});return Xt.createElement(Pa,{prefixCls:c,iconPrefixCls:l,theme:h},u.holderRender?u.holderRender(g):g)});function Vc(){if(!Fr){const t=document.createDocumentFragment(),e={fragment:t};Fr=e,Do(()=>{_I()(Xt.createElement(PI,{ref:r=>{const{instance:o,sync:u}=r||{};Promise.resolve().then(()=>{!e.instance&&o&&(e.instance=o,e.sync=u,Vc())})}}),t)});return}Fr.instance&&(Ps.forEach(t=>{const{type:e,skipped:n}=t;if(!n)switch(e){case"open":{Do(()=>{const r=Fr.instance.open(Object.assign(Object.assign({},Ms),t.config));r==null||r.then(t.resolve),t.setCloseFn(r)});break}case"destroy":Do(()=>{Fr==null||Fr.instance.destroy(t.key)});break;default:Do(()=>{var r;const o=(r=Fr.instance)[e].apply(r,mr(t.args));o==null||o.then(t.resolve),t.setCloseFn(o)})}}),Ps=[])}function MI(t){Ms=Object.assign(Object.assign({},Ms),t),Do(()=>{var e;(e=Fr==null?void 0:Fr.sync)===null||e===void 0||e.call(Fr)})}function II(t){const e=rh(n=>{let r;const o={type:"open",config:t,resolve:n,setCloseFn:u=>{r=u}};return Ps.push(o),()=>{r?Do(()=>{r()}):o.skipped=!0}});return Vc(),e}function kI(t,e){const n=rh(r=>{let o;const u={type:t,args:e,resolve:r,setCloseFn:c=>{o=c}};return Ps.push(u),()=>{o?Do(()=>{o()}):u.skipped=!0}});return Vc(),n}const RI=t=>{Ps.push({type:"destroy",key:t}),Vc()},OI=["success","info","warning","error","loading"],FI={open:II,destroy:RI,config:MI,useMessage:pI,_InternalPanelDoNotUseOrYouWillBeFired:aI},NI=FI;OI.forEach(t=>{NI[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return kI(t,n)}});export{mr as $,mk as A,_c as B,vk as C,Vm as D,xP as E,yP as F,$f as G,LR as H,Jr as I,$M as J,HP as K,Pe as L,lT as M,xM as N,IM as O,Gd as P,wM as Q,LM as R,wm as S,CM as T,dT as U,ac as V,Ky as W,Bc as X,yi as Y,mi as Z,GI as _,um as a,$r as a$,Ag as a0,id as a1,xR as a2,Be as a3,Ct as a4,or as a5,et as a6,mT as a7,BM as a8,Vi as a9,W2 as aA,on as aB,jI as aC,A2 as aD,wc as aE,B2 as aF,am as aG,ti as aH,XI as aI,Ca as aJ,Mn as aK,rk as aL,SR as aM,NI as aN,U_ as aO,K2 as aP,hn as aQ,b2 as aR,bR as aS,W_ as aT,Bk as aU,KI as aV,QM as aW,Ns as aX,Fs as aY,G_ as aZ,GE as a_,th as aa,gi as ab,rd as ac,CR as ad,JL as ae,IR as af,tv as ag,OR as ah,qM as ai,RR as aj,MR as ak,Pa as al,Gs as am,ZM as an,iM as ao,_I as ap,Hc as aq,Xi as ar,Vo as as,Bs as at,ze as au,u0 as av,Xk as aw,vm as ax,bc as ay,gd as az,Ok as b,Ck as b$,q2 as b0,Md as b1,__ as b2,R2 as b3,kf as b4,fT as b5,Yy as b6,jd as b7,ST as b8,Dc as b9,VI as bA,zI as bB,fE as bC,Lk as bD,im as bE,CA as bF,rf as bG,nd as bH,UI as bI,qE as bJ,cA as bK,lA as bL,Zk as bM,dA as bN,eR as bO,Fk as bP,Nk as bQ,EE as bR,mA as bS,Wk as bT,Pk as bU,vc as bV,yc as bW,Y2 as bX,xs as bY,zo as bZ,yd as b_,ER as ba,SP as bb,PR as bc,dn as bd,vP as be,E0 as bf,nk as bg,Gi as bh,Kk as bi,zm as bj,zi as bk,ry as bl,jm as bm,sA as bn,bd as bo,uA as bp,Ek as bq,Jt as br,uE as bs,cE as bt,lE as bu,xo as bv,SE as bw,YI as bx,Sc as by,E2 as bz,pk as c,ik as c$,V2 as c0,_k as c1,Mm as c2,Om as c3,oc as c4,D_ as c5,X2 as c6,Ak as c7,f2 as c8,Uy as c9,Gn as cA,Os as cB,tR as cC,$k as cD,pR as cE,n_ as cF,gR as cG,Xp as cH,QI as cI,jp as cJ,qI as cK,ZI as cL,Sf as cM,Hm as cN,Uk as cO,iR as cP,ay as cQ,jo as cR,Dk as cS,hm as cT,Sk as cU,I2 as cV,Pm as cW,M2 as cX,pA as cY,ty as cZ,ok as c_,L_ as ca,jk as cb,Ad as cc,YE as cd,qk as ce,XE as cf,Vk as cg,HI as ch,Cm as ci,_m as cj,Gk as ck,sk as cl,uk as cm,ck as cn,lk as co,bk as cp,Qk as cq,eT as cr,bL as cs,C0 as ct,kR as cu,td as cv,UL as cw,Uu as cx,_R as cy,AR as cz,pd as d,vR as d$,G2 as d0,k2 as d1,aA as d2,Sd as d3,qp as d4,rR as d5,Jk as d6,Hk as d7,D2 as d8,bm as d9,Wm as dA,Mk as dB,Rk as dC,iy as dD,hR as dE,yE as dF,kk as dG,J_ as dH,aT as dI,Ts as dJ,Wo as dK,o0 as dL,Mf as dM,Uo as dN,uv as dO,Ls as dP,EL as dQ,Uf as dR,hf as dS,Xy as dT,lg as dU,uM as dV,wR as dW,hk as dX,Yp as dY,JI as dZ,yR as d_,Sm as da,H2 as db,cR as dc,lR as dd,of as de,qC as df,xA as dg,dR as dh,Bm as di,fR as dj,Ed as dk,N2 as dl,Kn as dm,hc as dn,Im as dp,vd as dq,mc as dr,Pd as ds,dk as dt,nR as du,Ik as dv,SA as dw,mR as dx,aR as dy,uR as dz,Lm as e,xk as e0,zk as e1,wA as e2,sR as e3,ak as e4,Yk as e5,X_ as e6,Tk as e7,wE as e8,wk as e9,AE as ea,gc as eb,x2 as ec,V_ as ed,WI as ee,Cd as ef,gk as f,om as g,rm as h,Tm as i,DI as j,CE as k,Ye as l,md as m,ek as n,tf as o,ir as p,va as q,U2 as r,Am as s,tk as t,fk as u,wd as v,oR as w,ym as x,yk as y,gm as z};
